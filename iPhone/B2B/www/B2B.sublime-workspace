{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"get",
				"getStringHTMLFromValues"
			],
			[
				"ur",
				"url(image-url.gif)"
			],
			[
				"padding",
				"padding-left"
			],
			[
				"margin",
				"margin-top"
			],
			[
				"act",
				"activityStreams"
			],
			[
				"myl",
				"myLastDrinkInPanel"
			],
			[
				"json",
				"jsonData"
			],
			[
				"jso",
				"jsonData"
			],
			[
				"getIma",
				"getImage1URL"
			],
			[
				"ti",
				"title"
			],
			[
				"aci",
				"activityStreams"
			],
			[
				"searchinfo",
				"searchinfobar"
			],
			[
				"sea",
				"searchinfoBar"
			],
			[
				"sele",
				"selectBeerNationality"
			],
			[
				"selec",
				"selectBeerGrad"
			],
			[
				"bac",
				"background-repeat"
			],
			[
				"margi",
				"margin-top"
			],
			[
				"confir",
				"confirmation"
			],
			[
				"action",
				"actions"
			],
			[
				"matche",
				"matched"
			],
			[
				"ma",
				"matched"
			],
			[
				"match",
				"matchedhistory"
			],
			[
				"o",
				"onListItemTap"
			],
			[
				"container",
				"profile_container"
			],
			[
				"geo",
				"geoStore"
			],
			[
				"Notifi",
				"Notifications_Ajax"
			],
			[
				"Friend",
				"Friends_Local"
			],
			[
				"store",
				"store_local"
			],
			[
				"On",
				"onItemDisclosure"
			],
			[
				"on",
				"onBackFriendDetail"
			],
			[
				"Sync",
				"SyncBeer"
			],
			[
				"che",
				"CheckWhatsNew"
			],
			[
				"Notif",
				"Notifications_Ajax"
			],
			[
				"Beers",
				"Beers_Ajax"
			],
			[
				"fi",
				"firstName"
			],
			[
				"data",
				"dataJSON"
			],
			[
				"notifica",
				"notificationContainer"
			],
			[
				"coun",
				"counter_badges"
			],
			[
				"V",
				"View_Terms"
			],
			[
				"User",
				"User_Container"
			],
			[
				"las",
				"lastLoginOn"
			],
			[
				"to",
				"toUpperCase"
			],
			[
				"acti",
				"activityStream"
			],
			[
				"actvit",
				"Activity"
			],
			[
				"frie",
				"Friends"
			],
			[
				"CONT",
				"CONST_String"
			],
			[
				"P",
				"PANEL_PREFERENCES"
			],
			[
				"DA",
				"PANEL_DASHBOARD"
			],
			[
				"language",
				"language_string"
			],
			[
				"langua",
				"language_string"
			],
			[
				"addFriend",
				"addFriendButton"
			],
			[
				"N",
				"NOTIFICATION_OK"
			],
			[
				"STAT",
				"STATUS_OK"
			],
			[
				"if",
				"ifelse	if … else …"
			],
			[
				"profile",
				"User"
			]
		]
	},
	"buffers":
	[
		{
			"file": "sdk/microloader/development.js",
			"settings":
			{
				"buffer_size": 2688,
				"line_ending": "Windows"
			}
		},
		{
			"file": "resources/sass/app.scss",
			"settings":
			{
				"buffer_size": 38807,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/view/Activity.js",
			"settings":
			{
				"buffer_size": 995,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/view/Activity_List.js",
			"settings":
			{
				"buffer_size": 1878,
				"line_ending": "Windows"
			}
		},
		{
			"file": "sdk/resources/css-debug/sencha-touch.css",
			"settings":
			{
				"buffer_size": 445687,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "/*\nCopyright(c) 2012 Company Name\n*/\n/**\n * @private\n */\nExt.define('Ext.event.ListenerStack', {\n\n    currentOrder: 'current',\n\n    length: 0,\n\n    constructor: function() {\n        this.listeners = {\n            before: [],\n            current: [],\n            after: []\n        };\n\n        this.lateBindingMap = {};\n\n        return this;\n    },\n\n    add: function(fn, scope, options, order) {\n        var lateBindingMap = this.lateBindingMap,\n            listeners = this.getAll(order),\n            i = listeners.length,\n            bindingMap, listener, id;\n\n        if (typeof fn == 'string' && scope.isIdentifiable) {\n            id = scope.getId();\n\n            bindingMap = lateBindingMap[id];\n\n            if (bindingMap) {\n                if (bindingMap[fn]) {\n                    return false;\n                }\n                else {\n                    bindingMap[fn] = true;\n                }\n            }\n            else {\n                lateBindingMap[id] = bindingMap = {};\n                bindingMap[fn] = true;\n            }\n        }\n        else {\n            if (i > 0) {\n                while (i--) {\n                    listener = listeners[i];\n\n                    if (listener.fn === fn && listener.scope === scope) {\n                        listener.options = options;\n                        return false;\n                    }\n                }\n            }\n        }\n\n        listener = this.create(fn, scope, options, order);\n\n        if (options && options.prepend) {\n            delete options.prepend;\n            listeners.unshift(listener);\n        }\n        else {\n            listeners.push(listener);\n        }\n\n        this.length++;\n\n        return true;\n    },\n\n    getAt: function(index, order) {\n        return this.getAll(order)[index];\n    },\n\n    getAll: function(order) {\n        if (!order) {\n            order = this.currentOrder;\n        }\n\n        return this.listeners[order];\n    },\n\n    count: function(order) {\n        return this.getAll(order).length;\n    },\n\n    create: function(fn, scope, options, order) {\n        return {\n            stack: this,\n            fn: fn,\n            firingFn: false,\n            boundFn: false,\n            isLateBinding: typeof fn == 'string',\n            scope: scope,\n            options: options || {},\n            order: order\n        };\n    },\n\n    remove: function(fn, scope, order) {\n        var listeners = this.getAll(order),\n            i = listeners.length,\n            isRemoved = false,\n            lateBindingMap = this.lateBindingMap,\n            listener, id;\n\n        if (i > 0) {\n            // Start from the end index, faster than looping from the\n            // beginning for \"single\" listeners,\n            // which are normally LIFO\n            while (i--) {\n                listener = listeners[i];\n\n                if (listener.fn === fn && listener.scope === scope) {\n                    listeners.splice(i, 1);\n                    isRemoved = true;\n                    this.length--;\n\n                    if (typeof fn == 'string' && scope.isIdentifiable) {\n                        id = scope.getId();\n\n                        if (lateBindingMap[id] && lateBindingMap[id][fn]) {\n                            delete lateBindingMap[id][fn];\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n\n        return isRemoved;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.Controller', {\n\n    isFiring: false,\n\n    listenerStack: null,\n\n    constructor: function(info) {\n        this.firingListeners = [];\n        this.firingArguments = [];\n\n        this.setInfo(info);\n\n        return this;\n    },\n\n    setInfo: function(info) {\n        this.info = info;\n    },\n\n    getInfo: function() {\n        return this.info;\n    },\n\n    setListenerStacks: function(listenerStacks) {\n        this.listenerStacks = listenerStacks;\n    },\n\n    fire: function(args, action) {\n        var listenerStacks = this.listenerStacks,\n            firingListeners = this.firingListeners,\n            firingArguments = this.firingArguments,\n            push = firingListeners.push,\n            ln = listenerStacks.length,\n            listeners, beforeListeners, currentListeners, afterListeners,\n            isActionBefore = false,\n            isActionAfter = false,\n            i;\n\n        firingListeners.length = 0;\n\n        if (action) {\n            if (action.order !== 'after') {\n                isActionBefore = true;\n            }\n            else {\n                isActionAfter = true;\n            }\n        }\n\n        if (ln === 1) {\n            listeners = listenerStacks[0].listeners;\n            beforeListeners = listeners.before;\n            currentListeners = listeners.current;\n            afterListeners = listeners.after;\n\n            if (beforeListeners.length > 0) {\n                push.apply(firingListeners, beforeListeners);\n            }\n\n            if (isActionBefore) {\n                push.call(firingListeners, action);\n            }\n\n            if (currentListeners.length > 0) {\n                push.apply(firingListeners, currentListeners);\n            }\n\n            if (isActionAfter) {\n                push.call(firingListeners, action);\n            }\n\n            if (afterListeners.length > 0) {\n                push.apply(firingListeners, afterListeners);\n            }\n        }\n        else {\n            for (i = 0; i < ln; i++) {\n                beforeListeners = listenerStacks[i].listeners.before;\n                if (beforeListeners.length > 0) {\n                    push.apply(firingListeners, beforeListeners);\n                }\n            }\n\n            if (isActionBefore) {\n                push.call(firingListeners, action);\n            }\n\n            for (i = 0; i < ln; i++) {\n                currentListeners = listenerStacks[i].listeners.current;\n                if (currentListeners.length > 0) {\n                    push.apply(firingListeners, currentListeners);\n                }\n            }\n\n            if (isActionAfter) {\n                push.call(firingListeners, action);\n            }\n\n            for (i = 0; i < ln; i++) {\n                afterListeners = listenerStacks[i].listeners.after;\n                if (afterListeners.length > 0) {\n                    push.apply(firingListeners, afterListeners);\n                }\n            }\n        }\n\n        if (firingListeners.length === 0) {\n            return this;\n        }\n\n        if (!args) {\n            args = [];\n        }\n\n        firingArguments.length = 0;\n        firingArguments.push.apply(firingArguments, args);\n\n        // Backwards compatibility\n        firingArguments.push(null, this);\n\n        this.doFire();\n\n        return this;\n    },\n\n    doFire: function() {\n        var firingListeners = this.firingListeners,\n            firingArguments = this.firingArguments,\n            optionsArgumentIndex = firingArguments.length - 2,\n            i, ln, listener, options, fn, firingFn,\n            boundFn, isLateBinding, scope, args, result;\n\n        this.isPausing = false;\n        this.isPaused = false;\n        this.isStopped = false;\n        this.isFiring = true;\n\n        for (i = 0,ln = firingListeners.length; i < ln; i++) {\n            listener = firingListeners[i];\n            options = listener.options;\n            fn = listener.fn;\n            firingFn = listener.firingFn;\n            boundFn = listener.boundFn;\n            isLateBinding = listener.isLateBinding;\n            scope = listener.scope;\n\n            // Re-bind the callback if it has changed since the last time it's bound (overridden)\n            if (isLateBinding && boundFn && boundFn !== scope[fn]) {\n                boundFn = false;\n                firingFn = false;\n            }\n\n            if (!boundFn) {\n                if (isLateBinding) {\n                    boundFn = scope[fn];\n\n                    if (!boundFn) {\n                        continue;\n                    }\n                }\n                else {\n                    boundFn = fn;\n                }\n\n                listener.boundFn = boundFn;\n            }\n\n            if (!firingFn) {\n                firingFn = boundFn;\n\n                if (options.buffer) {\n                    firingFn = Ext.Function.createBuffered(firingFn, options.buffer, scope);\n                }\n\n                if (options.delay) {\n                    firingFn = Ext.Function.createDelayed(firingFn, options.delay, scope);\n                }\n\n                listener.firingFn = firingFn;\n            }\n\n            firingArguments[optionsArgumentIndex] = options;\n\n            args = firingArguments;\n\n            if (options.args) {\n                args = options.args.concat(args);\n            }\n\n            if (options.single === true) {\n                listener.stack.remove(fn, scope, listener.order);\n            }\n\n            result = firingFn.apply(scope, args);\n\n            if (result === false) {\n                this.stop();\n            }\n\n            if (this.isStopped) {\n                break;\n            }\n\n            if (this.isPausing) {\n                this.isPaused = true;\n                firingListeners.splice(0, i + 1);\n                return;\n            }\n        }\n\n        this.isFiring = false;\n        this.listenerStacks = null;\n        firingListeners.length = 0;\n        firingArguments.length = 0;\n        this.connectingController = null;\n    },\n\n    connect: function(controller) {\n        this.connectingController = controller;\n    },\n\n    resume: function() {\n        var connectingController = this.connectingController;\n\n        this.isPausing = false;\n\n        if (this.isPaused && this.firingListeners.length > 0) {\n            this.isPaused = false;\n            this.doFire();\n        }\n\n        if (connectingController) {\n            connectingController.resume();\n        }\n\n        return this;\n    },\n\n    isInterrupted: function() {\n        return this.isStopped || this.isPaused;\n    },\n\n    stop: function() {\n        var connectingController = this.connectingController;\n\n        this.isStopped = true;\n\n        if (connectingController) {\n            this.connectingController = null;\n            connectingController.stop();\n        }\n\n        this.isFiring = false;\n\n        this.listenerStacks = null;\n\n        return this;\n    },\n\n    pause: function() {\n        var connectingController = this.connectingController;\n\n        this.isPausing = true;\n\n        if (connectingController) {\n            connectingController.pause();\n        }\n\n        return this;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.Publisher', {\n    targetType: '',\n\n    idSelectorRegex: /^#([\\w\\-]+)$/i,\n\n    constructor: function() {\n        var handledEvents = this.handledEvents,\n            handledEventsMap,\n            i, ln, event;\n\n        handledEventsMap = this.handledEventsMap = {};\n\n        for (i = 0,ln = handledEvents.length; i < ln; i++) {\n            event = handledEvents[i];\n\n            handledEventsMap[event] = true;\n        }\n\n        this.subscribers = {};\n\n        return this;\n    },\n\n    handles: function(eventName) {\n        var map = this.handledEventsMap;\n\n        return !!map[eventName] || !!map['*'] || eventName === '*';\n    },\n\n    getHandledEvents: function() {\n        return this.handledEvents;\n    },\n\n    setDispatcher: function(dispatcher) {\n        this.dispatcher = dispatcher;\n    },\n\n    subscribe: function() {\n        return false;\n    },\n\n    unsubscribe: function() {\n        return false;\n    },\n\n    unsubscribeAll: function() {\n        delete this.subscribers;\n        this.subscribers = {};\n\n        return this;\n    },\n\n    notify: function() {\n        return false;\n    },\n\n    getTargetType: function() {\n        return this.targetType;\n    },\n\n    dispatch: function(target, eventName, args) {\n        this.dispatcher.doDispatchEvent(this.targetType, target, eventName, args);\n    }\n});\n\n// Using @mixins to include all members of Ext.event.Touch\n// into here to keep documentation simpler\n/**\n * @mixins Ext.event.Touch\n *\n * Just as {@link Ext.dom.Element} wraps around a native DOM node, {@link Ext.event.Event} wraps the browser's native\n * event-object normalizing cross-browser differences such as mechanisms to stop event-propagation along with a method\n * to prevent default actions from taking place.\n *\n * Here is a simple example of how you use it:\n *\n *     @example preview\n *     Ext.Viewport.add({\n *         layout: 'fit',\n *         items: [\n *             {\n *                 docked: 'top',\n *                 xtype: 'toolbar',\n *                 title: 'Ext.event.Event example!'\n *             },\n *             {\n *                 id: 'logger',\n *                 styleHtmlContent: true,\n *                 html: 'Tap somewhere!',\n *                 padding: 5\n *             }\n *         ]\n *     });\n *\n *     Ext.Viewport.element.on({\n *         tap: function(e, node) {\n *             var string = '';\n *\n *             string += 'You tapped at: <strong>{ x: ' + e.pageX + ', y: ' + e.pageY + ' }</strong> <i>(e.pageX & e.pageY)</i>';\n *             string += '<hr />';\n *             string += 'The HTMLElement you tapped has the className of: <strong>' + e.target.className + '</strong> <i>(e.target)</i>';\n *             string += '<hr />';\n *             string += 'The HTMLElement which has the listener has a className of: <strong>' + e.getTarget().className + '</strong> <i>(e.getTarget())</i>';\n *\n *             Ext.getCmp('logger').setHtml(string);\n *         }\n *     });\n *\n * ## Recognisers\n *\n * Sencha Touch includes a bunch of default event recognisers to know when a user taps, swipes, etc.\n *\n * For a full list of default recognisers, and more information, please view the {@link Ext.event.recognizer.Recognizer} documentation.\n */\nExt.define('Ext.event.Event', {\n    alternateClassName: 'Ext.EventObject',\n    isStopped: false,\n\n    set: function(name, value) {\n        if (arguments.length === 1 && typeof name != 'string') {\n            var info = name;\n\n            for (name in info) {\n                if (info.hasOwnProperty(name)) {\n                    this[name] = info[name];\n                }\n            }\n        }\n        else {\n            this[name] = info[name];\n        }\n    },\n\n    /**\n     * Stop the event (preventDefault and stopPropagation)\n     */\n    stopEvent: function() {\n        return this.stopPropagation();\n    },\n\n    /**\n     * Cancels bubbling of the event.\n     */\n    stopPropagation: function() {\n        this.isStopped = true;\n\n        return this;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.Dispatcher', {\n\n    requires: [\n        'Ext.event.ListenerStack',\n        'Ext.event.Controller'\n    ],\n\n    statics: {\n        getInstance: function() {\n            if (!this.instance) {\n                this.instance = new this();\n            }\n\n            return this.instance;\n        },\n\n        setInstance: function(instance) {\n            this.instance = instance;\n\n            return this;\n        }\n    },\n\n    config: {\n        publishers: {}\n    },\n\n    wildcard: '*',\n\n    constructor: function(config) {\n        this.listenerStacks = {};\n\n        this.activePublishers = {};\n\n        this.publishersCache = {};\n\n        this.noActivePublishers = [];\n\n        this.controller = null;\n\n        this.initConfig(config);\n\n        return this;\n    },\n\n    getListenerStack: function(targetType, target, eventName, createIfNotExist) {\n        var listenerStacks = this.listenerStacks,\n            map = listenerStacks[targetType],\n            listenerStack;\n\n        createIfNotExist = Boolean(createIfNotExist);\n\n        if (!map) {\n            if (createIfNotExist) {\n                listenerStacks[targetType] = map = {};\n            }\n            else {\n                return null;\n            }\n        }\n\n        map = map[target];\n\n        if (!map) {\n            if (createIfNotExist) {\n                listenerStacks[targetType][target] = map = {};\n            }\n            else {\n                return null;\n            }\n        }\n\n        listenerStack = map[eventName];\n\n        if (!listenerStack) {\n            if (createIfNotExist) {\n                map[eventName] = listenerStack = new Ext.event.ListenerStack();\n            }\n            else {\n                return null;\n            }\n        }\n\n        return listenerStack;\n    },\n\n    getController: function(targetType, target, eventName, connectedController) {\n        var controller = this.controller,\n            info = {\n                targetType: targetType,\n                target: target,\n                eventName: eventName\n            };\n\n        if (!controller) {\n            this.controller = controller = new Ext.event.Controller();\n        }\n\n        if (controller.isFiring) {\n            controller = new Ext.event.Controller();\n        }\n\n        controller.setInfo(info);\n\n        if (connectedController && controller !== connectedController) {\n            controller.connect(connectedController);\n        }\n\n        return controller;\n    },\n\n    applyPublishers: function(publishers) {\n        var i, publisher;\n\n        this.publishersCache = {};\n\n        for (i in publishers) {\n            if (publishers.hasOwnProperty(i)) {\n                publisher = publishers[i];\n\n                this.registerPublisher(publisher);\n            }\n        }\n\n        return publishers;\n    },\n\n    registerPublisher: function(publisher) {\n        var activePublishers = this.activePublishers,\n            targetType = publisher.getTargetType(),\n            publishers = activePublishers[targetType];\n\n        if (!publishers) {\n            activePublishers[targetType] = publishers = [];\n        }\n\n        publishers.push(publisher);\n\n        publisher.setDispatcher(this);\n\n        return this;\n    },\n\n    getCachedActivePublishers: function(targetType, eventName) {\n        var cache = this.publishersCache,\n            publishers;\n\n        if ((publishers = cache[targetType]) && (publishers = publishers[eventName])) {\n            return publishers;\n        }\n\n        return null;\n    },\n\n    cacheActivePublishers: function(targetType, eventName, publishers) {\n        var cache = this.publishersCache;\n\n        if (!cache[targetType]) {\n            cache[targetType] = {};\n        }\n\n        cache[targetType][eventName] = publishers;\n\n        return publishers;\n    },\n\n    getActivePublishers: function(targetType, eventName) {\n        var publishers, activePublishers,\n            i, ln, publisher;\n\n        if ((publishers = this.getCachedActivePublishers(targetType, eventName))) {\n            return publishers;\n        }\n\n        activePublishers = this.activePublishers[targetType];\n\n        if (activePublishers) {\n            publishers = [];\n\n            for (i = 0,ln = activePublishers.length; i < ln; i++) {\n                publisher = activePublishers[i];\n\n                if (publisher.handles(eventName)) {\n                    publishers.push(publisher);\n                }\n            }\n        }\n        else {\n            publishers = this.noActivePublishers;\n        }\n\n        return this.cacheActivePublishers(targetType, eventName, publishers);\n    },\n\n    hasListener: function(targetType, target, eventName) {\n        var listenerStack = this.getListenerStack(targetType, target, eventName);\n\n        if (listenerStack) {\n            return listenerStack.count() > 0;\n        }\n\n        return false;\n    },\n\n    addListener: function(targetType, target, eventName) {\n        var publishers = this.getActivePublishers(targetType, eventName),\n            ln = publishers.length,\n            i;\n\n        if (ln > 0) {\n            for (i = 0; i < ln; i++) {\n                publishers[i].subscribe(target, eventName);\n            }\n        }\n\n        return this.doAddListener.apply(this, arguments);\n    },\n\n    doAddListener: function(targetType, target, eventName, fn, scope, options, order) {\n        var listenerStack = this.getListenerStack(targetType, target, eventName, true);\n\n        return listenerStack.add(fn, scope, options, order);\n    },\n\n    removeListener: function(targetType, target, eventName) {\n        var publishers = this.getActivePublishers(targetType, eventName),\n            ln = publishers.length,\n            i;\n\n        if (ln > 0) {\n            for (i = 0; i < ln; i++) {\n                publishers[i].unsubscribe(target, eventName);\n            }\n        }\n\n        return this.doRemoveListener.apply(this, arguments);\n    },\n\n    doRemoveListener: function(targetType, target, eventName, fn, scope, order) {\n        var listenerStack = this.getListenerStack(targetType, target, eventName);\n\n        if (listenerStack === null) {\n            return false;\n        }\n\n        return listenerStack.remove(fn, scope, order);\n    },\n\n    clearListeners: function(targetType, target, eventName) {\n        var listenerStacks = this.listenerStacks,\n            ln = arguments.length,\n            stacks, publishers, i, publisherGroup;\n\n        if (ln === 3) {\n            if (listenerStacks[targetType] && listenerStacks[targetType][target]) {\n                this.removeListener(targetType, target, eventName);\n                delete listenerStacks[targetType][target][eventName];\n            }\n        }\n        else if (ln === 2) {\n            if (listenerStacks[targetType]) {\n                stacks = listenerStacks[targetType][target];\n\n                if (stacks) {\n                    for (eventName in stacks) {\n                        if (stacks.hasOwnProperty(eventName)) {\n                            publishers = this.getActivePublishers(targetType, eventName);\n\n                            for (i = 0,ln = publishers.length; i < ln; i++) {\n                                publishers[i].unsubscribe(target, eventName, true);\n                            }\n                        }\n                    }\n\n                    delete listenerStacks[targetType][target];\n                }\n            }\n        }\n        else if (ln === 1) {\n            publishers = this.activePublishers[targetType];\n\n            for (i = 0,ln = publishers.length; i < ln; i++) {\n                publishers[i].unsubscribeAll();\n            }\n\n            delete listenerStacks[targetType];\n        }\n        else {\n            publishers = this.activePublishers;\n\n            for (targetType in publishers) {\n                if (publishers.hasOwnProperty(targetType)) {\n                    publisherGroup = publishers[targetType];\n\n                    for (i = 0,ln = publisherGroup.length; i < ln; i++) {\n                        publisherGroup[i].unsubscribeAll();\n                    }\n                }\n            }\n\n            delete this.listenerStacks;\n            this.listenerStacks = {};\n        }\n\n        return this;\n    },\n\n    dispatchEvent: function(targetType, target, eventName) {\n        var publishers = this.getActivePublishers(targetType, eventName),\n            ln = publishers.length,\n            i;\n\n        if (ln > 0) {\n            for (i = 0; i < ln; i++) {\n                publishers[i].notify(target, eventName);\n            }\n        }\n\n        return this.doDispatchEvent.apply(this, arguments);\n    },\n\n    doDispatchEvent: function(targetType, target, eventName, args, action, connectedController) {\n        var listenerStack = this.getListenerStack(targetType, target, eventName),\n            wildcardStacks = this.getWildcardListenerStacks(targetType, target, eventName),\n            controller;\n\n        if ((listenerStack === null || listenerStack.length == 0)) {\n            if (wildcardStacks.length == 0 && !action) {\n                return;\n            }\n        }\n        else {\n            wildcardStacks.push(listenerStack);\n        }\n\n        controller = this.getController(targetType, target, eventName, connectedController);\n        controller.setListenerStacks(wildcardStacks);\n        controller.fire(args, action);\n\n        return !controller.isInterrupted();\n    },\n\n    getWildcardListenerStacks: function(targetType, target, eventName) {\n        var stacks = [],\n            wildcard = this.wildcard,\n            isEventNameNotWildcard = eventName !== wildcard,\n            isTargetNotWildcard = target !== wildcard,\n            stack;\n\n        if (isEventNameNotWildcard && (stack = this.getListenerStack(targetType, target, wildcard))) {\n            stacks.push(stack);\n        }\n\n        if (isTargetNotWildcard && (stack = this.getListenerStack(targetType, wildcard, eventName))) {\n            stacks.push(stack);\n        }\n\n        return stacks;\n    }\n});\n\n/**\n * @private\n * @extends Object\n * DOM event. This class really extends Ext.event.Event, but for documentation\n * purposes it's members are listed inside Ext.event.Event.\n */\nExt.define('Ext.event.Dom', {\n    extend: 'Ext.event.Event',\n\n    constructor: function(event) {\n        var target = event.target,\n            touches;\n\n        if (target && target.nodeType !== 1) {\n            target = target.parentNode;\n        }\n        touches = event.changedTouches;\n        if (touches) {\n            touches = touches[0];\n            this.pageX = touches.pageX;\n            this.pageY = touches.pageY;\n        }\n        else {\n            this.pageX = event.pageX;\n            this.pageY = event.pageY;\n        }\n\n        this.browserEvent = this.event = event;\n        this.target = this.delegatedTarget = target;\n        this.type = event.type;\n\n        this.timeStamp = this.time = event.timeStamp;\n\n        if (typeof this.time != 'number') {\n            this.time = new Date(this.time).getTime();\n        }\n\n        return this;\n    },\n\n    /**\n     * @property {Number} distance\n     * The distance of the event.\n     *\n     * **This is only available when the event type is `swipe` and `pinch`**\n     */\n\n    /**\n     * @property {HTMLElement} target\n     * The target HTMLElement for this event. For example; if you are listening to a tap event and you tap on a `<div>` element,\n     * this will return that `<div>` element.\n     */\n\n    /**\n     * @property {Number} pageX The browsers x coordinate of the event.\n     */\n\n    /**\n     * @property {Number} pageY The browsers y coordinate of the event.\n     */\n\n    stopEvent: function() {\n        this.preventDefault();\n\n        return this.callParent();\n    },\n\n    /**\n     * Prevents the browsers default handling of the event.\n     */\n    preventDefault: function() {\n        this.browserEvent.preventDefault();\n    },\n\n    /**\n     * Gets the x coordinate of the event.\n     * @deprecated 2.0 Please use {@link #pageX} property directly.\n     */\n    getPageX: function() {\n        return this.browserEvent.pageX;\n    },\n\n    /**\n     * Gets the y coordinate of the event.\n     * @deprecated 2.0 Please use {@link #pageX} property directly.\n     */\n    getPageY: function() {\n        return this.browserEvent.pageY;\n    },\n\n    /**\n     * Gets the X and Y coordinates of the event.\n     * @deprecated 2.0 Please use the {@link #pageX} and {@link #pageY} properties directly.\n     */\n    getXY: function() {\n        if (!this.xy) {\n            this.xy = [this.getPageX(), this.getPageY()];\n        }\n\n        return this.xy;\n    },\n\n    /**\n     * Gets the target for the event. Unlike {@link #target}, this returns the main element for your event. So if you are\n     * listening to a tap event on Ext.Viewport.element, and you tap on an inner element of Ext.Viewport.element, this will\n     * return Ext.Viewport.element.\n     *\n     * If you want the element you tapped on, then use {@link #target}.\n     *\n     * @param {String} selector (optional) A simple selector to filter the target or look for an ancestor of the target\n     * @param {Number/Mixed} maxDepth (optional) The max depth to\n     search as a number or element (defaults to 10 || document.body)\n     * @param {Boolean} returnEl (optional) True to return a Ext.Element object instead of DOM node\n     * @return {HTMLElement}\n     */\n    getTarget: function(selector, maxDepth, returnEl) {\n        if (arguments.length === 0) {\n            return this.delegatedTarget;\n        }\n\n        return selector ? Ext.fly(this.target).findParent(selector, maxDepth, returnEl) : (returnEl ? Ext.get(this.target) : this.target);\n    },\n\n    /**\n     * Returns the time of the event.\n     * @return {Date}\n     */\n    getTime: function() {\n        return this.time;\n    },\n\n    setDelegatedTarget: function(target) {\n        this.delegatedTarget = target;\n    },\n\n    makeUnpreventable: function() {\n        this.browserEvent.preventDefault = Ext.emptyFn;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.Dom', {\n    extend: 'Ext.event.publisher.Publisher',\n\n    requires: [\n        'Ext.env.Browser',\n        'Ext.Element',\n        'Ext.event.Dom'\n    ],\n\n    targetType: 'element',\n\n    idOrClassSelectorRegex: /^([#|\\.])([\\w\\-]+)$/,\n\n    handledEvents: ['click', 'focus', 'blur',\n                    'mousemove', 'mousedown', 'mouseup', 'mouseover', 'mouseout',\n                    'keyup', 'keydown', 'keypress', 'submit',\n                    'transitionend', 'animationstart', 'animationend'],\n\n    classNameSplitRegex: /\\s+/,\n\n    SELECTOR_ALL: '*',\n\n    constructor: function() {\n        var eventNames = this.getHandledEvents(),\n            eventNameMap = {},\n            i, ln, eventName, vendorEventName;\n\n        this.doBubbleEventsMap = {\n            'click': true,\n            'submit': true,\n            'mousedown': true,\n            'mousemove': true,\n            'mouseup': true,\n            'mouseover': true,\n            'mouseout': true,\n            'transitionend': true\n        };\n\n        this.onEvent = Ext.Function.bind(this.onEvent, this);\n\n        for (i = 0,ln = eventNames.length; i < ln; i++) {\n            eventName = eventNames[i];\n            vendorEventName = this.getVendorEventName(eventName);\n            eventNameMap[vendorEventName] = eventName;\n\n            this.attachListener(vendorEventName);\n        }\n\n        this.eventNameMap = eventNameMap;\n\n        return this.callParent();\n    },\n\n    getSubscribers: function(eventName) {\n        var subscribers = this.subscribers,\n            eventSubscribers = subscribers[eventName];\n\n        if (!eventSubscribers) {\n            eventSubscribers = subscribers[eventName] = {\n                id: {\n                    $length: 0\n                },\n                className: {\n                    $length: 0\n                },\n                selector: [],\n                all: 0,\n                $length: 0\n            }\n        }\n\n        return eventSubscribers;\n    },\n\n    getVendorEventName: function(eventName) {\n        if (eventName === 'transitionend') {\n            eventName = Ext.browser.getVendorProperyName('transitionEnd');\n        }\n        else if (eventName === 'animationstart') {\n            eventName = Ext.browser.getVendorProperyName('animationStart');\n        }\n        else if (eventName === 'animationend') {\n            eventName = Ext.browser.getVendorProperyName('animationEnd');\n        }\n\n        return eventName;\n    },\n\n    attachListener: function(eventName) {\n        document.addEventListener(eventName, this.onEvent, !this.doesEventBubble(eventName));\n\n        return this;\n    },\n\n    removeListener: function(eventName) {\n        document.removeEventListener(eventName, this.onEvent, !this.doesEventBubble(eventName));\n\n        return this;\n    },\n\n    doesEventBubble: function(eventName) {\n        return !!this.doBubbleEventsMap[eventName];\n    },\n\n    subscribe: function(target, eventName) {\n        if (!this.handles(eventName)) {\n            return false;\n        }\n\n        var idOrClassSelectorMatch = target.match(this.idOrClassSelectorRegex),\n            subscribers = this.getSubscribers(eventName),\n            idSubscribers = subscribers.id,\n            classNameSubscribers = subscribers.className,\n            selectorSubscribers = subscribers.selector,\n            type, value;\n\n        if (idOrClassSelectorMatch !== null) {\n            type = idOrClassSelectorMatch[1];\n            value = idOrClassSelectorMatch[2];\n\n            if (type === '#') {\n                if (idSubscribers.hasOwnProperty(value)) {\n                    idSubscribers[value]++;\n                    return true;\n                }\n\n                idSubscribers[value] = 1;\n                idSubscribers.$length++;\n            }\n            else {\n                if (classNameSubscribers.hasOwnProperty(value)) {\n                    classNameSubscribers[value]++;\n                    return true;\n                }\n\n                classNameSubscribers[value] = 1;\n                classNameSubscribers.$length++;\n            }\n        }\n        else {\n            if (target === this.SELECTOR_ALL) {\n                subscribers.all++;\n            }\n            else {\n                if (selectorSubscribers.hasOwnProperty(target)) {\n                    selectorSubscribers[target]++;\n                    return true;\n                }\n\n                selectorSubscribers[target] = 1;\n                selectorSubscribers.push(target);\n            }\n        }\n\n        subscribers.$length++;\n\n        return true;\n    },\n\n    unsubscribe: function(target, eventName, all) {\n        if (!this.handles(eventName)) {\n            return false;\n        }\n\n        var idOrClassSelectorMatch = target.match(this.idOrClassSelectorRegex),\n            subscribers = this.getSubscribers(eventName),\n            idSubscribers = subscribers.id,\n            classNameSubscribers = subscribers.className,\n            selectorSubscribers = subscribers.selector,\n            type, value;\n\n        all = Boolean(all);\n\n        if (idOrClassSelectorMatch !== null) {\n            type = idOrClassSelectorMatch[1];\n            value = idOrClassSelectorMatch[2];\n\n            if (type === '#') {\n                if (!idSubscribers.hasOwnProperty(value) || (!all && --idSubscribers[value] > 0)) {\n                    return true;\n                }\n\n                delete idSubscribers[value];\n                idSubscribers.$length--;\n            }\n            else {\n                if (!classNameSubscribers.hasOwnProperty(value) || (!all && --classNameSubscribers[value] > 0)) {\n                    return true;\n                }\n\n                delete classNameSubscribers[value];\n                classNameSubscribers.$length--;\n            }\n        }\n        else {\n            if (target === this.SELECTOR_ALL) {\n                if (all) {\n                    subscribers.all = 0;\n                }\n                else {\n                    subscribers.all--;\n                }\n            }\n            else {\n                if (!selectorSubscribers.hasOwnProperty(target) || (!all && --selectorSubscribers[target] > 0)) {\n                    return true;\n                }\n\n                delete selectorSubscribers[target];\n                Ext.Array.remove(selectorSubscribers, target);\n            }\n        }\n\n        subscribers.$length--;\n\n        return true;\n    },\n\n    getElementTarget: function(target) {\n        if (target.nodeType !== 1) {\n            target = target.parentNode;\n\n            if (!target || target.nodeType !== 1) {\n                return null;\n            }\n        }\n\n        return target;\n    },\n\n    getBubblingTargets: function(target) {\n        var targets = [];\n\n        if (!target) {\n            return targets;\n        }\n\n        do {\n            targets[targets.length] = target;\n\n            target = target.parentNode;\n        } while (target && target.nodeType === 1);\n\n        return targets;\n    },\n\n    dispatch: function(target, eventName, args) {\n        args.push(args[0].target);\n        this.callParent(arguments);\n    },\n\n    publish: function(eventName, targets, event) {\n        var subscribers = this.getSubscribers(eventName),\n            wildcardSubscribers;\n\n        if (subscribers.$length === 0 || !this.doPublish(subscribers, eventName, targets, event)) {\n            wildcardSubscribers = this.getSubscribers('*');\n\n            if (wildcardSubscribers.$length > 0) {\n                this.doPublish(wildcardSubscribers, eventName, targets, event);\n            }\n        }\n\n        return this;\n    },\n\n    doPublish: function(subscribers, eventName, targets, event) {\n        var idSubscribers = subscribers.id,\n            classNameSubscribers = subscribers.className,\n            selectorSubscribers = subscribers.selector,\n            hasIdSubscribers = idSubscribers.$length > 0,\n            hasClassNameSubscribers = classNameSubscribers.$length > 0,\n            hasSelectorSubscribers = selectorSubscribers.length > 0,\n            hasAllSubscribers = subscribers.all > 0,\n            isClassNameHandled = {},\n            args = [event],\n            hasDispatched = false,\n            classNameSplitRegex = this.classNameSplitRegex,\n            i, ln, j, subLn, target, id, className, classNames, selector;\n\n        for (i = 0,ln = targets.length; i < ln; i++) {\n            target = targets[i];\n            event.setDelegatedTarget(target);\n\n            if (hasIdSubscribers) {\n                id = target.id;\n\n                if (id) {\n                    if (idSubscribers.hasOwnProperty(id)) {\n                        hasDispatched = true;\n                        this.dispatch('#' + id, eventName, args);\n                    }\n                }\n            }\n\n            if (hasClassNameSubscribers) {\n                className = target.className;\n\n                if (className) {\n                    classNames = className.split(classNameSplitRegex);\n\n                    for (j = 0,subLn = classNames.length; j < subLn; j++) {\n                        className = classNames[j];\n\n                        if (!isClassNameHandled[className]) {\n                            isClassNameHandled[className] = true;\n\n                            if (classNameSubscribers.hasOwnProperty(className)) {\n                                hasDispatched = true;\n                                this.dispatch('.' + className, eventName, args);\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Stop propagation\n            if (event.isStopped) {\n                return hasDispatched;\n            }\n        }\n\n        if (hasAllSubscribers && !hasDispatched) {\n            event.setDelegatedTarget(event.browserEvent.target);\n            hasDispatched = true;\n            this.dispatch(this.SELECTOR_ALL, eventName, args);\n            if (event.isStopped) {\n                return hasDispatched;\n            }\n        }\n\n        if (hasSelectorSubscribers) {\n            for (j = 0,subLn = targets.length; j < subLn; j++) {\n                target = targets[j];\n\n                for (i = 0,ln = selectorSubscribers.length; i < ln; i++) {\n                    selector = selectorSubscribers[i];\n\n                    if (this.matchesSelector(target, selector)) {\n                        event.setDelegatedTarget(target);\n                        hasDispatched = true;\n                        this.dispatch(selector, eventName, args);\n                    }\n\n                    if (event.isStopped) {\n                        return hasDispatched;\n                    }\n                }\n            }\n        }\n\n        return hasDispatched;\n    },\n\n    matchesSelector: function(element, selector) {\n        if ('webkitMatchesSelector' in element) {\n            return element.webkitMatchesSelector(selector);\n        }\n\n        return Ext.DomQuery.is(element, selector);\n    },\n\n    onEvent: function(e) {\n        var eventName = this.eventNameMap[e.type];\n\n        if (!eventName || this.getSubscribersCount(eventName) === 0) {\n            return;\n        }\n\n        var target = this.getElementTarget(e.target),\n            targets;\n\n        if (!target) {\n            return;\n        }\n\n        if (this.doesEventBubble(eventName)) {\n            targets = this.getBubblingTargets(target);\n        }\n        else {\n            targets = [target];\n        }\n\n        this.publish(eventName, targets, new Ext.event.Dom(e));\n    },\n\n    hasSubscriber: function(target, eventName) {\n        if (!this.handles(eventName)) {\n            return false;\n        }\n\n        var match = target.match(this.idOrClassSelectorRegex),\n            subscribers = this.getSubscribers(eventName),\n            type, value;\n\n        if (match !== null) {\n            type = match[1];\n            value = match[2];\n\n            if (type === '#') {\n                return subscribers.id.hasOwnProperty(value);\n            }\n            else {\n                return subscribers.className.hasOwnProperty(value);\n            }\n        }\n        else {\n            return (subscribers.selector.hasOwnProperty(target) && Ext.Array.indexOf(subscribers.selector, target) !== -1);\n        }\n\n        return false;\n    },\n\n    getSubscribersCount: function(eventName) {\n        if (!this.handles(eventName)) {\n            return 0;\n        }\n\n        return this.getSubscribers(eventName).$length + this.getSubscribers('*').$length;\n    }\n\n});\n\n/**\n * Represents a 2D point with x and y properties, useful for comparison and instantiation\n * from an event:\n *\n *     var point = Ext.util.Point.fromEvent(e);\n *\n */\nExt.define('Ext.util.Point', {\n\n    radianToDegreeConstant: 180 / Math.PI,\n\n    statics: {\n        /**\n         * Returns a new instance of Ext.util.Point based on the pageX / pageY values of the given event\n         * @static\n         * @param {Event} e The event\n         * @return Ext.util.Point\n         */\n        fromEvent: function(e) {\n            var changedTouches = e.changedTouches,\n                touch = (changedTouches && changedTouches.length > 0) ? changedTouches[0] : e;\n\n            return this.fromTouch(touch);\n        },\n\n        /**\n         * Returns a new instance of Ext.util.Point based on the pageX / pageY values of the given touch\n         * @static\n         * @param {Event} touch\n         * @return Ext.util.Point\n         */\n        fromTouch: function(touch) {\n            return new this(touch.pageX, touch.pageY);\n        },\n\n        /**\n         * Returns a new point from an object that has 'x' and 'y' properties, if that object is not an instance\n         * of Ext.util.Point. Otherwise, returns the given point itself.\n         * @param object\n         */\n        from: function(object) {\n            if (!object) {\n                return new this(0, 0);\n            }\n\n            if (!(object instanceof this)) {\n                return new this(object.x, object.y);\n            }\n\n            return object;\n        }\n    },\n\n    /**\n     * Creates point on 2D plane.\n     * @param {Number} [x=0] X coordinate.\n     * @param {Number} [y=0] Y coordinate.\n     */\n    constructor: function(x, y) {\n        if (typeof x == 'undefined') {\n            x = 0;\n        }\n\n        if (typeof y == 'undefined') {\n            y = 0;\n        }\n\n        this.x = x;\n        this.y = y;\n\n        return this;\n    },\n\n    /**\n     * Copy a new instance of this point\n     * @return {Ext.util.Point} the new point\n     */\n    clone: function() {\n        return new this.self(this.x, this.y);\n    },\n\n    /**\n     * Clones this Point.\n     * @deprecated 2.0.0 Please use {@link #clone} instead\n     */\n    copy: function() {\n        return this.clone.apply(this, arguments);\n    },\n\n    /**\n     * Copy the x and y values of another point / object to this point itself\n     * @param {Ext.util.Point/Object} point\n     * @return {Ext.util.Point} this This point\n     */\n    copyFrom: function(point) {\n        this.x = point.x;\n        this.y = point.y;\n\n        return this;\n    },\n\n    /**\n     * Returns a human-eye-friendly string that represents this point,\n     * useful for debugging.\n     * @return {String} For example `Point[12,8]`\n     */\n    toString: function() {\n        return \"Point[\" + this.x + \",\" + this.y + \"]\";\n    },\n\n    /**\n     * Compare this point and another point\n     * @param {Ext.util.Point/Object} The point to compare with, either an instance\n     * of Ext.util.Point or an object with x and y properties\n     * @return {Boolean} Returns whether they are equivalent\n     */\n    equals: function(point) {\n        return (this.x === point.x && this.y === point.y);\n    },\n\n    /**\n     * Whether the given point is not away from this point within the given threshold amount\n     * @param {Ext.util.Point/Object} The point to check with, either an instance\n     * of Ext.util.Point or an object with x and y properties\n     * @param {Object/Number} threshold Can be either an object with x and y properties or a number\n     * @return {Boolean}\n     */\n    isCloseTo: function(point, threshold) {\n        if (typeof threshold == 'number') {\n            threshold = {x: threshold};\n            threshold.y = threshold.x;\n        }\n\n        var x = point.x,\n            y = point.y,\n            thresholdX = threshold.x,\n            thresholdY = threshold.y;\n\n        return (this.x <= x + thresholdX && this.x >= x - thresholdX &&\n                this.y <= y + thresholdY && this.y >= y - thresholdY);\n    },\n\n    /**\n     * Returns true if this point is close to another one.\n     * @deprecated 2.0.0 Please use {@link #isCloseTo} instead\n     */\n    isWithin: function() {\n        return this.isCloseTo.apply(this, arguments);\n    },\n\n    /**\n     * Translate this point by the given amounts\n     * @param {Number} x Amount to translate in the x-axis\n     * @param {Number} y Amount to translate in the y-axis\n     * @return {Boolean}\n     */\n    translate: function(x, y) {\n        this.x += x;\n        this.y += y;\n\n        return this;\n    },\n\n    /**\n     * Compare this point with another point when the x and y values of both points are rounded. E.g:\n     * [100.3,199.8] will equals to [100, 200]\n     * @param {Ext.util.Point/Object} The point to compare with, either an instance\n     * of Ext.util.Point or an object with x and y properties\n     * @return {Boolean}\n     */\n    roundedEquals: function(point) {\n        return (Math.round(this.x) === Math.round(point.x) &&\n                Math.round(this.y) === Math.round(point.y));\n    },\n\n    getDistanceTo: function(point) {\n        var deltaX = this.x - point.x,\n            deltaY = this.y - point.y;\n\n        return Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    },\n\n    getAngleTo: function(point) {\n        var deltaX = this.x - point.x,\n            deltaY = this.y - point.y;\n\n        return Math.atan2(deltaY, deltaX) * this.radianToDegreeConstant;\n    }\n});\n\n/**\n * @private\n * Touch event.\n */\nExt.define('Ext.event.Touch', {\n    extend: 'Ext.event.Dom',\n\n    requires: [\n        'Ext.util.Point'\n    ],\n\n    constructor: function(event, info) {\n        if (info) {\n            this.set(info);\n        }\n\n        this.touchesMap = {};\n\n        this.changedTouches = this.cloneTouches(event.changedTouches);\n        this.touches = this.cloneTouches(event.touches);\n        this.targetTouches = this.cloneTouches(event.targetTouches);\n\n        return this.callParent([event]);\n    },\n\n    clone: function() {\n        return new this.self(this);\n    },\n\n    setTargets: function(targetsMap) {\n        this.doSetTargets(this.changedTouches, targetsMap);\n        this.doSetTargets(this.touches, targetsMap);\n        this.doSetTargets(this.targetTouches, targetsMap);\n    },\n\n    doSetTargets: function(touches, targetsMap) {\n        var i, ln, touch, identifier, targets;\n\n        for (i = 0,ln = touches.length; i < ln; i++) {\n            touch = touches[i];\n\n            identifier = touch.identifier;\n\n            targets = targetsMap[identifier];\n\n            if (targets) {\n                touch.targets = targets;\n            }\n        }\n    },\n\n    cloneTouches: function(touches) {\n        var map = this.touchesMap,\n            clone = [],\n            lastIdentifier = null,\n            i, ln, touch, identifier;\n\n        for (i = 0,ln = touches.length; i < ln; i++) {\n            touch = touches[i];\n\n            identifier = touch.identifier;\n\n            // A quick fix for a bug found in Bada 1.0 where all touches have\n            // idenfitier of 0\n            if (lastIdentifier !== null && identifier === lastIdentifier) {\n                identifier++;\n            }\n\n            lastIdentifier = identifier;\n\n            if (!map[identifier]) {\n                map[identifier] = {\n                    pageX: touch.pageX,\n                    pageY: touch.pageY,\n                    identifier: identifier,\n                    target: touch.target,\n                    timeStamp: touch.timeStamp,\n                    point: Ext.util.Point.fromTouch(touch),\n                    targets: touch.targets\n                };\n            }\n\n            clone[i] = map[identifier];\n        }\n\n        return clone;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.TouchGesture', {\n\n    extend: 'Ext.event.publisher.Dom',\n\n    requires: [\n        'Ext.util.Point',\n        'Ext.event.Touch'\n    ],\n\n    handledEvents: ['touchstart', 'touchmove', 'touchend', 'touchcancel'],\n\n    moveEventName: 'touchmove',\n\n    config: {\n        moveThrottle: 1,\n        buffering: {\n            enabled: false,\n            interval: 10\n        },\n        recognizers: {}\n    },\n\n    currentTouchesCount: 0,\n\n    constructor: function(config) {\n        this.processEvents = Ext.Function.bind(this.processEvents, this);\n\n        this.eventProcessors = {\n            touchstart: this.onTouchStart,\n            touchmove: this.onTouchMove,\n            touchend: this.onTouchEnd,\n            touchcancel: this.onTouchEnd\n        };\n\n        this.eventToRecognizerMap = {};\n\n        this.activeRecognizers = [];\n\n        this.currentRecognizers = [];\n\n        this.currentTargets = {};\n\n        this.currentTouches = {};\n\n        this.buffer = [];\n\n        this.initConfig(config);\n\n        return this.callParent();\n    },\n\n    applyBuffering: function(buffering) {\n        if (buffering.enabled === true) {\n            this.bufferTimer = setInterval(this.processEvents, buffering.interval);\n        }\n        else {\n            clearInterval(this.bufferTimer);\n        }\n\n        return buffering;\n    },\n\n    applyRecognizers: function(recognizers) {\n        var i, recognizer;\n\n        for (i in recognizers) {\n            if (recognizers.hasOwnProperty(i)) {\n                recognizer = recognizers[i];\n\n                if (recognizer) {\n                    this.registerRecognizer(recognizer);\n                }\n            }\n        }\n\n        return recognizers;\n    },\n\n    handles: function(eventName) {\n        return this.callParent(arguments) || this.eventToRecognizerMap.hasOwnProperty(eventName);\n    },\n\n    doesEventBubble: function() {\n        // All touch events bubble\n        return true;\n    },\n\n    eventLogs: [],\n\n    onEvent: function(e) {\n        var buffering = this.getBuffering();\n\n        e = new Ext.event.Touch(e);\n\n        if (buffering.enabled) {\n            this.buffer.push(e);\n        }\n        else {\n            this.processEvent(e);\n        }\n    },\n\n    processEvents: function() {\n        var buffer = this.buffer,\n            ln = buffer.length,\n            moveEvents = [],\n            events, event, i;\n\n        if (ln > 0) {\n            events = buffer.slice(0);\n            buffer.length = 0;\n\n            for (i = 0; i < ln; i++) {\n                event = events[i];\n                if (event.type === this.moveEventName) {\n                    moveEvents.push(event);\n                }\n                else {\n                    if (moveEvents.length > 0) {\n                        this.processEvent(this.mergeEvents(moveEvents));\n                        moveEvents.length = 0;\n                    }\n\n                    this.processEvent(event);\n                }\n            }\n\n            if (moveEvents.length > 0) {\n                this.processEvent(this.mergeEvents(moveEvents));\n                moveEvents.length = 0;\n            }\n        }\n    },\n\n    mergeEvents: function(events) {\n        var changedTouchesLists = [],\n            ln = events.length,\n            i, event, targetEvent;\n\n        targetEvent = events[ln - 1];\n\n        if (ln === 1) {\n            return targetEvent;\n        }\n\n        for (i = 0; i < ln; i++) {\n            event = events[i];\n            changedTouchesLists.push(event.changedTouches);\n        }\n\n        targetEvent.changedTouches = this.mergeTouchLists(changedTouchesLists);\n\n        return targetEvent;\n    },\n\n    mergeTouchLists: function(touchLists) {\n        var touches = {},\n            list = [],\n            i, ln, touchList, j, subLn, touch, identifier;\n\n        for (i = 0,ln = touchLists.length; i < ln; i++) {\n            touchList = touchLists[i];\n\n            for (j = 0,subLn = touchList.length; j < subLn; j++) {\n                touch = touchList[j];\n                identifier = touch.identifier;\n                touches[identifier] = touch;\n            }\n        }\n\n        for (identifier in touches) {\n            if (touches.hasOwnProperty(identifier)) {\n                list.push(touches[identifier]);\n            }\n        }\n\n        return list;\n    },\n\n    registerRecognizer: function(recognizer) {\n        var map = this.eventToRecognizerMap,\n            activeRecognizers = this.activeRecognizers,\n            handledEvents = recognizer.getHandledEvents(),\n            i, ln, eventName;\n\n        recognizer.setOnRecognized(this.onRecognized);\n        recognizer.setCallbackScope(this);\n\n        for (i = 0,ln = handledEvents.length; i < ln; i++) {\n            eventName = handledEvents[i];\n\n            map[eventName] = recognizer;\n        }\n\n        activeRecognizers.push(recognizer);\n\n        return this;\n    },\n\n    onRecognized: function(eventName, e, touches, info) {\n        var targetGroups = [],\n            ln = touches.length,\n            targets, i, touch;\n\n        if (ln === 1) {\n            return this.publish(eventName, touches[0].targets, e, info);\n        }\n\n        for (i = 0; i < ln; i++) {\n            touch = touches[i];\n            targetGroups.push(touch.targets);\n        }\n\n        targets = this.getCommonTargets(targetGroups);\n\n        this.publish(eventName, targets, e, info);\n    },\n\n    publish: function(eventName, targets, event, info) {\n        event.set(info);\n\n        return this.callParent([eventName, targets, event]);\n    },\n\n    getCommonTargets: function(targetGroups) {\n        var firstTargetGroup = targetGroups[0],\n            ln = targetGroups.length;\n\n        if (ln === 1) {\n            return firstTargetGroup;\n        }\n\n        var commonTargets = [],\n            i = 1,\n            target, targets, j;\n\n        while (true) {\n            target = firstTargetGroup[firstTargetGroup.length - i];\n\n            if (!target) {\n                return commonTargets;\n            }\n\n            for (j = 1; j < ln; j++) {\n                targets = targetGroups[j];\n\n                if (targets[targets.length - i] !== target) {\n                    return commonTargets;\n                }\n            }\n\n            commonTargets.unshift(target);\n            i++;\n        }\n\n        return commonTargets;\n    },\n\n    invokeRecognizers: function(methodName, e) {\n        var recognizers = this.activeRecognizers,\n            ln = recognizers.length,\n            i, recognizer;\n\n        if (methodName === 'onStart') {\n            for (i = 0; i < ln; i++) {\n                recognizers[i].isActive = true;\n            }\n        }\n\n        for (i = 0; i < ln; i++) {\n            recognizer = recognizers[i];\n            if (recognizer.isActive && recognizer[methodName].call(recognizer, e) === false) {\n                recognizer.isActive = false;\n            }\n        }\n    },\n\n    getActiveRecognizers: function() {\n        return this.activeRecognizers;\n    },\n\n    processEvent: function(e) {\n        this.eventProcessors[e.type].call(this, e);\n    },\n\n    onTouchStart: function(e) {\n        var currentTargets = this.currentTargets,\n            currentTouches = this.currentTouches,\n            currentTouchesCount = this.currentTouchesCount,\n            changedTouches = e.changedTouches,\n            touches = e.touches,\n            touchesLn = touches.length,\n            currentIdentifiers = {},\n            ln = changedTouches.length,\n            i, touch, identifier, fakeEndEvent;\n\n        currentTouchesCount += ln;\n\n        if (currentTouchesCount > touchesLn) {\n            for (i = 0; i < touchesLn; i++) {\n                touch = touches[i];\n                identifier = touch.identifier;\n                currentIdentifiers[identifier] = true;\n            }\n\n            for (identifier in currentTouches) {\n                if (currentTouches.hasOwnProperty(identifier)) {\n                    if (!currentIdentifiers[identifier]) {\n                        currentTouchesCount--;\n                        fakeEndEvent = e.clone();\n                        touch = currentTouches[identifier];\n                        touch.targets = this.getBubblingTargets(this.getElementTarget(touch.target));\n                        fakeEndEvent.changedTouches = [touch];\n                        this.onTouchEnd(fakeEndEvent);\n                    }\n                }\n            }\n\n            // Fix for a bug found in Motorola Droid X (Gingerbread) and similar\n            // where there are 2 touchstarts but just one touchend\n            if (currentTouchesCount > touchesLn) {\n                return;\n            }\n        }\n\n        for (i = 0; i < ln; i++) {\n            touch = changedTouches[i];\n            identifier = touch.identifier;\n\n            if (!currentTouches.hasOwnProperty(identifier)) {\n                this.currentTouchesCount++;\n            }\n\n            currentTouches[identifier] = touch;\n            currentTargets[identifier] = this.getBubblingTargets(this.getElementTarget(touch.target));\n        }\n\n        e.setTargets(currentTargets);\n\n        for (i = 0; i < ln; i++) {\n            touch = changedTouches[i];\n\n            this.publish('touchstart', touch.targets, e, {touch: touch});\n        }\n\n        if (!this.isStarted) {\n            this.isStarted = true;\n            this.invokeRecognizers('onStart', e);\n        }\n\n        this.invokeRecognizers('onTouchStart', e);\n    },\n\n    onTouchMove: function(e) {\n        if (!this.isStarted) {\n            return;\n        }\n\n        var currentTargets = this.currentTargets,\n            currentTouches = this.currentTouches,\n            moveThrottle = this.getMoveThrottle(),\n            changedTouches = e.changedTouches,\n            stillTouchesCount = 0,\n            i, ln, touch, point, oldPoint, identifier;\n\n        e.setTargets(currentTargets);\n\n        for (i = 0,ln = changedTouches.length; i < ln; i++) {\n            touch = changedTouches[i];\n            identifier = touch.identifier;\n            point = touch.point;\n\n            oldPoint = currentTouches[identifier].point;\n\n            if (moveThrottle && point.isCloseTo(oldPoint, moveThrottle)) {\n                stillTouchesCount++;\n                continue;\n            }\n\n            currentTouches[identifier] = touch;\n\n            this.publish('touchmove', touch.targets, e, {touch: touch});\n        }\n\n        if (stillTouchesCount < ln) {\n            this.invokeRecognizers('onTouchMove', e);\n        }\n    },\n\n    onTouchEnd: function(e) {\n        if (!this.isStarted) {\n            return;\n        }\n\n        var currentTargets = this.currentTargets,\n            currentTouches = this.currentTouches,\n            changedTouches = e.changedTouches,\n            ln = changedTouches.length,\n            isEnded, identifier, i, touch;\n\n        e.setTargets(currentTargets);\n\n        this.currentTouchesCount -= ln;\n\n        isEnded = (this.currentTouchesCount === 0);\n\n        if (isEnded) {\n            this.isStarted = false;\n        }\n\n        for (i = 0; i < ln; i++) {\n            touch = changedTouches[i];\n            identifier = touch.identifier;\n\n            delete currentTouches[identifier];\n            delete currentTargets[identifier];\n\n            this.publish('touchend', touch.targets, e, {touch: touch});\n        }\n\n        this.invokeRecognizers('onTouchEnd', e);\n\n        if (isEnded) {\n            this.invokeRecognizers('onEnd', e);\n        }\n    }\n\n}, function() {\n    if (!Ext.feature.has.Touch) {\n        this.override({\n            moveEventName: 'mousemove',\n\n            map: {\n                mouseToTouch: {\n                    mousedown: 'touchstart',\n                    mousemove: 'touchmove',\n                    mouseup: 'touchend'\n                },\n\n                touchToMouse: {\n                    touchstart: 'mousedown',\n                    touchmove: 'mousemove',\n                    touchend: 'mouseup'\n                }\n            },\n\n            attachListener: function(eventName) {\n                eventName = this.map.touchToMouse[eventName];\n\n                if (!eventName) {\n                    return;\n                }\n\n                return this.callOverridden([eventName]);\n            },\n\n            lastEventType: null,\n\n            onEvent: function(e) {\n                if ('button' in e && e.button !== 0) {\n                    return;\n                }\n\n                var type = e.type,\n                    touchList = [e];\n\n                // Temporary fix for a recent Chrome bugs where events don't seem to bubble up to document\n                // when the element is being animated\n                // with webkit-transition (2 mousedowns without any mouseup)\n                if (type === 'mousedown' && this.lastEventType && this.lastEventType !== 'mouseup') {\n                    var fixedEvent = document.createEvent(\"MouseEvent\");\n                        fixedEvent.initMouseEvent('mouseup', e.bubbles, e.cancelable,\n                            document.defaultView, e.detail, e.screenX, e.screenY, e.clientX,\n                            e.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.metaKey,\n                            e.button, e.relatedTarget);\n\n                    this.onEvent(fixedEvent);\n                }\n\n                if (type !== 'mousemove') {\n                    this.lastEventType = type;\n                }\n\n                e.identifier = 1;\n                e.touches = (type !== 'mouseup') ? touchList : [];\n                e.targetTouches = (type !== 'mouseup') ? touchList : [];\n                e.changedTouches = touchList;\n\n                return this.callOverridden([e]);\n            },\n\n            processEvent: function(e) {\n                this.eventProcessors[this.map.mouseToTouch[e.type]].call(this, e);\n            }\n        });\n    }\n});\n\n/**\n * A base class for all event recognisers in Sencha Touch.\n *\n * Sencha Touch, by default, includes various different {@link Ext.event.recognizer.Recognizer} subclasses to recognise\n * events happening in your application.\n *\n * ## Default recognisers\n *\n * * {@link Ext.event.recognizer.Tap}\n * * {@link Ext.event.recognizer.DoubleTap}\n * * {@link Ext.event.recognizer.LongPress}\n * * {@link Ext.event.recognizer.Drag}\n * * {@link Ext.event.recognizer.HorizontalSwipe}\n * * {@link Ext.event.recognizer.Pinch}\n * * {@link Ext.event.recognizer.Rotate}\n *\n * ## Additional recognisers\n *\n * * {@link Ext.event.recognizer.VerticalSwipe}\n *\n * If you want to create custom recognisers, or disable recognisers in your Sencha Touch application, please refer to the\n * documentation in {@link Ext#setup}.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Recognizer', {\n    mixins: ['Ext.mixin.Identifiable'],\n\n    handledEvents: [],\n\n    config: {\n        onRecognized: Ext.emptyFn,\n        onFailed: Ext.emptyFn,\n        callbackScope: null\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        return this;\n    },\n\n    getHandledEvents: function() {\n        return this.handledEvents;\n    },\n\n    onStart: Ext.emptyFn,\n\n    onEnd: Ext.emptyFn,\n\n    fail: function() {\n        this.getOnFailed().apply(this.getCallbackScope(), arguments);\n\n        return false;\n    },\n\n    fire: function() {\n        this.getOnRecognized().apply(this.getCallbackScope(), arguments);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.recognizer.Touch', {\n\n    extend: 'Ext.event.recognizer.Recognizer',\n\n    onTouchStart: Ext.emptyFn,\n\n    onTouchMove: Ext.emptyFn,\n\n    onTouchEnd: Ext.emptyFn\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.recognizer.SingleTouch', {\n    extend: 'Ext.event.recognizer.Touch',\n\n    inheritableStatics: {\n        NOT_SINGLE_TOUCH: 0x01,\n        TOUCH_MOVED:  0x02\n    },\n\n    onTouchStart: function(e) {\n        if (e.touches.length > 1) {\n            return this.fail(this.self.NOT_SINGLE_TOUCH);\n        }\n    }\n});\n\n\n/**\n * A simple event recogniser which knows when you drag.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Drag', {\n    extend: 'Ext.event.recognizer.SingleTouch',\n\n    isStarted: false,\n\n    startPoint: null,\n\n    previousPoint: null,\n\n    lastPoint: null,\n\n    handledEvents: ['dragstart', 'drag', 'dragend'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event dragstart\n     * Fired once when a drag has started.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event drag\n     * Fires continuously when there is dragging (the touch must move for this to be fired).\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event dragend\n     * Fires when a drag has ended.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    onTouchStart: function(e) {\n        var startTouches,\n            startTouch;\n\n        if (this.callParent(arguments) === false) {\n            if (this.isStarted && this.lastMoveEvent !== null) {\n                this.onTouchEnd(this.lastMoveEvent);\n            }\n            return false;\n        }\n\n        this.startTouches = startTouches = e.changedTouches;\n        this.startTouch = startTouch = startTouches[0];\n        this.startPoint = startTouch.point;\n    },\n\n    onTouchMove: function(e) {\n        var touches = e.changedTouches,\n            touch = touches[0],\n            point = touch.point,\n            time = e.time;\n\n        if (this.lastPoint) {\n            this.previousPoint = this.lastPoint;\n        }\n\n        if (this.lastTime) {\n            this.previousTime = this.lastTime;\n        }\n\n        this.lastTime = time;\n        this.lastPoint = point;\n        this.lastMoveEvent = e;\n\n        if (!this.isStarted) {\n            this.isStarted = true;\n\n            this.startTime = time;\n            this.previousTime = time;\n\n            this.previousPoint = this.startPoint;\n\n            this.fire('dragstart', e, this.startTouches, this.getInfo(e, this.startTouch));\n        }\n        else {\n            this.fire('drag', e, touches, this.getInfo(e, touch));\n        }\n    },\n\n    onTouchEnd: function(e) {\n        if (this.isStarted) {\n            var touches = e.changedTouches,\n                touch = touches[0],\n                point = touch.point;\n\n            this.isStarted = false;\n\n            this.lastPoint = point;\n\n            this.fire('dragend', e, touches, this.getInfo(e, touch));\n\n            this.startTime = 0;\n            this.previousTime = 0;\n            this.lastTime = 0;\n\n            this.startPoint = null;\n            this.previousPoint = null;\n            this.lastPoint = null;\n            this.lastMoveEvent = null;\n        }\n    },\n\n    getInfo: function(e, touch) {\n        var time = e.time,\n            startPoint = this.startPoint,\n            previousPoint = this.previousPoint,\n            startTime = this.startTime,\n            previousTime = this.previousTime,\n            point = this.lastPoint,\n            deltaX = point.x - startPoint.x,\n            deltaY = point.y - startPoint.y,\n            info = {\n                touch: touch,\n                startX: startPoint.x,\n                startY: startPoint.y,\n                previousX: previousPoint.x,\n                previousY: previousPoint.y,\n                pageX: point.x,\n                pageY: point.y,\n                deltaX: deltaX,\n                deltaY: deltaY,\n                absDeltaX: Math.abs(deltaX),\n                absDeltaY: Math.abs(deltaY),\n                previousDeltaX: point.x - previousPoint.x,\n                previousDeltaY: point.y - previousPoint.y,\n                time: time,\n                startTime: startTime,\n                previousTime: previousTime,\n                deltaTime: time - startTime,\n                previousDeltaTime: time - previousTime\n            };\n\n        return info;\n    }\n});\n\n/**\n * A simple event recogniser which knows when you tap.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Tap', {\n\n    handledEvents: ['tap'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event tap\n     * Fires when you tap\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event touchstart\n     * Fires when touch starts.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event tapstart\n     * @inheritdoc Ext.dom.Element#touchstart\n     * @deprecated 2.0.0 Please add listener to 'touchstart' event instead\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event touchmove\n     * Fires when movement while touching.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event tapcancel\n     * @inheritdoc Ext.dom.Element#touchmove\n     * @deprecated 2.0.0 Please add listener to 'touchmove' event instead\n     */\n\n    extend: 'Ext.event.recognizer.SingleTouch',\n\n    onTouchMove: function() {\n        return this.fail(this.self.TOUCH_MOVED);\n    },\n\n    onTouchEnd: function(e) {\n        var touch = e.changedTouches[0];\n\n        this.fire('tap', e, [touch]);\n    }\n\n}, function() {\n    this.override({\n        handledEvents: ['tap', 'tapstart', 'tapcancel'],\n\n        onTouchStart: function(e) {\n            if (this.callOverridden(arguments) === false) {\n                return false;\n            }\n\n            this.fire('tapstart', e, [e.changedTouches[0]]);\n        },\n\n        onTouchMove: function(e) {\n            this.fire('tapcancel', e, [e.changedTouches[0]]);\n\n            return this.callOverridden(arguments);\n        }\n    });\n});\n\n/**\n * A simple event recogniser which knows when you double tap.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.DoubleTap', {\n\n    extend: 'Ext.event.recognizer.SingleTouch',\n\n    config: {\n        maxDuration: 300\n    },\n\n    handledEvents: ['singletap', 'doubletap'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event singletap\n     * Fires when there is a single tap.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event doubletap\n     * Fires when there is a double tap.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    singleTapTimer: null,\n\n    onTouchStart: function(e) {\n        if (this.callParent(arguments) === false) {\n            return false;\n        }\n\n        this.startTime = e.time;\n        clearTimeout(this.singleTapTimer);\n    },\n\n    onTouchMove: function() {\n        return this.fail(this.self.TOUCH_MOVED);\n    },\n\n    onEnd: function(e) {\n        var me = this,\n            maxDuration = this.getMaxDuration(),\n            touch = e.changedTouches[0],\n            time = e.time,\n            lastTapTime = this.lastTapTime,\n            duration;\n\n        this.lastTapTime = time;\n\n        if (lastTapTime) {\n            duration = time - lastTapTime;\n\n            if (duration <= maxDuration) {\n                this.lastTapTime = 0;\n\n                this.fire('doubletap', e, [touch], {\n                    touch: touch,\n                    duration: duration\n                });\n\n                return;\n            }\n        }\n\n        if (time - this.startTime > maxDuration) {\n            this.fireSingleTap(e, touch);\n        }\n        else {\n            this.singleTapTimer = setTimeout(function() {\n                me.fireSingleTap(e, touch);\n            }, maxDuration);\n        }\n    },\n\n    fireSingleTap: function(e, touch) {\n        this.fire('singletap', e, [touch], {\n            touch: touch\n        });\n    }\n});\n\n/**\n * A event recogniser which knows when you tap and hold for more than 1 second.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.LongPress', {\n    extend: 'Ext.event.recognizer.SingleTouch',\n\n    inheritableStatics: {\n        DURATION_NOT_ENOUGH: 0x20\n    },\n\n    config: {\n        minDuration: 1000\n    },\n\n    handledEvents: ['longpress'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event longpress\n     * Fires when you touch and hold still for more than 1 second.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event taphold\n     * @inheritdoc Ext.dom.Element#longpress\n     */\n\n    fireLongPress: function(e) {\n        var touch = e.changedTouches[0];\n\n        this.fire('longpress', e, [touch], {\n            touch: touch,\n            duration: this.getMinDuration()\n        });\n\n        this.isLongPress = true;\n    },\n\n    onTouchStart: function(e) {\n        var me = this;\n\n        if (this.callParent(arguments) === false) {\n            return false;\n        }\n\n        this.isLongPress = false;\n\n        this.timer = setTimeout(function() {\n            me.fireLongPress(e);\n        }, this.getMinDuration());\n    },\n\n    onTouchMove: function() {\n        return this.fail(this.self.TOUCH_MOVED);\n    },\n\n    onTouchEnd: function() {\n        if (!this.isLongPress) {\n            return this.fail(this.self.DURATION_NOT_ENOUGH);\n        }\n    },\n\n    fail: function() {\n        clearTimeout(this.timer);\n\n        return this.callParent(arguments);\n    }\n\n}, function() {\n    this.override({\n        handledEvents: ['longpress', 'taphold'],\n\n        fire: function(eventName) {\n            if (eventName === 'longpress') {\n                var args = Array.prototype.slice.call(arguments);\n                args[0] = 'taphold';\n\n                this.fire.apply(this, args);\n            }\n\n            return this.callOverridden(arguments);\n        }\n    });\n});\n\n/**\n * A base class used for both {@link Ext.event.recognizer.VerticalSwipe} and {@link Ext.event.recognizer.HorizontalSwipe}\n * event recognisers.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Swipe', {\n    extend: 'Ext.event.recognizer.SingleTouch',\n\n    handledEvents: ['swipe'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event swipe\n     * Fires when there is a swipe\n     * When listening to this, ensure you know about the {@link Ext.event.Event#direction} property in the `event` object.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @property {Number} direction\n     * The direction of the swipe. Available options are:\n     *\n     * * up\n     * * down\n     * * left\n     * * right\n     *\n     * Note: In order to recognise swiping up and down, you must enable the vertical swipe recogniser.\n     *\n     * **This is only available when the event type is `swipe`**\n     * @member Ext.event.Event\n     */\n\n    /**\n     * @property {Number} duration\n     * The duration of the swipe.\n     *\n     * **This is only available when the event type is `swipe`**\n     * @member Ext.event.Event\n     */\n\n    inheritableStatics: {\n        MAX_OFFSET_EXCEEDED: 0x10,\n        MAX_DURATION_EXCEEDED: 0x11,\n        DISTANCE_NOT_ENOUGH: 0x12\n    },\n\n    config: {\n        minDistance: 80,\n        maxOffset: 35,\n        maxDuration: 1000\n    },\n\n    onTouchStart: function(e) {\n        if (this.callParent(arguments) === false) {\n            return false;\n        }\n\n        var touch = e.changedTouches[0];\n\n        this.startTime = e.time;\n\n        this.isHorizontal = true;\n        this.isVertical = true;\n\n        this.startX = touch.pageX;\n        this.startY = touch.pageY;\n    },\n\n    onTouchMove: function(e) {\n        var touch = e.changedTouches[0],\n            x = touch.pageX,\n            y = touch.pageY,\n            absDeltaX = Math.abs(x - this.startX),\n            absDeltaY = Math.abs(y - this.startY),\n            time = e.time;\n\n        if (time - this.startTime > this.getMaxDuration()) {\n            return this.fail(this.self.MAX_DURATION_EXCEEDED);\n        }\n\n        if (this.isVertical && absDeltaX > this.getMaxOffset()) {\n            this.isVertical = false;\n        }\n\n        if (this.isHorizontal && absDeltaY > this.getMaxOffset()) {\n            this.isHorizontal = false;\n        }\n\n        if (!this.isHorizontal && !this.isVertical) {\n            return this.fail(this.self.MAX_OFFSET_EXCEEDED);\n        }\n    },\n\n    onTouchEnd: function(e) {\n        if (this.onTouchMove(e) === false) {\n            return false;\n        }\n\n        var touch = e.changedTouches[0],\n            x = touch.pageX,\n            y = touch.pageY,\n            deltaX = x - this.startX,\n            deltaY = y - this.startY,\n            absDeltaX = Math.abs(deltaX),\n            absDeltaY = Math.abs(deltaY),\n            minDistance = this.getMinDistance(),\n            duration = e.time - this.startTime,\n            direction, distance;\n\n        if (this.isVertical && absDeltaY < minDistance) {\n            this.isVertical = false;\n        }\n\n        if (this.isHorizontal && absDeltaX < minDistance) {\n            this.isHorizontal = false;\n        }\n\n        if (this.isHorizontal) {\n            direction = (deltaX < 0) ? 'left' : 'right';\n            distance = absDeltaX;\n        }\n        else if (this.isVertical) {\n            direction = (deltaY < 0) ? 'up' : 'down';\n            distance = absDeltaY;\n        }\n        else {\n            return this.fail(this.self.DISTANCE_NOT_ENOUGH);\n        }\n\n        this.fire('swipe', e, [touch], {\n            touch: touch,\n            direction: direction,\n            distance: distance,\n            duration: duration\n        });\n    }\n});\n\n/**\n * A event recogniser created to recognise horitzontal swipe movements.\n * \n * @private\n */\nExt.define('Ext.event.recognizer.HorizontalSwipe', {\n    extend: 'Ext.event.recognizer.Swipe',\n\n    handledEvents: ['swipe'],\n\n    onTouchStart: function(e) {\n        if (this.callParent(arguments) === false) {\n            return false;\n        }\n\n        var touch = e.changedTouches[0];\n\n        this.startTime = e.time;\n\n        this.startX = touch.pageX;\n        this.startY = touch.pageY;\n    },\n\n    onTouchMove: function(e) {\n        var touch = e.changedTouches[0],\n            y = touch.pageY,\n            absDeltaY = Math.abs(y - this.startY),\n            time = e.time,\n            maxDuration = this.getMaxDuration(),\n            maxOffset = this.getMaxOffset();\n\n        if (time - this.startTime > maxDuration) {\n            return this.fail(this.self.MAX_DURATION_EXCEEDED);\n        }\n\n        if (absDeltaY > maxOffset) {\n            return this.fail(this.self.MAX_OFFSET_EXCEEDED);\n        }\n    },\n\n    onTouchEnd: function(e) {\n        if (this.onTouchMove(e) !== false) {\n            var touch = e.changedTouches[0],\n                x = touch.pageX,\n                deltaX = x - this.startX,\n                distance = Math.abs(deltaX),\n                duration = e.time - this.startTime,\n                minDistance = this.getMinDistance(),\n                direction;\n\n            if (distance < minDistance) {\n                return this.fail(this.self.DISTANCE_NOT_ENOUGH);\n            }\n\n            direction = (deltaX < 0) ? 'left' : 'right';\n\n            this.fire('swipe', e, [touch], {\n                touch: touch,\n                direction: direction,\n                distance: distance,\n                duration: duration\n            });\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.recognizer.MultiTouch', {\n    extend: 'Ext.event.recognizer.Touch',\n\n    requiredTouchesCount: 2,\n\n    isTracking: false,\n\n    isStarted: false,\n\n    onTouchStart: function(e) {\n        var requiredTouchesCount = this.requiredTouchesCount,\n            touches = e.touches,\n            touchesCount = touches.length;\n\n        if (touchesCount === requiredTouchesCount) {\n            this.start(e);\n        }\n        else if (touchesCount > requiredTouchesCount) {\n            this.end(e);\n        }\n    },\n\n    onTouchEnd: function(e) {\n        this.end(e);\n    },\n\n    start: function() {\n        if (!this.isTracking) {\n            this.isTracking = true;\n            this.isStarted = false;\n        }\n    },\n\n    end: function(e) {\n        if (this.isTracking) {\n            this.isTracking = false;\n\n            if (this.isStarted) {\n                this.isStarted = false;\n\n                this.fireEnd(e);\n            }\n        }\n    }\n});\n\n/**\n * A event recogniser which knows when you pinch.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Pinch', {\n    extend: 'Ext.event.recognizer.MultiTouch',\n\n    requiredTouchesCount: 2,\n\n    handledEvents: ['pinchstart', 'pinch', 'pinchend'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event pinchstart\n     * Fired once when a pinch has started.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event pinch\n     * Fires continuously when there is pinching (the touch must move for this to be fired).\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event pinchend\n     * Fires when a pinch has ended.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @property {Number} scale\n     * The scape of a pinch event.\n     *\n     * **This is only available when the event type is `pinch`**\n     * @member Ext.event.Event\n     */\n\n    startDistance: 0,\n\n    lastTouches: null,\n\n    onTouchMove: function(e) {\n        if (!this.isTracking) {\n            return;\n        }\n\n        var touches = Array.prototype.slice.call(e.touches),\n            firstPoint, secondPoint, distance;\n\n        firstPoint = touches[0].point;\n        secondPoint = touches[1].point;\n\n        distance = firstPoint.getDistanceTo(secondPoint);\n\n        if (distance === 0) {\n            return;\n        }\n\n        if (!this.isStarted) {\n\n            this.isStarted = true;\n\n            this.startDistance = distance;\n\n            this.fire('pinchstart', e, touches, {\n                touches: touches,\n                distance: distance,\n                scale: 1\n            });\n        }\n        else {\n            this.fire('pinch', e, touches, {\n                touches: touches,\n                distance: distance,\n                scale: distance / this.startDistance\n            });\n        }\n\n        this.lastTouches = touches;\n    },\n\n    fireEnd: function(e) {\n        this.fire('pinchend', e, this.lastTouches);\n    },\n\n    fail: function() {\n        return this.callParent(arguments);\n    }\n});\n\n/**\n * A simple event recogniser which knows when you rotate.\n *\n * @private\n */\nExt.define('Ext.event.recognizer.Rotate', {\n    extend: 'Ext.event.recognizer.MultiTouch',\n\n    requiredTouchesCount: 2,\n\n    handledEvents: ['rotatestart', 'rotate', 'rotateend'],\n\n    /**\n     * @member Ext.dom.Element\n     * @event rotatestart\n     * Fired once when a rotation has started.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event rotate\n     * Fires continuously when there is rotation (the touch must move for this to be fired).\n     * When listening to this, ensure you know about the {@link Ext.event.Event#angle} and {@link Ext.event.Event#rotation}\n     * properties in the `event` object.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @member Ext.dom.Element\n     * @event rotateend\n     * Fires when a rotation event has ended.\n     * @param {Ext.event.Event} event The {@link Ext.event.Event} event encapsulating the DOM event.\n     * @param {HTMLElement} node The target of the event.\n     * @param {Object} options The options object passed to Ext.mixin.Observable.addListener.\n     */\n\n    /**\n     * @property {Number} angle\n     * The angle of the rotation.\n     *\n     * **This is only available when the event type is `rotate`**\n     * @member Ext.event.Event\n     */\n\n    /**\n     * @property {Number} rotation\n     * A amount of rotation, since the start of the event.\n     *\n     * **This is only available when the event type is `rotate`**\n     * @member Ext.event.Event\n     */\n\n    startAngle: 0,\n\n    lastTouches: null,\n\n    lastAngle: null,\n\n    onTouchMove: function(e) {\n        if (!this.isTracking) {\n            return;\n        }\n\n        var touches = Array.prototype.slice.call(e.touches),\n            lastAngle = this.lastAngle,\n            firstPoint, secondPoint, angle, nextAngle, previousAngle, diff;\n\n        firstPoint = touches[0].point;\n        secondPoint = touches[1].point;\n\n        angle = firstPoint.getAngleTo(secondPoint);\n\n        if (lastAngle !== null) {\n            diff = Math.abs(lastAngle - angle);\n            nextAngle = angle + 360;\n            previousAngle = angle - 360;\n\n            if (Math.abs(nextAngle - lastAngle) < diff) {\n                angle = nextAngle;\n            }\n            else if (Math.abs(previousAngle - lastAngle) < diff) {\n                angle = previousAngle;\n            }\n        }\n\n        this.lastAngle = angle;\n\n        if (!this.isStarted) {\n            this.isStarted = true;\n\n            this.startAngle = angle;\n\n            this.fire('rotatestart', e, touches, {\n                touches: touches,\n                angle: angle,\n                rotation: 0\n            });\n        }\n        else {\n            this.fire('rotate', e, touches, {\n                touches: touches,\n                angle: angle,\n                rotation: angle - this.startAngle\n            });\n        }\n\n        this.lastTouches = touches;\n    },\n\n    fireEnd: function(e) {\n        this.lastAngle = null;\n        this.fire('rotateend', e, this.lastTouches);\n    }\n});\n\n/**\n * @class Ext.ComponentQuery\n * @extends Object\n * @singleton\n *\n * Provides searching of Components within Ext.ComponentManager (globally) or a specific\n * Ext.container.Container on the document with a similar syntax to a CSS selector.\n *\n * Components can be retrieved by using their {@link Ext.Component xtype} with an optional . prefix\n *\n * - `component` or `.component`\n * - `gridpanel` or `.gridpanel`\n *\n * An itemId or id must be prefixed with a #\n *\n * - `#myContainer`\n *\n * Attributes must be wrapped in brackets\n *\n * - `component[autoScroll]`\n * - `panel[title=\"Test\"]`\n *\n * Member expressions from candidate Components may be tested. If the expression returns a *truthy* value,\n * the candidate Component will be included in the query:\n *\n *     var disabledFields = myFormPanel.query(\"{isDisabled()}\");\n *\n * Pseudo classes may be used to filter results in the same way as in {@link Ext.DomQuery DomQuery}:\n *\n *     // Function receives array and returns a filtered array.\n *     Ext.ComponentQuery.pseudos.invalid = function(items) {\n *         var i = 0, l = items.length, c, result = [];\n *         for (; i < l; i++) {\n *             if (!(c = items[i]).isValid()) {\n *                 result.push(c);\n *             }\n *         }\n *         return result;\n *     };\n *\n *     var invalidFields = myFormPanel.query('field:invalid');\n *     if (invalidFields.length) {\n *         invalidFields[0].getEl().scrollIntoView(myFormPanel.body);\n *         for (var i = 0, l = invalidFields.length; i < l; i++) {\n *             invalidFields[i].getEl().frame(\"red\");\n *         }\n *     }\n *\n * Default pseudos include:\n *\n * - not\n *\n * Queries return an array of components.\n * Here are some example queries.\n *\n *     // retrieve all Ext.Panels in the document by xtype\n *     var panelsArray = Ext.ComponentQuery.query('panel');\n *\n *     // retrieve all Ext.Panels within the container with an id myCt\n *     var panelsWithinmyCt = Ext.ComponentQuery.query('#myCt panel');\n *\n *     // retrieve all direct children which are Ext.Panels within myCt\n *     var directChildPanel = Ext.ComponentQuery.query('#myCt > panel');\n *\n *     // retrieve all grids and trees\n *     var gridsAndTrees = Ext.ComponentQuery.query('gridpanel, treepanel');\n *\n * For easy access to queries based from a particular Container see the {@link Ext.Container#query},\n * {@link Ext.Container#down} and {@link Ext.Container#child} methods. Also see\n * {@link Ext.Component#up}.\n */\nExt.define('Ext.ComponentQuery', {\n    singleton: true,\n    uses: ['Ext.ComponentManager']\n}, function() {\n\n    var cq = this,\n\n        // A function source code pattern with a placeholder which accepts an expression which yields a truth value when applied\n        // as a member on each item in the passed array.\n        filterFnPattern = [\n            'var r = [],',\n                'i = 0,',\n                'it = items,',\n                'l = it.length,',\n                'c;',\n            'for (; i < l; i++) {',\n                'c = it[i];',\n                'if (c.{0}) {',\n                   'r.push(c);',\n                '}',\n            '}',\n            'return r;'\n        ].join(''),\n\n        filterItems = function(items, operation) {\n            // Argument list for the operation is [ itemsArray, operationArg1, operationArg2...]\n            // The operation's method loops over each item in the candidate array and\n            // returns an array of items which match its criteria\n            return operation.method.apply(this, [ items ].concat(operation.args));\n        },\n\n        getItems = function(items, mode) {\n            var result = [],\n                i = 0,\n                length = items.length,\n                candidate,\n                deep = mode !== '>';\n\n            for (; i < length; i++) {\n                candidate = items[i];\n                if (candidate.getRefItems) {\n                    result = result.concat(candidate.getRefItems(deep));\n                }\n            }\n            return result;\n        },\n\n        getAncestors = function(items) {\n            var result = [],\n                i = 0,\n                length = items.length,\n                candidate;\n            for (; i < length; i++) {\n                candidate = items[i];\n                while (!!(candidate = (candidate.ownerCt || candidate.floatParent))) {\n                    result.push(candidate);\n                }\n            }\n            return result;\n        },\n\n        // Filters the passed candidate array and returns only items which match the passed xtype\n        filterByXType = function(items, xtype, shallow) {\n            if (xtype === '*') {\n                return items.slice();\n            }\n            else {\n                var result = [],\n                    i = 0,\n                    length = items.length,\n                    candidate;\n                for (; i < length; i++) {\n                    candidate = items[i];\n                    if (candidate.isXType(xtype, shallow)) {\n                        result.push(candidate);\n                    }\n                }\n                return result;\n            }\n        },\n\n        // Filters the passed candidate array and returns only items which have the passed className\n        filterByClassName = function(items, className) {\n            var EA = Ext.Array,\n                result = [],\n                i = 0,\n                length = items.length,\n                candidate;\n            for (; i < length; i++) {\n                candidate = items[i];\n                if (candidate.el ? candidate.el.hasCls(className) : EA.contains(candidate.initCls(), className)) {\n                    result.push(candidate);\n                }\n            }\n            return result;\n        },\n\n        // Filters the passed candidate array and returns only items which have the specified property match\n        filterByAttribute = function(items, property, operator, value) {\n            var result = [],\n                i = 0,\n                length = items.length,\n                candidate, getter, getValue;\n            for (; i < length; i++) {\n                candidate = items[i];\n                getter = Ext.Class.getConfigNameMap(property).get;\n                if (candidate[getter]) {\n                    getValue = candidate[getter]();\n                    if (!value ? !!getValue : (String(getValue) === value)) {\n                        result.push(candidate);\n                    }\n                }\n                else if (candidate.config && candidate.config[property]) {\n                    if (!value ? !!candidate.config[property] : (String(candidate.config[property]) === value)) {\n                        result.push(candidate);\n                    }\n                }\n                else if (!value ? !!candidate[property] : (String(candidate[property]) === value)) {\n                    result.push(candidate);\n                }\n            }\n            return result;\n        },\n\n        // Filters the passed candidate array and returns only items which have the specified itemId or id\n        filterById = function(items, id) {\n            var result = [],\n                i = 0,\n                length = items.length,\n                candidate;\n            for (; i < length; i++) {\n                candidate = items[i];\n                if (candidate.getId() === id || candidate.getItemId() === id) {\n                    result.push(candidate);\n                }\n            }\n            return result;\n        },\n\n        // Filters the passed candidate array and returns only items which the named pseudo class matcher filters in\n        filterByPseudo = function(items, name, value) {\n            return cq.pseudos[name](items, value);\n        },\n\n        // Determines leading mode\n        // > for direct child, and ^ to switch to ownerCt axis\n        modeRe = /^(\\s?([>\\^])\\s?|\\s|$)/,\n\n        // Matches a token with possibly (true|false) appended for the \"shallow\" parameter\n        tokenRe = /^(#)?([\\w\\-]+|\\*)(?:\\((true|false)\\))?/,\n\n        matchers = [{\n            // Checks for .xtype with possibly (true|false) appended for the \"shallow\" parameter\n            re: /^\\.([\\w\\-]+)(?:\\((true|false)\\))?/,\n            method: filterByXType\n        },{\n            // checks for [attribute=value]\n            re: /^(?:[\\[](?:@)?([\\w\\-]+)\\s?(?:(=|.=)\\s?['\"]?(.*?)[\"']?)?[\\]])/,\n            method: filterByAttribute\n        }, {\n            // checks for #cmpItemId\n            re: /^#([\\w\\-]+)/,\n            method: filterById\n        }, {\n            // checks for :<pseudo_class>(<selector>)\n            re: /^\\:([\\w\\-]+)(?:\\(((?:\\{[^\\}]+\\})|(?:(?!\\{)[^\\s>\\/]*?(?!\\})))\\))?/,\n            method: filterByPseudo\n        }, {\n            // checks for {<member_expression>}\n            re: /^(?:\\{([^\\}]+)\\})/,\n            method: filterFnPattern\n        }];\n\n    cq.Query = Ext.extend(Object, {\n        constructor: function(cfg) {\n            cfg = cfg || {};\n            Ext.apply(this, cfg);\n        },\n\n        /**\n         * @private\n         * Executes this Query upon the selected root.\n         * The root provides the initial source of candidate Component matches which are progressively\n         * filtered by iterating through this Query's operations cache.\n         * If no root is provided, all registered Components are searched via the ComponentManager.\n         * root may be a Container who's descendant Components are filtered\n         * root may be a Component with an implementation of getRefItems which provides some nested Components such as the\n         * docked items within a Panel.\n         * root may be an array of candidate Components to filter using this Query.\n         */\n        execute : function(root) {\n            var operations = this.operations,\n                i = 0,\n                length = operations.length,\n                operation,\n                workingItems;\n\n            // no root, use all Components in the document\n            if (!root) {\n                workingItems = Ext.ComponentManager.all.getArray();\n            }\n            // Root is a candidate Array\n            else if (Ext.isArray(root)) {\n                workingItems = root;\n            }\n\n            // We are going to loop over our operations and take care of them\n            // one by one.\n            for (; i < length; i++) {\n                operation = operations[i];\n\n                // The mode operation requires some custom handling.\n                // All other operations essentially filter down our current\n                // working items, while mode replaces our current working\n                // items by getting children from each one of our current\n                // working items. The type of mode determines the type of\n                // children we get. (e.g. > only gets direct children)\n                if (operation.mode === '^') {\n                    workingItems = getAncestors(workingItems || [root]);\n                }\n                else if (operation.mode) {\n                    workingItems = getItems(workingItems || [root], operation.mode);\n                }\n                else {\n                    workingItems = filterItems(workingItems || getItems([root]), operation);\n                }\n\n                // If this is the last operation, it means our current working\n                // items are the final matched items. Thus return them!\n                if (i === length -1) {\n                    return workingItems;\n                }\n            }\n            return [];\n        },\n\n        is: function(component) {\n            var operations = this.operations,\n                components = Ext.isArray(component) ? component : [component],\n                originalLength = components.length,\n                lastOperation = operations[operations.length-1],\n                ln, i;\n\n            components = filterItems(components, lastOperation);\n            if (components.length === originalLength) {\n                if (operations.length > 1) {\n                    for (i = 0, ln = components.length; i < ln; i++) {\n                        if (Ext.Array.indexOf(this.execute(), components[i]) === -1) {\n                            return false;\n                        }\n                    }\n                }\n                return true;\n            }\n            return false;\n        }\n    });\n\n    Ext.apply(this, {\n\n        // private cache of selectors and matching ComponentQuery.Query objects\n        cache: {},\n\n        // private cache of pseudo class filter functions\n        pseudos: {\n            not: function(components, selector){\n                var CQ = Ext.ComponentQuery,\n                    i = 0,\n                    length = components.length,\n                    results = [],\n                    index = -1,\n                    component;\n\n                for(; i < length; ++i) {\n                    component = components[i];\n                    if (!CQ.is(component, selector)) {\n                        results[++index] = component;\n                    }\n                }\n                return results;\n            }\n        },\n\n        /**\n         * Returns an array of matched Components from within the passed root object.\n         *\n         * This method filters returned Components in a similar way to how CSS selector based DOM\n         * queries work using a textual selector string.\n         *\n         * See class summary for details.\n         *\n         * @param {String} selector The selector string to filter returned Components\n         * @param {Ext.Container} root The Container within which to perform the query.\n         * If omitted, all Components within the document are included in the search.\n         *\n         * This parameter may also be an array of Components to filter according to the selector.</p>\n         * @returns {Ext.Component[]} The matched Components.\n         *\n         * @member Ext.ComponentQuery\n         */\n        query: function(selector, root) {\n            var selectors = selector.split(','),\n                length = selectors.length,\n                i = 0,\n                results = [],\n                noDupResults = [],\n                dupMatcher = {},\n                query, resultsLn, cmp;\n\n            for (; i < length; i++) {\n                selector = Ext.String.trim(selectors[i]);\n                query = this.parse(selector);\n//                query = this.cache[selector];\n//                if (!query) {\n//                    this.cache[selector] = query = this.parse(selector);\n//                }\n                results = results.concat(query.execute(root));\n            }\n\n            // multiple selectors, potential to find duplicates\n            // lets filter them out.\n            if (length > 1) {\n                resultsLn = results.length;\n                for (i = 0; i < resultsLn; i++) {\n                    cmp = results[i];\n                    if (!dupMatcher[cmp.id]) {\n                        noDupResults.push(cmp);\n                        dupMatcher[cmp.id] = true;\n                    }\n                }\n                results = noDupResults;\n            }\n            return results;\n        },\n\n        /**\n         * Tests whether the passed Component matches the selector string.\n         * @param {Ext.Component} component The Component to test\n         * @param {String} selector The selector string to test against.\n         * @return {Boolean} True if the Component matches the selector.\n         * @member Ext.ComponentQuery\n         */\n        is: function(component, selector) {\n            if (!selector) {\n                return true;\n            }\n            var query = this.cache[selector];\n            if (!query) {\n                this.cache[selector] = query = this.parse(selector);\n            }\n            return query.is(component);\n        },\n\n        parse: function(selector) {\n            var operations = [],\n                length = matchers.length,\n                lastSelector,\n                tokenMatch,\n                matchedChar,\n                modeMatch,\n                selectorMatch,\n                i, matcher, method;\n\n            // We are going to parse the beginning of the selector over and\n            // over again, slicing off the selector any portions we converted into an\n            // operation, until it is an empty string.\n            while (selector && lastSelector !== selector) {\n                lastSelector = selector;\n\n                // First we check if we are dealing with a token like #, * or an xtype\n                tokenMatch = selector.match(tokenRe);\n\n                if (tokenMatch) {\n                    matchedChar = tokenMatch[1];\n\n                    // If the token is prefixed with a # we push a filterById operation to our stack\n                    if (matchedChar === '#') {\n                        operations.push({\n                            method: filterById,\n                            args: [Ext.String.trim(tokenMatch[2])]\n                        });\n                    }\n                    // If the token is prefixed with a . we push a filterByClassName operation to our stack\n                    // FIXME: Not enabled yet. just needs \\. adding to the tokenRe prefix\n                    else if (matchedChar === '.') {\n                        operations.push({\n                            method: filterByClassName,\n                            args: [Ext.String.trim(tokenMatch[2])]\n                        });\n                    }\n                    // If the token is a * or an xtype string, we push a filterByXType\n                    // operation to the stack.\n                    else {\n                        operations.push({\n                            method: filterByXType,\n                            args: [Ext.String.trim(tokenMatch[2]), Boolean(tokenMatch[3])]\n                        });\n                    }\n\n                    // Now we slice of the part we just converted into an operation\n                    selector = selector.replace(tokenMatch[0], '');\n                }\n\n                // If the next part of the query is not a space or > or ^, it means we\n                // are going to check for more things that our current selection\n                // has to comply to.\n                while (!(modeMatch = selector.match(modeRe))) {\n                    // Lets loop over each type of matcher and execute it\n                    // on our current selector.\n                    for (i = 0; selector && i < length; i++) {\n                        matcher = matchers[i];\n                        selectorMatch = selector.match(matcher.re);\n                        method = matcher.method;\n\n                        // If we have a match, add an operation with the method\n                        // associated with this matcher, and pass the regular\n                        // expression matches are arguments to the operation.\n                        if (selectorMatch) {\n                            operations.push({\n                                method: Ext.isString(matcher.method)\n                                    // Turn a string method into a function by formatting the string with our selector matche expression\n                                    // A new method is created for different match expressions, eg {id=='textfield-1024'}\n                                    // Every expression may be different in different selectors.\n                                    ? Ext.functionFactory('items', Ext.String.format.apply(Ext.String, [method].concat(selectorMatch.slice(1))))\n                                    : matcher.method,\n                                args: selectorMatch.slice(1)\n                            });\n                            selector = selector.replace(selectorMatch[0], '');\n                            break; // Break on match\n                        }\n                        // Exhausted all matches: It's an error\n                        if (i === (length - 1)) {\n                            Ext.Error.raise('Invalid ComponentQuery selector: \"' + arguments[0] + '\"');\n                        }\n                    }\n                }\n\n                // Now we are going to check for a mode change. This means a space\n                // or a > to determine if we are going to select all the children\n                // of the currently matched items, or a ^ if we are going to use the\n                // ownerCt axis as the candidate source.\n                if (modeMatch[1]) { // Assignment, and test for truthiness!\n                    operations.push({\n                        mode: modeMatch[2]||modeMatch[1]\n                    });\n                    selector = selector.replace(modeMatch[0], '');\n                }\n            }\n\n            //  Now that we have all our operations in an array, we are going\n            // to create a new Query using these operations.\n            return new cq.Query({\n                operations: operations\n            });\n        }\n    });\n});\n/**\n * @private\n *\n * <p>Provides a registry of all Components (instances of {@link Ext.Component} or any subclass\n * thereof) on a page so that they can be easily accessed by {@link Ext.Component component}\n * {@link Ext.Component#getId id} (see {@link #get}, or the convenience method {@link Ext#getCmp Ext.getCmp}).</p>\n * <p>This object also provides a registry of available Component <i>classes</i>\n * indexed by a mnemonic code known as the Component's `xtype`.\n * The <code>xtype</code> provides a way to avoid instantiating child Components\n * when creating a full, nested config object for a complete Ext page.</p>\n * <p>A child Component may be specified simply as a <i>config object</i>\n * as long as the correct `xtype` is specified so that if and when the Component\n * needs rendering, the correct type can be looked up for lazy instantiation.</p>\n * <p>For a list of all available `xtype`, see {@link Ext.Component}.</p>\n */\nExt.define('Ext.ComponentManager', {\n    alternateClassName: 'Ext.ComponentMgr',\n    singleton: true,\n\n    constructor: function() {\n        var map = {};\n\n        // The sole reason for this is just to support the old code of ComponentQuery\n        this.all = {\n            map: map,\n\n            getArray: function() {\n                var list = [],\n                    id;\n\n                for (id in map) {\n                    list.push(map[id]);\n                }\n\n                return list;\n            }\n        };\n\n        this.map = map;\n    },\n\n    /**\n     * Registers an item to be managed\n     * @param {Object} component The item to register\n     */\n    register: function(component) {\n        var id = component.getId();\n\n        if (this.map[id]) {\n            Ext.Logger.warn('Registering a component with a id (`' + id + '`) which has already been used. Please ensure the existing component has been destroyed (`Ext.Component#destroy()`.');\n        }\n\n        this.map[component.getId()] = component;\n    },\n\n    /**\n     * Unregisters an item by removing it from this manager\n     * @param {Object} component The item to unregister\n     */\n    unregister: function(component) {\n        delete this.map[component.getId()];\n    },\n\n    /**\n     * Checks if an item type is registered.\n     * @param {String} component The mnemonic string by which the class may be looked up\n     * @return {Boolean} Whether the type is registered.\n     */\n    isRegistered : function(component){\n        return this.map[component] !== undefined;\n    },\n\n    /**\n     * Returns an item by id.\n     * For additional details see {@link Ext.util.HashMap#get}.\n     * @param {String} id The id of the item\n     * @return {Object} The item, undefined if not found.\n     */\n    get: function(id) {\n        return this.map[id];\n    },\n\n    /**\n     * Creates a new Component from the specified config object using the\n     * config object's xtype to determine the class to instantiate.\n     * @param {Object} config A configuration object for the Component you wish to create.\n     * @param {Function} defaultType (optional) The constructor to provide the default Component type if\n     * the config object does not contain a <code>xtype</code>. (Optional if the config contains a <code>xtype</code>).\n     * @return {Ext.Component} The newly instantiated Component.\n     */\n    create: function(component, defaultType) {\n        if (component.isComponent) {\n            return component;\n        }\n        else if (Ext.isString(component)) {\n            return Ext.createByAlias('widget.' + component);\n        }\n        else {\n            var type = component.xtype || defaultType;\n\n            return Ext.createByAlias('widget.' + type, component);\n        }\n    },\n\n    registerType: Ext.emptyFn\n});\n\n/**\n * Base class for all mixins.\n * @private\n */\nExt.define('Ext.mixin.Mixin', {\n    onClassExtended: function(cls, data) {\n        var mixinConfig = data.mixinConfig,\n            parentClassMixinConfig,\n            beforeHooks, afterHooks;\n\n        if (mixinConfig) {\n            parentClassMixinConfig = cls.superclass.mixinConfig;\n\n            if (parentClassMixinConfig) {\n                mixinConfig = data.mixinConfig = Ext.merge({}, parentClassMixinConfig, mixinConfig);\n            }\n\n            data.mixinId = mixinConfig.id;\n\n            beforeHooks = mixinConfig.beforeHooks;\n            afterHooks = mixinConfig.hooks || mixinConfig.afterHooks;\n\n            if (beforeHooks || afterHooks) {\n                Ext.Function.interceptBefore(data, 'onClassMixedIn', function(targetClass) {\n                    var mixin = this.prototype;\n\n                    if (beforeHooks) {\n                        Ext.Object.each(beforeHooks, function(from, to) {\n                            targetClass.override(to, function() {\n                                if (mixin[from].apply(this, arguments) !== false) {\n                                    return this.callOverridden(arguments);\n                                }\n                            });\n                        });\n                    }\n\n                    if (afterHooks) {\n                        Ext.Object.each(afterHooks, function(from, to) {\n                            targetClass.override(to, function() {\n                                var ret = this.callOverridden(arguments);\n\n                                mixin[from].apply(this, arguments);\n\n                                return ret;\n                            });\n                        });\n                    }\n                });\n            }\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.behavior.Behavior', {\n    constructor: function(component) {\n        this.component = component;\n\n        component.on('destroy', 'onComponentDestroy', this);\n    },\n\n    onComponentDestroy: Ext.emptyFn\n});\n\n/**\n * Mixin that provides a common interface for publishing events. Classes using this mixin can use the {@link #fireEvent}\n * and {@link #fireAction} methods to notify listeners of events on the class.\n *\n * Classes can also define a {@link #listeners} config to add an event hanler to the current object. See\n * {@link #addListener} for more details.\n *\n * ## Example\n *\n *     Ext.define('Employee', {\n *         mixins: ['Ext.mixin.Observable'],\n *\n *         config: {\n *             fullName: ''\n *         },\n *\n *         constructor: function(config) {\n *             this.initConfig(config);  // We need to initialize the config options when the class is instantiated\n *         },\n *\n *         quitJob: function() {\n *              this.fireEvent('quit');\n *         }\n *     });\n *\n *     var newEmployee = Ext.create('Employee', {\n *\n *         fullName: 'Ed Spencer',\n *\n *         listeners: {\n *             quit: function() { // This function will be called when the 'quit' event is fired\n *                 // By default, \"this\" will be the object that fired the event.\n *                 console.log(this.getFullName() + \" has quit!\");\n *             }\n *         }\n *     });\n *\n *     newEmployee.quitJob(); // Will log 'Ed Spencer has quit!'\n *\n *  @aside guide events\n */\nExt.define('Ext.mixin.Observable', {\n\n    requires: ['Ext.event.Dispatcher'],\n\n    extend: 'Ext.mixin.Mixin',\n\n    mixins: ['Ext.mixin.Identifiable'],\n\n    mixinConfig: {\n        id: 'observable',\n        hooks: {\n            destroy: 'destroy'\n        }\n    },\n\n    alternateClassName: 'Ext.util.Observable',\n\n    // @private\n    isObservable: true,\n\n    observableType: 'observable',\n\n    validIdRegex: /^([\\w\\-]+)$/,\n\n    observableIdPrefix: '#',\n\n    listenerOptionsRegex: /^(?:delegate|single|delay|buffer|args|prepend)$/,\n\n    config: {\n        /**\n         * @cfg {Object} listeners\n         *\n         * A config object containing one or more event handlers to be added to this object during initialization. This\n         * should be a valid listeners config object as specified in the {@link #addListener} example for attaching\n         * multiple handlers at once.\n         *\n         * See the [Event guide](#!/guide/events) for more\n         *\n         * **Note** it is bad practice to specify a listeners config when you are defining a class using Ext.define.\n         * Instead, only specify listeners when you are instantiating your class with Ext.create.\n         * @accessor\n         */\n        listeners: null,\n\n        /**\n         * @cfg {String/String[]} bubbleEvents The event name to bubble, or an Array of event names.\n         * @accessor\n         */\n        bubbleEvents: null\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applyListeners: function(listeners) {\n        if (listeners) {\n            this.addListener(listeners);\n        }\n    },\n\n    applyBubbleEvents: function(bubbleEvents) {\n        if (bubbleEvents) {\n            this.enableBubble(bubbleEvents);\n        }\n    },\n\n    getOptimizedObservableId: function() {\n        return this.observableId;\n    },\n\n    getObservableId: function() {\n        if (!this.observableId) {\n            var id = this.getUniqueId();\n\n            if (!id.match(this.validIdRegex)) {\n                Ext.Logger.error(\"Invalid unique id of '\" + id + \"' for this object\", this);\n            }\n\n            this.observableId = this.observableIdPrefix + id;\n\n            this.getObservableId = this.getOptimizedObservableId;\n        }\n\n        return this.observableId;\n    },\n\n    getOptimizedEventDispatcher: function() {\n        return this.eventDispatcher;\n    },\n\n    getEventDispatcher: function() {\n        if (!this.eventDispatcher) {\n            this.eventDispatcher = Ext.event.Dispatcher.getInstance();\n            this.getEventDispatcher = this.getOptimizedEventDispatcher;\n\n            this.getListeners();\n            this.getBubbleEvents();\n        }\n\n        return this.eventDispatcher;\n    },\n\n    getManagedListeners: function(object, eventName) {\n        var id = object.getUniqueId(),\n            managedListeners = this.managedListeners;\n\n        if (!managedListeners) {\n            this.managedListeners = managedListeners = {};\n        }\n\n        if (!managedListeners[id]) {\n            managedListeners[id] = {};\n            object.doAddListener('destroy', 'clearManagedListeners', this, {\n                single: true,\n                args: [object]\n            });\n        }\n\n        if (!managedListeners[id][eventName]) {\n            managedListeners[id][eventName] = [];\n        }\n\n        return managedListeners[id][eventName];\n    },\n\n    getUsedSelectors: function() {\n        var selectors = this.usedSelectors;\n\n        if (!selectors) {\n            selectors = this.usedSelectors = [];\n            selectors.$map = {};\n        }\n\n        return selectors;\n    },\n\n    /**\n     * Fires the specified event with the passed parameters (minus the event name, plus the `options` object passed\n     * to {@link #addListener}).\n     *\n     * An event may be set to bubble up an Observable parent hierarchy by calling {@link #enableBubble}.\n     *\n     * @param {String} eventName The name of the event to fire.\n     * @param {Object...} args Variable number of parameters are passed to handlers.\n     * @return {Boolean} returns false if any of the handlers return false otherwise it returns true.\n     */\n    fireEvent: function(eventName) {\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        return this.doFireEvent(eventName, args);\n    },\n\n    /**\n     * Fires the specified event with the passed parameters and execute a function (action)\n     * at the end if there are no listeners that return false.\n     *\n     * @param {String} eventName The name of the event to fire.\n     * @param {Array} args Arguments to pass to handers\n     * @param {Function} fn Action\n     * @param {Object} scope scope of fn\n     */\n    fireAction: function(eventName, args, fn, scope, options, order) {\n        var fnType = typeof fn,\n            action;\n\n        if (args === undefined) {\n            args = [];\n        }\n\n        if (fnType != 'undefined') {\n            action = {\n                fn: fn,\n                isLateBinding: fnType == 'string',\n                scope: scope || this,\n                options: options || {},\n                order: order\n            };\n        }\n\n        return this.doFireEvent(eventName, args, action);\n    },\n\n    doFireEvent: function(eventName, args, action, connectedController) {\n        if (this.eventFiringSuspended) {\n            return;\n        }\n\n        var id = this.getObservableId(),\n            dispatcher = this.getEventDispatcher();\n\n        return dispatcher.dispatchEvent(this.observableType, id, eventName, args, action, connectedController);\n    },\n\n    /**\n     * @private\n     * @param name\n     * @param fn\n     * @param scope\n     * @param options\n     */\n    doAddListener: function(name, fn, scope, options, order) {\n        var isManaged = (scope && scope !== this && scope.isIdentifiable),\n            usedSelectors = this.getUsedSelectors(),\n            usedSelectorsMap = usedSelectors.$map,\n            selector = this.getObservableId(),\n            isAdded, managedListeners, delegate;\n\n        if (!options) {\n            options = {};\n        }\n\n        if (!scope) {\n            scope = this;\n        }\n\n        if (options.delegate) {\n            delegate = options.delegate;\n            // See https://sencha.jira.com/browse/TOUCH-1579\n            selector += ' ' + delegate;\n        }\n\n        if (!(selector in usedSelectorsMap)) {\n            usedSelectorsMap[selector] = true;\n            usedSelectors.push(selector);\n        }\n\n        isAdded = this.addDispatcherListener(selector, name, fn, scope, options, order);\n\n        if (isAdded && isManaged) {\n            managedListeners = this.getManagedListeners(scope, name);\n            managedListeners.push({\n                delegate: delegate,\n                scope: scope,\n                fn: fn,\n                order: order\n            });\n        }\n\n        return isAdded;\n    },\n\n    addDispatcherListener: function(selector, name, fn, scope, options, order) {\n        return this.getEventDispatcher().addListener(this.observableType, selector, name, fn, scope, options, order);\n    },\n\n    doRemoveListener: function(name, fn, scope, options, order) {\n        var isManaged = (scope && scope !== this && scope.isIdentifiable),\n            selector = this.getObservableId(),\n            isRemoved,\n            managedListeners, i, ln, listener, delegate;\n\n        if (options && options.delegate) {\n            delegate = options.delegate;\n            // See https://sencha.jira.com/browse/TOUCH-1579\n            selector += ' ' + delegate;\n        }\n\n        if (!scope) {\n            scope = this;\n        }\n\n        isRemoved = this.removeDispatcherListener(selector, name, fn, scope, order);\n\n        if (isRemoved && isManaged) {\n            managedListeners = this.getManagedListeners(scope, name);\n\n            for (i = 0,ln = managedListeners.length; i < ln; i++) {\n                listener = managedListeners[i];\n\n                if (listener.fn === fn && listener.scope === scope && listener.delegate === delegate && listener.order === order) {\n                    managedListeners.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        return isRemoved;\n    },\n\n    removeDispatcherListener: function(selector, name, fn, scope, order) {\n        return this.getEventDispatcher().removeListener(this.observableType, selector, name, fn, scope, order);\n    },\n\n    clearManagedListeners: function(object) {\n        var managedListeners = this.managedListeners,\n            id, namedListeners, listeners, eventName, i, ln, listener, options;\n\n        if (!managedListeners) {\n            return this;\n        }\n\n        if (object) {\n            if (typeof object != 'string') {\n                id = object.getUniqueId();\n            }\n            else {\n                id = object;\n            }\n\n            namedListeners = managedListeners[id];\n\n            for (eventName in namedListeners) {\n                if (namedListeners.hasOwnProperty(eventName)) {\n                    listeners = namedListeners[eventName];\n\n                    for (i = 0,ln = listeners.length; i < ln; i++) {\n                        listener = listeners[i];\n\n                        options = {};\n\n                        if (listener.delegate) {\n                            options.delegate = listener.delegate;\n                        }\n\n                        if (this.doRemoveListener(eventName, listener.fn, listener.scope, options, listener.order)) {\n                            i--;\n                            ln--;\n                        }\n                    }\n                }\n            }\n\n            delete managedListeners[id];\n            return this;\n        }\n\n        for (id in managedListeners) {\n            if (managedListeners.hasOwnProperty(id)) {\n                this.clearManagedListeners(id);\n            }\n        }\n    },\n\n    /**\n     * @private\n     * @param operation\n     * @param eventName\n     * @param fn\n     * @param scope\n     * @param options\n     * @param order\n     */\n    changeListener: function(actionFn, eventName, fn, scope, options, order) {\n        var eventNames,\n            listeners,\n            listenerOptionsRegex,\n            actualOptions,\n            name, value, i, ln, listener, valueType;\n\n        if (typeof fn != 'undefined') {\n            // Support for array format to add multiple listeners\n            if (typeof eventName != 'string') {\n                for (i = 0,ln = eventName.length; i < ln; i++) {\n                    name = eventName[i];\n\n                    actionFn.call(this, name, fn, scope, options, order);\n                }\n\n                return this;\n            }\n\n            actionFn.call(this, eventName, fn, scope, options, order);\n        }\n        else if (Ext.isArray(eventName)) {\n            listeners = eventName;\n\n            for (i = 0,ln = listeners.length; i < ln; i++) {\n                listener = listeners[i];\n\n                actionFn.call(this, listener.event, listener.fn, listener.scope, listener, listener.order);\n            }\n        }\n        else {\n            listenerOptionsRegex = this.listenerOptionsRegex;\n            options = eventName;\n            eventNames = [];\n            listeners = [];\n            actualOptions = {};\n\n            for (name in options) {\n                value = options[name];\n\n                if (name === 'scope') {\n                    scope = value;\n                    continue;\n                }\n                else if (name === 'order') {\n                    order = value;\n                    continue;\n                }\n\n                if (!listenerOptionsRegex.test(name)) {\n                    valueType = typeof value;\n\n                    if (valueType != 'string' && valueType != 'function') {\n                        actionFn.call(this, name, value.fn, value.scope || scope, value, value.order || order);\n                        continue;\n                    }\n\n                    eventNames.push(name);\n                    listeners.push(value);\n                }\n                else {\n                    actualOptions[name] = value;\n                }\n            }\n\n            for (i = 0,ln = eventNames.length; i < ln; i++) {\n                actionFn.call(this, eventNames[i], listeners[i], scope, actualOptions, order);\n            }\n        }\n\n    },\n\n    /**\n     * Appends an event handler to this object. You can review the available handlers by looking at the 'events'\n     * section of the documentation for the component you are working with.\n     *\n     * ## Combining Options\n     *\n     * Using the options argument, it is possible to combine different types of listeners:\n     *\n     * A delayed, one-time listener:\n     *\n     *     container.on('tap', this.handleTap, this, {\n     *         single: true,\n     *         delay: 100\n     *     });\n     *\n     * ## Attaching multiple handlers in 1 call\n     *\n     * The method also allows for a single argument to be passed which is a config object containing properties which\n     * specify multiple events. For example:\n     *\n     *     container.on({\n     *         tap  : this.onTap,\n     *         swipe: this.onSwipe,\n     *\n     *         scope: this // Important. Ensure \"this\" is correct during handler execution\n     *     });\n     *\n     * One can also specify options for each event handler separately:\n     *\n     *     container.on({\n     *         tap  : { fn: this.onTap, scope: this, single: true },\n     *         swipe: { fn: button.onSwipe, scope: button }\n     *     });\n     *\n     * See the [Events Guide](#!/guide/events) for more.\n     *\n     * @param {String} eventName The name of the event to listen for. May also be an object who's property names are\n     * event names.\n     * @param {Function} fn The method the event invokes.  Will be called with arguments given to\n     * {@link #fireEvent} plus the `options` parameter described below.\n     * @param {Object} [scope] The scope (`this` reference) in which the handler function is executed. **If\n     * omitted, defaults to the object which fired the event.**\n     * @param {Object} [options] An object containing handler configuration.\n     *\n     * This object may contain any of the following properties:\n     *\n     * - **scope** : Object\n     *\n     *   The scope (`this` reference) in which the handler function is executed. **If omitted, defaults to the object\n     *   which fired the event.**\n     *\n     * - **delay** : Number\n     *\n     *   The number of milliseconds to delay the invocation of the handler after the event fires.\n     *\n     * - **single** : Boolean\n     *\n     *   True to add a handler to handle just the next firing of the event, and then remove itself.\n     *\n     * - **order** : String\n     *\n     *   The order of when the listener should be added into the listener queue.\n     *\n     *   If you set an order of `before` and the event you are listening to is preventable, you can return `false` and it will stop the event.\n     *\n     *   Available options are `before`, `current` and `after`. Defaults to `current`.\n     *\n     * - **buffer** : Number\n     *\n     *   Causes the handler to be delayed by the specified number of milliseconds. If the event fires again within that\n     *   time, the original handler is _not_ invoked, but the new handler is scheduled in its place.\n     *\n     * - **element** : String\n     *\n     *   Allows you to add a listener onto a element of this component using the elements reference.\n     *\n     *       Ext.create('Ext.Component', {\n     *           listeners: {\n     *               element: 'element',\n     *               tap: function() {\n     *                   console.log('element tap!');\n     *               }\n     *           }\n     *       });\n     *\n     *   All components have the `element` reference, which is the outer most element of the component. {@link Ext.Container} also has the\n     *   `innerElement` element which contains all children. In most cases `element` is adequate.\n     *\n     * - **delegate** : String\n     *\n     *   Uses {@link Ext.ComponentQuery} to delegate events to a specified query selector within this item.\n     *\n     *       // Create a container with a two children; a button and a toolbar\n     *       var container = Ext.create('Ext.Container', {\n     *           items: [\n     *               {\n     *                  xtype: 'toolbar',\n     *                  docked: 'top',\n     *                  title: 'My Toolbar'\n     *               },\n     *               {\n     *                  xtype: 'button',\n     *                  text: 'My Button'\n     *               }\n     *           ]\n     *       });\n     *\n     *       container.on({\n     *           // Ext.Buttons have an xtype of 'button', so we use that are a selector for our delegate\n     *           delegate: 'button',\n     *\n     *           tap: function() {\n     *               alert('Button tapped!');\n     *           }\n     *       });\n     *\n     * @param {String} [order='current'] The order of when the listener should be added into the listener queue.\n     * Possible values are `before`, `current` and `after`.\n     */\n    addListener: function(eventName, fn, scope, options, order) {\n        return this.changeListener(this.doAddListener, eventName, fn, scope, options, order);\n    },\n\n    /**\n     * Appends a before-event handler.  Returning `false` from the handler will stop the event.\n     *\n     * Same as {@link #addListener} with `order` set to `'before'`.\n     *\n     * @param {String} eventName The name of the event to listen for.\n     * @param {Function} fn The method the event invokes.\n     * @param {Object} [scope] The scope for `fn`.\n     * @param {Object} [options] An object containing handler configuration.\n     */\n    addBeforeListener: function(eventName, fn, scope, options) {\n        return this.addListener(eventName, fn, scope, options, 'before');\n    },\n\n    /**\n     * Appends an after-event handler.\n     *\n     * Same as {@link #addListener} with `order` set to `'after'`.\n     *\n     * @param {String} eventName The name of the event to listen for.\n     * @param {Function} fn The method the event invokes.\n     * @param {Object} [scope] The scope for `fn`.\n     * @param {Object} [options] An object containing handler configuration.\n     */\n    addAfterListener: function(eventName, fn, scope, options) {\n        return this.addListener(eventName, fn, scope, options, 'after');\n    },\n\n    /**\n     * Removes an event handler.\n     *\n     * @param {String} eventName The type of event the handler was associated with.\n     * @param {Function} fn The handler to remove. **This must be a reference to the function passed into the\n     * {@link #addListener} call.**\n     * @param {Object} [scope] The scope originally specified for the handler. It must be the same as the\n     * scope argument specified in the original call to {@link #addListener} or the listener will not be removed.\n     * @param {Object} [options] Extra options object. See {@link #addListener} for details.\n     * @param {String} [order='current'] The order of the listener to remove.\n     * Possible values are `before`, `current` and `after`.\n     */\n    removeListener: function(eventName, fn, scope, options, order) {\n        return this.changeListener(this.doRemoveListener, eventName, fn, scope, options, order);\n    },\n\n    /**\n     * Removes a before-event handler.\n     *\n     * Same as {@link #removeListener} with `order` set to `'before'`.\n     *\n     * @param {String} eventName The name of the event the handler was associated with.\n     * @param {Function} fn The handler to remove.\n     * @param {Object} [scope] The scope originally specified for `fn`.\n     * @param {Object} [options] Extra options object.\n     */\n    removeBeforeListener: function(eventName, fn, scope, options) {\n        return this.removeListener(eventName, fn, scope, options, 'before');\n    },\n\n    /**\n     * Removes a before-event handler.\n     *\n     * Same as {@link #removeListener} with `order` set to `'after'`.\n     *\n     * @param {String} eventName The name of the event the handler was associated with.\n     * @param {Function} fn The handler to remove.\n     * @param {Object} [scope] The scope originally specified for `fn`.\n     * @param {Object} [options] Extra options object.\n     */\n    removeAfterListener: function(eventName, fn, scope, options) {\n        return this.removeListener(eventName, fn, scope, options, 'after');\n    },\n\n    /**\n     * Removes all listeners for this object.\n     */\n    clearListeners: function() {\n        var usedSelectors = this.getUsedSelectors(),\n            dispatcher = this.getEventDispatcher(),\n            i, ln, selector;\n\n        for (i = 0,ln = usedSelectors.length; i < ln; i++) {\n            selector = usedSelectors[i];\n\n            dispatcher.clearListeners(this.observableType, selector);\n        }\n    },\n\n    /**\n     * Checks to see if this object has any listeners for a specified event\n     *\n     * @param {String} eventName The name of the event to check for\n     * @return {Boolean} True if the event is being listened for, else false\n     */\n    hasListener: function(eventName) {\n        return this.getEventDispatcher().hasListener(this.observableType, this.getObservableId(), eventName);\n    },\n\n    /**\n     * Suspends the firing of all events. (see {@link #resumeEvents})\n     *\n     * @param {Boolean} queueSuspended Pass as true to queue up suspended events to be fired\n     * after the {@link #resumeEvents} call instead of discarding all suspended events.\n     */\n    suspendEvents: function(queueSuspended) {\n        this.eventFiringSuspended = true;\n    },\n\n    /**\n     * Resumes firing events (see {@link #suspendEvents}).\n     *\n     * If events were suspended using the `queueSuspended` parameter, then all events fired\n     * during event suspension will be sent to any listeners now.\n     */\n    resumeEvents: function() {\n        this.eventFiringSuspended = false;\n    },\n\n    /**\n     * Relays selected events from the specified Observable as if the events were fired by <code><b>this</b></code>.\n     * @param {Object} object The Observable whose events this object is to relay.\n     * @param {String/Array/Object} events Array of event names to relay.\n     */\n    relayEvents: function(object, events, prefix) {\n        var i, ln, oldName, newName;\n\n        if (typeof prefix == 'undefined') {\n            prefix = '';\n        }\n\n        if (typeof events == 'string') {\n            events = [events];\n        }\n\n        if (Ext.isArray(events)) {\n            for (i = 0,ln = events.length; i < ln; i++) {\n                oldName = events[i];\n                newName = prefix + oldName;\n\n                object.addListener(oldName, this.createEventRelayer(newName), this);\n            }\n        }\n        else {\n            for (oldName in events) {\n                if (events.hasOwnProperty(oldName)) {\n                    newName = prefix + events[oldName];\n\n                    object.addListener(oldName, this.createEventRelayer(newName), this);\n                }\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * @private\n     * @param args\n     * @param fn\n     */\n    relayEvent: function(args, fn, scope, options, order) {\n        var fnType = typeof fn,\n            controller = args[args.length - 1],\n            eventName = controller.getInfo().eventName,\n            action;\n\n        args = Array.prototype.slice.call(args, 0, -2);\n        args[0] = this;\n\n        if (fnType != 'undefined') {\n            action = {\n                fn: fn,\n                scope: scope || this,\n                options: options || {},\n                order: order,\n                isLateBinding: fnType == 'string'\n            };\n        }\n\n        return this.doFireEvent(eventName, args, action, controller);\n    },\n\n    /**\n     * @private\n     * Creates an event handling function which refires the event from this object as the passed event name.\n     * @param newName\n     * @returns {Function}\n     */\n    createEventRelayer: function(newName){\n        return function() {\n            return this.doFireEvent(newName, Array.prototype.slice.call(arguments, 0, -2));\n        }\n    },\n\n    /**\n     * Enables events fired by this Observable to bubble up an owner hierarchy by calling `this.getBubbleTarget()` if\n     * present. There is no implementation in the Observable base class.\n     *\n     * @param {String/String[]} events The event name to bubble, or an Array of event names.\n     */\n    enableBubble: function(events) {\n        var isBubblingEnabled = this.isBubblingEnabled,\n            i, ln, name;\n\n        if (!isBubblingEnabled) {\n            isBubblingEnabled = this.isBubblingEnabled = {};\n        }\n\n        if (typeof events == 'string') {\n            events = Ext.Array.clone(arguments);\n        }\n\n        for (i = 0,ln = events.length; i < ln; i++) {\n            name = events[i];\n\n            if (!isBubblingEnabled[name]) {\n                isBubblingEnabled[name] = true;\n                this.addListener(name, this.createEventBubbler(name), this);\n            }\n        }\n    },\n\n    createEventBubbler: function(name) {\n        return function doBubbleEvent() {\n            var bubbleTarget = ('getBubbleTarget' in this) ? this.getBubbleTarget() : null;\n\n            if (bubbleTarget && bubbleTarget !== this && bubbleTarget.isObservable) {\n                bubbleTarget.fireAction(name, Array.prototype.slice.call(arguments, 0, -2), doBubbleEvent, bubbleTarget, null, 'after');\n            }\n        }\n    },\n\n    getBubbleTarget: function() {\n        return false;\n    },\n\n    destroy: function() {\n        if (this.observableId) {\n            this.fireEvent('destroy', this);\n            this.clearListeners();\n            this.clearManagedListeners();\n        }\n    },\n\n    addEvents: Ext.emptyFn\n\n}, function() {\n    this.createAlias({\n        /**\n         * @method\n         * Alias for {@link #addListener}.\n         * @inheritdoc Ext.mixin.Observable#addListener\n         */\n        on: 'addListener',\n        /**\n         * @method\n         * Alias for {@link #removeListener}.\n         * @inheritdoc Ext.mixin.Observable#removeListener\n         */\n        un: 'removeListener',\n        /**\n         * @method\n         * Alias for {@link #addBeforeListener}.\n         * @inheritdoc Ext.mixin.Observable#addBeforeListener\n         */\n        onBefore: 'addBeforeListener',\n        /**\n         * @method\n         * Alias for {@link #addAfterListener}.\n         * @inheritdoc Ext.mixin.Observable#addAfterListener\n         */\n        onAfter: 'addAfterListener',\n        /**\n         * @method\n         * Alias for {@link #removeBeforeListener}.\n         * @inheritdoc Ext.mixin.Observable#removeBeforeListener\n         */\n        unBefore: 'removeBeforeListener',\n        /**\n         * @method\n         * Alias for {@link #removeAfterListener}.\n         * @inheritdoc Ext.mixin.Observable#removeAfterListener\n         */\n        unAfter: 'removeAfterListener'\n    });\n\n    /**\n     * @method addEvents\n     * Adds the specified events to the list of events which this Observable may fire.\n     * @param {Object/String...} eventNames Either an object with event names as properties with a value of `true`\n     * or the first event name string if multiple event names are being passed as separate parameters.\n     * @deprecated 2.0 It's no longer needed to add events before firing.\n     */\n    Ext.deprecateClassMethod(this, 'addEvents', function(){}, \"addEvents() is deprecated. It's no longer needed to add events before firing\");\n\n    /**\n     * @method addManagedListener\n     * Adds listeners to any Observable object (or Element) which are automatically removed when this Component\n     * is destroyed.\n     * @param {Ext.mixin.Observable/HTMLElement} object The item to which to add a listener/listeners.\n     * @param {Object/String} eventName The event name, or an object containing event name properties.\n     * @param {Function} [fn] If the `eventName` parameter was an event name, this is the handler function.\n     * @param {Object} [scope] If the `eventName` parameter was an event name, this is the scope in which\n     * the handler function is executed.\n     * @param {Object} [options] If the `eventName` parameter was an event name, this is the\n     * {@link #addListener} options.\n     * @deprecated 2.0 All listeners are now automatically managed where necessary. Simply use {@link #addListener}.\n     */\n    Ext.deprecateClassMethod(this, 'addManagedListener', function(object, eventName, fn, scope, options) {\n        return object.addListener(eventName, fn, scope, options);\n    }, \"addManagedListener() / mon() is deprecated, simply use addListener() / on(). All listeners are now automatically managed where necessary.\");\n\n    /**\n     * @method removeManagedListener\n     * Adds listeners to any Observable object (or Element) which are automatically removed when this Component\n     * is destroyed.\n     * @param {Ext.mixin.Observable/HTMLElement} object The item to which to add a listener/listeners.\n     * @param {Object/String} eventName The event name, or an object containing event name properties.\n     * @param {Function} [fn] If the `eventName` parameter was an event name, this is the handler function.\n     * @param {Object} [scope] If the `eventName` parameter was an event name, this is the scope in which\n     * the handler function is executed.\n     * @deprecated 2.0 All listeners are now automatically managed where necessary. Simply use {@link #removeListener}.\n     */\n    Ext.deprecateClassMethod(this, 'removeManagedListener', function(object, eventName, fn, scope) {\n        return object.removeListener(eventName, fn, scope);\n    }, \"removeManagedListener() / mun() is deprecated, simply use removeListener() / un(). All listeners are now automatically managed where necessary.\");\n\n    this.createAlias({\n        /**\n         * @method\n         * Alias for {@link #addManagedListener}.\n         * @inheritdoc Ext.mixin.Observable#addManagedListener\n         * @deprecated 2.0.0 This is now done automatically\n         */\n        mon: 'addManagedListener',\n        /**\n         * @method\n         * Alias for {@link #removeManagedListener}.\n         * @inheritdoc Ext.mixin.Observable#removeManagedListener\n         * @deprecated 2.0.0 This is now done automatically\n         */\n        mun: 'removeManagedListener'\n    });\n});\n\n/**\n * This class parses the XTemplate syntax and calls abstract methods to process the parts.\n * @private\n */\nExt.define('Ext.XTemplateParser', {\n    constructor: function (config) {\n        Ext.apply(this, config);\n    },\n\n    /**\n     * @property {Number} level The 'for' loop context level. This is adjusted up by one\n     * prior to calling {@link #doFor} and down by one after calling the corresponding\n     * {@link #doEnd} that closes the loop. This will be 1 on the first {@link #doFor}\n     * call.\n     */\n\n    /**\n     * This method is called to process a piece of raw text from the tpl.\n     * @param {String} text\n     * @method doText\n     */\n    // doText: function (text)\n\n    /**\n     * This method is called to process expressions (like `{[expr]}`).\n     * @param {String} expr The body of the expression (inside \"{[\" and \"]}\").\n     * @method doExpr\n     */\n    // doExpr: function (expr)\n\n    /**\n     * This method is called to process simple tags (like `{tag}`).\n     * @method doTag\n     */\n    // doTag: function (tag)\n\n    /**\n     * This method is called to process `<tpl else>`.\n     * @method doElse\n     */\n    // doElse: function ()\n\n    /**\n     * This method is called to process `{% text %}`.\n     * @param {String} text\n     * @method doEval\n     */\n    // doEval: function (text)\n\n    /**\n     * This method is called to process `<tpl if=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name (such as 'exec').\n     * @method doIf\n     */\n    // doIf: function (action, actions)\n\n    /**\n     * This method is called to process `<tpl elseif=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name (such as 'exec').\n     * @method doElseIf\n     */\n    // doElseIf: function (action, actions)\n\n    /**\n     * This method is called to process `<tpl switch=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name (such as 'exec').\n     * @method doSwitch\n     */\n    // doSwitch: function (action, actions)\n\n    /**\n     * This method is called to process `<tpl case=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name (such as 'exec').\n     * @method doCase\n     */\n    // doCase: function (action, actions)\n\n    /**\n     * This method is called to process `<tpl default>`.\n     * @method doDefault\n     */\n    // doDefault: function ()\n\n    /**\n     * This method is called to process `</tpl>`. It is given the action type that started\n     * the tpl and the set of additional actions.\n     * @param {String} type The type of action that is being ended.\n     * @param {Object} actions The other actions keyed by the attribute name (such as 'exec').\n     * @method doEnd\n     */\n    // doEnd: function (type, actions)\n\n    /**\n     * This method is called to process `<tpl for=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name (such as 'exec').\n     * @method doFor\n     */\n    // doFor: function (action, actions)\n\n    /**\n     * This method is called to process `<tpl exec=\"action\">`. If there are other attributes,\n     * these are passed in the actions object.\n     * @param {String} action\n     * @param {Object} actions Other actions keyed by the attribute name.\n     * @method doExec\n     */\n    // doExec: function (action, actions)\n\n    /**\n     * This method is called to process an empty `<tpl>`. This is unlikely to need to be\n     * implemented, so a default (do nothing) version is provided.\n     * @method\n     */\n    doTpl: Ext.emptyFn,\n\n    parse: function (str) {\n        var me = this,\n            len = str.length,\n            aliases = { elseif: 'elif' },\n            topRe = me.topRe,\n            actionsRe = me.actionsRe,\n            index, stack, s, m, t, prev, frame, subMatch, begin, end, actions;\n\n        me.level = 0;\n        me.stack = stack = [];\n\n        for (index = 0; index < len; index = end) {\n            topRe.lastIndex = index;\n            m = topRe.exec(str);\n\n            if (!m) {\n                me.doText(str.substring(index, len));\n                break;\n            }\n\n            begin = m.index;\n            end = topRe.lastIndex;\n\n            if (index < begin) {\n                me.doText(str.substring(index, begin));\n            }\n\n            if (m[1]) {\n                end = str.indexOf('%}', begin+2);\n                me.doEval(str.substring(begin+2, end));\n                end += 2;\n            } else if (m[2]) {\n                end = str.indexOf(']}', begin+2);\n                me.doExpr(str.substring(begin+2, end));\n                end += 2;\n            } else if (m[3]) { // if ('{' token)\n                me.doTag(m[3]);\n            } else if (m[4]) { // content of a <tpl xxxxxx> tag\n                actions = null;\n                while ((subMatch = actionsRe.exec(m[4])) !== null) {\n                    s = subMatch[2] || subMatch[3];\n                    if (s) {\n                        s = Ext.String.htmlDecode(s); // decode attr value\n                        t = subMatch[1];\n                        t = aliases[t] || t;\n                        actions = actions || {};\n                        prev = actions[t];\n\n                        if (typeof prev == 'string') {\n                            actions[t] = [prev, s];\n                        } else if (prev) {\n                            actions[t].push(s);\n                        } else {\n                            actions[t] = s;\n                        }\n                    }\n                }\n\n                if (!actions) {\n                    if (me.elseRe.test(m[4])) {\n                        me.doElse();\n                    } else if (me.defaultRe.test(m[4])) {\n                        me.doDefault();\n                    } else {\n                        me.doTpl();\n                        stack.push({ type: 'tpl' });\n                    }\n                }\n                else if (actions['if']) {\n                    me.doIf(actions['if'], actions)\n                    stack.push({ type: 'if' });\n                }\n                else if (actions['switch']) {\n                    me.doSwitch(actions['switch'], actions)\n                    stack.push({ type: 'switch' });\n                }\n                else if (actions['case']) {\n                    me.doCase(actions['case'], actions);\n                }\n                else if (actions['elif']) {\n                    me.doElseIf(actions['elif'], actions);\n                }\n                else if (actions['for']) {\n                    ++me.level;\n                    me.doFor(actions['for'], actions);\n                    stack.push({ type: 'for', actions: actions });\n                }\n                else if (actions.exec) {\n                    me.doExec(actions.exec, actions);\n                    stack.push({ type: 'exec', actions: actions });\n                }\n                /*\n                else {\n                    // todo - error\n                }\n                /**/\n            } else {\n                frame = stack.pop();\n                me.doEnd(frame.type, frame.actions);\n                if (frame.type == 'for') {\n                    --me.level;\n                }\n            }\n        }\n    },\n\n    // Internal regexes\n\n    topRe:     /(?:(\\{\\%)|(\\{\\[)|\\{([^{}]*)\\})|(?:<tpl([^>]*)\\>)|(?:<\\/tpl>)/g,\n    actionsRe: /\\s*(elif|elseif|if|for|exec|switch|case|eval)\\s*\\=\\s*(?:(?:[\"]([^\"]*)[\"])|(?:[']([^']*)[']))\\s*/g,\n    defaultRe: /^\\s*default\\s*$/,\n    elseRe:    /^\\s*else\\s*$/\n});\n/**\n * @private\n */\nExt.define('Ext.fx.easing.Abstract', {\n\n    config: {\n        startTime: 0,\n        startValue: 0\n    },\n\n    isEasing: true,\n\n    isEnded: false,\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        return this;\n    },\n\n    applyStartTime: function(startTime) {\n        if (!startTime) {\n            startTime = Ext.Date.now();\n        }\n\n        return startTime;\n    },\n\n    updateStartTime: function(startTime) {\n        this.reset();\n    },\n\n    reset: function() {\n        this.isEnded = false;\n    },\n\n    getValue: Ext.emptyFn\n});\n\n/**\n * A Traversable mixin.\n * @private\n */\nExt.define('Ext.mixin.Traversable', {\n    extend: 'Ext.mixin.Mixin',\n\n    mixinConfig: {\n        id: 'traversable'\n    },\n\n    setParent: function(parent) {\n        this.parent = parent;\n\n        return this;\n    },\n\n    /**\n     * @member Ext.Component\n     * Returns `true` if this component has a parent.\n     * @return {Boolean} `true` if this component has a parent.\n     */\n    hasParent: function() {\n        return Boolean(this.parent);\n    },\n\n    /**\n     * @member Ext.Component\n     * Returns the parent of this component, if it has one.\n     * @return {Ext.Component} The parent of this component.\n     */\n    getParent: function() {\n        return this.parent;\n    },\n\n    getAncestors: function() {\n        var ancestors = [],\n            parent = this.getParent();\n\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n\n        return ancestors;\n    },\n\n    getAncestorIds: function() {\n        var ancestorIds = [],\n            parent = this.getParent();\n\n        while (parent) {\n            ancestorIds.push(parent.getId());\n            parent = parent.getParent();\n        }\n\n        return ancestorIds;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.Evented', {\n\n    alternateClassName: 'Ext.EventedBase',\n\n    mixins: ['Ext.mixin.Observable'],\n\n    statics: {\n        generateSetter: function(nameMap) {\n            var internalName = nameMap.internal,\n                applyName = nameMap.apply,\n                changeEventName = nameMap.changeEvent,\n                doSetName = nameMap.doSet;\n\n            return function(value) {\n                var initialized = this.initialized,\n                    oldValue = this[internalName],\n                    applier = this[applyName];\n\n                if (applier) {\n                    value = applier.call(this, value, oldValue);\n\n                    if (typeof value == 'undefined') {\n                        return this;\n                    }\n                }\n\n                // The old value might have been changed at this point\n                // (after the apply call chain) so it should be read again\n                oldValue = this[internalName];\n\n                if (value !== oldValue) {\n                    if (initialized) {\n                        this.fireAction(changeEventName, [this, value, oldValue], this.doSet, this, {\n                            nameMap: nameMap\n                        });\n                    }\n                    else {\n                        this[internalName] = value;\n                        this[doSetName].call(this, value, oldValue);\n                    }\n                }\n\n                return this;\n            }\n        }\n    },\n\n    initialized: false,\n\n    constructor: function(config) {\n        this.initialConfig = config;\n        this.initialize();\n    },\n\n    initialize: function() {\n        this.initConfig(this.initialConfig);\n        this.initialized = true;\n    },\n\n    doSet: function(me, value, oldValue, options) {\n        var nameMap = options.nameMap;\n\n        me[nameMap.internal] = value;\n        me[nameMap.doSet].call(this, value, oldValue);\n    },\n\n    onClassExtended: function(Class, data) {\n        if (!data.hasOwnProperty('eventedConfig')) {\n            return;\n        }\n\n        var ExtClass = Ext.Class,\n            config = data.config,\n            eventedConfig = data.eventedConfig,\n            name, nameMap;\n\n        data.config = (config) ? Ext.applyIf(config, eventedConfig) : eventedConfig;\n\n        /*\n         * These are generated setters for eventedConfig\n         *\n         * If the component is initialized, it invokes fireAction to fire the event as well,\n         * which indicate something has changed. Otherwise, it just executes the action\n         * (happens during initialization)\n         *\n         * This is helpful when we only want the event to be fired for subsequent changes.\n         * Also it's a major performance improvement for instantiation when fired events\n         * are mostly useless since there's no listeners\n         */\n        for (name in eventedConfig) {\n            if (eventedConfig.hasOwnProperty(name)) {\n                nameMap = ExtClass.getConfigNameMap(name);\n\n                data[nameMap.set] = this.generateSetter(nameMap);\n            }\n        }\n    }\n});\n\n/**\n * @private\n * This is the abstract class for {@link Ext.Component}.\n *\n * This should never be overriden.\n */\nExt.define('Ext.AbstractComponent', {\n    extend: 'Ext.Evented',\n\n    onClassExtended: function(Class, members) {\n        if (!members.hasOwnProperty('cachedConfig')) {\n            return;\n        }\n\n        var prototype = Class.prototype,\n            config = members.config,\n            cachedConfig = members.cachedConfig,\n            cachedConfigList = prototype.cachedConfigList,\n            hasCachedConfig = prototype.hasCachedConfig,\n            name, value;\n\n        delete members.cachedConfig;\n\n        prototype.cachedConfigList = cachedConfigList = (cachedConfigList) ? cachedConfigList.slice() : [];\n        prototype.hasCachedConfig = hasCachedConfig = (hasCachedConfig) ? Ext.Object.chain(hasCachedConfig) : {};\n\n        if (!config) {\n            members.config = config = {};\n        }\n\n        for (name in cachedConfig) {\n            if (cachedConfig.hasOwnProperty(name)) {\n                value = cachedConfig[name];\n\n                if (!hasCachedConfig[name]) {\n                    hasCachedConfig[name] = true;\n                    cachedConfigList.push(name);\n                }\n\n                config[name] = value;\n            }\n        }\n    },\n\n    getElementConfig: Ext.emptyFn,\n\n    referenceAttributeName: 'reference',\n\n    referenceSelector: '[reference]',\n\n    /**\n     * @private\n     * Significantly improve instantiation time for Component with multiple references\n     * Ext.Element instance of the reference domNode is only created the very first time\n     * it's ever used\n     */\n    addReferenceNode: function(name, domNode) {\n        Ext.Object.defineProperty(this, name, {\n            get: function() {\n                var reference;\n\n                delete this[name];\n                this[name] = reference = new Ext.Element(domNode);\n                return reference;\n            },\n            configurable: true\n        });\n    },\n\n    initElement: function() {\n        var prototype = this.self.prototype,\n            id = this.getId(),\n            referenceList = [],\n            cleanAttributes = true,\n            referenceAttributeName = this.referenceAttributeName,\n            needsOptimization = false,\n            renderTemplate, renderElement, element,\n            referenceNodes, i, ln, referenceNode, reference,\n            configNameCache, defaultConfig, cachedConfigList, initConfigList, initConfigMap, configList,\n            elements, name, nameMap, internalName;\n\n        if (prototype.hasOwnProperty('renderTemplate')) {\n            renderTemplate = this.renderTemplate.cloneNode(true);\n            renderElement = renderTemplate.firstChild;\n        }\n        else {\n            cleanAttributes = false;\n            needsOptimization = true;\n            renderTemplate = document.createDocumentFragment();\n            renderElement = Ext.Element.create(this.getElementConfig(), true);\n            renderTemplate.appendChild(renderElement);\n        }\n\n        referenceNodes = renderTemplate.querySelectorAll(this.referenceSelector);\n\n        for (i = 0,ln = referenceNodes.length; i < ln; i++) {\n            referenceNode = referenceNodes[i];\n            reference = referenceNode.getAttribute(referenceAttributeName);\n\n            if (cleanAttributes) {\n                referenceNode.removeAttribute(referenceAttributeName);\n            }\n\n            if (reference == 'element') {\n                referenceNode.id = id;\n                this.element = element = new Ext.Element(referenceNode);\n            }\n            else {\n                this.addReferenceNode(reference, referenceNode);\n            }\n\n            referenceList.push(reference);\n        }\n\n        this.referenceList = referenceList;\n\n        if (!this.innerElement) {\n            this.innerElement = element;\n        }\n\n        if (renderElement === element.dom) {\n            this.renderElement = element;\n        }\n        else {\n            this.addReferenceNode('renderElement', renderElement);\n        }\n\n        // This happens only *once* per class, during the very first instantiation\n        // to optimize renderTemplate based on cachedConfig\n        if (needsOptimization) {\n            configNameCache = Ext.Class.configNameCache;\n            defaultConfig = this.config;\n            cachedConfigList = this.cachedConfigList;\n            initConfigList = this.initConfigList;\n            initConfigMap = this.initConfigMap;\n            configList = [];\n\n            for (i = 0,ln = cachedConfigList.length; i < ln; i++) {\n                name = cachedConfigList[i];\n                nameMap = configNameCache[name];\n\n                if (initConfigMap[name]) {\n                    initConfigMap[name] = false;\n                    Ext.Array.remove(initConfigList, name);\n                }\n\n                if (defaultConfig[name] !== null) {\n                    configList.push(name);\n                    this[nameMap.get] = this[nameMap.initGet];\n                }\n            }\n\n            for (i = 0,ln = configList.length; i < ln; i++) {\n                name = configList[i];\n                nameMap = configNameCache[name];\n                internalName = nameMap.internal;\n\n                this[internalName] = null;\n                this[nameMap.set].call(this, defaultConfig[name]);\n                delete this[nameMap.get];\n\n                prototype[internalName] = this[internalName];\n            }\n\n            renderElement = this.renderElement.dom;\n            prototype.renderTemplate = renderTemplate = document.createDocumentFragment();\n            renderTemplate.appendChild(renderElement.cloneNode(true));\n\n            elements = renderTemplate.querySelectorAll('[id]');\n\n            for (i = 0,ln = elements.length; i < ln; i++) {\n                element = elements[i];\n                element.removeAttribute('id');\n            }\n\n            for (i = 0,ln = referenceList.length; i < ln; i++) {\n                reference = referenceList[i];\n                this[reference].dom.removeAttribute('reference');\n            }\n        }\n\n        return this;\n    }\n});\n\n/**\n * This class compiles the XTemplate syntax into a function object. The function is used\n * like so:\n *\n *      function (out, values, parent, xindex, xcount) {\n *          // out is the output array to store results\n *          // values, parent, xindex and xcount have their historical meaning\n *      }\n *\n * @markdown\n * @private\n */\nExt.define('Ext.XTemplateCompiler', {\n    extend: 'Ext.XTemplateParser',\n\n    // Chrome really likes \"new Function\" to realize the code block (as in it is\n    // 2x-3x faster to call it than using eval), but Firefox chokes on it badly.\n    // IE and Opera are also fine with the \"new Function\" technique.\n    useEval: Ext.isGecko,\n\n    useFormat: true,\n\n    propNameRe: /^[\\w\\d\\$]*$/,\n\n    compile: function (tpl) {\n        var me = this,\n            code = me.generate(tpl);\n\n        // When using \"new Function\", we have to pass our \"Ext\" variable to it in order to\n        // support sandboxing. If we did not, the generated function would use the global\n        // \"Ext\", not the \"Ext\" from our sandbox (scope chain).\n        //\n        return me.useEval ? me.evalTpl(code) : (new Function('Ext', code))(Ext);\n    },\n\n    generate: function (tpl) {\n        var me = this;\n\n        me.body = [\n            'var c0=values, p0=parent, n0=xcount, i0=xindex;\\n'\n        ];\n        me.funcs = [\n            'var fm=Ext.util.Format;' // note: Ext here is properly sandboxed\n        ];\n        me.switches = [];\n\n        me.parse(tpl);\n\n        me.funcs.push(\n            (me.useEval ? '$=' : 'return') + ' function (' + me.fnArgs + ') {',\n                me.body.join(''),\n            '}'\n        );\n\n        var code = me.funcs.join('\\n');\n\n        return code;\n    },\n\n    //-----------------------------------\n    // XTemplateParser callouts\n\n    doText: function (text) {\n        text = text.replace(this.aposRe, \"\\\\'\");\n        text = text.replace(this.newLineRe, '\\\\n');\n        this.body.push('out.push(\\'', text, '\\')\\n');\n    },\n\n    doExpr: function (expr) {\n        this.body.push('out.push(String(', expr, '))\\n');\n    },\n\n    doTag: function (tag) {\n        this.doExpr(this.parseTag(tag));\n    },\n\n    doElse: function () {\n        this.body.push('} else {\\n');\n    },\n\n    doEval: function (text) {\n        this.body.push(text, '\\n');\n    },\n\n    doIf: function (action, actions) {\n        var me = this;\n\n        // If it's just a propName, use it directly in the if\n        if (me.propNameRe.test(action)) {\n            me.body.push('if (', me.parseTag(action), ') {\\n');\n        }\n        // Otherwise, it must be an expression, and needs to be returned from an fn which uses with(values)\n        else {\n            me.body.push('if (', me.addFn(action), me.callFn, ') {\\n');\n        }\n        if (actions.exec) {\n            me.doExec(actions.exec);\n        }\n    },\n\n    doElseIf: function (action, actions) {\n        var me = this;\n\n        // If it's just a propName, use it directly in the else if\n        if (me.propNameRe.test(action)) {\n            me.body.push('} else if (', me.parseTag(action), ') {\\n');\n        }\n        // Otherwise, it must be an expression, and needs to be returned from an fn which uses with(values)\n        else {\n            me.body.push('} else if (', me.addFn(action), me.callFn, ') {\\n');\n        }\n        if (actions.exec) {\n            me.doExec(actions.exec);\n        }\n    },\n\n    doSwitch: function (action) {\n        var me = this;\n\n        // If it's just a propName, use it directly in the switch\n        if (me.propNameRe.test(action)) {\n            me.body.push('switch (', me.parseTag(action), ') {\\n');\n        }\n        // Otherwise, it must be an expression, and needs to be returned from an fn which uses with(values)\n        else {\n            me.body.push('switch (', me.addFn(action), me.callFn, ') {\\n');\n        }\n        me.switches.push(0);\n    },\n\n    doCase: function (action) {\n        var me = this,\n            cases = Ext.isArray(action) ? action : [action],\n            n = me.switches.length - 1,\n            match, i;\n\n        if (me.switches[n]) {\n            me.body.push('break;\\n');\n        } else {\n            me.switches[n]++;\n        }\n\n        for (i = 0, n = cases.length; i < n; ++i) {\n            match = me.intRe.exec(cases[i]);\n            cases[i] = match ? match[1] : (\"'\" + cases[i].replace(me.aposRe,\"\\\\'\") + \"'\");\n        }\n\n        me.body.push('case ', cases.join(': case '), ':\\n');\n    },\n\n    doDefault: function () {\n        var me = this,\n            n = me.switches.length - 1;\n\n        if (me.switches[n]) {\n            me.body.push('break;\\n');\n        } else {\n            me.switches[n]++;\n        }\n\n        me.body.push('default:\\n');\n    },\n\n    doEnd: function (type, actions) {\n        var me = this,\n            L = me.level-1;\n\n        if (type == 'for') {\n            /*\n            To exit a for loop we must restore the outer loop's context. The code looks\n            like this (which goes with that produced by doFor:\n\n                    for (...) { // the part generated by doFor\n                        ...  // the body of the for loop\n\n                        // ... any tpl for exec statement goes here...\n                    }\n                    parent = p1;\n                    values = r2;\n                    xcount = n1;\n                    xindex = i1\n            */\n            if (actions.exec) {\n                me.doExec(actions.exec);\n            }\n\n            me.body.push('}\\n');\n            me.body.push('parent=p',L,';values=r',L+1,';xcount=n',L,';xindex=i',L,'\\n');\n        } else if (type == 'if' || type == 'switch') {\n            me.body.push('}\\n');\n        }\n    },\n\n    doFor: function (action, actions) {\n        var me = this,\n            s = me.addFn(action),\n            L = me.level,\n            up = L-1;\n\n        /*\n        We are trying to produce a block of code that looks like below. We use the nesting\n        level to uniquely name the control variables.\n\n            var c2 = f5.call(this, out, values, parent, xindex, xcount),\n                    // c2 is the context object for the for loop\n                a2 = Ext.isArray(c2),\n                    // a2 is the isArray result for the context\n                p2 = (parent=c1),\n                    // p2 is the parent context (of the outer for loop)\n                r2 = values\n                    // r2 is the values object to\n\n            // i2 is the loop index and n2 is the number (xcount) of this for loop\n            for (var i2 = 0, n2 = a2 ? c2.length : (c2 ? 1 : 0), xcount = n2; i2 < n2; ++i2) {\n                values=a2?c2[i2]:c2   // adjust special vars to inner scope\n                xindex=i2+1           // xindex is 1-based\n\n        The body of the loop is whatever comes between the tpl and /tpl statements (which\n        is handled by doEnd).\n        */\n\n        me.body.push('var c',L,'=',s,me.callFn,', a',L,'=Ext.isArray(c',L,'),p',L,'=(parent=c',up,'),r',L,'=values\\n',\n            'for (var i',L,'=0,n',L,'=a',L,'?c',L,'.length:(c',L,'?1:0), xcount=n',L,';i',L,'<n'+L+';++i',L,'){\\n',\n            'values=a',L,'?c',L,'[i',L,']:c',L,'\\n',\n            'xindex=i',L,'+1\\n');\n    },\n\n    doExec: function (action, actions) {\n        var me = this,\n            name = 'f' + me.funcs.length;\n\n        me.funcs.push('function ' + name + '(' + me.fnArgs + ') {',\n                            ' try { with(values) {',\n                            '  ' + action,\n                            ' }} catch(e) {}',\n                      '}');\n\n        me.body.push(name + me.callFn + '\\n');\n    },\n\n    //-----------------------------------\n    // Internal\n\n    addFn: function (body) {\n        var me = this,\n            name = 'f' + me.funcs.length;\n\n        if (body === '.') {\n            me.funcs.push('function ' + name + '(' + me.fnArgs + ') {',\n                            ' return values',\n                       '}');\n        } else if (body === '..') {\n            me.funcs.push('function ' + name + '(' + me.fnArgs + ') {',\n                            ' return parent',\n                       '}');\n        } else {\n            me.funcs.push('function ' + name + '(' + me.fnArgs + ') {',\n                            ' try { with(values) {',\n                            '  return(' + body + ')',\n                            ' }} catch(e) {}',\n                       '}');\n        }\n\n        return name;\n    },\n\n    parseTag: function (tag) {\n        var m = this.tagRe.exec(tag),\n            name = m[1],\n            format = m[2],\n            args = m[3],\n            math = m[4],\n            v;\n\n        // name = \".\" - Just use the values object.\n        if (name == '.') {\n            // filter to not include arrays/objects/nulls\n            v = 'Ext.Array.indexOf([\"string\", \"number\", \"boolean\"], typeof values) > -1 || Ext.isDate(values) ? values : \"\"';\n        }\n        // name = \"#\" - Use the xindex\n        else if (name == '#') {\n            v = 'xindex';\n        }\n        else if (name.substr(0, 7) == \"parent.\") {\n            v = name;\n        }\n        // name has a . in it - Use object literal notation, starting from values\n        else if ((name.indexOf('.') !== -1) && (name.indexOf('-') === -1)) {\n\n            v = \"values.\" + name;\n        }\n        // name is a property of values\n        else {\n            v = \"values['\" + name + \"']\";\n        }\n\n        if (math) {\n            v = '(' + v + math + ')';\n        }\n\n        if (format && this.useFormat) {\n            args = args ? ',' + args : \"\";\n            if (format.substr(0, 5) != \"this.\") {\n                format = \"fm.\" + format + '(';\n            } else {\n                format += '(';\n            }\n        } else {\n            args = '';\n            format = \"(\" + v + \" === undefined ? '' : \";\n        }\n\n        return format + v + args + ')';\n    },\n\n    // @private\n    evalTpl: function ($) {\n\n        // We have to use eval to realize the code block and capture the inner func we also\n        // don't want a deep scope chain. We only do this in Firefox and it is also unhappy\n        // with eval containing a return statement, so instead we assign to \"$\" and return\n        // that. Because we use \"eval\", we are automatically sandboxed properly.\n        eval($);\n        return $;\n    },\n\n    newLineRe: /\\r\\n|\\r|\\n/g,\n    aposRe: /[']/g,\n    intRe:  /^\\s*(\\d+)\\s*$/,\n    tagRe:  /([\\w-\\.\\#]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?(\\s?[\\+\\-\\*\\/]\\s?[\\d\\.\\+\\-\\*\\/\\(\\)]+)?/\n\n}, function () {\n    var proto = this.prototype;\n\n    proto.fnArgs = 'out,values,parent,xindex,xcount';\n    proto.callFn = '.call(this,' + proto.fnArgs + ')';\n});\n/**\n * @class Ext.Date\n * @mixins Ext.DateExtras\n * A set of useful static methods to deal with date.\n *\n * **Please note:** Unless you require `Ext.DateExtras`, only the {@link #now} method will be available. You **MUST**\n * require `Ext.DateExtras` to use the other methods available below.\n *\n * Usage with {@link Ext#setup}:\n *\n *     Ext.setup({\n *         requires: 'Ext.DateExtras',\n *         onReady: function() {\n *             var date = new Date();\n *             alert(Ext.Date.format(date, 'j/d/Y'));\n *         }\n *     });\n *\n * The date parsing and formatting syntax contains a subset of\n * <a href=\"http://www.php.net/date\">PHP's date() function</a>, and the formats that are\n * supported will provide results equivalent to their PHP versions.\n *\n * The following is a list of all currently supported formats:\n * <pre class=\"\">\nFormat  Description                                                               Example returned values\n------  -----------------------------------------------------------------------   -----------------------\n  d     Day of the month, 2 digits with leading zeros                             01 to 31\n  D     A short textual representation of the day of the week                     Mon to Sun\n  j     Day of the month without leading zeros                                    1 to 31\n  l     A full textual representation of the day of the week                      Sunday to Saturday\n  N     ISO-8601 numeric representation of the day of the week                    1 (for Monday) through 7 (for Sunday)\n  S     English ordinal suffix for the day of the month, 2 characters             st, nd, rd or th. Works well with j\n  w     Numeric representation of the day of the week                             0 (for Sunday) to 6 (for Saturday)\n  z     The day of the year (starting from 0)                                     0 to 364 (365 in leap years)\n  W     ISO-8601 week number of year, weeks starting on Monday                    01 to 53\n  F     A full textual representation of a month, such as January or March        January to December\n  m     Numeric representation of a month, with leading zeros                     01 to 12\n  M     A short textual representation of a month                                 Jan to Dec\n  n     Numeric representation of a month, without leading zeros                  1 to 12\n  t     Number of days in the given month                                         28 to 31\n  L     Whether it&#39;s a leap year                                                  1 if it is a leap year, 0 otherwise.\n  o     ISO-8601 year number (identical to (Y), but if the ISO week number (W)    Examples: 1998 or 2004\n        belongs to the previous or next year, that year is used instead)\n  Y     A full numeric representation of a year, 4 digits                         Examples: 1999 or 2003\n  y     A two digit representation of a year                                      Examples: 99 or 03\n  a     Lowercase Ante meridiem and Post meridiem                                 am or pm\n  A     Uppercase Ante meridiem and Post meridiem                                 AM or PM\n  g     12-hour format of an hour without leading zeros                           1 to 12\n  G     24-hour format of an hour without leading zeros                           0 to 23\n  h     12-hour format of an hour with leading zeros                              01 to 12\n  H     24-hour format of an hour with leading zeros                              00 to 23\n  i     Minutes, with leading zeros                                               00 to 59\n  s     Seconds, with leading zeros                                               00 to 59\n  u     Decimal fraction of a second                                              Examples:\n        (minimum 1 digit, arbitrary number of digits allowed)                     001 (i.e. 0.001s) or\n                                                                                  100 (i.e. 0.100s) or\n                                                                                  999 (i.e. 0.999s) or\n                                                                                  999876543210 (i.e. 0.999876543210s)\n  O     Difference to Greenwich time (GMT) in hours and minutes                   Example: +1030\n  P     Difference to Greenwich time (GMT) with colon between hours and minutes   Example: -08:00\n  T     Timezone abbreviation of the machine running the code                     Examples: EST, MDT, PDT ...\n  Z     Timezone offset in seconds (negative if west of UTC, positive if east)    -43200 to 50400\n  c     ISO 8601 date\n        Notes:                                                                    Examples:\n        1) If unspecified, the month / day defaults to the current month / day,   1991 or\n           the time defaults to midnight, while the timezone defaults to the      1992-10 or\n           browser's timezone. If a time is specified, it must include both hours 1993-09-20 or\n           and minutes. The \"T\" delimiter, seconds, milliseconds and timezone     1994-08-19T16:20+01:00 or\n           are optional.                                                          1995-07-18T17:21:28-02:00 or\n        2) The decimal fraction of a second, if specified, must contain at        1996-06-17T18:22:29.98765+03:00 or\n           least 1 digit (there is no limit to the maximum number                 1997-05-16T19:23:30,12345-0400 or\n           of digits allowed), and may be delimited by either a '.' or a ','      1998-04-15T20:24:31.2468Z or\n        Refer to the examples on the right for the various levels of              1999-03-14T20:24:32Z or\n        date-time granularity which are supported, or see                         2000-02-13T21:25:33\n        http://www.w3.org/TR/NOTE-datetime for more info.                         2001-01-12 22:26:34\n  U     Seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)                1193432466 or -2138434463\n  MS    Microsoft AJAX serialized dates                                           \\/Date(1238606590509)\\/ (i.e. UTC milliseconds since epoch) or\n                                                                                  \\/Date(1238606590509+0800)\\/\n</pre>\n *\n * Example usage (note that you must escape format specifiers with '\\\\' to render them as character literals):\n * <pre><code>\n// Sample date:\n// 'Wed Jan 10 2007 15:05:01 GMT-0600 (Central Standard Time)'\n\nvar dt = new Date('1/10/2007 03:05:01 PM GMT-0600');\nconsole.log(Ext.Date.format(dt, 'Y-m-d'));                          // 2007-01-10\nconsole.log(Ext.Date.format(dt, 'F j, Y, g:i a'));                  // January 10, 2007, 3:05 pm\nconsole.log(Ext.Date.format(dt, 'l, \\\\t\\\\he jS \\\\of F Y h:i:s A')); // Wednesday, the 10th of January 2007 03:05:01 PM\n</code></pre>\n *\n * Here are some standard date/time patterns that you might find helpful.  They\n * are not part of the source of Ext.Date, but to use them you can simply copy this\n * block of code into any script that is included after Ext.Date and they will also become\n * globally available on the Date object.  Feel free to add or remove patterns as needed in your code.\n * <pre><code>\nExt.Date.patterns = {\n    ISO8601Long:\"Y-m-d H:i:s\",\n    ISO8601Short:\"Y-m-d\",\n    ShortDate: \"n/j/Y\",\n    LongDate: \"l, F d, Y\",\n    FullDateTime: \"l, F d, Y g:i:s A\",\n    MonthDay: \"F d\",\n    ShortTime: \"g:i A\",\n    LongTime: \"g:i:s A\",\n    SortableDateTime: \"Y-m-d\\\\TH:i:s\",\n    UniversalSortableDateTime: \"Y-m-d H:i:sO\",\n    YearMonth: \"F, Y\"\n};\n</code></pre>\n *\n * Example usage:\n * <pre><code>\nvar dt = new Date();\nconsole.log(Ext.Date.format(dt, Ext.Date.patterns.ShortDate));\n</code></pre>\n * <p>Developer-written, custom formats may be used by supplying both a formatting and a parsing function\n * which perform to specialized requirements. The functions are stored in {@link #parseFunctions} and {@link #formatFunctions}.</p>\n * @singleton\n */\n\n/*\n * Most of the date-formatting functions below are the excellent work of Baron Schwartz.\n * (see http://www.xaprb.com/blog/2005/12/12/javascript-closures-for-runtime-efficiency/)\n * They generate precompiled functions from format patterns instead of parsing and\n * processing each pattern every time a date is formatted. These functions are available\n * on every Date object.\n */\n\n(function() {\n\n// create private copy of Ext's Ext.util.Format.format() method\n// - to remove unnecessary dependency\n// - to resolve namespace conflict with MS-Ajax's implementation\nfunction xf(format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/\\{(\\d+)\\}/g, function(m, i) {\n        return args[i];\n    });\n}\n\n/**\n * Extra methods to be mixed into Ext.Date.\n *\n * Require this class to get Ext.Date with all the methods listed below.\n *\n * Using Ext.setup:\n *\n *     Ext.setup({\n *         requires: 'Ext.DateExtras',\n *         onReady: function() {\n *             var date = new Date();\n *             alert(Ext.Date.format(date, 'j/d/Y'));\n *         }\n *     });\n *\n * Using Ext.application:\n *\n *     Ext.application({\n *         requires: 'Ext.DateExtras',\n *         launch: function() {\n *             var date = new Date();\n *             alert(Ext.Date.format(date, 'j/d/Y'));\n *         }\n *     });\n *\n * @singleton\n */\nExt.DateExtras = {\n    /**\n     * Returns the current timestamp\n     * @return {Date} The current timestamp\n     * @method\n     */\n    now: Date.now || function() {\n        return +new Date();\n    },\n\n    /**\n     * Returns the number of milliseconds between two dates\n     * @param {Date} dateA The first date\n     * @param {Date} dateB (optional) The second date, defaults to now\n     * @return {Number} The difference in milliseconds\n     */\n    getElapsed: function(dateA, dateB) {\n        return Math.abs(dateA - (dateB || new Date()));\n    },\n\n    /**\n     * Global flag which determines if strict date parsing should be used.\n     * Strict date parsing will not roll-over invalid dates, which is the\n     * default behaviour of javascript Date objects.\n     * (see {@link #parse} for more information)\n     * Defaults to <tt>false</tt>.\n     * @type Boolean\n    */\n    useStrict: false,\n\n    // private\n    formatCodeToRegex: function(character, currentGroup) {\n        // Note: currentGroup - position in regex result array (see notes for Ext.Date.parseCodes below)\n        var p = utilDate.parseCodes[character];\n\n        if (p) {\n          p = typeof p == 'function'? p() : p;\n          utilDate.parseCodes[character] = p; // reassign function result to prevent repeated execution\n        }\n\n        return p ? Ext.applyIf({\n          c: p.c ? xf(p.c, currentGroup || \"{0}\") : p.c\n        }, p) : {\n            g: 0,\n            c: null,\n            s: Ext.String.escapeRegex(character) // treat unrecognised characters as literals\n        };\n    },\n\n    /**\n     * <p>An object hash in which each property is a date parsing function. The property name is the\n     * format string which that function parses.</p>\n     * <p>This object is automatically populated with date parsing functions as\n     * date formats are requested for Ext standard formatting strings.</p>\n     * <p>Custom parsing functions may be inserted into this object, keyed by a name which from then on\n     * may be used as a format string to {@link #parse}.<p>\n     * <p>Example:</p><pre><code>\nExt.Date.parseFunctions['x-date-format'] = myDateParser;\n</code></pre>\n     * <p>A parsing function should return a Date object, and is passed the following parameters:<div class=\"mdetail-params\"><ul>\n     * <li><code>date</code> : String<div class=\"sub-desc\">The date string to parse.</div></li>\n     * <li><code>strict</code> : Boolean<div class=\"sub-desc\">True to validate date strings while parsing\n     * (i.e. prevent javascript Date \"rollover\") (The default must be false).\n     * Invalid date strings should return null when parsed.</div></li>\n     * </ul></div></p>\n     * <p>To enable Dates to also be <i>formatted</i> according to that format, a corresponding\n     * formatting function must be placed into the {@link #formatFunctions} property.\n     * @property parseFunctions\n     * @type Object\n     */\n    parseFunctions: {\n        \"MS\": function(input, strict) {\n            // note: the timezone offset is ignored since the MS Ajax server sends\n            // a UTC milliseconds-since-Unix-epoch value (negative values are allowed)\n            var re = new RegExp('\\\\/Date\\\\(([-+])?(\\\\d+)(?:[+-]\\\\d{4})?\\\\)\\\\/');\n            var r = (input || '').match(re);\n            return r? new Date(((r[1] || '') + r[2]) * 1) : null;\n        }\n    },\n    parseRegexes: [],\n\n    /**\n     * <p>An object hash in which each property is a date formatting function. The property name is the\n     * format string which corresponds to the produced formatted date string.</p>\n     * <p>This object is automatically populated with date formatting functions as\n     * date formats are requested for Ext standard formatting strings.</p>\n     * <p>Custom formatting functions may be inserted into this object, keyed by a name which from then on\n     * may be used as a format string to {@link #format}. Example:</p><pre><code>\nExt.Date.formatFunctions['x-date-format'] = myDateFormatter;\n</code></pre>\n     * <p>A formatting function should return a string representation of the passed Date object, and is passed the following parameters:<div class=\"mdetail-params\"><ul>\n     * <li><code>date</code> : Date<div class=\"sub-desc\">The Date to format.</div></li>\n     * </ul></div></p>\n     * <p>To enable date strings to also be <i>parsed</i> according to that format, a corresponding\n     * parsing function must be placed into the {@link #parseFunctions} property.\n     * @property formatFunctions\n     * @type Object\n     */\n    formatFunctions: {\n        \"MS\": function() {\n            // UTC milliseconds since Unix epoch (MS-AJAX serialized date format (MRSF))\n            return '\\\\/Date(' + this.getTime() + ')\\\\/';\n        }\n    },\n\n    y2kYear : 50,\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    MILLI : \"ms\",\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    SECOND : \"s\",\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    MINUTE : \"mi\",\n\n    /** Date interval constant\n     * @type String\n     */\n    HOUR : \"h\",\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    DAY : \"d\",\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    MONTH : \"mo\",\n\n    /**\n     * Date interval constant\n     * @type String\n     */\n    YEAR : \"y\",\n\n    /**\n     * <p>An object hash containing default date values used during date parsing.</p>\n     * <p>The following properties are available:<div class=\"mdetail-params\"><ul>\n     * <li><code>y</code> : Number<div class=\"sub-desc\">The default year value. (defaults to undefined)</div></li>\n     * <li><code>m</code> : Number<div class=\"sub-desc\">The default 1-based month value. (defaults to undefined)</div></li>\n     * <li><code>d</code> : Number<div class=\"sub-desc\">The default day value. (defaults to undefined)</div></li>\n     * <li><code>h</code> : Number<div class=\"sub-desc\">The default hour value. (defaults to undefined)</div></li>\n     * <li><code>i</code> : Number<div class=\"sub-desc\">The default minute value. (defaults to undefined)</div></li>\n     * <li><code>s</code> : Number<div class=\"sub-desc\">The default second value. (defaults to undefined)</div></li>\n     * <li><code>ms</code> : Number<div class=\"sub-desc\">The default millisecond value. (defaults to undefined)</div></li>\n     * </ul></div></p>\n     * <p>Override these properties to customize the default date values used by the {@link #parse} method.</p>\n     * <p><b>Note: In countries which experience Daylight Saving Time (i.e. DST), the <tt>h</tt>, <tt>i</tt>, <tt>s</tt>\n     * and <tt>ms</tt> properties may coincide with the exact time in which DST takes effect.\n     * It is the responsiblity of the developer to account for this.</b></p>\n     * Example Usage:\n     * <pre><code>\n// set default day value to the first day of the month\nExt.Date.defaults.d = 1;\n\n// parse a February date string containing only year and month values.\n// setting the default day value to 1 prevents weird date rollover issues\n// when attempting to parse the following date string on, for example, March 31st 2009.\nExt.Date.parse('2009-02', 'Y-m'); // returns a Date object representing February 1st 2009\n</code></pre>\n     * @property defaults\n     * @type Object\n     */\n    defaults: {},\n\n    /**\n     * An array of textual day names.\n     * Override these values for international dates.\n     * Example:\n     * <pre><code>\nExt.Date.dayNames = [\n    'SundayInYourLang',\n    'MondayInYourLang',\n    ...\n];\n</code></pre>\n     * @type Array\n     */\n    dayNames : [\n        \"Sunday\",\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\",\n        \"Saturday\"\n    ],\n\n    /**\n     * An array of textual month names.\n     * Override these values for international dates.\n     * Example:\n     * <pre><code>\nExt.Date.monthNames = [\n    'JanInYourLang',\n    'FebInYourLang',\n    ...\n];\n</code></pre>\n     * @type Array\n     */\n    monthNames : [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n    ],\n\n    /**\n     * An object hash of zero-based javascript month numbers (with short month names as keys. note: keys are case-sensitive).\n     * Override these values for international dates.\n     * Example:\n     * <pre><code>\nExt.Date.monthNumbers = {\n    'ShortJanNameInYourLang':0,\n    'ShortFebNameInYourLang':1,\n    ...\n};\n</code></pre>\n     * @type Object\n     */\n    monthNumbers : {\n        Jan:0,\n        Feb:1,\n        Mar:2,\n        Apr:3,\n        May:4,\n        Jun:5,\n        Jul:6,\n        Aug:7,\n        Sep:8,\n        Oct:9,\n        Nov:10,\n        Dec:11\n    },\n    /**\n     * <p>The date format string that the {@link Ext.util.Format#date} function uses.\n     * See {@link Ext.Date} for details.</p>\n     * <p>This defaults to <code>m/d/Y</code>, but may be overridden in a locale file.</p>\n     * @property defaultFormat\n     * @type String\n     */\n    defaultFormat : \"m/d/Y\",\n    /**\n     * Get the short month name for the given month number.\n     * Override this function for international dates.\n     * @param {Number} month A zero-based javascript month number.\n     * @return {String} The short month name.\n     */\n    getShortMonthName : function(month) {\n        return utilDate.monthNames[month].substring(0, 3);\n    },\n\n    /**\n     * Get the short day name for the given day number.\n     * Override this function for international dates.\n     * @param {Number} day A zero-based javascript day number.\n     * @return {String} The short day name.\n     */\n    getShortDayName : function(day) {\n        return utilDate.dayNames[day].substring(0, 3);\n    },\n\n    /**\n     * Get the zero-based javascript month number for the given short/full month name.\n     * Override this function for international dates.\n     * @param {String} name The short/full month name.\n     * @return {Number} The zero-based javascript month number.\n     */\n    getMonthNumber : function(name) {\n        // handle camel casing for english month names (since the keys for the Ext.Date.monthNumbers hash are case sensitive)\n        return utilDate.monthNumbers[name.substring(0, 1).toUpperCase() + name.substring(1, 3).toLowerCase()];\n    },\n\n    /**\n     * The base format-code to formatting-function hashmap used by the {@link #format} method.\n     * Formatting functions are strings (or functions which return strings) which\n     * will return the appropriate value when evaluated in the context of the Date object\n     * from which the {@link #format} method is called.\n     * Add to / override these mappings for custom date formatting.\n     * Note: Ext.Date.format() treats characters as literals if an appropriate mapping cannot be found.\n     * Example:\n     * <pre><code>\nExt.Date.formatCodes.x = \"Ext.util.Format.leftPad(this.getDate(), 2, '0')\";\nconsole.log(Ext.Date.format(new Date(), 'X'); // returns the current day of the month\n</code></pre>\n     * @type Object\n     */\n    formatCodes : {\n        d: \"Ext.String.leftPad(this.getDate(), 2, '0')\",\n        D: \"Ext.Date.getShortDayName(this.getDay())\", // get localised short day name\n        j: \"this.getDate()\",\n        l: \"Ext.Date.dayNames[this.getDay()]\",\n        N: \"(this.getDay() ? this.getDay() : 7)\",\n        S: \"Ext.Date.getSuffix(this)\",\n        w: \"this.getDay()\",\n        z: \"Ext.Date.getDayOfYear(this)\",\n        W: \"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')\",\n        F: \"Ext.Date.monthNames[this.getMonth()]\",\n        m: \"Ext.String.leftPad(this.getMonth() + 1, 2, '0')\",\n        M: \"Ext.Date.getShortMonthName(this.getMonth())\", // get localised short month name\n        n: \"(this.getMonth() + 1)\",\n        t: \"Ext.Date.getDaysInMonth(this)\",\n        L: \"(Ext.Date.isLeapYear(this) ? 1 : 0)\",\n        o: \"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))\",\n        Y: \"Ext.String.leftPad(this.getFullYear(), 4, '0')\",\n        y: \"('' + this.getFullYear()).substring(2, 4)\",\n        a: \"(this.getHours() < 12 ? 'am' : 'pm')\",\n        A: \"(this.getHours() < 12 ? 'AM' : 'PM')\",\n        g: \"((this.getHours() % 12) ? this.getHours() % 12 : 12)\",\n        G: \"this.getHours()\",\n        h: \"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')\",\n        H: \"Ext.String.leftPad(this.getHours(), 2, '0')\",\n        i: \"Ext.String.leftPad(this.getMinutes(), 2, '0')\",\n        s: \"Ext.String.leftPad(this.getSeconds(), 2, '0')\",\n        u: \"Ext.String.leftPad(this.getMilliseconds(), 3, '0')\",\n        O: \"Ext.Date.getGMTOffset(this)\",\n        P: \"Ext.Date.getGMTOffset(this, true)\",\n        T: \"Ext.Date.getTimezone(this)\",\n        Z: \"(this.getTimezoneOffset() * -60)\",\n\n        c: function() { // ISO-8601 -- GMT format\n            for (var c = \"Y-m-dTH:i:sP\", code = [], i = 0, l = c.length; i < l; ++i) {\n                var e = c.charAt(i);\n                code.push(e == \"T\" ? \"'T'\" : utilDate.getFormatCode(e)); // treat T as a character literal\n            }\n            return code.join(\" + \");\n        },\n        /*\n        c: function() { // ISO-8601 -- UTC format\n            return [\n              \"this.getUTCFullYear()\", \"'-'\",\n              \"Ext.util.Format.leftPad(this.getUTCMonth() + 1, 2, '0')\", \"'-'\",\n              \"Ext.util.Format.leftPad(this.getUTCDate(), 2, '0')\",\n              \"'T'\",\n              \"Ext.util.Format.leftPad(this.getUTCHours(), 2, '0')\", \"':'\",\n              \"Ext.util.Format.leftPad(this.getUTCMinutes(), 2, '0')\", \"':'\",\n              \"Ext.util.Format.leftPad(this.getUTCSeconds(), 2, '0')\",\n              \"'Z'\"\n            ].join(\" + \");\n        },\n        */\n\n        U: \"Math.round(this.getTime() / 1000)\"\n    },\n\n    /**\n     * Checks if the passed Date parameters will cause a javascript Date \"rollover\".\n     * @param {Number} year 4-digit year\n     * @param {Number} month 1-based month-of-year\n     * @param {Number} day Day of month\n     * @param {Number} hour (optional) Hour\n     * @param {Number} minute (optional) Minute\n     * @param {Number} second (optional) Second\n     * @param {Number} millisecond (optional) Millisecond\n     * @return {Boolean} true if the passed parameters do not cause a Date \"rollover\", false otherwise.\n     */\n    isValid : function(y, m, d, h, i, s, ms) {\n        // setup defaults\n        h = h || 0;\n        i = i || 0;\n        s = s || 0;\n        ms = ms || 0;\n\n        // Special handling for year < 100\n        var dt = utilDate.add(new Date(y < 100 ? 100 : y, m - 1, d, h, i, s, ms), utilDate.YEAR, y < 100 ? y - 100 : 0);\n\n        return y == dt.getFullYear() &&\n            m == dt.getMonth() + 1 &&\n            d == dt.getDate() &&\n            h == dt.getHours() &&\n            i == dt.getMinutes() &&\n            s == dt.getSeconds() &&\n            ms == dt.getMilliseconds();\n    },\n\n    /**\n     * Parses the passed string using the specified date format.\n     * Note that this function expects normal calendar dates, meaning that months are 1-based (i.e. 1 = January).\n     * The {@link #defaults} hash will be used for any date value (i.e. year, month, day, hour, minute, second or millisecond)\n     * which cannot be found in the passed string. If a corresponding default date value has not been specified in the {@link #defaults} hash,\n     * the current date's year, month, day or DST-adjusted zero-hour time value will be used instead.\n     * Keep in mind that the input date string must precisely match the specified format string\n     * in order for the parse operation to be successful (failed parse operations return a null value).\n     * <p>Example:</p><pre><code>\n//dt = Fri May 25 2007 (current date)\nvar dt = new Date();\n\n//dt = Thu May 25 2006 (today&#39;s month/day in 2006)\ndt = Ext.Date.parse(\"2006\", \"Y\");\n\n//dt = Sun Jan 15 2006 (all date parts specified)\ndt = Ext.Date.parse(\"2006-01-15\", \"Y-m-d\");\n\n//dt = Sun Jan 15 2006 15:20:01\ndt = Ext.Date.parse(\"2006-01-15 3:20:01 PM\", \"Y-m-d g:i:s A\");\n\n// attempt to parse Sun Feb 29 2006 03:20:01 in strict mode\ndt = Ext.Date.parse(\"2006-02-29 03:20:01\", \"Y-m-d H:i:s\", true); // returns null\n</code></pre>\n     * @param {String} input The raw date string.\n     * @param {String} format The expected date string format.\n     * @param {Boolean} strict (optional) True to validate date strings while parsing (i.e. prevents javascript Date \"rollover\")\n                        (defaults to false). Invalid date strings will return null when parsed.\n     * @return {Date} The parsed Date.\n     */\n    parse : function(input, format, strict) {\n        var p = utilDate.parseFunctions;\n        if (p[format] == null) {\n            utilDate.createParser(format);\n        }\n        return p[format](input, Ext.isDefined(strict) ? strict : utilDate.useStrict);\n    },\n\n    // Backwards compat\n    parseDate: function(input, format, strict){\n        return utilDate.parse(input, format, strict);\n    },\n\n\n    // private\n    getFormatCode : function(character) {\n        var f = utilDate.formatCodes[character];\n\n        if (f) {\n          f = typeof f == 'function'? f() : f;\n          utilDate.formatCodes[character] = f; // reassign function result to prevent repeated execution\n        }\n\n        // note: unknown characters are treated as literals\n        return f || (\"'\" + Ext.String.escape(character) + \"'\");\n    },\n\n    // private\n    createFormat : function(format) {\n        var code = [],\n            special = false,\n            ch = '';\n\n        for (var i = 0; i < format.length; ++i) {\n            ch = format.charAt(i);\n            if (!special && ch == \"\\\\\") {\n                special = true;\n            } else if (special) {\n                special = false;\n                code.push(\"'\" + Ext.String.escape(ch) + \"'\");\n            } else {\n                code.push(utilDate.getFormatCode(ch));\n            }\n        }\n        utilDate.formatFunctions[format] = Ext.functionFactory(\"return \" + code.join('+'));\n    },\n\n    // private\n    createParser : (function() {\n        var code = [\n            \"var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\",\n                \"def = Ext.Date.defaults,\",\n                \"results = String(input).match(Ext.Date.parseRegexes[{0}]);\", // either null, or an array of matched strings\n\n            \"if(results){\",\n                \"{1}\",\n\n                \"if(u != null){\", // i.e. unix time is defined\n                    \"v = new Date(u * 1000);\", // give top priority to UNIX time\n                \"}else{\",\n                    // create Date object representing midnight of the current day;\n                    // this will provide us with our date defaults\n                    // (note: clearTime() handles Daylight Saving Time automatically)\n                    \"dt = Ext.Date.clearTime(new Date);\",\n\n                    // date calculations (note: these calculations create a dependency on Ext.Number.from())\n                    \"y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));\",\n                    \"m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));\",\n                    \"d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));\",\n\n                    // time calculations (note: these calculations create a dependency on Ext.Number.from())\n                    \"h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));\",\n                    \"i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));\",\n                    \"s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));\",\n                    \"ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));\",\n\n                    \"if(z >= 0 && y >= 0){\",\n                        // both the year and zero-based day of year are defined and >= 0.\n                        // these 2 values alone provide sufficient info to create a full date object\n\n                        // create Date object representing January 1st for the given year\n                        // handle years < 100 appropriately\n                        \"v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\n\n                        // then add day of year, checking for Date \"rollover\" if necessary\n                        \"v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);\",\n                    \"}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){\", // check for Date \"rollover\"\n                        \"v = null;\", // invalid date, so return null\n                    \"}else{\",\n                        // plain old Date object\n                        // handle years < 100 properly\n                        \"v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\n                    \"}\",\n                \"}\",\n            \"}\",\n\n            \"if(v){\",\n                // favour UTC offset over GMT offset\n                \"if(zz != null){\",\n                    // reset to UTC, then add offset\n                    \"v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\",\n                \"}else if(o){\",\n                    // reset to GMT, then add offset\n                    \"v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\",\n                \"}\",\n            \"}\",\n\n            \"return v;\"\n        ].join('\\n');\n\n        return function(format) {\n            var regexNum = utilDate.parseRegexes.length,\n                currentGroup = 1,\n                calc = [],\n                regex = [],\n                special = false,\n                ch = \"\";\n\n            for (var i = 0; i < format.length; ++i) {\n                ch = format.charAt(i);\n                if (!special && ch == \"\\\\\") {\n                    special = true;\n                } else if (special) {\n                    special = false;\n                    regex.push(Ext.String.escape(ch));\n                } else {\n                    var obj = utilDate.formatCodeToRegex(ch, currentGroup);\n                    currentGroup += obj.g;\n                    regex.push(obj.s);\n                    if (obj.g && obj.c) {\n                        calc.push(obj.c);\n                    }\n                }\n            }\n\n            utilDate.parseRegexes[regexNum] = new RegExp(\"^\" + regex.join('') + \"$\", 'i');\n            utilDate.parseFunctions[format] = Ext.functionFactory(\"input\", \"strict\", xf(code, regexNum, calc.join('')));\n        };\n    })(),\n\n    // private\n    parseCodes : {\n        /*\n         * Notes:\n         * g = {Number} calculation group (0 or 1. only group 1 contributes to date calculations.)\n         * c = {String} calculation method (required for group 1. null for group 0. {0} = currentGroup - position in regex result array)\n         * s = {String} regex pattern. all matches are stored in results[], and are accessible by the calculation mapped to 'c'\n         */\n        d: {\n            g:1,\n            c:\"d = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{2})\" // day of month with leading zeroes (01 - 31)\n        },\n        j: {\n            g:1,\n            c:\"d = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{1,2})\" // day of month without leading zeroes (1 - 31)\n        },\n        D: function() {\n            for (var a = [], i = 0; i < 7; a.push(utilDate.getShortDayName(i)), ++i); // get localised short day names\n            return {\n                g:0,\n                c:null,\n                s:\"(?:\" + a.join(\"|\") +\")\"\n            };\n        },\n        l: function() {\n            return {\n                g:0,\n                c:null,\n                s:\"(?:\" + utilDate.dayNames.join(\"|\") + \")\"\n            };\n        },\n        N: {\n            g:0,\n            c:null,\n            s:\"[1-7]\" // ISO-8601 day number (1 (monday) - 7 (sunday))\n        },\n        S: {\n            g:0,\n            c:null,\n            s:\"(?:st|nd|rd|th)\"\n        },\n        w: {\n            g:0,\n            c:null,\n            s:\"[0-6]\" // javascript day number (0 (sunday) - 6 (saturday))\n        },\n        z: {\n            g:1,\n            c:\"z = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{1,3})\" // day of the year (0 - 364 (365 in leap years))\n        },\n        W: {\n            g:0,\n            c:null,\n            s:\"(?:\\\\d{2})\" // ISO-8601 week number (with leading zero)\n        },\n        F: function() {\n            return {\n                g:1,\n                c:\"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\\n\", // get localised month number\n                s:\"(\" + utilDate.monthNames.join(\"|\") + \")\"\n            };\n        },\n        M: function() {\n            for (var a = [], i = 0; i < 12; a.push(utilDate.getShortMonthName(i)), ++i); // get localised short month names\n            return Ext.applyIf({\n                s:\"(\" + a.join(\"|\") + \")\"\n            }, utilDate.formatCodeToRegex(\"F\"));\n        },\n        m: {\n            g:1,\n            c:\"m = parseInt(results[{0}], 10) - 1;\\n\",\n            s:\"(\\\\d{2})\" // month number with leading zeros (01 - 12)\n        },\n        n: {\n            g:1,\n            c:\"m = parseInt(results[{0}], 10) - 1;\\n\",\n            s:\"(\\\\d{1,2})\" // month number without leading zeros (1 - 12)\n        },\n        t: {\n            g:0,\n            c:null,\n            s:\"(?:\\\\d{2})\" // no. of days in the month (28 - 31)\n        },\n        L: {\n            g:0,\n            c:null,\n            s:\"(?:1|0)\"\n        },\n        o: function() {\n            return utilDate.formatCodeToRegex(\"Y\");\n        },\n        Y: {\n            g:1,\n            c:\"y = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{4})\" // 4-digit year\n        },\n        y: {\n            g:1,\n            c:\"var ty = parseInt(results[{0}], 10);\\n\"\n                + \"y = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\\n\", // 2-digit year\n            s:\"(\\\\d{1,2})\"\n        },\n        /*\n         * In the am/pm parsing routines, we allow both upper and lower case\n         * even though it doesn't exactly match the spec. It gives much more flexibility\n         * in being able to specify case insensitive regexes.\n         */\n        a: {\n            g:1,\n            c:\"if (/(am)/i.test(results[{0}])) {\\n\"\n                + \"if (!h || h == 12) { h = 0; }\\n\"\n                + \"} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",\n            s:\"(am|pm|AM|PM)\"\n        },\n        A: {\n            g:1,\n            c:\"if (/(am)/i.test(results[{0}])) {\\n\"\n                + \"if (!h || h == 12) { h = 0; }\\n\"\n                + \"} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",\n            s:\"(AM|PM|am|pm)\"\n        },\n        g: function() {\n            return utilDate.formatCodeToRegex(\"G\");\n        },\n        G: {\n            g:1,\n            c:\"h = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{1,2})\" // 24-hr format of an hour without leading zeroes (0 - 23)\n        },\n        h: function() {\n            return utilDate.formatCodeToRegex(\"H\");\n        },\n        H: {\n            g:1,\n            c:\"h = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{2})\" //  24-hr format of an hour with leading zeroes (00 - 23)\n        },\n        i: {\n            g:1,\n            c:\"i = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{2})\" // minutes with leading zeros (00 - 59)\n        },\n        s: {\n            g:1,\n            c:\"s = parseInt(results[{0}], 10);\\n\",\n            s:\"(\\\\d{2})\" // seconds with leading zeros (00 - 59)\n        },\n        u: {\n            g:1,\n            c:\"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\",\n            s:\"(\\\\d+)\" // decimal fraction of a second (minimum = 1 digit, maximum = unlimited)\n        },\n        O: {\n            g:1,\n            c:[\n                \"o = results[{0}];\",\n                \"var sn = o.substring(0,1),\", // get + / - sign\n                    \"hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\", // get hours (performs minutes-to-hour conversion also, just in case)\n                    \"mn = o.substring(3,5) % 60;\", // get minutes\n                \"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\" // -12hrs <= GMT offset <= 14hrs\n            ].join(\"\\n\"),\n            s: \"([+\\-]\\\\d{4})\" // GMT offset in hrs and mins\n        },\n        P: {\n            g:1,\n            c:[\n                \"o = results[{0}];\",\n                \"var sn = o.substring(0,1),\", // get + / - sign\n                    \"hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\", // get hours (performs minutes-to-hour conversion also, just in case)\n                    \"mn = o.substring(4,6) % 60;\", // get minutes\n                \"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\" // -12hrs <= GMT offset <= 14hrs\n            ].join(\"\\n\"),\n            s: \"([+\\-]\\\\d{2}:\\\\d{2})\" // GMT offset in hrs and mins (with colon separator)\n        },\n        T: {\n            g:0,\n            c:null,\n            s:\"[A-Z]{1,4}\" // timezone abbrev. may be between 1 - 4 chars\n        },\n        Z: {\n            g:1,\n            c:\"zz = results[{0}] * 1;\\n\" // -43200 <= UTC offset <= 50400\n                  + \"zz = (-43200 <= zz && zz <= 50400)? zz : null;\\n\",\n            s:\"([+\\-]?\\\\d{1,5})\" // leading '+' sign is optional for UTC offset\n        },\n        c: function() {\n            var calc = [],\n                arr = [\n                    utilDate.formatCodeToRegex(\"Y\", 1), // year\n                    utilDate.formatCodeToRegex(\"m\", 2), // month\n                    utilDate.formatCodeToRegex(\"d\", 3), // day\n                    utilDate.formatCodeToRegex(\"h\", 4), // hour\n                    utilDate.formatCodeToRegex(\"i\", 5), // minute\n                    utilDate.formatCodeToRegex(\"s\", 6), // second\n                    {c:\"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\"}, // decimal fraction of a second (minimum = 1 digit, maximum = unlimited)\n                    {c:[ // allow either \"Z\" (i.e. UTC) or \"-0530\" or \"+08:00\" (i.e. UTC offset) timezone delimiters. assumes local timezone if no timezone is specified\n                        \"if(results[8]) {\", // timezone specified\n                            \"if(results[8] == 'Z'){\",\n                                \"zz = 0;\", // UTC\n                            \"}else if (results[8].indexOf(':') > -1){\",\n                                utilDate.formatCodeToRegex(\"P\", 8).c, // timezone offset with colon separator\n                            \"}else{\",\n                                utilDate.formatCodeToRegex(\"O\", 8).c, // timezone offset without colon separator\n                            \"}\",\n                        \"}\"\n                    ].join('\\n')}\n                ];\n\n            for (var i = 0, l = arr.length; i < l; ++i) {\n                calc.push(arr[i].c);\n            }\n\n            return {\n                g:1,\n                c:calc.join(\"\"),\n                s:[\n                    arr[0].s, // year (required)\n                    \"(?:\", \"-\", arr[1].s, // month (optional)\n                        \"(?:\", \"-\", arr[2].s, // day (optional)\n                            \"(?:\",\n                                \"(?:T| )?\", // time delimiter -- either a \"T\" or a single blank space\n                                arr[3].s, \":\", arr[4].s,  // hour AND minute, delimited by a single colon (optional). MUST be preceded by either a \"T\" or a single blank space\n                                \"(?::\", arr[5].s, \")?\", // seconds (optional)\n                                \"(?:(?:\\\\.|,)(\\\\d+))?\", // decimal fraction of a second (e.g. \",12345\" or \".98765\") (optional)\n                                \"(Z|(?:[-+]\\\\d{2}(?::)?\\\\d{2}))?\", // \"Z\" (UTC) or \"-0530\" (UTC offset without colon delimiter) or \"+08:00\" (UTC offset with colon delimiter) (optional)\n                            \")?\",\n                        \")?\",\n                    \")?\"\n                ].join(\"\")\n            };\n        },\n        U: {\n            g:1,\n            c:\"u = parseInt(results[{0}], 10);\\n\",\n            s:\"(-?\\\\d+)\" // leading minus sign indicates seconds before UNIX epoch\n        }\n    },\n\n    //Old Ext.Date prototype methods.\n    // private\n    dateFormat: function(date, format) {\n        return utilDate.format(date, format);\n    },\n\n    /**\n     * Formats a date given the supplied format string.\n     * @param {Date} date The date to format\n     * @param {String} format The format string\n     * @return {String} The formatted date\n     */\n    format: function(date, format) {\n        if (utilDate.formatFunctions[format] == null) {\n            utilDate.createFormat(format);\n        }\n        var result = utilDate.formatFunctions[format].call(date);\n        return result + '';\n    },\n\n    /**\n     * Get the timezone abbreviation of the current date (equivalent to the format specifier 'T').\n     *\n     * Note: The date string returned by the javascript Date object's toString() method varies\n     * between browsers (e.g. FF vs IE) and system region settings (e.g. IE in Asia vs IE in America).\n     * For a given date string e.g. \"Thu Oct 25 2007 22:55:35 GMT+0800 (Malay Peninsula Standard Time)\",\n     * getTimezone() first tries to get the timezone abbreviation from between a pair of parentheses\n     * (which may or may not be present), failing which it proceeds to get the timezone abbreviation\n     * from the GMT offset portion of the date string.\n     * @param {Date} date The date\n     * @return {String} The abbreviated timezone name (e.g. 'CST', 'PDT', 'EDT', 'MPST' ...).\n     */\n    getTimezone : function(date) {\n        // the following list shows the differences between date strings from different browsers on a WinXP SP2 machine from an Asian locale:\n        //\n        // Opera  : \"Thu, 25 Oct 2007 22:53:45 GMT+0800\" -- shortest (weirdest) date string of the lot\n        // Safari : \"Thu Oct 25 2007 22:55:35 GMT+0800 (Malay Peninsula Standard Time)\" -- value in parentheses always gives the correct timezone (same as FF)\n        // FF     : \"Thu Oct 25 2007 22:55:35 GMT+0800 (Malay Peninsula Standard Time)\" -- value in parentheses always gives the correct timezone\n        // IE     : \"Thu Oct 25 22:54:35 UTC+0800 2007\" -- (Asian system setting) look for 3-4 letter timezone abbrev\n        // IE     : \"Thu Oct 25 17:06:37 PDT 2007\" -- (American system setting) look for 3-4 letter timezone abbrev\n        //\n        // this crazy regex attempts to guess the correct timezone abbreviation despite these differences.\n        // step 1: (?:\\((.*)\\) -- find timezone in parentheses\n        // step 2: ([A-Z]{1,4})(?:[\\-+][0-9]{4})?(?: -?\\d+)?) -- if nothing was found in step 1, find timezone from timezone offset portion of date string\n        // step 3: remove all non uppercase characters found in step 1 and 2\n        return date.toString().replace(/^.* (?:\\((.*)\\)|([A-Z]{1,4})(?:[\\-+][0-9]{4})?(?: -?\\d+)?)$/, \"$1$2\").replace(/[^A-Z]/g, \"\");\n    },\n\n    /**\n     * Get the offset from GMT of the current date (equivalent to the format specifier 'O').\n     * @param {Date} date The date\n     * @param {Boolean} colon (optional) true to separate the hours and minutes with a colon (defaults to false).\n     * @return {String} The 4-character offset string prefixed with + or - (e.g. '-0600').\n     */\n    getGMTOffset : function(date, colon) {\n        var offset = date.getTimezoneOffset();\n        return (offset > 0 ? \"-\" : \"+\")\n            + Ext.String.leftPad(Math.floor(Math.abs(offset) / 60), 2, \"0\")\n            + (colon ? \":\" : \"\")\n            + Ext.String.leftPad(Math.abs(offset % 60), 2, \"0\");\n    },\n\n    /**\n     * Get the numeric day number of the year, adjusted for leap year.\n     * @param {Date} date The date\n     * @return {Number} 0 to 364 (365 in leap years).\n     */\n    getDayOfYear: function(date) {\n        var num = 0,\n            d = Ext.Date.clone(date),\n            m = date.getMonth(),\n            i;\n\n        for (i = 0, d.setDate(1), d.setMonth(0); i < m; d.setMonth(++i)) {\n            num += utilDate.getDaysInMonth(d);\n        }\n        return num + date.getDate() - 1;\n    },\n\n    /**\n     * Get the numeric ISO-8601 week number of the year.\n     * (equivalent to the format specifier 'W', but without a leading zero).\n     * @param {Date} date The date\n     * @return {Number} 1 to 53\n     * @method\n     */\n    getWeekOfYear : (function() {\n        // adapted from http://www.merlyn.demon.co.uk/weekcalc.htm\n        var ms1d = 864e5, // milliseconds in a day\n            ms7d = 7 * ms1d; // milliseconds in a week\n\n        return function(date) { // return a closure so constants get calculated only once\n            var DC3 = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate() + 3) / ms1d, // an Absolute Day Number\n                AWN = Math.floor(DC3 / 7), // an Absolute Week Number\n                Wyr = new Date(AWN * ms7d).getUTCFullYear();\n\n            return AWN - Math.floor(Date.UTC(Wyr, 0, 7) / ms7d) + 1;\n        };\n    })(),\n\n    /**\n     * Checks if the current date falls within a leap year.\n     * @param {Date} date The date\n     * @return {Boolean} True if the current date falls within a leap year, false otherwise.\n     */\n    isLeapYear : function(date) {\n        var year = date.getFullYear();\n        return !!((year & 3) == 0 && (year % 100 || (year % 400 == 0 && year)));\n    },\n\n    /**\n     * Get the first day of the current month, adjusted for leap year.  The returned value\n     * is the numeric day index within the week (0-6) which can be used in conjunction with\n     * the {@link #monthNames} array to retrieve the textual day name.\n     * Example:\n     * <pre><code>\nvar dt = new Date('1/10/2007'),\n    firstDay = Ext.Date.getFirstDayOfMonth(dt);\nconsole.log(Ext.Date.dayNames[firstDay]); //output: 'Monday'\n     * </code></pre>\n     * @param {Date} date The date\n     * @return {Number} The day number (0-6).\n     */\n    getFirstDayOfMonth : function(date) {\n        var day = (date.getDay() - (date.getDate() - 1)) % 7;\n        return (day < 0) ? (day + 7) : day;\n    },\n\n    /**\n     * Get the last day of the current month, adjusted for leap year.  The returned value\n     * is the numeric day index within the week (0-6) which can be used in conjunction with\n     * the {@link #monthNames} array to retrieve the textual day name.\n     * Example:\n     * <pre><code>\nvar dt = new Date('1/10/2007'),\n    lastDay = Ext.Date.getLastDayOfMonth(dt);\nconsole.log(Ext.Date.dayNames[lastDay]); //output: 'Wednesday'\n     * </code></pre>\n     * @param {Date} date The date\n     * @return {Number} The day number (0-6).\n     */\n    getLastDayOfMonth : function(date) {\n        return utilDate.getLastDateOfMonth(date).getDay();\n    },\n\n\n    /**\n     * Get the date of the first day of the month in which this date resides.\n     * @param {Date} date The date\n     * @return {Date}\n     */\n    getFirstDateOfMonth : function(date) {\n        return new Date(date.getFullYear(), date.getMonth(), 1);\n    },\n\n    /**\n     * Get the date of the last day of the month in which this date resides.\n     * @param {Date} date The date\n     * @return {Date}\n     */\n    getLastDateOfMonth : function(date) {\n        return new Date(date.getFullYear(), date.getMonth(), utilDate.getDaysInMonth(date));\n    },\n\n    /**\n     * Get the number of days in the current month, adjusted for leap year.\n     * @param {Date} date The date\n     * @return {Number} The number of days in the month.\n     * @method\n     */\n    getDaysInMonth: (function() {\n        var daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n        return function(date) { // return a closure for efficiency\n            var m = date.getMonth();\n\n            return m == 1 && utilDate.isLeapYear(date) ? 29 : daysInMonth[m];\n        };\n    })(),\n\n    /**\n     * Get the English ordinal suffix of the current day (equivalent to the format specifier 'S').\n     * @param {Date} date The date\n     * @return {String} 'st, 'nd', 'rd' or 'th'.\n     */\n    getSuffix : function(date) {\n        switch (date.getDate()) {\n            case 1:\n            case 21:\n            case 31:\n                return \"st\";\n            case 2:\n            case 22:\n                return \"nd\";\n            case 3:\n            case 23:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n\n    /**\n     * Creates and returns a new Date instance with the exact same date value as the called instance.\n     * Dates are copied and passed by reference, so if a copied date variable is modified later, the original\n     * variable will also be changed.  When the intention is to create a new variable that will not\n     * modify the original instance, you should create a clone.\n     *\n     * Example of correctly cloning a date:\n     * <pre><code>\n//wrong way:\nvar orig = new Date('10/1/2006');\nvar copy = orig;\ncopy.setDate(5);\nconsole.log(orig);  //returns 'Thu Oct 05 2006'!\n\n//correct way:\nvar orig = new Date('10/1/2006'),\n    copy = Ext.Date.clone(orig);\ncopy.setDate(5);\nconsole.log(orig);  //returns 'Thu Oct 01 2006'\n     * </code></pre>\n     * @param {Date} date The date\n     * @return {Date} The new Date instance.\n     */\n    clone : function(date) {\n        return new Date(date.getTime());\n    },\n\n    /**\n     * Checks if the current date is affected by Daylight Saving Time (DST).\n     * @param {Date} date The date\n     * @return {Boolean} True if the current date is affected by DST.\n     */\n    isDST : function(date) {\n        // adapted from http://sencha.com/forum/showthread.php?p=247172#post247172\n        // courtesy of @geoffrey.mcgill\n        return new Date(date.getFullYear(), 0, 1).getTimezoneOffset() != date.getTimezoneOffset();\n    },\n\n    /**\n     * Attempts to clear all time information from this Date by setting the time to midnight of the same day,\n     * automatically adjusting for Daylight Saving Time (DST) where applicable.\n     * (note: DST timezone information for the browser's host operating system is assumed to be up-to-date)\n     * @param {Date} date The date\n     * @param {Boolean} clone true to create a clone of this date, clear the time and return it (defaults to false).\n     * @return {Date} this or the clone.\n     */\n    clearTime : function(date, clone) {\n        if (clone) {\n            return Ext.Date.clearTime(Ext.Date.clone(date));\n        }\n\n        // get current date before clearing time\n        var d = date.getDate();\n\n        // clear time\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n\n        if (date.getDate() != d) { // account for DST (i.e. day of month changed when setting hour = 0)\n            // note: DST adjustments are assumed to occur in multiples of 1 hour (this is almost always the case)\n            // refer to http://www.timeanddate.com/time/aboutdst.html for the (rare) exceptions to this rule\n\n            // increment hour until cloned date == current date\n            for (var hr = 1, c = utilDate.add(date, Ext.Date.HOUR, hr); c.getDate() != d; hr++, c = utilDate.add(date, Ext.Date.HOUR, hr));\n\n            date.setDate(d);\n            date.setHours(c.getHours());\n        }\n\n        return date;\n    },\n\n    /**\n     * Provides a convenient method for performing basic date arithmetic. This method\n     * does not modify the Date instance being called - it creates and returns\n     * a new Date instance containing the resulting date value.\n     *\n     * Examples:\n     * <pre><code>\n// Basic usage:\nvar dt = Ext.Date.add(new Date('10/29/2006'), Ext.Date.DAY, 5);\nconsole.log(dt); //returns 'Fri Nov 03 2006 00:00:00'\n\n// Negative values will be subtracted:\nvar dt2 = Ext.Date.add(new Date('10/1/2006'), Ext.Date.DAY, -5);\nconsole.log(dt2); //returns 'Tue Sep 26 2006 00:00:00'\n\n     * </code></pre>\n     *\n     * @param {Date} date The date to modify\n     * @param {String} interval A valid date interval enum value.\n     * @param {Number} value The amount to add to the current date.\n     * @return {Date} The new Date instance.\n     */\n    add : function(date, interval, value) {\n        var d = Ext.Date.clone(date),\n            Date = Ext.Date;\n        if (!interval || value === 0) return d;\n\n        switch(interval.toLowerCase()) {\n            case Ext.Date.MILLI:\n                d.setMilliseconds(d.getMilliseconds() + value);\n                break;\n            case Ext.Date.SECOND:\n                d.setSeconds(d.getSeconds() + value);\n                break;\n            case Ext.Date.MINUTE:\n                d.setMinutes(d.getMinutes() + value);\n                break;\n            case Ext.Date.HOUR:\n                d.setHours(d.getHours() + value);\n                break;\n            case Ext.Date.DAY:\n                d.setDate(d.getDate() + value);\n                break;\n            case Ext.Date.MONTH:\n                var day = date.getDate();\n                if (day > 28) {\n                    day = Math.min(day, Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(date), 'mo', value)).getDate());\n                }\n                d.setDate(day);\n                d.setMonth(date.getMonth() + value);\n                break;\n            case Ext.Date.YEAR:\n                d.setFullYear(date.getFullYear() + value);\n                break;\n        }\n        return d;\n    },\n\n    /**\n     * Checks if a date falls on or between the given start and end dates.\n     * @param {Date} date The date to check\n     * @param {Date} start Start date\n     * @param {Date} end End date\n     * @return {Boolean} true if this date falls on or between the given start and end dates.\n     */\n    between : function(date, start, end) {\n        var t = date.getTime();\n        return start.getTime() <= t && t <= end.getTime();\n    }\n};\n\nvar utilDate = Ext.DateExtras;\n\nExt.apply(Ext.Date, utilDate);\n\nExt.apply(Ext.util.Date, utilDate);\n\n})();\n\n\n\n/**\n * Reusable data formatting functions\n */\nExt.define('Ext.util.Format', {\n    requires: [\n        'Ext.DateExtras'\n    ],\n\n    singleton: true,\n\n    /**\n     * The global default date format.\n     */\n    defaultDateFormat: 'm/d/Y',\n\n    escapeRe: /('|\\\\)/g,\n    trimRe: /^[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+|[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+$/g,\n    formatRe: /\\{(\\d+)\\}/g,\n    escapeRegexRe: /([-.*+?^${}()|[\\]\\/\\\\])/g,\n    dashesRe: /-/g,\n    iso8601TestRe: /\\d\\dT\\d\\d/,\n    iso8601SplitRe: /[- :T\\.Z\\+]/,\n\n    /**\n     * Truncate a string and add an ellipsis ('...') to the end if it exceeds the specified length\n     * @param {String} value The string to truncate\n     * @param {Number} length The maximum length to allow before truncating\n     * @param {Boolean} word True to try to find a common word break\n     * @return {String} The converted text\n     */\n    ellipsis: function(value, len, word) {\n        if (value && value.length > len) {\n            if (word) {\n                var vs = value.substr(0, len - 2),\n                index = Math.max(vs.lastIndexOf(' '), vs.lastIndexOf('.'), vs.lastIndexOf('!'), vs.lastIndexOf('?'));\n                if (index != -1 && index >= (len - 15)) {\n                    return vs.substr(0, index) + \"...\";\n                }\n            }\n            return value.substr(0, len - 3) + \"...\";\n        }\n        return value;\n    },\n\n    /**\n     * Escapes the passed string for use in a regular expression\n     * @param {String} str\n     * @return {String}\n     */\n    escapeRegex: function(s) {\n        return s.replace(Ext.util.Format.escapeRegexRe, \"\\\\$1\");\n    },\n\n    /**\n     * Escapes the passed string for ' and \\\n     * @param {String} string The string to escape\n     * @return {String} The escaped string\n     */\n    escape: function(string) {\n        return string.replace(Ext.util.Format.escapeRe, \"\\\\$1\");\n    },\n\n    /**\n     * Utility function that allows you to easily switch a string between two alternating values.  The passed value\n     * is compared to the current string, and if they are equal, the other value that was passed in is returned.  If\n     * they are already different, the first value passed in is returned.  Note that this method returns the new value\n     * but does not change the current string.\n     * <pre><code>\n    // alternate sort directions\n    sort = Ext.util.Format.toggle(sort, 'ASC', 'DESC');\n\n    // instead of conditional logic:\n    sort = (sort == 'ASC' ? 'DESC' : 'ASC');\n       </code></pre>\n     * @param {String} string The current string\n     * @param {String} value The value to compare to the current string\n     * @param {String} other The new value to use if the string already equals the first value passed in\n     * @return {String} The new value\n     */\n    toggle: function(string, value, other) {\n        return string == value ? other : value;\n    },\n\n    /**\n     * Trims whitespace from either end of a string, leaving spaces within the string intact.  Example:\n     * <pre><code>\n    var s = '  foo bar  ';\n    alert('-' + s + '-');         //alerts \"- foo bar -\"\n    alert('-' + Ext.util.Format.trim(s) + '-');  //alerts \"-foo bar-\"\n       </code></pre>\n     * @param {String} string The string to escape\n     * @return {String} The trimmed string\n     */\n    trim: function(string) {\n        return string.replace(Ext.util.Format.trimRe, \"\");\n    },\n\n    /**\n     * Pads the left side of a string with a specified character.  This is especially useful\n     * for normalizing number and date strings.  Example usage:\n     *\n     * <pre><code>\nvar s = Ext.util.Format.leftPad('123', 5, '0');\n// s now contains the string: '00123'\n       </code></pre>\n     * @param {String} string The original string\n     * @param {Number} size The total length of the output string\n     * @param {String} char (optional) The character with which to pad the original string (defaults to empty string \" \")\n     * @return {String} The padded string\n     */\n    leftPad: function (val, size, ch) {\n        var result = String(val);\n        ch = ch || \" \";\n        while (result.length < size) {\n            result = ch + result;\n        }\n        return result;\n    },\n\n    /**\n     * Allows you to define a tokenized string and pass an arbitrary number of arguments to replace the tokens.  Each\n     * token must be unique, and must increment in the format {0}, {1}, etc.  Example usage:\n     * <pre><code>\nvar cls = 'my-class', text = 'Some text';\nvar s = Ext.util.Format.format('&lt;div class=\"{0}\">{1}&lt;/div>', cls, text);\n// s now contains the string: '&lt;div class=\"my-class\">Some text&lt;/div>'\n       </code></pre>\n     * @param {String} string The tokenized string to be formatted\n     * @param {String...} values The values to replace token {0}, {1}, etc\n     * @return {String} The formatted string\n     */\n    format: function (format) {\n        var args = Ext.toArray(arguments, 1);\n        return format.replace(Ext.util.Format.formatRe, function(m, i) {\n            return args[i];\n        });\n    },\n\n    /**\n     * Convert certain characters (&, <, >, and ') to their HTML character equivalents for literal display in web pages.\n     * @param {String} value The string to encode\n     * @return {String} The encoded text\n     */\n    htmlEncode: function(value) {\n        return ! value ? value: String(value).replace(/&/g, \"&amp;\").replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\n    },\n\n    /**\n     * Convert certain characters (&, <, >, and ') from their HTML character equivalents.\n     * @param {String} value The string to decode\n     * @return {String} The decoded text\n     */\n    htmlDecode: function(value) {\n        return ! value ? value: String(value).replace(/&gt;/g, \">\").replace(/&lt;/g, \"<\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\");\n    },\n\n    /**\n     * Parse a value into a formatted date using the specified format pattern.\n     * @param {String/Date} value The value to format (Strings must conform to the format expected by the javascript\n     * Date object's <a href=\"http://www.w3schools.com/jsref/jsref_parse.asp\">parse()</a> method)\n     * @param {String} format (optional) Any valid date format string (defaults to 'm/d/Y')\n     * @return {String} The formatted date string\n     */\n    date: function(value, format) {\n        var date = value;\n        if (!value) {\n            return \"\";\n        }\n        if (!Ext.isDate(value)) {\n            date = new Date(Date.parse(value));\n            if (isNaN(date)) {\n                // Dates with ISO 8601 format are not well supported by mobile devices, this can work around the issue.\n                if (this.iso8601TestRe.test(value)) {\n                    date = value.split(this.iso8601SplitRe);\n                    date = new Date(date[0], date[1]-1, date[2], date[3], date[4], date[5]);\n                }\n                if (isNaN(date)) {\n                    // Dates with the format \"2012-01-20\" fail, but \"2012/01/20\" work in some browsers. We'll try and\n                    // get around that.\n                    date = new Date(Date.parse(value.replace(this.dashesRe, \"/\")));\n                    if (isNaN(date)) {\n                        Ext.Logger.error(\"Cannot parse the passed value \" + value + \" into a valid date\");\n                    }\n                }\n            }\n            value = date;\n        }\n        return Ext.Date.format(value, format || Ext.util.Format.defaultDateFormat);\n    }\n});\n\n/**\n * Represents an HTML fragment template. Templates may be {@link #compile precompiled} for greater performance.\n *\n * An instance of this class may be created by passing to the constructor either a single argument, or multiple\n * arguments:\n *\n * # Single argument: String/Array\n *\n * The single argument may be either a String or an Array:\n *\n * - String:\n *\n *       var t = new Ext.Template(\"<div>Hello {0}.</div>\");\n *       t.{@link #append}('some-element', ['foo']);\n *\n * - Array:\n *\n *   An Array will be combined with `join('')`.\n *\n *       var t = new Ext.Template([\n *           '<div name=\"{id}\">',\n *               '<span class=\"{cls}\">{name:trim} {value:ellipsis(10)}</span>',\n *           '</div>',\n *       ]);\n *       t.{@link #compile}();\n *       t.{@link #append}('some-element', {id: 'myid', cls: 'myclass', name: 'foo', value: 'bar'});\n *\n * # Multiple arguments: String, Object, Array, ...\n *\n * Multiple arguments will be combined with `join('')`.\n *\n *     var t = new Ext.Template(\n *         '<div name=\"{id}\">',\n *             '<span class=\"{cls}\">{name} {value}</span>',\n *         '</div>',\n *         // a configuration object:\n *         {\n *             compiled: true,      // {@link #compile} immediately\n *         }\n *     );\n *\n * # Notes\n *\n * - For a list of available format functions, see {@link Ext.util.Format}.\n * - `disableFormats` reduces `{@link #apply}` time when no formatting is required.\n */\nExt.define('Ext.Template', {\n\n    /* Begin Definitions */\n\n    requires: ['Ext.dom.Helper', 'Ext.util.Format'],\n\n    inheritableStatics: {\n        /**\n         * Creates a template from the passed element's value (_display:none_ textarea, preferred) or innerHTML.\n         * @param {String/HTMLElement} el A DOM element or its id\n         * @param {Object} config (optional) Config object\n         * @return {Ext.Template} The created template\n         * @static\n         * @inheritable\n         */\n        from: function(el, config) {\n            el = Ext.getDom(el);\n            return new this(el.value || el.innerHTML, config || '');\n        }\n    },\n\n    /* End Definitions */\n\n    /**\n     * Creates new template.\n     *\n     * @param {String...} html List of strings to be concatenated into template.\n     * Alternatively an array of strings can be given, but then no config object may be passed.\n     * @param {Object} config (optional) Config object\n     */\n    constructor: function(html) {\n        var me = this,\n            args = arguments,\n            buffer = [],\n            i = 0,\n            length = args.length,\n            value;\n\n        me.initialConfig = {};\n\n        if (length > 1) {\n            for (; i < length; i++) {\n                value = args[i];\n                if (typeof value == 'object') {\n                    Ext.apply(me.initialConfig, value);\n                    Ext.apply(me, value);\n                } else {\n                    buffer.push(value);\n                }\n            }\n            html = buffer.join('');\n        } else {\n            if (Ext.isArray(html)) {\n                buffer.push(html.join(''));\n            } else {\n                buffer.push(html);\n            }\n        }\n\n        // @private\n        me.html = buffer.join('');\n\n        if (me.compiled) {\n            me.compile();\n        }\n    },\n\n    /**\n     * @property {Boolean} isTemplate\n     * `true` in this class to identify an objact as an instantiated Template, or subclass thereof.\n     */\n    isTemplate: true,\n\n    /**\n     * @cfg {Boolean} compiled\n     * True to immediately compile the template. Defaults to false.\n     */\n\n    /**\n     * @cfg {Boolean} disableFormats\n     * True to disable format functions in the template. If the template doesn't contain\n     * format functions, setting disableFormats to true will reduce apply time. Defaults to false.\n     */\n    disableFormats: false,\n\n    re: /\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?\\}/g,\n\n    /**\n     * Returns an HTML fragment of this template with the specified values applied.\n     *\n     * @param {Object/Array} values The template values. Can be an array if your params are numeric:\n     *\n     *     var tpl = new Ext.Template('Name: {0}, Age: {1}');\n     *     tpl.apply(['John', 25]);\n     *\n     * or an object:\n     *\n     *     var tpl = new Ext.Template('Name: {name}, Age: {age}');\n     *     tpl.apply({name: 'John', age: 25});\n     *\n     * @return {String} The HTML fragment\n     */\n    apply: function(values) {\n        var me = this,\n            useFormat = me.disableFormats !== true,\n            fm = Ext.util.Format,\n            tpl = me,\n            ret;\n\n        if (me.compiled) {\n            return me.compiled(values).join('');\n        }\n\n        function fn(m, name, format, args) {\n            if (format && useFormat) {\n                if (args) {\n                    args = [values[name]].concat(Ext.functionFactory('return ['+ args +'];')());\n                } else {\n                    args = [values[name]];\n                }\n                if (format.substr(0, 5) == \"this.\") {\n                    return tpl[format.substr(5)].apply(tpl, args);\n                }\n                else {\n                    return fm[format].apply(fm, args);\n                }\n            }\n            else {\n                return values[name] !== undefined ? values[name] : \"\";\n            }\n        }\n\n        ret = me.html.replace(me.re, fn);\n        return ret;\n    },\n\n    /**\n     * Appends the result of this template to the provided output array.\n     * @param {Object/Array} values The template values. See {@link #apply}.\n     * @param {Array} out The array to which output is pushed.\n     * @return {Array} The given out array.\n     */\n    applyOut: function(values, out) {\n        var me = this;\n\n        if (me.compiled) {\n            out.push.apply(out, me.compiled(values));\n        } else {\n            out.push(me.apply(values));\n        }\n\n        return out;\n    },\n\n    /**\n     * @method applyTemplate\n     * @member Ext.Template\n     * Alias for {@link #apply}.\n     * @inheritdoc Ext.Template#apply\n     */\n    applyTemplate: function () {\n        return this.apply.apply(this, arguments);\n    },\n\n    /**\n     * Sets the HTML used as the template and optionally compiles it.\n     * @param {String} html\n     * @param {Boolean} compile (optional) True to compile the template.\n     * @return {Ext.Template} this\n     */\n    set: function(html, compile) {\n        var me = this;\n        me.html = html;\n        me.compiled = null;\n        return compile ? me.compile() : me;\n    },\n\n    compileARe: /\\\\/g,\n    compileBRe: /(\\r\\n|\\n)/g,\n    compileCRe: /'/g,\n\n    /**\n     * Compiles the template into an internal function, eliminating the RegEx overhead.\n     * @return {Ext.Template} this\n     */\n    compile: function() {\n        var me = this,\n            fm = Ext.util.Format,\n            useFormat = me.disableFormats !== true,\n            body, bodyReturn;\n\n        function fn(m, name, format, args) {\n            if (format && useFormat) {\n                args = args ? ',' + args: \"\";\n                if (format.substr(0, 5) != \"this.\") {\n                    format = \"fm.\" + format + '(';\n                }\n                else {\n                    format = 'this.' + format.substr(5) + '(';\n                }\n            }\n            else {\n                args = '';\n                format = \"(values['\" + name + \"'] == undefined ? '' : \";\n            }\n            return \"',\" + format + \"values['\" + name + \"']\" + args + \") ,'\";\n        }\n\n        bodyReturn = me.html.replace(me.compileARe, '\\\\\\\\').replace(me.compileBRe, '\\\\n').replace(me.compileCRe, \"\\\\'\").replace(me.re, fn);\n        body = \"this.compiled = function(values){ return ['\" + bodyReturn + \"'];};\";\n        eval(body);\n        return me;\n    },\n\n    /**\n     * Applies the supplied values to the template and inserts the new node(s) as the first child of el.\n     *\n     * @param {String/HTMLElement/Ext.Element} el The context element\n     * @param {Object/Array} values The template values. See {@link #applyTemplate} for details.\n     * @param {Boolean} returnElement (optional) true to return a Ext.Element.\n     * @return {HTMLElement/Ext.Element} The new node or Element\n     */\n    insertFirst: function(el, values, returnElement) {\n        return this.doInsert('afterBegin', el, values, returnElement);\n    },\n\n    /**\n     * Applies the supplied values to the template and inserts the new node(s) before el.\n     *\n     * @param {String/HTMLElement/Ext.Element} el The context element\n     * @param {Object/Array} values The template values. See {@link #applyTemplate} for details.\n     * @param {Boolean} returnElement (optional) true to return a Ext.Element.\n     * @return {HTMLElement/Ext.Element} The new node or Element\n     */\n    insertBefore: function(el, values, returnElement) {\n        return this.doInsert('beforeBegin', el, values, returnElement);\n    },\n\n    /**\n     * Applies the supplied values to the template and inserts the new node(s) after el.\n     *\n     * @param {String/HTMLElement/Ext.Element} el The context element\n     * @param {Object/Array} values The template values. See {@link #applyTemplate} for details.\n     * @param {Boolean} returnElement (optional) true to return a Ext.Element.\n     * @return {HTMLElement/Ext.Element} The new node or Element\n     */\n    insertAfter: function(el, values, returnElement) {\n        return this.doInsert('afterEnd', el, values, returnElement);\n    },\n\n    /**\n     * Applies the supplied `values` to the template and appends the new node(s) to the specified `el`.\n     *\n     * For example usage see {@link Ext.Template Ext.Template class docs}.\n     *\n     * @param {String/HTMLElement/Ext.Element} el The context element\n     * @param {Object/Array} values The template values. See {@link #applyTemplate} for details.\n     * @param {Boolean} returnElement (optional) true to return an Ext.Element.\n     * @return {HTMLElement/Ext.Element} The new node or Element\n     */\n    append: function(el, values, returnElement) {\n        return this.doInsert('beforeEnd', el, values, returnElement);\n    },\n\n    doInsert: function(where, el, values, returnEl) {\n        el = Ext.getDom(el);\n        var newNode = Ext.DomHelper.insertHtml(where, el, this.apply(values));\n        return returnEl ? Ext.get(newNode, true) : newNode;\n    },\n\n    /**\n     * Applies the supplied values to the template and overwrites the content of el with the new node(s).\n     *\n     * @param {String/HTMLElement/Ext.Element} el The context element\n     * @param {Object/Array} values The template values. See {@link #applyTemplate} for details.\n     * @param {Boolean} returnElement (optional) true to return a Ext.Element.\n     * @return {HTMLElement/Ext.Element} The new node or Element\n     */\n    overwrite: function(el, values, returnElement) {\n        el = Ext.getDom(el);\n        el.innerHTML = this.apply(values);\n        return returnElement ? Ext.get(el.firstChild, true) : el.firstChild;\n    }\n});\n/**\n * A template class that supports advanced functionality like:\n *\n * - Autofilling arrays using templates and sub-templates\n * - Conditional processing with basic comparison operators\n * - Basic math function support\n * - Execute arbitrary inline code with special built-in template variables\n * - Custom member functions\n * - Many special tags and built-in operators that aren't defined as part of the API, but are supported in the templates that can be created\n *\n * XTemplate provides the templating mechanism built into {@link Ext.DataView}.\n *\n * The {@link Ext.Template} describes the acceptable parameters to pass to the constructor. The following examples\n * demonstrate all of the supported features.\n *\n * # Sample Data\n *\n * This is the data object used for reference in each code example:\n *\n *     var data = {\n *         name: 'Don Griffin',\n *         title: 'Senior Technomage',\n *         company: 'Sencha Inc.',\n *         drinks: ['Coffee', 'Water', 'More Coffee'],\n *         kids: [\n *             { name: 'Aubrey',  age: 17 },\n *             { name: 'Joshua',  age: 13 },\n *             { name: 'Cale',    age: 10 },\n *             { name: 'Nikol',   age: 5 },\n *             { name: 'Solomon', age: 0 }\n *         ]\n *     };\n *\n * # Auto filling of arrays\n *\n * The **tpl** tag and the **for** operator are used to process the provided data object:\n *\n * - If the value specified in for is an array, it will auto-fill, repeating the template block inside the tpl\n *   tag for each item in the array.\n * - If for=\".\" is specified, the data object provided is examined.\n * - While processing an array, the special variable {#} will provide the current array index + 1 (starts at 1, not 0).\n *\n * Examples:\n *\n *     <tpl for=\".\">...</tpl>       // loop through array at root node\n *     <tpl for=\"foo\">...</tpl>     // loop through array at foo node\n *     <tpl for=\"foo.bar\">...</tpl> // loop through array at foo.bar node\n *\n * Using the sample data above:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Kids: ',\n *         '<tpl for=\".\">',       // process the data.kids node\n *             '<p>{#}. {name}</p>',  // use current array index to autonumber\n *         '</tpl></p>'\n *     );\n *     tpl.overwrite(panel.body, data.kids); // pass the kids property of the data object\n *\n * An example illustrating how the **for** property can be leveraged to access specified members of the provided data\n * object to populate the template:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Title: {title}</p>',\n *         '<p>Company: {company}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',     // interrogate the kids property within the data\n *             '<p>{name}</p>',\n *         '</tpl></p>'\n *     );\n *     tpl.overwrite(panel.body, data);  // pass the root node of the data object\n *\n * Flat arrays that contain values (and not objects) can be auto-rendered using the special **`{.}`** variable inside a\n * loop. This variable will represent the value of the array at the current index:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>{name}\\'s favorite beverages:</p>',\n *         '<tpl for=\"drinks\">',\n *             '<div> - {.}</div>',\n *         '</tpl>'\n *     );\n *     tpl.overwrite(panel.body, data);\n *\n * When processing a sub-template, for example while looping through a child array, you can access the parent object's\n * members via the **parent** object:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<tpl if=\"age &gt; 1\">',\n *                 '<p>{name}</p>',\n *                 '<p>Dad: {parent.name}</p>',\n *             '</tpl>',\n *         '</tpl></p>'\n *     );\n *     tpl.overwrite(panel.body, data);\n *\n * # Conditional processing with basic comparison operators\n *\n * The **tpl** tag and the **if** operator are used to provide conditional checks for deciding whether or not to render\n * specific parts of the template.\n *\n * Using the sample data above:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<tpl if=\"age &gt; 1\">',\n *                 '<p>{name}</p>',\n *             '</tpl>',\n *         '</tpl></p>'\n *     );\n *     tpl.overwrite(panel.body, data);\n *\n * More advanced conditionals are also supported:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<p>{name} is a ',\n *             '<tpl if=\"age &gt;= 13\">',\n *                 '<p>teenager</p>',\n *             '<tpl elseif=\"age &gt;= 2\">',\n *                 '<p>kid</p>',\n *             '<tpl else>',\n *                 '<p>baby</p>',\n *             '</tpl>',\n *         '</tpl></p>'\n *     );\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<p>{name} is a ',\n *             '<tpl switch=\"name\">',\n *                 '<tpl case=\"Aubrey\" case=\"Nikol\">',\n *                     '<p>girl</p>',\n *                 '<tpl default\">',\n *                     '<p>boy</p>',\n *             '</tpl>',\n *         '</tpl></p>'\n *     );\n *\n * A `break` is implied between each case and default, however, multiple cases can be listed\n * in a single &lt;tpl&gt; tag.\n *\n * # Using double quotes\n *\n * Examples:\n *\n *     var tpl = new Ext.XTemplate(\n *         \"<tpl if='age &gt; 1 && age &lt; 10'>Child</tpl>\",\n *         \"<tpl if='age &gt;= 10 && age &lt; 18'>Teenager</tpl>\",\n *         \"<tpl if='this.isGirl(name)'>...</tpl>\",\n *         '<tpl if=\"id == \\'download\\'\">...</tpl>',\n *         \"<tpl if='needsIcon'><img src='{icon}' class='{iconCls}'/></tpl>\",\n *         \"<tpl if='name == \\\"Don\\\"'>Hello</tpl>\"\n *     );\n *\n * # Basic math support\n *\n * The following basic math operators may be applied directly on numeric data values:\n *\n *     + - * /\n *\n * For example:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<tpl if=\"age &gt; 1\">',  // <-- Note that the > is encoded\n *                 '<p>{#}: {name}</p>',  // <-- Auto-number each item\n *                 '<p>In 5 Years: {age+5}</p>',  // <-- Basic math\n *                 '<p>Dad: {parent.name}</p>',\n *             '</tpl>',\n *         '</tpl></p>'\n *     );\n *     tpl.overwrite(panel.body, data);\n *\n * # Execute arbitrary inline code with special built-in template variables\n *\n * Anything between `{[ ... ]}` is considered code to be executed in the scope of the template.\n * The expression is evaluated and the result is included in the generated result. There are\n * some special variables available in that code:\n *\n * - **out**: The output array into which the template is being appended (using `push` to later\n *   `join`).\n * - **values**: The values in the current scope. If you are using scope changing sub-templates,\n *   you can change what values is.\n * - **parent**: The scope (values) of the ancestor template.\n * - **xindex**: If you are in a looping template, the index of the loop you are in (1-based).\n * - **xcount**: If you are in a looping template, the total length of the array you are looping.\n *\n * This example demonstrates basic row striping using an inline code block and the xindex variable:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Company: {[values.company.toUpperCase() + \", \" + values.title]}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<div class=\"{[xindex % 2 === 0 ? \"even\" : \"odd\"]}\">',\n *             '{name}',\n *             '</div>',\n *         '</tpl></p>'\n *      );\n *\n * Any code contained in \"verbatim\" blocks (using \"{% ... %}\") will be inserted directly in\n * the generated code for the template. These blocks are not included in the output. This\n * can be used for simple things like break/continue in a loop, or control structures or\n * method calls (when they don't produce output). The `this` references the template instance.\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Company: {[values.company.toUpperCase() + \", \" + values.title]}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '{% if (xindex % 2 === 0) continue; %}',\n *             '{name}',\n *             '{% if (xindex > 100) break; %}',\n *             '</div>',\n *         '</tpl></p>'\n *      );\n *\n * # Template member functions\n *\n * One or more member functions can be specified in a configuration object passed into the XTemplate constructor for\n * more complex processing:\n *\n *     var tpl = new Ext.XTemplate(\n *         '<p>Name: {name}</p>',\n *         '<p>Kids: ',\n *         '<tpl for=\"kids\">',\n *             '<tpl if=\"this.isGirl(name)\">',\n *                 '<p>Girl: {name} - {age}</p>',\n *             '<tpl else>',\n *                 '<p>Boy: {name} - {age}</p>',\n *             '</tpl>',\n *             '<tpl if=\"this.isBaby(age)\">',\n *                 '<p>{name} is a baby!</p>',\n *             '</tpl>',\n *         '</tpl></p>',\n *         {\n *             // XTemplate configuration:\n *             disableFormats: true,\n *             // member functions:\n *             isGirl: function(name){\n *                return name == 'Sara Grace';\n *             },\n *             isBaby: function(age){\n *                return age < 1;\n *             }\n *         }\n *     );\n *     tpl.overwrite(panel.body, data);\n */\nExt.define('Ext.XTemplate', {\n    extend: 'Ext.Template',\n\n    requires: 'Ext.XTemplateCompiler',\n\n    /**\n     * @cfg {Boolean} compiled\n     * Only applies to {@link Ext.Template}, XTemplates are compiled automatically on the\n     * first call to {@link #apply} or {@link #applyOut}.\n     */\n\n    apply: function(values) {\n        return this.applyOut(values, []).join('');\n    },\n\n    applyOut: function(values, out) {\n        var me = this,\n            compiler;\n\n        if (!me.fn) {\n            compiler = new Ext.XTemplateCompiler({\n                useFormat: me.disableFormats !== true\n            });\n\n            me.fn = compiler.compile(me.html);\n        }\n\n        try {\n            me.fn.call(me, out, values, {}, 1, 1);\n        } catch (e) {\n            Ext.Logger.error(e.message);\n        }\n\n        return out;\n    },\n\n    /**\n     * Does nothing. XTemplates are compiled automatically, so this function simply returns this.\n     * @return {Ext.XTemplate} this\n     */\n    compile: function() {\n        return this;\n    },\n\n    statics: {\n        /**\n         * Gets an `XTemplate` from an object (an instance of an {@link Ext#define}'d class).\n         * Many times, templates are configured high in the class hierarchy and are to be\n         * shared by all classes that derive from that base. To further complicate matters,\n         * these templates are seldom actual instances but are rather configurations. For\n         * example:\n         *\n         *      Ext.define('MyApp.Class', {\n         *          someTpl: [\n         *              'tpl text here'\n         *          ]\n         *      });\n         *\n         * The goal being to share that template definition with all instances and even\n         * instances of derived classes, until `someTpl` is overridden. This method will\n         * \"upgrade\" these configurations to be real `XTemplate` instances *in place* (to\n         * avoid creating one instance per object).\n         *\n         * @param {Object} instance The object from which to get the `XTemplate` (must be\n         * an instance of an {@link Ext#define}'d class).\n         * @param {String} name The name of the property by which to get the `XTemplate`.\n         * @return {Ext.XTemplate} The `XTemplate` instance or null if not found.\n         * @protected\n         */\n        getTpl: function (instance, name) {\n            var tpl = instance[name], // go for it! 99% of the time we will get it!\n                proto;\n\n            if (tpl && !tpl.isTemplate) { // tpl is just a configuration (not an instance)\n                // create the template instance from the configuration:\n                tpl = Ext.ClassManager.dynInstantiate('Ext.XTemplate', tpl);\n\n                // and replace the reference with the new instance:\n                if (instance.hasOwnProperty(name)) { // the tpl is on the instance\n                    instance[name] = tpl;\n                } else { // must be somewhere in the prototype chain\n                    for (proto = instance.self.prototype; proto; proto = proto.superclass) {\n                        if (proto.hasOwnProperty(name)) {\n                            proto[name] = tpl;\n                            break;\n                        }\n                    }\n                }\n            }\n            // else !tpl (no such tpl) or the tpl is an instance already... either way, tpl\n            // is ready to return\n\n            return tpl || null;\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.util.SizeMonitor', {\n\n    extend: 'Ext.Evented',\n\n    config: {\n        element: null,\n\n        detectorCls: Ext.baseCSSPrefix + 'size-change-detector',\n\n        callback: Ext.emptyFn,\n\n        scope: null,\n\n        args: []\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        this.doFireSizeChangeEvent = Ext.Function.bind(this.doFireSizeChangeEvent, this);\n\n        var me = this,\n            element = this.getElement().dom,\n            cls = this.getDetectorCls(),\n            expandDetector = Ext.Element.create({\n                classList: [cls, cls + '-expand'],\n                children: [{}]\n            }, true),\n            shrinkDetector = Ext.Element.create({\n                classList: [cls, cls + '-shrink'],\n                children: [{}]\n            }, true),\n            expandListener = function(e) {\n                me.onDetectorScroll('expand', e);\n            },\n            shrinkListener = function(e) {\n                me.onDetectorScroll('shrink', e);\n            };\n\n        element.appendChild(expandDetector);\n        element.appendChild(shrinkDetector);\n\n        this.detectors = {\n            expand: expandDetector,\n            shrink: shrinkDetector\n        };\n\n        this.position = {\n            expand: {\n                left: 0,\n                top: 0\n            },\n            shrink: {\n                left: 0,\n                top: 0\n            }\n        };\n\n        this.listeners = {\n            expand: expandListener,\n            shrink: shrinkListener\n        };\n\n        this.refresh();\n\n        expandDetector.addEventListener('scroll', expandListener, true);\n        shrinkDetector.addEventListener('scroll', shrinkListener, true);\n    },\n\n    applyElement: function(element) {\n        if (element) {\n            return Ext.get(element);\n        }\n    },\n\n    updateElement: function(element) {\n        element.on('destroy', 'destroy', this);\n    },\n\n    refreshPosition: function(name) {\n        var detector = this.detectors[name],\n            position = this.position[name],\n            left, top;\n\n        position.left = left = detector.scrollWidth - detector.offsetWidth;\n        position.top = top = detector.scrollHeight - detector.offsetHeight;\n\n        detector.scrollLeft = left;\n        detector.scrollTop = top;\n    },\n\n    refresh: function() {\n        this.refreshPosition('expand');\n        this.refreshPosition('shrink');\n    },\n\n    onDetectorScroll: function(name) {\n        var detector = this.detectors[name],\n            position = this.position[name];\n\n        if (detector.scrollLeft !== position.left || detector.scrollTop !== position.top) {\n            this.refresh();\n            this.fireSizeChangeEvent();\n        }\n    },\n\n    fireSizeChangeEvent: function() {\n        clearTimeout(this.sizeChangeThrottleTimer);\n\n        this.sizeChangeThrottleTimer = setTimeout(this.doFireSizeChangeEvent, 1);\n    },\n\n    doFireSizeChangeEvent: function() {\n        this.getCallback().apply(this.getScope(), this.getArgs());\n    },\n\n    destroyDetector: function(name) {\n        var detector = this.detectors[name],\n            listener = this.listeners[name];\n\n        detector.removeEventListener('scroll', listener, true);\n        Ext.removeNode(detector);\n    },\n\n    destroy: function() {\n        this.callParent(arguments);\n\n        this.destroyDetector('expand');\n        this.destroyDetector('shrink');\n\n        delete this.listeners;\n        delete this.detectors;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.easing.Linear', {\n\n    extend: 'Ext.fx.easing.Abstract',\n\n    alias: 'easing.linear',\n\n    config: {\n        duration: 0,\n        endValue: 0\n    },\n\n    updateStartValue: function(startValue) {\n        this.distance = this.getEndValue() - startValue;\n    },\n\n    updateEndValue: function(endValue) {\n        this.distance = endValue - this.getStartValue();\n    },\n\n    getValue: function() {\n        var deltaTime = Ext.Date.now() - this.getStartTime(),\n            duration = this.getDuration();\n\n        if (deltaTime > duration) {\n            this.isEnded = true;\n            return this.getEndValue();\n        }\n        else {\n            return this.getStartValue() + ((deltaTime / duration) * this.distance);\n        }\n    }\n});\n\n/**\n * @private\n *\n * The abstract class. Sub-classes are expected, at the very least, to implement translation logics inside\n * the 'translate' method\n */\nExt.define('Ext.util.translatable.Abstract', {\n    extend: 'Ext.Evented',\n\n    requires: ['Ext.fx.easing.Linear'],\n\n    config: {\n        element: null,\n\n        easing: null,\n\n        easingX: null,\n\n        easingY: null,\n\n        fps: 60\n    },\n\n    /**\n     * @event animationstart\n     * Fires whenever the animation is started\n     * @param {Ext.util.translatable.Abstract} this\n     * @param {Number} x The current translation on the x axis\n     * @param {Number} y The current translation on the y axis\n     */\n\n    /**\n     * @event animationframe\n     * Fires for each animation frame\n     * @param {Ext.util.translatable.Abstract} this\n     * @param {Number} x The new translation on the x axis\n     * @param {Number} y The new translation on the y axis\n     */\n\n    /**\n     * @event animationend\n     * Fires whenever the animation is ended\n     * @param {Ext.util.translatable.Abstract} this\n     * @param {Number} x The current translation on the x axis\n     * @param {Number} y The current translation on the y axis\n     */\n\n    constructor: function(config) {\n        var element;\n\n        this.doAnimationFrame = Ext.Function.bind(this.doAnimationFrame, this);\n\n        this.x = 0;\n\n        this.y = 0;\n\n        this.activeEasingX = null;\n\n        this.activeEasingY = null;\n\n        this.initialConfig = config;\n\n        if (config && config.element) {\n            element = config.element;\n            this.setElement(element);\n        }\n    },\n\n    applyElement: function(element) {\n        if (!element) {\n            return;\n        }\n\n        return Ext.get(element);\n    },\n\n    updateElement: function(element) {\n        this.initConfig(this.initialConfig);\n        this.refresh();\n    },\n\n    factoryEasing: function(easing) {\n        return Ext.factory(easing, Ext.fx.easing.Linear, null, 'easing');\n    },\n\n    applyEasing: function(easing) {\n        if (!this.getEasingX()) {\n            this.setEasingX(this.factoryEasing(easing));\n        }\n\n        if (!this.getEasingY()) {\n            this.setEasingY(this.factoryEasing(easing));\n        }\n    },\n\n    applyEasingX: function(easing) {\n        return this.factoryEasing(easing);\n    },\n\n    applyEasingY: function(easing) {\n        return this.factoryEasing(easing);\n    },\n\n    updateFps: function(fps) {\n        this.animationInterval = 1000 / fps;\n    },\n\n    doTranslate: function(x, y) {\n        if (typeof x == 'number') {\n            this.x = x;\n        }\n\n        if (typeof y == 'number') {\n            this.y = y;\n        }\n\n        return this;\n    },\n\n    translate: function(x, y, animation) {\n        if (!this.getElement().dom) {\n            return;\n        }\n        if (Ext.isObject(x)) {\n            throw new Error();\n        }\n\n        this.stopAnimation();\n\n        if (animation) {\n            return this.translateAnimated(x, y, animation);\n        }\n\n        return this.doTranslate(x, y);\n    },\n\n    animate: function(easingX, easingY) {\n        this.activeEasingX = easingX;\n        this.activeEasingY = easingY;\n\n        this.isAnimating = true;\n        this.animationTimer = setInterval(this.doAnimationFrame, this.animationInterval);\n\n        this.fireEvent('animationstart', this, this.x, this.y);\n\n        return this;\n    },\n\n    translateAnimated: function(x, y, animation) {\n        if (Ext.isObject(x)) {\n            throw new Error();\n        }\n\n        if (!Ext.isObject(animation)) {\n            animation = {};\n        }\n\n        var now = Ext.Date.now(),\n            easing = animation.easing,\n            easingX = (typeof x == 'number') ? (animation.easingX || this.getEasingX() || easing || true) : null,\n            easingY = (typeof y == 'number') ? (animation.easingY || this.getEasingY() || easing || true) : null;\n\n        if (easingX) {\n            easingX = this.factoryEasing(easingX);\n            easingX.setStartTime(now);\n            easingX.setStartValue(this.x);\n            easingX.setEndValue(x);\n\n            if ('duration' in animation) {\n                easingX.setDuration(animation.duration);\n            }\n        }\n\n        if (easingY) {\n            easingY = this.factoryEasing(easingY);\n            easingY.setStartTime(now);\n            easingY.setStartValue(this.y);\n            easingY.setEndValue(y);\n\n            if ('duration' in animation) {\n                easingY.setDuration(animation.duration);\n            }\n        }\n\n        return this.animate(easingX, easingY);\n    },\n\n    doAnimationFrame: function() {\n        var easingX = this.activeEasingX,\n            easingY = this.activeEasingY,\n            element = this.getElement(),\n            x, y;\n\n        if (!this.isAnimating || !element.dom) {\n            return;\n        }\n\n        if (easingX === null && easingY === null) {\n            this.stopAnimation();\n            return;\n        }\n\n        if (easingX !== null) {\n            this.x = x = Math.round(easingX.getValue());\n\n            if (easingX.isEnded) {\n                this.activeEasingX = null;\n                this.fireEvent('axisanimationend', this, 'x', x);\n            }\n        }\n        else {\n            x = this.x;\n        }\n\n        if (easingY !== null) {\n            this.y = y = Math.round(easingY.getValue());\n\n            if (easingY.isEnded) {\n                this.activeEasingY = null;\n                this.fireEvent('axisanimationend', this, 'y', y);\n            }\n        }\n        else {\n            y = this.y;\n        }\n\n        this.doTranslate(x, y);\n        this.fireEvent('animationframe', this, x, y);\n    },\n\n    stopAnimation: function() {\n        if (!this.isAnimating) {\n            return;\n        }\n\n        this.activeEasingX = null;\n        this.activeEasingY = null;\n\n        this.isAnimating = false;\n\n        clearInterval(this.animationTimer);\n        this.fireEvent('animationend', this, this.x, this.y);\n    },\n\n    refresh: function() {\n        this.translate(this.x, this.y);\n    }\n});\n\n/**\n * @private\n *\n * CSS Transform implementation\n */\nExt.define('Ext.util.translatable.CssTransform', {\n    extend: 'Ext.util.translatable.Abstract',\n\n    doTranslate: function(x, y) {\n        var domStyle = this.getElement().dom.style;\n\n        if (typeof x != 'number') {\n            x = this.x;\n        }\n\n        if (typeof y != 'number') {\n            y = this.y;\n        }\n\n        domStyle.webkitTransform = 'translate3d(' + x + 'px, ' + y + 'px, 0px)';\n\n        return this.callParent(arguments);\n    },\n\n    destroy: function() {\n        var element = this.getElement();\n\n        if (element && !element.isDestroyed) {\n            element.dom.style.webkitTransform = null;\n        }\n\n        this.callParent(arguments);\n    }\n});\n\n/**\n * @private\n *\n * Scroll position implementation\n */\nExt.define('Ext.util.translatable.ScrollPosition', {\n    extend: 'Ext.util.translatable.Abstract',\n\n    wrapperWidth: 0,\n\n    wrapperHeight: 0,\n\n    baseCls: 'x-translatable',\n\n    config: {\n        useWrapper: true\n    },\n\n    getWrapper: function() {\n        var wrapper = this.wrapper,\n            baseCls = this.baseCls,\n            element = this.getElement(),\n            nestedStretcher, container;\n\n        if (!wrapper) {\n            container = element.getParent();\n\n            if (!container) {\n                return null;\n            }\n\n            if (this.getUseWrapper()) {\n                wrapper = element.wrap({\n                    className: baseCls + '-wrapper'\n                }, true);\n            }\n            else {\n                wrapper = container.dom;\n            }\n\n            wrapper.appendChild(Ext.Element.create({\n                className: baseCls + '-stretcher'\n            }, true));\n\n            this.nestedStretcher = nestedStretcher = Ext.Element.create({\n                className: baseCls + '-nested-stretcher'\n            }, true);\n\n            element.appendChild(nestedStretcher);\n\n            element.addCls(baseCls);\n            container.addCls(baseCls + '-container');\n\n            this.container = container;\n            this.wrapper = wrapper;\n\n            this.refresh();\n        }\n\n        return wrapper;\n    },\n\n    doTranslate: function(x, y) {\n        var wrapper = this.getWrapper();\n\n        if (wrapper) {\n            if (typeof x == 'number') {\n                wrapper.scrollLeft = this.wrapperWidth - x;\n            }\n\n            if (typeof y == 'number') {\n                wrapper.scrollTop = this.wrapperHeight - y;\n            }\n        }\n\n        return this.callParent(arguments);\n    },\n\n    refresh: function() {\n        var wrapper = this.getWrapper();\n\n        if (wrapper) {\n            this.wrapperWidth = wrapper.offsetWidth;\n            this.wrapperHeight = wrapper.offsetHeight;\n\n            this.callParent(arguments);\n        }\n    },\n\n    destroy: function() {\n        var element = this.getElement(),\n            baseCls = this.baseCls;\n\n        if (this.wrapper) {\n            if (this.getUseWrapper()) {\n                element.unwrap();\n            }\n\n            this.container.removeCls(baseCls + '-container');\n            element.removeCls(baseCls);\n            element.removeChild(this.nestedStretcher);\n        }\n\n        this.callParent(arguments);\n    }\n\n});\n\n/**\n * The utility class to abstract different implementations to have the best performance when applying 2D translation\n * on any DOM element.\n *\n * @private\n */\nExt.define('Ext.util.Translatable', {\n    requires: [\n        'Ext.util.translatable.CssTransform',\n        'Ext.util.translatable.ScrollPosition'\n    ],\n\n    constructor: function(config) {\n        var namespace = Ext.util.translatable,\n            CssTransform = namespace.CssTransform,\n            ScrollPosition = namespace.ScrollPosition,\n            classReference;\n\n        if (typeof config == 'object' && 'translationMethod' in config) {\n            if (config.translationMethod === 'scrollposition') {\n                classReference = ScrollPosition;\n            }\n            else if (config.translationMethod === 'csstransform') {\n                classReference = CssTransform;\n            }\n        }\n\n        if (!classReference) {\n            if (Ext.os.is.Android2 || Ext.browser.is.ChromeMobile) {\n                classReference = ScrollPosition;\n            }\n            else {\n                classReference = CssTransform;\n            }\n        }\n\n        return new classReference(config);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.behavior.Translatable', {\n\n    extend: 'Ext.behavior.Behavior',\n\n    requires: [\n        'Ext.util.Translatable'\n    ],\n\n    constructor: function() {\n        this.listeners = {\n            painted: 'onComponentPainted',\n            scope: this\n        };\n\n        this.callParent(arguments);\n    },\n\n    onComponentPainted: function() {\n        this.translatable.refresh();\n    },\n\n    setConfig: function(config) {\n        var translatable = this.translatable,\n            component = this.component;\n\n        if (config) {\n            if (!translatable) {\n                this.translatable = translatable = new Ext.util.Translatable(config);\n                translatable.setElement(component.renderElement);\n                translatable.on('destroy', 'onTranslatableDestroy', this);\n\n                if (component.isPainted()) {\n                    this.onComponentPainted(component);\n                }\n\n                component.on(this.listeners);\n            }\n            else if (Ext.isObject(config)) {\n                translatable.setConfig(config);\n            }\n        }\n        else if (translatable) {\n            translatable.destroy();\n        }\n\n        return this;\n    },\n\n    getTranslatable: function() {\n        return this.translatable;\n    },\n\n    onTranslatableDestroy: function() {\n        var component = this.component;\n\n        delete this.translatable;\n        component.un(this.listeners);\n    },\n\n    onComponentDestroy: function() {\n        var translatable = this.translatable;\n\n        if (translatable) {\n            translatable.destroy();\n        }\n    }\n});\n\n/**\n * A core util class to bring Draggable behavior to any DOM element\n */\nExt.define('Ext.util.Draggable', {\n    isDraggable: true,\n\n    mixins: [\n        'Ext.mixin.Observable'\n    ],\n\n    requires: [\n        'Ext.util.SizeMonitor',\n        'Ext.util.Translatable'\n    ],\n\n    /**\n     * @event dragstart\n     * @preventable initDragStart\n     * Fires whenever the component starts to be dragged\n     * @param {Ext.util.Draggable} this\n     * @param {Ext.event.Event} e the event object\n     * @param {Number} offsetX The current offset value on the x axis\n     * @param {Number} offsetY The current offset value on the y axis\n     */\n\n    /**\n     * @event drag\n     * Fires whenever the component is dragged\n     * @param {Ext.util.Draggable} this\n     * @param {Ext.event.Event} e the event object\n     * @param {Number} offsetX The new offset value on the x axis\n     * @param {Number} offsetY The new offset value on the y axis\n     */\n\n    /**\n     * @event dragend\n     * Fires whenever the component is dragged\n     * @param {Ext.util.Draggable} this\n     * @param {Ext.event.Event} e the event object\n     * @param {Number} offsetX The current offset value on the x axis\n     * @param {Number} offsetY The current offset value on the y axis\n     */\n\n    config: {\n        cls: Ext.baseCSSPrefix + 'draggable',\n\n        draggingCls: Ext.baseCSSPrefix + 'dragging',\n\n        element: null,\n\n        constraint: 'container',\n\n        disabled: null,\n\n        /**\n         * @cfg {String} direction\n         * Possible values: 'vertical', 'horizontal', or 'both'\n         * @accessor\n         */\n        direction: 'both',\n\n        /**\n         * @cfg {Object/Number} initialOffset\n         * The initial draggable offset.  When specified as Number,\n         * both x and y will be set to that value.\n         */\n        initialOffset: {\n            x: 0,\n            y: 0\n        },\n\n        translatable: {}\n    },\n\n    DIRECTION_BOTH: 'both',\n\n    DIRECTION_VERTICAL: 'vertical',\n\n    DIRECTION_HORIZONTAL: 'horizontal',\n\n    defaultConstraint: {\n        min: { x: -Infinity, y: -Infinity },\n        max: { x: Infinity, y: Infinity }\n    },\n\n    sizeMonitor: null,\n\n    containerSizeMonitor: null,\n\n    /**\n     * Creates new Draggable.\n     * @param {Object} config The configuration object for this Draggable.\n     */\n    constructor: function(config) {\n        var element;\n\n        this.extraConstraint = {};\n\n        this.initialConfig = config;\n\n        this.offset = {\n            x: 0,\n            y: 0\n        };\n\n        this.listeners = {\n            dragstart: 'onDragStart',\n            drag     : 'onDrag',\n            dragend  : 'onDragEnd',\n\n            scope: this\n        };\n\n        if (config && config.element) {\n            element = config.element;\n            delete config.element;\n\n            this.setElement(element);\n        }\n\n        return this;\n    },\n\n    applyElement: function(element) {\n        if (!element) {\n            return;\n        }\n\n        return Ext.get(element);\n    },\n\n    updateElement: function(element) {\n        element.on(this.listeners);\n\n        this.sizeMonitor = new Ext.util.SizeMonitor({\n            element: element,\n            callback: this.doRefresh,\n            scope: this\n        });\n\n        this.initConfig(this.initialConfig);\n    },\n\n    updateInitialOffset: function(initialOffset) {\n        if (typeof initialOffset == 'number') {\n            initialOffset = {\n                x: initialOffset,\n                y: initialOffset\n            };\n        }\n\n        var offset = this.offset,\n            x, y;\n\n        offset.x = x = initialOffset.x;\n        offset.y = y = initialOffset.y;\n\n        this.getTranslatable().doTranslate(x, y);\n    },\n\n    updateCls: function(cls) {\n        this.getElement().addCls(cls);\n    },\n\n    applyTranslatable: function(translatable, currentInstance) {\n        translatable = Ext.factory(translatable, Ext.util.Translatable, currentInstance);\n        translatable.setElement(this.getElement());\n\n        return translatable;\n    },\n\n    setExtraConstraint: function(constraint) {\n        this.extraConstraint = constraint || {};\n\n        this.refreshConstraint();\n\n        return this;\n    },\n\n    addExtraConstraint: function(constraint) {\n        Ext.merge(this.extraConstraint, constraint);\n\n        this.refreshConstraint();\n\n        return this;\n    },\n\n    applyConstraint: function(newConstraint) {\n        this.currentConstraint = newConstraint;\n\n        if (!newConstraint) {\n            newConstraint = this.defaultConstraint;\n        }\n\n        if (newConstraint === 'container') {\n            return Ext.merge(this.getContainerConstraint(), this.extraConstraint);\n        }\n\n        return Ext.merge({}, this.extraConstraint, newConstraint);\n    },\n\n    updateConstraint: function() {\n        this.refreshOffset();\n    },\n\n    getContainerConstraint: function() {\n        var container = this.getContainer(),\n            element = this.getElement();\n\n        if (!container || !element.dom) {\n            return this.defaultConstraint;\n        }\n\n        var dom = element.dom,\n            containerDom = container.dom,\n            width = dom.offsetWidth,\n            height = dom.offsetHeight,\n            containerWidth = containerDom.offsetWidth,\n            containerHeight = containerDom.offsetHeight;\n\n        return {\n            min: { x: 0, y: 0 },\n            max: { x: containerWidth - width, y: containerHeight - height }\n        };\n    },\n\n    getContainer: function() {\n        var container = this.container;\n\n        if (!container) {\n            container = this.getElement().getParent();\n\n            if (container) {\n                this.containerSizeMonitor = new Ext.util.SizeMonitor({\n                    element: container,\n                    callback: this.doRefresh,\n                    scope: this\n                });\n\n                this.container = container;\n\n                container.on('destroy', 'onContainerDestroy', this);\n            }\n        }\n\n        return container;\n    },\n\n    onContainerDestroy: function() {\n        delete this.container;\n        delete this.containerSizeMonitor;\n    },\n\n    detachListeners: function() {\n        this.getElement().un(this.listeners);\n    },\n\n    isAxisEnabled: function(axis) {\n        var direction = this.getDirection();\n\n        if (axis === 'x') {\n            return (direction === this.DIRECTION_BOTH || direction === this.DIRECTION_HORIZONTAL);\n        }\n\n        return (direction === this.DIRECTION_BOTH || direction === this.DIRECTION_VERTICAL);\n    },\n\n    onDragStart: function(e) {\n        if (this.getDisabled()) {\n            return false;\n        }\n\n        var offset = this.offset;\n\n        this.fireAction('dragstart', [this, e, offset.x, offset.y], this.initDragStart);\n    },\n\n    initDragStart: function(me, e, offsetX, offsetY) {\n        this.dragStartOffset = {\n            x: offsetX,\n            y: offsetY\n        };\n\n        this.isDragging = true;\n\n        this.getElement().addCls(this.getDraggingCls());\n    },\n\n    onDrag: function(e) {\n        if (!this.isDragging) {\n            return;\n        }\n\n        var startOffset = this.dragStartOffset;\n\n        this.fireAction('drag', [this, e, startOffset.x + e.deltaX, startOffset.y + e.deltaY], this.doDrag);\n    },\n\n    doDrag: function(me, e, offsetX, offsetY) {\n        me.setOffset(offsetX, offsetY);\n    },\n\n    onDragEnd: function(e) {\n        if (!this.isDragging) {\n            return;\n        }\n\n        this.onDrag(e);\n\n        this.isDragging = false;\n\n        this.getElement().removeCls(this.getDraggingCls());\n\n        this.fireEvent('dragend', this, e, this.offset.x, this.offset.y);\n    },\n\n    setOffset: function(x, y, animation) {\n        var currentOffset = this.offset,\n            constraint = this.getConstraint(),\n            minOffset = constraint.min,\n            maxOffset = constraint.max,\n            min = Math.min,\n            max = Math.max;\n\n        if (this.isAxisEnabled('x') && typeof x == 'number') {\n            x = min(max(x, minOffset.x), maxOffset.x);\n        }\n        else {\n            x = currentOffset.x;\n        }\n\n        if (this.isAxisEnabled('y') && typeof y == 'number') {\n            y = min(max(y, minOffset.y), maxOffset.y);\n        }\n        else {\n            y = currentOffset.y;\n        }\n\n        currentOffset.x = x;\n        currentOffset.y = y;\n\n        this.getTranslatable().translate(x, y, animation);\n    },\n\n    getOffset: function() {\n        return this.offset;\n    },\n\n    refreshConstraint: function() {\n        this.setConstraint(this.currentConstraint);\n    },\n\n    refreshOffset: function() {\n        var offset = this.offset;\n\n        this.setOffset(offset.x, offset.y);\n    },\n\n    doRefresh: function() {\n        this.refreshConstraint();\n        this.getTranslatable().refresh();\n        this.refreshOffset();\n    },\n\n    refresh: function() {\n        if (this.sizeMonitor) {\n            this.sizeMonitor.refresh();\n        }\n\n        if (this.containerSizeMonitor) {\n            this.containerSizeMonitor.refresh();\n        }\n\n        this.doRefresh();\n    },\n\n    /**\n     * Enable the Draggable.\n     * @return {Ext.util.Draggable} This Draggable instance\n     */\n    enable: function() {\n        return this.setDisabled(false);\n    },\n\n    /**\n     * Disable the Draggable.\n     * @return {Ext.util.Draggable} This Draggable instance\n     */\n    disable: function() {\n        return this.setDisabled(true);\n    },\n\n    destroy: function() {\n        var translatable = this.getTranslatable();\n\n        Ext.destroy(this.containerSizeMonitor, this.sizeMonitor);\n        delete this.sizeMonitor;\n        delete this.containerSizeMonitor;\n\n        var element = this.getElement();\n        if (element && !element.isDestroyed) {\n            element.removeCls(this.getCls());\n        }\n\n        this.detachListeners();\n\n        if (translatable) {\n            translatable.destroy();\n        }\n    }\n\n}, function() {\n    this.override({\n        constructor: function(config) {\n            if (config && config.constrain) {\n                Ext.Logger.deprecate(\"'constrain' config is deprecated, please use 'contraint' instead\");\n                config.contraint = config.constrain;\n                delete config.constrain;\n            }\n\n            return this.callOverridden(arguments);\n        }\n    });\n});\n\n\n/**\n * @private\n */\nExt.define('Ext.behavior.Draggable', {\n\n    extend: 'Ext.behavior.Behavior',\n\n    requires: [\n        'Ext.util.Draggable'\n    ],\n\n    constructor: function() {\n        this.listeners = {\n            painted: 'onComponentPainted',\n            scope: this\n        };\n\n        this.callParent(arguments);\n    },\n\n    onComponentPainted: function() {\n        this.draggable.refresh();\n    },\n\n    setConfig: function(config) {\n        var draggable = this.draggable,\n            component = this.component;\n\n        if (config) {\n            if (!draggable) {\n                component.setTranslatable(true);\n                this.draggable = draggable = new Ext.util.Draggable(config);\n                draggable.setTranslatable(component.getTranslatable());\n                draggable.setElement(component.renderElement);\n                draggable.on('destroy', 'onDraggableDestroy', this);\n\n                if (component.isPainted()) {\n                    this.onComponentPainted(component);\n                }\n\n                component.on(this.listeners);\n            }\n            else if (Ext.isObject(config)) {\n                draggable.setConfig(config);\n            }\n        }\n        else if (draggable) {\n            draggable.destroy();\n        }\n\n        return this;\n    },\n\n    getDraggable: function() {\n        return this.draggable;\n    },\n\n    onDraggableDestroy: function() {\n        var component = this.component;\n\n        delete this.draggable;\n        component.un(this.listeners);\n    },\n\n    onComponentDestroy: function() {\n        var draggable = this.draggable;\n\n        if (draggable) {\n            draggable.destroy();\n        }\n    }\n});\n\n(function(clsPrefix) {\n\n/**\n * Most of the visual classes you interact with in Sencha Touch are Components. Every Component in Sencha Touch is a\n * subclass of Ext.Component, which means they can all:\n *\n * * Render themselves onto the page using a template\n * * Show and hide themselves at any time\n * * Center themselves on the screen\n * * Enable and disable themselves\n *\n * They can also do a few more advanced things:\n *\n * * Float above other components (windows, message boxes and overlays)\n * * Change size and position on the screen with animation\n * * Dock other Components inside themselves (useful for toolbars)\n * * Align to other components, allow themselves to be dragged around, make their content scrollable & more\n *\n * ## Available Components\n *\n * There are many components available in Sencha Touch, separated into 4 main groups:\n *\n * ### Navigation components\n * * {@link Ext.Toolbar}\n * * {@link Ext.Button}\n * * {@link Ext.TitleBar}\n * * {@link Ext.SegmentedButton}\n * * {@link Ext.Title}\n * * {@link Ext.Spacer}\n *\n * ### Store-bound components\n * * {@link Ext.dataview.DataView}\n * * {@link Ext.Carousel}\n * * {@link Ext.List}\n * * {@link Ext.NestedList}\n *\n * ### Form components\n * * {@link Ext.form.Panel}\n * * {@link Ext.form.FieldSet}\n * * {@link Ext.field.Checkbox}\n * * {@link Ext.field.Hidden}\n * * {@link Ext.field.Slider}\n * * {@link Ext.field.Text}\n * * {@link Ext.picker.Picker}\n * * {@link Ext.picker.Date}\n *\n * ### General components\n * * {@link Ext.Panel}\n * * {@link Ext.tab.Panel}\n * * {@link Ext.Viewport Ext.Viewport}\n * * {@link Ext.Img}\n * * {@link Ext.Map}\n * * {@link Ext.Audio}\n * * {@link Ext.Video}\n * * {@link Ext.Sheet}\n * * {@link Ext.ActionSheet}\n * * {@link Ext.MessageBox}\n *\n *\n * ## Instantiating Components\n *\n * Components are created the same way as all other classes in Sencha Touch - using Ext.create. Here's how we can\n * create a Text field:\n *\n *     var panel = Ext.create('Ext.Panel', {\n *         html: 'This is my panel'\n *     });\n *\n * This will create a {@link Ext.Panel Panel} instance, configured with some basic HTML content. A Panel is just a\n * simple Component that can render HTML and also contain other items. In this case we've created a Panel instance but\n * it won't show up on the screen yet because items are not rendered immediately after being instantiated. This allows\n * us to create some components and move them around before rendering and laying them out, which is a good deal faster\n * than moving them after rendering.\n *\n * To show this panel on the screen now we can simply add it to the global Viewport:\n *\n *     Ext.Viewport.add(panel);\n *\n * Panels are also Containers, which means they can contain other Components, arranged by a layout. Let's revisit the\n * above example now, this time creating a panel with two child Components and a hbox layout:\n *\n *     @example\n *     var panel = Ext.create('Ext.Panel', {\n *         layout: 'hbox',\n *\n *         items: [\n *             {\n *                 xtype: 'panel',\n *                 flex: 1,\n *                 html: 'Left Panel, 1/3rd of total size',\n *                  style: 'background-color: #5E99CC;'\n *             },\n *             {\n *                 xtype: 'panel',\n *                 flex: 2,\n *                 html: 'Right Panel, 2/3rds of total size',\n *                  style: 'background-color: #759E60;'\n *             }\n *         ]\n *     });\n *\n *     Ext.Viewport.add(panel);\n *\n * This time we created 3 Panels - the first one is created just as before but the inner two are declared inline using\n * an xtype. Xtype is a convenient way of creating Components without having to go through the process of using\n * Ext.create and specifying the full class name, instead you can just provide the xtype for the class inside an object\n * and the framework will create the components for you.\n *\n * We also specified a layout for the top level panel - in this case hbox, which splits the horizontal width of the\n * parent panel based on the 'flex' of each child. For example, if the parent Panel above is 300px wide then the first\n * child will be flexed to 100px wide and the second to 200px because the first one was given flex: 1 and the second\n * flex: 2.\n *\n * ## Using xtype\n *\n * xtype is an easy way to create Components without using the full class name. This is especially useful when creating\n * a {@link Ext.Container Container} that contains child Components. An xtype is simply a shorthand way of specifying a\n * Component - for example you can use xtype: 'panel' instead of typing out Ext.panel.Panel.\n *\n * Sample usage:\n *\n *     @example miniphone\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'fit',\n *\n *         items: [\n *             {\n *                 xtype: 'panel',\n *                 html: 'This panel is created by xtype'\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 title: 'So is the toolbar',\n *                 docked: 'top'\n *             }\n *         ]\n *     });\n *\n *\n * ### Common xtypes\n *\n * These are the xtypes that are most commonly used. For an exhaustive list please see the\n * <a href=\"#!/guide/components\">Components Guide</a>\n *\n * <pre>\n xtype                   Class\n -----------------       ---------------------\n actionsheet             Ext.ActionSheet\n audio                   Ext.Audio\n button                  Ext.Button\n image                   Ext.Img\n label                   Ext.Label\n loadmask                Ext.LoadMask\n map                     Ext.Map\n panel                   Ext.Panel\n segmentedbutton         Ext.SegmentedButton\n sheet                   Ext.Sheet\n spacer                  Ext.Spacer\n title                   Ext.Title\n toolbar                 Ext.Toolbar\n video                   Ext.Video\n carousel                Ext.carousel.Carousel\n navigationview          Ext.navigation.View\n datepicker              Ext.picker.Date\n picker                  Ext.picker.Picker\n slider                  Ext.slider.Slider\n thumb                   Ext.slider.Thumb\n tabpanel                Ext.tab.Panel\n viewport                Ext.viewport.Default\n\n DataView Components\n ---------------------------------------------\n dataview                Ext.dataview.DataView\n list                    Ext.dataview.List\n nestedlist              Ext.dataview.NestedList\n\n Form Components\n ---------------------------------------------\n checkboxfield           Ext.field.Checkbox\n datepickerfield         Ext.field.DatePicker\n emailfield              Ext.field.Email\n hiddenfield             Ext.field.Hidden\n numberfield             Ext.field.Number\n passwordfield           Ext.field.Password\n radiofield              Ext.field.Radio\n searchfield             Ext.field.Search\n selectfield             Ext.field.Select\n sliderfield             Ext.field.Slider\n spinnerfield            Ext.field.Spinner\n textfield               Ext.field.Text\n textareafield           Ext.field.TextArea\n togglefield             Ext.field.Toggle\n urlfield                Ext.field.Url\n fieldset                Ext.form.FieldSet\n formpanel               Ext.form.Panel\n * </pre>\n *\n * ## Configuring Components\n *\n * Whenever you create a new Component you can pass in configuration options. All of the configurations for a given\n * Component are listed in the \"Config options\" section of its class docs page. You can pass in any number of\n * configuration options when you instantiate the Component, and modify any of them at any point later. For example, we\n *  can easily modify the {@link Ext.Panel#html html content} of a Panel after creating it:\n *\n *     @example miniphone\n *     //we can configure the HTML when we instantiate the Component\n *     var panel = Ext.create('Ext.Panel', {\n *         fullscreen: true,\n *         html: 'This is a Panel'\n *     });\n *\n *     //we can update the HTML later using the setHtml method:\n *     panel.setHtml('Some new HTML');\n *\n *     //we can retrieve the current HTML using the getHtml method:\n *     alert(panel.getHtml()); //alerts \"Some new HTML\"\n *\n * Every config has a getter method and a setter method - these are automatically generated and always follow the same\n * pattern. For example, a config called 'html' will receive getHtml and setHtml methods, a config called defaultType\n * will receive getDefaultType and setDefaultType methods, and so on.\n *\n * ## Further Reading\n *\n * See the [Component & Container Guide](#!/guide/components) for more information, and check out the\n * {@link Ext.Container} class docs also.\n *\n * @aside guide components\n * @aside guide events\n *\n */\nExt.define('Ext.Component', {\n\n    extend: 'Ext.AbstractComponent',\n\n    alternateClassName: 'Ext.lib.Component',\n\n    mixins: ['Ext.mixin.Traversable'],\n\n    requires: [\n        'Ext.ComponentManager',\n        'Ext.XTemplate',\n        'Ext.dom.Element',\n        'Ext.behavior.Translatable',\n        'Ext.behavior.Draggable'\n    ],\n\n    /**\n     * @cfg {String} xtype\n     * The `xtype` configuration option can be used to optimize Component creation and rendering. It serves as a\n     * shortcut to the full componet name. For example, the component `Ext.button.Button` has an xtype of `button`.\n     *\n     * You can define your own xtype on a custom {@link Ext.Component component} by specifying the\n     * {@link Ext.Class#alias alias} config option with a prefix of `widget`. For example:\n     *\n     *     Ext.define('PressMeButton', {\n     *         extend: 'Ext.button.Button',\n     *         alias: 'widget.pressmebutton',\n     *         text: 'Press Me'\n     *     })\n     *\n     * Any Component can be created implicitly as an object config with an xtype specified, allowing it to be\n     * declared and passed into the rendering pipeline without actually being instantiated as an object. Not only is\n     * rendering deferred, but the actual creation of the object itself is also deferred, saving memory and resources\n     * until they are actually needed. In complex, nested layouts containing many Components, this can make a\n     * noticeable improvement in performance.\n     *\n     *     // Explicit creation of contained Components:\n     *     var panel = new Ext.Panel({\n     *        ...\n     *        items: [\n     *           Ext.create('Ext.button.Button', {\n     *              text: 'OK'\n     *           })\n     *        ]\n     *     };\n     *\n     *     // Implicit creation using xtype:\n     *     var panel = new Ext.Panel({\n     *        ...\n     *        items: [{\n     *           xtype: 'button',\n     *           text: 'OK'\n     *        }]\n     *     };\n     *\n     * In the first example, the button will always be created immediately during the panel's initialization. With\n     * many added Components, this approach could potentially slow the rendering of the page. In the second example,\n     * the button will not be created or rendered until the panel is actually displayed in the browser. If the panel\n     * is never displayed (for example, if it is a tab that remains hidden) then the button will never be created and\n     * will never consume any resources whatsoever.\n     */\n    xtype: 'component',\n\n    observableType: 'component',\n\n    cachedConfig: {\n        /**\n         * @cfg {Number} flex\n         * The flex of this item *if* this item item is inside a {@link Ext.layout.HBox} or {@link Ext.layout.VBox}\n         * layout.\n         *\n         * You can also update the flex of a component dynamically using the {@link Ext.layout.AbstractBox#setItemFlex}\n         * method.\n         */\n\n        /**\n         * @cfg {String} baseCls\n         * The base CSS class to apply to this components's element. This will also be prepended to\n         * other elements within this component. To add specific styling for sub-classes, use the {@link #cls} config.\n         * @accessor\n         */\n        baseCls: null,\n\n        /**\n         * @cfg {String/String[]} cls The CSS class to add to this component's element, in addition to the {@link #baseCls}\n         * @accessor\n         */\n        cls: null,\n\n        /**\n         * @cfg {String} floatingCls The CSS class to add to this component when it is floatable.\n         * @accessor\n         */\n        floatingCls: null,\n\n        /**\n         * @cfg {String} hiddenCls The CSS class to add to the component when it is hidden\n         * @accessor\n         */\n        hiddenCls: clsPrefix + 'item-hidden',\n\n        /**\n         * @cfg {String} ui The ui to be used on this Component\n         */\n        ui: null,\n\n        /**\n         * @cfg {Number/String} margin The margin to use on this Component. Can be specified as a number (in which case\n         * all edges get the same margin) or a CSS string like '5 10 10 10'\n         * @accessor\n         */\n        margin: null,\n\n        /**\n         * @cfg {Number/String} padding The padding to use on this Component. Can be specified as a number (in which\n         * case all edges get the same padding) or a CSS string like '5 10 10 10'\n         * @accessor\n         */\n        padding: null,\n\n        /**\n         * @cfg {Number/String} border The border to use on this Component. Can be specified as a number (in which\n         * case all edges get the same border width) or a CSS string like '5 10 10 10'\n         * @accessor\n         */\n        border: null,\n\n        /**\n         * @cfg {String} styleHtmlCls\n         * The class that is added to the content target when you set styleHtmlContent to true.\n         * @accessor\n         */\n        styleHtmlCls: clsPrefix + 'html',\n\n        /**\n         * @cfg {Boolean} [styleHtmlContent=false]\n         * True to automatically style the html inside the content target of this component (body for panels).\n         * @accessor\n         */\n        styleHtmlContent: null\n    },\n\n    eventedConfig: {\n        /**\n         * @cfg {Number/String} left\n         * The absolute left position of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Explicitly setting this value will make this Component become 'floating', which means its layout will no\n         * longer be affected by the Container that it resides in.\n         * @accessor\n         * @evented\n         */\n        left: null,\n\n        /**\n         * @cfg {Number/String} top\n         * The absolute top position of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Explicitly setting this value will make this Component become 'floating', which means its layout will no\n         * longer be affected by the Container that it resides in.\n         * @accessor\n         * @evented\n         */\n        top: null,\n\n        /**\n         * @cfg {Number/String} right\n         * The absolute right position of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Explicitly setting this value will make this Component become 'floating', which means its layout will no\n         * longer be affected by the Container that it resides in.\n         * @accessor\n         * @evented\n         */\n        right: null,\n\n        /**\n         * @cfg {Number/String} bottom\n         * The absolute bottom position of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Explicitly setting this value will make this Component become 'floating', which means its layout will no\n         * longer be affected by the Container that it resides in.\n         * @accessor\n         * @evented\n         */\n        bottom: null,\n\n        /**\n         * @cfg {Number/String} width\n         * The width of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * By default, if this is not explicitly set, this Component's element will simply have its own natual size.\n         * @accessor\n         * @evented\n         */\n        width: null,\n\n        /**\n         * @cfg {Number/String} height\n         * The height of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * By default, if this is not explicitly set, this Component's element will simply have its own natual size.\n         * @accessor\n         * @evented\n         */\n        height: null,\n\n        /**\n         * @cfg {Number/String} minWidth\n         * The minimum width of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * @accessor\n         * @evented\n         */\n        minWidth: null,\n\n        /**\n         * @cfg {Number/String} minHeight\n         * The minimum height of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * @accessor\n         * @evented\n         */\n        minHeight: null,\n\n        /**\n         * @cfg {Number/String} maxWidth\n         * The maximum width of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Note that this config will not apply if the Component is 'floating' (absolutely positioned or centered)\n         * @accessor\n         * @evented\n         */\n        maxWidth: null,\n\n        /**\n         * @cfg {Number/String} maxHeight\n         * The maximum height of this Component; must be a valid CSS length value, e.g: `300`, `100px`, `30%`, etc.\n         * Note that this config will not apply if the Component is 'floating' (absolutely positioned or centered)\n         * @accessor\n         * @evented\n         */\n        maxHeight: null,\n\n        /**\n         * @cfg {String} docked\n         * The dock position of this component in its container. Can be 'left', 'top', 'right' or 'bottom'.\n         *\n         * <b>Notes</b>\n         *\n         * You must use a HTML5 doctype for {@link #docked} `bottom` to work. To do this, simply add the following code to the HTML file:\n         *\n         *     <!doctype html>\n         *\n         * So your index.html file should look a little like this:\n         *\n         *     <!doctype html>\n         *     <html>\n         *         <head>\n         *             <title>MY application title</title>\n         *             ...\n         *\n         * @accessor\n         * @evented\n         */\n        docked: null,\n\n        /**\n         * @cfg {Boolean} centered\n         * Whether or not this Component is absolutely centered inside its Container\n         * @accessor\n         * @evented\n         */\n        centered: null,\n\n        /**\n         * @cfg {Boolean} hidden\n         * Whether or not this Component is hidden (its CSS `display` property is set to `none`)\n         * @accessor\n         * @evented\n         */\n        hidden: null,\n\n        /**\n         * @cfg {Boolean} disabled\n         * Whether or not this component is disabled\n         * @accessor\n         * @evented\n         */\n        disabled: null\n    },\n\n    config: {\n        /**\n         * @cfg {String/Object} style Optional CSS styles that will be rendered into an inline style attribute when the\n         * Component is rendered.\n         *\n         * You can pass either a string syntax:\n         *\n         *     style: 'background:red'\n         *\n         * Or by using an object:\n         *\n         *     style: {\n         *         background: 'red'\n         *     }\n         *\n         * When using the object syntax, you can define CSS Properties by using a string:\n         *\n         *     style: {\n         *         'border-left': '1px solid red'\n         *     }\n         *\n         * Although the object syntax is much easier to read, we suggest you to use the string syntax for better performance.\n         *\n         * @accessor\n         */\n        style: null,\n\n        /**\n         * @cfg {String/Ext.Element/HTMLElement} html Optional HTML content to render inside this Component, or a reference\n         * to an existing element on the page.\n         * @accessor\n         */\n        html: null,\n\n        /**\n         * @cfg {Object} draggable Configuration options to make this Component draggable\n         * @accessor\n         */\n        draggable: null,\n\n        /**\n         * @cfg {Object} translatable\n         * @private\n         * @accessor\n         */\n        translatable: null,\n\n        /**\n         * @cfg {Ext.Element} renderTo Optional element to render this Component to. Usually this is not needed because\n         * a Component is normally full screen or automatically rendered inside another {@link Ext.Container Container}\n         * @accessor\n         */\n        renderTo: null,\n\n        /**\n         * @cfg {Number} zIndex The z-index to give this Component when it is rendered\n         * @accessor\n         */\n        zIndex: null,\n\n        /**\n         * @cfg {String/String[]/Ext.Template[]/Ext.XTemplate[]} tpl\n         * A {@link String}, {@link Ext.Template}, {@link Ext.XTemplate} or an {@link Array} of strings to form an {@link Ext.XTemplate}.\n         * Used in conjunction with the {@link #data} and {@link #tplWriteMode} configurations.\n         *\n         * <b>Note</b>\n         * The {@link #data} configuration <i>must</i> be set for any content to be shown in the component when using this configuration.\n         * @accessor\n         */\n        tpl: null,\n\n        /**\n         * @cfg {String/Mixed} enterAnimation\n         * Animation effect to apply when the Component is being shown.  Typically you want to use an\n         * inbound animation type such as 'fadeIn' or 'slideIn'.\n         * @deprecated 2.0.0 Please use {@link #showAnimation} instead.\n         * @accessor\n         */\n        enterAnimation: null,\n\n        /**\n         * @cfg {String/Mixed} exitAnimation\n         * Animation effect to apply when the Component is being hidden.\n         * @deprecated 2.0.0 Please use {@link #hideAnimation} instead.  Typically you want to use an\n         * outbound animation type such as 'fadeOut' or 'slideOut'.\n         * @accessor\n         */\n        exitAnimation: null,\n\n        /**\n         * @cfg {String/Mixed} showAnimation\n         * Animation effect to apply when the Component is being shown.  Typically you want to use an\n         * inbound animation type such as 'fadeIn' or 'slideIn'.\n         * @accessor\n         */\n        showAnimation: null,\n\n        /**\n         * @cfg {String/Mixed} hideAnimation\n         * Animation effect to apply when the Component is being hidden.  Typically you want to use an\n         * outbound animation type such as 'fadeOut' or 'slideOut'.\n         * @accessor\n         */\n        hideAnimation: null,\n\n        /**\n         * @cfg {Mixed} renderTpl\n         * <p>An {@link Ext.XTemplate XTemplate} used to create the internal structure inside this Component's\n         * encapsulating Element.</p>\n         * <p>You do not normally need to specify this. For the base classes {@link Ext.Component}\n         * and {@link Ext.Container}, this defaults to <b><code>null</code></b> which means that they will be initially rendered\n         * with no internal structure; they render their {@link #getEl Element} empty. The more specialized ExtJS and Touch classes\n         * which use a more complex DOM structure, provide their own template definitions.</p>\n         * <p>This is intended to allow the developer to create application-specific utility Components with customized\n         * internal structure.</p>\n         * @accessor\n         */\n\n        /**\n         * @cfg {String} tplWriteMode The Ext.(X)Template method to use when\n         * updating the content area of the Component. Defaults to <code>'overwrite'</code>\n         * (see <code>{@link Ext.XTemplate#overwrite}</code>).\n         * @accessor\n         */\n        tplWriteMode: 'overwrite',\n\n        /**\n         * @cfg {Mixed} data\n         * The initial set of data to apply to the <code>{@link #tpl}</code> to\n         * update the content area of the Component.\n         * @accessor\n         */\n        data: null,\n\n        /**\n         * @cfg {String} disabledCls The CSS class to add to the component when it is disabled\n         * @accessor\n         */\n        disabledCls: clsPrefix + 'item-disabled',\n\n        /**\n         * @cfg {Ext.Element/HTMLElement/String} contentEl The configured element will automatically be\n         * added as the content of this component. When you pass a string, we expect it to be an element id.\n         * If the content element is hidden, we will automatically show it.\n         * @accessor\n         */\n        contentEl: null,\n\n        /**\n         * @cfg {String} id\n         * The **unique id of this component instance.**\n         *\n         * It should not be necessary to use this configuration except for singleton objects in your application. Components\n         * created with an id may be accessed globally using {@link Ext#getCmp Ext.getCmp}.\n         *\n         * Instead of using assigned ids, use the {@link #itemId} config, and {@link Ext.ComponentQuery ComponentQuery}\n         * which provides selector-based searching for Sencha Components analogous to DOM querying. The\n         * {@link Ext.Container} class contains {@link Ext.Container#down shortcut methods} to query\n         * its descendant Components by selector.\n         *\n         * Note that this id will also be used as the element id for the containing HTML element that is rendered to the\n         * page for this component. This allows you to write id-based CSS rules to style the specific instance of this\n         * component uniquely, and also to select sub-elements using this component's id as the parent.\n         *\n         * **Note**: to avoid complications imposed by a unique id also see `{@link #itemId}`.\n         *\n         * Defaults to an auto-assigned id.\n         */\n\n        /**\n         * @cfg {String} itemId\n         * An itemId can be used as an alternative way to get a reference to a component when no object reference is\n         * available. Instead of using an `{@link #id}` with {@link Ext#getCmp}, use `itemId` with\n         * {@link Ext.Container#getComponent} which will retrieve `itemId`'s or {@link #id}'s. Since `itemId`'s are an\n         * index to the container's internal MixedCollection, the `itemId` is scoped locally to the container - avoiding\n         * potential conflicts with {@link Ext.ComponentManager} which requires a **unique** `{@link #id}`.\n         *\n         * Also see {@link #id}, {@link Ext.Container#query}, {@link Ext.Container#down} and {@link Ext.Container#child}.\n         *\n         * @accessor\n         */\n        itemId: undefined,\n\n        /**\n         * @cfg {Ext.data.Model} record A model instance which updates the Component's html based on it's tpl. Similar to the data\n         * configuration, but tied to to a record to make allow dynamic updates.  This must be a model\n         * instance and not a configuration of one.\n         * @accessor\n         */\n        record: null,\n\n        /**\n         * @cfg {Object/Array} plugins\n         * @accessor\n         * An object or array of objects that will provide custom functionality for this component.  The only\n         * requirement for a valid plugin is that it contain an init method that accepts a reference of type Ext.Component.\n         *\n         * When a component is created, if any plugins are available, the component will call the init method on each\n         * plugin, passing a reference to itself.  Each plugin can then call methods or respond to events on the\n         * component as needed to provide its functionality.\n         *\n         * For examples of plugins, see Ext.plugin.PullRefresh and Ext.plugin.ListPaging\n         *\n         * ## Example code\n         *\n         * A plugin by alias:\n         *\n         *     Ext.create('Ext.dataview.List', {\n         *         config: {\n         *             plugins: 'listpaging',\n         *             itemTpl: '<div class=\"item\">{title}</div>',\n         *             store: 'Items'\n         *         }\n         *     });\n         *\n         * Multiple plugins by alias:\n         *\n         *     Ext.create('Ext.dataview.List', {\n         *         config: {\n         *             plugins: ['listpaging', 'pullrefresh'],\n         *             itemTpl: '<div class=\"item\">{title}</div>',\n         *             store: 'Items'\n         *         }\n         *     });\n         *\n         * Single plugin by class name with config options:\n         *\n         *     Ext.create('Ext.dataview.List', {\n         *         config: {\n         *             plugins: {\n         *                 xclass: 'Ext.plugin.ListPaging', // Reference plugin by class\n         *                 autoPaging: true\n         *             },\n         *\n         *             itemTpl: '<div class=\"item\">{title}</div>',\n         *             store: 'Items'\n         *         }\n         *     });\n         *\n         * Multiple plugins by class name with config options:\n         *\n         *     Ext.create('Ext.dataview.List', {\n         *         config: {\n         *             plugins: [\n         *                 {\n         *                     xclass: 'Ext.plugin.PullRefresh',\n         *                     pullRefreshText: 'Pull to refresh...'\n         *                 },\n         *                 {\n         *                     xclass: 'Ext.plugin.ListPaging',\n         *                     autoPaging: true\n         *                 }\n         *             ],\n         *\n         *             itemTpl: '<div class=\"item\">{title}</div>',\n         *             store: 'Items'\n         *         }\n         *     });\n         *\n         */\n        plugins: null\n    },\n\n    /**\n     * @event painted\n     * Fires whenever this Component actually becomes visible (painted) on the screen. This is useful when you need to\n     * perform 'read' operations on the DOM element, i.e: calculating natural sizes and positioning. If you just need\n     * perform post-initialization tasks that don't rely on the fact that the element must be rendered and visible on\n     * the screen, listen to {@link #event-initialize}\n     *\n     * Note: This event is not available to be used with event delegation. Instead 'painted' only fires if you explicily\n     * add at least one listener to it, due to performance reason.\n     *\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event erased\n     * The opposite event of {@link #painted}. This event fires whenever this Component are no longer visible\n     * (erased) on the screen. This might be triggered either when this Component {@link #hidden} config is set to\n     * `true`, or when its Element is taken out of the document's DOM tree. This is normally useful to perform cleaning\n     * up after what you have set up from listening to {@link #painted} event.\n     *\n     * Note: This event is not available to be used with event delegation. Instead 'erased' only fires if you explicily\n     * add at least one listener to it, due to performance reason.\n     *\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event resize\n     * Important note: For the best performance on mobile devices, use this only when you absolutely need to monitor\n     * a Component's size.\n     *\n     * Note: This event is not available to be used with event delegation. Instead 'resize' only fires if you explicily\n     * add at least one listener to it, due to performance reason.\n     *\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event show\n     * Fires whenever the Component is shown\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event hide\n     * Fires whenever the Component is hidden\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event fullscreen\n     * Fires whenever a Component with the fullscreen config is instantiated\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @event floatingchange\n     * Fires whenever there is a change in the floating status of a component\n     * @param {Ext.Component} this The component instance\n     * @param {Boolean} floating The component's new floating state\n     */\n\n    /**\n     * @event beforeorientationchange\n     * Fires before orientation changes.\n     * @removed 2.0.0 This event is now only available onBefore the Viewport's {@link Ext.Viewport#orientationchange}\n     */\n\n    /**\n     * @event orientationchange\n     * Fires when orientation changes.\n     * @removed 2.0.0 This event is now only available on the Viewport's {@link Ext.Viewport#orientationchange}\n     */\n\n    /**\n     * @event initialize\n     * Fires when the component has been initialized\n     * @param {Ext.Component} this The component instance\n     */\n\n    /**\n     * @private\n     */\n    listenerOptionsRegex: /^(?:delegate|single|delay|buffer|args|prepend|element)$/,\n\n    /**\n     * @private\n     */\n    alignmentRegex: /^([a-z]+)-([a-z]+)(\\?)?$/,\n\n    /**\n     * @private\n     */\n    isComponent: true,\n\n    /**\n     * @private\n     */\n    floating: false,\n\n    /**\n     * @private\n     */\n    rendered: false,\n\n    /**\n     * @readonly\n     * @private\n     */\n    dockPositions: {\n        top: true,\n        right: true,\n        bottom: true,\n        left: true\n    },\n\n    innerElement: null,\n\n    element: null,\n\n    template: [],\n\n    /**\n     * Creates new Component.\n     * @param {Object} config The standard configuration object.\n     */\n    constructor: function(config) {\n        var me = this,\n            currentConfig = me.config,\n            id;\n\n        me.onInitializedListeners = [];\n        me.initialConfig = config;\n\n        if (config !== undefined && 'id' in config) {\n            id = config.id;\n        }\n        else if ('id' in currentConfig) {\n            id = currentConfig.id;\n        }\n        else {\n            id = me.getId();\n        }\n\n        me.id = id;\n        me.setId(id);\n\n        Ext.ComponentManager.register(me);\n\n        me.initElement();\n\n        me.initConfig(me.initialConfig);\n\n        me.initialize();\n\n        me.triggerInitialized();\n\n        /**\n         * Force the component to take up 100% width and height available, by adding it to {@link Ext.Viewport}.\n         * @cfg {Boolean} fullscreen\n         */\n        if (me.config.fullscreen) {\n            me.fireEvent('fullscreen', me);\n        }\n\n        me.fireEvent('initialize', me);\n    },\n\n    beforeInitConfig: function(config) {\n        this.beforeInitialize.apply(this, arguments);\n    },\n\n    /**\n     * @private\n     */\n    beforeInitialize: Ext.emptyFn,\n\n    /**\n     * Allows addition of behavior to the rendering phase.\n     * @protected\n     * @template\n     */\n    initialize: Ext.emptyFn,\n\n    getTemplate: function() {\n        return this.template;\n    },\n\n    getElementConfig: function() {\n        return {\n            reference: 'element',\n            children: this.getTemplate()\n        };\n    },\n\n    /**\n     * @private\n     */\n    triggerInitialized: function() {\n        var listeners = this.onInitializedListeners,\n            ln = listeners.length,\n            listener, i;\n\n        if (!this.initialized) {\n            this.initialized = true;\n\n            if (ln > 0) {\n                for (i = 0; i < ln; i++) {\n                    listener = listeners[i];\n                    listener.fn.call(listener.scope, this);\n                }\n\n                listeners.length = 0;\n            }\n        }\n    },\n\n    /**\n     * @private\n     * @param fn\n     * @param scope\n     */\n    onInitialized: function(fn, scope) {\n        var listeners = this.onInitializedListeners;\n\n        if (!scope) {\n            scope = this;\n        }\n\n        if (this.initialized) {\n            fn.call(scope, this);\n        }\n        else {\n            listeners.push({\n                fn: fn,\n                scope: scope\n            });\n        }\n    },\n\n    renderTo: function(container, insertBeforeElement) {\n        var dom = this.renderElement.dom,\n            containerDom = Ext.getDom(container),\n            insertBeforeChildDom = Ext.getDom(insertBeforeElement);\n\n        if (containerDom) {\n            if (insertBeforeChildDom) {\n                containerDom.insertBefore(dom, insertBeforeChildDom);\n            }\n            else {\n                containerDom.appendChild(dom);\n            }\n\n            this.setRendered(Boolean(dom.offsetParent));\n        }\n    },\n\n    setParent: function(parent) {\n        var currentParent = this.parent;\n\n        if (parent && currentParent && currentParent !== parent) {\n            currentParent.remove(this, false);\n        }\n\n        this.parent = parent;\n\n        return this;\n    },\n\n    applyPlugins: function(config) {\n        var ln, i, configObj;\n\n        if (!config) {\n            return config;\n        }\n\n        config = [].concat(config);\n\n        for (i = 0, ln = config.length; i < ln; i++) {\n            configObj = config[i];\n                if (Ext.isObject(configObj) && configObj.ptype) {\n                        Ext.Logger.deprecate('Using a ptype is now deprecated, please use type instead', 1);\n                    configObj.type = configObj.ptype;\n                }\n            config[i] = Ext.factory(configObj, 'Ext.plugin.Plugin', null, 'plugin');\n        }\n\n        return config;\n    },\n\n    updatePlugins: function(newPlugins, oldPlugins) {\n        var ln, i;\n\n        if (newPlugins) {\n            for (i = 0, ln = newPlugins.length; i < ln; i++) {\n                newPlugins[i].init(this);\n            }\n        }\n\n        if (oldPlugins) {\n            for (i = 0, ln = oldPlugins.length; i < ln; i++) {\n                Ext.destroy(oldPlugins[i]);\n            }\n        }\n    },\n\n    updateRenderTo: function(newContainer) {\n        this.renderTo(newContainer);\n    },\n\n    updateStyle: function(style) {\n        this.element.applyStyles(style);\n    },\n\n    updateBorder: function(border) {\n        this.element.setBorder(border);\n    },\n\n    updatePadding: function(padding) {\n       this.innerElement.setPadding(padding);\n    },\n\n    updateMargin: function(margin) {\n        this.element.setMargin(margin);\n    },\n\n    updateUi: function(newUi, oldUi) {\n        var baseCls = this.getBaseCls();\n\n        if (baseCls) {\n            if (oldUi) {\n                this.element.removeCls(oldUi, baseCls);\n            }\n\n            if (newUi) {\n                this.element.addCls(newUi, baseCls);\n            }\n        }\n    },\n\n    applyBaseCls: function(baseCls) {\n        return baseCls || clsPrefix + this.xtype;\n    },\n\n    updateBaseCls: function(newBaseCls, oldBaseCls) {\n        var me = this,\n            ui = me.getUi();\n\n        if (newBaseCls) {\n            this.element.addCls(newBaseCls);\n\n            if (ui) {\n                this.element.addCls(newBaseCls, null, ui);\n            }\n        }\n\n        if (oldBaseCls) {\n            this.element.removeCls(oldBaseCls);\n\n            if (ui) {\n                this.element.removeCls(oldBaseCls, null, ui);\n            }\n        }\n    },\n\n    /**\n     * Adds a CSS class (or classes) to this Component's rendered element\n     * @param {String} cls The CSS class to add\n     * @param {String} prefix Optional prefix to add to each class\n     * @param {String} suffix Optional suffix to add to each class\n     */\n    addCls: function(cls, prefix, suffix) {\n        var oldCls = this.getCls(),\n            newCls = (oldCls) ? oldCls.slice() : [],\n            ln, i, cachedCls;\n\n        prefix = prefix || '';\n        suffix = suffix || '';\n\n        if (typeof cls == \"string\") {\n            cls = [cls];\n        }\n\n        ln = cls.length;\n\n        //check if there is currently nothing in the array and we dont need to add a prefix or a suffix.\n        //if true, we can just set the newCls value to the cls property, because that is what the value will be\n        //if false, we need to loop through each and add them to the newCls array\n        if (!newCls.length && prefix === '' && suffix === '') {\n            newCls = cls;\n        } else {\n            for (i = 0; i < ln; i++) {\n                cachedCls = prefix + cls[i] + suffix;\n                if (newCls.indexOf(cachedCls) == -1) {\n                    newCls.push(cachedCls);\n                }\n            }\n        }\n\n        this.setCls(newCls);\n    },\n\n    /**\n     * Removes the given CSS class(es) from this Component's rendered element\n     * @param {String} cls The class(es) to remove\n     * @param {String} prefix Optional prefix to prepend before each class\n     * @param {String} suffix Optional suffix to append to each class\n     */\n    removeCls: function(cls, prefix, suffix) {\n        var oldCls = this.getCls(),\n            newCls = (oldCls) ? oldCls.slice() : [],\n            ln, i;\n\n        prefix = prefix || '';\n        suffix = suffix || '';\n\n        if (typeof cls == \"string\") {\n            newCls = Ext.Array.remove(newCls, prefix + cls + suffix);\n        } else {\n            ln = cls.length;\n            for (i = 0; i < ln; i++) {\n                newCls = Ext.Array.remove(newCls, prefix + cls[i] + suffix);\n            }\n        }\n\n        this.setCls(newCls);\n    },\n\n    /**\n     * Replaces specified classes with the newly specified classes.\n     * It uses the {@link #addCls} and {@link #removeCls} methdos, so if the class(es) you are removing don't exist, it will\n     * still add the new classes.\n     * @param {String} oldCls The class(es) to remove\n     * @param {String} newCls The class(es) to add\n     * @param {String} prefix Optional prefix to prepend before each class\n     * @param {String} suffix Optional suffix to append to each class\n     */\n    replaceCls: function(oldCls, newCls, prefix, suffix) {\n        // We could have just called {@link #removeCls} and {@link #addCls}, but that would mean {@link #updateCls}\n        // would get called twice, which would have performance implications because it will update the dom.\n\n        var cls = this.getCls(),\n            array = (cls) ? cls.slice() : [],\n            ln, i, cachedCls;\n\n        prefix = prefix || '';\n        suffix = suffix || '';\n\n        //remove all oldCls\n        if (typeof oldCls == \"string\") {\n            array = Ext.Array.remove(array, prefix + oldCls + suffix);\n        } else if (oldCls) {\n            ln = oldCls.length;\n            for (i = 0; i < ln; i++) {\n                array = Ext.Array.remove(array, prefix + oldCls[i] + suffix);\n            }\n        }\n\n        //add all newCls\n        if (typeof newCls == \"string\") {\n            array.push(prefix + newCls + suffix);\n        } else if (newCls) {\n            ln = newCls.length;\n\n            //check if there is currently nothing in the array and we dont need to add a prefix or a suffix.\n            //if true, we can just set the array value to the newCls property, because that is what the value will be\n            //if false, we need to loop through each and add them to the array\n            if (!array.length && prefix === '' && suffix === '') {\n                array = newCls;\n            } else {\n                for (i = 0; i < ln; i++) {\n                    cachedCls = prefix + newCls[i] + suffix;\n                    if (array.indexOf(cachedCls) == -1) {\n                        array.push(cachedCls);\n                    }\n                }\n            }\n        }\n\n        this.setCls(array);\n    },\n\n    /**\n     * @private\n     * Checks if the cls is a string. If it is, changed it into an array\n     */\n    applyCls: function(cls) {\n        if (typeof cls == \"string\") {\n            cls = [cls];\n        }\n\n        //reset it back to null if there is nothing.\n        if (!cls || !cls.length) {\n            cls = null;\n        }\n\n        return cls;\n    },\n\n    /**\n     * @private\n     * All cls methods directly report to the {@link #cls} configuration, so anytime it changes, {@link #updateCls} will be called\n     */\n    updateCls: function(newCls, oldCls) {\n        if (oldCls != newCls && this.element) {\n            this.element.replaceCls(oldCls, newCls);\n        }\n    },\n\n    /**\n     * Updates the {@link #styleHtmlCls} configuration\n     */\n    updateStyleHtmlCls: function(newHtmlCls, oldHtmlCls) {\n        var innerHtmlElement = this.innerHtmlElement,\n            innerElement = this.innerElement;\n\n        if (this.getStyleHtmlContent() && oldHtmlCls) {\n            if (innerHtmlElement) {\n                innerHtmlElement.replaceCls(oldHtmlCls, newHtmlCls);\n            } else {\n                innerElement.replaceCls(oldHtmlCls, newHtmlCls);\n            }\n        }\n    },\n\n    applyStyleHtmlContent: function(config) {\n        return Boolean(config);\n    },\n\n    updateStyleHtmlContent: function(styleHtmlContent) {\n        var htmlCls = this.getStyleHtmlCls(),\n            innerElement = this.innerElement,\n            innerHtmlElement = this.innerHtmlElement;\n\n        if (styleHtmlContent) {\n            if (innerHtmlElement) {\n                innerHtmlElement.addCls(htmlCls);\n            } else {\n                innerElement.addCls(htmlCls);\n            }\n        } else {\n            if (innerHtmlElement) {\n                innerHtmlElement.removeCls(htmlCls);\n            } else {\n                innerElement.addCls(htmlCls);\n            }\n        }\n    },\n\n    applyContentEl: function(contentEl) {\n        if (contentEl) {\n            return Ext.get(contentEl);\n        }\n    },\n\n    updateContentEl: function(newContentEl, oldContentEl) {\n        if (oldContentEl) {\n            oldContentEl.hide();\n            Ext.getBody().append(oldContentEl);\n        }\n\n        if (newContentEl) {\n            this.setHtml(newContentEl.dom);\n            newContentEl.show();\n        }\n    },\n\n    /**\n     * Returns the height and width of the Component\n     * @return {Object} The current height and width of the Component\n     */\n    getSize: function() {\n        return {\n            width: this.getWidth(),\n            height: this.getHeight()\n        };\n    },\n\n    isCentered: function() {\n        return Boolean(this.getCentered());\n    },\n\n    isFloating: function() {\n        return this.floating;\n    },\n\n    isDocked: function() {\n        return Boolean(this.getDocked());\n    },\n\n    isInnerItem: function() {\n        var me = this;\n        return !me.isCentered() && !me.isFloating() && !me.isDocked();\n    },\n\n    filterPositionValue: function(value) {\n        if (value === '' || value === 'auto') {\n            value = null;\n        }\n\n        return value;\n    },\n\n    applyTop: function(top) {\n        return this.filterPositionValue(top);\n    },\n\n    applyRight: function(right) {\n        return this.filterPositionValue(right);\n    },\n\n    applyBottom: function(bottom) {\n        return this.filterPositionValue(bottom);\n    },\n\n    applyLeft: function(left) {\n        return this.filterPositionValue(left);\n    },\n\n    doSetTop: function(top) {\n        this.updateFloating();\n        this.element.setTop(top);\n    },\n\n    doSetRight: function(right) {\n        this.updateFloating();\n        this.element.setRight(right);\n    },\n\n    doSetBottom: function(bottom) {\n        this.updateFloating();\n        this.element.setBottom(bottom);\n    },\n\n    doSetLeft: function(left) {\n        this.updateFloating();\n        this.element.setLeft(left);\n    },\n\n    doSetWidth: function(width) {\n        this.element.setWidth(width);\n    },\n\n    doSetHeight: function(height) {\n        this.element.setHeight(height);\n    },\n\n    doSetMinWidth: function(width) {\n        this.element.setMinWidth(width);\n    },\n\n    doSetMinHeight: function(height) {\n        this.element.setMinHeight(height);\n    },\n\n    doSetMaxWidth: function(width) {\n        this.element.setMaxWidth(width);\n    },\n\n    doSetMaxHeight: function(height) {\n        this.element.setMaxHeight(height);\n    },\n\n    applyCentered: function(centered) {\n        centered = Boolean(centered);\n\n        if (centered) {\n            if (this.isFloating()) {\n                this.resetFloating();\n            }\n\n            if (this.isDocked()) {\n                this.setDocked(false);\n            }\n        }\n\n        return centered;\n    },\n\n    doSetCentered: Ext.emptyFn,\n\n    applyDocked: function(docked) {\n        if (!docked) {\n            return null;\n        }\n\n        if (!this.dockPositions[docked]) {\n            Ext.Logger.error(\"Invalid docking position of '\" + docked + \"', must be either 'top', 'right', 'bottom', \" +\n                \"'left' or `null` (for no docking)\", this);\n            return;\n        }\n\n        if (this.isFloating()) {\n            this.resetFloating();\n        }\n\n        if (this.isCentered()) {\n            this.setCentered(false);\n        }\n\n        return docked;\n    },\n\n    doSetDocked: Ext.emptyFn,\n\n    /**\n     * Resets {@link #top}, {@link #right}, {@link #bottom} and {@link #left} configurations to `null`, which\n     * will unfloat this component.\n     */\n    resetFloating: function() {\n        this.setTop(null);\n        this.setRight(null);\n        this.setBottom(null);\n        this.setLeft(null);\n    },\n\n    updateFloating: function() {\n        var floating = true,\n            floatingCls = this.getFloatingCls();\n\n        if (this.getTop() === null && this.getBottom() === null && this.getRight() === null && this.getLeft() === null) {\n            floating = false;\n        }\n\n        if (floating !== this.floating) {\n            if (floating) {\n                if (this.isCentered()) {\n                    this.setCentered(false);\n                }\n\n                if (this.isDocked()) {\n                    this.setDocked(false);\n                }\n\n                if (floatingCls) {\n                    this.addCls(floatingCls);\n                }\n            } else if (floatingCls) {\n                this.removeCls(floatingCls);\n            }\n\n            this.floating = floating;\n            this.fireEvent('floatingchange', this, floating);\n        }\n    },\n\n    /**\n     * Updates the floatingCls if the component is currently floating\n     * @private\n     */\n    updateFloatingCls: function(newFloatingCls, oldFloatingCls) {\n        if (this.isFloating()) {\n            this.replaceCls(oldFloatingCls, newFloatingCls);\n        }\n    },\n\n    applyDisabled: function(disabled) {\n        return Boolean(disabled);\n    },\n\n    doSetDisabled: function(disabled) {\n        this.element[disabled ? 'addCls' : 'removeCls'](this.getDisabledCls());\n    },\n\n    updateDisabledCls: function(newDisabledCls, oldDisabledCls) {\n        if (this.isDisabled()) {\n            this.element.replaceCls(oldDisabledCls, newDisabledCls);\n        }\n    },\n\n    /**\n     * Disables this Component\n     */\n    disable: function() {\n       this.setDisabled(true);\n    },\n\n    /**\n     * Enables this Component\n     */\n    enable: function() {\n        this.setDisabled(false);\n    },\n\n    /**\n     * Returns true if this Component is currently disabled\n     * @return {Boolean} True if currently disabled\n     */\n    isDisabled: function() {\n        return this.getDisabled();\n    },\n\n    applyZIndex: function(zIndex) {\n        if (zIndex !== null) {\n            zIndex = Number(zIndex);\n\n            if (isNaN(zIndex)) {\n                zIndex = null;\n            }\n        }\n\n        return zIndex;\n    },\n\n    updateZIndex: function(zIndex) {\n        var domStyle = this.element.dom.style;\n\n        if (zIndex !== null) {\n            domStyle.setProperty('z-index', zIndex, 'important');\n        }\n        else {\n            domStyle.removeProperty('z-index');\n        }\n    },\n\n    getInnerHtmlElement: function() {\n        var innerHtmlElement = this.innerHtmlElement,\n            styleHtmlCls = this.getStyleHtmlCls();\n\n        if (!innerHtmlElement || !innerHtmlElement.dom || !innerHtmlElement.dom.parentNode) {\n            this.innerHtmlElement = innerHtmlElement = this.innerElement.createChild({ cls: 'x-innerhtml ' });\n\n            if (this.getStyleHtmlContent()) {\n                this.innerHtmlElement.addCls(styleHtmlCls);\n                this.innerElement.removeCls(styleHtmlCls);\n            }\n        }\n\n        return innerHtmlElement;\n    },\n\n    updateHtml: function(html) {\n        var innerHtmlElement = this.getInnerHtmlElement();\n\n        if (Ext.isElement(html)){\n            innerHtmlElement.setHtml('');\n            innerHtmlElement.append(html);\n        }\n        else {\n            innerHtmlElement.setHtml(html);\n        }\n    },\n\n    applyHidden: function(hidden) {\n        return Boolean(hidden);\n    },\n\n    doSetHidden: function(hidden) {\n        var element = this.renderElement;\n\n        if (element.isDestroyed) {\n            return;\n        }\n\n        if (hidden) {\n            element.hide();\n        }\n        else {\n            element.show();\n        }\n\n        if (this.element) {\n            this.element[hidden ? 'addCls' : 'removeCls'](this.getHiddenCls());\n        }\n\n        this.fireEvent(hidden ? 'hide' : 'show', this);\n    },\n\n    updateHiddenCls: function(newHiddenCls, oldHiddenCls) {\n        if (this.isHidden()) {\n            this.element.replaceCls(oldHiddenCls, newHiddenCls);\n        }\n    },\n\n    /**\n     * Returns true if this Component is currently hidden\n     * @return {Boolean} True if currently hidden\n     */\n    isHidden: function() {\n        return this.getHidden();\n    },\n\n    /**\n     * Hides this Component\n     * @param {Object/Boolean} animation (optional)\n     */\n    hide: function(animation) {\n        if (!this.getHidden()) {\n            if (animation === undefined || (animation && animation.isComponent)) {\n                animation = this.getHideAnimation();\n            }\n            if (animation) {\n                if (animation === true) {\n                    animation = 'fadeOut';\n                }\n                this.onBefore({\n                    hiddenchange: 'animateFn',\n                    scope: this,\n                    single: true,\n                    args: [animation]\n                });\n            }\n            this.setHidden(true);\n        }\n        return this;\n    },\n\n    /**\n     * Shows this component\n     * @param {Object/Boolean} animation (optional)\n     */\n    show: function(animation) {\n        var hidden = this.getHidden();\n        if (hidden || hidden === null) {\n            if (animation === true) {\n                animation = 'fadeIn';\n            }\n            else if (animation === undefined || (animation && animation.isComponent)) {\n                animation = this.getShowAnimation();\n            }\n\n            if (animation) {\n                this.onBefore({\n                    hiddenchange: 'animateFn',\n                    scope: this,\n                    single: true,\n                    args: [animation]\n                });\n            }\n\n            this.setHidden(false);\n        }\n\n        return this;\n    },\n\n    animateFn: function(animation, component, newState, oldState, options, controller) {\n        if (animation && (!newState || (newState && this.isPainted()))) {\n            var anim = new Ext.fx.Animation(animation);\n\n            anim.setElement(component.element);\n\n            if (newState) {\n                anim.setOnEnd(function() {\n                    controller.resume();\n                });\n\n                controller.pause();\n            }\n            Ext.Animator.run(anim);\n        }\n    },\n\n    /**\n     * @private\n     */\n    setVisibility: function(isVisible) {\n        this.renderElement.setVisibility(isVisible);\n    },\n\n    /**\n     * @private\n     */\n    isRendered: function() {\n        return this.rendered;\n    },\n\n    /**\n     * @private\n     */\n    isPainted: function() {\n        return this.renderElement.isPainted();\n    },\n\n    /**\n     * @private\n     */\n    applyTpl: function(config) {\n        return (Ext.isObject(config) && config.isTemplate) ? config : new Ext.XTemplate(config);\n    },\n\n    applyData: function(data) {\n        if (Ext.isObject(data)) {\n            return Ext.apply({}, data);\n        }\n\n        return data;\n    },\n\n    /**\n     * @private\n     */\n    updateData: function(newData) {\n        var me = this;\n        if (newData) {\n            var tpl = me.getTpl(),\n                tplWriteMode = me.getTplWriteMode();\n\n            if (tpl) {\n                tpl[tplWriteMode](me.getInnerHtmlElement(), newData);\n            }\n\n            /**\n             * @event updatedata\n             * Fires whenever the data of the component is updated\n             * @param {Ext.Component} this The component instance\n             * @param {Object} newData The new data\n             */\n            this.fireEvent('updatedata', me, newData);\n        }\n    },\n\n    applyRecord: function(config) {\n        if (config && Ext.isObject(config) && config.isModel) {\n            return config;\n        }\n        return  null;\n    },\n\n    updateRecord: function(newRecord, oldRecord) {\n        var me = this;\n\n        if (oldRecord) {\n            oldRecord.unjoin(me);\n        }\n\n        if (!newRecord) {\n            me.updateData('');\n        }\n        else {\n            newRecord.join(me);\n            me.updateData(newRecord.getData(true));\n        }\n    },\n\n    // @private Used to handle joining of a record to a tpl\n    afterEdit: function() {\n        this.updateRecord(this.getRecord());\n    },\n\n    // @private Used to handle joining of a record to a tpl\n    afterErase: function() {\n        this.setRecord(null);\n    },\n\n    applyItemId: function(itemId) {\n        return itemId || this.getId();\n    },\n\n    /**\n     * <p>Tests whether or not this Component is of a specific xtype. This can test whether this Component is descended\n     * from the xtype (default) or whether it is directly of the xtype specified (shallow = true).</p>\n     * <p><b>If using your own subclasses, be aware that a Component must register its own xtype\n     * to participate in determination of inherited xtypes.</b></p>\n     * <p>For a list of all available xtypes, see the {@link Ext.Component} header.</p>\n     * <p>Example usage:</p>\n     * <pre><code>\nvar t = new Ext.field.Text();\nvar isText = t.isXType('textfield');        // true\nvar isBoxSubclass = t.isXType('field');       // true, descended from Ext.field.Field\nvar isBoxInstance = t.isXType('field', true); // false, not a direct Ext.field.Field instance\n</code></pre>\n     * @param {String} xtype The xtype to check for this Component\n     * @param {Boolean} shallow (optional) False to check whether this Component is descended from the xtype (this is\n     * the default), or true to check whether this Component is directly of the specified xtype.\n     * @return {Boolean} True if this component descends from the specified xtype, false otherwise.\n     */\n    isXType: function(xtype, shallow) {\n        if (shallow) {\n            return this.xtypes.indexOf(xtype) != -1;\n        }\n\n        return Boolean(this.xtypesMap[xtype]);\n    },\n\n    /**\n     * <p>Returns this Component's xtype hierarchy as a slash-delimited string. For a list of all\n     * available xtypes, see the {@link Ext.Component} header.</p>\n     * <p><b>If using your own subclasses, be aware that a Component must register its own xtype\n     * to participate in determination of inherited xtypes.</b></p>\n     * <p>Example usage:</p>\n     * <pre><code>\nvar t = new Ext.field.Text();\nalert(t.getXTypes());  // alerts 'component/field/textfield'\n</code></pre>\n     * @return {String} The xtype hierarchy string\n     */\n    getXTypes: function() {\n        return this.xtypesChain.join('/');\n    },\n\n    getDraggableBehavior: function() {\n        var behavior = this.draggableBehavior;\n\n        if (!behavior) {\n            behavior = this.draggableBehavior = new Ext.behavior.Draggable(this);\n        }\n\n        return behavior;\n    },\n\n    applyDraggable: function(config) {\n        this.getDraggableBehavior().setConfig(config);\n    },\n\n    getDraggable: function() {\n        return this.getDraggableBehavior().getDraggable();\n    },\n\n    getTranslatableBehavior: function() {\n        var behavior = this.translatableBehavior;\n\n        if (!behavior) {\n            behavior = this.translatableBehavior = new Ext.behavior.Translatable(this);\n        }\n\n        return behavior;\n    },\n\n    applyTranslatable: function(config) {\n        this.getTranslatableBehavior().setConfig(config);\n    },\n\n    getTranslatable: function() {\n        return this.getTranslatableBehavior().getTranslatable();\n    },\n\n    translateAxis: function(axis, value, animation) {\n        var x, y;\n\n        if (axis === 'x') {\n            x = value;\n        }\n        else {\n            y = value;\n        }\n\n        return this.translate(x, y, animation);\n    },\n\n    translate: function() {\n        var translatable = this.getTranslatable();\n\n        if (!translatable) {\n            this.setTranslatable(true);\n            translatable = this.getTranslatable();\n        }\n\n        translatable.translate.apply(translatable, arguments);\n    },\n\n    /**\n     * @private\n     * @param rendered\n     */\n    setRendered: function(rendered) {\n        var wasRendered = this.rendered;\n\n        if (rendered !== wasRendered) {\n            this.rendered = rendered;\n\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * Sets the size of the Component\n     * @param {Number} width The new width for the Component\n     * @param {Number} height The new height for the Component\n     */\n    setSize: function(width, height) {\n        if (width != undefined) {\n            this.setWidth(width);\n        }\n        if (height != undefined) {\n            this.setHeight(height);\n        }\n    },\n\n    //@private\n    doAddListener: function(name, fn, scope, options, order) {\n        if (options && 'element' in options) {\n            if (this.referenceList.indexOf(options.element) === -1) {\n                Ext.Logger.error(\"Adding event listener with an invalid element reference of '\" + options.element +\n                    \"' for this component. Available values are: '\" + this.referenceList.join(\"', '\") + \"'\", this);\n            }\n\n            // The default scope is this component\n            this[options.element].doAddListener(name, fn, scope || this, options, order);\n        }\n\n        return this.callParent(arguments);\n    },\n\n    //@private\n    doRemoveListener: function(name, fn, scope, options, order) {\n        if (options && 'element' in options) {\n            if (this.referenceList.indexOf(options.element) === -1) {\n                Ext.Logger.error(\"Removing event listener with an invalid element reference of '\" + options.element +\n                    \"' for this component. Available values are: '\" + this.referenceList.join('\", \"') + \"'\", this);\n            }\n\n            // The default scope is this component\n            this[options.element].doRemoveListener(name, fn, scope || this, options, order);\n        }\n\n        return this.callParent(arguments);\n    },\n\n    /**\n     * Shows this component by another component. If you specify no alignment, it will automatically\n     * position this component relative to the reference component.\n     *\n     * For example, say we are aligning a Panel next to a Button, the alignment string would look like this:\n     *\n     *     [panel-vertical (t/b/c)][panel-horizontal (l/r/c)]-[button-vertical (t/b/c)][button-horizontal (l/r/c)]\n     *\n     * where t = top, b = bottom, c = center, l = left, r = right.\n     *\n     * ## Examples\n     *\n     *  - `tl-tr` means top-left corner of the Panel to the top-right corner of the Button\n     *  - `tc-bc` means top-center of the Panel to the bottom-center of the Button\n     *\n     * You can put a '?' at the end of the alignment string to constrain the floating element to the\n     * {@link Ext.Viewport Viewport}\n     *\n     *     // show `panel` by `button` using the default positioning (auto fit)\n     *     panel.showBy(button);\n     *\n     *     // align the top left corner of `panel` with the top right corner of `button` (constrained to viewport)\n     *     panel.showBy(button, \"tl-tr?\");\n     *\n     *     // align the bottom right corner of `panel` with the center left edge of `button` (not constrained by viewport)\n     *     panel.showBy(button, \"br-cl\");\n     *\n     * @param {Ext.Component} component The target component to show this component by\n     * @param {String} alignment (Optional) The specific alignment.\n     */\n    showBy: function(component, alignment) {\n        var args = Ext.Array.from(arguments);\n\n        var viewport = Ext.Viewport,\n            parent = this.getParent();\n\n        this.setVisibility(false);\n\n        if (parent !== viewport) {\n            viewport.add(this);\n        }\n\n        this.show();\n\n        this.on('erased', 'onShowByErased', this, { single: true });\n        viewport.on('resize', 'refreshShowBy', this, { args: [component, alignment] });\n\n        this.currentShowByArgs = args;\n\n        this.alignTo(component, alignment);\n        this.setVisibility(true);\n    },\n\n    refreshShowBy: function(component, alignment) {\n        this.alignTo(component, alignment);\n    },\n\n    /**\n     * @private\n     * @param component\n     */\n    onShowByErased: function() {\n        Ext.Viewport.un('resize', 'refreshShowBy', this);\n    },\n\n    /**\n     * @private\n     */\n    alignTo: function(component, alignment) {\n        var alignToElement = component.isComponent ? component.renderElement : component,\n            element = this.renderElement,\n            alignToBox = alignToElement.getPageBox(),\n            constrainBox = this.getParent().element.getPageBox(),\n            box = element.getPageBox(),\n            alignToHeight = alignToBox.height,\n            alignToWidth = alignToBox.width,\n            height = box.height,\n            width = box.width;\n\n        // Keep off the sides...\n        constrainBox.bottom -= 5;\n        constrainBox.height -= 10;\n        constrainBox.left += 5;\n        constrainBox.right -= 5;\n        constrainBox.top += 5;\n        constrainBox.width -= 10;\n\n        if (!alignment || alignment === 'auto') {\n            if (constrainBox.bottom - alignToBox.bottom < height) {\n                if (alignToBox.top - constrainBox.top < height) {\n                    if (alignToBox.left - constrainBox.left < width) {\n                        alignment = 'cl-cr?';\n                    }\n                    else {\n                        alignment = 'cr-cl?';\n                    }\n                }\n                else {\n                    alignment = 'bc-tc?';\n                }\n            }\n            else {\n                alignment = 'tc-bc?';\n            }\n        }\n\n        var matches = alignment.match(this.alignmentRegex);\n        if (!matches) {\n            Ext.Logger.error(\"Invalid alignment value of '\" + alignment + \"'\");\n        }\n\n        var from = matches[1].split(''),\n            to = matches[2].split(''),\n            constrained = (matches[3] === '?'),\n            fromVertical = from[0],\n            fromHorizontal = from[1] || fromVertical,\n            toVertical = to[0],\n            toHorizontal = to[1] || toVertical,\n            top = alignToBox.top,\n            left = alignToBox.left,\n            halfAlignHeight = alignToHeight / 2,\n            halfAlignWidth = alignToWidth / 2,\n            halfWidth = width / 2,\n            halfHeight = height / 2,\n            maxLeft, maxTop;\n\n        switch (fromVertical) {\n            case 't':\n                switch (toVertical) {\n                    case 'c':\n                        top += halfAlignHeight;\n                        break;\n                    case 'b':\n                        top += alignToHeight;\n                }\n                break;\n\n            case 'b':\n                switch (toVertical) {\n                    case 'c':\n                        top -= (height - halfAlignHeight);\n                        break;\n                    case 't':\n                        top -= height;\n                        break;\n                    case 'b':\n                        top -= height - alignToHeight;\n                }\n                break;\n\n            case 'c':\n                switch (toVertical) {\n                    case 't':\n                        top -= halfHeight;\n                        break;\n                    case 'c':\n                        top -= (halfHeight - halfAlignHeight);\n                        break;\n                    case 'b':\n                        top -= (halfHeight - alignToHeight);\n                }\n                break;\n        }\n\n        switch (fromHorizontal) {\n            case 'l':\n                switch (toHorizontal) {\n                    case 'c':\n                        left += halfAlignHeight;\n                        break;\n                    case 'r':\n                        left += alignToWidth;\n                }\n                break;\n\n            case 'r':\n                switch (toHorizontal) {\n                    case 'r':\n                        left -= (width - alignToWidth);\n                        break;\n                    case 'c':\n                        left -= (width - halfWidth);\n                        break;\n                    case 'l':\n                        left -= width;\n                }\n                break;\n\n            case 'c':\n                switch (toHorizontal) {\n                    case 'l':\n                        left -= halfWidth;\n                        break;\n                    case 'c':\n                        left -= (halfWidth - halfAlignWidth);\n                        break;\n                    case 'r':\n                        left -= (halfWidth - alignToWidth);\n                }\n                break;\n        }\n\n        if (constrained) {\n            maxLeft = (constrainBox.left + constrainBox.width) - width;\n            maxTop = (constrainBox.top + constrainBox.height) - height;\n\n            left = Math.max(constrainBox.left, Math.min(maxLeft, left));\n            top = Math.max(constrainBox.top, Math.min(maxTop, top));\n        }\n\n        this.setLeft(left);\n        this.setTop(top);\n    },\n\n    /**\n     * <p>Walks up the <code>ownerCt</code> axis looking for an ancestor Container which matches\n     * the passed simple selector.</p>\n     * <p>Example:<pre><code>\nvar owningTabPanel = grid.up('tabpanel');\n</code></pre>\n     * @param {String} selector Optional. The simple selector to test.\n     * @return {Ext.Container} The matching ancestor Container (or <code>undefined</code> if no match was found).\n     */\n    up: function(selector) {\n        var result = this.parent;\n\n        if (selector) {\n            for (; result; result = result.parent) {\n                if (Ext.ComponentQuery.is(result, selector)) {\n                    return result;\n                }\n            }\n        }\n        return result;\n    },\n\n    getBubbleTarget: function() {\n        return this.getParent();\n    },\n\n    /**\n     * Destroys this Component. If it is currently added to a Container it will first be removed from that Container.\n     * All Ext.Element references are also deleted and the Component is de-registered from Ext.ComponentManager\n     */\n    destroy: function() {\n        this.destroy = Ext.emptyFn;\n\n        var parent = this.getParent(),\n            referenceList = this.referenceList,\n            i, ln, reference;\n\n        Ext.destroy(this.getTranslatable(), this.getPlugins());\n\n        // Remove this component itself from the container if it's currently contained\n        if (parent) {\n            parent.remove(this, false);\n        }\n\n        // Destroy all element references\n        for (i = 0, ln = referenceList.length; i < ln; i++) {\n            reference = referenceList[i];\n            this[reference].destroy();\n            delete this[reference];\n        }\n\n        Ext.destroy(this.innerHtmlElement);\n        this.setRecord(null);\n\n        Ext.ComponentManager.unregister(this);\n\n        this.callParent();\n    }\n\n    // Convert old properties in data into a config object\n    ,onClassExtended: function(cls, data) {\n        var Component = this,\n            defaultConfig = Component.prototype.config,\n            config = data.config || {},\n            key;\n\n        for (key in defaultConfig) {\n            if (key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the Component. ' +\n                    'Please put it inside the config object, and retrieve it using \"this.config.' + key + '\"');\n            }\n        }\n\n        data.config = config;\n    }\n\n}, function() {\n    var emptyFn = Ext.emptyFn;\n\n    this.override({\n        constructor: function(config) {\n            var name;\n\n            if (config) {\n                if (config.enabled) {\n                    Ext.Logger.deprecate(\"'enabled' config is deprecated, please use 'disabled' config instead\", this);\n                    config.disabled = !config.enabled;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean/String/Object} scroll\n                 * This configuration has moved to {@link Ext.Container#scrollable Ext.Container}. You can no longer use it in a Ext.Component.\n                 * @removed 2.0.0 This method has been moved from {@link Ext.Component} to {@link Ext.Container#scrollable Ext.Container}\n                 */\n                if ((config.scroll || this.config.scroll || this.scrollable || this.config.scrollable) && !this.isContainer) {\n                    Ext.Logger.deprecate(\"You are no longer able to scroll a component. Please use a Ext.Container instead.\", this);\n                    delete config.scrollable;\n                    delete config.scroll;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} hideOnMaskTap\n                 * This configuration has moved to {@link Ext.Container#hideOnMaskTap Ext.Container}. You can no longer use it in a Ext.Component.\n                 * @removed 2.0.0 This method has been moved from {@link Ext.Component} to {@link Ext.Container#hideOnMaskTap Ext.Container}\n                 */\n                if ((config.hideOnMaskTap || this.config.hideOnMaskTap) && !this.isContainer) {\n                    Ext.Logger.deprecate(\"You are no longer able use hideOnMaskTap on a component. Please use a Ext.Container instead.\", this);\n                    delete config.hideOnMaskTap;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} modal\n                 * This configuration has moved to {@link Ext.Container#modal Ext.Container}. You can no longer use it in a Ext.Component.\n                 * @removed 2.0.0 This method has been moved from {@link Ext.Component} to {@link Ext.Container#modal Ext.Container}\n                 */\n                if ((config.modal || this.config.modal) && !this.isContainer) {\n                    Ext.Logger.deprecate(\"You are no longer able use modal on a component. Please use a Ext.Container instead.\", this);\n                    delete config.modal;\n                }\n\n                /**\n                 * @cfg {String} dock\n                 * The dock position of this component in its container. Can be 'left', 'top', 'right' or 'bottom'.\n                 *\n                 * <b>Notes</b>\n                 *\n                 * You must use a HTML5 doctype for {@link #docked} `bottom` to work. To do this, simply add the following code to the HTML file:\n                 *\n                 *     <!doctype html>\n                 *\n                 * So your index.html file should look a little like this:\n                 *\n                 *     <!doctype html>\n                 *     <html>\n                 *         <head>\n                 *             <title>MY application title</title>\n                 *             ...\n                 *\n                 * @deprecated 2.0.0 This has been deprecated. Please use {@link #docked} instead.\n                 */\n                if (config.dock) {\n                    Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");\n                    config.docked = config.dock;\n                    delete config.dock;\n                }\n\n                if (config.enterAnimation) {\n                    Ext.Logger.deprecate(\"'enterAnimation' config for Components is deprecated, please use 'showAnimation' instead\");\n                    config.showAnimation = config.enterAnimation;\n                    delete config.enterAnimation;\n                }\n\n                if (config.exitAnimation) {\n                    Ext.Logger.deprecate(\"'exitAnimation' config for Components is deprecated, please use 'hideAnimation' instead\");\n                    config.hideAnimation = config.exitAnimation;\n                    delete config.exitAnimation;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {String} componentCls CSS class to add to this Component. Deprecated, please use {@link #cls} instead\n                 * @deprecated 2.0.0\n                 */\n                if (config.componentCls) {\n                    Ext.Logger.deprecate(\"'componentCls' config is deprecated, please use 'cls' config instead\", this);\n                    config.cls = config.componentCls;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} floating Deprecated, please use {@link #left}, {@link #top}, {@link #right} or\n                 * {@link #bottom} instead.\n                 *\n                 *     Ext.Viewport.add({\n                 *         top: 100,\n                 *         left: 100,\n                 *         width: 500,\n                 *         height: 200,\n                 *         html: 'Floating component!'\n                 *     });\n                 *\n                 * @deprecated 2.0.0\n                 */\n                if (config.floating) {\n                    Ext.Logger.deprecate(\"'floating' config is deprecated, please set 'left', 'right', \" +\n                        \"'top' or 'bottom' config instead\", this);\n                    config.left = config.left || 0;\n                }\n\n                for (name in config) {\n                    if (config.hasOwnProperty(name) && name !== 'xtype' && name !== 'xclass' && !this.hasConfig(name)) {\n                        this[name] = config[name];\n                    }\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} layoutOnOrientationChange\n                 * True to automatically relayout this component on orientation change.\n                 * @removed 2.0.0\n                 */\n                if (config.layoutOnOrientationChange) {\n                    Ext.Logger.deprecate(\"'layoutOnOrientationChange' has been fully removed and no longer used\");\n                    delete config.layoutOnOrientationChange;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} monitorOrientation\n                 * True to monitor Orientation change.\n                 * @removed 2.0.0\n                 */\n                if (config.monitorOrientation) {\n                    Ext.Logger.deprecate(\"'monitorOrientation' has been removed. If you need to monitor the orientaiton, please use the 'resize' event.\");\n                    delete config.monitorOrientation;\n                }\n\n                /**\n                 * @member Ext.Component\n                 * @cfg {Boolean} stopMaskTapEvent\n                 * True to stop the event that fires when you click outside the floating component.\n                 * @removed 2.0.0\n                 */\n                if (config.stopMaskTapEvent) {\n                    Ext.Logger.deprecate(\"'stopMaskTapEvent' has been removed.\");\n                    delete config.stopMaskTapEvent;\n                }\n            }\n\n            this.callParent(arguments);\n\n            if (this.onRender !== emptyFn) {\n                Ext.Logger.deprecate(\"onRender() is deprecated, please put your code inside initialize() instead\", this);\n                this.onRender();\n            }\n\n            if (this.afterRender !== emptyFn) {\n                Ext.Logger.deprecate(\"afterRender() is deprecated, please put your code inside initialize() instead\", this);\n                this.afterRender();\n            }\n\n            if (this.initEvents !== emptyFn) {\n                Ext.Logger.deprecate(\"initEvents() is deprecated, please put your code inside initialize() instead\", this);\n                this.initEvents();\n            }\n\n            if (this.initComponent !== emptyFn) {\n                Ext.Logger.deprecate(\"initComponent() is deprecated, please put your code inside initialize() instead\", this);\n                this.initComponent();\n            }\n\n            if (this.setOrientation !== emptyFn) {\n                Ext.Logger.deprecate(\"setOrientation() is deprecated\", this);\n                this.setOrientation();\n            }\n        },\n\n        onRender: emptyFn,\n\n        afterRender: emptyFn,\n\n        initEvents: emptyFn,\n\n        initComponent: emptyFn,\n\n        setOrientation: emptyFn,\n\n        show: function() {\n            if (this.renderElement.dom) {\n                var containerDom = this.renderElement.dom.parentNode;\n\n                if (containerDom && containerDom.nodeType == 11) {\n                    Ext.Logger.deprecate(\"Call show() on a component that doesn't currently belong to any container. \" +\n                        \"Please add it to the the Viewport first, i.e: Ext.Viewport.add(component);\", this);\n                    Ext.Viewport.add(this);\n                }\n            }\n\n            return this.callParent(arguments);\n        },\n\n        doAddListener: function(name, fn, scope, options, order) {\n            switch(name) {\n                case 'render':\n                    Ext.Logger.warn(\"The render event on Components is deprecated. Please use the painted event. \" +\n                        \"Please refer to: http://bit.ly/xgv3K1 for more details.\", this);\n                    return this;\n                break;\n            }\n\n            return this.callParent(arguments);\n        },\n\n        addListener: function(options) {\n            if (arguments.length === 1 && Ext.isObject(options) && (('el' in options) || ('body' in options))) {\n                Ext.Logger.error(\"Adding component element listeners using the old format is no longer supported. \" +\n                    \"Please refer to: http://bit.ly/xHCyfa for more details.\", this);\n            }\n\n            return this.callParent(arguments);\n        },\n\n        /**\n         * Retrieves the top level element representing this component.\n         * @deprecated 2.0.0 Please access the Component's element from the 'element' property instead, i.e:\n         *\n         *      var element = component.element;\n         *\n         * @return {Ext.dom.Element}\n         */\n        getEl: function() {\n            Ext.Logger.deprecate(\"getEl() is deprecated, please access the Component's element from \" +\n                \"the 'element' property instead\", this);\n            return this.renderElement;\n        },\n\n        /**\n         * @member Ext.Component\n         * @method setFloating\n         * Used to update the floating state of this component.\n         * @param {Boolean} floating True if you want to float this component\n         * @deprecated 2.0.0 This has been deprecated. Please use {@link #setTop}, {@link #setRight}, {@link #setBottom} and {@link #setLeft} instead.\n         */\n        setFloating: function(floating) {\n            var isFloating = this.isFloating();\n            if (floating && !isFloating) {\n                this.setTop(0);\n            } else if (isFloating) {\n                this.resetFloating();\n            }\n        },\n\n        /**\n         * @member Ext.Component\n         * This method has moved to {@link Ext.Container#setScrollable Ext.Container}. You can no longer use it in a Ext.Component.\n         * @removed 2.0.0 This method has been moved from {@link Ext.Component} to {@link Ext.Container#setScrollable Ext.Container}\n         */\n        setScrollable: function() {\n            Ext.Logger.deprecate(\"Ext.Component cannot be scrollable. Please use Ext.Container#setScrollable on a Ext.Container.\", this);\n            return false;\n        }\n    });\n\n    /**\n     * @member Ext.Component\n     * @method update\n     * Updates the HTML content of the Component.\n     * @deprecated 2.0.0 Please use {@link #setHtml}, {@link #setTpl} or {@link #setData} instead.\n     */\n\n    Ext.deprecateClassMembers(this, {\n        el: 'element',\n        body: 'element',\n        outer: 'renderElement',\n        ownerCt: 'parent',\n        update: 'setHtml'\n    });\n});\n\n})(Ext.baseCSSPrefix);\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.ComponentDelegation', {\n    extend: 'Ext.event.publisher.Publisher',\n\n    requires: [\n        'Ext.Component',\n        'Ext.ComponentQuery'\n    ],\n\n    targetType: 'component',\n\n    optimizedSelectorRegex: /^#([\\w\\-]+)((?:[\\s]*)>(?:[\\s]*)|(?:\\s*))([\\w\\-]+)$/i,\n\n    handledEvents: ['*'],\n\n    getSubscribers: function(eventName, createIfNotExist) {\n        var subscribers = this.subscribers,\n            eventSubscribers = subscribers[eventName];\n\n        if (!eventSubscribers && createIfNotExist) {\n            eventSubscribers = subscribers[eventName] = {\n                type: {\n                    $length: 0\n                },\n                selector: [],\n                $length: 0\n            }\n        }\n\n        return eventSubscribers;\n    },\n\n    subscribe: function(target, eventName) {\n        // Ignore id-only selectors since they are already handled\n        if (this.idSelectorRegex.test(target)) {\n            return false;\n        }\n\n        var optimizedSelector = target.match(this.optimizedSelectorRegex),\n            subscribers = this.getSubscribers(eventName, true),\n            typeSubscribers = subscribers.type,\n            selectorSubscribers = subscribers.selector,\n            id, isDescendant, type, map, subMap;\n\n        if (optimizedSelector !== null) {\n            id = optimizedSelector[1];\n            isDescendant = optimizedSelector[2].indexOf('>') === -1;\n            type = optimizedSelector[3];\n\n            map = typeSubscribers[type];\n\n            if (!map) {\n                typeSubscribers[type] = map = {\n                    descendents: {\n                        $length: 0\n                    },\n                    children: {\n                        $length: 0\n                    },\n                    $length: 0\n                }\n            }\n\n            subMap = isDescendant ? map.descendents : map.children;\n\n            if (subMap.hasOwnProperty(id)) {\n                subMap[id]++;\n                return true;\n            }\n\n            subMap[id] = 1;\n            subMap.$length++;\n            map.$length++;\n            typeSubscribers.$length++;\n        }\n        else {\n            if (selectorSubscribers.hasOwnProperty(target)) {\n                selectorSubscribers[target]++;\n                return true;\n            }\n\n            selectorSubscribers[target] = 1;\n            selectorSubscribers.push(target);\n        }\n\n        subscribers.$length++;\n\n        return true;\n    },\n\n    unsubscribe: function(target, eventName, all) {\n        var subscribers = this.getSubscribers(eventName);\n\n        if (!subscribers) {\n            return false;\n        }\n\n        var match = target.match(this.optimizedSelectorRegex),\n            typeSubscribers = subscribers.type,\n            selectorSubscribers = subscribers.selector,\n            id, isDescendant, type, map, subMap;\n\n        all = Boolean(all);\n\n        if (match !== null) {\n            id = match[1];\n            isDescendant = match[2].indexOf('>') === -1;\n            type = match[3];\n\n            map = typeSubscribers[type];\n\n            if (!map) {\n                return true;\n            }\n\n            subMap = isDescendant ? map.descendents : map.children;\n\n            if (!subMap.hasOwnProperty(id) || (!all && --subMap[id] > 0)) {\n                return true;\n            }\n\n            delete subMap[id];\n            subMap.$length--;\n            map.$length--;\n            typeSubscribers.$length--;\n        }\n        else {\n            if (!selectorSubscribers.hasOwnProperty(target) || (!all && --selectorSubscribers[target] > 0)) {\n                return true;\n            }\n\n            delete selectorSubscribers[target];\n            Ext.Array.remove(selectorSubscribers, target);\n        }\n\n        if (--subscribers.$length === 0) {\n            delete this.subscribers[eventName];\n        }\n\n        return true;\n    },\n\n    notify: function(target, eventName) {\n        var subscribers = this.getSubscribers(eventName),\n            id, component;\n\n        if (!subscribers || subscribers.$length === 0) {\n            return false;\n        }\n\n        id = target.substr(1);\n        component = Ext.ComponentManager.get(id);\n\n        if (component) {\n            this.dispatcher.doAddListener(this.targetType, target, eventName, 'publish', this, {\n                args: [eventName, component]\n            }, 'before');\n        }\n    },\n\n    matchesSelector: function(component, selector) {\n        return Ext.ComponentQuery.is(component, selector);\n    },\n\n    dispatch: function(target, eventName, args, connectedController) {\n        this.dispatcher.doDispatchEvent(this.targetType, target, eventName, args, null, connectedController);\n    },\n\n    publish: function(eventName, component) {\n        var subscribers = this.getSubscribers(eventName);\n\n        if (!subscribers) {\n            return;\n        }\n\n        var eventController = arguments[arguments.length - 1],\n            typeSubscribers = subscribers.type,\n            selectorSubscribers = subscribers.selector,\n            args = Array.prototype.slice.call(arguments, 2, -2),\n            types = component.xtypesChain,\n            descendentsSubscribers, childrenSubscribers,\n            parentId, ancestorIds, ancestorId, parentComponent,\n            selector,\n            i, ln, type, j, subLn;\n\n        for (i = 0, ln = types.length; i < ln; i++) {\n            type = types[i];\n\n            subscribers = typeSubscribers[type];\n\n            if (subscribers && subscribers.$length > 0) {\n                descendentsSubscribers = subscribers.descendents;\n\n                if (descendentsSubscribers.$length > 0) {\n                    if (!ancestorIds) {\n                        ancestorIds = component.getAncestorIds();\n                    }\n\n                    for (j = 0, subLn = ancestorIds.length; j < subLn; j++) {\n                        ancestorId = ancestorIds[j];\n\n                        if (descendentsSubscribers.hasOwnProperty(ancestorId)) {\n                            this.dispatch('#' + ancestorId + ' ' + type, eventName, args, eventController);\n                        }\n\n                    }\n                }\n\n                childrenSubscribers = subscribers.children;\n\n                if (childrenSubscribers.$length > 0) {\n                    if (!parentId) {\n                        if (ancestorIds) {\n                            parentId = ancestorIds[0];\n                        }\n                        else {\n                            parentComponent = component.getParent();\n                            if (parentComponent) {\n                                parentId = parentComponent.getId();\n                            }\n                        }\n                    }\n\n                    if (parentId) {\n                        if (childrenSubscribers.hasOwnProperty(parentId)) {\n                            this.dispatch('#' + parentId + ' > ' + type, eventName, args, eventController);\n                        }\n                    }\n                }\n            }\n        }\n\n        ln = selectorSubscribers.length;\n\n        if (ln > 0) {\n            for (i = 0; i < ln; i++) {\n                selector = selectorSubscribers[i];\n\n                if (this.matchesSelector(component, selector)) {\n                    this.dispatch(selector, eventName, args, eventController);\n                }\n            }\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.ComponentPaint', {\n\n    extend: 'Ext.event.publisher.Publisher',\n\n    targetType: 'component',\n\n    handledEvents: ['painted', 'erased'],\n\n    eventNames: {\n        painted: 'painted',\n        erased: 'erased'\n    },\n\n    constructor: function() {\n        this.callParent(arguments);\n\n        this.hiddenQueue = {};\n        this.renderedQueue = {};\n    },\n\n    getSubscribers: function(eventName, createIfNotExist) {\n        var subscribers = this.subscribers;\n\n        if (!subscribers.hasOwnProperty(eventName)) {\n            if (!createIfNotExist) {\n                return null;\n            }\n\n            subscribers[eventName] = {\n                $length: 0\n            };\n        }\n\n        return subscribers[eventName];\n    },\n\n    setDispatcher: function(dispatcher) {\n        var targetType = this.targetType;\n\n        dispatcher.doAddListener(targetType, '*', 'renderedchange', 'onBeforeComponentRenderedChange', this, null, 'before');\n        dispatcher.doAddListener(targetType, '*', 'hiddenchange', 'onBeforeComponentHiddenChange', this, null, 'before');\n        dispatcher.doAddListener(targetType, '*', 'renderedchange', 'onComponentRenderedChange', this, null, 'after');\n        dispatcher.doAddListener(targetType, '*', 'hiddenchange', 'onComponentHiddenChange', this, null, 'after');\n\n        return this.callParent(arguments);\n    },\n\n    subscribe: function(target, eventName) {\n        var match = target.match(this.idSelectorRegex),\n            subscribers,\n            id;\n\n        if (!match) {\n            return false;\n        }\n\n        id = match[1];\n\n        subscribers = this.getSubscribers(eventName, true);\n\n        if (subscribers.hasOwnProperty(id)) {\n            subscribers[id]++;\n            return true;\n        }\n\n        subscribers[id] = 1;\n        subscribers.$length++;\n\n        return true;\n    },\n\n    unsubscribe: function(target, eventName, all) {\n        var match = target.match(this.idSelectorRegex),\n            subscribers,\n            id;\n\n        if (!match || !(subscribers = this.getSubscribers(eventName))) {\n            return false;\n        }\n\n        id = match[1];\n\n        if (!subscribers.hasOwnProperty(id) || (!all && --subscribers[id] > 0)) {\n            return true;\n        }\n\n        delete subscribers[id];\n\n        if (--subscribers.$length === 0) {\n            delete this.subscribers[eventName];\n        }\n\n        return true;\n    },\n\n    onBeforeComponentRenderedChange: function(container, component, rendered) {\n        var eventNames = this.eventNames,\n            eventName = rendered ? eventNames.painted : eventNames.erased,\n            subscribers = this.getSubscribers(eventName),\n            queue;\n\n        if (subscribers && subscribers.$length > 0) {\n            this.renderedQueue[component.getId()] = queue = [];\n            this.publish(subscribers, component, eventName, queue);\n        }\n    },\n\n    onBeforeComponentHiddenChange: function(component, hidden) {\n        var eventNames = this.eventNames,\n            eventName = hidden ? eventNames.erased : eventNames.painted,\n            subscribers = this.getSubscribers(eventName),\n            queue;\n\n        if (subscribers && subscribers.$length > 0) {\n            this.hiddenQueue[component.getId()] = queue = [];\n            this.publish(subscribers, component, eventName, queue);\n        }\n    },\n\n    onComponentRenderedChange: function(container, component) {\n        var renderedQueue = this.renderedQueue,\n            id = component.getId(),\n            queue;\n\n        if (!renderedQueue.hasOwnProperty(id)) {\n            return;\n        }\n\n        queue = renderedQueue[id];\n        delete renderedQueue[id];\n\n        if (queue.length > 0) {\n            this.dispatchQueue(queue);\n        }\n    },\n\n    onComponentHiddenChange: function(component) {\n        var hiddenQueue = this.hiddenQueue,\n            id = component.getId(),\n            queue;\n\n        if (!hiddenQueue.hasOwnProperty(id)) {\n            return;\n        }\n\n        queue = hiddenQueue[id];\n        delete hiddenQueue[id];\n\n        if (queue.length > 0) {\n            this.dispatchQueue(queue);\n        }\n    },\n\n    dispatchQueue: function(dispatchingQueue) {\n        var dispatcher = this.dispatcher,\n            targetType = this.targetType,\n            eventNames = this.eventNames,\n            queue = dispatchingQueue.slice(),\n            ln = queue.length,\n            i, item, component, eventName, isPainted;\n\n        dispatchingQueue.length = 0;\n\n        if (ln > 0) {\n            for (i = 0; i < ln; i++) {\n                item = queue[i];\n                component = item.component;\n                eventName = item.eventName;\n                isPainted = component.isPainted();\n\n                if ((eventName === eventNames.painted && isPainted) || eventName === eventNames.erased && !isPainted) {\n                    dispatcher.doDispatchEvent(targetType, '#' + item.id, eventName, [component]);\n                }\n            }\n            queue.length = 0;\n        }\n\n    },\n\n    publish: function(subscribers, component, eventName, dispatchingQueue) {\n        var id = component.getId(),\n            needsDispatching = false,\n            eventNames, items, i, ln, isPainted;\n\n        if (subscribers[id]) {\n            eventNames = this.eventNames;\n\n            isPainted = component.isPainted();\n\n            if ((eventName === eventNames.painted && !isPainted) || eventName === eventNames.erased && isPainted) {\n                needsDispatching = true;\n            }\n            else {\n                return this;\n            }\n        }\n\n        if (component.isContainer) {\n            items = component.getItems().items;\n\n            for (i = 0,ln = items.length; i < ln; i++) {\n                this.publish(subscribers, items[i], eventName, dispatchingQueue);\n            }\n        }\n        else if (component.isDecorator) {\n            this.publish(subscribers, component.getComponent(), eventName, dispatchingQueue);\n        }\n\n        if (needsDispatching) {\n            dispatchingQueue.push({\n                id: id,\n                eventName: eventName,\n                component: component\n            });\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.event.publisher.ComponentSize', {\n\n    extend: 'Ext.event.publisher.Publisher',\n\n    requires: [\n        'Ext.ComponentManager',\n        'Ext.util.SizeMonitor'\n    ],\n\n    targetType: 'component',\n\n    handledEvents: ['resize'],\n\n    constructor: function() {\n        this.callParent(arguments);\n\n        this.sizeMonitors = {};\n    },\n\n    subscribe: function(target) {\n        var match = target.match(this.idSelectorRegex),\n            subscribers = this.subscribers,\n            sizeMonitors = this.sizeMonitors,\n            dispatcher = this.dispatcher,\n            targetType = this.targetType,\n            component;\n\n        if (!match) {\n            return false;\n        }\n\n        if (!subscribers.hasOwnProperty(target)) {\n            subscribers[target] = 0;\n\n            dispatcher.addListener(targetType, target, 'painted', 'onComponentPainted', this, null, 'before');\n\n            component = Ext.ComponentManager.get(match[1]);\n\n            if (!component) {\n                Ext.Logger.error(\"Adding a listener to the 'resize' event of a non-existing component\");\n            }\n\n            sizeMonitors[target] = new Ext.util.SizeMonitor({\n                element: component.element,\n                callback: this.onComponentSizeChange,\n                scope: this,\n                args: [this, target]\n            });\n        }\n\n        subscribers[target]++;\n        return true;\n    },\n\n    unsubscribe: function(target, eventName, all) {\n        var match = target.match(this.idSelectorRegex),\n            subscribers = this.subscribers,\n            dispatcher = this.dispatcher,\n            targetType = this.targetType,\n            sizeMonitors = this.sizeMonitors;\n\n        if (!match) {\n            return false;\n        }\n\n        if (!subscribers.hasOwnProperty(target) || (!all && --subscribers[target] > 0)) {\n            return true;\n        }\n\n        sizeMonitors[target].destroy();\n        delete sizeMonitors[target];\n\n        dispatcher.removeListener(targetType, target, 'painted', 'onComponentPainted', this, 'before');\n\n        delete subscribers[target];\n        return true;\n    },\n\n    onComponentPainted: function(component) {\n        var observableId = component.getObservableId(),\n            sizeMonitor = this.sizeMonitors[observableId];\n\n        sizeMonitor.refresh();\n    },\n\n    onComponentSizeChange: function(component, observableId) {\n        this.dispatcher.doDispatchEvent(this.targetType, observableId, 'resize', [component]);\n    }\n});\n\nExt.define('Ext.log.Base', {\n    config: {},\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        return this;\n    }\n});\n\n/**\n * @class Ext.Logger\n * Logs messages to help with debugging.\n *\n * ## Example\n *\n *     Ext.Logger.deprecate('This method is no longer supported.');\n *\n * @singleton\n */\n(function() {\nvar Logger = Ext.define('Ext.log.Logger', {\n\n    extend: 'Ext.log.Base',\n\n    statics: {\n        defaultPriority: 'info',\n\n        priorities: {\n            /**\n             * @method verbose\n             * Convenience method for {@link #log} with priority 'verbose'\n             */\n            verbose:    0,\n            /**\n             * @method info\n             * Convenience method for {@link #log} with priority 'info'\n             */\n            info:       1,\n            /**\n             * @method deprecate\n             * Convenience method for {@link #log} with priority 'deprecate'\n             */\n            deprecate:  2,\n            /**\n             * @method warn\n             * Convenience method for {@link #log} with priority 'warn'\n             */\n            warn:       3,\n            /**\n             * @method error\n             * Convenience method for {@link #log} with priority 'error'\n             */\n            error:      4\n        }\n    },\n\n    config: {\n        enabled: true,\n        minPriority: 'deprecate',\n        writers: {}\n    },\n\n    /**\n     * Logs a message to help with debugging\n     * @param  {String} message  Message to log\n     * @param  {Number} priority Priority of the log message\n     */\n    log: function(message, priority, callerId) {\n        if (!this.getEnabled()) {\n            return this;\n        }\n\n        var statics = Logger,\n            priorities = statics.priorities,\n            priorityValue = priorities[priority],\n            caller = this.log.caller,\n            callerDisplayName = '',\n            writers = this.getWriters(),\n            event, i, originalCaller;\n\n        if (!priority) {\n            priority = 'info';\n        }\n\n        if (priorities[this.getMinPriority()] > priorityValue) {\n            return this;\n        }\n\n        if (!callerId) {\n            callerId = 1;\n        }\n\n        if (Ext.isArray(message)) {\n            message = message.join(\" \");\n        }\n        else {\n            message = String(message);\n        }\n\n        if (typeof callerId == 'number') {\n            i = callerId;\n\n            do {\n                i--;\n\n                caller = caller.caller;\n\n                if (!caller) {\n                    break;\n                }\n\n                if (!originalCaller) {\n                    originalCaller = caller.caller;\n                }\n\n                if (i <= 0 && caller.displayName) {\n                    break;\n                }\n            }\n            while (caller !== originalCaller);\n\n            callerDisplayName = Ext.getDisplayName(caller);\n        }\n        else {\n            caller = caller.caller;\n            callerDisplayName = Ext.getDisplayName(callerId) + '#' + caller.$name;\n        }\n\n        event = {\n            time: Ext.Date.now(),\n            priority: priorityValue,\n            priorityName: priority,\n            message: message,\n            caller: caller,\n            callerDisplayName: callerDisplayName\n        };\n\n        for (i in writers) {\n            if (writers.hasOwnProperty(i)) {\n                writers[i].write(Ext.merge({}, event));\n            }\n        }\n\n        return this;\n    }\n\n}, function() {\n    Ext.Object.each(this.priorities, function(priority) {\n        this.override(priority, function(message, callerId) {\n            if (!callerId) {\n                callerId = 1;\n            }\n\n            if (typeof callerId == 'number') {\n                callerId += 1;\n            }\n\n            this.log(message, priority, callerId);\n        });\n    }, this);\n});\n\n})();\n\nExt.define('Ext.log.formatter.Formatter', {\n    extend: 'Ext.log.Base',\n\n    config: {\n        messageFormat: \"{message}\"\n    },\n\n    format: function(event) {\n        return this.substitute(this.getMessageFormat(), event);\n    },\n\n    substitute: function(template, data) {\n        var name, value;\n\n        for (name in data) {\n            if (data.hasOwnProperty(name)) {\n                value = data[name];\n\n                template = template.replace(new RegExp(\"\\\\{\" + name + \"\\\\}\", \"g\"), value);\n            }\n        }\n\n        return template;\n    }\n});\n\nExt.define('Ext.log.writer.Writer', {\n    extend: 'Ext.log.Base',\n\n    requires: ['Ext.log.formatter.Formatter'],\n\n    config: {\n        formatter: null,\n        filters: {}\n    },\n\n    constructor: function() {\n        this.activeFilters = [];\n\n        return this.callParent(arguments);\n    },\n\n    updateFilters: function(filters) {\n        var activeFilters = this.activeFilters,\n            i, filter;\n\n        activeFilters.length = 0;\n\n        for (i in filters) {\n            if (filters.hasOwnProperty(i)) {\n                filter = filters[i];\n                activeFilters.push(filter);\n            }\n        }\n    },\n\n    write: function(event) {\n        var filters = this.activeFilters,\n            formatter = this.getFormatter(),\n            i, ln, filter;\n\n        for (i = 0,ln = filters.length; i < ln; i++) {\n            filter = filters[i];\n\n            if (!filters[i].accept(event)) {\n                return this;\n            }\n        }\n\n        if (formatter) {\n            event.message = formatter.format(event);\n        }\n\n        this.doWrite(event);\n\n        return this;\n    },\n\n    // @private\n    doWrite: Ext.emptyFn\n});\n\nExt.define('Ext.log.writer.Console', {\n\n    extend: 'Ext.log.writer.Writer',\n\n    config: {\n        throwOnErrors: true,\n        throwOnWarnings: false\n    },\n\n    doWrite: function(event) {\n        var message = event.message,\n            priority = event.priorityName,\n            consoleMethod;\n\n        if (priority === 'error' && this.getThrowOnErrors()) {\n            throw new Error(message);\n        }\n\n        if (typeof console !== 'undefined') {\n            consoleMethod = priority;\n\n            if (consoleMethod === 'deprecate') {\n                consoleMethod = 'warn';\n            }\n\n            if (consoleMethod === 'warn' && this.getThrowOnWarnings()) {\n                throw new Error(message);\n            }\n\n            if (!(consoleMethod in console)) {\n                consoleMethod = 'log';\n            }\n\n            console[consoleMethod](message);\n        }\n    }\n});\n\nExt.define('Ext.log.formatter.Default', {\n    extend: 'Ext.log.formatter.Formatter',\n\n    config: {\n        messageFormat: \"[{priorityName}][{callerDisplayName}] {message}\"\n    },\n\n    format: function(event) {\n        var event = Ext.merge({}, event, {\n                priorityName: event.priorityName.toUpperCase()\n            });\n\n        return this.callParent([event]);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.State', {\n\n    isAnimatable: {\n        'background-color'   : true,\n        'background-image'   : true,\n        'background-position': true,\n        'border-bottom-color': true,\n        'border-bottom-width': true,\n        'border-color'       : true,\n        'border-left-color'  : true,\n        'border-left-width'  : true,\n        'border-right-color' : true,\n        'border-right-width' : true,\n        'border-spacing'     : true,\n        'border-top-color'   : true,\n        'border-top-width'   : true,\n        'border-width'       : true,\n        'bottom'             : true,\n        'color'              : true,\n        'crop'               : true,\n        'font-size'          : true,\n        'font-weight'        : true,\n        'height'             : true,\n        'left'               : true,\n        'letter-spacing'     : true,\n        'line-height'        : true,\n        'margin-bottom'      : true,\n        'margin-left'        : true,\n        'margin-right'       : true,\n        'margin-top'         : true,\n        'max-height'         : true,\n        'max-width'          : true,\n        'min-height'         : true,\n        'min-width'          : true,\n        'opacity'            : true,\n        'outline-color'      : true,\n        'outline-offset'     : true,\n        'outline-width'      : true,\n        'padding-bottom'     : true,\n        'padding-left'       : true,\n        'padding-right'      : true,\n        'padding-top'        : true,\n        'right'              : true,\n        'text-indent'        : true,\n        'text-shadow'        : true,\n        'top'                : true,\n        'vertical-align'     : true,\n        'visibility'         : true,\n        'width'              : true,\n        'word-spacing'       : true,\n        'z-index'            : true,\n        'zoom'               : true,\n        'transform'          : true\n    },\n\n    constructor: function(data) {\n        this.data = {};\n\n        this.set(data);\n    },\n\n    setConfig: function(data) {\n        this.set(data);\n\n        return this;\n    },\n\n    setRaw: function(data) {\n        this.data = data;\n\n        return this;\n    },\n\n    clear: function() {\n        return this.setRaw({});\n    },\n\n    setTransform: function(name, value) {\n        var data = this.data,\n            isArray = Ext.isArray(value),\n            transform = data.transform,\n            ln, key;\n\n        if (!transform) {\n            transform = data.transform = {\n                translateX: 0,\n                translateY: 0,\n                translateZ: 0,\n                scaleX: 1,\n                scaleY: 1,\n                scaleZ: 1,\n                rotate: 0,\n                rotateX: 0,\n                rotateY: 0,\n                rotateZ: 0,\n                skewX: 0,\n                skewY: 0\n            };\n        }\n\n        if (typeof name == 'string') {\n            switch (name) {\n                case 'translate':\n                    if (isArray) {\n                        ln = value.length;\n\n                        if (ln == 0) { break; }\n\n                        transform.translateX = value[0];\n\n                        if (ln == 1) { break; }\n\n                        transform.translateY = value[1];\n\n                        if (ln == 2) { break; }\n\n                        transform.translateZ = value[2];\n                    }\n                    else {\n                        transform.translateX = value;\n                    }\n                    break;\n\n                case 'rotate':\n                    if (isArray) {\n                        ln = value.length;\n\n                        if (ln == 0) { break; }\n\n                        transform.rotateX = value[0];\n\n                        if (ln == 1) { break; }\n\n                        transform.rotateY = value[1];\n\n                        if (ln == 2) { break; }\n\n                        transform.rotateZ = value[2];\n                    }\n                    else {\n                        transform.rotate = value;\n                    }\n                    break;\n\n\n                case 'scale':\n                    if (isArray) {\n                        ln = value.length;\n\n                        if (ln == 0) { break; }\n\n                        transform.scaleX = value[0];\n\n                        if (ln == 1) { break; }\n\n                        transform.scaleY = value[1];\n\n                        if (ln == 2) { break; }\n\n                        transform.scaleZ = value[2];\n                    }\n                    else {\n                        transform.scaleX = value;\n                        transform.scaleY = value;\n                    }\n                    break;\n\n                case 'skew':\n                    if (isArray) {\n                        ln = value.length;\n\n                        if (ln == 0) { break; }\n\n                        transform.skewX = value[0];\n\n                        if (ln == 1) { break; }\n\n                        transform.skewY = value[1];\n                    }\n                    else {\n                        transform.skewX = value;\n                    }\n                    break;\n\n                default:\n                    transform[name] = value;\n            }\n        }\n        else {\n            for (key in name) {\n                if (name.hasOwnProperty(key)) {\n                    value = name[key];\n\n                    this.setTransform(key, value);\n                }\n            }\n        }\n    },\n\n    set: function(name, value) {\n        var data = this.data,\n            key;\n\n        if (typeof name != 'string') {\n            for (key in name) {\n                value = name[key];\n\n                if (key === 'transform') {\n                    this.setTransform(value);\n                }\n                else {\n                    data[key] = value;\n                }\n            }\n        }\n        else {\n            if (name === 'transform') {\n                this.setTransform(value);\n            }\n            else {\n                data[name] = value;\n            }\n        }\n\n        return this;\n    },\n\n    unset: function(name) {\n        var data = this.data;\n\n        if (data.hasOwnProperty(name)) {\n            delete data[name];\n        }\n\n        return this;\n    },\n\n    getData: function() {\n        return this.data;\n    }\n});\n\n\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.Abstract', {\n\n    extend: 'Ext.Evented',\n\n    isAnimation: true,\n\n    requires: [\n        'Ext.fx.State'\n    ],\n\n    config: {\n        name: '',\n\n        element: null,\n\n        /**\n         * @cfg\n         * Before configuration.\n         */\n        before: null,\n\n        from: {},\n\n        to: {},\n\n        after: null,\n\n        states: {},\n\n        duration:  300,\n\n        /**\n         * @cfg\n         * Easing type.\n         */\n        easing: 'linear',\n\n        iteration: 1,\n\n        direction: 'normal',\n\n        delay: 0,\n\n        onBeforeStart: null,\n\n        onEnd: null,\n\n        onBeforeEnd: null,\n\n        scope: null,\n\n        reverse: null,\n\n        preserveEndState: false,\n\n        replacePrevious: true\n    },\n\n    STATE_FROM: '0%',\n\n    STATE_TO: '100%',\n\n    DIRECTION_UP: 'up',\n\n    DIRECTION_DOWN: 'down',\n\n    DIRECTION_LEFT: 'left',\n\n    DIRECTION_RIGHT: 'right',\n\n    stateNameRegex: /^(?:[\\d\\.]+)%$/,\n\n    constructor: function() {\n        this.states = {};\n\n        this.callParent(arguments);\n\n        return this;\n    },\n\n    applyElement: function(element) {\n        return Ext.get(element);\n    },\n\n    applyBefore: function(before, current) {\n        if (before) {\n            return Ext.factory(before, Ext.fx.State, current);\n        }\n    },\n\n    applyAfter: function(after, current) {\n        if (after) {\n            return Ext.factory(after, Ext.fx.State, current);\n        }\n    },\n\n    setFrom: function(from) {\n        return this.setState(this.STATE_FROM, from);\n    },\n\n    setTo: function(to) {\n        return this.setState(this.STATE_TO, to);\n    },\n\n    getFrom: function() {\n        return this.getState(this.STATE_FROM);\n    },\n\n    getTo: function() {\n        return this.getState(this.STATE_TO);\n    },\n\n    setStates: function(states) {\n        var validNameRegex = this.stateNameRegex,\n            name;\n\n        for (name in states) {\n            if (validNameRegex.test(name)) {\n                this.setState(name, states[name]);\n            }\n        }\n\n        return this;\n    },\n\n    getStates: function() {\n        return this.states;\n    },\n\n    stop: function() {\n        this.fireEvent('stop', this);\n    },\n\n    destroy: function() {\n        this.stop();\n        this.callParent();\n    },\n\n    setState: function(name, state) {\n        var states = this.getStates(),\n            stateInstance;\n\n        stateInstance = Ext.factory(state, Ext.fx.State, states[name]);\n\n        if (stateInstance) {\n            states[name] = stateInstance;\n        }\n        else if (name === this.STATE_TO) {\n            Ext.Logger.error(\"Setting and invalid '100%' / 'to' state of: \" + state);\n        }\n\n        return this;\n    },\n\n    getState: function(name) {\n        return this.getStates()[name];\n    },\n\n    getData: function() {\n        var states = this.getStates(),\n            statesData = {},\n            before = this.getBefore(),\n            after = this.getAfter(),\n            from = states[this.STATE_FROM],\n            to = states[this.STATE_TO],\n            fromData = from.getData(),\n            toData = to.getData(),\n            data, name, state;\n\n        for (name in states) {\n            if (states.hasOwnProperty(name)) {\n                state = states[name];\n                data = state.getData();\n                statesData[name] = data;\n            }\n        }\n\n        if (Ext.os.is.Android2) {\n            statesData['0.0001%'] = fromData;\n        }\n\n        return {\n            before: before ? before.getData() : {},\n            after: after ? after.getData() : {},\n            states: statesData,\n            from: fromData,\n            to: toData,\n            duration: this.getDuration(),\n            iteration: this.getIteration(),\n            direction: this.getDirection(),\n            easing: this.getEasing(),\n            delay: this.getDelay(),\n            onEnd: this.getOnEnd(),\n            onBeforeEnd: this.getOnBeforeEnd(),\n            onBeforeStart: this.getOnBeforeStart(),\n            scope: this.getScope(),\n            preserveEndState: this.getPreserveEndState(),\n            replacePrevious: this.getReplacePrevious()\n        };\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.Slide', {\n\n    extend: 'Ext.fx.animation.Abstract',\n\n    alternateClassName: 'Ext.fx.animation.SlideIn',\n\n    alias: ['animation.slide', 'animation.slideIn'],\n\n    config: {\n        /**\n         * @cfg {String} direction The direction of which the slide animates\n         * @accessor\n         */\n        direction: 'left',\n\n        /**\n         * @cfg {Boolean} out True if you want to make this animation slide out, instead of slide in.\n         * @accessor\n         */\n        out: false,\n\n        /**\n         * @cfg {Number} offset The offset that the animation should go offscreen before entering (or when exiting)\n         * @accessor\n         */\n        offset: 0,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        easing: 'auto',\n\n        containerBox: 'auto',\n\n        elementBox: 'auto',\n\n        isElementBoxFit: true,\n\n        useCssTransform: true\n    },\n\n    reverseDirectionMap: {\n        up: 'down',\n        down: 'up',\n        left: 'right',\n        right: 'left'\n    },\n\n    applyEasing: function(easing) {\n        if (easing === 'auto') {\n            return 'ease-' + ((this.getOut()) ? 'in' : 'out');\n        }\n\n        return easing;\n    },\n\n    getContainerBox: function() {\n        var box = this._containerBox;\n\n        if (box === 'auto') {\n            box = this.getElement().getParent().getPageBox();\n        }\n\n        return box;\n    },\n\n    getElementBox: function() {\n        var box = this._elementBox;\n\n        if (this.getIsElementBoxFit()) {\n            return this.getContainerBox();\n        }\n\n        if (box === 'auto') {\n            box = this.getElement().getPageBox();\n        }\n\n        return box;\n    },\n\n    getData: function() {\n        var elementBox = this.getElementBox(),\n            containerBox = this.getContainerBox(),\n            box = elementBox ? elementBox : containerBox,\n            from = this.getFrom(),\n            to = this.getTo(),\n            out = this.getOut(),\n            offset = this.getOffset(),\n            direction = this.getDirection(),\n            useCssTransform = this.getUseCssTransform(),\n            reverse = this.getReverse(),\n            translateX = 0,\n            translateY = 0,\n            fromX, fromY, toX, toY;\n\n        if (reverse) {\n            direction = this.reverseDirectionMap[direction];\n        }\n\n        switch (direction) {\n            case this.DIRECTION_UP:\n                if (out) {\n                    translateY = containerBox.top - box.top - box.height - offset;\n                }\n                else {\n                    translateY = containerBox.bottom - box.bottom + box.height + offset;\n                }\n\n                break;\n\n            case this.DIRECTION_DOWN:\n                if (out) {\n                    translateY = containerBox.bottom - box.bottom + box.height + offset;\n                }\n                else {\n                    translateY = containerBox.top - box.height - box.top - offset;\n                }\n\n                break;\n\n            case this.DIRECTION_RIGHT:\n                if (out) {\n                    translateX = containerBox.right - box.right + box.width + offset;\n                }\n                else {\n                    translateX = containerBox.left - box.left - box.width - offset;\n                }\n\n                break;\n\n            case this.DIRECTION_LEFT:\n                if (out) {\n                    translateX = containerBox.left - box.left - box.width - offset;\n                }\n                else {\n                    translateX = containerBox.right - box.right + box.width + offset;\n                }\n\n                break;\n        }\n\n        fromX = (out) ? 0 : translateX;\n        fromY = (out) ? 0 : translateY;\n\n        if (useCssTransform) {\n            from.setTransform({\n                translateX: fromX,\n                translateY: fromY\n            });\n        }\n        else {\n            from.set('left', fromX);\n            from.set('top', fromY);\n        }\n\n        toX = (out) ? translateX : 0;\n        toY = (out) ? translateY : 0;\n\n        if (useCssTransform) {\n            to.setTransform({\n                translateX: toX,\n                translateY: toY\n            });\n        }\n        else {\n            to.set('left', toX);\n            to.set('top', toY);\n        }\n\n        return this.callParent(arguments);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.SlideOut', {\n    extend: 'Ext.fx.animation.Slide',\n    alias: ['animation.slideOut'],\n\n    config: {\n        // @hide\n        out: true\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.Fade', {\n    extend: 'Ext.fx.animation.Abstract',\n\n    alternateClassName: 'Ext.fx.animation.FadeIn',\n\n    alias: ['animation.fade', 'animation.fadeIn'],\n\n    config: {\n        /**\n         * @cfg {Boolean} out True if you want to make this animation fade out, instead of fade in.\n         * @accessor\n         */\n\n        out: false,\n\n        before: {\n            display: null,\n            opacity: 0\n        },\n\n        after: {\n            opacity: null\n        },\n        reverse: null\n    },\n\n    updateOut: function(newOut) {\n        var to   = this.getTo(),\n            from = this.getFrom();\n\n        if (newOut) {\n            from.set('opacity', 1);\n            to.set('opacity',   0);\n        } else {\n            from.set('opacity', 0);\n            to.set('opacity',   1);\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.FadeOut', {\n    extend: 'Ext.fx.animation.Fade',\n    alias: 'animation.fadeOut',\n\n    config: {\n        // @hide\n        out: true,\n\n        before: {}\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.Flip', {\n    extend: 'Ext.fx.animation.Abstract',\n\n    alias: 'animation.flip',\n\n    config: {\n        easing: 'ease-in',\n\n        /**\n         * @cfg {String} direction The direction of which the slide animates\n         * @accessor\n         */\n        direction: 'right',\n\n        half: false,\n\n        out: null\n    },\n\n    getData: function() {\n        var from = this.getFrom(),\n            to = this.getTo(),\n            direction = this.getDirection(),\n            out = this.getOut(),\n            half = this.getHalf(),\n            rotate = (half) ? 90 : 180,\n            fromScale = 1,\n            toScale = 1,\n            fromRotateX = 0,\n            fromRotateY = 0,\n            toRotateX = 0,\n            toRotateY = 0;\n\n\n        if (out) {\n            toScale = 0.8;\n        }\n        else {\n            fromScale = 0.8;\n        }\n\n        switch (direction) {\n            case this.DIRECTION_UP:\n                if (out) {\n                    toRotateX = rotate;\n                }\n                else {\n                    fromRotateX = -rotate;\n                }\n                break;\n\n            case this.DIRECTION_DOWN:\n                if (out) {\n                    toRotateX = -rotate;\n                }\n                else {\n                    fromRotateX = rotate;\n                }\n                break;\n\n            case this.DIRECTION_RIGHT:\n                if (out) {\n                    toRotateY = -rotate;\n                }\n                else {\n                    fromRotateY = rotate;\n                }\n                break;\n\n            case this.DIRECTION_LEFT:\n                if (out) {\n                    toRotateY = -rotate;\n                }\n                else {\n                    fromRotateY = rotate;\n                }\n                break;\n        }\n\n        from.setTransform({\n            rotateX: fromRotateX,\n            rotateY: fromRotateY,\n            scale: fromScale\n        });\n\n        to.setTransform({\n            rotateX: toRotateX,\n            rotateY: toRotateY,\n            scale: toScale\n        });\n\n        return this.callParent(arguments);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.Pop', {\n    extend: 'Ext.fx.animation.Abstract',\n\n    alias: ['animation.pop', 'animation.popIn'],\n\n    alternateClassName: 'Ext.fx.animation.PopIn',\n\n    config: {\n        /**\n         * @cfg {Boolean} out True if you want to make this animation pop out, instead of pop in.\n         * @accessor\n         */\n        out: false,\n\n        before: {\n            display: null,\n            opacity: 0\n        },\n        after: {\n            opacity: null\n        }\n    },\n\n    getData: function() {\n        var to = this.getTo(),\n            from = this.getFrom(),\n            out = this.getOut();\n\n        if (out) {\n            from.set('opacity', 1);\n            from.setTransform({\n                scale: 1\n            });\n\n            to.set('opacity', 0);\n            to.setTransform({\n                scale: 0\n            });\n        }\n        else {\n            from.set('opacity', 0);\n            from.setTransform({\n                scale: 0\n            });\n\n            to.set('opacity', 1);\n            to.setTransform({\n                scale: 1\n            });\n        }\n\n        return this.callParent(arguments);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.animation.PopOut', {\n    extend: 'Ext.fx.animation.Pop',\n\n    alias: 'animation.popOut',\n\n    config: {\n        // @hide\n        out: true,\n\n        before: {}\n    }\n});\n\n/**\n * @private\n * @author Jacky Nguyen <jacky@sencha.com>\n */\nExt.define('Ext.fx.Animation', {\n\n    requires: [\n        'Ext.fx.animation.Slide',\n        'Ext.fx.animation.SlideOut',\n        'Ext.fx.animation.Fade',\n        'Ext.fx.animation.FadeOut',\n        'Ext.fx.animation.Flip',\n        'Ext.fx.animation.Pop',\n        'Ext.fx.animation.PopOut'\n//        'Ext.fx.animation.Cube'\n    ],\n\n    constructor: function(config) {\n        var defaultClass = Ext.fx.animation.Abstract,\n            type;\n\n        if (typeof config == 'string') {\n            type = config;\n            config = {};\n        }\n        else if (config && config.type) {\n            type = config.type;\n        }\n\n        if (type) {\n            if (Ext.os.is.Android2) {\n                if (type == 'pop') {\n                    type = 'fade';\n                }\n                if (type == 'popIn') {\n                    type = 'fadeIn';\n                }\n                if (type == 'popOut') {\n                    type = 'fadeOut';\n                }\n            }\n            defaultClass = Ext.ClassManager.getByAlias('animation.' + type);\n\n            if (!defaultClass) {\n                Ext.Logger.error(\"Invalid animation type of: '\" + type + \"'\");\n            }\n        }\n\n        return Ext.factory(config, defaultClass);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.runner.Css', {\n    extend: 'Ext.Evented',\n\n    requires: [\n        'Ext.fx.Animation'\n    ],\n\n    prefixedProperties: {\n        'transform'                 : true,\n        'transform-origin'          : true,\n        'perspective'               : true,\n        'transform-style'           : true,\n        'transition'                : true,\n        'transition-property'       : true,\n        'transition-duration'       : true,\n        'transition-timing-function': true,\n        'transition-delay'          : true,\n        'animation'                 : true,\n        'animation-name'            : true,\n        'animation-duration'        : true,\n        'animation-iteration-count' : true,\n        'animation-direction'       : true,\n        'animation-timing-function' : true,\n        'animation-delay'           : true\n    },\n\n    lengthProperties: {\n        'top'                : true,\n        'right'              : true,\n        'bottom'             : true,\n        'left'               : true,\n        'width'              : true,\n        'height'             : true,\n        'max-height'         : true,\n        'max-width'          : true,\n        'min-height'         : true,\n        'min-width'          : true,\n        'margin-bottom'      : true,\n        'margin-left'        : true,\n        'margin-right'       : true,\n        'margin-top'         : true,\n        'padding-bottom'     : true,\n        'padding-left'       : true,\n        'padding-right'      : true,\n        'padding-top'        : true,\n        'border-bottom-width': true,\n        'border-left-width'  : true,\n        'border-right-width' : true,\n        'border-spacing'     : true,\n        'border-top-width'   : true,\n        'border-width'       : true,\n        'outline-width'      : true,\n        'letter-spacing'     : true,\n        'line-height'        : true,\n        'text-indent'        : true,\n        'word-spacing'       : true,\n        'font-size'          : true,\n        'translate'          : true,\n        'translateX'         : true,\n        'translateY'         : true,\n        'translateZ'         : true,\n        'translate3d'        : true\n    },\n\n    durationProperties: {\n        'transition-duration'   : true,\n        'transition-delay'      : true,\n        'animation-duration'    : true,\n        'animation-delay'       : true\n    },\n\n    angleProperties: {\n        rotate     : true,\n        rotateX    : true,\n        rotateY    : true,\n        rotateZ    : true,\n        skew       : true,\n        skewX      : true,\n        skewY      : true\n    },\n\n    lengthUnitRegex: /([a-z%]*)$/,\n\n    DEFAULT_UNIT_LENGTH: 'px',\n\n    DEFAULT_UNIT_ANGLE: 'deg',\n\n    DEFAULT_UNIT_DURATION: 'ms',\n\n    formattedNameCache: {},\n\n    constructor: function() {\n        var supports3dTransform = Ext.feature.has.Css3dTransforms;\n\n        if (supports3dTransform) {\n            this.transformMethods = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'skewX', 'skewY', 'scaleX', 'scaleY', 'scaleZ'];\n        }\n        else {\n            this.transformMethods = ['translateX', 'translateY', 'rotate', 'skewX', 'skewY', 'scaleX', 'scaleY'];\n        }\n\n        this.vendorPrefix = Ext.browser.getStyleDashPrefix();\n\n        this.ruleStylesCache = {};\n\n        return this;\n    },\n\n    getStyleSheet: function() {\n        var styleSheet = this.styleSheet,\n            styleElement, styleSheets;\n\n        if (!styleSheet) {\n            styleElement = document.createElement('style');\n            styleElement.type = 'text/css';\n\n            (document.head || document.getElementsByTagName('head')[0]).appendChild(styleElement);\n\n            styleSheets = document.styleSheets;\n\n            this.styleSheet = styleSheet = styleSheets[styleSheets.length - 1];\n        }\n\n        return styleSheet;\n    },\n\n    applyRules: function(selectors) {\n        var styleSheet = this.getStyleSheet(),\n            ruleStylesCache = this.ruleStylesCache,\n            rules = styleSheet.cssRules,\n            selector, properties, ruleStyle,\n            ruleStyleCache, rulesLength, name, value;\n\n        for (selector in selectors) {\n            properties = selectors[selector];\n\n            ruleStyle = ruleStylesCache[selector];\n\n            if (ruleStyle === undefined) {\n                rulesLength = rules.length;\n                styleSheet.insertRule(selector + '{}', rulesLength);\n                ruleStyle = ruleStylesCache[selector] = rules.item(rulesLength).style;\n            }\n\n            ruleStyleCache = ruleStyle.$cache;\n\n            if (!ruleStyleCache) {\n                ruleStyleCache = ruleStyle.$cache = {};\n            }\n\n            for (name in properties) {\n                value = this.formatValue(properties[name], name);\n                name = this.formatName(name);\n\n                if (ruleStyleCache[name] !== value) {\n                    ruleStyleCache[name] = value;\n//                    console.log(name + \" \" + value);\n\n                    if (value === null) {\n                        ruleStyle.removeProperty(name);\n                    }\n                    else {\n                        ruleStyle.setProperty(name, value, 'important');\n                    }\n                }\n            }\n        }\n\n        return this;\n    },\n\n    applyStyles: function(styles) {\n        var id, element, elementStyle, properties, name, value;\n\n        for (id in styles) {\n//            console.log(\"-> [\"+id+\"]\", \"APPLY======================\");\n            element = document.getElementById(id);\n\n            if (!element) {\n                return this;\n            }\n\n            elementStyle = element.style;\n\n            properties = styles[id];\n\n            for (name in properties) {\n                value = this.formatValue(properties[name], name);\n                name = this.formatName(name);\n\n//                console.log(\"->-> [\"+id+\"]\", name, value);\n\n                if (value === null) {\n                    elementStyle.removeProperty(name);\n                }\n                else {\n                    elementStyle.setProperty(name, value, 'important');\n                }\n            }\n        }\n\n        return this;\n    },\n\n    formatName: function(name) {\n        var cache = this.formattedNameCache,\n            formattedName = cache[name];\n\n        if (!formattedName) {\n            if (this.prefixedProperties[name]) {\n                formattedName = this.vendorPrefix + name;\n            }\n            else {\n                formattedName = name;\n            }\n\n            cache[name] = formattedName;\n        }\n\n        return formattedName;\n    },\n\n    formatValue: function(value, name) {\n        var type = typeof value,\n            lengthUnit = this.DEFAULT_UNIT_LENGTH,\n            transformMethods,\n            method, i, ln,\n            transformValues, values, unit;\n\n        if (type == 'string') {\n            if (this.lengthProperties[name]) {\n                unit = value.match(this.lengthUnitRegex)[1];\n\n                if (unit.length > 0) {\n                    if (unit !== lengthUnit) {\n                        Ext.Logger.error(\"Length unit: '\" + unit + \"' in value: '\" + value + \"' of property: '\" + name + \"' is not \" +\n                            \"valid for animation. Only 'px' is allowed\");\n                    }\n                }\n                else {\n                    return value + lengthUnit;\n                }\n            }\n\n            return value;\n        }\n        else if (type == 'number') {\n            if (value == 0) {\n                return '0';\n            }\n\n            if (this.lengthProperties[name]) {\n                return value + lengthUnit;\n            }\n\n            if (this.angleProperties[name]) {\n                return value + this.DEFAULT_UNIT_ANGLE;\n            }\n\n            if (this.durationProperties[name]) {\n                return value + this.DEFAULT_UNIT_DURATION;\n            }\n        }\n        else if (name === 'transform') {\n            transformMethods = this.transformMethods;\n            transformValues = [];\n\n            for (i = 0,ln = transformMethods.length; i < ln; i++) {\n                method = transformMethods[i];\n\n                transformValues.push(method + '(' + this.formatValue(value[method], method) + ')');\n            }\n\n            return transformValues.join(' ');\n        }\n        else if (Ext.isArray(value)) {\n            values = [];\n\n            for (i = 0,ln = value.length; i < ln; i++) {\n                values.push(this.formatValue(value[i], name));\n            }\n\n            return (values.length > 0) ? values.join(', ') : 'none';\n        }\n\n        return value;\n    }\n});\n\n/**\n * @author Jacky Nguyen <jacky@sencha.com>\n * @private\n */\nExt.define('Ext.fx.runner.CssTransition', {\n    extend: 'Ext.fx.runner.Css',\n\n    listenersAttached: false,\n\n    constructor: function() {\n        this.runningAnimationsData = {};\n\n        return this.callParent(arguments);\n    },\n\n    attachListeners: function() {\n        this.listenersAttached = true;\n        this.getEventDispatcher().addListener('element', '*', 'transitionend', 'onTransitionEnd', this);\n    },\n\n    onTransitionEnd: function(e) {\n        var target = e.target,\n            id = target.id;\n\n        if (id && this.runningAnimationsData.hasOwnProperty(id)) {\n            this.refreshRunningAnimationsData(Ext.get(target), [e.browserEvent.propertyName]);\n        }\n    },\n\n    onAnimationEnd: function(element, data, animation, isInterrupted, isReplaced) {\n        var id = element.getId(),\n            runningData = this.runningAnimationsData[id],\n            endRules = {},\n            endData = {},\n            runningNameMap, toPropertyNames, i, ln, name;\n\n        animation.un('stop', 'onAnimationStop', this);\n\n        if (runningData) {\n            runningNameMap = runningData.nameMap;\n        }\n\n        endRules[id] = endData;\n\n        if (data.onBeforeEnd) {\n            data.onBeforeEnd.call(data.scope || this, element, isInterrupted);\n        }\n\n        animation.fireEvent('animationbeforeend', animation, element, isInterrupted);\n        this.fireEvent('animationbeforeend', this, animation, element, isInterrupted);\n\n        if (isReplaced || (!isInterrupted && !data.preserveEndState)) {\n            toPropertyNames = data.toPropertyNames;\n\n            for (i = 0,ln = toPropertyNames.length; i < ln; i++) {\n                name = toPropertyNames[i];\n\n                if (runningNameMap && !runningNameMap.hasOwnProperty(name)) {\n                    endData[name] = null;\n                }\n            }\n        }\n\n        if (data.after) {\n            Ext.merge(endData, data.after);\n        }\n\n        this.applyStyles(endRules);\n\n        if (data.onEnd) {\n            data.onEnd.call(data.scope || this, element, isInterrupted);\n        }\n\n        animation.fireEvent('animationend', animation, element, isInterrupted);\n        this.fireEvent('animationend', this, animation, element, isInterrupted);\n    },\n\n    onAllAnimationsEnd: function(element) {\n        var id = element.getId(),\n            endRules = {};\n\n        delete this.runningAnimationsData[id];\n\n        endRules[id] = {\n            'transition-property': null,\n            'transition-duration': null,\n            'transition-timing-function': null,\n            'transition-delay': null\n        };\n\n        this.applyStyles(endRules);\n        this.fireEvent('animationallend', this, element);\n    },\n\n    hasRunningAnimations: function(element) {\n        var id = element.getId(),\n            runningAnimationsData = this.runningAnimationsData;\n\n        return runningAnimationsData.hasOwnProperty(id) && runningAnimationsData[id].sessions.length > 0;\n    },\n\n    refreshRunningAnimationsData: function(element, propertyNames, interrupt, replace) {\n        var id = element.getId(),\n            runningAnimationsData = this.runningAnimationsData,\n            runningData = runningAnimationsData[id];\n\n        if (!runningData) {\n            return;\n        }\n\n        var nameMap = runningData.nameMap,\n            nameList = runningData.nameList,\n            sessions = runningData.sessions,\n            ln, j, subLn, name,\n            i, session, map, list,\n            hasCompletedSession = false;\n\n        interrupt = Boolean(interrupt);\n        replace = Boolean(replace);\n\n        if (!sessions) {\n            return this;\n        }\n\n        ln = sessions.length;\n\n        if (ln === 0) {\n            return this;\n        }\n\n        if (replace) {\n            runningData.nameMap = {};\n            nameList.length = 0;\n\n            for (i = 0; i < ln; i++) {\n                session = sessions[i];\n                this.onAnimationEnd(element, session.data, session.animation, interrupt, replace);\n            }\n\n            sessions.length = 0;\n        }\n        else {\n            for (i = 0; i < ln; i++) {\n                session = sessions[i];\n                map = session.map;\n                list = session.list;\n\n                for (j = 0,subLn = propertyNames.length; j < subLn; j++) {\n                    name = propertyNames[j];\n\n                    if (map[name]) {\n                        delete map[name];\n                        Ext.Array.remove(list, name);\n                        session.length--;\n                        if (--nameMap[name] == 0) {\n                            delete nameMap[name];\n                            Ext.Array.remove(nameList, name);\n                        }\n                    }\n                }\n\n                if (session.length == 0) {\n                    sessions.splice(i, 1);\n                    i--;\n                    ln--;\n\n                    hasCompletedSession = true;\n                    this.onAnimationEnd(element, session.data, session.animation, interrupt);\n                }\n            }\n        }\n\n        if (!replace && !interrupt && sessions.length == 0 && hasCompletedSession) {\n            this.onAllAnimationsEnd(element);\n        }\n    },\n\n    getRunningData: function(id) {\n        var runningAnimationsData = this.runningAnimationsData;\n\n        if (!runningAnimationsData.hasOwnProperty(id)) {\n            runningAnimationsData[id] = {\n                nameMap: {},\n                nameList: [],\n                sessions: []\n            };\n        }\n\n        return runningAnimationsData[id];\n    },\n\n    getTestElement: function() {\n        var testElement = this.testElement,\n            iframe, iframeDocument, iframeStyle;\n\n        if (!testElement) {\n            iframe = document.createElement('iframe');\n            iframeStyle = iframe.style;\n            iframeStyle.setProperty('visibility', 'hidden', 'important');\n            iframeStyle.setProperty('width', '0px', 'important');\n            iframeStyle.setProperty('height', '0px', 'important');\n            iframeStyle.setProperty('position', 'absolute', 'important');\n            iframeStyle.setProperty('border', '0px', 'important');\n            iframeStyle.setProperty('zIndex', '-1000', 'important');\n\n            document.body.appendChild(iframe);\n            iframeDocument = iframe.contentDocument;\n\n            iframeDocument.open();\n            iframeDocument.writeln('</body>');\n            iframeDocument.close();\n\n            this.testElement = testElement = iframeDocument.createElement('div');\n            testElement.style.setProperty('position', 'absolute', '!important');\n            iframeDocument.body.appendChild(testElement);\n            this.testElementComputedStyle = window.getComputedStyle(testElement);\n        }\n\n        return testElement;\n    },\n\n    getCssStyleValue: function(name, value) {\n        var testElement = this.getTestElement(),\n            computedStyle = this.testElementComputedStyle,\n            style = testElement.style;\n\n        style.setProperty(name, value);\n        value = computedStyle.getPropertyValue(name);\n        style.removeProperty(name);\n\n        return value;\n    },\n\n    run: function(animations) {\n        var me = this,\n            isLengthPropertyMap = this.lengthProperties,\n            fromData = {},\n            toData = {},\n            data = {},\n            element, elementId, from, to, before,\n            fromPropertyNames, toPropertyNames,\n            doApplyTo, message,\n            runningData,\n            i, j, ln, animation, propertiesLength, sessionNameMap,\n            computedStyle, formattedName, name, toFormattedValue,\n            computedValue, fromFormattedValue, isLengthProperty,\n            runningNameMap, runningNameList, runningSessions, runningSession;\n\n        if (!this.listenersAttached) {\n            this.attachListeners();\n        }\n\n        animations = Ext.Array.from(animations);\n\n        for (i = 0,ln = animations.length; i < ln; i++) {\n            animation = animations[i];\n            animation = Ext.factory(animation, Ext.fx.Animation);\n            element = animation.getElement();\n\n            computedStyle = window.getComputedStyle(element.dom);\n\n            elementId = element.getId();\n\n            data = Ext.merge({}, animation.getData());\n\n            if (animation.onBeforeStart) {\n                animation.onBeforeStart.call(animation.scope || this, element);\n            }\n            animation.fireEvent('animationstart', animation);\n            this.fireEvent('animationstart', this, animation);\n\n            data[elementId] = data;\n\n            before = data.before;\n            from = data.from;\n            to = data.to;\n\n            data.fromPropertyNames = fromPropertyNames = [];\n            data.toPropertyNames = toPropertyNames = [];\n\n            for (name in to) {\n                if (to.hasOwnProperty(name)) {\n                    to[name] = toFormattedValue = this.formatValue(to[name], name);\n                    formattedName = this.formatName(name);\n                    isLengthProperty = isLengthPropertyMap.hasOwnProperty(name);\n\n                    if (!isLengthProperty) {\n                        toFormattedValue = this.getCssStyleValue(formattedName, toFormattedValue);\n                    }\n\n                    if (from.hasOwnProperty(name)) {\n                        from[name] = fromFormattedValue = this.formatValue(from[name], name);\n\n                        if (!isLengthProperty) {\n                            fromFormattedValue = this.getCssStyleValue(formattedName, fromFormattedValue);\n                        }\n\n                        if (toFormattedValue !== fromFormattedValue) {\n                            fromPropertyNames.push(formattedName);\n                            toPropertyNames.push(formattedName);\n                        }\n                    }\n                    else {\n                        computedValue = computedStyle.getPropertyValue(formattedName);\n\n                        if (toFormattedValue !== computedValue) {\n                            toPropertyNames.push(formattedName);\n                        }\n                    }\n                }\n            }\n\n            propertiesLength = toPropertyNames.length;\n\n            if (propertiesLength === 0) {\n                this.onAnimationEnd(element, data, animation);\n                continue;\n            }\n\n            runningData = this.getRunningData(elementId);\n            runningSessions = runningData.sessions;\n\n            if (runningSessions.length > 0) {\n                this.refreshRunningAnimationsData(\n                    element, Ext.Array.merge(fromPropertyNames, toPropertyNames), true, data.replacePrevious\n                );\n            }\n\n            runningNameMap = runningData.nameMap;\n            runningNameList = runningData.nameList;\n\n            sessionNameMap = {};\n            for (j = 0; j < propertiesLength; j++) {\n                name = toPropertyNames[j];\n                sessionNameMap[name] = true;\n\n                if (!runningNameMap.hasOwnProperty(name)) {\n                    runningNameMap[name] = 1;\n                    runningNameList.push(name);\n                }\n                else {\n                    runningNameMap[name]++;\n                }\n            }\n\n            runningSession = {\n                element: element,\n                map: sessionNameMap,\n                list: toPropertyNames.slice(),\n                length: propertiesLength,\n                data: data,\n                animation: animation\n            };\n            runningSessions.push(runningSession);\n\n            animation.on('stop', 'onAnimationStop', this);\n\n            fromData[elementId] = from = Ext.apply(Ext.Object.chain(before), from);\n\n            if (runningNameList.length > 0) {\n                fromPropertyNames = Ext.Array.difference(runningNameList, fromPropertyNames);\n                toPropertyNames = Ext.Array.merge(fromPropertyNames, toPropertyNames);\n                from['transition-property'] = fromPropertyNames;\n            }\n\n            toData[elementId] = to = Ext.Object.chain(to);\n\n            to['transition-property'] = toPropertyNames;\n            to['transition-duration'] = data.duration;\n            to['transition-timing-function'] = data.easing;\n            to['transition-delay'] = data.delay;\n\n            animation.startTime = Date.now();\n        }\n\n        message = this.$className;\n\n        this.applyStyles(fromData);\n\n        doApplyTo = function(e) {\n            if (e.data === message && e.source === window) {\n                window.removeEventListener('message', doApplyTo, false);\n                me.applyStyles(toData);\n            }\n        };\n\n        window.addEventListener('message', doApplyTo, false);\n        window.postMessage(message, '*');\n    },\n\n    onAnimationStop: function(animation) {\n        var runningAnimationsData = this.runningAnimationsData,\n            id, runningData, sessions, i, ln, session;\n\n        for (id in runningAnimationsData) {\n            if (runningAnimationsData.hasOwnProperty(id)) {\n                runningData = runningAnimationsData[id];\n                sessions = runningData.sessions;\n\n                for (i = 0,ln = sessions.length; i < ln; i++) {\n                    session = sessions[i];\n                    if (session.animation === animation) {\n                        this.refreshRunningAnimationsData(session.element, session.list.slice(), true);\n                    }\n                }\n            }\n        }\n    }\n});\n\n/**\n * @class Ext.fx.Runner\n * @private\n */\nExt.define('Ext.fx.Runner', {\n    requires: [\n        'Ext.fx.runner.CssTransition'\n//        'Ext.fx.runner.CssAnimation'\n    ],\n\n    constructor: function() {\n        return new Ext.fx.runner.CssTransition();\n    }\n});\n\n/**\n * A simple class used to mask any {@link Ext.Container}.\n *\n * This should rarely be used directly, instead look at the {@link Ext.Container#masked} configuration.\n *\n * ## Example\n *\n *     @example miniphone\n *     // Create our container\n *     var container = Ext.create('Ext.Container', {\n *         html: 'My container!'\n *     });\n *\n *     // Add the container to the Viewport\n *     Ext.Viewport.add(container);\n *\n *     // Mask the container\n *     container.setMasked(true);\n */\nExt.define('Ext.Mask', {\n    extend: 'Ext.Component',\n    xtype: 'mask',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'mask',\n\n        /**\n         * @cfg {Boolean} transparent True to make this mask transparent.\n         */\n        transparent: false,\n\n        /**\n         * @cfg\n         * @hide\n         */\n        top: 0,\n\n        /**\n         * @cfg\n         * @hide\n         */\n        left: 0,\n\n        /**\n         * @cfg\n         * @hide\n         */\n        right: 0,\n\n        /**\n         * @cfg\n         * @hide\n         */\n        bottom: 0\n    },\n\n    /**\n     * @event tap\n     * A tap event fired when a user taps on this mask\n     * @param {Ext.Mask} this The mask instance\n     * @param {Ext.EventObject} e The event object\n     */\n    initialize: function() {\n        this.callParent();\n\n        this.on({\n            painted: 'onPainted',\n            erased: 'onErased'\n        })\n    },\n\n    onPainted: function() {\n        this.element.on('*', 'onEvent', this);\n    },\n\n    onErased: function() {\n        this.element.un('*', 'onEvent', this);\n    },\n\n    onEvent: function(e) {\n        var controller = arguments[arguments.length - 1];\n\n        if (controller.info.eventName === 'tap') {\n            this.fireEvent('tap', this, e);\n            return false;\n        }\n\n        if (e && e.stopEvent) {\n            e.stopEvent();\n        }\n\n        return false;\n    },\n\n    updateTransparent: function(newTransparent) {\n        this[newTransparent ? 'addCls' : 'removeCls'](this.getBaseCls() + '-transparent');\n    }\n});\n\n(function(clsPrefix) {\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * The Default Layout is the layout that all other layouts inherit from. The main capability it provides is docking,\n * which means that every other layout can also provide docking support. It's unusual to use Default layout directly,\n * instead it's much more common to use one of the sub classes:\n *\n * * {@link Ext.layout.HBox hbox layout}\n * * {@link Ext.layout.VBox vbox layout}\n * * {@link Ext.layout.Card card layout}\n * * {@link Ext.layout.Fit fit layout}\n *\n * For a full overview of layouts check out the [Layout Guide](#!/guide/layouts).\n *\n * ## Docking\n *\n * Docking enables you to place additional Components at the top, right, bottom or left edges of the parent Container,\n * resizing the other items as necessary. For example, let's say we're using an {@link Ext.layout.HBox hbox layout}\n * with a couple of items and we want to add a banner to the top so that we end up with something like this:\n *\n * {@img ../guides/layouts/docktop.jpg}\n *\n * This is simple to achieve with the `docked: 'top'` configuration below. We can dock as many of the items as we like,\n * to either the top, right, bottom or left edges of the Container:\n *\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'hbox',\n *         items: [\n *             {\n *                 docked: 'top',\n *                 height: 20,\n *                 html: 'This is docked to the top'\n *             },\n *             {\n *                 html: 'message list',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'message preview',\n *                 flex: 2\n *             }\n *         ]\n *     });\n *\n * Similarly, to dock something to the left of a layout (a {@link Ext.layout.VBox vbox} in this case), such as the\n * following:\n *\n * {@img ../guides/layouts/dockleft.jpg}\n *\n * We can simply dock to the left:\n *\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'vbox',\n *         items: [\n *             {\n *                 docked: 'left',\n *                 width: 100,\n *                 html: 'This is docked to the left'\n *             },\n *             {\n *                 html: 'message list',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'message preview',\n *                 flex: 2\n *             }\n *         ]\n *     });\n *\n * We can also dock to the bottom and right and use other layouts than hbox and vbox ({@link Ext.layout.Card card} and\n * {@link Ext.layout.Fit fit} layouts both accept docking too).\n */\nExt.define('Ext.layout.Default', {\n    extend: 'Ext.Evented',\n\n    alternateClassName: ['Ext.layout.AutoContainerLayout', 'Ext.layout.ContainerLayout'],\n\n    alias: ['layout.auto', 'layout.default'],\n\n    isLayout: true,\n\n    hasDockedItemsCls: clsPrefix + 'hasdocked',\n\n    centeredItemCls: clsPrefix + 'centered',\n\n    floatingItemCls: clsPrefix + 'floating',\n\n    dockingWrapperCls: clsPrefix + 'docking',\n\n    dockingInnerCls: clsPrefix + 'docking-inner',\n\n    maskCls: clsPrefix + 'mask',\n\n    positionMap: {\n        top: 'start',\n        left: 'start',\n        bottom: 'end',\n        right: 'end'\n    },\n\n    positionDirectionMap: {\n        top: 'vertical',\n        bottom: 'vertical',\n        left: 'horizontal',\n        right: 'horizontal'\n    },\n\n    DIRECTION_VERTICAL: 'vertical',\n\n    DIRECTION_HORIZONTAL: 'horizontal',\n\n    POSITION_START: 'start',\n\n    POSITION_END: 'end',\n\n    config: {\n        /**\n         * @cfg {Ext.fx.layout.Card} animation Layout animation configuration\n         * Controls how layout transitions are animated.  Currently only available for\n         * Card Layouts\n         * @accessor\n         */\n        animation: null\n    },\n\n    constructor: function(container, config) {\n        this.container = container;\n\n        this.innerItems = [];\n\n        this.centeringWrappers = {};\n\n        this.initConfig(config);\n    },\n\n    reapply: Ext.emptyFn,\n\n    unapply: Ext.emptyFn,\n\n    onItemAdd: function() {\n        this.doItemAdd.apply(this, arguments);\n    },\n\n    onItemRemove: function() {\n        this.doItemRemove.apply(this, arguments);\n    },\n\n    onItemMove: function() {\n        this.doItemMove.apply(this, arguments);\n    },\n\n    onItemCenteredChange: function() {\n        this.doItemCenteredChange.apply(this, arguments);\n    },\n\n    onItemFloatingChange: function() {\n        this.doItemFloatingChange.apply(this, arguments);\n    },\n\n    onItemDockedChange: function() {\n        this.doItemDockedChange.apply(this, arguments);\n    },\n\n    /**\n     * @private\n     */\n    doItemAdd: function(item, index) {\n        var docked = item.getDocked();\n\n        if (docked !== null) {\n            this.dockItem(item, docked);\n        }\n        else if (item.isCentered()) {\n            this.centerItem(item, index);\n        }\n        else {\n            this.insertItem(item, index);\n        }\n\n        if (item.isFloating()) {\n            this.onItemFloatingChange(item, true);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemRemove: function(item) {\n        if (item.isDocked()) {\n            this.undockItem(item);\n        }\n        else if (item.isCentered()) {\n            this.uncenterItem(item);\n        }\n\n        if (item.getTranslatable()) {\n            item.setTranslatable(false);\n        }\n\n        Ext.Array.remove(this.innerItems, item);\n\n        Ext.fly(item.renderElement).destroy();\n    },\n\n    /**\n     * @private\n     */\n    doItemMove: function(item, toIndex, fromIndex) {\n        if (item.isCentered()) {\n            item.setZIndex((toIndex + 1) * 2);\n        }\n        else {\n            if (item.isFloating()) {\n                item.setZIndex((toIndex + 1) * 2);\n            }\n            this.insertItem(item, toIndex);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemCenteredChange: function(item, centered) {\n        if (centered) {\n            this.centerItem(item);\n        }\n        else {\n            this.uncenterItem(item);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemFloatingChange: function(item, floating) {\n        var element = item.element,\n            floatingItemCls = this.floatingItemCls;\n\n        if (floating) {\n            if (item.getZIndex() === null) {\n                item.setZIndex((this.container.indexOf(item) + 1) * 2);\n            }\n            element.addCls(floatingItemCls);\n        }\n        else {\n            item.setZIndex(null);\n            element.removeCls(floatingItemCls);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemDockedChange: function(item, docked, oldDocked) {\n        if (oldDocked) {\n            this.undockItem(item, oldDocked);\n        }\n\n        if (docked) {\n            this.dockItem(item, docked);\n        }\n    },\n\n    centerItem: function(item) {\n        this.insertItem(item, 0);\n\n        if (item.getZIndex() === null) {\n            item.setZIndex((this.container.indexOf(item) + 1) * 2);\n        }\n\n        this.createCenteringWrapper(item);\n\n        // Mainly for styling\n        item.element.addCls(this.floatingItemCls);\n    },\n\n    uncenterItem: function(item) {\n        this.destroyCenteringWrapper(item);\n        item.setZIndex(null);\n        this.insertItem(item, this.container.indexOf(item));\n\n        // Mainly for styling\n        item.element.removeCls(this.floatingItemCls);\n    },\n\n    dockItem: function(item, position) {\n        var container = this.container,\n            itemRenderElement = item.renderElement,\n            itemElement = item.element,\n            dockingInnerElement = this.dockingInnerElement;\n\n        if (!dockingInnerElement) {\n            container.setUseBodyElement(true);\n            this.dockingInnerElement = dockingInnerElement = container.bodyElement;\n        }\n\n        this.getDockingWrapper(position);\n\n        if (this.positionMap[position] === this.POSITION_START) {\n            itemRenderElement.insertBefore(dockingInnerElement);\n        }\n        else {\n            itemRenderElement.insertAfter(dockingInnerElement);\n        }\n\n        itemElement.addCls(clsPrefix + 'docked-' + position);\n    },\n\n    undockItem: function(item, docked) {\n        this.insertItem(item, this.container.indexOf(item));\n        item.element.removeCls(clsPrefix + 'docked-' + docked);\n    },\n\n    getDockingWrapper: function(position) {\n        var currentDockingDirection = this.currentDockingDirection,\n            direction = this.positionDirectionMap[position],\n            dockingWrapper = this.dockingWrapper;\n\n        if (currentDockingDirection !== direction) {\n            this.currentDockingDirection = direction;\n            this.dockingWrapper = dockingWrapper = this.createDockingWrapper(direction);\n        }\n\n        return dockingWrapper;\n    },\n\n    createDockingWrapper: function(direction) {\n        return this.dockingInnerElement.wrap({\n            classList: [this.dockingWrapperCls + '-' + direction]\n        }, true);\n    },\n\n    createCenteringWrapper: function(item) {\n        var id = item.getId(),\n            wrappers = this.centeringWrappers,\n            renderElement = item.renderElement,\n            wrapper;\n\n        wrappers[id] = wrapper = renderElement.wrap({\n            className: this.centeredItemCls\n        });\n\n        return wrapper;\n    },\n\n    destroyCenteringWrapper: function(item) {\n        var id = item.getId(),\n            wrappers = this.centeringWrappers,\n            renderElement = item.renderElement,\n            wrapper = wrappers[id];\n\n        renderElement.unwrap();\n        wrapper.destroy();\n        delete wrappers[id];\n\n        return this;\n    },\n\n    getInnerItemsContainer: function() {\n        return this.container.innerElement;\n    },\n\n    insertItem: function(item, index) {\n       var container = this.container,\n           items = container.getItems().items,\n           innerItems = this.innerItems,\n           containerDom = this.getInnerItemsContainer().dom,\n           itemDom = item.renderElement.dom,\n           relativeItem, relativeItemDom, domIndex;\n\n       if (container.has(item)) {\n           Ext.Array.remove(innerItems, item);\n       }\n\n       if (typeof index == 'number') {\n           // Retrieve the *logical* relativeItem reference to insertBefore\n           relativeItem = items[index];\n\n           // If it is the item itself, get the next sibling\n           if (relativeItem === item) {\n               relativeItem = items[++index];\n           }\n\n           // Continue finding the relativeItem that is neither currently centered nor docked\n           while (relativeItem && (relativeItem.isCentered() || relativeItem.isDocked())) {\n               relativeItem = items[++index];\n           }\n\n           if (relativeItem) {\n               // Retrieve the *physical* index of that relativeItem\n               domIndex = innerItems.indexOf(relativeItem);\n\n               if (domIndex !== -1) {\n                   while (relativeItem && (relativeItem.isCentered() || relativeItem.isDocked())) {\n                       relativeItem = innerItems[++domIndex];\n                   }\n\n                   if (relativeItem) {\n                       innerItems.splice(domIndex, 0, item);\n\n                       relativeItemDom = relativeItem.renderElement.dom;\n                       containerDom.insertBefore(itemDom, relativeItemDom);\n\n                       return this;\n                   }\n               }\n           }\n       }\n\n       innerItems.push(item);\n       containerDom.appendChild(itemDom);\n\n       return this;\n   }\n});\n\n})(Ext.baseCSSPrefix);\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * AbstractBox is a superclass for the two box layouts:\n *\n * * {@link Ext.layout.HBox hbox}\n * * {@link Ext.layout.VBox vbox}\n *\n * AbstractBox itself is never used directly, but its subclasses provide flexible arrangement of child components\n * inside a {@link Ext.Container Container}. For a full overview of layouts check out the\n * [Layout Guide](#!/guide/layouts).\n *\n * ## Horizontal Box\n *\n * HBox allows you to easily lay out child components horizontally. It can size items based on a fixed width or a\n * fraction of the total width available, enabling you to achieve flexible layouts that expand or contract to fill the\n * space available.\n *\n * {@img ../guides/layouts/hbox.jpg}\n *\n * See the {@link Ext.layout.HBox HBox layout docs} for more information on using hboxes.\n *\n * ## Vertical Box\n *\n * VBox allows you to easily lay out child components verticaly. It can size items based on a fixed height or a\n * fraction of the total height available, enabling you to achieve flexible layouts that expand or contract to fill the\n * space available.\n *\n * {@img ../guides/layouts/vbox.jpg}\n *\n * See the {@link Ext.layout.VBox VBox layout docs} for more information on using vboxes.\n */\nExt.define('Ext.layout.AbstractBox', {\n    extend: 'Ext.layout.Default',\n\n    config: {\n        /**\n         * @cfg {String} align\n         * Controls how the child items of the container are aligned. Acceptable configuration values for this property are:\n         *\n         * - ** start ** : child items are packed together at left side of container\n         * - ** center ** : child items are packed together at mid-width of container\n         * - ** end ** : child items are packed together at right side of container\n         * - **stretch** : child items are stretched vertically to fill the height of the container\n         *\n         * Please see the 'Pack and Align' section of the [Layout guide](#!/guide/layouts) for a detailed example and\n         * explanation.\n         * @accessor\n         */\n        align: 'stretch',\n\n        /**\n         * @cfg {String} pack\n         * Controls how the child items of the container are packed together. Acceptable configuration values\n         * for this property are:\n         *\n         * - ** start ** : child items are packed together at left side of container\n         * - ** center ** : child items are packed together at mid-width of container\n         * - ** end ** : child items are packed together at right side of container\n         *\n         * Please see the 'Pack and Align' section of the [Layout guide](#!/guide/layouts) for a detailed example and\n         * explanation.\n         * @accessor\n         */\n        pack: null\n    },\n\n    flexItemCls: Ext.baseCSSPrefix + 'layout-box-item',\n\n    positionMap: {\n        middle: 'center',\n        left: 'start',\n        top: 'start',\n        right: 'end',\n        bottom: 'end'\n    },\n\n    constructor: function(container) {\n        this.callParent(arguments);\n\n        container.innerElement.addCls(this.cls);\n\n        container.on(this.sizeChangeEventName, 'onItemSizeChange', this, {\n            delegate: '> component'\n        });\n    },\n\n    reapply: function() {\n        this.container.innerElement.addCls(this.cls);\n\n        this.updatePack(this.getPack());\n        this.updateAlign(this.getAlign());\n    },\n\n    unapply: function() {\n        this.container.innerElement.removeCls(this.cls);\n\n        this.updatePack(null);\n        this.updateAlign(null);\n    },\n\n    /**\n     * @private\n     */\n    doItemAdd: function(item, index) {\n        this.callParent(arguments);\n\n        if (item.isInnerItem()) {\n            var size = item.getConfig(this.sizePropertyName),\n                config = item.config;\n\n            if (!size && ('flex' in config)) {\n                this.setItemFlex(item, config.flex);\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemRemove: function(item) {\n        if (item.isInnerItem()) {\n            this.setItemFlex(item, null);\n        }\n\n        this.callParent(arguments);\n    },\n\n    onItemSizeChange: function(item) {\n        this.setItemFlex(item, null);\n    },\n\n    /**\n     * @private\n     */\n    doItemCenteredChange: function(item, centered) {\n        if (centered) {\n            this.setItemFlex(item, null);\n        }\n\n        this.callParent(arguments);\n    },\n\n    /**\n     * @private\n     */\n    doItemFloatingChange: function(item, floating) {\n        if (floating) {\n            this.setItemFlex(item, null);\n        }\n\n        this.callParent(arguments);\n    },\n\n    /**\n     * @private\n     */\n    doItemDockedChange: function(item, docked) {\n        if (docked) {\n            this.setItemFlex(item, null);\n        }\n\n        this.callParent(arguments);\n    },\n\n    redrawContainer: function() {\n        var container = this.container,\n            renderedTo = container.renderElement.dom.parentNode;\n\n        if (renderedTo && renderedTo.nodeType !== 11) {\n            container.innerElement.redraw();\n        }\n    },\n\n    /**\n     * Sets the flex of an item in this box layout.\n     * @param {Ext.Component} item The item of this layout which you want to update the flex of.\n     * @param {Number} flex The flex to set on this method\n     */\n    setItemFlex: function(item, flex) {\n        var element = item.element,\n            flexItemCls = this.flexItemCls;\n\n        if (flex) {\n            element.addCls(flexItemCls);\n        }\n        else if (element.hasCls(flexItemCls)) {\n            this.redrawContainer();\n            element.removeCls(flexItemCls);\n        }\n\n        element.dom.style.webkitBoxFlex = flex;\n    },\n\n    convertPosition: function(position) {\n        if (this.positionMap.hasOwnProperty(position)) {\n            return this.positionMap[position];\n        }\n\n        return position;\n    },\n\n    applyAlign: function(align) {\n        return this.convertPosition(align);\n    },\n\n    updateAlign: function(align) {\n        this.container.innerElement.dom.style.webkitBoxAlign = align;\n    },\n\n    applyPack: function(pack) {\n         return this.convertPosition(pack);\n    },\n\n    updatePack: function(pack) {\n        this.container.innerElement.dom.style.webkitBoxPack = pack;\n    }\n});\n\n/**\n * Represents a filter that can be applied to a {@link Ext.util.MixedCollection MixedCollection}. Can either simply\n * filter on a property/value pair or pass in a filter function with custom logic. Filters are always used in the\n * context of MixedCollections, though {@link Ext.data.Store Store}s frequently create them when filtering and searching\n * on their records. Example usage:\n *\n *     // Set up a fictional MixedCollection containing a few people to filter on\n *     var allNames = new Ext.util.MixedCollection();\n *     allNames.addAll([\n *         { id: 1, name: 'Ed',    age: 25 },\n *         { id: 2, name: 'Jamie', age: 37 },\n *         { id: 3, name: 'Abe',   age: 32 },\n *         { id: 4, name: 'Aaron', age: 26 },\n *         { id: 5, name: 'David', age: 32 }\n *     ]);\n *\n *     var ageFilter = new Ext.util.Filter({\n *         property: 'age',\n *         value   : 32\n *     });\n *\n *     var longNameFilter = new Ext.util.Filter({\n *         filterFn: function(item) {\n *             return item.name.length > 4;\n *         }\n *     });\n *\n *     // a new MixedCollection with the 3 names longer than 4 characters\n *     var longNames = allNames.filter(longNameFilter);\n *\n *     // a new MixedCollection with the 2 people of age 24:\n *     var youngFolk = allNames.filter(ageFilter);\n */\nExt.define('Ext.util.Filter', {\n    isFilter: true,\n\n    config: {\n        /**\n         * @cfg {String} [property=null]\n         * The property to filter on. Required unless a `filter` is passed\n         */\n        property: null,\n\n        /**\n         * @cfg {RegExp/Mixed} [value=null]\n         * The value you want to match against. Can be a regular expression which will be used as matcher or any other\n         * value.\n         */\n        value: null,\n\n        /**\n         * @cfg {Function} filterFn\n         * A custom filter function which is passed each item in the {@link Ext.util.MixedCollection} in turn. Should\n         * return true to accept each item or false to reject it\n         */\n        filterFn: Ext.emptyFn,\n\n        /**\n         * @cfg {Boolean} [anyMatch=false]\n         * True to allow any match - no regex start/end line anchors will be added.\n         */\n        anyMatch: false,\n\n        /**\n         * @cfg {Boolean} [exactMatch=false]\n         * True to force exact match (^ and $ characters added to the regex). Ignored if anyMatch is true.\n         */\n        exactMatch: false,\n\n        /**\n         * @cfg {Boolean} [caseSensitive=false]\n         * True to make the regex case sensitive (adds 'i' switch to regex).\n         */\n        caseSensitive: false,\n\n        /**\n         * @cfg {String} [root=null]\n         * Optional root property. This is mostly useful when filtering a Store, in which case we set the root to 'data'\n         * to make the filter pull the {@link #property} out of the data object of each item\n         */\n        root: null,\n\n        /**\n         * @cfg {String} id\n         * An optional id this filter can be keyed by in Collections. If no id is specified it will generate an id by\n         * first trying a combination of property-value, and if none if these were specified (like when having a\n         * filterFn) it will generate a random id.\n         */\n        id: undefined,\n\n        /**\n         * @cfg {Object} [scope=null]\n         * The scope in which to run the filterFn\n         */\n        scope: null\n    },\n\n    applyId: function(id) {\n        if (!id) {\n            if (this.getProperty()) {\n                id = this.getProperty() + '-' + String(this.getValue());\n            }\n            if (!id) {\n                id = Ext.id(null, 'ext-filter-');\n            }\n        }\n\n        return id;\n    },\n\n    /**\n     * Creates new Filter.\n     * @param {Object} config Config object\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applyFilterFn: function(filterFn) {\n        if (filterFn === Ext.emptyFn) {\n            filterFn = this.getInitialConfig('filter');\n            if (filterFn) {\n                return filterFn;\n            }\n\n            var value = this.getValue();\n            if (!this.getProperty() && !value && value !== 0) {\n                Ext.Logger.error('A Filter requires either a property and value, or a filterFn to be set');\n                return Ext.emptyFn;\n            }\n            else {\n                return this.createFilterFn();\n            }\n        }\n        return filterFn;\n    },\n\n    /**\n     * @private\n     * Creates a filter function for the configured property/value/anyMatch/caseSensitive options for this Filter\n     */\n    createFilterFn: function() {\n        var me       = this,\n            matcher  = me.createValueMatcher();\n\n        return function(item) {\n            var root     = me.getRoot(),\n                property = me.getProperty();\n\n            if (root) {\n                item = item[root];\n            }\n\n            return matcher.test(item[property]);\n        };\n    },\n\n    /**\n     * @private\n     * Returns a regular expression based on the given value and matching options\n     */\n    createValueMatcher: function() {\n        var me            = this,\n            value         = me.getValue(),\n            anyMatch      = me.getAnyMatch(),\n            exactMatch    = me.getExactMatch(),\n            caseSensitive = me.getCaseSensitive(),\n            escapeRe      = Ext.String.escapeRegex;\n\n        if (value === null || value === undefined || !value.exec) { // not a regex\n            value = String(value);\n\n            if (anyMatch === true) {\n                value = escapeRe(value);\n            } else {\n                value = '^' + escapeRe(value);\n                if (exactMatch === true) {\n                    value += '$';\n                }\n            }\n            value = new RegExp(value, caseSensitive ? '' : 'i');\n         }\n\n         return value;\n    }\n});\n\n/**\n * Represents a single sorter that can be used as part of the sorters configuration in Ext.mixin.Sortable.\n *\n * A common place for Sorters to be used are {@link Ext.data.Store Stores}. For example:\n *\n *     @example miniphone\n *     var store = Ext.create('Ext.data.Store', {\n *        fields: ['firstName', 'lastName'],\n *        sorters: 'lastName',\n *\n *        data: [\n *            { firstName: 'Tommy',   lastName: 'Maintz' },\n *            { firstName: 'Rob',     lastName: 'Dougan' },\n *            { firstName: 'Ed',      lastName: 'Spencer'},\n *            { firstName: 'Jamie',   lastName: 'Avins'  },\n *            { firstName: 'Nick',    lastName: 'Poulden'}\n *        ]\n *     });\n *\n *     Ext.create('Ext.List', {\n *        fullscreen: true,\n *        itemTpl: '<div class=\"contact\">{firstName} <strong>{lastName}</strong></div>',\n *        store: store\n *     });\n *\n * In the next example, we specify a custom sorter function:\n *\n *     @example miniphone\n *     var store = Ext.create('Ext.data.Store', {\n *         fields: ['person'],\n *         sorters: [\n *             {\n *                 // Sort by first letter of last name, in descending order\n *                 sorterFn: function(record1, record2) {\n *                     var name1 = record1.data.person.name.split('-')[1].substr(0, 1),\n *                         name2 = record2.data.person.name.split('-')[1].substr(0, 1);\n *\n *                     return name1 > name2 ? 1 : (name1 == name2 ? 0 : -1);\n *                 },\n *                 direction: 'DESC'\n *             }\n *         ],\n *         data: [\n *             { person: { name: 'Tommy-Maintz' } },\n *             { person: { name: 'Rob-Dougan'   } },\n *             { person: { name: 'Ed-Spencer'   } },\n *             { person: { name: 'Nick-Poulden' } },\n *             { person: { name: 'Jamie-Avins'  } }\n *         ]\n *     });\n *\n *     Ext.create('Ext.List', {\n *         fullscreen: true,\n *         itemTpl: '{person.name}',\n *         store: store\n *     });\n */\nExt.define('Ext.util.Sorter', {\n    isSorter: true,\n\n    config: {\n        /**\n         * @cfg {String} property The property to sort by. Required unless `sorterFn` is provided\n         */\n        property: null,\n\n        /**\n         * @cfg {Function} sorterFn A specific sorter function to execute. Can be passed instead of {@link #property}.\n         * This function should compare the two passed arguments, returning -1, 0 or 1 depending on if item 1 should be\n         * sorted before, at the same level, or after item 2.\n         *\n         *     sorterFn: function(person1, person2) {\n         *         return (person1.age > person2.age) ? 1 : (person1.age == person2.age ? 0 : -1);\n         *     }\n         */\n        sorterFn: null,\n\n        /**\n         * @cfg {String} root Optional root property. This is mostly useful when sorting a Store, in which case we set the\n         * root to 'data' to make the filter pull the {@link #property} out of the data object of each item\n         */\n        root: null,\n\n        /**\n         * @cfg {Function} transform A function that will be run on each value before\n         * it is compared in the sorter. The function will receive a single argument,\n         * the value.\n         */\n        transform: null,\n\n        /**\n         * @cfg {String} direction The direction to sort by.\n         */\n        direction: \"ASC\",\n\n        /**\n         * @cfg {Mixed} id An optional id this sorter can be keyed by in Collections. If\n         * no id is specified it will use the property name used in this Sorter. If no\n         * property is specified, e.g. when adding a custom sorter function we will generate\n         * a random id.\n         */\n        id: undefined\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applySorterFn: function(sorterFn) {\n        if (!sorterFn && !this.getProperty()) {\n            Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\");\n        }\n        return sorterFn;\n    },\n\n    applyProperty: function(property) {\n        if (!property && !this.getSorterFn()) {\n            Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\");\n        }\n        return property;\n    },\n\n    applyId: function(id) {\n        if (!id) {\n            id = this.getProperty();\n            if (!id) {\n                id = Ext.id(null, 'ext-sorter-');\n            }\n        }\n\n        return id;\n    },\n\n    /**\n     * @private\n     * Creates and returns a function which sorts an array by the given property and direction\n     * @return {Function} A function which sorts by the property/direction combination provided\n     */\n    createSortFunction: function(sorterFn) {\n        var me        = this,\n            modifier  = me.getDirection().toUpperCase() == \"DESC\" ? -1 : 1;\n\n        //create a comparison function. Takes 2 objects, returns 1 if object 1 is greater,\n        //-1 if object 2 is greater or 0 if they are equal\n        return function(o1, o2) {\n            return modifier * sorterFn.call(me, o1, o2);\n        };\n    },\n\n    /**\n     * @private\n     * Basic default sorter function that just compares the defined property of each object\n     */\n    defaultSortFn: function(item1, item2) {\n        var me = this,\n            transform = me._transform,\n            root = me._root,\n            value1, value2,\n            property = me._property;\n\n        if (root !== null) {\n            item1 = item1[root];\n            item2 = item2[root];\n        }\n\n        value1 = item1[property];\n        value2 = item2[property];\n\n        if (transform) {\n            value1 = transform(value1);\n            value2 = transform(value2);\n        }\n\n        return value1 > value2 ? 1 : (value1 < value2 ? -1 : 0);\n    },\n\n    updateDirection: function() {\n        this.updateSortFn();\n    },\n\n    updateSortFn: function() {\n        this.sort = this.createSortFunction(this.getSorterFn() || this.defaultSortFn);\n    },\n\n    /**\n     * Toggles the direction of this Sorter. Note that when you call this function,\n     * the Collection this Sorter is part of does not get refreshed automatically.\n     */\n    toggle: function() {\n        this.setDirection(Ext.String.toggle(this.getDirection(), \"ASC\", \"DESC\"));\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.easing.EaseOut', {\n    extend: 'Ext.fx.easing.Linear',\n\n    alias: 'easing.ease-out',\n\n    config: {\n        exponent: 4,\n        duration: 1500\n    },\n\n    getValue: function() {\n        var deltaTime = Ext.Date.now() - this.getStartTime(),\n            duration = this.getDuration(),\n            startValue = this.getStartValue(),\n            endValue = this.getEndValue(),\n            distance = this.distance,\n            theta = deltaTime / duration,\n            thetaC = 1 - theta,\n            thetaEnd = 1 - Math.pow(thetaC, this.getExponent()),\n            currentValue = startValue + (thetaEnd * distance);\n\n        if (deltaTime >= duration) {\n            this.isEnded = true;\n            return endValue;\n        }\n\n        return currentValue;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Abstract', {\n    extend: 'Ext.Evented',\n    isAnimation: true,\n\n    config: {\n        direction: 'left',\n\n        duration: null,\n\n        reverse: null,\n\n        layout: null\n    },\n\n    updateLayout: function() {\n        this.enable();\n    },\n\n    enable: function() {\n        var layout = this.getLayout();\n\n        if (layout) {\n            layout.onBefore('activeitemchange', 'onActiveItemChange', this);\n        }\n    },\n\n    disable: function() {\n        var layout = this.getLayout();\n\n        if (this.isAnimating) {\n            this.stopAnimation();\n        }\n\n        if (layout) {\n            layout.unBefore('activeitemchange', 'onActiveItemChange', this);\n        }\n    },\n\n    onActiveItemChange: Ext.emptyFn,\n\n    destroy: function() {\n        var layout = this.getLayout();\n\n        if (this.isAnimating) {\n            this.stopAnimation();\n        }\n\n        if (layout) {\n            layout.unBefore('activeitemchange', 'onActiveItemChange', this);\n        }\n        this.setLayout(null);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.easing.Momentum', {\n\n    extend: 'Ext.fx.easing.Abstract',\n\n    config: {\n        acceleration: 30,\n        friction: 0,\n        startVelocity: 0\n    },\n\n    alpha: 0,\n\n    updateFriction: function(friction) {\n        var theta = Math.log(1 - (friction / 10));\n\n        this.theta = theta;\n\n        this.alpha = theta / this.getAcceleration();\n    },\n\n    updateStartVelocity: function(velocity) {\n        this.velocity = velocity * this.getAcceleration();\n    },\n\n    updateAcceleration: function(acceleration) {\n        this.velocity = this.getStartVelocity() * acceleration;\n\n        this.alpha = this.theta / acceleration;\n    },\n\n    getValue: function() {\n        return this.getStartValue() - this.velocity * (1 - this.getFrictionFactor()) / this.theta;\n    },\n\n    getFrictionFactor: function() {\n        var deltaTime = Ext.Date.now() - this.getStartTime();\n\n        return Math.exp(deltaTime * this.alpha);\n    },\n\n    getVelocity: function() {\n        return this.getFrictionFactor() * this.velocity;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.easing.Bounce', {\n\n    extend: 'Ext.fx.easing.Abstract',\n\n    config: {\n        springTension: 0.3,\n        acceleration: 30,\n        startVelocity: 0\n    },\n\n    getValue: function() {\n        var deltaTime = Ext.Date.now() - this.getStartTime(),\n            theta = (deltaTime / this.getAcceleration()),\n            powTime = theta * Math.pow(Math.E, -this.getSpringTension() * theta);\n\n        return this.getStartValue() + (this.getStartVelocity() * powTime);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.scroll.indicator.Abstract', {\n    extend: 'Ext.Component',\n\n    config: {\n        baseCls: 'x-scroll-indicator',\n\n        axis: 'x',\n\n        value: 0,\n\n        length: null,\n\n        hidden: true,\n\n        ui: 'dark'\n    },\n\n    cachedConfig: {\n        ratio: 1,\n\n        barCls: 'x-scroll-bar',\n\n        active: true\n    },\n\n    barElement: null,\n\n    barLength: 0,\n\n    gapLength: 0,\n\n    getElementConfig: function() {\n        return {\n            reference: 'barElement',\n            children: [this.callParent()]\n        };\n    },\n\n    applyRatio: function(ratio) {\n        if (isNaN(ratio)) {\n            ratio = 1;\n        }\n\n        return ratio;\n    },\n\n    refresh: function() {\n        var bar = this.barElement,\n            barDom = bar.dom,\n            ratio = this.getRatio(),\n            axis = this.getAxis(),\n            barLength = (axis === 'x') ? barDom.offsetWidth : barDom.offsetHeight,\n            length = barLength * ratio;\n\n        this.barLength = barLength;\n\n        this.gapLength = barLength - length;\n\n        this.setLength(length);\n\n        this.updateValue(this.getValue());\n    },\n\n    updateBarCls: function(barCls) {\n        this.barElement.addCls(barCls);\n    },\n\n    updateAxis: function(axis) {\n        this.element.addCls(this.getBaseCls(), null, axis);\n        this.barElement.addCls(this.getBarCls(), null, axis);\n    },\n\n    updateValue: function(value) {\n        this.setOffset(this.gapLength * value);\n    },\n\n    updateActive: function(active) {\n        this.barElement[active ? 'addCls' : 'removeCls']('active');\n    },\n\n    doSetHidden: function(hidden) {\n        var elementDomStyle = this.element.dom.style;\n\n        if (hidden) {\n            elementDomStyle.opacity = '0';\n        }\n        else {\n            elementDomStyle.opacity = '';\n        }\n    },\n\n    updateLength: function(length) {\n        var axis = this.getAxis(),\n            element = this.element;\n\n        if (axis === 'x') {\n            element.setWidth(length);\n        }\n        else {\n            element.setHeight(length);\n        }\n    },\n\n    setOffset: function(offset) {\n        var axis = this.getAxis(),\n            element = this.element;\n\n        if (axis === 'x') {\n            element.setLeft(offset);\n        }\n        else {\n            element.setTop(offset);\n        }\n    }\n});\n\n/**\n * A simple class used to mask any {@link Ext.Container}.\n *\n * This should rarely be used directly, instead look at the {@link Ext.Container#masked} configuration.\n *\n * ## Example\n *\n *     @example miniphone\n *     Ext.Viewport.add({\n *         masked: {\n *            xtype: 'loadmask'\n *         }\n *     });\n *\n * You can customize the loading {@link #message} and whether or not you want to show the {@link #indicator}:\n *\n *     @example miniphone\n *     Ext.Viewport.add({\n *         masked: {\n *            xtype: 'loadmask',\n *            message: 'A message..',\n *            indicator: false\n *         }\n *     });\n *\n */\nExt.define('Ext.LoadMask', {\n    extend: 'Ext.Mask',\n    xtype: 'loadmask',\n\n    config: {\n        /**\n         * @cfg {String} message\n         * The text to display in a centered loading message box.\n         * @accessor\n         */\n        message: 'Loading...',\n\n        /**\n         * @cfg {String} messageCls\n         * The CSS class to apply to the loading message element.\n         * @accessor\n         */\n        messageCls: Ext.baseCSSPrefix + 'mask-message',\n\n        /**\n         * @cfg {Boolean} indicator\n         * True to show the loading indicator on this {@link Ext.LoadMask}.\n         * @accessor\n         */\n        indicator: true,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        listeners: {\n            painted: 'onPainted',\n            erased: 'onErased'\n        }\n    },\n\n    getTemplate: function() {\n        var prefix = Ext.baseCSSPrefix;\n\n        return [\n            {\n                //it needs an inner so it can be centered within the mask, and have a background\n                reference: 'innerElement',\n                cls: prefix + 'mask-inner',\n                children: [\n                    //the elements required for the CSS loading {@link #indicator}\n                    {\n                        reference: 'indicatorElement',\n                        cls: prefix + 'loading-spinner-outer',\n                        children: [\n                            {\n                                cls: prefix + 'loading-spinner',\n                                children: [\n                                    { tag: 'span', cls: prefix + 'loading-top' },\n                                    { tag: 'span', cls: prefix + 'loading-right' },\n                                    { tag: 'span', cls: prefix + 'loading-bottom' },\n                                    { tag: 'span', cls: prefix + 'loading-left' }\n                                ]\n                            }\n                        ]\n                    },\n                    //the element used to display the {@link #message}\n                    {\n                        reference: 'messageElement'\n                    }\n                ]\n            }\n        ];\n    },\n\n    /**\n     * Updates the message element with the new value of the {@link #message} configuration\n     * @private\n     */\n    updateMessage: function(newMessage) {\n        this.messageElement.setHtml(newMessage);\n    },\n\n    /**\n     * Replaces the cls of the message element with the value of the {@link #messageCls} configuration.\n     * @private\n     */\n    updateMessageCls: function(newMessageCls, oldMessageCls) {\n        this.messageElement.replaceCls(oldMessageCls, newMessageCls);\n    },\n\n    /**\n     * Shows/hides the loading indicator when the {@link #indicator} configuration is changed.\n     * @private\n     */\n    updateIndicator: function(newIndicator) {\n        this[newIndicator ? 'removeCls' : 'addCls'](Ext.baseCSSPrefix + 'indicator-hidden');\n    },\n\n    onPainted: function() {\n        this.getParent().on({\n            scope: this,\n            resize: this.refreshPosition\n        });\n\n        this.refreshPosition();\n    },\n\n    onErased: function() {\n        this.getParent().un({\n            scope: this,\n            resize: this.refreshPosition\n        });\n    },\n\n    /**\n     * @private\n     * Updates the location of the indicator\n     */\n    refreshPosition: function() {\n        var parent = this.getParent(),\n            scrollable = parent.getScrollable(),\n            scroller = (scrollable) ? scrollable.getScroller() : null,\n            offset = (scroller) ? scroller.position : { x: 0, y: 0 },\n            parentSize = parent.element.getSize(),\n            innerSize = this.element.getSize();\n\n        this.innerElement.setStyle({\n            marginTop: Math.round(parentSize.height - innerSize.height + (offset.y * 2)) + 'px',\n            marginLeft: Math.round(parentSize.width - innerSize.width + offset.x) + 'px'\n        });\n    }\n}, function() {\n    this.override({\n        constructor: function(config, other) {\n            if (typeof other !== \"undefined\") {\n                config = other;\n\n                Ext.Logger.deprecate(\"You no longer need to pass an element to create a Ext.LoadMask. \" +\n                    \"It is a component and can be shown using the Ext.Container.masked configuration.\", this);\n            }\n\n            if (config) {\n                /**\n                 * @member Ext.LoadMask\n                 * @cfg {String} msg The message to display on the {@link Ext.LoadMask}\n                 * @deprecated 2.0.0 Please use the {@link #message} configuration\n                 */\n                if (config.hasOwnProperty('msg')) {\n                    config.message = config.msg;\n                    Ext.Logger.deprecate(\"'msg' config is deprecated, please use 'message' config instead\", this);\n                    delete config.msg;\n                }\n\n                /**\n                 * @member Ext.LoadMask\n                 * @cfg {String} msgCls The message cls used on the element which displays the {@link #message}\n                 * @deprecated 2.0.0 Please use the {@link #messageCls} configuration\n                 */\n                if (config.hasOwnProperty('msgCls')) {\n                    config.messageCls = config.msgCls;\n                    Ext.Logger.deprecate(\"'msgCls' config is deprecated, please use 'messageCls' config instead\", this);\n                    delete config.msgCls;\n                }\n\n                /**\n                 * @cfg {Ext.data.Store} store\n                 * Optional Store to which the mask is bound. The mask is displayed when a load request is issued, and\n                 * hidden on either load sucess, or load fail.\n                 * @removed 2.0.0 You can no longer bind a store to a {@link Ext.LoadMask}\n                 */\n                if (config.hasOwnProperty('store')) {\n                    Ext.Logger.deprecate(\"'store' config has been removed. You can no longer bind a store to a Ext.LoadMask\", this);\n                    delete config.store;\n                }\n            }\n\n            this.callParent([config]);\n        },\n\n        /**\n         * Changes the data store bound to this LoadMask.\n         * @param {Ext.data.Store} store The store to bind to this LoadMask\n         * @removed 2.0.0 You can no longer bind a store to a {@link Ext.LoadMask}.\n         */\n        bindStore: function() {\n            Ext.Logger.deprecate(\"You can no longer bind a store to a Ext.LoadMask\", this);\n        }\n    });\n});\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * Fit Layout is probably the simplest layout available. All it does is make a child component fit to the full size of\n * its parent Container.\n *\n * {@img ../guides/layouts/fit.jpg}\n *\n * For example, if you have a parent Container that is 200px by 200px and give it a single child component and a 'fit'\n * layout, the child component will also be 200px by 200px:\n *\n *     var panel = Ext.create('Ext.Panel', {\n *         width: 200,\n *         height: 200,\n *         layout: 'fit',\n *\n *         items: {\n *             xtype: 'panel',\n *             html: 'Also 200px by 200px'\n *         }\n *     });\n *\n *     Ext.Viewport.add(panel);\n *\n * For a more detailed overview of what layouts are and the types of layouts shipped with Sencha Touch 2, check out the\n * [Layout Guide](#!/guide/layouts).\n */\nExt.define('Ext.layout.Fit', {\n    extend: 'Ext.layout.Default',\n    alternateClassName: 'Ext.layout.FitLayout',\n\n    alias: 'layout.fit',\n\n    cls: Ext.baseCSSPrefix + 'layout-fit',\n\n    itemCls: Ext.baseCSSPrefix + 'layout-fit-item',\n\n    constructor: function(container) {\n        this.callParent(arguments);\n\n        this.apply();\n    },\n\n    apply: function() {\n        this.container.innerElement.addCls(this.cls);\n    },\n\n    reapply: function() {\n        this.apply();\n    },\n\n    unapply: function() {\n        this.container.innerElement.removeCls(this.cls);\n    },\n\n    doItemAdd: function(item, index) {\n        if (item.isInnerItem()) {\n            item.addCls(this.itemCls);\n        }\n\n        this.callParent(arguments);\n    },\n\n    /**\n     * @private\n     */\n    doItemRemove: function(item) {\n        if (item.isInnerItem()) {\n            item.removeCls(this.itemCls);\n        }\n\n        this.callParent(arguments);\n    }\n});\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * The HBox (short for horizontal box) layout makes it easy to position items horizontally in a\n * {@link Ext.Container Container}. It can size items based on a fixed width or a fraction of the total width\n * available.\n *\n * For example, an email client might have a list of messages pinned to the left, taking say one third of the available\n * width, and a message viewing panel in the rest of the screen. We can achieve this with hbox layout's *flex* config:\n *\n *     @example\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'hbox',\n *         items: [\n *             {\n *                 html: 'message list',\n *                 style: 'background-color: #5E99CC;',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'message preview',\n *                 style: 'background-color: #759E60;',\n *                 flex: 2\n *             }\n *         ]\n *     });\n *\n * This will give us two boxes - one that's one third of the available width, the other being two thirds of the\n * available width:\n *\n * {@img ../guides/layouts/hbox.jpg}\n *\n * We can also specify fixed widths for child items, or mix fixed widths and flexes. For example, here we have 3 items\n * - one on each side with flex: 1, and one in the center with a fixed width of 100px:\n *\n *     @example\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'hbox',\n *         items: [\n *             {\n *                 html: 'Left item',\n *                 style: 'background-color: #759E60;',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'Center item',\n *                 width: 100\n *             },\n *             {\n *                 html: 'Right item',\n *                 style: 'background-color: #5E99CC;',\n *                 flex: 1\n *             }\n *         ]\n *     });\n *\n * Which gives us an effect like this:\n *\n * {@img ../guides/layouts/hboxfixed.jpg}\n *\n * For a more detailed overview of what layouts are and the types of layouts shipped with Sencha Touch 2, check out the\n * [Layout Guide](#!/guide/layouts).\n */\nExt.define('Ext.layout.HBox', {\n    extend: 'Ext.layout.AbstractBox',\n    alternateClassName: 'Ext.layout.HBoxLayout',\n\n    alias: 'layout.hbox',\n\n    sizePropertyName: 'width',\n\n    sizeChangeEventName: 'widthchange',\n\n    cls: Ext.baseCSSPrefix + 'layout-hbox'\n});\n\n\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * The VBox (short for vertical box) layout makes it easy to position items horizontally in a\n * {@link Ext.Container Container}. It can size items based on a fixed height or a fraction of the total height\n * available.\n *\n * For example, let's say we want a banner to take one third of the available height, and an information panel in the\n * rest of the screen. We can achieve this with vbox layout's *flex* config:\n *\n *     @example\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'vbox',\n *         items: [\n *             {\n *                 html: 'Awesome banner',\n *                 style: 'background-color: #759E60;',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'Some wonderful information',\n *                 style: 'background-color: #5E99CC;',\n *                 flex: 2\n *             }\n *         ]\n *     });\n *\n * This will give us two boxes - one that's one third of the available height, the other being two thirds of the\n * available height:\n *\n * {@img ../guides/layouts/vbox.jpg}\n *\n * We can also specify fixed heights for child items, or mix fixed heights and flexes. For example, here we have 3\n * items - one at the top and bottom with flex: 1, and one in the center with a fixed width of 100px:\n *\n *     @example preview portrait\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: 'vbox',\n *         items: [\n *             {\n *                 html: 'Top item',\n *                 style: 'background-color: #5E99CC;',\n *                 flex: 1\n *             },\n *             {\n *                 html: 'Center item',\n *                 height: 100\n *             },\n *             {\n *                 html: 'Bottom item',\n *                 style: 'background-color: #759E60;',\n *                 flex: 1\n *             }\n *         ]\n *     });\n *\n * Which gives us an effect like this:\n *\n * {@img ../guides/layouts/vboxfixed.jpg}\n *\n * For a more detailed overview of what layouts are and the types of layouts shipped with Sencha Touch 2, check out the\n * [Layout Guide](#!/guide/layouts).\n *\n */\nExt.define('Ext.layout.VBox', {\n    extend: 'Ext.layout.AbstractBox',\n    alternateClassName: 'Ext.layout.VBoxLayout',\n\n    alias: 'layout.vbox',\n\n    sizePropertyName: 'height',\n\n    sizeChangeEventName: 'heightchange',\n\n    cls: Ext.baseCSSPrefix + 'layout-vbox'\n});\n\n/**\n * @private\n */\nExt.define('Ext.util.AbstractMixedCollection', {\n    requires: ['Ext.util.Filter'],\n\n    mixins: {\n        observable: 'Ext.mixin.Observable'\n    },\n\n    /**\n     * @event clear\n     * Fires when the collection is cleared.\n     */\n\n    /**\n     * @event add\n     * Fires when an item is added to the collection.\n     * @param {Number} index The index at which the item was added.\n     * @param {Object} o The item added.\n     * @param {String} key The key associated with the added item.\n     */\n\n    /**\n     * @event replace\n     * Fires when an item is replaced in the collection.\n     * @param {String} key he key associated with the new added.\n     * @param {Object} old The item being replaced.\n     * @param {Object} new The new item.\n     */\n\n    /**\n     * @event remove\n     * Fires when an item is removed from the collection.\n     * @param {Object} o The item being removed.\n     * @param {String} key (optional) The key associated with the removed item.\n     */\n\n    /**\n     * Creates new MixedCollection.\n     * @param {Boolean} [allowFunctions] Specify `true` if the {@link #addAll}\n     * function should add function references to the collection. (defaults to `false`)\n     * @param {Function} [keyFn] A function that can accept an item of the type(s) stored in this MixedCollection\n     * and return the key value for that item.  This is used when available to look up the key on items that\n     * were passed without an explicit key parameter to a MixedCollection method.  Passing this parameter is\n     * equivalent to providing an implementation for the {@link #getKey} method.\n     */\n    constructor: function(allowFunctions, keyFn) {\n        var me = this;\n\n        me.items = [];\n        me.map = {};\n        me.keys = [];\n        me.length = 0;\n\n        me.allowFunctions = allowFunctions === true;\n\n        if (keyFn) {\n            me.getKey = keyFn;\n        }\n\n        me.mixins.observable.constructor.call(me);\n    },\n\n    /**\n     * @cfg {Boolean} allowFunctions Specify <tt>true</tt> if the {@link #addAll}\n     * function should add function references to the collection. Defaults to\n     * <tt>false</tt>.\n     */\n    allowFunctions : false,\n\n    /**\n     * Adds an item to the collection. Fires the {@link #event-add} event when complete.\n     * @param {String} key <p>The key to associate with the item, or the new item.</p>\n     * <p>If a {@link #getKey} implementation was specified for this MixedCollection,\n     * or if the key of the stored items is in a property called <tt><b>id</b></tt>,\n     * the MixedCollection will be able to <i>derive</i> the key for the new item.\n     * In this case just pass the new item in this parameter.</p>\n     * @param {Object} o The item to add.\n     * @return {Object} The item added.\n     */\n    add: function(key, obj){\n        var me = this,\n            myObj = obj,\n            myKey = key,\n            old;\n\n        if (arguments.length == 1) {\n            myObj = myKey;\n            myKey = me.getKey(myObj);\n        }\n        if (typeof myKey != 'undefined' && myKey !== null) {\n            old = me.map[myKey];\n            if (typeof old != 'undefined') {\n                return me.replace(myKey, myObj);\n            }\n            me.map[myKey] = myObj;\n        }\n        me.length++;\n        me.items.push(myObj);\n        me.keys.push(myKey);\n        me.fireEvent('add', me.length - 1, myObj, myKey);\n        return myObj;\n    },\n\n    /**\n      * MixedCollection has a generic way to fetch keys if you implement getKey.  The default implementation\n      * simply returns <b><code>item.id</code></b> but you can provide your own implementation\n      * to return a different value as in the following examples:<pre><code>\n// normal way\nvar mc = new Ext.util.MixedCollection();\nmc.add(someEl.dom.id, someEl);\nmc.add(otherEl.dom.id, otherEl);\n//and so on\n\n// using getKey\nvar mc = new Ext.util.MixedCollection();\nmc.getKey = function(el){\n   return el.dom.id;\n};\nmc.add(someEl);\nmc.add(otherEl);\n\n// or via the constructor\nvar mc = new Ext.util.MixedCollection(false, function(el){\n   return el.dom.id;\n});\nmc.add(someEl);\nmc.add(otherEl);\n     * </code></pre>\n     * @param {Object} item The item for which to find the key.\n     * @return {Object} The key for the passed item.\n     */\n    getKey: function(o){\n         return o.id;\n    },\n\n    /**\n     * Replaces an item in the collection. Fires the {@link #event-replace} event when complete.\n     * @param {String} key <p>The key associated with the item to replace, or the replacement item.</p>\n     * <p>If you supplied a {@link #getKey} implementation for this MixedCollection, or if the key\n     * of your stored items is in a property called <tt><b>id</b></tt>, then the MixedCollection\n     * will be able to <i>derive</i> the key of the replacement item. If you want to replace an item\n     * with one having the same key value, then just pass the replacement item in this parameter.</p>\n     * @param o {Object} o (optional) If the first parameter passed was a key, the item to associate\n     * with that key.\n     * @return {Object}  The new item.\n     */\n    replace: function(key, o){\n        var me = this,\n            old,\n            index;\n\n        if (arguments.length == 1) {\n            o = arguments[0];\n            key = me.getKey(o);\n        }\n        old = me.map[key];\n        if (typeof key == 'undefined' || key === null || typeof old == 'undefined') {\n             return me.add(key, o);\n        }\n        index = me.indexOfKey(key);\n        me.items[index] = o;\n        me.map[key] = o;\n        me.fireEvent('replace', key, old, o);\n        return o;\n    },\n\n    /**\n     * Adds all elements of an Array or an Object to the collection.\n     * @param {Object/Array} objs An Object containing properties which will be added\n     * to the collection, or an Array of values, each of which are added to the collection.\n     * Functions references will be added to the collection if <code>{@link #allowFunctions}</code>\n     * has been set to <tt>true</tt>.\n     */\n    addAll: function(objs){\n        var me = this,\n            i = 0,\n            args,\n            len,\n            key;\n\n        if (arguments.length > 1 || Ext.isArray(objs)) {\n            args = arguments.length > 1 ? arguments : objs;\n            for (len = args.length; i < len; i++) {\n                me.add(args[i]);\n            }\n        } else {\n            for (key in objs) {\n                if (objs.hasOwnProperty(key)) {\n                    if (me.allowFunctions || typeof objs[key] != 'function') {\n                        me.add(key, objs[key]);\n                    }\n                }\n            }\n        }\n    },\n\n    /**\n     * Executes the specified function once for every item in the collection, passing the following arguments:\n     * <div class=\"mdetail-params\"><ul>\n     * <li><b>item</b> : Mixed<p class=\"sub-desc\">The collection item</p></li>\n     * <li><b>index</b> : Number<p class=\"sub-desc\">The item's index</p></li>\n     * <li><b>length</b> : Number<p class=\"sub-desc\">The total number of items in the collection</p></li>\n     * </ul></div>\n     * The function should return a boolean value. Returning false from the function will stop the iteration.\n     * @param {Function} fn The function to execute for each item.\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to the current item in the iteration.\n     */\n    each: function(fn, scope){\n        var items = [].concat(this.items), // each safe for removal\n            i = 0,\n            len = items.length,\n            item;\n\n        for (; i < len; i++) {\n            item = items[i];\n            if (fn.call(scope || item, item, i, len) === false) {\n                break;\n            }\n        }\n    },\n\n    /**\n     * Executes the specified function once for every key in the collection, passing each\n     * key, and its associated item as the first two parameters.\n     * @param {Function} fn The function to execute for each item.\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to the browser window.\n     */\n    eachKey: function(fn, scope){\n        var keys = this.keys,\n            items = this.items,\n            i = 0,\n            len = keys.length;\n\n        for (; i < len; i++) {\n            fn.call(scope || window, keys[i], items[i], i, len);\n        }\n    },\n\n    /**\n     * Returns the first item in the collection which elicits a true return value from the\n     * passed selection function.\n     * @param {Function} fn The selection function to execute for each item.\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to the browser window.\n     * @return {Object} The first item in the collection which returned true from the selection function.\n     */\n    findBy: function(fn, scope) {\n        var keys = this.keys,\n            items = this.items,\n            i = 0,\n            len = items.length;\n\n        for (; i < len; i++) {\n            if (fn.call(scope || window, items[i], keys[i])) {\n                return items[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * Inserts an item at the specified index in the collection. Fires the {@link #event-add} event when complete.\n     * @param {Number} index The index to insert the item at.\n     * @param {String} key The key to associate with the new item, or the item itself.\n     * @param {Object} o (optional) If the second parameter was a key, the new item.\n     * @return {Object} The item inserted.\n     */\n    insert: function(index, key, obj){\n        var me = this,\n            myKey = key,\n            myObj = obj;\n\n        if (arguments.length == 2) {\n            myObj = myKey;\n            myKey = me.getKey(myObj);\n        }\n        if (me.containsKey(myKey)) {\n            me.suspendEvents();\n            me.removeAtKey(myKey);\n            me.resumeEvents();\n        }\n        if (index >= me.length) {\n            return me.add(myKey, myObj);\n        }\n        me.length++;\n        Ext.Array.splice(me.items, index, 0, myObj);\n        if (typeof myKey != 'undefined' && myKey !== null) {\n            me.map[myKey] = myObj;\n        }\n        Ext.Array.splice(me.keys, index, 0, myKey);\n        me.fireEvent('add', index, myObj, myKey);\n        return myObj;\n    },\n\n    /**\n     * Remove an item from the collection.\n     * @param {Object} o The item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    remove: function(o){\n        return this.removeAt(this.indexOf(o));\n    },\n\n    /**\n     * Remove all items in the passed array from the collection.\n     * @param {Array} items An array of items to be removed.\n     * @return {Ext.util.MixedCollection} this object\n     */\n    removeAll: function(items){\n        Ext.each(items || [], function(item) {\n            this.remove(item);\n        }, this);\n\n        return this;\n    },\n\n    /**\n     * Remove an item from a specified index in the collection. Fires the {@link #event-remove} event when complete.\n     * @param {Number} index The index within the collection of the item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    removeAt: function(index){\n        var me = this,\n            o,\n            key;\n\n        if (index < me.length && index >= 0) {\n            me.length--;\n            o = me.items[index];\n            Ext.Array.erase(me.items, index, 1);\n            key = me.keys[index];\n            if (typeof key != 'undefined') {\n                delete me.map[key];\n            }\n            Ext.Array.erase(me.keys, index, 1);\n            me.fireEvent('remove', o, key);\n            return o;\n        }\n        return false;\n    },\n\n    /**\n     * Removed an item associated with the passed key fom the collection.\n     * @param {String} key The key of the item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    removeAtKey: function(key){\n        return this.removeAt(this.indexOfKey(key));\n    },\n\n    /**\n     * Returns the number of items in the collection.\n     * @return {Number} the number of items in the collection.\n     */\n    getCount: function(){\n        return this.length;\n    },\n\n    /**\n     * Returns index within the collection of the passed Object.\n     * @param {Object} o The item to find the index of.\n     * @return {Number} index of the item. Returns -1 if not found.\n     */\n    indexOf: function(o){\n        return Ext.Array.indexOf(this.items, o);\n    },\n\n    /**\n     * Returns index within the collection of the passed key.\n     * @param {String} key The key to find the index of.\n     * @return {Number} index of the key.\n     */\n    indexOfKey: function(key){\n        return Ext.Array.indexOf(this.keys, key);\n    },\n\n    /**\n     * Returns the item associated with the passed key OR index.\n     * Key has priority over index.  This is the equivalent\n     * of calling {@link #getByKey} first, then if nothing matched calling {@link #getAt}.\n     * @param {String/Number} key The key or index of the item.\n     * @return {Object} If the item is found, returns the item.  If the item was not found, returns <tt>undefined</tt>.\n     * If an item was found, but is a Class, returns <tt>null</tt>.\n     */\n    get: function(key) {\n        var me = this,\n            mk = me.map[key],\n            item = mk !== undefined ? mk : (typeof key == 'number') ? me.items[key] : undefined;\n        return typeof item != 'function' || me.allowFunctions ? item : null; // for prototype!\n    },\n\n    /**\n     * Returns the item at the specified index.\n     * @param {Number} index The index of the item.\n     * @return {Object} The item at the specified index.\n     */\n    getAt: function(index) {\n        return this.items[index];\n    },\n\n    /**\n     * Returns the item associated with the passed key.\n     * @param {String/Number} key The key of the item.\n     * @return {Object} The item associated with the passed key.\n     */\n    getByKey: function(key) {\n        return this.map[key];\n    },\n\n    /**\n     * Returns true if the collection contains the passed Object as an item.\n     * @param {Object} o  The Object to look for in the collection.\n     * @return {Boolean} True if the collection contains the Object as an item.\n     */\n    contains: function(o){\n        return Ext.Array.contains(this.items, o);\n    },\n\n    /**\n     * Returns true if the collection contains the passed Object as a key.\n     * @param {String} key The key to look for in the collection.\n     * @return {Boolean} True if the collection contains the Object as a key.\n     */\n    containsKey: function(key){\n        return typeof this.map[key] != 'undefined';\n    },\n\n    /**\n     * Removes all items from the collection.  Fires the {@link #event-clear} event when complete.\n     */\n    clear: function(){\n        var me = this;\n\n        me.length = 0;\n        me.items = [];\n        me.keys = [];\n        me.map = {};\n        me.fireEvent('clear');\n    },\n\n    /**\n     * Returns the first item in the collection.\n     * @return {Object} the first item in the collection..\n     */\n    first: function() {\n        return this.items[0];\n    },\n\n    /**\n     * Returns the last item in the collection.\n     * @return {Object} the last item in the collection..\n     */\n    last: function() {\n        return this.items[this.length - 1];\n    },\n\n    /**\n     * Collects all of the values of the given property and returns their sum\n     * @param {String} property The property to sum by\n     * @param {String} root Optional 'root' property to extract the first argument from. This is used mainly when\n     * summing fields in records, where the fields are all stored inside the 'data' object\n     * @param {Number} start (optional) The record index to start at (defaults to <tt>0</tt>)\n     * @param {Number} end (optional) The record index to end at (defaults to <tt>-1</tt>)\n     * @return {Number} The total\n     */\n    sum: function(property, root, start, end) {\n        var values = this.extractValues(property, root),\n            length = values.length,\n            sum    = 0,\n            i;\n\n        start = start || 0;\n        end   = (end || end === 0) ? end : length - 1;\n\n        for (i = start; i <= end; i++) {\n            sum += values[i];\n        }\n\n        return sum;\n    },\n\n    /**\n     * Collects unique values of a particular property in this MixedCollection\n     * @param {String} property The property to collect on\n     * @param {String} root Optional 'root' property to extract the first argument from. This is used mainly when\n     * summing fields in records, where the fields are all stored inside the 'data' object\n     * @param {Boolean} allowBlank (optional) Pass true to allow null, undefined or empty string values\n     * @return {Array} The unique values\n     */\n    collect: function(property, root, allowNull) {\n        var values = this.extractValues(property, root),\n            length = values.length,\n            hits   = {},\n            unique = [],\n            value, strValue, i;\n\n        for (i = 0; i < length; i++) {\n            value = values[i];\n            strValue = String(value);\n\n            if ((allowNull || !Ext.isEmpty(value)) && !hits[strValue]) {\n                hits[strValue] = true;\n                unique.push(value);\n            }\n        }\n\n        return unique;\n    },\n\n    /**\n     * @private\n     * Extracts all of the given property values from the items in the MC. Mainly used as a supporting method for\n     * functions like sum and collect.\n     * @param {String} property The property to extract\n     * @param {String} root Optional 'root' property to extract the first argument from. This is used mainly when\n     * extracting field data from Model instances, where the fields are stored inside the 'data' object\n     * @return {Array} The extracted values\n     */\n    extractValues: function(property, root) {\n        var values = this.items;\n\n        if (root) {\n            values = Ext.Array.pluck(values, root);\n        }\n\n        return Ext.Array.pluck(values, property);\n    },\n\n    /**\n     * Returns a range of items in this collection\n     * @param {Number} startIndex (optional) The starting index. Defaults to 0.\n     * @param {Number} endIndex (optional) The ending index. Defaults to the last item.\n     * @return {Array} An array of items\n     */\n    getRange: function(start, end){\n        var me = this,\n            items = me.items,\n            range = [],\n            i;\n\n        if (items.length < 1) {\n            return range;\n        }\n\n        start = start || 0;\n        end = Math.min(typeof end == 'undefined' ? me.length - 1 : end, me.length - 1);\n        if (start <= end) {\n            for (i = start; i <= end; i++) {\n                range[range.length] = items[i];\n            }\n        } else {\n            for (i = start; i >= end; i--) {\n                range[range.length] = items[i];\n            }\n        }\n        return range;\n    },\n\n    /**\n     * <p>Filters the objects in this collection by a set of {@link Ext.util.Filter Filter}s, or by a single\n     * property/value pair with optional parameters for substring matching and case sensitivity. See\n     * {@link Ext.util.Filter Filter} for an example of using Filter objects (preferred). Alternatively,\n     * MixedCollection can be easily filtered by property like this:</p>\n<pre><code>\n//create a simple store with a few people defined\nvar people = new Ext.util.MixedCollection();\npeople.addAll([\n    {id: 1, age: 25, name: 'Ed'},\n    {id: 2, age: 24, name: 'Tommy'},\n    {id: 3, age: 24, name: 'Arne'},\n    {id: 4, age: 26, name: 'Aaron'}\n]);\n\n//a new MixedCollection containing only the items where age == 24\nvar middleAged = people.filter('age', 24);\n</code></pre>\n     *\n     *\n     * @param {Ext.util.Filter[]/String} property A property on your objects, or an array of {@link Ext.util.Filter Filter} objects\n     * @param {String/RegExp} value Either string that the property values\n     * should start with or a RegExp to test against the property\n     * @param {Boolean} anyMatch (optional) True to match any part of the string, not just the beginning\n     * @param {Boolean} caseSensitive (optional) True for case sensitive comparison (defaults to False).\n     * @return {Ext.util.MixedCollection} The new filtered collection\n     */\n    filter: function(property, value, anyMatch, caseSensitive) {\n        var filters = [],\n            filterFn;\n\n        //support for the simple case of filtering by property/value\n        if (Ext.isString(property)) {\n            filters.push(Ext.create('Ext.util.Filter', {\n                property     : property,\n                value        : value,\n                anyMatch     : anyMatch,\n                caseSensitive: caseSensitive\n            }));\n        } else if (Ext.isArray(property) || property instanceof Ext.util.Filter) {\n            filters = filters.concat(property);\n        }\n\n        //at this point we have an array of zero or more Ext.util.Filter objects to filter with,\n        //so here we construct a function that combines these filters by ANDing them together\n        filterFn = function(record) {\n            var isMatch = true,\n                length = filters.length,\n                i;\n\n            for (i = 0; i < length; i++) {\n                var filter = filters[i],\n                    fn     = filter.getFilterFn(),\n                    scope  = filter.getScope();\n\n                isMatch = isMatch && fn.call(scope, record);\n            }\n\n            return isMatch;\n        };\n\n        return this.filterBy(filterFn);\n    },\n\n    /**\n     * Filter by a function. Returns a <i>new</i> collection that has been filtered.\n     * The passed function will be called with each object in the collection.\n     * If the function returns true, the value is included otherwise it is filtered.\n     * @param {Function} fn The function to be called, it will receive the args o (the object), k (the key)\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to this MixedCollection.\n     * @return {Ext.util.MixedCollection} The new filtered collection\n     */\n    filterBy: function(fn, scope) {\n        var me = this,\n            newMC  = new this.self(),\n            keys   = me.keys,\n            items  = me.items,\n            length = items.length,\n            i;\n\n        newMC.getKey = me.getKey;\n\n        for (i = 0; i < length; i++) {\n            if (fn.call(scope || me, items[i], keys[i])) {\n                newMC.add(keys[i], items[i]);\n            }\n        }\n\n        return newMC;\n    },\n\n    /**\n     * Finds the index of the first matching object in this collection by a specific property/value.\n     * @param {String} property The name of a property on your objects.\n     * @param {String/RegExp} value A string that the property values\n     * should start with or a RegExp to test against the property.\n     * @param {Number} start (optional) The index to start searching at (defaults to 0).\n     * @param {Boolean} anyMatch (optional) True to match any part of the string, not just the beginning.\n     * @param {Boolean} caseSensitive (optional) True for case sensitive comparison.\n     * @return {Number} The matched index or -1\n     */\n    findIndex: function(property, value, start, anyMatch, caseSensitive){\n        if(Ext.isEmpty(value, false)){\n            return -1;\n        }\n        value = this.createValueMatcher(value, anyMatch, caseSensitive);\n        return this.findIndexBy(function(o){\n            return o && value.test(o[property]);\n        }, null, start);\n    },\n\n    /**\n     * Find the index of the first matching object in this collection by a function.\n     * If the function returns <i>true</i> it is considered a match.\n     * @param {Function} fn The function to be called, it will receive the args o (the object), k (the key).\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to this MixedCollection.\n     * @param {Number} start (optional) The index to start searching at (defaults to 0).\n     * @return {Number} The matched index or -1\n     */\n    findIndexBy: function(fn, scope, start){\n        var me = this,\n            keys = me.keys,\n            items = me.items,\n            i = start || 0,\n            len = items.length;\n\n        for (; i < len; i++) {\n            if (fn.call(scope || me, items[i], keys[i])) {\n                return i;\n            }\n        }\n        return -1;\n    },\n\n    /**\n     * Returns a regular expression based on the given value and matching options. This is used internally for finding and filtering,\n     * and by Ext.data.Store#filter\n     * @private\n     * @param {String} value The value to create the regex for. This is escaped using Ext.escapeRe\n     * @param {Boolean} anyMatch True to allow any match - no regex start/end line anchors will be added. Defaults to false\n     * @param {Boolean} caseSensitive True to make the regex case sensitive (adds 'i' switch to regex). Defaults to false.\n     * @param {Boolean} exactMatch True to force exact match (^ and $ characters added to the regex). Defaults to false. Ignored if anyMatch is true.\n     */\n    createValueMatcher: function(value, anyMatch, caseSensitive, exactMatch) {\n        if (!value.exec) { // not a regex\n            var er = Ext.String.escapeRegex;\n            value = String(value);\n\n            if (anyMatch === true) {\n                value = er(value);\n            } else {\n                value = '^' + er(value);\n                if (exactMatch === true) {\n                    value += '$';\n                }\n            }\n            value = new RegExp(value, caseSensitive ? '' : 'i');\n        }\n        return value;\n    },\n\n    /**\n     * Creates a shallow copy of this collection\n     * @return {Ext.util.MixedCollection}\n     */\n    clone: function() {\n        var me = this,\n            copy = new this.self(),\n            keys = me.keys,\n            items = me.items,\n            i = 0,\n            len = items.length;\n\n        for(; i < len; i++){\n            copy.add(keys[i], items[i]);\n        }\n        copy.getKey = me.getKey;\n        return copy;\n    }\n});\n\n/**\n * @docauthor Tommy Maintz <tommy@sencha.com>\n *\n * A mixin which allows a data component to be sorted. This is used by e.g. {@link Ext.data.Store} and {@link Ext.data.TreeStore}.\n *\n * **NOTE**: This mixin is mainly for internal library use and most users should not need to use it directly. It\n * is more likely you will want to use one of the component classes that import this mixin, such as\n * {@link Ext.data.Store} or {@link Ext.data.TreeStore}.\n */\nExt.define(\"Ext.util.Sortable\", {\n    /**\n     * @property {Boolean} isSortable\n     * Flag denoting that this object is sortable. Always true.\n     */\n    isSortable: true,\n    \n    /**\n     * @property {String} defaultSortDirection\n     * The default sort direction to use if one is not specified (defaults to \"ASC\")\n     */\n    defaultSortDirection: \"ASC\",\n    \n    requires: [\n        'Ext.util.Sorter'\n    ],\n\n    /**\n     * @property {String} sortRoot\n     * The property in each item that contains the data to sort.\n     */    \n    \n    /**\n     * Performs initialization of this mixin. Component classes using this mixin should call this method during their\n     * own initialization.\n     */\n    initSortable: function() {\n        var me = this,\n            sorters = me.sorters;\n        \n        /**\n         * @property {Ext.util.MixedCollection} sorters\n         * The collection of {@link Ext.util.Sorter Sorters} currently applied to this Store\n         */\n        me.sorters = Ext.create('Ext.util.AbstractMixedCollection', false, function(item) {\n            return item.id || item.property;\n        });\n        \n        if (sorters) {\n            me.sorters.addAll(me.decodeSorters(sorters));\n        }\n    },\n\n    /**\n     * Sorts the data in the Store by one or more of its properties. Example usage:\n     *\n     *     //sort by a single field\n     *     myStore.sort('myField', 'DESC');\n     *\n     *     //sorting by multiple fields\n     *     myStore.sort([\n     *         {\n     *             property : 'age',\n     *             direction: 'ASC'\n     *         },\n     *         {\n     *             property : 'name',\n     *             direction: 'DESC'\n     *         }\n     *     ]);\n     *\n     * Internally, Store converts the passed arguments into an array of {@link Ext.util.Sorter} instances, and delegates\n     * the actual sorting to its internal {@link Ext.util.MixedCollection}.\n     *\n     * When passing a single string argument to sort, Store maintains a ASC/DESC toggler per field, so this code:\n     *\n     *     store.sort('myField');\n     *     store.sort('myField');\n     *\n     * Is equivalent to this code, because Store handles the toggling automatically:\n     *\n     *     store.sort('myField', 'ASC');\n     *     store.sort('myField', 'DESC');\n     *\n     * @param {String/Ext.util.Sorter[]} sorters Either a string name of one of the fields in this Store's configured\n     * {@link Ext.data.Model Model}, or an array of sorter configurations.\n     * @param {String} direction The overall direction to sort the data by. Defaults to \"ASC\".\n     * @return {Ext.util.Sorter[]}\n     */\n    sort: function(sorters, direction, where, doSort) {\n        var me = this,\n            sorter, sorterFn,\n            newSorters;\n        \n        if (Ext.isArray(sorters)) {\n            doSort = where;\n            where = direction;\n            newSorters = sorters;\n        }\n        else if (Ext.isObject(sorters)) {\n            doSort = where;\n            where = direction;\n            newSorters = [sorters];\n        }\n        else if (Ext.isString(sorters)) {\n            sorter = me.sorters.get(sorters);\n\n            if (!sorter) {\n                sorter = {\n                    property : sorters,\n                    direction: direction\n                };\n                newSorters = [sorter];\n            }\n            else if (direction === undefined) {\n                sorter.toggle();\n            }\n            else {\n                sorter.setDirection(direction);\n            }\n        }\n        \n        if (newSorters && newSorters.length) {\n            newSorters = me.decodeSorters(newSorters);\n            if (Ext.isString(where)) {\n                if (where === 'prepend') {\n                    sorters = me.sorters.clone().items;\n                    \n                    me.sorters.clear();\n                    me.sorters.addAll(newSorters);\n                    me.sorters.addAll(sorters);\n                }\n                else {\n                    me.sorters.addAll(newSorters);\n                }\n            }\n            else {\n                me.sorters.clear();\n                me.sorters.addAll(newSorters);\n            }\n            \n            if (doSort !== false) {\n                me.onBeforeSort(newSorters);\n            }\n        }\n        \n        if (doSort !== false) {\n            sorters = me.sorters.items;\n            if (sorters.length) {\n                //construct an amalgamated sorter function which combines all of the Sorters passed\n                sorterFn = function(r1, r2) {\n                    var result = sorters[0].sort(r1, r2),\n                        length = sorters.length,\n                        i;\n\n                        //if we have more than one sorter, OR any additional sorter functions together\n                        for (i = 1; i < length; i++) {\n                            result = result || sorters[i].sort.call(this, r1, r2);\n                        }\n\n                    return result;\n                };\n\n                me.doSort(sorterFn);                \n            }\n        }\n        \n        return sorters;\n    },\n    \n    onBeforeSort: Ext.emptyFn,\n        \n    /**\n     * @private\n     * Normalizes an array of sorter objects, ensuring that they are all Ext.util.Sorter instances\n     * @param {Array} sorters The sorters array\n     * @return {Array} Array of Ext.util.Sorter objects\n     */\n    decodeSorters: function(sorters) {\n        if (!Ext.isArray(sorters)) {\n            if (sorters === undefined) {\n                sorters = [];\n            } else {\n                sorters = [sorters];\n            }\n        }\n\n        var length = sorters.length,\n            Sorter = Ext.util.Sorter,\n            fields = this.model ? this.model.prototype.fields : null,\n            field,\n            config, i;\n\n        for (i = 0; i < length; i++) {\n            config = sorters[i];\n\n            if (!(config instanceof Sorter)) {\n                if (Ext.isString(config)) {\n                    config = {\n                        property: config\n                    };\n                }\n                \n                Ext.applyIf(config, {\n                    root     : this.sortRoot,\n                    direction: \"ASC\"\n                });\n\n                if (config.fn) {\n                    config.sorterFn = config.fn;\n                }\n\n                //support a function to be passed as a sorter definition\n                if (typeof config == 'function') {\n                    config = {\n                        sorterFn: config\n                    };\n                }\n\n                // ensure sortType gets pushed on if necessary\n                if (fields && !config.transform) {\n                    field = fields.get(config.property);\n                    config.transform = field ? field.sortType : undefined;\n                }\n                sorters[i] = Ext.create('Ext.util.Sorter', config);\n            }\n        }\n\n        return sorters;\n    },\n    \n    getSorters: function() {\n        return this.sorters.items;\n    }\n});\n/**\n * Represents a collection of a set of key and value pairs. Each key in the MixedCollection must be unique, the same key\n * cannot exist twice. This collection is ordered, items in the collection can be accessed by index or via the key.\n * Newly added items are added to the end of the collection. This class is similar to {@link Ext.util.HashMap} however\n * it is heavier and provides more functionality. Sample usage:\n *\n *     var coll = new Ext.util.MixedCollection();\n *     coll.add('key1', 'val1');\n *     coll.add('key2', 'val2');\n *     coll.add('key3', 'val3');\n *\n *     console.log(coll.get('key1')); // prints 'val1'\n *     console.log(coll.indexOfKey('key3')); // prints 2\n *\n * The MixedCollection also has support for sorting and filtering of the values in the collection.\n *\n *     var coll = new Ext.util.MixedCollection();\n *     coll.add('key1', 100);\n *     coll.add('key2', -100);\n *     coll.add('key3', 17);\n *     coll.add('key4', 0);\n *     var biggerThanZero = coll.filterBy(function(value){\n *         return value > 0;\n *     });\n *     console.log(biggerThanZero.getCount()); // prints 2\n */\nExt.define('Ext.util.MixedCollection', {\n    extend: 'Ext.util.AbstractMixedCollection',\n    mixins: {\n        sortable: 'Ext.util.Sortable'\n    },\n\n    /**\n     * @event sort\n     * Fires whenever MixedCollection is sorted\n     * @param {Ext.util.MixedCollection} this\n     */\n\n    constructor: function() {\n        var me = this;\n        me.callParent(arguments);\n        me.mixins.sortable.initSortable.call(me);\n    },\n\n    doSort: function(sorterFn) {\n        this.sortBy(sorterFn);\n    },\n\n    /**\n     * @private\n     * Performs the actual sorting based on a direction and a sorting function. Internally,\n     * this creates a temporary array of all items in the MixedCollection, sorts it and then writes\n     * the sorted array data back into this.items and this.keys\n     * @param {String} property Property to sort by ('key', 'value', or 'index')\n     * @param {String} dir (optional) Direction to sort 'ASC' or 'DESC'. Defaults to 'ASC'.\n     * @param {Function} fn (optional) Comparison function that defines the sort order.\n     * Defaults to sorting by numeric value.\n     */\n    _sort: function(property, dir, fn){\n        var me = this,\n            i, len,\n            dsc   = String(dir).toUpperCase() == 'DESC' ? -1 : 1,\n\n            //this is a temporary array used to apply the sorting function\n            c     = [],\n            keys  = me.keys,\n            items = me.items;\n\n        //default to a simple sorter function if one is not provided\n        fn = fn || function(a, b) {\n            return a - b;\n        };\n\n        //copy all the items into a temporary array, which we will sort\n        for(i = 0, len = items.length; i < len; i++){\n            c[c.length] = {\n                key  : keys[i],\n                value: items[i],\n                index: i\n            };\n        }\n\n        //sort the temporary array\n        Ext.Array.sort(c, function(a, b){\n            var v = fn(a[property], b[property]) * dsc;\n            if(v === 0){\n                v = (a.index < b.index ? -1 : 1);\n            }\n            return v;\n        });\n\n        //copy the temporary array back into the main this.items and this.keys objects\n        for(i = 0, len = c.length; i < len; i++){\n            items[i] = c[i].value;\n            keys[i]  = c[i].key;\n        }\n\n        me.fireEvent('sort', me);\n    },\n\n    /**\n     * Sorts the collection by a single sorter function\n     * @param {Function} sorterFn The function to sort by\n     */\n    sortBy: function(sorterFn) {\n        var me     = this,\n            items  = me.items,\n            keys   = me.keys,\n            length = items.length,\n            temp   = [],\n            i;\n\n        //first we create a copy of the items array so that we can sort it\n        for (i = 0; i < length; i++) {\n            temp[i] = {\n                key  : keys[i],\n                value: items[i],\n                index: i\n            };\n        }\n\n        Ext.Array.sort(temp, function(a, b) {\n            var v = sorterFn(a.value, b.value);\n            if (v === 0) {\n                v = (a.index < b.index ? -1 : 1);\n            }\n\n            return v;\n        });\n\n        //copy the temporary array back into the main this.items and this.keys objects\n        for (i = 0; i < length; i++) {\n            items[i] = temp[i].value;\n            keys[i]  = temp[i].key;\n        }\n\n        me.fireEvent('sort', me, items, keys);\n    },\n\n    /**\n     * Reorders each of the items based on a mapping from old index to new index. Internally this just translates into a\n     * sort. The 'sort' event is fired whenever reordering has occured.\n     * @param {Object} mapping Mapping from old item index to new item index\n     */\n    reorder: function(mapping) {\n        var me = this,\n            items = me.items,\n            index = 0,\n            length = items.length,\n            order = [],\n            remaining = [],\n            oldIndex;\n\n        me.suspendEvents();\n\n        //object of {oldPosition: newPosition} reversed to {newPosition: oldPosition}\n        for (oldIndex in mapping) {\n            order[mapping[oldIndex]] = items[oldIndex];\n        }\n\n        for (index = 0; index < length; index++) {\n            if (mapping[index] == undefined) {\n                remaining.push(items[index]);\n            }\n        }\n\n        for (index = 0; index < length; index++) {\n            if (order[index] == undefined) {\n                order[index] = remaining.shift();\n            }\n        }\n\n        me.clear();\n        me.addAll(order);\n\n        me.resumeEvents();\n        me.fireEvent('sort', me);\n    },\n\n    /**\n     * Sorts this collection by **key**s.\n     * @param {String} direction 'ASC' or 'DESC'. Defaults to 'ASC'.\n     * @param {Function} fn Comparison function that defines the sort order. Defaults to sorting by case insensitive\n     * string.\n     */\n    sortByKey: function(dir, fn){\n        this._sort('key', dir, fn || function(a, b){\n            var v1 = String(a).toUpperCase(), v2 = String(b).toUpperCase();\n            return v1 > v2 ? 1 : (v1 < v2 ? -1 : 0);\n        });\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.ItemCollection', {\n    extend: 'Ext.util.MixedCollection',\n\n    getKey: function(item) {\n        return item.getItemId();\n    },\n\n    has: function(item) {\n        return this.map.hasOwnProperty(item.getId());\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Scroll', {\n    extend: 'Ext.fx.layout.card.Abstract',\n\n    requires: [\n        'Ext.fx.easing.Linear'\n    ],\n\n    alias: 'fx.layout.card.scroll',\n\n    config: {\n        duration: 150\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        this.doAnimationFrame = Ext.Function.bind(this.doAnimationFrame, this);\n    },\n\n    getEasing: function() {\n        var easing = this.easing;\n\n        if (!easing) {\n            this.easing = easing = new Ext.fx.easing.Linear();\n        }\n\n        return easing;\n    },\n\n    updateDuration: function(duration) {\n        this.getEasing().setDuration(duration);\n    },\n\n    onActiveItemChange: function(cardLayout, newItem, oldItem, options, controller) {\n        var direction = this.getDirection(),\n            easing = this.getEasing(),\n            containerElement, inElement, outElement, containerWidth, containerHeight, reverse;\n\n        if (newItem && oldItem) {\n            if (this.isAnimating) {\n                this.stopAnimation();\n            }\n\n            containerElement = this.getLayout().container.innerElement;\n            containerWidth = containerElement.getWidth();\n            containerHeight = containerElement.getHeight();\n\n            inElement = newItem.renderElement;\n            outElement = oldItem.renderElement;\n\n            this.oldItem = oldItem;\n            this.newItem = newItem;\n            this.currentEventController = controller;\n            this.containerElement = containerElement;\n            this.isReverse = reverse = this.getReverse();\n\n            newItem.show();\n\n            if (direction == 'right') {\n                direction = 'left';\n                this.isReverse = reverse = !reverse;\n            }\n            else if (direction == 'down') {\n                direction = 'up';\n                this.isReverse = reverse = !reverse;\n            }\n\n            if (direction == 'left') {\n                if (reverse) {\n                    easing.setConfig({\n                        startValue: containerWidth,\n                        endValue: 0\n                    });\n\n                    containerElement.dom.scrollLeft = containerWidth;\n                    outElement.setLeft(containerWidth);\n                }\n                else {\n                    easing.setConfig({\n                        startValue: 0,\n                        endValue: containerWidth\n                    });\n\n                    inElement.setLeft(containerWidth);\n                }\n            }\n            else {\n                if (reverse) {\n                    easing.setConfig({\n                        startValue: containerHeight,\n                        endValue: 0\n                    });\n\n                    containerElement.dom.scrollTop = containerHeight;\n                    outElement.setTop(containerHeight);\n                }\n                else {\n                    easing.setConfig({\n                        startValue: 0,\n                        endValue: containerHeight\n                    });\n\n                    inElement.setTop(containerHeight);\n                }\n            }\n\n            this.startAnimation();\n\n            controller.pause();\n        }\n    },\n\n    startAnimation: function() {\n        this.isAnimating = true;\n        this.getEasing().setStartTime(Date.now());\n        this.timer = setInterval(this.doAnimationFrame, 20);\n        this.doAnimationFrame();\n    },\n\n    doAnimationFrame: function() {\n        var easing = this.getEasing(),\n            direction = this.getDirection(),\n            scroll = 'scrollTop',\n            value;\n\n        if (direction == 'left' || direction == 'right') {\n            scroll = 'scrollLeft';\n        }\n\n        if (easing.isEnded) {\n            this.stopAnimation();\n        }\n        else {\n            value = easing.getValue();\n            this.containerElement.dom[scroll] = value;\n        }\n    },\n\n    stopAnimation: function() {\n        var me = this,\n            direction = me.getDirection(),\n            scroll = 'setTop',\n            oldItem = me.oldItem,\n            newItem = me.newItem;\n\n        if (direction == 'left' || direction == 'right') {\n            scroll = 'setLeft';\n        }\n\n        me.currentEventController.resume();\n\n        if (me.isReverse && oldItem && oldItem.renderElement && oldItem.renderElement.dom) {\n            oldItem.renderElement[scroll](null);\n        }\n        else if (newItem && newItem.renderElement && newItem.renderElement.dom) {\n            newItem.renderElement[scroll](null);\n        }\n\n        clearInterval(me.timer);\n        me.isAnimating = false;\n        me.fireEvent('animationend', me);\n    }\n});\n\n/**\n * @private\n *\n * This easing is typically used for {@link Ext.scroll.Scroller}. It's a combination of\n * {@link Ext.fx.easing.Momentum} and {@link Ext.fx.easing.Bounce}, which emulates deceleration when the animated element\n * is still within its boundary, then bouncing back (snapping) when it's out-of-bound.\n */\n\nExt.define('Ext.fx.easing.BoundMomentum', {\n    extend: 'Ext.fx.easing.Abstract',\n\n    requires: [\n        'Ext.fx.easing.Momentum',\n        'Ext.fx.easing.Bounce'\n    ],\n\n    config: {\n        /**\n         * @cfg {Object} momentum\n         * A valid config object for {@link Ext.fx.easing.Momentum}\n         * @accessor\n         */\n        momentum: null,\n\n        /**\n         * @cfg {Object} bounce\n         * A valid config object for {@link Ext.fx.easing.Bounce}\n         * @accessor\n         */\n        bounce: null,\n\n        minMomentumValue: 0,\n\n        maxMomentumValue: 0,\n\n        /**\n         * @cfg {Number} minVelocity\n         * The minimum velocity to end this easing\n         * @accessor\n         */\n        minVelocity: 0.01,\n\n        /**\n         * @cfg {Number} startVelocity\n         * The start velocity\n         * @accessor\n         */\n        startVelocity: 0\n    },\n\n    applyMomentum: function(config, currentEasing) {\n        return Ext.factory(config, Ext.fx.easing.Momentum, currentEasing);\n    },\n\n    applyBounce: function(config, currentEasing) {\n        return Ext.factory(config, Ext.fx.easing.Bounce, currentEasing);\n    },\n\n    updateStartTime: function(startTime) {\n        this.getMomentum().setStartTime(startTime);\n\n        this.callParent(arguments);\n    },\n\n    updateStartVelocity: function(startVelocity) {\n        this.getMomentum().setStartVelocity(startVelocity);\n    },\n\n    updateStartValue: function(startValue) {\n        this.getMomentum().setStartValue(startValue);\n    },\n\n    reset: function() {\n        this.lastValue = null;\n\n        this.isBouncingBack = false;\n\n        this.isOutOfBound = false;\n\n        return this.callParent(arguments);\n    },\n\n    getValue: function() {\n        var momentum = this.getMomentum(),\n            bounce = this.getBounce(),\n            startVelocity = momentum.getStartVelocity(),\n            direction = startVelocity > 0 ? 1 : -1,\n            minValue = this.getMinMomentumValue(),\n            maxValue = this.getMaxMomentumValue(),\n            boundedValue = (direction == 1) ? maxValue : minValue,\n            lastValue = this.lastValue,\n            value, velocity;\n\n        if (startVelocity === 0) {\n            return this.getStartValue();\n        }\n\n        if (!this.isOutOfBound) {\n            value = momentum.getValue();\n            velocity = momentum.getVelocity();\n\n            if (Math.abs(velocity) < this.getMinVelocity()) {\n                this.isEnded = true;\n            }\n\n            if (value >= minValue && value <= maxValue) {\n                return value;\n            }\n\n            this.isOutOfBound = true;\n\n            bounce.setStartTime(Ext.Date.now())\n                  .setStartVelocity(velocity)\n                  .setStartValue(boundedValue);\n        }\n\n        value = bounce.getValue();\n\n        if (!this.isEnded) {\n            if (!this.isBouncingBack) {\n                if (lastValue !== null) {\n                    if ((direction == 1 && value < lastValue) || (direction == -1 && value > lastValue)) {\n                        this.isBouncingBack = true;\n                    }\n                }\n            }\n            else {\n                if (Math.round(value) == boundedValue) {\n                    this.isEnded = true;\n                }\n            }\n        }\n\n        this.lastValue = value;\n\n        return value;\n    }\n});\n\n/**\n * @class Ext.scroll.Scroller\n * @author Jacky Nguyen <jacky@sencha.com>\n *\n * Momentum scrolling is one of the most important part of the framework's UI layer. In Sencha Touch there are\n * several scroller implementations so we can have the best performance on all mobile devices and browsers.\n *\n * Scroller settings can be changed using the {@link Ext.Container#scrollable scrollable} configuration in\n * {@link Ext.Container}. Anything you pass to that method will be passed to the scroller when it is\n * instanciated in your container.\n *\n * Please note that the {@link Ext.Container#getScrollable} method returns an instance of {@link Ext.scroll.View}.\n * So if you need to get access to the scroller after your container has been instansiated, you must used the\n * {@link Ext.scroll.View#getScroller} method.\n *\n *     //lets assume container is a container you have\n *     //created which is scrollable\n *     container.getScrollable.getScroller().setFps(10);\n *\n * ## Example\n *\n * Here is a simple example of how to adjust the scroller settings when using a {@link Ext.Container} (or anything\n * that extends it).\n *\n *     @example\n *     var container = Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         html: 'This container is scrollable!',\n *         scrollable: {\n *             direction: 'vertical'\n *         }\n *     });\n *\n * As you can see, we are passing the {@link #direction} configuration into the scroller instance in our container.\n *\n * You can pass any of the configs below in that {@link Ext.Container#scrollable scrollable} configuration and it will\n * just work.\n *\n * Go ahead and try it in the live code editor above!\n */\nExt.define('Ext.scroll.Scroller', {\n\n    extend: 'Ext.Evented',\n\n    requires: [\n        'Ext.fx.easing.BoundMomentum',\n        'Ext.fx.easing.EaseOut',\n        'Ext.util.SizeMonitor',\n        'Ext.util.Translatable'\n    ],\n\n    /**\n     * @event maxpositionchange\n     * Fires whenever the maximum position has changed\n     * @param {Ext.scroll.Scroller} this\n     * @param {Number} maxPosition The new maximum position\n     */\n\n    /**\n     * @event refresh\n     * Fires whenever the Scroller is refreshed\n     * @param {Ext.scroll.Scroller} this\n     */\n\n    /**\n     * @event scrollstart\n     * Fires whenever the scrolling is started\n     * @param {Ext.scroll.Scroller} this\n     * @param {Number} x The current x position\n     * @param {Number} y The current y position\n     */\n\n    /**\n     * @event scrollend\n     * Fires whenever the scrolling is ended\n     * @param {Ext.scroll.Scroller} this\n     * @param {Number} x The current x position\n     * @param {Number} y The current y position\n     */\n\n    /**\n     * @event scroll\n     * Fires whenever the Scroller is scrolled\n     * @param {Ext.scroll.Scroller} this\n     * @param {Number} x The new x position\n     * @param {Number} y The new y position\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @private\n         */\n        element: null,\n\n        /**\n         * @cfg {String} direction\n         * Possible values: 'auto', 'vertical', 'horizontal', or 'both'\n         * @accessor\n         */\n        direction: 'auto',\n\n        /**\n         * @cfg\n         * @private\n         */\n        translationMethod: 'auto',\n\n        /**\n         * @cfg\n         * @private\n         */\n        fps: 'auto',\n\n        /**\n         * @cfg {Boolean} disabled\n         * Whether or not this component is disabled\n         * @accessor\n         */\n        disabled: null,\n\n        /**\n         * @cfg {Boolean} directionLock\n         * True to lock the direction of the scroller when the user starts scrolling.\n         * This is useful when putting a scroller inside a scroller or a {@link Ext.Carousel}.\n         * @accessor\n         */\n        directionLock: false,\n\n        /**\n         * @cfg {Object} momentumEasing\n         * A valid config for {@link Ext.fx.easing.BoundMomentum}. The default value is:\n         *\n         *     {\n         *         momentum: {\n         *             acceleration: 30,\n         *             friction: 0.5\n         *         },\n         *         bounce: {\n         *             acceleration: 30,\n         *             springTension: 0.3\n         *         }\n         *     }\n         *\n         * Note that supplied object will be recursively merged with the default object. For example: you can simply\n         * pass this to change the momentum acceleration only\n         *\n         *     {\n         *         momentum: {\n         *             acceleration: 10\n         *         }\n         *     }\n         *\n         * @accessor\n         */\n        momentumEasing: {\n            momentum: {\n                acceleration: 30,\n                friction: 0.5\n            },\n\n            bounce: {\n                acceleration: 30,\n                springTension: 0.3\n            },\n\n            minVelocity: 1\n        },\n\n        /**\n         * @cfg\n         * @private\n         */\n        bounceEasing: {\n            duration: 400\n        },\n\n        /**\n         * @cfg\n         * @private\n         */\n        outOfBoundRestrictFactor: 0.5,\n\n        /**\n         * @cfg\n         * @private\n         */\n        startMomentumResetTime: 300,\n\n        /**\n         * @cfg\n         * @private\n         */\n        maxAbsoluteVelocity: 6,\n\n        /**\n         * @cfg\n         * @private\n         */\n        containerSize: 'auto',\n\n        /**\n         * @cfg\n         * @private\n         */\n        containerScrollSize: 'auto',\n\n        /**\n         * @cfg\n         * @private\n         */\n        size: 'auto',\n\n        /**\n         * @cfg\n         * @private\n         */\n        autoRefresh: true,\n\n        /**\n         * @cfg {Object/Number} initialOffset\n         * The initial scroller position.  When specified as Number,\n         * both x and y will be set to that value.\n         */\n        initialOffset: {\n            x: 0,\n            y: 0\n        },\n\n        /**\n         * @cfg {Number/Object} slotSnapSize\n         * The size of each slot to snap to in 'px', can be either an object with x and y values, i.e:\n         *\n         *      {\n         *          x: 50,\n         *          y: 100\n         *      }\n         *\n         * or a number value to be used for both directions. For example: a value of '`50`' will be treated as:\n         *\n         *      {\n         *          x: 50,\n         *          y: 50\n         *      }\n         *\n         * @accessor\n         */\n        slotSnapSize: {\n            x: 0,\n            y: 0\n        },\n\n        /**\n         * @cfg\n         * @private\n         */\n        slotSnapOffset: {\n            x: 0,\n            y: 0\n        },\n\n        slotSnapEasing: {\n            duration: 150\n        }\n    },\n\n    cls: Ext.baseCSSPrefix + 'scroll-scroller',\n\n    containerCls: Ext.baseCSSPrefix + 'scroll-container',\n\n    dragStartTime: 0,\n\n    dragEndTime: 0,\n\n    isDragging: false,\n\n    isAnimating: false,\n\n    /**\n     * @private\n     */\n    constructor: function(config) {\n        var element = config && config.element;\n\n        this.doAnimationFrame = Ext.Function.bind(this.doAnimationFrame, this);\n        this.stopAnimation = Ext.Function.bind(this.stopAnimation, this);\n\n        this.listeners = {\n            scope: this,\n            touchstart: 'onTouchStart',\n            touchend: 'onTouchEnd',\n            dragstart: 'onDragStart',\n            drag: 'onDrag',\n            dragend: 'onDragEnd'\n        };\n\n        this.minPosition = { x: 0, y: 0 };\n\n        this.startPosition = { x: 0, y: 0 };\n\n        this.size = { x: 0, y: 0 };\n\n        this.position = { x: 0, y: 0 };\n\n        this.velocity = { x: 0, y: 0 };\n\n        this.isAxisEnabledFlags = { x: false, y: false };\n\n        this.flickStartPosition = { x: 0, y: 0 };\n\n        this.flickStartTime = { x: 0, y: 0 };\n\n        this.lastDragPosition = { x: 0, y: 0 };\n\n        this.dragDirection = { x: 0, y: 0};\n\n        this.initialConfig = config;\n\n        if (element) {\n            this.setElement(element);\n        }\n\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    applyElement: function(element) {\n        if (!element) {\n            return;\n        }\n\n        return Ext.get(element);\n    },\n\n    /**\n     * @private\n     */\n    updateElement: function(element) {\n        this.initialize();\n\n        element.addCls(this.cls);\n\n        if (!this.getDisabled()) {\n            this.attachListeneners();\n        }\n\n        this.onConfigUpdate(['containerSize', 'size'], 'refreshMaxPosition');\n\n        this.on('maxpositionchange', 'snapToBoundary');\n        this.on('minpositionchange', 'snapToBoundary');\n\n        return this;\n    },\n\n    getTranslatable: function() {\n        if (!this.hasOwnProperty('translatable')) {\n            var bounceEasing = this.getBounceEasing();\n\n            this.translatable = new Ext.util.Translatable({\n                translationMethod: this.getTranslationMethod(),\n                element: this.getElement(),\n                easingX: bounceEasing.x,\n                easingY: bounceEasing.y,\n                useWrapper: false,\n                listeners: {\n                    animationframe: 'onAnimationFrame',\n                    animationend: 'onAnimationEnd',\n                    axisanimationend: 'onAxisAnimationEnd',\n                    scope: this\n                }\n            });\n        }\n\n        return this.translatable;\n    },\n\n    updateFps: function(fps) {\n        if (fps !== 'auto') {\n            this.getTranslatable().setFps(fps);\n        }\n    },\n\n    /**\n     * @private\n     */\n    attachListeneners: function() {\n        this.getContainer().on(this.listeners);\n    },\n\n    /**\n     * @private\n     */\n    detachListeners: function() {\n        this.getContainer().un(this.listeners);\n    },\n\n    /**\n     * @private\n     */\n    updateDisabled: function(disabled) {\n        if (disabled) {\n            this.detachListeners();\n        }\n        else {\n            this.attachListeneners();\n        }\n    },\n\n    updateInitialOffset: function(initialOffset) {\n        if (typeof initialOffset == 'number') {\n            initialOffset = {\n                x: initialOffset,\n                y: initialOffset\n            };\n        }\n\n        var position = this.position,\n            x, y;\n\n        position.x = x = initialOffset.x;\n        position.y = y = initialOffset.y;\n\n        this.getTranslatable().doTranslate(-x, -y);\n    },\n\n    /**\n     * @private\n     */\n    applyDirection: function(direction) {\n        var minPosition = this.getMinPosition(),\n            maxPosition = this.getMaxPosition(),\n            isHorizontal, isVertical;\n\n        this.givenDirection = direction;\n\n        if (direction === 'auto') {\n            isHorizontal = maxPosition.x > minPosition.x;\n            isVertical = maxPosition.y > minPosition.y;\n\n            if (isHorizontal && isVertical) {\n                direction = 'both';\n            }\n            else if (isHorizontal) {\n                direction = 'horizontal';\n            }\n            else {\n                direction = 'vertical';\n            }\n        }\n\n        return direction;\n    },\n\n    /**\n     * @private\n     */\n    updateDirection: function(direction) {\n        var isAxisEnabled = this.isAxisEnabledFlags;\n\n        isAxisEnabled.x = (direction === 'both' || direction === 'horizontal');\n        isAxisEnabled.y = (direction === 'both' || direction === 'vertical');\n    },\n\n    /**\n     * Returns true if a specified axis is enabled\n     * @param {String} axis The axis to check (`x` or `y`).\n     * @return {Boolean} True if the axis is enabled\n     */\n    isAxisEnabled: function(axis) {\n        this.getDirection();\n\n        return this.isAxisEnabledFlags[axis];\n    },\n\n    /**\n     * @private\n     */\n    applyMomentumEasing: function(easing) {\n        var defaultClass = Ext.fx.easing.BoundMomentum;\n\n        return {\n            x: Ext.factory(easing, defaultClass),\n            y: Ext.factory(easing, defaultClass)\n        };\n    },\n\n    /**\n     * @private\n     */\n    applyBounceEasing: function(easing) {\n        var defaultClass = Ext.fx.easing.EaseOut;\n\n        return {\n            x: Ext.factory(easing, defaultClass),\n            y: Ext.factory(easing, defaultClass)\n        };\n    },\n\n    /**\n     * @private\n     */\n    applySlotSnapEasing: function(easing) {\n        var defaultClass = Ext.fx.easing.EaseOut;\n\n        return {\n            x: Ext.factory(easing, defaultClass),\n            y: Ext.factory(easing, defaultClass)\n        };\n    },\n\n    /**\n     * @private\n     */\n    getMinPosition: function() {\n        var minPosition = this.minPosition;\n\n        if (!minPosition) {\n            this.minPosition = minPosition = {\n                x: 0,\n                y: 0\n            };\n\n            this.fireEvent('minpositionchange', this, minPosition);\n        }\n\n        return minPosition;\n    },\n\n    /**\n     * @private\n     */\n    getMaxPosition: function() {\n        var maxPosition = this.maxPosition,\n            size, containerSize;\n\n        if (!maxPosition) {\n            size = this.getSize();\n            containerSize = this.getContainerSize();\n\n            this.maxPosition = maxPosition = {\n                x: Math.max(0, size.x - containerSize.x),\n                y: Math.max(0, size.y - containerSize.y)\n            };\n\n            this.fireEvent('maxpositionchange', this, maxPosition);\n        }\n\n        return maxPosition;\n    },\n\n    /**\n     * @private\n     */\n    refreshMaxPosition: function() {\n        this.maxPosition = null;\n        this.getMaxPosition();\n    },\n\n    /**\n     * @private\n     */\n    applyContainerSize: function(size) {\n        var containerDom = this.getContainer().dom,\n            x, y;\n\n        if (!containerDom) {\n            return;\n        }\n\n        this.givenContainerSize = size;\n\n        if (size === 'auto') {\n            x = containerDom.offsetWidth;\n            y = containerDom.offsetHeight;\n        }\n        else {\n            x = size.x;\n            y = size.y;\n        }\n\n        return {\n            x: x,\n            y: y\n        };\n    },\n\n    /**\n     * @private\n     */\n    applySize: function(size) {\n        var dom = this.getElement().dom,\n            x, y;\n\n        if (!dom) {\n            return;\n        }\n\n        this.givenSize = size;\n\n        if (size === 'auto') {\n            x = dom.offsetWidth;\n            y = dom.offsetHeight;\n        }\n        else {\n            x = size.x;\n            y = size.y;\n        }\n\n        return {\n            x: x,\n            y: y\n        };\n    },\n\n    /**\n     * @private\n     */\n    applyContainerScrollSize: function(size) {\n        var containerDom = this.getContainer().dom,\n            x, y;\n\n        if (!containerDom) {\n            return;\n        }\n\n        this.givenContainerScrollSize = size;\n\n        if (size === 'auto') {\n            x = containerDom.scrollWidth;\n            y = containerDom.scrollHeight;\n        }\n        else {\n            x = size.x;\n            y = size.y;\n        }\n\n        return {\n            x: x,\n            y: y\n        };\n    },\n\n    /**\n     * @private\n     */\n    updateAutoRefresh: function(autoRefresh) {\n        var SizeMonitor = Ext.util.SizeMonitor,\n            sizeMonitors;\n\n        if (autoRefresh) {\n            this.sizeMonitors = {\n                element: new SizeMonitor({\n                    element: this.getElement(),\n                    callback: this.doRefresh,\n                    scope: this\n                }),\n                container: new SizeMonitor({\n                    element: this.getContainer(),\n                    callback: this.doRefresh,\n                    scope: this\n                })\n            };\n        }\n        else {\n            sizeMonitors = this.sizeMonitors;\n\n            if (sizeMonitors) {\n                sizeMonitors.element.destroy();\n                sizeMonitors.container.destroy();\n            }\n        }\n    },\n\n    applySlotSnapSize: function(snapSize) {\n        if (typeof snapSize == 'number') {\n            return {\n                x: snapSize,\n                y: snapSize\n            }\n        }\n\n        return snapSize;\n    },\n\n    applySlotSnapOffset: function(snapOffset) {\n        if (typeof snapOffset == 'number') {\n            return {\n                x: snapOffset,\n                y: snapOffset\n            }\n        }\n\n        return snapOffset;\n    },\n\n    /**\n     * @private\n     * Returns the container for this scroller\n     */\n    getContainer: function() {\n        var container = this.container;\n\n        if (!container) {\n            this.container = container = this.getElement().getParent();\n            if (!container) {\n                Ext.Logger.error(\"Making an element scrollable that doesn't have any container\");\n            }\n            container.addCls(this.containerCls);\n        }\n\n        return container;\n    },\n\n    /**\n     * @private\n     */\n    doRefresh: function() {\n        this.stopAnimation();\n\n        this.getTranslatable().refresh();\n        this.setSize(this.givenSize);\n        this.setContainerSize(this.givenContainerSize);\n        this.setContainerScrollSize(this.givenContainerScrollSize);\n        this.setDirection(this.givenDirection);\n\n        this.fireEvent('refresh', this);\n    },\n\n    /**\n     * @private\n     * @return {Ext.scroll.Scroller} this\n     */\n    refresh: function() {\n        var sizeMonitors = this.sizeMonitors;\n\n        if (sizeMonitors) {\n            sizeMonitors.element.refresh();\n            sizeMonitors.container.refresh();\n        }\n\n        this.doRefresh();\n\n        return this;\n    },\n\n    /**\n     * Scrolls to the given location\n     *\n     * @param {Number} x The scroll position on the x axis\n     * @param {Number} y The scroll position on the y axis\n     * @param {Boolean/Object} animation (Optional) Whether or not to animate the scrolling to the new position\n     *\n     * @return {Ext.scroll.Scroller} this\n     */\n    scrollTo: function(x, y, animation) {\n        if (typeof x != 'number' && arguments.length === 1) {\n            Ext.Logger.deprecate(\"Calling scrollTo() with an object argument is deprecated, \" +\n                \"please pass x and y arguments instead\", this);\n\n            y = x.y;\n            x = x.x;\n        }\n\n        var translatable = this.getTranslatable(),\n            position = this.position,\n            positionChanged = false,\n            translationX, translationY;\n\n        if (this.isAxisEnabled('x')) {\n            if (typeof x != 'number') {\n                x = position.x;\n            }\n            else {\n                if (position.x !== x) {\n                    position.x = x;\n                    positionChanged = true;\n                }\n            }\n\n            translationX = -x;\n        }\n\n        if (this.isAxisEnabled('y')) {\n            if (typeof y != 'number') {\n                y = position.y;\n            }\n            else {\n                if (position.y !== y) {\n                    position.y = y;\n                    positionChanged = true;\n                }\n            }\n\n            translationY = -y;\n        }\n\n        if (positionChanged) {\n            if (animation !== undefined) {\n                translatable.translateAnimated(translationX, translationY, animation);\n            }\n            else {\n                this.fireEvent('scroll', this, position.x, position.y);\n                translatable.doTranslate(translationX, translationY);\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    scrollToTop: function(animation) {\n        var initialOffset = this.getInitialOffset();\n\n        return this.scrollTo(initialOffset.x, initialOffset.y, animation);\n    },\n\n    /**\n     * Scrolls to the end of the scrollable view\n     * @return {Ext.scroll.Scroller} this\n     */\n    scrollToEnd: function(animation) {\n        return this.scrollTo(0, this.getSize().y - this.getContainerSize().y, animation);\n    },\n\n    /**\n     * Change the scroll offset by the given amount\n     * @param {Number} x The offset to scroll by on the x axis\n     * @param {Number} y The offset to scroll by on the y axis\n     * @return {Ext.scroll.Scroller} this\n     */\n    scrollBy: function(x, y, animation) {\n        var position = this.position;\n\n        x = (typeof x == 'number') ? x + position.x : null;\n        y = (typeof y == 'number') ? y + position.y : null;\n\n        return this.scrollTo(x, y, animation);\n    },\n\n    /**\n     * @private\n     */\n    onTouchStart: function() {\n        this.isTouching = true;\n        this.stopAnimation();\n    },\n\n    /**\n     * @private\n     */\n    onTouchEnd: function() {\n        var position = this.position;\n\n        this.isTouching = false;\n\n        if (!this.isDragging && this.snapToSlot()) {\n            this.fireEvent('scrollstart', this, position.x, position.y);\n        }\n    },\n\n    /**\n     * @private\n     */\n    onDragStart: function(e) {\n        var direction = this.getDirection(),\n            absDeltaX = e.absDeltaX,\n            absDeltaY = e.absDeltaY,\n            directionLock = this.getDirectionLock(),\n            startPosition = this.startPosition,\n            flickStartPosition = this.flickStartPosition,\n            flickStartTime = this.flickStartTime,\n            lastDragPosition = this.lastDragPosition,\n            currentPosition = this.position,\n            dragDirection = this.dragDirection,\n            x = currentPosition.x,\n            y = currentPosition.y,\n            now = Ext.Date.now();\n\n        this.isDragging = true;\n\n        if (directionLock && direction !== 'both') {\n            if ((direction === 'horizontal' && absDeltaX > absDeltaY)\n                    || (direction === 'vertical' && absDeltaY > absDeltaX)) {\n                e.stopPropagation();\n            }\n            else {\n                this.isDragging = false;\n                return;\n            }\n        }\n\n        lastDragPosition.x = x;\n        lastDragPosition.y = y;\n\n        flickStartPosition.x = x;\n        flickStartPosition.y = y;\n\n        startPosition.x = x;\n        startPosition.y = y;\n\n        flickStartTime.x = now;\n        flickStartTime.y = now;\n\n        dragDirection.x = 0;\n        dragDirection.y = 0;\n\n        this.dragStartTime = now;\n\n        this.isDragging = true;\n\n        this.fireEvent('scrollstart', this, x, y);\n    },\n\n    /**\n     * @private\n     */\n    onAxisDrag: function(axis, delta) {\n        if (!this.isAxisEnabled(axis)) {\n            return;\n        }\n\n        var flickStartPosition = this.flickStartPosition,\n            flickStartTime = this.flickStartTime,\n            lastDragPosition = this.lastDragPosition,\n            dragDirection = this.dragDirection,\n            old = this.position[axis],\n            min = this.getMinPosition()[axis],\n            max = this.getMaxPosition()[axis],\n            start = this.startPosition[axis],\n            last = lastDragPosition[axis],\n            current = start - delta,\n            lastDirection = dragDirection[axis],\n            restrictFactor = this.getOutOfBoundRestrictFactor(),\n            startMomentumResetTime = this.getStartMomentumResetTime(),\n            now = Ext.Date.now(),\n            distance;\n\n        if (current < min) {\n            current *= restrictFactor;\n        }\n        else if (current > max) {\n            distance = current - max;\n            current = max + distance * restrictFactor;\n        }\n\n        if (current > last) {\n            dragDirection[axis] = 1;\n        }\n        else if (current < last) {\n            dragDirection[axis] = -1;\n        }\n\n        if ((lastDirection !== 0 && (dragDirection[axis] !== lastDirection))\n                || (now - flickStartTime[axis]) > startMomentumResetTime) {\n            flickStartPosition[axis] = old;\n            flickStartTime[axis] = now;\n        }\n\n        lastDragPosition[axis] = current;\n    },\n\n    /**\n     * @private\n     */\n    onDrag: function(e) {\n        if (!this.isDragging) {\n            return;\n        }\n\n        var lastDragPosition = this.lastDragPosition;\n\n        this.onAxisDrag('x', e.deltaX);\n        this.onAxisDrag('y', e.deltaY);\n\n        this.scrollTo(lastDragPosition.x, lastDragPosition.y);\n    },\n\n    /**\n     * @private\n     */\n    onDragEnd: function(e) {\n        var easingX, easingY;\n\n        if (!this.isDragging) {\n            return;\n        }\n\n        this.dragEndTime = Ext.Date.now();\n\n        this.onDrag(e);\n\n        this.isDragging = false;\n\n        easingX = this.getAnimationEasing('x');\n        easingY = this.getAnimationEasing('y');\n\n        if (easingX || easingY) {\n            this.getTranslatable().animate(easingX, easingY);\n        }\n        else {\n            this.onScrollEnd();\n        }\n    },\n\n    /**\n     * @private\n     */\n    getAnimationEasing: function(axis) {\n        if (!this.isAxisEnabled(axis)) {\n            return null;\n        }\n\n        var currentPosition = this.position[axis],\n            flickStartPosition = this.flickStartPosition[axis],\n            flickStartTime = this.flickStartTime[axis],\n            minPosition = this.getMinPosition()[axis],\n            maxPosition = this.getMaxPosition()[axis],\n            maxAbsVelocity = this.getMaxAbsoluteVelocity(),\n            boundValue = null,\n            dragEndTime = this.dragEndTime,\n            easing, velocity, duration;\n\n        if (currentPosition < minPosition) {\n            boundValue = minPosition;\n        }\n        else if (currentPosition > maxPosition) {\n            boundValue = maxPosition;\n        }\n\n        // Out of bound, to be pulled back\n        if (boundValue !== null) {\n            easing = this.getBounceEasing()[axis];\n            easing.setConfig({\n                startTime: dragEndTime,\n                startValue: -currentPosition,\n                endValue: -boundValue\n            });\n\n            return easing;\n        }\n\n        // Still within boundary, start deceleration\n        duration = dragEndTime - flickStartTime;\n\n        if (duration === 0) {\n            return null;\n        }\n\n        velocity = (currentPosition - flickStartPosition) / (dragEndTime - flickStartTime);\n\n        if (velocity === 0) {\n            return null;\n        }\n\n        if (velocity < -maxAbsVelocity) {\n            velocity = -maxAbsVelocity;\n        }\n        else if (velocity > maxAbsVelocity) {\n            velocity = maxAbsVelocity;\n        }\n\n        easing = this.getMomentumEasing()[axis];\n        easing.setConfig({\n            startTime: dragEndTime,\n            startValue: -currentPosition,\n            startVelocity: -velocity,\n            minMomentumValue: -maxPosition,\n            maxMomentumValue: 0\n        });\n\n        return easing;\n    },\n\n    /**\n     * @private\n     */\n    onAnimationFrame: function(translatable, x, y) {\n        var position = this.position;\n\n        position.x = -x;\n        position.y = -y;\n\n        this.fireEvent('scroll', this, position.x, position.y);\n    },\n\n    onAxisAnimationEnd: function(axis) {\n\n    },\n\n    /**\n     * @private\n     */\n    onAnimationEnd: function() {\n        this.snapToBoundary();\n        this.onScrollEnd();\n    },\n\n    /**\n     * @private\n     * Stops the animation of the scroller at any time.\n     */\n    stopAnimation: function() {\n        this.getTranslatable().stopAnimation();\n    },\n\n    /**\n     * @private\n     */\n    onScrollEnd: function() {\n        var position = this.position;\n\n        if (this.isTouching || !this.snapToSlot()) {\n            this.fireEvent('scrollend', this, position.x, position.y);\n        }\n    },\n\n    /**\n     * @private\n     */\n    snapToSlot: function() {\n        var snapX = this.getSnapPosition('x'),\n            snapY = this.getSnapPosition('y'),\n            easing = this.getSlotSnapEasing();\n\n        if (snapX !== null || snapY !== null) {\n            this.scrollTo(snapX, snapY, {\n                easingX: easing.x,\n                easingY: easing.y\n            });\n\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @private\n     */\n    getSnapPosition: function(axis) {\n        var snapSize = this.getSlotSnapSize()[axis],\n            snapPosition = null,\n            position, snapOffset, maxPosition, mod;\n\n        if (snapSize !== 0 && this.isAxisEnabled(axis)) {\n            position = this.position[axis];\n            snapOffset = this.getSlotSnapOffset()[axis];\n            maxPosition = this.getMaxPosition()[axis];\n\n            mod = (position - snapOffset) % snapSize;\n\n            if (mod !== 0) {\n                if (Math.abs(mod) > snapSize / 2) {\n                    snapPosition = position + ((mod > 0) ? snapSize - mod : mod - snapSize);\n\n                    if (snapPosition > maxPosition) {\n                        snapPosition = position - mod;\n                    }\n                }\n                else {\n                    snapPosition = position - mod;\n                }\n            }\n        }\n\n        return snapPosition;\n    },\n\n    /**\n     * @private\n     */\n    snapToBoundary: function() {\n        var position = this.position,\n            minPosition = this.getMinPosition(),\n            maxPosition = this.getMaxPosition(),\n            minX = minPosition.x,\n            minY = minPosition.y,\n            maxX = maxPosition.x,\n            maxY = maxPosition.y,\n            x = Math.round(position.x),\n            y = Math.round(position.y);\n\n        if (x < minX) {\n            x = minX;\n        }\n        else if (x > maxX) {\n            x = maxX;\n        }\n\n        if (y < minY) {\n            y = minY;\n        }\n        else if (y > maxY) {\n            y = maxY;\n        }\n\n        this.scrollTo(x, y);\n    },\n\n    destroy: function() {\n        var element = this.getElement(),\n            sizeMonitors = this.sizeMonitors;\n\n        if (sizeMonitors) {\n            sizeMonitors.element.destroy();\n            sizeMonitors.container.destroy();\n        }\n\n        if (element && !element.isDestroyed) {\n            element.removeCls(this.cls);\n            this.getContainer().removeCls(this.containerCls);\n        }\n\n        Ext.destroy(this.translatable);\n\n        this.callParent(arguments);\n    }\n\n}, function() {\n    this.override({\n        constructor: function(config) {\n            var element, acceleration, slotSnapOffset, friction, springTension, minVelocity;\n\n            if (!config) {\n                config = {};\n            }\n\n            if (typeof config == 'string') {\n                config = {\n                    direction: config\n                };\n            }\n\n            if (arguments.length == 2) {\n                Ext.Logger.deprecate(\"Passing element as the first argument is deprecated, pass it as the \" +\n                    \"'element' property of the config object instead\");\n                element = config;\n                config = arguments[1];\n\n                if (!config) {\n                    config = {};\n                }\n\n                config.element = element;\n            }\n\n            /**\n             * @cfg {Number} acceleration A higher acceleration gives the scroller more initial velocity.\n             * @deprecated 2.0.0 Please use {@link #momentumEasing}.momentum.acceleration and {@link #momentumEasing}.bounce.acceleration instead.\n             */\n            if (config.hasOwnProperty('acceleration')) {\n                acceleration = config.acceleration;\n                delete config.acceleration;\n                Ext.Logger.deprecate(\"'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead\");\n\n                Ext.merge(config, {\n                    momentumEasing: {\n                        momentum: { acceleration: acceleration },\n                        bounce: { acceleration: acceleration }\n                    }\n                });\n            }\n\n            if (config.hasOwnProperty('snap')) {\n                config.slotSnapOffset = config.snap;\n                Ext.Logger.deprecate(\"'snap' config is deprecated, please use the 'slotSnapOffset' config instead\");\n            }\n\n            /**\n             * @cfg {Number} friction The friction of the scroller. By raising this value the length that momentum scrolls\n             * becomes shorter. This value is best kept between 0 and 1.\n             * @deprecated 2.0.0 Please set the {@link #momentumEasing}.momentum.friction configuration instead\n             */\n            if (config.hasOwnProperty('friction')) {\n                friction = config.friction;\n                delete config.friction;\n                Ext.Logger.deprecate(\"'friction' config is deprecated, set momentumEasing.momentum.friction config instead\");\n\n                Ext.merge(config, {\n                    momentumEasing: {\n                        momentum: { friction: friction }\n                    }\n                });\n            }\n\n            if (config.hasOwnProperty('springTension')) {\n                springTension = config.springTension;\n                delete config.springTension;\n                Ext.Logger.deprecate(\"'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead\");\n\n                Ext.merge(config, {\n                    momentumEasing: {\n                        momentum: { springTension: springTension }\n                    }\n                });\n            }\n\n            if (config.hasOwnProperty('minVelocityForAnimation')) {\n                minVelocity = config.minVelocityForAnimation;\n                delete config.minVelocityForAnimation;\n                Ext.Logger.deprecate(\"'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead\");\n\n                Ext.merge(config, {\n                    momentumEasing: {\n                        minVelocity: minVelocity\n                    }\n                });\n            }\n\n            this.callOverridden(arguments);\n        },\n\n        scrollToAnimated: function(x, y, animation) {\n            Ext.Logger.deprecate(\"scrollToAnimated() is deprecated, please use scrollTo() and pass 'animation' as \" +\n                \"the third argument instead\");\n\n            return this.scrollTo.apply(this, arguments);\n        },\n\n        scrollBy: function(x, y, animation) {\n            if (Ext.isObject(x)) {\n                Ext.Logger.deprecate(\"calling scrollBy() with an object of x and y properties is no longer supported. \" +\n                        \"Please pass x and y values as two separate arguments instead\");\n                y = x.y;\n                x = x.x;\n            }\n\n            return this.callOverridden([x, y, animation]);\n        },\n\n        /**\n         * Sets the offset of this scroller.\n         * @param {Object} offset The offset to move to\n         * @param {Number} offset.x The x axis offset\n         * @param {Number} offset.y The y axis offset\n         * @deprecated 2.0.0 Please use {@link #scrollTo} instead\n         * @return {Ext.scroll.Scroller} this\n         */\n        setOffset: function(offset) {\n            return this.scrollToAnimated(-offset.x, -offset.y);\n        }\n    });\n\n    /**\n     * @method updateBoundary\n     * Updates the boundary information for this scroller.\n     * @return {Ext.scroll.Scroller} this\n     * @removed 2.0.0 Please use {@link #method-refresh} instead.\n     */\n//    Ext.deprecateClassMethod('updateBoundary', 'refresh');\n});\n\n/**\n * @private\n */\nExt.define('Ext.scroll.indicator.Default', {\n    extend: 'Ext.scroll.indicator.Abstract',\n\n    config: {\n        cls: 'default'\n    },\n\n    setOffset: function(offset) {\n        var axis = this.getAxis(),\n            domStyle = this.element.dom.style;\n\n        if (axis === 'x') {\n            domStyle.webkitTransform = 'translate3d(' + offset + 'px, 0, 0)';\n        }\n        else {\n            domStyle.webkitTransform = 'translate3d(0, ' + offset + 'px, 0)';\n        }\n    },\n\n    applyLength: function(length) {\n        return Math.round(Math.max(0, length));\n    },\n\n    updateValue: function(value) {\n        var barLength = this.barLength,\n            gapLength = this.gapLength,\n            length = this.getLength(),\n            newLength, offset, extra;\n\n        if (value <= 0) {\n            offset = 0;\n            this.updateLength(this.applyLength(length + value * barLength));\n        }\n        else if (value >= 1) {\n            extra = Math.round((value - 1) * barLength);\n            newLength = this.applyLength(length - extra);\n            extra = length - newLength;\n            this.updateLength(newLength);\n            offset = gapLength + extra;\n        }\n        else {\n            offset = gapLength * value;\n        }\n\n        this.setOffset(offset);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.scroll.indicator.ScrollPosition', {\n    extend: 'Ext.scroll.indicator.Abstract',\n\n    config: {\n        cls: 'scrollposition'\n    },\n\n    getElementConfig: function() {\n        var config = this.callParent(arguments);\n\n        config.children.unshift({\n            className: 'x-scroll-bar-stretcher'\n        });\n\n        return config;\n    },\n\n    updateValue: function(value) {\n        if (this.gapLength === 0) {\n            if (value > 1) {\n                value = value - 1;\n            }\n\n            this.setOffset(this.barLength * value);\n        }\n        else {\n            this.setOffset(this.gapLength * value);\n        }\n    },\n\n    setLength: function(length) {\n        var axis = this.getAxis(),\n            scrollOffset = this.barLength,\n            barDom = this.barElement.dom,\n            element = this.element;\n\n        this.callParent(arguments);\n\n        if (axis === 'x') {\n            barDom.scrollLeft = scrollOffset;\n            element.setLeft(scrollOffset);\n        }\n        else {\n            barDom.scrollTop = scrollOffset;\n            element.setTop(scrollOffset);\n        }\n    },\n\n    setOffset: function(offset) {\n        var axis = this.getAxis(),\n            scrollOffset = this.barLength,\n            barDom = this.barElement.dom;\n\n        offset = scrollOffset - offset;\n\n        if (axis === 'x') {\n            barDom.scrollLeft = offset;\n        }\n        else {\n            barDom.scrollTop = offset;\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.scroll.indicator.CssTransform', {\n    extend: 'Ext.scroll.indicator.Abstract',\n\n    config: {\n        cls: 'csstransform'\n    },\n\n    getElementConfig: function() {\n        var config = this.callParent();\n\n        config.children[0].children = [\n            {\n                reference: 'startElement'\n            },\n            {\n                reference: 'middleElement'\n            },\n            {\n                reference: 'endElement'\n            }\n        ];\n\n        return config;\n    },\n\n    refresh: function() {\n        var axis = this.getAxis(),\n            startElementDom = this.startElement.dom,\n            endElementDom = this.endElement.dom,\n            middleElement = this.middleElement,\n            startElementLength, endElementLength;\n\n        if (axis === 'x') {\n            startElementLength = startElementDom.offsetWidth;\n            endElementLength = endElementDom.offsetWidth;\n            middleElement.setLeft(startElementLength);\n        }\n        else {\n            startElementLength = startElementDom.offsetHeight;\n            endElementLength = endElementDom.offsetHeight;\n            middleElement.setTop(startElementLength);\n        }\n\n        this.startElementLength = startElementLength;\n        this.endElementLength = endElementLength;\n        this.minLength = startElementLength + endElementLength;\n\n        this.callParent();\n    },\n\n    applyLength: function(length) {\n        return Math.round(Math.max(this.minLength, length));\n    },\n\n    updateLength: function(length) {\n        var axis = this.getAxis(),\n            endElementStyle = this.endElement.dom.style,\n            middleElementStyle = this.middleElement.dom.style,\n            endElementLength = this.endElementLength,\n            endElementOffset = length - endElementLength,\n            middleElementLength = endElementOffset - this.startElementLength;\n\n        if (axis === 'x') {\n            endElementStyle.webkitTransform = 'translate3d(' + endElementOffset + 'px, 0, 0)';\n            middleElementStyle.webkitTransform = 'translate3d(0, 0, 0) scaleX(' + middleElementLength + ')';\n        }\n        else {\n            endElementStyle.webkitTransform = 'translate3d(0, ' + endElementOffset + 'px, 0)';\n            middleElementStyle.webkitTransform = 'translate3d(0, 0, 0) scaleY(' + middleElementLength + ')';\n        }\n    },\n\n    updateValue: function(value) {\n        var barLength = this.barLength,\n            gapLength = this.gapLength,\n            length = this.getLength(),\n            newLength, offset, extra;\n\n        if (value <= 0) {\n            offset = 0;\n            this.updateLength(this.applyLength(length + value * barLength));\n        }\n        else if (value >= 1) {\n            extra = Math.round((value - 1) * barLength);\n            newLength = this.applyLength(length - extra);\n            extra = length - newLength;\n            this.updateLength(newLength);\n            offset = gapLength + extra;\n        }\n        else {\n            offset = gapLength * value;\n        }\n\n        this.setOffset(offset);\n    },\n\n    setOffset: function(offset) {\n        var axis = this.getAxis(),\n            elementStyle = this.element.dom.style;\n\n        offset = Math.round(offset);\n\n        if (axis === 'x') {\n            elementStyle.webkitTransform = 'translate3d(' + offset + 'px, 0, 0)';\n        }\n        else {\n            elementStyle.webkitTransform = 'translate3d(0, ' + offset + 'px, 0)';\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.scroll.Indicator', {\n    requires: [\n        'Ext.scroll.indicator.Default',\n        'Ext.scroll.indicator.ScrollPosition',\n        'Ext.scroll.indicator.CssTransform'\n    ],\n\n    alternateClassName: 'Ext.util.Indicator',\n\n    constructor: function(config) {\n        if (Ext.os.is.Android2 || Ext.browser.is.ChromeMobile) {\n            return new Ext.scroll.indicator.ScrollPosition(config);\n        }\n        else if (Ext.os.is.iOS) {\n            return new Ext.scroll.indicator.CssTransform(config);\n        }\n        else {\n            return new Ext.scroll.indicator.Default(config);\n        }\n    }\n});\n\n/**\n * This is a simple container that is used to combile content and a {@link Ext.scroll.View} instance. It also\n * provides scroll indicators.\n *\n * 99% of the time all you need to use in this class is {@link #getScroller}.\n *\n * This should never should be extended.\n */\nExt.define('Ext.scroll.View', {\n    extend: 'Ext.Evented',\n\n    alternateClassName: 'Ext.util.ScrollView',\n\n    requires: [\n        'Ext.scroll.Scroller',\n        'Ext.scroll.Indicator'\n    ],\n\n    config: {\n        /**\n         * @cfg {String} indicatorsUi\n         * The style of the indicators of this view. Available options are `dark` or `light`.\n         */\n        indicatorsUi: 'dark',\n\n        element: null,\n\n        scroller: {},\n\n        indicators: {\n            x: {\n                axis: 'x'\n            },\n            y: {\n                axis: 'y'\n            }\n        },\n\n        indicatorsHidingDelay: 100,\n\n        cls: Ext.baseCSSPrefix + 'scroll-view'\n    },\n\n    /**\n     * @method getScroller\n     * Returns the scroller instance in this view. Checkout the documentation of {@link Ext.scroll.Scroller} and\n     * {@link Ext.Container#getScrollable} for more information.\n     * @return {Ext.scroll.View} The scroller\n     */\n\n    /**\n     * @private\n     */\n    processConfig: function(config) {\n        if (!config) {\n            return null;\n        }\n\n        if (typeof config == 'string') {\n            config = {\n                direction: config\n            };\n        }\n\n        config = Ext.merge({}, config);\n\n        var scrollerConfig = config.scroller,\n            name;\n\n        if (!scrollerConfig) {\n            config.scroller = scrollerConfig = {};\n        }\n\n        for (name in config) {\n            if (config.hasOwnProperty(name)) {\n                if (!this.hasConfig(name)) {\n                    scrollerConfig[name] = config[name];\n                    delete config[name];\n                }\n            }\n        }\n\n        return config;\n    },\n\n    constructor: function(config) {\n        config = this.processConfig(config);\n\n        this.useIndicators = { x: true, y: true };\n\n        this.doHideIndicators = Ext.Function.bind(this.doHideIndicators, this);\n\n        this.initConfig(config);\n    },\n\n    setConfig: function(config) {\n        return this.callParent([this.processConfig(config)]);\n    },\n\n    updateIndicatorsUi: function(newUi) {\n        var indicators = this.getIndicators();\n        indicators.x.setUi(newUi);\n        indicators.y.setUi(newUi);\n    },\n\n    applyScroller: function(config, currentScroller) {\n        return Ext.factory(config, Ext.scroll.Scroller, currentScroller);\n    },\n\n    applyIndicators: function(config, indicators) {\n        var defaultClass = Ext.scroll.Indicator,\n            useIndicators = this.useIndicators;\n\n        if (!config) {\n            config = {};\n        }\n\n        if (!config.x) {\n            useIndicators.x = false;\n            config.x = {};\n        }\n\n        if (!config.y) {\n            useIndicators.y = false;\n            config.y = {};\n        }\n\n        return {\n            x: Ext.factory(config.x, defaultClass, indicators && indicators.x),\n            y: Ext.factory(config.y, defaultClass, indicators && indicators.y)\n        };\n    },\n\n    updateIndicators: function(indicators) {\n        this.indicatorsGrid = Ext.Element.create({\n            className: 'x-scroll-bar-grid-wrapper',\n            children: [{\n                className: 'x-scroll-bar-grid',\n                children: [\n                    {\n                        children: [{}, {\n                            children: [indicators.y.barElement]\n                        }]\n                    },\n                    {\n                        children: [{\n                            children: [indicators.x.barElement]\n                        }, {}]\n                    }\n                ]\n            }]\n        });\n    },\n\n    updateScroller: function(scroller) {\n        scroller.on({\n            scope: this,\n            scrollstart: 'onScrollStart',\n            scroll: 'onScroll',\n            scrollend: 'onScrollEnd',\n            refresh: 'refreshIndicators'\n        });\n    },\n\n    isAxisEnabled: function(axis) {\n        return this.getScroller().isAxisEnabled(axis) && this.useIndicators[axis];\n    },\n\n    applyElement: function(element) {\n        if (element) {\n            return Ext.get(element);\n        }\n    },\n\n    updateElement: function(element) {\n        var scrollerElement = element.getFirstChild().getFirstChild(),\n            scroller = this.getScroller();\n\n        element.addCls(this.getCls());\n        element.insertFirst(this.indicatorsGrid);\n\n        scroller.setElement(scrollerElement);\n\n        this.refreshIndicators();\n\n        return this;\n    },\n\n    showIndicators: function() {\n        var indicators = this.getIndicators();\n\n        if (this.hasOwnProperty('indicatorsHidingTimer')) {\n            clearTimeout(this.indicatorsHidingTimer);\n            delete this.indicatorsHidingTimer;\n        }\n\n        if (this.isAxisEnabled('x')) {\n            indicators.x.show();\n        }\n\n        if (this.isAxisEnabled('y')) {\n            indicators.y.show();\n        }\n    },\n\n    hideIndicators: function() {\n        var delay = this.getIndicatorsHidingDelay();\n\n        if (delay > 0) {\n            this.indicatorsHidingTimer = setTimeout(this.doHideIndicators, delay);\n        }\n        else {\n            this.doHideIndicators();\n        }\n    },\n\n    doHideIndicators: function() {\n        var indicators = this.getIndicators();\n\n        if (this.isAxisEnabled('x')) {\n            indicators.x.hide();\n        }\n\n        if (this.isAxisEnabled('y')) {\n            indicators.y.hide();\n        }\n    },\n\n    onScrollStart: function() {\n        this.onScroll.apply(this, arguments);\n        this.showIndicators();\n    },\n\n    onScrollEnd: function() {\n        this.hideIndicators();\n    },\n\n    onScroll: function(scroller, x, y) {\n        this.setIndicatorValue('x', x);\n        this.setIndicatorValue('y', y);\n\n        if (this.isBenchmarking) {\n            this.framesCount++;\n        }\n    },\n\n    isBenchmarking: false,\n\n    framesCount: 0,\n\n    getCurrentFps: function() {\n        var now = Date.now(),\n            fps;\n\n        if (!this.isBenchmarking) {\n            this.isBenchmarking = true;\n            fps = 0;\n        }\n        else {\n            fps = Math.round(this.framesCount * 1000 / (now - this.framesCountStartTime));\n        }\n\n        this.framesCountStartTime = now;\n        this.framesCount = 0;\n\n        return fps;\n    },\n\n    setIndicatorValue: function(axis, scrollerPosition) {\n        if (!this.isAxisEnabled(axis)) {\n            return this;\n        }\n\n        var scroller = this.getScroller(),\n            scrollerMaxPosition = scroller.getMaxPosition()[axis],\n            scrollerContainerSize = scroller.getContainerSize()[axis],\n            value;\n\n        if (scrollerMaxPosition === 0) {\n            value = scrollerPosition / scrollerContainerSize;\n\n            if (scrollerPosition >= 0) {\n                value += 1;\n            }\n        }\n        else {\n            if (scrollerPosition > scrollerMaxPosition) {\n                value = 1 + ((scrollerPosition - scrollerMaxPosition) / scrollerContainerSize);\n            }\n            else if (scrollerPosition < 0) {\n                value = scrollerPosition / scrollerContainerSize;\n            }\n            else {\n                value = scrollerPosition / scrollerMaxPosition;\n            }\n        }\n\n        this.getIndicators()[axis].setValue(value);\n    },\n\n    refreshIndicator: function(axis) {\n        if (!this.isAxisEnabled(axis)) {\n            return this;\n        }\n\n        var scroller = this.getScroller(),\n            indicator = this.getIndicators()[axis],\n            scrollerContainerSize = scroller.getContainerSize()[axis],\n            scrollerSize = scroller.getSize()[axis],\n            ratio = scrollerContainerSize / scrollerSize;\n\n        indicator.setRatio(ratio);\n        indicator.refresh();\n    },\n\n    refresh: function() {\n        return this.getScroller().refresh();\n    },\n\n    refreshIndicators: function() {\n        var indicators = this.getIndicators();\n\n        indicators.x.setActive(this.isAxisEnabled('x'));\n        indicators.y.setActive(this.isAxisEnabled('y'));\n\n        this.refreshIndicator('x');\n        this.refreshIndicator('y');\n    },\n\n    destroy: function() {\n        var element = this.getElement(),\n            indicators = this.getIndicators();\n\n        if (element && !element.isDestroyed) {\n            element.removeCls(this.getCls());\n        }\n\n        indicators.x.destroy();\n        indicators.y.destroy();\n\n        Ext.destroy(this.getScroller(), this.indicatorsGrid);\n        delete this.indicatorsGrid;\n\n        this.callParent(arguments);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.behavior.Scrollable', {\n\n    extend: 'Ext.behavior.Behavior',\n\n    requires: [\n        'Ext.scroll.View'\n    ],\n\n    constructor: function() {\n        this.listeners = {\n            painted: 'onComponentPainted',\n            scope: this\n        };\n\n        this.callParent(arguments);\n    },\n\n    onComponentPainted: function() {\n        this.scrollView.refresh();\n    },\n\n    setConfig: function(config) {\n        var scrollView = this.scrollView,\n            component = this.component,\n            scrollViewElement, scrollerElement;\n\n        if (config) {\n            if (!scrollView) {\n                this.scrollView = scrollView = new Ext.scroll.View(config);\n                scrollView.on('destroy', 'onScrollViewDestroy', this);\n\n                component.setUseBodyElement(true);\n\n                this.scrollerElement = scrollerElement = component.innerElement;\n                this.scrollContainer = scrollerElement.wrap();\n                this.scrollViewElement = scrollViewElement = component.bodyElement;\n\n                scrollView.setElement(scrollViewElement);\n\n                if (component.isPainted()) {\n                    this.onComponentPainted(component);\n                }\n\n                component.on(this.listeners);\n            }\n            else if (Ext.isString(config) || Ext.isObject(config)) {\n                scrollView.setConfig(config);\n            }\n        }\n        else if (scrollView) {\n            scrollView.destroy();\n        }\n\n        return this;\n    },\n\n    getScrollView: function() {\n        return this.scrollView;\n    },\n\n    onScrollViewDestroy: function() {\n        var component = this.component,\n            scrollerElement = this.scrollerElement;\n\n        if (!scrollerElement.isDestroyed) {\n            this.scrollerElement.unwrap();\n        }\n\n        this.scrollContainer.destroy();\n\n        component.un(this.listeners);\n\n        delete this.scrollerElement;\n        delete this.scrollView;\n        delete this.scrollContainer;\n    },\n\n    onComponentDestroy: function() {\n        var scrollView = this.scrollView;\n\n        if (scrollView) {\n            scrollView.destroy();\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Style', {\n\n    extend: 'Ext.fx.layout.card.Abstract',\n\n    requires: [\n        'Ext.fx.Animation'\n    ],\n\n    config: {\n        inAnimation: {\n            before: {\n                visibility: null\n            },\n            preserveEndState: false,\n            replacePrevious: true\n        },\n\n        outAnimation: {\n            preserveEndState: false,\n            replacePrevious: true\n        }\n    },\n\n    constructor: function(config) {\n        var inAnimation, outAnimation;\n\n        this.initConfig(config);\n\n        this.endAnimationCounter = 0;\n\n        inAnimation = this.getInAnimation();\n        outAnimation = this.getOutAnimation();\n\n        inAnimation.on('animationend', 'incrementEnd', this);\n        outAnimation.on('animationend', 'incrementEnd', this);\n    },\n\n    updateDirection: function(direction) {\n        this.getInAnimation().setDirection(direction);\n        this.getOutAnimation().setDirection(direction);\n    },\n\n    updateDuration: function(duration) {\n        this.getInAnimation().setDuration(duration);\n        this.getOutAnimation().setDuration(duration);\n    },\n\n    updateReverse: function(reverse) {\n        this.getInAnimation().setReverse(reverse);\n        this.getOutAnimation().setReverse(reverse);\n    },\n\n    incrementEnd: function() {\n        this.endAnimationCounter++;\n\n        if (this.endAnimationCounter > 1) {\n            this.endAnimationCounter = 0;\n            this.fireEvent('animationend', this);\n        }\n    },\n\n    applyInAnimation: function(animation, inAnimation) {\n        return Ext.factory(animation, Ext.fx.Animation, inAnimation);\n    },\n\n    applyOutAnimation: function(animation, outAnimation) {\n        return Ext.factory(animation, Ext.fx.Animation, outAnimation);\n    },\n\n    updateInAnimation: function(animation) {\n        animation.setScope(this);\n    },\n\n    updateOutAnimation: function(animation) {\n        animation.setScope(this);\n    },\n\n    onActiveItemChange: function(cardLayout, newItem, oldItem, options, controller) {\n        var inAnimation = this.getInAnimation(),\n            outAnimation = this.getOutAnimation(),\n            inElement, outElement;\n\n        if (newItem && oldItem && oldItem.isPainted()) {\n            inElement = newItem.renderElement;\n            outElement = oldItem.renderElement;\n\n            inAnimation.setElement(inElement);\n            outAnimation.setElement(outElement);\n\n            outAnimation.setOnBeforeEnd(function(element, interrupted) {\n                if (interrupted || Ext.Animator.hasRunningAnimations(element)) {\n                    controller.firingArguments[1] = null;\n                    controller.firingArguments[2] = null;\n                }\n            });\n            outAnimation.setOnEnd(function() {\n                controller.resume();\n            });\n\n            inElement.dom.style.setProperty('visibility', 'hidden', '!important');\n            newItem.show();\n\n            Ext.Animator.run([outAnimation, inAnimation]);\n            controller.pause();\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Slide', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.slide',\n\n    config: {\n        inAnimation: {\n            type: 'slide',\n            easing: 'ease-out'\n        },\n        outAnimation: {\n            type: 'slide',\n            easing: 'ease-out',\n            out: true\n        }\n    },\n\n    updateReverse: function(reverse) {\n        this.getInAnimation().setReverse(reverse);\n        this.getOutAnimation().setReverse(reverse);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Cover', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.cover',\n\n    config: {\n        reverse: null,\n\n        inAnimation: {\n            before: {\n                'z-index': 100\n            },\n            after: {\n                'z-index': 0\n            },\n            type: 'slide',\n            easing: 'ease-out'\n        },\n        outAnimation: {\n            easing: 'ease-out',\n            from: {\n                opacity: 0.99\n            },\n            to: {\n                opacity: 1\n            },\n            out: true\n        }\n    },\n\n    updateReverse: function(reverse) {\n        this.getInAnimation().setReverse(reverse);\n        this.getOutAnimation().setReverse(reverse);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Reveal', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.reveal',\n\n    config: {\n        inAnimation: {\n            easing: 'ease-out',\n            from: {\n                opacity: 0.99\n            },\n            to: {\n                opacity: 1\n            }\n        },\n        outAnimation: {\n            before: {\n                'z-index': 100\n            },\n            after: {\n                'z-index': 0\n            },\n            type: 'slide',\n            easing: 'ease-out',\n            out: true\n        }\n    },\n\n    updateReverse: function(reverse) {\n        this.getInAnimation().setReverse(reverse);\n        this.getOutAnimation().setReverse(reverse);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Fade', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.fade',\n\n    config: {\n        reverse: null,\n        \n        inAnimation: {\n            type: 'fade',\n            easing: 'ease-out'\n        },\n        outAnimation: {\n            type: 'fade',\n            easing: 'ease-out',\n            out: true\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Flip', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.flip',\n\n    config: {\n        duration: 500,\n\n        inAnimation: {\n            type: 'flip',\n            half: true,\n            easing: 'ease-out',\n            before: {\n                'backface-visibility': 'hidden'\n            },\n            after: {\n                'backface-visibility': null\n            }\n        },\n        outAnimation: {\n            type: 'flip',\n            half: true,\n            easing: 'ease-in',\n            before: {\n                'backface-visibility': 'hidden'\n            },\n            after: {\n                'backface-visibility': null\n            },\n            out: true\n        }\n    },\n\n    updateDuration: function(duration) {\n        var halfDuration = duration / 2,\n            inAnimation = this.getInAnimation(),\n            outAnimation = this.getOutAnimation();\n\n        inAnimation.setDelay(halfDuration);\n        inAnimation.setDuration(halfDuration);\n        outAnimation.setDuration(halfDuration);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.card.Pop', {\n    extend: 'Ext.fx.layout.card.Style',\n\n    alias: 'fx.layout.card.pop',\n\n    config: {\n        duration: 500,\n\n        inAnimation: {\n            type: 'pop',\n            easing: 'ease-out'\n        },\n        outAnimation: {\n            type: 'pop',\n            easing: 'ease-in',\n            out: true\n        }\n    },\n\n    updateDuration: function(duration) {\n        var halfDuration = duration / 2,\n            inAnimation = this.getInAnimation(),\n            outAnimation = this.getOutAnimation();\n\n        inAnimation.setDelay(halfDuration);\n        inAnimation.setDuration(halfDuration);\n        outAnimation.setDuration(halfDuration);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.fx.layout.Card', {\n    requires: [\n        'Ext.fx.layout.card.Slide',\n        'Ext.fx.layout.card.Cover',\n        'Ext.fx.layout.card.Reveal',\n        'Ext.fx.layout.card.Fade',\n        'Ext.fx.layout.card.Flip',\n        'Ext.fx.layout.card.Pop',\n//        'Ext.fx.layout.card.Cube',\n        'Ext.fx.layout.card.Scroll'\n    ],\n\n    constructor: function(config) {\n        var defaultClass = Ext.fx.layout.card.Abstract,\n            type;\n\n        if (!config) {\n            return null;\n        }\n\n        if (typeof config == 'string') {\n            type = config;\n\n            config = {};\n        }\n        else if (config.type) {\n            type = config.type;\n        }\n\n        config.elementBox = false;\n\n        if (type) {\n\n            if (Ext.os.is.Android2) {\n                // In Android 2 we only support scroll and fade. Otherwise force it to slide.\n                if (type != 'fade') {\n                    type = 'scroll';\n                }\n            }\n            else if (type === 'slide' && Ext.browser.is.ChromeMobile) {\n                type = 'scroll';\n            }\n\n            defaultClass = Ext.ClassManager.getByAlias('fx.layout.card.' + type);\n\n            if (!defaultClass) {\n                Ext.Logger.error(\"Unknown card animation type: '\" + type + \"'\");\n            }\n        }\n\n        return Ext.factory(config, defaultClass);\n    }\n});\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * Sometimes you want to show several screens worth of information but you've only got a small screen to work with.\n * TabPanels and Carousels both enable you to see one screen of many at a time, and underneath they both use a Card\n * Layout.\n *\n * Card Layout takes the size of the Container it is applied to and sizes the currently active item to fill the\n * Container completely. It then hides the rest of the items, allowing you to change which one is currently visible but\n * only showing one at once:\n *\n * {@img ../guides/layouts/card.jpg}\n *\n *\n * Here the gray box is our Container, and the blue box inside it is the currently active card. The three other cards\n * are hidden from view, but can be swapped in later. While it's not too common to create Card layouts directly, you\n * can do so like this:\n *\n *     var panel = Ext.create('Ext.Panel', {\n *         layout: 'card',\n *         items: [\n *             {\n *                 html: \"First Item\"\n *             },\n *             {\n *                 html: \"Second Item\"\n *             },\n *             {\n *                 html: \"Third Item\"\n *             },\n *             {\n *                 html: \"Fourth Item\"\n *             }\n *         ]\n *     });\n *\n *     panel.{@link Ext.Container#setActiveItem setActiveItem}(1);\n *\n * Here we create a Panel with a Card Layout and later set the second item active (the active item index is zero-based,\n * so 1 corresponds to the second item). Normally you're better off using a {@link Ext.tab.Panel tab panel} or a\n * {@link Ext.carousel.Carousel carousel}.\n *\n * For a more detailed overview of what layouts are and the types of layouts shipped with Sencha Touch 2, check out the\n * [Layout Guide](#!/guide/layouts).\n */\nExt.define('Ext.layout.Card', {\n    extend: 'Ext.layout.Fit',\n    alternateClassName: 'Ext.layout.CardLayout',\n\n    isCard: true,\n\n    /**\n     * @event activeitemchange\n     * @preventable doActiveItemChange\n     * Fires when an card is made active\n     * @param {Ext.layout.Card} this The layout instance\n     * @param {Mixed} newActiveItem The new active item\n     * @param {Mixed} oldActiveItem The old active item\n     */\n\n    requires: [\n        'Ext.fx.layout.Card'\n    ],\n\n    alias: 'layout.card',\n\n    cls: Ext.baseCSSPrefix + 'layout-card',\n\n    itemCls: Ext.baseCSSPrefix + 'layout-card-item',\n\n    constructor: function() {\n        this.callParent(arguments);\n        this.container.onInitialized(this.onContainerInitialized, this);\n    },\n\n    /**\n     * @private\n     */\n    applyAnimation: function(animation) {\n        return new Ext.fx.layout.Card(animation);\n    },\n\n    /**\n     * @private\n     */\n    updateAnimation: function(animation, oldAnimation) {\n        if (animation && animation.isAnimation) {\n            animation.setLayout(this);\n        }\n\n        if (oldAnimation) {\n            oldAnimation.destroy();\n        }\n    },\n\n    /**\n     * @private\n     */\n    doItemAdd: function(item, index) {\n        if (item.isInnerItem()) {\n            item.hide();\n        }\n\n        this.callParent(arguments);\n    },\n\n    getInnerItemsContainer: function() {\n        var innerItemsContainer = this.innerItemsContainer;\n\n        if (!innerItemsContainer) {\n            this.innerItemsContainer = innerItemsContainer = Ext.Element.create({\n                className: this.cls + '-container'\n            });\n\n            this.container.innerElement.append(innerItemsContainer);\n        }\n\n        return innerItemsContainer;\n    },\n\n    /**\n     * @private\n     */\n    doItemRemove: function(item, index, destroy) {\n        this.callParent(arguments);\n\n        if (!destroy && item.isInnerItem()) {\n            item.show();\n        }\n    },\n\n    onContainerInitialized: function(container) {\n        var activeItem = container.getActiveItem();\n\n        if (activeItem) {\n            activeItem.show();\n        }\n\n        container.on('activeitemchange', 'onContainerActiveItemChange', this);\n    },\n\n    /**\n     * @private\n     */\n    onContainerActiveItemChange: function(container) {\n        this.relayEvent(arguments, 'doActiveItemChange');\n    },\n\n    /**\n     * @private\n     */\n    doActiveItemChange: function(me, newActiveItem, oldActiveItem) {\n        if (oldActiveItem) {\n            oldActiveItem.hide();\n        }\n\n        if (newActiveItem) {\n            newActiveItem.show();\n        }\n    },\n\n    doItemDockedChange: function(item, docked) {\n        var element = item.element;\n        // See https://sencha.jira.com/browse/TOUCH-1508\n        if (docked) {\n            element.removeCls(this.itemCls);\n        }\n        else {\n            element.addCls(this.itemCls);\n        }\n\n        this.callParent(arguments);\n    }\n});\n\n/**\n * @aside guide layouts\n * @aside video layouts\n *\n * Factory class which returns an instance of the provided layout.\n */\nExt.define('Ext.layout.Layout', {\n\n    requires: [\n        'Ext.layout.Fit',\n        'Ext.layout.Card',\n        'Ext.layout.HBox',\n        'Ext.layout.VBox'\n    ],\n\n    /**\n     * Creates a new Layout for the specified container using the config object's layout to determine\n     * layout to instantiate.\n     * @param {Ext.Container} container A configuration object for the Component you wish to create.\n     * @param {Object} [config] The alias to provide the Layout type; if none is\n     * specified, Ext.layout.Default will be used.\n     * @return {Ext.layout.Default} The newly instantiated Layout.\n     */\n    constructor: function(container, config) {\n        var layoutClass = Ext.layout.Default,\n            type, layout;\n\n        if (typeof config == 'string') {\n            type = config;\n            config = {};\n        }\n        else if ('type' in config) {\n            type = config.type;\n        }\n\n        if (type) {\n            layoutClass = Ext.ClassManager.getByAlias('layout.' + type);\n\n            if (!layoutClass) {\n                Ext.Logger.error(\"Unknown layout type of: '\" + type + \"'\");\n            }\n        }\n\n        return new layoutClass(container, config);\n    }\n});\n\n\n/**\n * A Container has all of the abilities of {@link Ext.Component Component}, but lets you nest other Components inside\n * it. Applications are made up of lots of components, usually nested inside one another. Containers allow you to\n * render and arrange child Components inside them. Most apps have a single top-level Container called a Viewport,\n * which takes up the entire screen. Inside of this are child components, for example in a mail app the Viewport\n * Container's two children might be a message List and an email preview pane.\n *\n * Containers give the following extra functionality:\n *\n * * Adding child Components at instantiation and run time\n * * Removing child Components\n * * Specifying a [Layout](#!/guide/layouts)\n *\n * Layouts determine how the child Components should be laid out on the screen. In our mail app example we'd use an\n * HBox layout so that we can pin the email list to the left hand edge of the screen and allow the preview pane to\n * occupy the rest. There are several layouts in Sencha Touch 2, each of which help you achieve your desired\n * application structure, further explained in the [Layout guide](#!/guide/layouts).\n *\n * ## Adding Components to Containers\n *\n * As we mentioned above, Containers are special Components that can have child Components arranged by a Layout. One of\n * the code samples above showed how to create a Panel with 2 child Panels already defined inside it but it's easy to\n * do this at run time too:\n *\n *     @example miniphone\n *     //this is the Panel we'll be adding below\n *     var aboutPanel = Ext.create('Ext.Panel', {\n *         html: 'About this app'\n *     });\n *\n *     //this is the Panel we'll be adding to\n *     var mainPanel = Ext.create('Ext.Panel', {\n *         fullscreen: true,\n *\n *         layout: 'hbox',\n *         defaults: {\n *             flex: 1\n *         },\n *\n *         items: {\n *             html: 'First Panel',\n *             style: 'background-color: #5E99CC;'\n *         }\n *     });\n *\n *     //now we add the first panel inside the second\n *     mainPanel.add(aboutPanel);\n *\n * Here we created three Panels in total. First we made the aboutPanel, which we might use to tell the user a little\n * about the app. Then we create one called mainPanel, which already contains a third Panel in its\n * {@link Ext.Container#cfg-items items} configuration, with some dummy text (\"First Panel\"). Finally, we add the first\n * panel to the second by calling the {@link Ext.Container#method-add add} method on mainPanel.\n *\n * In this case we gave our mainPanel another hbox layout, but we also introduced some\n * {@link Ext.Container#defaults defaults}. These are applied to every item in the Panel, so in this case every child\n * inside mainPanel will be given a flex: 1 configuration. The effect of this is that when we first render the screen\n * only a single child is present inside mainPanel, so that child takes up the full width available to it. Once the\n * mainPanel.add line is called though, the aboutPanel is rendered inside of it and also given a flex of 1, which will\n * cause it and the first panel to both receive half the full width of the mainPanel.\n *\n * Likewise, it's easy to remove items from a Container:\n *\n *     mainPanel.remove(aboutPanel);\n *\n * After this line is run everything is back to how it was, with the first child panel once again taking up the full\n * width inside mainPanel.\n *\n * ## Further Reading\n *\n * See the [Component & Container Guide](#!/guide/components) for more information, and check out the\n * {@link Ext.Container} class docs also.\n */\nExt.define('Ext.Container', {\n    extend: 'Ext.Component',\n\n    alternateClassName: 'Ext.lib.Container',\n\n    requires: [\n        'Ext.layout.Layout',\n        'Ext.ItemCollection',\n        'Ext.behavior.Scrollable',\n        'Ext.Mask'\n    ],\n\n    xtype: 'container',\n\n    /**\n     * @event add\n     * Fires whenever item added to the Container\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} item The item added to the Container\n     * @param {Number} index The index of the item within the Container\n     */\n\n    /**\n     * @event remove\n     * Fires whenever item removed from the Container\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} item The item removed from the Container\n     * @param {Number} index The index of the item that was removed\n     */\n\n    /**\n     * @event move\n     * Fires whenever item moved within the Container\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} item The item moved within the Container\n     * @param {Number} toIndex The new index of the item\n     * @param {Number} fromIndex The old index of the item\n     */\n\n    /**\n     * @private\n     * @event renderedchange\n     * Fires whenever an item is rendered into a container or derendered\n     * from a Container\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} item The item in the Container\n     * @param {Boolean} rendered The current rendered status of the item\n     */\n\n    /**\n     * @event activate\n     * Fires whenever item within the Container is activated\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} newActiveItem The new active item within the container\n     * @param {Object} oldActiveItem The old active item within the container\n     */\n\n    /**\n     * @event deactivate\n     * Fires whenever item within the Container is deactivated\n     * @param {Ext.Container} this The Container instance\n     * @param {Object} newActiveItem The new active item within the container\n     * @param {Object} oldActiveItem The old active item within the container\n     */\n\n    eventedConfig: {\n        /**\n         * @cfg {Object/Number} activeItem The item from the {@link #cfg-items} collection that will be active first. This is\n         * usually only meaningful in a {@link Ext.layout.Card card layout}, where only one item can be active at a\n         * time\n         * @accessor\n         * @evented\n         */\n        activeItem: 0\n    },\n\n    config: {\n        /**\n         * @cfg {String/Object/Boolean} cardSwitchAnimation\n         * Animation to be used during transitions of cards.\n         * @removed 2.0.0 Please use {@link Ext.layout.Card#animation} instead\n         */\n\n        /**\n         * @cfg {Object/String} layout Configuration for this Container's layout. Example:\n         *\n         *     Ext.create('Ext.Container', {\n         *         layout: {\n         *             type: 'hbox',\n         *             align: 'middle'\n         *         },\n         *         items: [\n         *             {\n         *                 xtype: 'panel',\n         *                 flex: 1,\n         *                 style: 'background-color: red;'\n         *             },\n         *             {\n         *                 xtype: 'panel',\n         *                 flex: 2,\n         *                 style: 'background-color: green'\n         *             }\n         *         ]\n         *     });\n         *\n         * See the [Layouts Guide](#!/guide/layouts) for more information\n         *\n         * @accessor\n         */\n        layout: null,\n\n        /**\n         * @cfg {Object} control Enables you to easily control Components inside this Container by listening to their\n         * events and taking some action. For example, if we had a container with a nested Disable button, and we\n         * wanted to hide the Container when the Disable button is tapped, we could do this:\n         *\n         *     Ext.create('Ext.Container', {\n         *         control: {\n         *            'button[text=Disable]': {\n         *                tap: 'hideMe'\n         *            }\n         *         },\n         *\n         *         hideMe: function() {\n         *             this.hide()\n         *         }\n         *     });\n         *\n         * We used a {@link Ext.ComponentQuery} selector to listen to the {@link Ext.Button#tap tap} event on any\n         * {@link Ext.Button button} anywhere inside the Container that has the {@link Ext.Button#text text} 'Disable'.\n         * Whenever a Component matching that selector fires the 'tap' event our hideMe function is called. hideMe is\n         * called with scope: this (e.g. 'this' is the Container instance).\n         *\n         */\n        control: {},\n\n        /**\n         * @cfg {Object} defaults A set of default configurations to apply to all child Components in this Container.\n         * It's often useful to specify defaults when creating more than one items with similar configurations. For\n         * example here we can specify that each child is a panel and avoid repeating the xtype declaration for each\n         * one:\n         *\n         *    Ext.create('Ext.Container', {\n         *        defaults: {\n         *            xtype: 'panel'\n         *        },\n         *        items: [\n         *            {\n         *                html: 'Panel 1'\n         *            },\n         *            {\n         *                html: 'Panel 2'\n         *            }\n         *        ]\n         *    });\n         *\n         * @accessor\n         */\n        defaults: null,\n\n        /**\n         * @cfg {Array/Object} items The child items to add to this Container. This is usually an array of Component\n         * configurations or instances, for example:\n         *\n         *    Ext.create('Ext.Container', {\n         *        items: [\n         *            {\n         *                xtype: 'panel',\n         *                html: 'This is an item'\n         *            }\n         *        ]\n         *    });\n         * @accessor\n         */\n        items: null,\n\n        /**\n         * @cfg {Boolean} autoDestroy If true, child items will be destroyed as soon as they are {@link #method-remove removed}\n         * from this container\n         * @accessor\n         */\n        autoDestroy: true,\n\n        /** @cfg {String} defaultType\n         * The default {@link Ext.Component xtype} of child Components to create in this Container when a child item\n         * is specified as a raw configuration object, rather than as an instantiated Component.\n         * @accessor\n         */\n        defaultType: null,\n\n        /**\n         * @cfg {Boolean/String/Object} scrollable\n         * Configuration options to make this Container scrollable. Acceptable values are:\n         *\n         * * 'horizontal', 'vertical', 'both' to enabling scrolling for that direction.\n         * * true/false to explicitly enable/disable scrolling.\n         *\n         * Alternatively, you can give it an object which is then passed to the scroller instance:\n         *\n         *     scrollable: {\n         *         direction: 'vertical',\n         *         directionLock: true\n         *     }\n         *\n         * Please look at the {@link Ext.scroll.Scroller} documentation for more example on how to use this.\n         * @accessor\n         */\n        scrollable: null,\n\n        //@private\n        useBodyElement: null,\n\n        /**\n         * @cfg {Boolean/Object/Ext.Mask/Ext.LoadMask} masked\n         * A configuration to allow you to mask this container.\n         * You can optionally pass an object block with and xtype of `loadmask`, and an optional `message` value to\n         * display a loading mask. Please refer to the {@link Ext.LoadMask} component to see other configurations.\n         *\n         *     masked: {\n         *         xtype: 'loadmask',\n         *         message: 'My message'\n         *     }\n         *\n         * Alternatively, you can just call the setter at any time with true/false to show/hide the mask\"\n         *\n         *     setMasked(true); //show the mask\n         *     setMasked(false); //hides the mask\n         *\n         * There are also two convience methods, {@link #method-mask} and {@link #unmask}, to allow you to mask and unmask\n         * this container at any time.\n         *\n         * Remember, the Ext.Viewport is always a container, so if you want to mask your whole application at anytime,\n         * can call:\n         *\n         *     Ext.Viewport.setMasked({\n         *         xtype: 'loadmask',\n         *         message: 'Hello'\n         *     });\n         *\n         * @accessor\n         */\n        masked: null,\n\n        /**\n         * @cfg {Boolean} modal True to make this Container modal. This will create a mask underneath the Container\n         * that covers its parent and does not allow the user to interact with any other Components until this\n         * Container is dismissed\n         * @accessor\n         */\n        modal: null,\n\n        /**\n         * @cfg {Boolean} hideOnMaskTap When using a {@link #modal} Component, setting this to true will hide the modal\n         * mask and the Container when the mask is tapped on\n         * @accessor\n         */\n        hideOnMaskTap: null\n    },\n\n    isContainer: true,\n\n    delegateListeners: {\n        delegate: '> component',\n        centeredchange: 'onItemCenteredChange',\n        dockedchange: 'onItemDockedChange',\n        floatingchange: 'onItemFloatingChange'\n    },\n\n    constructor: function(config) {\n        var me = this;\n\n        me._items = me.items = new Ext.ItemCollection();\n        me.innerItems = [];\n\n        me.onItemAdd = me.onFirstItemAdd;\n\n        me.callParent(arguments);\n    },\n\n    getElementConfig: function() {\n        return {\n            reference: 'element',\n            className: 'x-container',\n            children: [{\n                reference: 'innerElement',\n                className: 'x-inner'\n            }]\n        };\n    },\n\n    /**\n     * Changes the {@link #masked} configuration when its setter is called, which will convert the value\n     * into a proper object/instance of {@link Ext.Mask}/{@link Ext.LoadMask}. If a mask already exists,\n     * it will use that instead.\n     */\n    applyMasked: function(masked, currentMask) {\n        currentMask = Ext.factory(masked, Ext.Mask, currentMask);\n\n        if (currentMask) {\n            this.add(currentMask);\n        }\n\n        return currentMask;\n    },\n\n    /**\n     * Convience method which calls {@link #setMasked} with a value of true (to show the mask). For additional\n     * functionality, call the {@link #setMasked} function direction (See the {@link #masked} configuration documention\n     * for more information).\n     */\n    mask: function(mask) {\n        this.setMasked(mask || true);\n    },\n\n    /**\n     * Convience method which calls {@link #setMasked} with a value of false (to hide the mask). For additional\n     * functionality, call the {@link #setMasked} function direction (See the {@link #masked} configuration documention\n     * for more information).\n     */\n    unmask: function() {\n        this.setMasked(false);\n    },\n\n    applyModal: function(modal, currentMask) {\n        if (!modal && !currentMask) {\n            return;\n        }\n\n        return Ext.factory(modal, Ext.Mask, currentMask);\n    },\n\n    updateModal: function(newModal, oldModal) {\n        var listeners = {\n            painted: 'refreshModalMask',\n            erased: 'destroyModalMask'\n        };\n\n        if (newModal) {\n            this.on(listeners);\n            newModal.on('destroy', 'onModalDestroy', this);\n            if (this.getTop() === null && this.getBottom() === null && this.getRight() === null && this.getLeft() === null && !this.getCentered()) {\n                Ext.Logger.warn(\"You have specified a modal config on a container that is neither centered nor has any positioning information.  Setting to top and left to 0 to compensate.\");\n                this.setTop(0);\n                this.setLeft(0);\n            }\n\n            if (this.isPainted()) {\n                this.refreshModalMask();\n            }\n        }\n        else if (oldModal) {\n            oldModal.un('destroy', 'onModalDestroy', this);\n            this.un(listeners);\n        }\n    },\n\n    onModalDestroy: function() {\n        this.setModal(null);\n    },\n\n    refreshModalMask: function() {\n        var mask = this.getModal(),\n            container = this.getParent();\n\n        if (!this.painted) {\n            this.painted = true;\n\n            if (mask) {\n                container.insertBefore(mask, this);\n                mask.setZIndex(this.getZIndex() - 1);\n                if (this.getHideOnMaskTap()) {\n                    mask.on('tap', 'hide', this, { single: true });\n                }\n            }\n        }\n    },\n\n    destroyModalMask: function() {\n        var mask = this.getModal(),\n            container = this.getParent();\n\n        if (this.painted) {\n            this.painted = false;\n\n            if (mask) {\n                mask.un('tap', 'hide', this);\n                container.remove(mask, false);\n            }\n        }\n    },\n\n    updateZIndex: function(zIndex) {\n        var modal = this.getModal();\n\n        this.callParent(arguments);\n\n        if (modal) {\n            modal.setZIndex(zIndex - 1);\n        }\n    },\n\n    updateBaseCls: function(newBaseCls, oldBaseCls) {\n        var me = this,\n            ui = me.getUi();\n\n        if (newBaseCls) {\n            this.element.addCls(newBaseCls);\n            this.innerElement.addCls(newBaseCls, null, 'inner');\n\n            if (ui) {\n                this.element.addCls(newBaseCls, null, ui);\n            }\n        }\n\n        if (oldBaseCls) {\n            this.element.removeCls(oldBaseCls);\n            this.innerElement.removeCls(newBaseCls, null, 'inner');\n\n            if (ui) {\n                this.element.removeCls(oldBaseCls, null, ui);\n            }\n        }\n    },\n\n    updateUseBodyElement: function(useBodyElement) {\n        if (useBodyElement) {\n            this.bodyElement = this.innerElement.wrap({\n                cls: 'x-body'\n            });\n            this.referenceList.push('bodyElement');\n        }\n    },\n\n    applyItems: function(items, collection) {\n        if (items) {\n            this.getDefaultType();\n            this.getDefaults();\n\n            if (this.initialized && collection.length > 0) {\n                this.removeAll();\n            }\n\n            this.add(items);\n        }\n    },\n\n    /**\n     * @private\n     */\n     applyControl: function(selectors) {\n         var selector, key, listener, listeners;\n\n         for (selector in selectors) {\n             listeners = selectors[selector];\n\n             for (key in listeners) {\n                 listener = listeners[key];\n\n                 if (Ext.isObject(listener)) {\n                     listener.delegate = selector;\n                 }\n             }\n\n             listeners.delegate = selector;\n\n             this.addListener(listeners);\n         }\n\n         return selectors;\n     },\n\n    /**\n     * Initialize layout and event listeners the very first time an item is added\n     * @private\n     */\n    onFirstItemAdd: function() {\n        delete this.onItemAdd;\n\n        this.setLayout(new Ext.layout.Layout(this, this.getLayout() || 'default'));\n\n        if (this.innerHtmlElement && !this.getHtml()) {\n            this.innerHtmlElement.destroy();\n            delete this.innerHtmlElement;\n        }\n\n        this.on(this.delegateListeners);\n\n        return this.onItemAdd.apply(this, arguments);\n    },\n\n    updateLayout: function(newLayout, oldLayout) {\n        if (oldLayout && oldLayout.isLayout) {\n            Ext.Logger.error('Replacing a layout after one has already been initialized is not currently supported.');\n        }\n    },\n\n    updateDefaultType: function(defaultType) {\n        // Cache the direct reference to the default item class here for performance\n        this.defaultItemClass = Ext.ClassManager.getByAlias('widget.' + defaultType);\n\n        if (!this.defaultItemClass) {\n            Ext.Logger.error(\"Invalid defaultType of: '\" + defaultType + \"', must be a valid component xtype\");\n        }\n    },\n\n    applyDefaults: function(defaults) {\n        if (defaults) {\n            this.factoryItem = this.factoryItemWithDefaults;\n            return defaults;\n        }\n    },\n\n    factoryItem: function(item) {\n        if (!item) {\n            Ext.Logger.error(\"Invalid item given: \" + item + \", must be either the config object to factory a new item, \" +\n                \"or an existing component instance\");\n        }\n\n        return Ext.factory(item, this.defaultItemClass);\n    },\n\n    factoryItemWithDefaults: function(item) {\n        if (!item) {\n            Ext.Logger.error(\"Invalid item given: \" + item + \", must be either the config object to factory a new item, \" +\n                \"or an existing component instance\");\n        }\n\n        var me = this,\n            defaults = me.getDefaults(),\n            instance;\n\n        if (!defaults) {\n            return Ext.factory(item, me.defaultItemClass);\n        }\n\n        // Existing instance\n        if (item.isComponent) {\n            instance = item;\n\n            // Apply defaults only if this is not already an item of this container\n            if (defaults && item.isInnerItem() && !me.has(instance)) {\n                instance.setConfig(defaults, true);\n            }\n        }\n        // Config object\n        else {\n            if (defaults && !item.ignoreDefaults) {\n                // Note:\n                // - defaults is only applied to inner items\n                // - we merge the given config together with defaults into a new object so that the original object stays intact\n                if (!(\n                        item.hasOwnProperty('left') &&\n                        item.hasOwnProperty('right') &&\n                        item.hasOwnProperty('top') &&\n                        item.hasOwnProperty('bottom') &&\n                        item.hasOwnProperty('docked') &&\n                        item.hasOwnProperty('centered')\n                    )) {\n                    item = Ext.mergeIf({}, item, defaults);\n                }\n            }\n\n            instance = Ext.factory(item, me.defaultItemClass);\n        }\n\n        return instance;\n    },\n\n    /**\n     * Adds one or more Components to this Container. Example:\n     *\n     *     var myPanel = Ext.create('Ext.Panel', {\n     *         html: 'This will be added to a Container'\n     *     });\n     *\n     *     myContainer.add([myPanel]);\n     *\n     * @param {Array} newItems The new items to add to the Container\n     */\n    add: function(newItems) {\n        var me = this,\n            i, ln, item, newActiveItem;\n\n        newItems = Ext.Array.from(newItems);\n\n        ln = newItems.length;\n\n        for (i = 0; i < ln; i++) {\n            item = me.factoryItem(newItems[i]);\n            this.doAdd(item);\n            if (!newActiveItem && !this.getActiveItem() && this.innerItems.length > 0 && item.isInnerItem()) {\n                newActiveItem = item;\n            }\n        }\n        if (newActiveItem) {\n            this.setActiveItem(newActiveItem);\n        }\n\n        return item;\n    },\n\n    /**\n     * @private\n     * @param item\n     */\n    doAdd: function(item) {\n        var me = this,\n            items = me.getItems(),\n            index;\n\n        if (!items.has(item)) {\n            index = items.length;\n            items.add(item);\n\n            if (item.isInnerItem()) {\n                me.insertInner(item);\n            }\n\n            item.setParent(me);\n\n            me.onItemAdd(item, index);\n        }\n    },\n\n    /**\n     * Removes an item from this Container, optionally destroying it\n     * @param {Object} item The item to remove\n     * @param {Boolean} destroy Calls the Component's {@link Ext.Component#destroy destroy} method if true\n     * @return {Ext.Component} this\n     */\n    remove: function(item, destroy) {\n        var me = this,\n            index = me.indexOf(item),\n            innerItems = me.getInnerItems();\n\n        if (destroy === undefined) {\n            destroy = me.getAutoDestroy();\n        }\n\n        if (index !== -1) {\n            if (!me.removingAll && innerItems.length > 1 && item === me.getActiveItem()) {\n                me.on({\n                    activeitemchange: 'doRemove',\n                    scope: me,\n                    single: true,\n                    order: 'after',\n                    args: [item, index, destroy]\n                });\n\n                me.doResetActiveItem(innerItems.indexOf(item));\n            }\n            else {\n                me.doRemove(item, index, destroy);\n                if (innerItems.length === 0) {\n                    me.setActiveItem(null);\n                }\n            }\n        }\n\n        return me;\n    },\n\n    doResetActiveItem: function(innerIndex) {\n        if (innerIndex === 0) {\n            this.setActiveItem(1);\n        }\n        else {\n            this.setActiveItem(0);\n        }\n    },\n\n    doRemove: function(item, index, destroy) {\n        var me = this;\n\n        me.items.remove(item);\n\n        if (item.isInnerItem()) {\n            me.removeInner(item);\n        }\n\n        me.onItemRemove(item, index, destroy);\n\n        item.setParent(null);\n\n        if (destroy) {\n            item.destroy();\n        }\n    },\n\n    /**\n     * Removes all items currently in the Container, optionally destroying them all\n     * @param {Boolean} destroy If true, {@link Ext.Component#destroy destroys} each removed Component\n     * @param {Boolean} everything If true, completely remove all items including docked / centered and floating items\n     * @return {Ext.Component} this\n     */\n    removeAll: function(destroy, everything) {\n        var items = this.items,\n            ln = items.length,\n            i = 0,\n            item;\n\n        if (destroy === undefined) {\n            destroy = this.getAutoDestroy();\n        }\n\n        everything = Boolean(everything);\n\n        // removingAll flag is used so we don't unnecessarily change activeItem while removing all items.\n        this.removingAll = true;\n\n        for (; i < ln; i++) {\n            item = items.getAt(i);\n\n            if (item && (everything || item.isInnerItem())) {\n                this.doRemove(item, i, destroy);\n\n                i--;\n                ln--;\n            }\n        }\n\n        this.removingAll = false;\n\n        return this;\n    },\n\n    /**\n     * Returns the Component for a given index in the Container's {@link #property-items}\n     * @param {Number} index The index of the Component to return\n     * @return {Ext.Component} The item at the specified index, if found\n     */\n    getAt: function(index) {\n        return this.items.getAt(index);\n    },\n\n    /**\n     * Removes the Component at the specified index:\n     *\n     *     myContainer.removeAt(0); //removes the first item\n     *\n     * @param {Number} index The index of the Component to remove\n     */\n    removeAt: function(index) {\n        var item = this.getAt(index);\n\n        if (item) {\n            this.remove(item);\n        }\n\n        return this;\n    },\n\n    /**\n     * Removes an inner Component at the specified index:\n     *\n     *     myContainer.removeInnerAt(0); //removes the first item of the innerItems propety\n     *\n     * @param {Number} index The index of the Component to remove\n     */\n    removeInnerAt: function(index) {\n        var item = this.getInnerItems()[index];\n\n        if (item) {\n            this.remove(item);\n        }\n\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    has: function(item) {\n        return this.getItems().indexOf(item) != -1;\n    },\n\n    /**\n     * @private\n     */\n    hasInnerItem: function(item) {\n        return this.innerItems.indexOf(item) != -1;\n    },\n\n    /**\n     * @private\n     */\n    indexOf: function(item) {\n        return this.getItems().indexOf(item);\n    },\n\n    /**\n     * @private\n     * @param item\n     * @param index\n     */\n    insertInner: function(item, index) {\n        var items = this.getItems().items,\n            innerItems = this.innerItems,\n            currentInnerIndex = innerItems.indexOf(item),\n            newInnerIndex = -1,\n            nextSibling;\n\n        if (currentInnerIndex !== -1) {\n            innerItems.splice(currentInnerIndex, 1);\n        }\n\n        if (typeof index == 'number') {\n            do {\n                nextSibling = items[++index];\n            } while (nextSibling && !nextSibling.isInnerItem());\n\n            if (nextSibling) {\n                newInnerIndex = innerItems.indexOf(nextSibling);\n                innerItems.splice(newInnerIndex, 0, item);\n            }\n        }\n\n        if (newInnerIndex === -1) {\n            innerItems.push(item);\n            newInnerIndex = innerItems.length - 1;\n        }\n\n        if (currentInnerIndex !== -1) {\n            this.onInnerItemMove(item, newInnerIndex, currentInnerIndex);\n        }\n\n        return this;\n    },\n\n    onInnerItemMove: Ext.emptyFn,\n\n    /**\n     * @private\n     * @param item\n     */\n    removeInner: function(item) {\n        Ext.Array.remove(this.innerItems, item);\n\n        return this;\n    },\n\n    /**\n     * Adds a child Component at the given index. For example, here's how we can add a new item, making it the first\n     * child Component of this Container:\n     *\n     *     myContainer.insert(0, {xtype: 'panel', html: 'new item'});\n     *\n     * @param {Number} index The index to insert the Component at\n     * @param {Object} item The Component to insert\n     */\n    insert: function(index, item) {\n        var me = this,\n            i;\n\n        if (Ext.isArray(item)) {\n            for (i = item.length - 1; i >= 0; i--) {\n                me.insert(index, item[i]);\n            }\n\n            return me;\n        }\n\n        item = this.factoryItem(item);\n\n        this.doInsert(index, item);\n\n        return item;\n    },\n\n    /**\n     * @private\n     * @param index\n     * @param item\n     */\n    doInsert: function(index, item) {\n        var me = this,\n            items = me.items,\n            itemsLength = items.length,\n            currentIndex, isInnerItem;\n\n        isInnerItem = item.isInnerItem();\n\n        if (index > itemsLength) {\n            index = itemsLength;\n        }\n\n        if (items[index - 1] === item) {\n            return me;\n        }\n\n        currentIndex = me.indexOf(item);\n\n        if (currentIndex !== -1) {\n            if (currentIndex < index) {\n                index -= 1;\n            }\n\n            items.removeAt(currentIndex);\n        }\n        else {\n            item.setParent(me);\n        }\n\n        items.insert(index, item);\n\n        if (isInnerItem) {\n            me.insertInner(item, index);\n        }\n\n        if (currentIndex !== -1) {\n            me.onItemMove(item, index, currentIndex);\n        }\n        else {\n            me.onItemAdd(item, index);\n        }\n    },\n\n    /**\n     * @private\n     */\n    insertFirst: function(item) {\n        return this.insert(0, item);\n    },\n\n    /**\n     * @private\n     */\n    insertLast: function(item) {\n        return this.insert(this.getItems().length, item);\n    },\n\n    /**\n     * @private\n     */\n    insertBefore: function(item, relativeToItem) {\n        var index = this.indexOf(relativeToItem);\n\n        if (index !== -1) {\n            this.insert(index, item);\n        }\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    insertAfter: function(item, relativeToItem) {\n        var index = this.indexOf(relativeToItem);\n\n        if (index !== -1) {\n            this.insert(index + 1, item);\n        }\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    onItemAdd: function(item, index) {\n        this.doItemLayoutAdd(item, index);\n\n        if (this.initialized) {\n            this.fireEvent('add', this, item, index);\n        }\n    },\n\n    doItemLayoutAdd: function(item, index) {\n        var layout = this.getLayout();\n\n        if (this.isRendered() && item.setRendered(true)) {\n            item.fireAction('renderedchange', [this, item, true], 'onItemAdd', layout, { args: [item, index] });\n        }\n        else {\n            layout.onItemAdd(item, index);\n        }\n    },\n\n    /**\n     * @private\n     */\n    onItemRemove: function(item, index) {\n        this.doItemLayoutRemove(item, index);\n\n        this.fireEvent('remove', this, item, index);\n    },\n\n    doItemLayoutRemove: function(item, index) {\n        var layout = this.getLayout();\n\n        if (this.isRendered() && item.setRendered(false)) {\n            item.fireAction('renderedchange', [this, item, false], 'onItemRemove', layout, { args: [item, index, undefined] });\n        }\n        else {\n            layout.onItemRemove(item, index);\n        }\n    },\n\n    /**\n     * @private\n     */\n    onItemMove: function(item, toIndex, fromIndex) {\n        if (item.isDocked()) {\n            item.setDocked(null);\n        }\n\n        this.doItemLayoutMove(item, toIndex, fromIndex);\n\n        this.fireEvent('move', this, item, toIndex, fromIndex);\n    },\n\n    doItemLayoutMove: function(item, toIndex, fromIndex) {\n        this.getLayout().onItemMove(item, toIndex, fromIndex);\n    },\n\n    /**\n     * @private\n     */\n    onItemCenteredChange: function(item, centered) {\n        if (!item.isFloating() && !item.isDocked()) {\n            if (centered) {\n                this.removeInner(item);\n            }\n            else {\n                this.insertInner(item, this.indexOf(item));\n            }\n        }\n\n        this.getLayout().onItemCenteredChange(item, centered);\n    },\n\n    /**\n     * @private\n     */\n    onItemFloatingChange: function(item, floating) {\n        if (!item.isCentered() && !item.isDocked()) {\n            if (floating) {\n                this.removeInner(item);\n            }\n            else {\n                this.insertInner(item, this.indexOf(item));\n            }\n        }\n\n        this.getLayout().onItemFloatingChange(item, floating);\n    },\n\n    /**\n     * @private\n     */\n    onItemDockedChange: function(item, docked, oldDocked) {\n        if (!item.isCentered() && !item.isFloating()) {\n            if (docked) {\n                this.removeInner(item);\n            }\n            else {\n                this.insertInner(item, this.indexOf(item));\n            }\n        }\n\n        this.getLayout().onItemDockedChange(item, docked, oldDocked);\n    },\n\n    /**\n     * Returns all inner {@link #property-items} of this container. `inner` means that the item is not `docked` or\n     * `floating`.\n     * @return {Array} The inner items of this container.\n     */\n    getInnerItems: function() {\n        return this.innerItems;\n    },\n\n    /**\n     * Returns all the {@link Ext.Component#docked} items in this container.\n     * @return {Array} The docked items of this container\n     */\n    getDockedItems: function() {\n        var items = this.getItems().items,\n            dockedItems = [],\n            ln = items.length,\n            item, i;\n\n        for (i = 0; i < ln; i++) {\n            item = items[i];\n            if (item.isDocked()) {\n                dockedItems.push(item);\n            }\n        }\n\n        return dockedItems;\n    },\n\n    /**\n     * @private\n     */\n    applyActiveItem: function(activeItem, currentActiveItem) {\n        var innerItems = this.getInnerItems();\n\n        // Make sure the items are already initialized\n        this.getItems();\n\n        // No items left to be active, reset back to 0 on falsy changes\n        if (!activeItem && innerItems.length === 0) {\n            return 0;\n        }\n        else if (typeof activeItem == 'number') {\n            activeItem = Math.max(0, Math.min(activeItem, innerItems.length - 1));\n            activeItem = innerItems[activeItem];\n\n            if (activeItem) {\n                return activeItem;\n            }\n            else if (currentActiveItem) {\n                return null;\n            }\n        }\n        else if (activeItem) {\n            if (!activeItem.isComponent) {\n                activeItem = this.factoryItem(activeItem);\n            }\n\n            if (!activeItem.isInnerItem()) {\n                Ext.Logger.error(\"Setting activeItem to be a non-inner item\");\n            }\n\n            if (!this.has(activeItem)) {\n                this.add(activeItem);\n            }\n\n            return activeItem;\n        }\n    },\n\n    /**\n     * Animates to the supplied activeItem with a specified animation. Currently this only works\n     * with a Card layout.  This passed animation will override any default animations on the\n     * container, for a single card switch. The animation will be destroyed when complete.\n     * @param {Object/Number} activeItem The item or item index to make active\n     * @param {Object/Ext.fx.layout.Card} animation Card animation configuration or instance\n     */\n    animateActiveItem: function(activeItem, animation) {\n        var layout = this.getLayout(),\n            defaultAnimation;\n\n        if (this.activeItemAnimation) {\n            this.activeItemAnimation.destroy();\n        }\n        this.activeItemAnimation = animation = new Ext.fx.layout.Card(animation);\n        if (animation && layout.isCard) {\n            animation.setLayout(layout);\n            defaultAnimation = layout.getAnimation();\n            if (defaultAnimation) {\n                defaultAnimation.disable();\n                animation.on('animationend', function() {\n                    defaultAnimation.enable();\n                    animation.destroy();\n                }, this);\n            }\n        }\n        return this.setActiveItem(activeItem);\n    },\n\n    /**\n     * @private\n     */\n    doSetActiveItem: function(newActiveItem, oldActiveItem) {\n        if (oldActiveItem) {\n            oldActiveItem.fireEvent('deactivate', oldActiveItem, this, newActiveItem);\n        }\n\n        if (newActiveItem) {\n            newActiveItem.fireEvent('activate', newActiveItem, this, oldActiveItem);\n        }\n    },\n\n    /**\n     * @private\n     */\n    setRendered: function(rendered) {\n        if (this.callParent(arguments)) {\n            var items = this.items.items,\n                i, ln;\n\n            for (i = 0,ln = items.length; i < ln; i++) {\n                items[i].setRendered(rendered);\n            }\n\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @private\n     */\n    getScrollableBehavior: function() {\n        var behavior = this.scrollableBehavior;\n\n        if (!behavior) {\n            behavior = this.scrollableBehavior = new Ext.behavior.Scrollable(this);\n        }\n\n        return behavior;\n    },\n\n    /**\n     * @private\n     */\n    applyScrollable: function(config) {\n        this.getScrollableBehavior().setConfig(config);\n    },\n\n    /**\n     * Returns an the scrollable instance for this container, which is a {@link Ext.scroll.View} class.\n     *\n     * Please checkout the documentation for {@link Ext.scroll.View}, {@link Ext.scroll.View#getScroller}\n     * and {@link Ext.scroll.Scroller} for more information.\n     * @return {Ext.scroll.View} The scroll view\n     */\n    getScrollable: function() {\n        return this.getScrollableBehavior().getScrollView();\n    },\n\n    // Used by ComponentQuery to retrieve all of the items\n    // which can potentially be considered a child of this Container.\n    // This should be overriden by components which have child items\n    // that are not contained in items. For example dockedItems, menu, etc\n    // @private\n    getRefItems: function(deep) {\n        var items = this.getItems().items.slice(),\n            ln = items.length,\n            i, item;\n\n        if (deep) {\n            for (i = 0; i < ln; i++) {\n                item = items[i];\n\n                if (item.getRefItems) {\n                    items = items.concat(item.getRefItems(true));\n                }\n            }\n        }\n\n        return items;\n    },\n\n    /**\n     * Examines this container's <code>{@link #property-items}</code> <b>property</b>\n     * and gets a direct child component of this container.\n     * @param {String/Number} component This parameter may be any of the following:\n     * <div><ul class=\"mdetail-params\">\n     * <li>a <b><code>String</code></b> : representing the <code>itemId</code>\n     * or <code>{@link Ext.Component#getId id}</code> of the child component </li>\n     * <li>a <b><code>Number</code></b> : representing the position of the child component\n     * within the <code>{@link #property-items}</code> <b>property</b></li>\n     * </ul></div>\n     * <p>For additional information see {@link Ext.util.MixedCollection#get}.\n     * @return Ext.Component The component (if found).\n     */\n    getComponent: function(component) {\n        if (Ext.isObject(component)) {\n            component = component.getItemId();\n        }\n\n        return this.getItems().get(component);\n    },\n\n    /**\n     * Finds a docked item of this container using a reference, id or an index of its location\n     * in {@link #getDockedItems}.\n     * @param {String/Number} component The id or index of the component to find\n     * @return {Ext.Component/Boolean} The docked component, if found\n     */\n    getDockedComponent: function(component) {\n        if (Ext.isObject(component)) {\n            component = component.getItemId();\n        }\n\n        var dockedItems = this.getDockedItems(),\n            ln = dockedItems.length,\n            item, i;\n\n        if (Ext.isNumber(component)) {\n            return dockedItems[component];\n        }\n\n        for (i = 0; i < ln; i++) {\n            item = dockedItems[i];\n            if (item.id == component) {\n                return item;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Retrieves all descendant components which match the passed selector.\n     * Executes an Ext.ComponentQuery.query using this container as its root.\n     * @param {String} selector Selector complying to an Ext.ComponentQuery selector\n     * @return {Array} Ext.Component's which matched the selector\n     */\n    query: function(selector) {\n        return Ext.ComponentQuery.query(selector, this);\n    },\n\n    /**\n     * Retrieves the first direct child of this container which matches the passed selector.\n     * The passed in selector must comply with an Ext.ComponentQuery selector.\n     * @param {String} selector An Ext.ComponentQuery selector\n     * @return Ext.Component\n     */\n    child: function(selector) {\n        return this.query('> ' + selector)[0] || null;\n    },\n\n    /**\n     * Retrieves the first descendant of this container which matches the passed selector.\n     * The passed in selector must comply with an Ext.ComponentQuery selector.\n     * @param {String} selector An Ext.ComponentQuery selector\n     * @return Ext.Component\n     */\n    down: function(selector) {\n        return this.query(selector)[0] || null;\n    },\n\n\n    onClassExtended: function(Class, members) {\n        if ('onAdd' in members || 'onRemove' in members) {\n            throw new Error(\"[\"+Class.$className+\"] 'onAdd()' and 'onRemove()' methods \" +\n                            \"no longer exist in Ext.Container, please use 'onItemAdd()' \" +\n                            \"and 'onItemRemove()' instead }\");\n        }\n    },\n\n    destroy: function() {\n        var modal = this.getModal();\n\n        if (modal) {\n            modal.destroy();\n        }\n\n        this.removeAll(true, true);\n        Ext.destroy(this.getScrollable(), this.bodyElement);\n        this.callParent();\n    }\n\n}, function() {\n    this.addMember('defaultItemClass', this);\n\n    /**\n     * @method addAll\n     * Adds an array of Components to this Container.\n     * @deprecated 2.0.0 Please use {@link #method-add} instead.\n     * @param {Array} items The array of items to add to this container\n     * @return {Array} The array of items after they have been added\n     */\n    Ext.deprecateClassMethod(this, 'addAll', 'add');\n\n    /**\n     * @method removeDocked\n     * Removes a docked item from this Container.\n     * @deprecated 2.0.0 Please use {@link #method-remove} instead.\n     * @param {Object} item The item to remove\n     * @param {Boolean} destroy Calls the Component's {@link Ext.Component#destroy destroy} method if true\n     * @return {Ext.Component} this\n     */\n    Ext.deprecateClassMethod(this, 'removeDocked', 'remove');\n\n    /**\n     * @member Ext.Container\n     * @property items\n     * @type Ext.util.MixedCollection\n     * The set of all items in this Container.\n     * @deprecated 2.0.0 Please use {@link #getItems} method instead.\n     */\n    this.override({\n        constructor: function(config) {\n            config = config || {};\n\n            var dockedItems = config.dockedItems,\n                i, ln, item;\n\n            /**\n             * @cfg {Boolean/String/Object} scroll\n             * @inheritdoc Ext.Container#scrollable\n             * @deprecated 2.0.0 Please use the {@link #scrollable} configuration.\n             */\n            if (config.scroll) {\n                Ext.Logger.deprecate(\"'scroll' config is deprecated, please use 'scrollable' instead.\", this);\n\n                config.scrollable = config.scroll;\n                delete config.scroll;\n            }\n\n            this.callParent(arguments);\n\n            if (dockedItems) {\n                Ext.Logger.deprecate(\"'dockedItems' config is deprecated, please add all docked items inside the 'items' config with a 'docked' property indicating the docking position instead, i.e { /*...*/ docked: 'top' /*...*/ }\");\n\n                dockedItems = Ext.Array.from(dockedItems);\n\n                for (i = 0,ln = dockedItems.length; i < ln; i++) {\n                    item = dockedItems[i];\n                    if ('dock' in item) {\n                        Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");\n                        item.docked = item.dock;\n                    }\n                }\n\n                this.add(dockedItems);\n            }\n        },\n\n        add: function() {\n            var args = arguments;\n\n            if (args.length > 1) {\n                if (typeof args[0] == 'number') {\n                    Ext.Logger.deprecate(\"add(index, item) method signature is deprecated, please use insert(index, item) instead\");\n                    return this.insert(args[0], args[1]);\n                }\n                Ext.Logger.deprecate(\"Passing items as multiple arguments is deprecated, please use one single array of items instead\");\n                args = [Array.prototype.slice.call(args)];\n            }\n\n            return this.callParent(args);\n        },\n\n        doAdd: function(item) {\n            var docked = item.getDocked(),\n                overlay = item.overlay,\n                position;\n\n            if (overlay && docked) {\n                Ext.Logger.deprecate(\"'overlay' config is deprecated on docked items, please set the top/left/right/bottom configurations instead.\", this);\n\n                if (docked == \"top\") {\n                    position = {\n                        top: 0,\n                        bottom: 'auto',\n                        left: 0,\n                        right: 0\n                    };\n                } else if (docked == \"bottom\") {\n                    position = {\n                        top: null,\n                        bottom: 0,\n                        left: 0,\n                        right: 0\n                    };\n                }\n\n                if (position) {\n                    item.setDocked(false);\n\n                    item.setTop(position.top);\n                    item.setBottom(position.bottom);\n                    item.setLeft(position.left);\n                    item.setRight(position.right);\n                }\n            }\n\n            return this.callOverridden(arguments);\n        },\n\n        applyDefaults: function(defaults) {\n            if (typeof defaults == 'function') {\n                Ext.Logger.deprecate(\"Passing a function as 'defaults' is deprecated. To add custom logics when \" +\n                    \"'defaults' is applied to each item, have your own factoryItem() method in your sub-class instead\");\n            }\n\n            return this.callParent(arguments);\n        },\n\n        factoryItemWithDefaults: function(item) {\n            var defaults = this.getDefaults(),\n            customDefaults, ret;\n\n            // Defaults is a function (must return a string, object, or class instance)\n            if (typeof defaults == 'function') {\n                customDefaults = defaults.call(this, item);\n            }\n\n            // String (must be the id of an existent component)\n            if (typeof item == 'string') {\n                Ext.Logger.deprecate(\"Passing a string id of item ('\"+item+\"') is deprecated, please pass a reference to that item instead\");\n\n                item = Ext.getCmp(item);\n            }\n\n            if (customDefaults) {\n                this._defaults = customDefaults;\n            }\n\n            ret = this.callParent([item]);\n\n            if (customDefaults) {\n                this._defaults = defaults;\n            }\n\n            return ret;\n        },\n\n        applyMasked: function(masked) {\n            if (Ext.isObject(masked) && !masked.isInstance && 'message' in masked && !('xtype' in masked) && !('xclass' in masked)) {\n                masked.xtype = 'loadmask';\n\n                Ext.Logger.deprecate(\"Using a 'message' config without specify an 'xtype' or 'xclass' will no longer implicitly set 'xtype' to 'loadmask'. Please set that explicitly.\");\n            }\n\n            return this.callOverridden(arguments);\n        }\n    });\n\n    Ext.deprecateClassMethod(this, 'setMask', 'setMasked');\n});\n\n\n\n/**\n * @private\n * Base class for iOS and Andorid viewports.\n */\nExt.define('Ext.viewport.Default', {\n    extend: 'Ext.Container',\n\n    xtype: 'viewport',\n\n    PORTRAIT: 'portrait',\n\n    LANDSCAPE: 'landscape',\n\n    requires: [\n        'Ext.LoadMask'\n    ],\n\n    /**\n     * @event ready\n     * Fires when the Viewport is in the DOM and ready\n     * @param {Ext.Viewport} this\n     */\n\n    /**\n     * @event maximize\n     * Fires when the Viewport is maximized\n     * @param {Ext.Viewport} this\n     */\n\n    /**\n     * @event orientationchange\n     * Fires when the Viewport orientation has changed\n     * @param {Ext.Viewport} this\n     * @param {String} newOrientation The new orientation\n     * @param {Number} width The width of the Viewport\n     * @param {Number} height The height of the Viewport\n     */\n\n    config: {\n        /**\n         * @cfg {Boolean} autoMaximize\n         * Whether or not to always automatically maximize the viewport on first load and all subsequent orientation changes.\n         *\n         * This is set to `false` by default for a number of reasons:\n         *\n         * - Orientation change performance is drastically reduced when this is enabled, on all devices.\n         * - On some devices (mostly Android) this can sometimes cause issues when the default browser zoom setting is changed.\n         * - When wrapping your phone in a native shell, you may get a blank screen.\n         *\n         * @accessor\n         */\n        autoMaximize: false,\n\n        /**\n         * @private\n         */\n        autoBlurInput: true,\n\n        /**\n         * @cfg {Boolean} preventPanning\n         * Whether or not to always prevent default panning behavior of the\n         * browser's viewport\n         * @accessor\n         */\n        preventPanning: true,\n\n        /**\n         * @cfg {Boolean} preventZooming\n         * True to attempt to stop zooming when you double tap on the screen on mobile devices,\n         * typically HTC devices with HTC Sense UI\n         * @accessor\n         */\n        preventZooming: false,\n\n        /**\n         * @cfg\n         * @private\n         */\n        autoRender: true,\n\n        /**\n         * @cfg {Object/String} layout Configuration for this Container's layout. Example:\n         *\n         *    Ext.create('Ext.Container', {\n         *        layout: {\n         *            type: 'hbox',\n         *            align: 'middle'\n         *        },\n         *        items: [\n         *            {\n         *                xtype: 'panel',\n         *                flex: 1,\n         *                style: 'background-color: red;'\n         *            },\n         *            {\n         *                xtype: 'panel',\n         *                flex: 2,\n         *                style: 'background-color: green'\n         *            }\n         *        ]\n         *    });\n         *\n         * See the layouts guide for more information\n         *\n         * Defaults to {@link Ext.layout.Card card}\n         * @accessor\n         */\n        layout: 'card',\n\n        /**\n         * @cfg\n         * @private\n         */\n        width: '100%',\n\n        /**\n         * @cfg\n         * @private\n         */\n        height: '100%'\n    },\n\n    /**\n     * @property {Boolean} isReady\n     * True if the DOM is ready\n     */\n    isReady: false,\n\n    isViewport: true,\n\n    isMaximizing: false,\n\n    id: 'ext-viewport',\n\n    isInputRegex: /^(input|textarea|select|a)$/i,\n\n    focusedElement: null,\n\n    /**\n     * @private\n     */\n    fullscreenItemCls: Ext.baseCSSPrefix + 'fullscreen',\n\n    constructor: function(config) {\n        var bind = Ext.Function.bind;\n\n        this.doPreventPanning = bind(this.doPreventPanning, this);\n        this.doPreventZooming = bind(this.doPreventZooming, this);\n        this.doBlurInput = bind(this.doBlurInput, this);\n\n        this.maximizeOnEvents = ['ready', 'orientationchange'];\n\n        this.orientation = this.determineOrientation();\n        this.windowWidth = this.getWindowWidth();\n        this.windowHeight = this.getWindowHeight();\n        this.windowOuterHeight = this.getWindowOuterHeight();\n\n        if (!this.stretchHeights) {\n            this.stretchHeights = {};\n        }\n\n        this.callParent([config]);\n\n        if (this.supportsOrientation()) {\n            this.addWindowListener('orientationchange', bind(this.onOrientationChange, this));\n        }\n        else {\n            this.addWindowListener('resize', bind(this.onResize, this));\n        }\n\n        document.addEventListener('focus', bind(this.onElementFocus, this), true);\n        document.addEventListener('blur', bind(this.onElementBlur, this), true);\n\n        Ext.onDocumentReady(this.onDomReady, this);\n\n        this.on('ready', this.onReady, this, {single: true});\n\n        this.getEventDispatcher().addListener('component', '*', 'fullscreen', 'onItemFullscreenChange', this);\n\n        return this;\n    },\n\n    onDomReady: function() {\n        this.isReady = true;\n        this.updateSize();\n        this.fireEvent('ready', this);\n    },\n\n    onReady: function() {\n        if (this.getAutoRender()) {\n            this.render();\n        }\n    },\n\n    onElementFocus: function(e) {\n        this.focusedElement = e.target;\n    },\n\n    onElementBlur: function() {\n        this.focusedElement = null;\n    },\n\n    render: function() {\n        if (!this.rendered) {\n            var body = Ext.getBody(),\n                clsPrefix = Ext.baseCSSPrefix,\n                classList = [],\n                osEnv = Ext.os,\n                osName = osEnv.name.toLowerCase(),\n                browserName = Ext.browser.name.toLowerCase(),\n                osMajorVersion = osEnv.version.getMajor(),\n                orientation = this.getOrientation();\n\n            this.renderTo(body);\n\n            classList.push(clsPrefix + osEnv.deviceType.toLowerCase());\n\n            if (osEnv.is.iPad) {\n                classList.push(clsPrefix + 'ipad');\n            }\n\n            classList.push(clsPrefix + osName);\n            classList.push(clsPrefix + browserName);\n\n            if (osMajorVersion) {\n                classList.push(clsPrefix + osName + '-' + osMajorVersion);\n            }\n\n            if (osEnv.is.BlackBerry) {\n                classList.push(clsPrefix + 'bb');\n            }\n\n            if (Ext.browser.is.Standalone) {\n                classList.push(clsPrefix + 'standalone');\n            }\n\n            classList.push(clsPrefix + orientation);\n\n            body.addCls(classList);\n        }\n    },\n\n    applyAutoBlurInput: function(autoBlurInput) {\n        var touchstart = (Ext.feature.has.Touch) ? 'touchstart' : 'mousedown';\n\n        if (autoBlurInput) {\n            this.addWindowListener(touchstart, this.doBlurInput, false);\n        }\n        else {\n            this.removeWindowListener(touchstart, this.doBlurInput, false);\n        }\n\n        return autoBlurInput;\n    },\n\n    applyAutoMaximize: function(autoMaximize) {\n        if (Ext.browser.is.WebView) {\n            autoMaximize = false;\n        }\n        if (autoMaximize) {\n            this.on('ready', 'doAutoMaximizeOnReady', this, { single: true });\n            this.on('orientationchange', 'doAutoMaximizeOnOrientationChange', this);\n        }\n        else {\n            this.un('ready', 'doAutoMaximizeOnReady', this);\n            this.un('orientationchange', 'doAutoMaximizeOnOrientationChange', this);\n        }\n\n        return autoMaximize;\n    },\n\n    applyPreventPanning: function(preventPanning) {\n        if (preventPanning) {\n            this.addWindowListener('touchmove', this.doPreventPanning, false);\n        }\n        else {\n            this.removeWindowListener('touchmove', this.doPreventPanning, false);\n        }\n\n        return preventPanning;\n    },\n\n    applyPreventZooming: function(preventZooming) {\n        var touchstart = (Ext.feature.has.Touch) ? 'touchstart' : 'mousedown';\n\n        if (preventZooming) {\n            this.addWindowListener(touchstart, this.doPreventZooming, false);\n        }\n        else {\n            this.removeWindowListener(touchstart, this.doPreventZooming, false);\n        }\n\n        return preventZooming;\n    },\n\n    doAutoMaximizeOnReady: function() {\n        var controller = arguments[arguments.length - 1];\n\n        controller.pause();\n\n        this.isMaximizing = true;\n\n        this.on('maximize', function() {\n            this.isMaximizing = false;\n\n            this.updateSize();\n\n            controller.resume();\n\n            this.fireEvent('ready', this);\n        }, this, { single: true });\n\n        this.maximize();\n    },\n\n    doAutoMaximizeOnOrientationChange: function() {\n        var controller = arguments[arguments.length - 1],\n            firingArguments = controller.firingArguments;\n\n        controller.pause();\n\n        this.isMaximizing = true;\n\n        this.on('maximize', function() {\n            this.isMaximizing = false;\n\n            this.updateSize();\n\n            firingArguments[1] = this.windowWidth;\n            firingArguments[2] = this.windowHeight;\n\n            controller.resume();\n        }, this, { single: true });\n\n        this.maximize();\n    },\n\n    doBlurInput: function(e) {\n        var target = e.target,\n            focusedElement = this.focusedElement;\n\n        if (focusedElement && !this.isInputRegex.test(target.tagName)) {\n            delete this.focusedElement;\n            focusedElement.blur();\n        }\n    },\n\n    doPreventPanning: function(e) {\n        e.preventDefault();\n    },\n\n    doPreventZooming: function(e) {\n        // Don't prevent right mouse event\n        if ('button' in e && e.button !== 0) {\n            return;\n        }\n\n        var target = e.target;\n\n        if (target && target.nodeType === 1 && !this.isInputRegex.test(target.tagName)) {\n            e.preventDefault();\n        }\n    },\n\n    addWindowListener: function(eventName, fn, capturing) {\n        window.addEventListener(eventName, fn, Boolean(capturing));\n    },\n\n    removeWindowListener: function(eventName, fn, capturing) {\n        window.removeEventListener(eventName, fn, Boolean(capturing));\n    },\n\n    doAddListener: function(eventName, fn, scope, options) {\n        if (eventName === 'ready' && this.isReady && !this.isMaximizing) {\n            fn.call(scope);\n            return this;\n        }\n\n        this.mixins.observable.doAddListener.apply(this, arguments);\n    },\n\n    supportsOrientation: function() {\n        return Ext.feature.has.Orientation;\n    },\n\n    onResize: function() {\n        var oldWidth = this.windowWidth,\n            oldHeight = this.windowHeight,\n            width = this.getWindowWidth(),\n            height = this.getWindowHeight(),\n            currentOrientation = this.getOrientation(),\n            newOrientation = this.determineOrientation();\n\n        if ((oldWidth !== width || oldHeight !== height) && currentOrientation !== newOrientation) {\n            this.fireOrientationChangeEvent(newOrientation, currentOrientation);\n        }\n    },\n\n    onOrientationChange: function() {\n        var currentOrientation = this.getOrientation(),\n            newOrientation = this.determineOrientation();\n\n        if (newOrientation !== currentOrientation) {\n            this.fireOrientationChangeEvent(newOrientation, currentOrientation);\n        }\n    },\n\n    fireOrientationChangeEvent: function(newOrientation, oldOrientation) {\n        var clsPrefix = Ext.baseCSSPrefix;\n        Ext.getBody().replaceCls(clsPrefix + oldOrientation, clsPrefix + newOrientation);\n\n        this.orientation = newOrientation;\n\n        this.updateSize();\n        this.fireEvent('orientationchange', this, newOrientation, this.windowWidth, this.windowHeight);\n    },\n\n    updateSize: function(width, height) {\n        this.windowWidth = width !== undefined ? width : this.getWindowWidth();\n        this.windowHeight = height !== undefined ? height : this.getWindowHeight();\n\n        return this;\n    },\n\n    waitUntil: function(condition, onSatisfied, onTimeout, delay, timeoutDuration) {\n        if (!delay) {\n            delay = 50;\n        }\n\n        if (!timeoutDuration) {\n            timeoutDuration = 2000;\n        }\n\n        var scope = this,\n            elapse = 0;\n\n        setTimeout(function repeat() {\n            elapse += delay;\n\n            if (condition.call(scope) === true) {\n                if (onSatisfied) {\n                    onSatisfied.call(scope);\n                }\n            }\n            else {\n                if (elapse >= timeoutDuration) {\n                    if (onTimeout) {\n                        onTimeout.call(scope);\n                    }\n                }\n                else {\n                    setTimeout(repeat, delay);\n                }\n            }\n        }, delay);\n    },\n\n    maximize: function() {\n        this.fireMaximizeEvent();\n    },\n\n    fireMaximizeEvent: function() {\n        this.updateSize();\n        this.fireEvent('maximize', this);\n    },\n\n    doSetHeight: function(height) {\n        Ext.getBody().setHeight(height);\n\n        this.callParent(arguments);\n    },\n\n    doSetWidth: function(width) {\n        Ext.getBody().setWidth(width);\n\n        this.callParent(arguments);\n    },\n\n    scrollToTop: function() {\n        window.scrollTo(0, -1);\n    },\n\n    /**\n     * Retrieves the document width.\n     * @return {Number} width in pixels.\n     */\n    getWindowWidth: function() {\n        return window.innerWidth;\n    },\n\n    /**\n     * Retrieves the document height.\n     * @return {Number} height in pixels.\n     */\n    getWindowHeight: function() {\n        return window.innerHeight;\n    },\n\n    getWindowOuterHeight: function() {\n        return window.outerHeight;\n    },\n\n    getWindowOrientation: function() {\n        return window.orientation;\n    },\n\n    /**\n     * Returns the current orientation.\n     * @return {String} `portrait` or `landscape`\n     */\n    getOrientation: function() {\n        return this.orientation;\n    },\n\n    getSize: function() {\n        return {\n            width: this.windowWidth,\n            height: this.windowHeight\n        };\n    },\n\n    determineOrientation: function() {\n        var portrait = this.PORTRAIT,\n            landscape = this.LANDSCAPE;\n\n        if (this.supportsOrientation()) {\n            if (this.getWindowOrientation() % 180 === 0) {\n                return portrait;\n            }\n\n            return landscape;\n        }\n        else {\n            if (this.getWindowHeight() >= this.getWindowWidth()) {\n                return portrait;\n            }\n\n            return landscape;\n        }\n    },\n\n    onItemFullscreenChange: function(item) {\n        item.addCls(this.fullscreenItemCls);\n        this.add(item);\n    }\n});\n\n/**\n * @private\n * iOS version of viewport.\n */\nExt.define('Ext.viewport.Ios', {\n    extend: 'Ext.viewport.Default',\n\n    isFullscreen: function() {\n        return this.isHomeScreen();\n    },\n\n    isHomeScreen: function() {\n        return window.navigator.standalone === true;\n    },\n\n    constructor: function() {\n        this.callParent(arguments);\n\n        if (this.getAutoMaximize() && !this.isFullscreen()) {\n            this.addWindowListener('touchstart', Ext.Function.bind(this.onTouchStart, this));\n        }\n    },\n\n    maximize: function() {\n        if (this.isFullscreen()) {\n            return this.callParent();\n        }\n\n        var stretchHeights = this.stretchHeights,\n            orientation = this.orientation,\n            currentHeight = this.getWindowHeight(),\n            height = stretchHeights[orientation];\n\n        if (window.scrollY > 0) {\n            this.scrollToTop();\n\n            if (!height) {\n                stretchHeights[orientation] = height = this.getWindowHeight();\n            }\n\n            this.setHeight(height);\n            this.fireMaximizeEvent();\n        }\n        else {\n            if (!height) {\n                height = this.getScreenHeight();\n            }\n\n            this.setHeight(height);\n\n            this.waitUntil(function() {\n                this.scrollToTop();\n                return currentHeight !== this.getWindowHeight();\n            }, function() {\n                if (!stretchHeights[orientation]) {\n                    height = stretchHeights[orientation] = this.getWindowHeight();\n                    this.setHeight(height);\n                }\n\n                this.fireMaximizeEvent();\n            }, function() {\n                Ext.Logger.error(\"Timeout waiting for window.innerHeight to change\", this);\n                height = stretchHeights[orientation] = this.getWindowHeight();\n                this.setHeight(height);\n                this.fireMaximizeEvent();\n            }, 50, 1000);\n        }\n    },\n\n    getScreenHeight: function() {\n        return window.screen[this.orientation === this.PORTRAIT ? 'height' : 'width'];\n    },\n\n    onElementFocus: function() {\n        if (this.getAutoMaximize() && !this.isFullscreen()) {\n            clearTimeout(this.scrollToTopTimer);\n        }\n\n        this.callParent(arguments);\n    },\n\n    onElementBlur: function() {\n        if (this.getAutoMaximize() && !this.isFullscreen()) {\n            this.scrollToTopTimer = setTimeout(this.scrollToTop, 500);\n        }\n\n        this.callParent(arguments);\n    },\n\n    onTouchStart: function() {\n        if (this.focusedElement === null) {\n            this.scrollToTop();\n        }\n    },\n\n    scrollToTop: function() {\n        window.scrollTo(0, 0);\n    }\n\n}, function() {\n    if (!Ext.os.is.iOS) {\n        return;\n    }\n\n    if (Ext.os.version.lt('3.2')) {\n        this.override({\n            constructor: function() {\n                var stretchHeights = this.stretchHeights = {};\n\n                stretchHeights[this.PORTRAIT] = 416;\n                stretchHeights[this.LANDSCAPE] = 268;\n\n                return this.callOverridden(arguments);\n            }\n        });\n    }\n\n    if (Ext.os.version.lt('5')) {\n        this.override({\n            fieldMaskClsTest: '-field-mask',\n\n            doPreventZooming: function(e) {\n                var target = e.target;\n\n                if (target && target.nodeType === 1 &&\n                    !this.isInputRegex.test(target.tagName) &&\n                    target.className.indexOf(this.fieldMaskClsTest) == -1) {\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n\n    if (Ext.os.is.iPad) {\n        this.override({\n            isFullscreen: function() {\n                return true;\n            }\n        });\n    }\n});\n\n/**\n * @private\n * Android version of viewport.\n */\nExt.define('Ext.viewport.Android', {\n    extend: 'Ext.viewport.Default',\n\n    constructor: function() {\n        this.on('orientationchange', 'doFireOrientationChangeEvent', this, { prepend: true });\n        this.on('orientationchange', 'hideKeyboardIfNeeded', this, { prepend: true });\n\n        return this.callParent(arguments);\n    },\n\n    getDummyInput: function() {\n        var input = this.dummyInput,\n            focusedElement = this.focusedElement,\n            box = Ext.fly(focusedElement).getPageBox();\n\n        if (!input) {\n            this.dummyInput = input = document.createElement('input');\n            input.style.position = 'absolute';\n            input.style.opacity = '0';\n            document.body.appendChild(input);\n        }\n\n        input.style.left = box.left + 'px';\n        input.style.top = box.top + 'px';\n        input.style.display = '';\n\n        return input;\n    },\n\n    doBlurInput: function(e) {\n        var target = e.target,\n            focusedElement = this.focusedElement,\n            dummy;\n\n        if (focusedElement && !this.isInputRegex.test(target.tagName)) {\n            dummy = this.getDummyInput();\n            delete this.focusedElement;\n            dummy.focus();\n\n            setTimeout(function() {\n                dummy.style.display = 'none';\n            }, 100);\n        }\n    },\n\n    hideKeyboardIfNeeded: function() {\n        var eventController = arguments[arguments.length - 1],\n            focusedElement = this.focusedElement;\n\n        if (focusedElement) {\n            delete this.focusedElement;\n            eventController.pause();\n\n            if (Ext.os.version.lt('4')) {\n                focusedElement.style.display = 'none';\n            }\n            else {\n                focusedElement.blur();\n            }\n\n            setTimeout(function() {\n                focusedElement.style.display = '';\n                eventController.resume();\n            }, 1000);\n        }\n    },\n\n    doFireOrientationChangeEvent: function() {\n        var eventController = arguments[arguments.length - 1];\n\n        this.orientationChanging = true;\n\n        eventController.pause();\n\n        this.waitUntil(function() {\n            return this.getWindowOuterHeight() !== this.windowOuterHeight;\n        }, function() {\n            this.windowOuterHeight = this.getWindowOuterHeight();\n            this.updateSize();\n\n            eventController.firingArguments[1] = this.windowWidth;\n            eventController.firingArguments[2] = this.windowHeight;\n            eventController.resume();\n            this.orientationChanging = false;\n\n        }, function() {\n            Ext.Logger.error(\"Timeout waiting for viewport's outerHeight to change before firing orientationchange\", this);\n        });\n\n        return this;\n    },\n\n    applyAutoMaximize: function(autoMaximize) {\n        autoMaximize = this.callParent(arguments);\n\n        this.on('add', 'fixSize', this, { single: true });\n        if (!autoMaximize) {\n            this.on('ready', 'fixSize', this, { single: true });\n            this.onAfter('orientationchange', 'doFixSize', this);\n        }\n        else {\n            this.un('ready', 'fixSize', this);\n            this.unAfter('orientationchange', 'doFixSize', this);\n        }\n    },\n\n    fixSize: function() {\n        this.doFixSize();\n    },\n\n    doFixSize: function() {\n        this.setHeight(this.getWindowHeight());\n    },\n\n    getActualWindowOuterHeight: function() {\n        return Math.round(this.getWindowOuterHeight() / window.devicePixelRatio);\n    },\n\n    maximize: function() {\n        var stretchHeights = this.stretchHeights,\n            orientation = this.orientation,\n            height;\n\n        height = stretchHeights[orientation];\n\n        if (!height) {\n            stretchHeights[orientation] = height = this.getActualWindowOuterHeight();\n        }\n\n        if (!this.addressBarHeight) {\n            this.addressBarHeight = height - this.getWindowHeight();\n        }\n\n        this.setHeight(height);\n\n        var isHeightMaximized = Ext.Function.bind(this.isHeightMaximized, this, [height]);\n\n        this.scrollToTop();\n        this.waitUntil(isHeightMaximized, this.fireMaximizeEvent, this.fireMaximizeEvent);\n    },\n\n    isHeightMaximized: function(height) {\n        this.scrollToTop();\n        return this.getWindowHeight() === height;\n    }\n\n}, function() {\n    if (!Ext.os.is.Android) {\n        return;\n    }\n\n    var version = Ext.os.version,\n        userAgent = Ext.browser.userAgent,\n        // These Android devices have a nasty bug which causes JavaScript timers to be completely frozen\n        // when the browser's viewport is being panned.\n        isBuggy = /(htc|desire|incredible|ADR6300)/i.test(userAgent) && version.lt('2.3');\n\n    if (isBuggy) {\n        this.override({\n            constructor: function(config) {\n                if (!config) {\n                    config = {};\n                }\n\n                config.autoMaximize = false;\n\n                this.watchDogTick = Ext.Function.bind(this.watchDogTick, this);\n\n                setInterval(this.watchDogTick, 1000);\n\n                return this.callParent([config]);\n            },\n\n            watchDogTick: function() {\n                this.watchDogLastTick = Ext.Date.now();\n            },\n\n            doPreventPanning: function() {\n                var now = Ext.Date.now(),\n                    lastTick = this.watchDogLastTick,\n                    deltaTime = now - lastTick;\n\n                // Timers are frozen\n                if (deltaTime >= 2000) {\n                    return;\n                }\n\n                return this.callParent(arguments);\n            },\n\n            doPreventZooming: function() {\n                var now = Ext.Date.now(),\n                    lastTick = this.watchDogLastTick,\n                    deltaTime = now - lastTick;\n\n                // Timers are frozen\n                if (deltaTime >= 2000) {\n                    return;\n                }\n\n                return this.callParent(arguments);\n            }\n        });\n    }\n\n    if (version.match('2')) {\n        this.override({\n            onReady: function() {\n                this.addWindowListener('resize', Ext.Function.bind(this.onWindowResize, this));\n\n                this.callParent(arguments);\n            },\n\n            scrollToTop: function() {\n                document.body.scrollTop = 100;\n            },\n\n            onWindowResize: function() {\n                var oldWidth = this.windowWidth,\n                    oldHeight = this.windowHeight,\n                    width = this.getWindowWidth(),\n                    height = this.getWindowHeight();\n\n                if (this.getAutoMaximize() && !this.isMaximizing && !this.orientationChanging\n                    && window.scrollY === 0\n                    && oldWidth === width\n                    && height < oldHeight\n                    && ((height >= oldHeight - this.addressBarHeight) || !this.focusedElement)) {\n                        this.scrollToTop();\n                }\n            },\n\n            fixSize: function() {\n                var orientation = this.getOrientation(),\n                    outerHeight = window.outerHeight,\n                    outerWidth = window.outerWidth,\n                    actualOuterHeight;\n\n                // On some Android 2 devices such as the Kindle Fire, outerWidth and outerHeight are reported wrongly\n                // when navigating from another page that has larger size.\n                if (orientation === 'landscape' && (outerHeight < outerWidth)\n                    || orientation === 'portrait' && (outerHeight >= outerWidth)) {\n                    actualOuterHeight = this.getActualWindowOuterHeight();\n                }\n                else {\n                    actualOuterHeight = this.getWindowHeight();\n                }\n\n                this.waitUntil(function() {\n                    return actualOuterHeight > this.getWindowHeight();\n                }, this.doFixSize, this.doFixSize, 50, 1000);\n            }\n        });\n    }\n    else if (version.gtEq('3.1')) {\n        this.override({\n            isHeightMaximized: function(height) {\n                this.scrollToTop();\n                return this.getWindowHeight() === height - 1;\n            }\n        });\n    }\n    else if (version.match('3')) {\n        this.override({\n            isHeightMaximized: function() {\n                this.scrollToTop();\n                return true;\n            }\n        })\n    }\n\n    if (version.gtEq('4')) {\n        this.override({\n            doBlurInput: Ext.emptyFn\n        });\n    }\n});\n\n/**\n * This class acts as a factory for environment-specific viewport implementations.\n *\n * Please refer to the {@link Ext.Viewport} documentation about using the global instance.\n * @private\n */\nExt.define('Ext.viewport.Viewport', {\n    requires: [\n        'Ext.viewport.Ios',\n        'Ext.viewport.Android'\n    ],\n\n    constructor: function(config) {\n        var osName = Ext.os.name,\n            viewportName, viewport;\n\n        switch (osName) {\n            case 'Android':\n                viewportName = 'Android';\n                break;\n\n            case 'iOS':\n                viewportName = 'Ios';\n                break;\n\n            default:\n                viewportName = 'Default';\n        }\n\n        viewport = Ext.create('Ext.viewport.' + viewportName, config);\n\n        return viewport;\n    }\n});\n\n// Docs for the singleton instance created by above factory:\n\n/**\n * @class Ext.Viewport\n * @extends Ext.viewport.Default\n * @singleton\n *\n * Ext.Viewport is a instance created when you use {@link Ext#setup}. Because {@link Ext.Viewport} extends from\n * {@link Ext.Container}, it has as {@link #layout} (which defaults to {@link Ext.layout.Card}). This means you\n * can add items to it at any time, from anywhere in your code. The {@link Ext.Viewport} {@link #cfg-fullscreen}\n * configuration is `true` by default, so it will take up your whole screen.\n *\n *     @example raw\n *     Ext.setup({\n *         onReady: function() {\n *             Ext.Viewport.add({\n *                 xtype: 'container',\n *                 html: 'My new container!'\n *             });\n *         }\n *     });\n *\n * If you want to customize anything about this {@link Ext.Viewport} instance, you can do so by adding a property\n * called `viewport` into your {@link Ext#setup} object:\n *\n *     @example raw\n *     Ext.setup({\n *         viewport: {\n *             layout: 'vbox'\n *         },\n *         onReady: function() {\n *             //do something\n *         }\n *     });\n *\n * **Note** if you use {@link Ext#onReady}, this instance of {@link Ext.Viewport} will **not** be created. Though, in most cases,\n * you should **not** use {@link Ext#onReady}.\n */\n\n/**\n * @author Ed Spencer\n *\n * @aside guide controllers\n * @aside guide apps_intro\n * @aside guide history_support\n * @aside video mvc-part-1\n * @aside video mvc-part-2\n *\n * Controllers are responsible for responding to events that occur within your app. If your app contains a Logout\n * {@link Ext.Button button} that your user can tap on, a Controller would listen to the Button's tap event and take\n * the appropriate action. It allows the View classes to handle the display of data and the Model classes to handle the\n * loading and saving of data - the Controller is the glue that binds them together.\n *\n * ## Relation to Ext.app.Application\n *\n * Controllers exist within the context of an {@link Ext.app.Application Application}. An Application usually consists\n * of a number of Controllers, each of which handle a specific part of the app. For example, an Application that\n * handles the orders for an online shopping site might have controllers for Orders, Customers and Products.\n *\n * All of the Controllers that an Application uses are specified in the Application's\n * {@link Ext.app.Application#controllers} config. The Application automatically instantiates each Controller and keeps\n * references to each, so it is unusual to need to instantiate Controllers directly. By convention each Controller is\n * named after the thing (usually the Model) that it deals with primarily, usually in the plural - for example if your\n * app is called 'MyApp' and you have a Controller that manages Products, convention is to create a\n * MyApp.controller.Products class in the file app/controller/Products.js.\n *\n * ## Refs and Control\n *\n * The centerpiece of Controllers is the twin configurations {@link #refs} and {@link #cfg-control}. These are used to\n * easily gain references to Components inside your app and to take action on them based on events that they fire.\n * Let's look at {@link #refs} first:\n *\n * ### Refs\n *\n * Refs leverage the powerful {@link Ext.ComponentQuery ComponentQuery} syntax to easily locate Components on your\n * page. We can define as many refs as we like for each Controller, for example here we define a ref called 'nav' that\n * finds a Component on the page with the ID 'mainNav'. We then use that ref in the addLogoutButton beneath it:\n *\n *     Ext.define('MyApp.controller.Main', {\n *         extend: 'Ext.app.Controller',\n *\n *         config: {\n *             refs: {\n *                 nav: '#mainNav'\n *             }\n *         },\n *\n *         addLogoutButton: function() {\n *             this.getNav().add({\n *                 text: 'Logout'\n *             });\n *         }\n *     });\n *\n * Usually, a ref is just a key/value pair - the key ('nav' in this case) is the name of the reference that will be\n * generated, the value ('#mainNav' in this case) is the {@link Ext.ComponentQuery ComponentQuery} selector that will\n * be used to find the Component.\n *\n * Underneath that, we have created a simple function called addLogoutButton which uses this ref via its generated\n * 'getNav' function. These getter functions are generated based on the refs you define and always follow the same\n * format - 'get' followed by the capitalized ref name. In this case we're treating the nav reference as though it's a\n * {@link Ext.Toolbar Toolbar}, and adding a Logout button to it when our function is called. This ref would recognize\n * a Toolbar like this:\n *\n *     Ext.create('Ext.Toolbar', {\n *         id: 'mainNav',\n *\n *         items: [\n *             {\n *                 text: 'Some Button'\n *             }\n *         ]\n *     });\n *\n * Assuming this Toolbar has already been created by the time we run our 'addLogoutButton' function (we'll see how that\n * is invoked later), it will get the second button added to it.\n *\n * ### Advanced Refs\n *\n * Refs can also be passed a couple of additional options, beyond name and selector. These are autoCreate and xtype,\n * which are almost always used together:\n *\n *     Ext.define('MyApp.controller.Main', {\n *         extend: 'Ext.app.Controller',\n *\n *         config: {\n *             refs: {\n *                 nav: '#mainNav',\n *\n *                 infoPanel: {\n *                     selector: 'tabpanel panel[name=fish] infopanel',\n *                     xtype: 'infopanel',\n *                     autoCreate: true\n *                 }\n *             }\n *         }\n *     });\n *\n * We've added a second ref to our Controller. Again the name is the key, 'infoPanel' in this case, but this time we've\n * passed an object as the value instead. This time we've used a slightly more complex selector query - in this example\n * imagine that your app contains a {@link Ext.tab.Panel tab panel} and that one of the items in the tab panel has been\n * given the name 'fish'. Our selector matches any Component with the xtype 'infopanel' inside that tab panel item.\n *\n * The difference here is that if that infopanel does not exist already inside the 'fish' panel, it will be\n * automatically created when you call this.getInfoPanel inside your Controller. The Controller is able to do this\n * because we provided the xtype to instantiate with in the event that the selector did not return anything.\n *\n * ### Control\n *\n * The sister config to {@link #refs} is {@link #cfg-control}. {@link #cfg-control Control} is the means by which your listen\n * to events fired by Components and have your Controller react in some way. Control accepts both ComponentQuery\n * selectors and refs as its keys, and listener objects as values - for example:\n *\n *     Ext.define('MyApp.controller.Main', {\n *         extend: 'Ext.app.Controller',\n *\n *         config: {\n *             control: {\n *                 loginButton: {\n *                     tap: 'doLogin'\n *                 },\n *                 'button[action=logout]': {\n *                     tap: 'doLogout'\n *                 }\n *             },\n *\n *             refs: {\n *                 loginButton: 'button[action=login]'\n *             }\n *         },\n *\n *         doLogin: function() {\n *             //called whenever the Login button is tapped\n *         },\n *\n *         doLogout: function() {\n *             //called whenever any Button with action=logout is tapped\n *         }\n *     });\n *\n * Here we have set up two control declarations - one for our loginButton ref and the other for any Button on the page\n * that has been given the action 'logout'. For each declaration we passed in a single event handler - in each case\n * listening for the 'tap' event, specifying the action that should be called when that Button fires the tap event.\n * Note that we specified the 'doLogin' and 'doLogout' methods as strings inside the control block - this is important.\n *\n * You can listen to as many events as you like in each control declaration, and mix and match ComponentQuery selectors\n * and refs as the keys.\n *\n * ## Routes\n *\n * As of Sencha Touch 2, Controllers can now directly specify which routes they are interested in. This enables us to\n * provide history support within our app, as well as the ability to deeply link to any part of the application that we\n * provide a route for.\n *\n * For example, let's say we have a Controller responsible for logging in and viewing user profiles, and want to make\n * those screens accessible via urls. We could achieve that like this:\n *\n *     Ext.define('MyApp.controller.Users', {\n *         extend: 'Ext.app.Controller',\n *\n *         config: {\n *             routes: {\n *                 'login': 'showLogin',\n *                 'user/:id': 'showUserById'\n *             },\n *\n *             refs: {\n *                 main: '#mainTabPanel'\n *             }\n *         },\n *\n *         //uses our 'main' ref above to add a loginpanel to our main TabPanel (note that\n *         //'loginpanel' is a custom xtype created for this application)\n *         showLogin: function() {\n *             this.getMain().add({\n *                 xtype: 'loginpanel'\n *             });\n *         },\n *\n *         //Loads the User then adds a 'userprofile' view to the main TabPanel\n *         showUserById: function(id) {\n *             MyApp.model.User.load(id, {\n *                 scope: this,\n *                 success: function(user) {\n *                     this.getMain().add({\n *                         xtype: 'userprofile',\n *                         user: user\n *                     });\n *                 }\n *             });\n *         }\n *     });\n *\n * The routes we specified above simply map the contents of the browser address bar to a Controller function to call\n * when that route is matched. The routes can be simple text like the login route, which matches against\n * http://myapp.com/#login, or contain wildcards like the 'user/:id' route, which matches urls like\n * http://myapp.com/#user/123. Whenever the address changes the Controller automatically calls the function specified.\n *\n * Note that in the showUserById function we had to first load the User instance. Whenever you use a route, the\n * function that is called by that route is completely responsible for loading its data and restoring state. This is\n * because your user could either send that url to another person or simply refresh the page, which we wipe clear any\n * cached data you had already loaded. There is a more thorough discussion of restoring state with routes in the\n * application architecture guides.\n *\n * ## Advanced Usage\n *\n * See <a href=\"#!/guide/controllers\">the Controllers guide</a> for advanced Controller usage including before filters\n * and customizing for different devices.\n */\nExt.define('Ext.app.Controller', {\n    mixins: {\n        observable: \"Ext.mixin.Observable\"\n    },\n\n    config: {\n        /**\n         * @cfg {Object} refs A collection of named {@link Ext.ComponentQuery ComponentQuery} selectors that makes it\n         * easy to get references to key Components on your page. Example usage:\n         *\n         *     refs: {\n         *         main: '#mainTabPanel',\n         *         loginButton: '#loginWindow button[action=login]',\n         *\n         *         infoPanel: {\n         *             selector: 'infopanel',\n         *             xtype: 'infopanel',\n         *             autoCreate: true\n         *         }\n         *     }\n         *\n         * The first two are simple ComponentQuery selectors, the third (infoPanel) also passes in the autoCreate and\n         * xtype options, which will first run the ComponentQuery to see if a Component matching that selector exists\n         * on the page. If not, it will automatically create one using the xtype provided:\n         *\n         *     someControllerFunction: function() {\n         *         //if the info panel didn't exist before, calling its getter will instantiate\n         *         //it automatically and return the new instance\n         *         this.getInfoPanel().show();\n         *     }\n         *\n         * @accessor\n         */\n        refs: {},\n\n        /**\n         * @cfg {Object} routes Provides a mapping of urls to Controller actions. Whenever the specified url is matched\n         * in the address bar, the specified Controller action is called. Example usage:\n         *\n         *     routes: {\n         *         'login': 'showLogin',\n         *         'users/:id': 'showUserById'\n         *     }\n         *\n         * The first route will match against http://myapp.com/#login and call the Controller's showLogin function. The\n         * second route contains a wildcard (':id') and will match all urls like http://myapp.com/#users/123, calling\n         * the showUserById function with the matched ID as the first argument.\n         *\n         * @accessor\n         */\n        routes: {},\n\n        /**\n         * @cfg {Object} control Provides a mapping of Controller functions that should be called whenever certain\n         * Component events are fired. The Components can be specified using {@link Ext.ComponentQuery ComponentQuery}\n         * selectors or {@link #refs}. Example usage:\n         *\n         *     control: {\n         *         'button[action=logout]': {\n         *             tap: 'doLogout'\n         *         },\n         *         main: {\n         *             activeitemchange: 'doUpdate'\n         *         }\n         *     }\n         *\n         * The first item uses a ComponentQuery selector to run the Controller's doLogout function whenever any Button\n         * with action=logout is tapped on. The second calls the Controller's doUpdate function whenever the\n         * activeitemchange event is fired by the Component referenced by our 'main' ref. In this case main is a tab\n         * panel (see {@link #refs} for how to set that reference up).\n         *\n         * @accessor\n         */\n        control: {},\n\n        /**\n         * @cfg {Object} before Provides a mapping of Controller functions to filter functions that are run before them\n         * when dispatched to from a route. These are usually used to run pre-processing functions like authentication\n         * before a certain function is executed. They are only called when dispatching from a route. Example usage:\n         *\n         *     Ext.define('MyApp.controller.Products', {\n         *         config: {\n         *             before: {\n         *                 editProduct: 'authenticate'\n         *             },\n         *\n         *             routes: {\n         *                 'product/edit/:id': 'editProduct'\n         *             }\n         *         },\n         *\n         *         //this is not directly because our before filter is called first\n         *         editProduct: function() {\n         *             //... performs the product editing logic\n         *         },\n         *\n         *         //this is run before editProduct\n         *         authenticate: function(action) {\n         *             MyApp.authenticate({\n         *                 success: function() {\n         *                     action.resume();\n         *                 },\n         *                 failure: function() {\n         *                     Ext.Msg.alert('Not Logged In', \"You can't do that, you're not logged in\");\n         *                 }\n         *             });\n         *         }\n         *     });\n         *\n         * @accessor\n         */\n        before: {},\n\n        /**\n         * @cfg {Ext.app.Application} application The Application instance this Controller is attached to. This is\n         * automatically provided when using the MVC architecture so should rarely need to be set directly.\n         * @accessor\n         */\n        application: {},\n\n        /**\n         * @cfg {Array} stores The set of stores to load for this Application. Each store is expected to\n         * exist inside the *app/store* directory and define a class following the convention\n         * AppName.store.StoreName. For example, in the code below, the *AppName.store.Users* class will be loaded.\n         * Note that we are able to specify either the full class name (as with *AppName.store.Groups*) or just the\n         * final part of the class name and leave Application to automatically prepend *AppName.store.’* to each:\n         *\n         *     stores: [\n         *         'Users',\n         *         'AppName.store.Groups',\n         *         'SomeCustomNamespace.store.Orders'\n         *     ]\n         * @accessor\n         */\n        stores: [],\n\n        /**\n         * @cfg {Array} models The set of models to load for this Application. Each model is expected to exist inside the\n         * *app/model* directory and define a class following the convention AppName.model.ModelName. For example, in the\n         * code below, the classes *AppName.model.User*, *AppName.model.Group* and *AppName.model.Product* will be loaded.\n         * Note that we are able to specify either the full class name (as with *AppName.model.Product*) or just the\n         * final part of the class name and leave Application to automatically prepend *AppName.model.* to each:\n         *\n         *     models: [\n         *         'User',\n         *         'Group',\n         *         'AppName.model.Product',\n         *         'SomeCustomNamespace.model.Order'\n         *     ]\n         * @accessor\n         */\n        models: [],\n\n        /**\n         * @cfg {Array} views The set of views to load for this Application. Each view is expected to exist inside the\n         * *app/view* directory and define a class following the convention AppName.view.ViewName. For example, in the\n         * code below, the classes *AppName.view.Users*, *AppName.view.Groups* and *AppName.view.Products* will be loaded.\n         * Note that we are able to specify either the full class name (as with *AppName.view.Products*) or just the\n         * final part of the class name and leave Application to automatically prepend *AppName.view.* to each:\n         *\n         *     views: [\n         *         'Users',\n         *         'Groups',\n         *         'AppName.view.Products',\n         *         'SomeCustomNamespace.view.Orders'\n         *     ]\n         * @accessor\n         */\n        views: []\n    },\n\n    /**\n     * Constructs a new Controller instance\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n\n        this.mixins.observable.constructor.call(this, config);\n    },\n\n    /**\n     * @cfg\n     * Called by the Controller's {@link #application} to initialize the Controller. This is always called before the\n     * {@link Ext.app.Application Application} launches, giving the Controller a chance to run any pre-launch logic.\n     * See also {@link #launch}, which is called after the {@link Ext.app.Application#launch Application's launch function}\n     */\n    init: Ext.emptyFn,\n\n    /**\n     * @cfg\n     * Called by the Controller's {@link #application} immediately after the Application's own\n     * {@link Ext.app.Application#launch launch function} has been called. This is usually a good place to run any\n     * logic that has to run after the app UI is initialized. See also {@link #init}, which is called before the\n     * {@link Ext.app.Application#launch Application's launch function}.\n     */\n    launch: Ext.emptyFn,\n\n    /**\n     * Convenient way to redirect to a new url. See {@link Ext.app.Application#redirectTo} for full usage information\n     */\n    redirectTo: function(place) {\n        return this.getApplication().redirectTo(place);\n    },\n\n    /**\n     * @private\n     * Executes an Ext.app.Action by giving it the correct before filters and kicking off execution\n     */\n    execute: function(action, skipFilters) {\n        action.setBeforeFilters(this.getBefore()[action.getAction()]);\n        action.execute();\n    },\n\n    /**\n     * @private\n     * Massages the before filters into an array of function references for each controller action\n     */\n    applyBefore: function(before) {\n        var filters, name, length, i;\n\n        for (name in before) {\n            filters = Ext.Array.from(before[name]);\n            length  = filters.length;\n\n            for (i = 0; i < length; i++) {\n                filters[i] = this[filters[i]];\n            }\n\n            before[name] = filters;\n        }\n\n        return before;\n    },\n\n    /**\n     * @private\n     */\n    applyControl: function(config) {\n        this.control(config, this);\n\n        return config;\n    },\n\n    /**\n     * @private\n     */\n    applyRefs: function(refs) {\n        if (Ext.isArray(refs)) {\n            Ext.Logger.deprecate(\"In Sencha Touch 2 the refs config accepts an object but you have passed it an array.\");\n        }\n\n        this.ref(refs);\n\n        return refs;\n    },\n\n    /**\n     * @private\n     * Adds any routes specified in this Controller to the global Application router\n     */\n    applyRoutes: function(routes) {\n        var app    = this instanceof Ext.app.Application ? this : this.getApplication(),\n            router = app.getRouter(),\n            route, url, config;\n\n        for (url in routes) {\n            route = routes[url];\n\n            config = {\n                controller: this.$className\n            };\n\n            if (Ext.isString(route)) {\n                config.action = route;\n            } else {\n                Ext.apply(config, route);\n            }\n\n            router.connect(url, config);\n        }\n\n        return routes;\n    },\n\n    /**\n     * @private\n     * As a convenience developers can locally qualify store names (e.g. 'MyStore' vs\n     * 'MyApp.store.MyStore'). This just makes sure everything ends up fully qualified\n     */\n    applyStores: function(stores) {\n        return this.getFullyQualified(stores, 'store');\n    },\n\n    /**\n     * @private\n     * As a convenience developers can locally qualify model names (e.g. 'MyModel' vs\n     * 'MyApp.model.MyModel'). This just makes sure everything ends up fully qualified\n     */\n    applyModels: function(models) {\n        return this.getFullyQualified(models, 'model');\n    },\n\n    /**\n     * @private\n     * As a convenience developers can locally qualify view names (e.g. 'MyView' vs\n     * 'MyApp.view.MyView'). This just makes sure everything ends up fully qualified\n     */\n    applyViews: function(views) {\n        return this.getFullyQualified(views, 'view');\n    },\n\n    /**\n     * @private\n     * Returns the fully qualified name for any class name variant. This is used to find the FQ name for the model,\n     * view, controller, store and profiles listed in a Controller or Application.\n     * @param {String[]} items The array of strings to get the FQ name for\n     * @param {String} namespace If the name happens to be an application class, add it to this namespace\n     * @return {String} The fully-qualified name of the class\n     */\n    getFullyQualified: function(items, namespace) {\n        var length  = items.length,\n            appName = this.getApplication().getName(),\n            name, i;\n\n        for (i = 0; i < length; i++) {\n            name = items[i];\n\n            //we check name === appName to allow MyApp.profile.MyApp to exist\n            if (Ext.isString(name) && (Ext.Loader.getPrefix(name) === \"\" || name === appName)) {\n                items[i] = appName + '.' + namespace + '.' + name;\n            }\n        }\n\n        return items;\n    },\n\n    /**\n     * @private\n     */\n    control: function(selectors) {\n        this.getApplication().control(selectors, this);\n    },\n\n    /**\n     * @private\n     * 1.x-inspired ref implementation\n     */\n    ref: function(refs) {\n        var refName, getterName, selector, info;\n\n        for (refName in refs) {\n            selector = refs[refName];\n            getterName = \"get\" + Ext.String.capitalize(refName);\n\n            if (!this[getterName]) {\n                if (Ext.isString(refs[refName])) {\n                    info = {\n                        ref: refName,\n                        selector: selector\n                    };\n                } else {\n                    info = refs[refName];\n                }\n\n                this[getterName] = Ext.Function.pass(this.getRef, [refName, info], this);\n            }\n\n            this.references = this.references || [];\n            this.references.push(refName.toLowerCase());\n        }\n    },\n\n    /**\n     * @private\n     */\n    getRef: function(ref, info, config) {\n        this.refCache = this.refCache || {};\n        info = info || {};\n        config = config || {};\n\n        Ext.apply(info, config);\n\n        if (info.forceCreate) {\n            return Ext.ComponentManager.create(info, 'component');\n        }\n\n        var me = this,\n            cached = me.refCache[ref];\n\n        if (!cached) {\n            me.refCache[ref] = cached = Ext.ComponentQuery.query(info.selector)[0];\n            if (!cached && info.autoCreate) {\n                me.refCache[ref] = cached = Ext.ComponentManager.create(info, 'component');\n            }\n            if (cached) {\n                cached.on('destroy', function() {\n                    me.refCache[ref] = null;\n                });\n            }\n        }\n\n        return cached;\n    },\n\n    /**\n     * @private\n     */\n    hasRef: function(ref) {\n        return this.references && this.references.indexOf(ref.toLowerCase()) !== -1;\n    },\n\n    onClassExtended: function(cls, members) {\n        var prototype = this.prototype,\n            defaultConfig = prototype.config,\n            config = members.config || {},\n            arrayRefs = members.refs,\n            objectRefs = {},\n            stores = members.stores,\n            views = members.views,\n            format = Ext.String.format,\n            refItem, key, length, i, functionName;\n\n        // Convert deprecated properties in application into a config object\n        for (key in defaultConfig) {\n            if (key in members && key != \"control\") {\n                if (key == \"refs\") {\n                    //we need to convert refs from the 1.x array-style to 2.x object-style\n                    for (i = 0; i < arrayRefs.length; i++) {\n                        refItem = arrayRefs[i];\n\n                        objectRefs[refItem.ref] = refItem;\n                    }\n\n                    config.refs = objectRefs;\n                } else {\n                    config[key] = members[key];\n                }\n\n                delete members[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the ' + this.$className + ' prototype. Please put it inside the config object.');\n            }\n        }\n\n        if (stores) {\n            length = stores.length;\n            config.stores = stores;\n\n            Ext.Logger.deprecate('\\'stores\\' is deprecated as a property directly on the ' + this.$className + ' prototype. Please move it ' +\n                'to Ext.application({ stores: ... }) instead');\n\n            for (i = 0; i < length; i++) {\n                functionName = format(\"get{0}Store\", Ext.String.capitalize(stores[i]));\n\n                prototype[functionName] = function(name) {\n                    return function() {\n                        return Ext.StoreManager.lookup(name);\n                    };\n                }(stores[i]);\n            }\n        }\n\n        if (views) {\n            length = views.length;\n            config.views = views;\n\n            Ext.Logger.deprecate('\\'views\\' is deprecated as a property directly on the ' + this.$className + ' prototype. Please move it ' +\n                'to Ext.application({ views: ... }) instead');\n\n            for (i = 0; i < length; i++) {\n                functionName = format(\"get{0}View\", views[i]);\n\n                prototype[functionName] = function(name) {\n                    return function() {\n                        return Ext.ClassManager.classes[format(\"{0}.view.{1}\", this.getApplication().getName(), name)];\n                    };\n                }(views[i]);\n            }\n        }\n\n        members.config = config;\n    },\n\n    /**\n     * Returns a reference to a Model.\n     * @deprecated 2.0.0 Considered bad practice - please just use the Model name instead\n     * (e.g. MyApp.model.User vs this.getModel('User')).\n     */\n    getModel: function(modelName) {\n        Ext.Logger.deprecate(\"getModel() is deprecated and considered bad practice - please just use the Model \" +\n            \"name instead (e.g. MyApp.model.User vs this.getModel('User'))\");\n\n        var appName = this.getApplication().getName(),\n            classes = Ext.ClassManager.classes;\n\n        return classes[appName + '.model.' + modelName];\n    },\n\n    /**\n     * Returns a reference to another Controller.\n     * @deprecated 2.0.0 Considered bad practice - if you need to do this\n     * please use this.getApplication().getController() instead\n     */\n    getController: function(controllerName, profile) {\n        Ext.Logger.deprecate(\"Ext.app.Controller#getController is deprecated and considered bad practice - \" +\n            \"please use this.getApplication().getController('someController') instead\");\n\n        return this.getApplication().getController(controllerName, profile);\n    }\n}, function() {\n    Ext.regController = function(name, config) {\n        Ext.apply(config, {\n            extend: 'Ext.app.Controller'\n        });\n\n        Ext.Logger.deprecate(\n            '[Ext.app.Controller] Ext.regController is deprecated, please use Ext.define to define a Controller as ' +\n            'with any other class. For more information see the Touch 1.x -> 2.x migration guide'\n        );\n        Ext.define('controller.' + name, config);\n    };\n});\n\n/**\n * @author Ed Spencer\n * @private\n *\n * Manages the stack of {@link Ext.app.Action} instances that have been decoded, pushes new urls into the browser's\n * location object and listens for changes in url, firing the {@link #change} event when a change is detected.\n *\n * This is tied to an {@link Ext.app.Application Application} instance. The Application performs all of the\n * interactions with the History object, no additional integration should be required.\n */\nExt.define('Ext.app.History', {\n    mixins: ['Ext.mixin.Observable'],\n\n    /**\n     * @event change\n     * Fires when a change in browser url is detected\n     * @param {String} url The new url, after the hash (e.g. http://myapp.com/#someUrl returns 'someUrl')\n     */\n\n    config: {\n        /**\n         * @cfg {Array} actions The stack of {@link Ext.app.Action action} instances that have occured so far\n         */\n        actions: [],\n\n        /**\n         * @cfg {Boolean} updateUrl True to automatically update the browser's url when {@link #add} is called\n         */\n        updateUrl: true,\n\n        /**\n         * @cfg {String} token The current token as read from the browser's location object\n         */\n        token: ''\n    },\n\n    constructor: function(config) {\n        if (Ext.feature.has.History) {\n            window.addEventListener('hashchange', Ext.bind(this.detectStateChange, this));\n        }\n        else {\n            setInterval(Ext.bind(this.detectStateChange, this), 50);\n        }\n\n        this.initConfig(config);\n    },\n\n    /**\n     * Adds an {@link Ext.app.Action Action} to the stack, optionally updating the browser's url and firing the\n     * {@link #change} event.\n     * @param {Ext.app.Action} action The Action to add to the stack\n     * @param {Boolean} silent Cancels the firing of the {@link #change} event if true\n     */\n    add: function(action, silent) {\n        this.getActions().push(Ext.factory(action, Ext.app.Action));\n\n        var url = action.getUrl();\n\n        if (this.getUpdateUrl()) {\n            // history.pushState({}, action.getTitle(), \"#\" + action.getUrl());\n            this.setToken(url);\n            window.location.hash = url;\n        }\n\n        if (silent !== true) {\n            this.fireEvent('change', url);\n        }\n\n        this.setToken(url);\n    },\n\n    /**\n     * @private\n     */\n    back: function() {\n        this.getActions().pop().run();\n    },\n\n    /**\n     * @private\n     */\n    applyToken: function(token) {\n        return token[0] == '#' ? token.substr(1) : token;\n    },\n\n    /**\n     * @private\n     */\n    detectStateChange: function() {\n        var newToken = this.applyToken(window.location.hash),\n            oldToken = this.getToken();\n\n        if (newToken != oldToken) {\n            this.onStateChange();\n            this.setToken(newToken);\n        }\n    },\n\n    /**\n     * @private\n     */\n    onStateChange: function() {\n        this.fireEvent('change', window.location.hash.substr(1));\n    }\n});\n\n/**\n * @author Ed Spencer\n *\n * A Profile represents a range of devices that fall under a common category. For the vast majority of apps that use\n * device profiles, the app defines a Phone profile and a Tablet profile. Doing this enables you to easily customize\n * the experience for the different sized screens offered by those device types.\n *\n * Only one Profile can be active at a time, and each Profile defines a simple {@link #isActive} function that should\n * return either true or false. The first Profile to return true from its isActive function is set as your Application's\n * {@link Ext.app.Application#currentProfile current profile}.\n *\n * A Profile can define any number of {@link #models}, {@link #views}, {@link #controllers} and {@link #stores} which\n * will be loaded if the Profile is activated. It can also define a {@link #launch} function that will be called after\n * all of its dependencies have been loaded, just before the {@link Ext.app.Application#launch application launch}\n * function is called.\n *\n * ## Sample Usage\n *\n * First you need to tell your Application about your Profile(s):\n *\n *     Ext.application({\n *         name: 'MyApp',\n *         profiles: ['Phone', 'Tablet']\n *     });\n *\n * This will load app/profile/Phone.js and app/profile/Tablet.js. Here's how we might define the Phone profile:\n *\n *     Ext.define('MyApp.profile.Phone', {\n *         extend: 'Ext.app.Profile',\n *\n *         views: ['Main'],\n *\n *         isActive: function() {\n *             return Ext.os.is.Phone;\n *         }\n *     });\n *\n * The isActive function returns true if we detect that we are running on a phone device. If that is the case the\n * Application will set this Profile active and load the 'Main' view specified in the Profile's {@link #views} config.\n *\n * ## Class Specializations\n *\n * Because Profiles are specializations of an application, all of the models, views, controllers and stores defined\n * in a Profile are expected to be namespaced under the name of the Profile. Here's an expanded form of the example\n * above:\n *\n *     Ext.define('MyApp.profile.Phone', {\n *         extend: 'Ext.app.Profile',\n *\n *         views: ['Main'],\n *         controllers: ['Signup'],\n *         models: ['MyApp.model.Group'],\n *\n *         isActive: function() {\n *             return Ext.os.is.Phone;\n *         }\n *     });\n *\n * In this case, the Profile is going to load *app/view/phone/Main.js*, *app/controller/phone/Signup.js* and\n * *app/model/Group.js*. Notice that in each of the first two cases the name of the profile ('phone' in this case) was\n * injected into the class names. In the third case we specified the full Model name (for Group) so the Profile name\n * was not injected.\n *\n * For a fuller understanding of the ideas behind Profiles and how best to use them in your app, we suggest you read\n * the <a href=\"#!/guide/profiles\">device profiles guide</a>.\n * \n * @aside guide profiles\n */\nExt.define('Ext.app.Profile', {\n    mixins: {\n        observable: \"Ext.mixin.Observable\"\n    },\n\n    config: {\n        /**\n         * @cfg {String} namespace The namespace that this Profile's classes can be found in. Defaults to the lowercased\n         * Profile {@link #name}, for example a Profile called MyApp.profile.Phone will by default have a 'phone'\n         * namespace, which means that this Profile's additional models, stores, views and controllers will be loaded\n         * from the MyApp.model.phone.*, MyApp.store.phone.*, MyApp.view.phone.* and MyApp.controller.phone.* namespaces\n         * respectively.\n         * @accessor\n         */\n        namespace: 'auto',\n\n        /**\n         * @cfg {String} name The name of this Profile. Defaults to the last section of the class name (e.g. a profile\n         * called MyApp.profile.Phone will default the name to 'Phone').\n         * @accessor\n         */\n        name: 'auto',\n\n        /**\n         * @cfg {Array} controllers Any additional {@link Ext.app.Application#controllers Controllers} to load for this\n         * profile. Note that each item here will be prepended with the Profile namespace when loaded. Example usage:\n         *\n         *     controllers: [\n         *         'Users',\n         *         'MyApp.controller.Products'\n         *     ]\n         *\n         * This will load *MyApp.controller.tablet.Users* and *MyApp.controller.Products*.\n         * @accessor\n         */\n        controllers: [],\n\n        /**\n         * @cfg {Array} models Any additional {@link Ext.app.Application#models Models} to load for this profile. Note\n         * that each item here will be prepended with the Profile namespace when loaded. Example usage:\n         *\n         *     models: [\n         *         'Group',\n         *         'MyApp.model.User'\n         *     ]\n         *\n         * This will load *MyApp.model.tablet.Group* and *MyApp.model.User*.\n         * @accessor\n         */\n        models: [],\n\n        /**\n         * @cfg {Array} views Any additional {@link Ext.app.Application#views views} to load for this profile. Note\n         * that each item here will be prepended with the Profile namespace when loaded. Example usage:\n         *\n         *     views: [\n         *         'Main',\n         *         'MyApp.view.Login'\n         *     ]\n         *\n         * This will load *MyApp.view.tablet.Main* and *MyApp.view.Login*.\n         * @accessor\n         */\n        views: [],\n\n        /**\n         * @cfg {Array} stores Any additional {@link Ext.app.Application#stores Stores} to load for this profile. Note\n         * that each item here will be prepended with the Profile namespace when loaded. Example usage:\n         *\n         *     stores: [\n         *         'Users',\n         *         'MyApp.store.Products'\n         *     ]\n         *\n         * This will load *MyApp.store.tablet.Users* and *MyApp.store.Products*.\n         * @accessor\n         */\n        stores: [],\n\n        /**\n         * @cfg {Ext.app.Application} application The {@link Ext.app.Application Application} instance that this\n         * Profile is bound to. This is set automatically. Read only.\n         * @accessor\n         */\n        application: null\n    },\n\n    /**\n     * Creates a new Profile instance\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n\n        this.mixins.observable.constructor.apply(this, arguments);\n    },\n\n    /**\n     * Determines whether or not this Profile is active on the device isActive is executed on. Should return true if\n     * this profile is meant to be active on this device, false otherwise. Each Profile should implement this function\n     * (the default implementation just returns false).\n     * @return {Boolean} True if this Profile should be activated on the device it is running on, false otherwise\n     */\n    isActive: function() {\n        return false;\n    },\n\n    /**\n     * @method\n     * The launch function is called by the {@link Ext.app.Application Application} if this Profile's {@link #isActive}\n     * function returned true. This is typically the best place to run any profile-specific app launch code. Example\n     * usage:\n     *\n     *     launch: function() {\n     *         Ext.create('MyApp.view.tablet.Main');\n     *     }\n     */\n    launch: Ext.emptyFn,\n\n    /**\n     * @private\n     */\n    applyNamespace: function(name) {\n        if (name == 'auto') {\n            name = this.getName();\n        }\n\n        return name.toLowerCase();\n    },\n\n    /**\n     * @private\n     */\n    applyName: function(name) {\n        if (name == 'auto') {\n            var pieces = this.$className.split('.');\n            name = pieces[pieces.length - 1];\n        }\n\n        return name;\n    },\n\n    /**\n     * @private\n     * Computes the full class names of any specified model, view, controller and store dependencies, returns them in\n     * an object map for easy loading\n     */\n    getDependencies: function() {\n        var allClasses = [],\n            format = Ext.String.format,\n            appName = this.getApplication().getName(),\n            namespace = this.getNamespace(),\n            map = {\n                model: this.getModels(),\n                view: this.getViews(),\n                controller: this.getControllers(),\n                store: this.getStores()\n            },\n            classType, classNames, fullyQualified;\n\n        for (classType in map) {\n            classNames = [];\n\n            Ext.each(map[classType], function(className) {\n                if (Ext.isString(className)) {\n                    //we check name === appName to allow MyApp.profile.MyApp to exist\n                    if (Ext.isString(className) && (Ext.Loader.getPrefix(className) === \"\" || className === appName)) {\n                        className = appName + '.' + classType + '.' + namespace + '.' + className;\n                    }\n\n                    classNames.push(className);\n                    allClasses.push(className);\n                }\n            }, this);\n\n            map[classType] = classNames;\n        }\n\n        map.all = allClasses;\n\n        return map;\n    }\n});\n/**\n * @author Ed Spencer\n * @private\n *\n * Represents a single action as {@link Ext.app.Application#dispatch dispatched} by an Application. This is typically\n * generated as a result of a url change being matched by a Route, triggering Application's dispatch function.\n *\n * This is a private class and its functionality and existence may change in the future. Use at your own risk.\n *\n */\nExt.define('Ext.app.Action', {\n    config: {\n        /**\n         * @cfg {Object} scope The scope in which the {@link #action} should be called\n         */\n        scope: null,\n\n        /**\n         * @cfg {Ext.app.Application} application The Application that this Action is bound to\n         */\n        application: null,\n\n        /**\n         * @cfg {Ext.app.Controller} controller The {@link Ext.app.Controller controller} whose {@link #action} should\n         * be called\n         */\n        controller: null,\n\n        /**\n         * @cfg {String} action The name of the action on the {@link #controller} that should be called\n         */\n        action: null,\n\n        /**\n         * @cfg {Array} args The set of arguments that will be passed to the controller's {@link #action}\n         */\n        args: [],\n\n        /**\n         * @cfg {String} url The url that was decoded into the controller/action/args in this Action\n         */\n        url: undefined,\n        data: {},\n        title: null,\n\n        /**\n         * @cfg {Array} beforeFilters The (optional) set of functions to call before the {@link #action} is called.\n         * This is usually handled directly by the Controller or Application when an Ext.app.Action instance is\n         * created, but is alterable before {@link #resume} is called.\n         * @accessor\n         */\n        beforeFilters: [],\n\n        /**\n         * @private\n         * Keeps track of which before filter is currently being executed by {@link #resume}\n         */\n        currentFilterIndex: -1\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n\n        this.getUrl();\n    },\n\n    /**\n     * Starts execution of this Action by calling each of the {@link #beforeFilters} in turn (if any are specified),\n     * before calling the Controller {@link #action}. Same as calling {@link #resume}.\n     */\n    execute: function() {\n        this.resume();\n    },\n\n    /**\n     * Resumes the execution of this Action (or starts it if it had not been started already). This iterates over all\n     * of the configured {@link #beforeFilters} and calls them. Each before filter is called with this Action as the\n     * sole argument, and is expected to call action.resume() in order to allow the next filter to be called, or if\n     * this is the final filter, the original {@link Ext.app.Controller Controller} function.\n     */\n    resume: function() {\n        var index   = this.getCurrentFilterIndex() + 1,\n            filters = this.getBeforeFilters(),\n            controller = this.getController(),\n            nextFilter = filters[index];\n\n        if (nextFilter) {\n            this.setCurrentFilterIndex(index);\n            nextFilter.call(controller, this);\n        } else {\n            controller[this.getAction()].apply(controller, this.getArgs());\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyUrl: function(url) {\n        if (url === null || url === undefined) {\n            url = this.urlEncode();\n        }\n\n        return url;\n    },\n\n    /**\n     * @private\n     * If the controller config is a string, swap it for a reference to the actuall controller instance\n     * @param {String} controller The controller name\n     */\n    applyController: function(controller) {\n        var app = this.getApplication(),\n            profile = app.getCurrentProfile();\n\n        if (Ext.isString(controller)) {\n            controller = app.getController(controller, profile ? profile.getNamespace() : null);\n        }\n\n        return controller;\n    },\n\n    /**\n     * @private\n     */\n    urlEncode: function() {\n        var controller = this.getController(),\n            splits;\n\n        if (controller instanceof Ext.app.Controller) {\n            splits = controller.$className.split('.');\n            controller = splits[splits.length - 1];\n        }\n\n        return controller + \"/\" + this.getAction();\n    }\n});\n/**\n * @author Ed Spencer\n * @private\n *\n * Represents a mapping between a url and a controller/action pair. May also contain additional params. This is a\n * private internal class that should not need to be used by end-developer code. Its API and existence are subject to\n * change so use at your own risk.\n *\n * For information on how to use routes we suggest reading the following guides:\n *\n * * <a href=\"#!/guide/history_support\">Using History Support</a>\n * * <a href=\"#!/guide/apps_intro\">Intro to Applications</a>\n * * <a href=\"#!/guide/controllers\">Using Controllers</a>\n *\n */\nExt.define('Ext.app.Route', {\n\n    config: {\n        /**\n         * @cfg {Object} conditions Optional set of conditions for each token in the url string. Each key should be one\n         * of the tokens, each value should be a regex that the token should accept. For example, if you have a Route\n         * with a url like \"files/:fileName\" and you want it to match urls like \"files/someImage.jpg\" then you can set\n         * these conditions to allow the :fileName token to accept strings containing a period (\".\"):\n         *\n         *     conditions: {\n         *         ':fileName': \"[0-9a-zA-Z\\.]+\"\n         *     }\n         *\n         */\n        conditions: {},\n\n        /**\n         * @cfg {String} url The url regex to match against. Required\n         */\n        url: null,\n\n        /**\n         * @cfg {String} controller The name of the Controller whose {@link #action} will be called if this route is\n         * matched\n         */\n        controller: null,\n\n        /**\n         * @cfg {String} action The name of the action that will be called on the {@link #controller} if this route is\n         * matched\n         */\n        action: null,\n\n        /**\n         * @private\n         * @cfg {Boolean} initialized Indicates whether or not this Route has been initialized. We don't initialize\n         * straight away so as to save unnecessary processing.\n         */\n        initialized: false\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    /**\n     * Attempts to recognize a given url string and return controller/action pair for it\n     * @param {String} url The url to recognize\n     * @return {Object} The matched data, or false if no match\n     */\n    recognize: function(url) {\n        if (!this.getInitialized()) {\n            this.initialize();\n        }\n\n        if (this.recognizes(url)) {\n            var matches = this.matchesFor(url),\n                args    = url.match(this.matcherRegex);\n\n            args.shift();\n\n            return Ext.applyIf(matches, {\n                controller: this.getController(),\n                action    : this.getAction(),\n                historyUrl: url,\n                args      : args\n            });\n        }\n    },\n\n    /**\n     * @private\n     * Sets up the relevant regular expressions used to match against this route\n     */\n    initialize: function() {\n        /*\n         * The regular expression we use to match a segment of a route mapping\n         * this will recognise segments starting with a colon,\n         * e.g. on 'namespace/:controller/:action', :controller and :action will be recognised\n         */\n        this.paramMatchingRegex = new RegExp(/:([0-9A-Za-z\\_]*)/g);\n\n        /*\n         * Converts a route string into an array of symbols starting with a colon. e.g.\n         * \":controller/:action/:id\" => [':controller', ':action', ':id']\n         */\n        this.paramsInMatchString = this.getUrl().match(this.paramMatchingRegex) || [];\n\n        this.matcherRegex = this.createMatcherRegex(this.getUrl());\n\n        this.setInitialized(true);\n    },\n\n    /**\n     * @private\n     * Returns true if this Route matches the given url string\n     * @param {String} url The url to test\n     * @return {Boolean} True if this Route recognizes the url\n     */\n    recognizes: function(url) {\n        return this.matcherRegex.test(url);\n    },\n\n    /**\n     * @private\n     * Returns a hash of matching url segments for the given url.\n     * @param {String} url The url to extract matches for\n     * @return {Object} matching url segments\n     */\n    matchesFor: function(url) {\n        var params = {},\n            keys   = this.paramsInMatchString,\n            values = url.match(this.matcherRegex),\n            length = keys.length,\n            i;\n\n        //first value is the entire match so reject\n        values.shift();\n\n        for (i = 0; i < length; i++) {\n            params[keys[i].replace(\":\", \"\")] = values[i];\n        }\n\n        return params;\n    },\n\n    /**\n     * @private\n     * Returns an array of matching url segments for the given url.\n     * @param {String} url The url to extract matches for\n     * @return {Array} matching url segments\n     */\n    argsFor: function(url) {\n        var args   = [],\n            keys   = this.paramsInMatchString,\n            values = url.match(this.matcherRegex),\n            length = keys.length,\n            i;\n\n        //first value is the entire match so reject\n        values.shift();\n\n        for (i = 0; i < length; i++) {\n            args.push(keys[i].replace(':', \"\"));\n            params[keys[i].replace(\":\", \"\")] = values[i];\n        }\n\n        return params;\n    },\n\n    /**\n     * @private\n     * Constructs a url for the given config object by replacing wildcard placeholders in the Route's url\n     * @param {Object} config The config object\n     * @return {String} The constructed url\n     */\n    urlFor: function(config) {\n        var url = this.getUrl();\n\n        for (var key in config) {\n            url = url.replace(\":\" + key, config[key]);\n        }\n\n        return url;\n    },\n\n    /**\n     * @private\n     * Takes the configured url string including wildcards and returns a regex that can be used to match\n     * against a url\n     * @param {String} url The url string\n     * @return {RegExp} The matcher regex\n     */\n    createMatcherRegex: function(url) {\n        /**\n         * Converts a route string into an array of symbols starting with a colon. e.g.\n         * \":controller/:action/:id\" => [':controller', ':action', ':id']\n         */\n        var paramsInMatchString = this.paramsInMatchString,\n            length = paramsInMatchString.length,\n            i, cond, matcher;\n\n        for (i = 0; i < length; i++) {\n            cond    = this.getConditions()[paramsInMatchString[i]];\n            matcher = Ext.util.Format.format(\"({0})\", cond || \"[%a-zA-Z0-9\\-\\\\_\\\\s,]+\");\n\n            url = url.replace(new RegExp(paramsInMatchString[i]), matcher);\n        }\n\n        //we want to match the whole string, so include the anchors\n        return new RegExp(\"^\" + url + \"$\");\n    }\n});\n/**\n * @author Ed Spencer\n * @private\n *\n * The Router is an ordered set of route definitions that decode a url into a controller function to execute. Each\n * route defines a type of url to match, along with the controller function to call if it is matched. The Router is\n * usually managed exclusively by an {@link Ext.app.Application Application}, which also uses a\n * {@link Ext.app.History History} instance to find out when the browser's url has changed.\n *\n * Routes are almost always defined inside a {@link Ext.app.Controller Controller}, as opposed to on the Router itself.\n * End-developers should not usually need to interact directly with the Router as the Application and Controller\n * classes manage everything automatically. See the {@link Ext.app.Controller Controller documentation} for more\n * information on specifying routes.\n */\nExt.define('Ext.app.Router', {\n    requires: ['Ext.app.Route'],\n\n    config: {\n        /**\n         * @cfg {Array} routes The set of routes contained within this Router. Read only\n         */\n        routes: [],\n\n        /**\n         * @cfg {Object} defaults Default configuration options for each Route connected to this Router.\n         */\n        defaults: {\n            action: 'index'\n        }\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    /**\n     * Connects a url-based route to a controller/action pair plus additional params\n     * @param {String} url The url to recognize\n     */\n    connect: function(url, params) {\n        params = Ext.apply({url: url}, params || {}, this.getDefaults());\n        var route = Ext.create('Ext.app.Route', params);\n\n        this.getRoutes().push(route);\n\n        return route;\n    },\n\n    /**\n     * Recognizes a url string connected to the Router, return the controller/action pair plus any additional\n     * config associated with it\n     * @param {String} url The url to recognize\n     * @return {Object/undefined} If the url was recognized, the controller and action to call, else undefined\n     */\n    recognize: function(url) {\n        var routes = this.getRoutes(),\n            length = routes.length,\n            i, result;\n\n        for (i = 0; i < length; i++) {\n            result = routes[i].recognize(url);\n\n            if (result !== undefined) {\n                return result;\n            }\n        }\n\n        return undefined;\n    },\n\n    /**\n     * Convenience method which just calls the supplied function with the Router instance. Example usage:\n<pre><code>\nExt.Router.draw(function(map) {\n    map.connect('activate/:token', {controller: 'users', action: 'activate'});\n    map.connect('home',            {controller: 'index', action: 'home'});\n});\n</code></pre>\n     * @param {Function} fn The fn to call\n     */\n    draw: function(fn) {\n        fn.call(this, this);\n    },\n\n    /**\n     * @private\n     */\n    clear: function() {\n        this.setRoutes([]);\n    }\n}, function() {\n    /**\n     * Restores compatibility for the old Ext.Router.draw syntax. This needs to be here because apps often include\n     * routes.js just after app.js, so this is our only opportunity to hook this in. There is a small piece of code\n     * inside Application's onDependenciesLoaded that sets up the other end of this.\n     * @singleton\n     * @private\n     */\n    Ext.Router = {};\n\n    var drawStack = [];\n\n    /**\n     * Application's onDependenciesLoaded has a deprecated-wrapped line that calls this. Basic idea is that once an\n     * app has been instantiated we set that at Ext.Router's appInstance and then redirect any calls to\n     * Ext.Router.draw to that app's Router. We keep a drawStack above so that we can call Ext.Router.draw one or\n     * more times before the application is even instantiated and it will simply link it up once everything is\n     * present.\n     */\n    Ext.Router.setAppInstance = function(app) {\n        Ext.Router.appInstance = app;\n\n        if (drawStack.length > 0) {\n            Ext.each(drawStack, Ext.Router.draw);\n        }\n    };\n\n    Ext.Router.draw = function(mapperFn) {\n        Ext.Logger.deprecate(\n            'Ext.Router.map is deprecated, please define your routes inline inside each Controller. ' +\n            'Please see the 1.x -> 2.x migration guide for more details.'\n        );\n\n        var app = Ext.Router.appInstance,\n            router;\n\n        if (app) {\n            router = app.getRouter();\n            mapperFn(router);\n        } else {\n            drawStack.push(mapperFn);\n        }\n    };\n});\n\n/**\n * @author Ed Spencer\n *\n * @aside guide apps_intro\n * @aside guide first_app\n * @aside video mvc-part-1\n * @aside video mvc-part-2\n *\n * Ext.app.Application defines the set of {@link Ext.data.Model Models}, {@link Ext.app.Controller Controllers},\n * {@link Ext.app.Profile Profiles}, {@link Ext.data.Store Stores} and {@link Ext.Component Views} that an application\n * consists of. It automatically loads all of those dependencies and can optionally specify a {@link #launch} function\n * that will be called when everthing is ready.\n *\n * Sample usage:\n *\n *     Ext.application({\n *         name: 'MyApp',\n *\n *         models: ['User', 'Group'],\n *         stores: ['Users'],\n *         controllers: ['Users'],\n *         views: ['Main', 'ShowUser'],\n *\n *         launch: function() {\n *             Ext.create('MyApp.view.Main');\n *         }\n *     });\n *\n * Creating an Application instance is the only time in Sencha Touch 2 that we don't use Ext.create to create the new\n * instance. Instead, the {@link Ext#application} function instantiates an Ext.app.Application internally,\n * automatically loading the Ext.app.Application class if it is not present on the page already and hooking in to\n * {@link Ext#onReady} before creating the instance itself. An alternative is to use Ext.create inside an Ext.onReady\n * callback, but Ext.application is preferred.\n *\n * ## Dependencies\n *\n * Application follows a simple convention when it comes to specifying the controllers, views, models, stores and\n * profiles it requires. By default it expects each of them to be found inside the *app/controller*, *app/view*,\n * *app/model*, *app/store* and *app/profile* directories in your app - if you follow this convention you can just\n * specify the last part of each class name and Application will figure out the rest for you:\n *\n *     Ext.application({\n *         name: 'MyApp',\n *\n *         controllers: ['Users'],\n *         models: ['User', 'Group'],\n *         stores: ['Users'],\n *         views: ['Main', 'ShowUser']\n *     });\n *\n * The example above will load 6 files:\n *\n * * app/model/User.js\n * * app/model/Group.js\n * * app/store/Users.js\n * * app/controller/Users.js\n * * app/view/Main.js\n * * app/view/ShowUser.js\n *\n * ### Nested Dependencies\n *\n * For larger apps it's common to split the models, views and controllers into subfolders so keep the project\n * organized. This is especially true of views - it's not unheard of for large apps to have over a hundred separate\n * view classes so organizing them into folders can make maintenance much simpler.\n *\n * To specify dependencies in subfolders just use a period (\".\") to specify the folder:\n *\n *     Ext.application({\n *         name: 'MyApp',\n *\n *         controllers: ['Users', 'nested.MyController'],\n *         views: ['products.Show', 'products.Edit', 'user.Login']\n *     });\n *\n * In this case these 5 files will be loaded:\n *\n * * app/controller/Users.js\n * * app/controller/nested/MyController.js\n * * app/view/products/Show.js\n * * app/view/products/Edit.js\n * * app/view/user/Login.js\n *\n * Note that we can mix and match within each configuration here - for each model, view, controller, profile or store\n * you can specify either just the final part of the class name (if you follow the directory conventions), or the full\n * class name.\n *\n * ### External Dependencies\n *\n * Finally, we can specify application dependencies from outside our application by fully-qualifying the classes we\n * want to load. A common use case for this is sharing authentication logic between multiple applications. Perhaps you\n * have several apps that login via a common user database and you want to share that code between them. An easy way to\n * do this is to create a folder alongside your app folder and then add its contents as dependencies for your app.\n *\n * For example, let's say our shared login code contains a login controller, a user model and a login form view. We\n * want to use all of these in our application:\n *\n *     Ext.Loader.setPath({\n *         'Auth': 'Auth'\n *     });\n *\n *     Ext.application({\n *         views: ['Auth.view.LoginForm', 'Welcome'],\n *         controllers: ['Auth.controller.Sessions', 'Main'],\n *         models: ['Auth.model.User']\n *     });\n *\n * This will load the following files:\n *\n * * Auth/view/LoginForm.js\n * * Auth/controller/Sessions.js\n * * Auth/model/User.js\n * * app/view/Welcome.js\n * * app/controller/Main.js\n *\n * The first three were loaded from outside our application, the last two from the application itself. Note how we can\n * still mix and match application files and external dependency files.\n *\n * Note that to enable the loading of external dependencies we just have to tell the Loader where to find those files,\n * which is what we do with the Ext.Loader.setPath call above. In this case we're telling the Loader to find any class\n * starting with the 'Auth' namespace inside our 'Auth' folder. This means we can drop our common Auth code into our\n * application alongside the app folder and the framework will be able to figure out how to load everything.\n *\n * ## Launching\n *\n * Each Application can define a {@link Ext.app.Application#launch launch} function, which is called as soon as all of\n * your app's classes have been loaded and the app is ready to be launched. This is usually the best place to put any\n * application startup logic, typically creating the main view structure for your app.\n *\n * In addition to the Application launch function, there are two other places you can put app startup logic. Firstly,\n * each Controller is able to define an {@link Ext.app.Controller#init init} function, which is called before the\n * Application launch function. Secondly, if you are using Device Profiles, each Profile can define a\n * {@link Ext.app.Profile#launch launch} function, which is called after the Controller init functions but before the\n * Application launch function.\n *\n * Note that only the active Profile has its launch function called - for example if you define profiles for Phone and\n * Tablet and then launch the app on a tablet, only the Tablet Profile's launch function is called.\n *\n * 1. Controller#init functions called\n * 2. Profile#launch function called\n * 3. Application#launch function called\n * 4. Controller#launch functions called\n *\n * When using Profiles it is common to place most of the bootup logic inside the Profile launch function because each\n * Profile has a different set of views that need to be constructed at startup.\n *\n * ## Adding to Home Screen\n *\n * iOS devices allow your users to add your app to their home screen for easy access. iOS allows you to customize\n * several aspects of this, including the icon that will appear on the home screen and the startup image. These can be\n * specified in the Ext.application setup block:\n *\n *     Ext.application({\n *         name: 'MyApp',\n *\n *         {@link #icon}: 'resources/img/icon.png',\n *         {@link #glossOnIcon}: false,\n *         {@link #phoneStartupScreen}: 'resources/img/phone_startup.png',\n *         {@link #tabletStartupScreen}: 'resources/img/tablet_startup.png'\n *     });\n *\n * When the user adds your app to the home screen, your resources/img/icon.png file will be used as the application\n * icon. We also used the {@link #glossOnIcon} configuration to turn off the gloss effect that is automatically added\n * to icons in iOS. Finally we used the {@link #phoneStartupScreen} and {@link #tabletStartupScreen} configurations to\n * provide the images that will be displayed while your application is starting up. See also {@link #phoneIcon},\n * {@link #tabletIcon} and {@link #statusBarStyle}.\n *\n * ## Find out more\n *\n * If you are not already familiar with writing applications with Sencha Touch 2 we recommend reading the\n * <a href=\"#!/guide/apps_intro\">intro to applications</a> guide, which lays out the core principles of writing apps\n * with Sencha Touch 2.\n */\nExt.define('Ext.app.Application', {\n    extend: 'Ext.app.Controller',\n\n    requires: [\n        'Ext.app.History',\n        'Ext.app.Profile',\n        'Ext.app.Router',\n        'Ext.app.Action'\n    ],\n\n    config: {\n        /**\n         * @cfg {String/Object} icon Path to the .png image file to use when your app is added to the home screen on an\n         * iOS device. When passed in as a String, the same icon will be used for both phone and tablet devices. When\n         * passed as an abject, you can specify different sizes like so:\n         *\n         *     icon: {\n         *        57: 'resources/icons/icon.png',\n         *        72: 'resources/icons/icon-72.png',\n         *        114: 'resources/icons/icon-114.png'\n         *     }\n         *\n         * To set different icons for tablets and phones see the {@link #tabletIcon} and {@link #phoneIcon} configs.\n         */\n\n        /**\n         * @cfg {String} tabletIcon Path to the .png image file to use when your app is added to the home screen on an\n         * iOS **tablet** device (iPad).\n         */\n\n        /**\n         * @cfg {String} phoneIcon Path to the .png image file to use when your app is added to the home screen on an\n         * iOS **phone** device (iPhone or iPod).\n         */\n\n        /**\n         * @cfg {Boolean} glossOnIcon If set to false, the 'gloss' effect added to home screen {@link #icon icons} on\n         * iOS devices will be removed.\n         */\n\n        /**\n         * @cfg {String} statusBarStyle Allows you to set the style of the status bar when your app is added to the\n         * home screen on iOS devices. Defaults to 'black'. Alternative is to set to 'black-translucent', which turns\n         * the status bar semi-transparent and overlaps the app content. This is usually not a good option for web apps\n         */\n\n        /**\n         * @cfg {String} phoneStartupScreen Path to the .png image file that will be displayed while the app is\n         * starting up once it has been added to the home screen of an iOS phone device (iPhone or iPod). This .png\n         * file should be 320px wide and 460px high.\n         */\n\n        /**\n         * @cfg {String} tabletStartupScreen Path to the .png image file that will be displayed while the app is\n         * starting up once it has been added to the home screen of an iOS tablet device (iPad). This .png file should\n         * be 768px wide and 1004px high.\n         */\n\n        /**\n         * @cfg {Array} profiles The set of profiles to load for this Application. Each profile is expected to\n         * exist inside the *app/profile* directory and define a class following the convention\n         * AppName.profile.ProfileName. For example, in the code below, the classes *AppName.profile.Phone*\n         * and *AppName.profile.Tablet* will be loaded. Note that we are able to specify\n         * either the full class name (as with *AppName.profile.Tablet*) or just the final part of the class name\n         * and leave Application to automatically prepend *AppName.profile.’* to each:\n         *\n         *     profiles: [\n         *         'Phone',\n         *         'AppName.profile.Tablet',\n         *         'SomeCustomNamespace.profile.Desktop'\n         *     ]\n         * @accessor\n         */\n        profiles: [],\n\n        /**\n         * @cfg {Array} controllers The set of controllers to load for this Application. Each controller is expected to\n         * exist inside the *app/controller* directory and define a class following the convention\n         * AppName.controller.ControllerName. For example, in the code below, the classes *AppName.controller.Users*,\n         * *AppName.controller.Groups* and *AppName.controller.Products* will be loaded. Note that we are able to specify\n         * either the full class name (as with *AppName.controller.Products*) or just the final part of the class name\n         * and leave Application to automatically prepend *AppName.controller.’* to each:\n         *\n         *     controllers: [\n         *         'Users',\n         *         'Groups',\n         *         'AppName.controller.Products',\n         *         'SomeCustomNamespace.controller.Orders'\n         *     ]\n         * @accessor\n         */\n        controllers: [],\n\n        /**\n         * @cfg {Ext.app.History} history The global {@link Ext.app.History History} instance attached to this\n         * Application. Read only\n         * @accessor\n         */\n        history: {},\n\n        /**\n         * @cfg {String} name The name of the Application. This should be a single word without spaces or periods\n         * because it is used as the Application's global namespace. All classes in your application should be\n         * namespaced undef the Application's name - for example if your application name is 'MyApp', your classes\n         * should be named 'MyApp.model.User', 'MyApp.controller.Users', 'MyApp.view.Main' etc\n         * @accessor\n         */\n        name: null,\n\n        /**\n         * @cfg {String} appFolder The path to the directory which contains all application's classes.\n         * This path will be registered via {@link Ext.Loader#setPath} for the namespace specified in the {@link #name name} config.\n         * Defaults to 'app'\n         * @accessor\n         */\n        appFolder : 'app',\n\n        /**\n         * @cfg {Ext.app.Router} router The global {@link Ext.app.Router Router} instance attached to this Application.\n         * Read only.\n         * @accessor\n         */\n        router: {},\n\n        /**\n         * @cfg\n         * @private\n         * Used internally as the collection of instantiated controllers. Use {@link #getController} instead\n         * @accessor\n         */\n        controllerInstances: [],\n\n        /**\n         * @cfg\n         * @private\n         * Used internally as the collection of instantiated profiles\n         * @accessor\n         */\n        profileInstances: [],\n\n        /**\n         * @cfg {Ext.app.Profile} currentProfile The {@link Ext.app.Profile Profile} that is currently active for the\n         * Application. This is set once, automatically by the Application before launch. Read only.\n         * @accessor\n         */\n        currentProfile: null,\n\n        /**\n         * @cfg {Function} launch An optional function that will be called when the Application is ready to be\n         * launched. This is normally used to render any initial UI required by your application\n         * @accessor\n         */\n        launch: Ext.emptyFn,\n\n        /**\n         * @private\n         * @cfg {Boolean} enableLoader Private config to disable loading of Profiles at application construct time.\n         * This is used by Sencha's unit test suite to test Application.js in isolation and is likely to be removed\n         * in favor of a more pleasing solution by the time you use it.\n         * @accessor\n         */\n        enableLoader: true,\n\n        /**\n         * @private\n         * @cfg {Boolean} requires An array of extra dependencies, to be required after this application's name config\n         * has been processed properly, but before anything else to ensure overrides get executed first\n         * @accessor\n         */\n        requires: []\n    },\n\n    /**\n     * Constructs a new Application instance\n     */\n    constructor: function(config) {\n        config = config || {};\n\n        Ext.applyIf(config, {\n            application: this\n        });\n\n        this.initConfig(config);\n\n        //it's common to pass in functions to an application but because they are not predictable config names they\n        //aren't ordinarily placed onto this so we need to do it manually\n        for (var key in config) {\n            this[key] = config[key];\n        }\n\n        if (config.autoCreateViewport) {\n            Ext.Logger.deprecate(\n                '[Ext.app.Application] autoCreateViewport has been deprecated in Sencha Touch 2. Please implement a ' +\n                'launch function on your Application instead and use Ext.create(\"MyApp.view.Main\") to create your initial UI.'\n            );\n        }\n\n        Ext.Loader.setConfig({ enabled: true });\n\n        Ext.require(this.getRequires(), function() {\n            if (this.getEnableLoader() !== false) {\n                Ext.require(this.getProfiles(), this.onProfilesLoaded, this);\n            }\n        }, this);\n    },\n\n    /**\n     * Dispatches a given {@link Ext.app.Action} to the relevant Controller instance. This is not usually called\n     * directly by the developer, instead Sencha Touch's History support picks up on changes to the browser's url\n     * and calls dispatch automatically.\n     * @param {Ext.app.Action} action The action to dispatch\n     * @param {Boolean} addToHistory True by default, sets the browser's url to the action's url\n     */\n    dispatch: function(action, addToHistory) {\n        action = action || {};\n        Ext.applyIf(action, {\n            application: this\n        });\n\n        action = Ext.factory(action, Ext.app.Action);\n\n        if (action) {\n            var profile    = this.getCurrentProfile(),\n                profileNS  = profile ? profile.getNamespace() : undefined,\n                controller = this.getController(action.getController(), profileNS);\n\n            if (controller) {\n                if (addToHistory !== false) {\n                    this.getHistory().add(action, true);\n                }\n\n                controller.execute(action);\n            }\n        }\n    },\n\n    /**\n     * Redirects the browser to the given url. This only affects the url after the #. You can pass in either a String\n     * or a Model instance - if a Model instance is defined its {@link Ext.data.Model#toUrl toUrl} function is called,\n     * which returns a string representing the url for that model. Internally, this uses your application's\n     * {@link Ext.app.Router Router} to decode the url into a matching controller action and then calls\n     * {@link #dispatch}.\n     * @param {String/Ext.data.Model} url The String url to redirect to\n     */\n    redirectTo: function(url) {\n        if (Ext.data && Ext.data.Model && url instanceof Ext.data.Model) {\n            var record = url;\n\n            url = record.toUrl();\n        }\n\n        var decoded = this.getRouter().recognize(url);\n\n        if (decoded) {\n            decoded.url = url;\n            if (record) {\n                decoded.data = {};\n                decoded.data.record = record;\n            }\n            return this.dispatch(decoded);\n        }\n    },\n\n    /**\n     * @private\n     * (documented on Controller's control config)\n     */\n    control: function(selectors, controller) {\n        //if the controller is not defined, use this instead (the application instance)\n        controller = controller || this;\n\n        var dispatcher = this.getEventDispatcher(),\n            refs = (controller) ? controller.getRefs() : {},\n            selector, eventName, listener, listeners, ref;\n\n        for (selector in selectors) {\n            if (selectors.hasOwnProperty(selector)) {\n                listeners = selectors[selector];\n                ref = refs[selector];\n\n                //refs can be used in place of selectors\n                if (ref) {\n                    selector = ref.selector || ref;\n                }\n                for (eventName in listeners) {\n                    listener = listeners[eventName];\n\n                    if (Ext.isString(listener)) {\n                        listener = controller[listener];\n                    }\n\n                    dispatcher.addListener('component', selector, eventName, listener, controller);\n                }\n            }\n        }\n    },\n\n    /**\n     * @private\n     * Returns the Controller instance for the given controller name\n     * @param {String} name The name of the Controller\n     * @param {String} profileName Optional profile name. If passed, this is the same as calling\n     * getController('profileName.controllerName')\n     */\n    getController: function(name, profileName) {\n        var instances = this.getControllerInstances(),\n            appName   = this.getName(),\n            format    = Ext.String.format,\n            topLevelName;\n\n        if (name instanceof Ext.app.Controller) {\n            return name;\n        }\n\n        if (instances[name]) {\n            return instances[name];\n        } else {\n            topLevelName = format(\"{0}.controller.{1}\", appName, name);\n            profileName  = format(\"{0}.controller.{1}.{2}\", appName, profileName, name);\n\n            return instances[profileName] || instances[topLevelName];\n        }\n    },\n\n    /**\n     * @private\n     * Callback that is invoked when all of the configured Profiles have been loaded. Detects the current profile and\n     * gathers any additional dependencies from that profile, then loads all of those dependencies.\n     */\n    onProfilesLoaded: function() {\n        var profiles  = this.getProfiles(),\n            length    = profiles.length,\n            instances = [],\n            requires  = this.gatherDependencies(),\n            current, i, profileDeps;\n\n        for (i = 0; i < length; i++) {\n            instances[i] = Ext.create(profiles[i], {\n                application: this\n            });\n\n            /*\n             * Note that we actually require all of the dependencies for all Profiles - this is so that we can produce\n             * a single build file that will work on all defined Profiles. Although the other classes will be loaded,\n             * the correct Profile will still be identified and the other classes ignored. While this feels somewhat\n             * inefficient, the majority of the bulk of an application is likely to be the framework itself. The bigger\n             * the app though, the bigger the effect of this inefficiency so ideally we will create a way to create and\n             * load Profile-specific builds in a future release.\n             */\n            profileDeps = instances[i].getDependencies();\n            requires = requires.concat(profileDeps.all);\n\n            if (instances[i].isActive() && !current) {\n                current = instances[i];\n\n                this.setCurrentProfile(current);\n\n                this.setControllers(this.getControllers().concat(profileDeps.controller));\n                this.setModels(this.getModels().concat(profileDeps.model));\n                this.setViews(this.getViews().concat(profileDeps.view));\n                this.setStores(this.getStores().concat(profileDeps.store));\n            }\n        }\n\n        this.setProfileInstances(instances);\n        Ext.require(requires, this.loadControllerDependencies, this);\n    },\n\n    /**\n     * @private\n     * Controllers can also specify dependencies, so we grab them all here and require them\n     */\n    loadControllerDependencies: function() {\n        this.instantiateControllers();\n\n        var controllers = this.getControllerInstances(),\n            classes = [],\n            stores = [],\n            i, controller, controllerStores, name;\n\n        for (name in controllers) {\n            controller = controllers[name];\n            controllerStores = controller.getStores();\n            stores = stores.concat(controllerStores);\n\n            classes = classes.concat(controller.getModels().concat(controller.getViews()).concat(controllerStores));\n        }\n\n        this.setStores(this.getStores().concat(stores));\n\n        Ext.require(classes, this.onDependenciesLoaded, this);\n    },\n\n    /**\n     * @private\n     * Callback that is invoked when all of the Application, Controller and Profile dependencies have been loaded.\n     * Launches the controllers, then the profile and application\n     */\n    onDependenciesLoaded: function() {\n        var me = this,\n            profile = this.getCurrentProfile(),\n            launcher = this.getLaunch(),\n            controllers, name;\n\n        this.instantiateStores();\n\n        Ext.app.Application.appInstance = this;\n\n        if (Ext.Router) {\n            Ext.Router.setAppInstance(this);\n        }\n\n        controllers = this.getControllerInstances();\n\n        for (name in controllers) {\n            controllers[name].init(this);\n        }\n\n        if (profile) {\n            profile.launch();\n        }\n\n        launcher.call(me);\n\n        for (name in controllers) {\n            if (controllers[name] && !(controllers[name] instanceof Ext.app.Controller)) {\n                Ext.Logger.warn(\"The controller '\" + name + \"' doesn't have a launch method. Are you sure it extends from Ext.app.Controller?\");\n            } else {\n                controllers[name].launch(this);\n            }\n        }\n\n        me.redirectTo(window.location.hash.substr(1));\n    },\n\n    /**\n     * @private\n     * Gathers up all of the previously computed MVCS dependencies into a single array that we can pass to Ext.require\n     */\n    gatherDependencies: function() {\n        var classes = this.getModels().concat(this.getViews()).concat(this.getControllers());\n\n        Ext.each(this.getStores(), function(storeName) {\n            if (Ext.isString(storeName)) {\n                classes.push(storeName);\n            }\n        }, this);\n\n        return classes;\n    },\n\n    /**\n     * @private\n     * Should be called after dependencies are loaded, instantiates all of the Stores specified in the {@link #stores}\n     * config. For each item in the stores array we make sure the Store is instantiated. When strings are specified,\n     * the corresponding app/store/StoreName.js was loaded so we now instantiate a MyApp.store.StoreName, giving it the\n     * id StoreName.\n     */\n    instantiateStores: function() {\n        var stores  = this.getStores(),\n            length  = stores.length,\n            store, storeClass, storeName, splits, i;\n\n        for (i = 0; i < length; i++) {\n            store = stores[i];\n\n            if (Ext.data && Ext.data.Store && !(store instanceof Ext.data.Store)) {\n                if (Ext.isString(store)) {\n                    storeName = store;\n                    storeClass = Ext.ClassManager.classes[store];\n\n                    store = {\n                        xclass: store\n                    };\n\n                    //we don't want to wipe out a configured storeId in the app's Store subclass so need\n                    //to check for this first\n                    if (storeClass.prototype.defaultConfig.storeId === undefined) {\n                        splits = storeName.split('.');\n                        store.id = splits[splits.length - 1];\n                    }\n                }\n\n                stores[i] = Ext.factory(store, Ext.data.Store);\n            }\n        }\n\n        this.setStores(stores);\n    },\n\n    /**\n     * @private\n     * Called once all of our controllers have been loaded\n     */\n    instantiateControllers: function() {\n        var controllerNames = this.getControllers(),\n            instances = {},\n            length = controllerNames.length,\n            name, i;\n\n        for (i = 0; i < length; i++) {\n            name = controllerNames[i];\n\n            instances[name] = Ext.create(name, {\n                application: this\n            });\n        }\n\n        return this.setControllerInstances(instances);\n    },\n\n    /**\n     * @private\n     * As a convenience developers can locally qualify controller names (e.g. 'MyController' vs\n     * 'MyApp.controller.MyController'). This just makes sure everything ends up fully qualified\n     */\n    applyControllers: function(controllers) {\n        return this.getFullyQualified(controllers, 'controller');\n    },\n\n    /**\n     * @private\n     * As a convenience developers can locally qualify profile names (e.g. 'MyProfile' vs\n     * 'MyApp.profile.MyProfile'). This just makes sure everything ends up fully qualified\n     */\n    applyProfiles: function(profiles) {\n        return this.getFullyQualified(profiles, 'profile');\n    },\n\n    /**\n     * @private\n     * Checks that the name configuration has any whitespace, and trims them if found.\n     */\n    applyName: function(name) {\n        var oldName;\n        if (name && name.match(/ /g)) {\n            oldName = name;\n            name = name.replace(/ /g, \"\");\n\n            Ext.Logger.warn('Attempting to create an application with a name which contains whitespace (\"' + oldName + '\"). Renamed to \"' + name + '\".');\n        }\n\n        return name;\n    },\n\n    /**\n     * @private\n     * Makes sure the app namespace exists, sets the `app` property of the namespace to this application and sets its\n     * loading path (checks to make sure the path hadn't already been set via Ext.Loader.setPath)\n     */\n    updateName: function(newName) {\n        Ext.ClassManager.setNamespace(newName + '.app', this);\n\n        if (!Ext.Loader.config.paths[newName]) {\n            Ext.Loader.setPath(newName, this.getAppFolder());\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyRouter: function(config) {\n        return Ext.factory(config, Ext.app.Router, this.getRouter());\n    },\n\n    /**\n     * @private\n     */\n    applyHistory: function(config) {\n        var history = Ext.factory(config, Ext.app.History, this.getHistory());\n\n        history.on('change', this.onHistoryChange, this);\n\n        return history;\n    },\n\n    /**\n     * @private\n     */\n    onHistoryChange: function(url) {\n        this.dispatch(this.getRouter().recognize(url), false);\n    }\n}, function() {\n    Ext.regApplication = function(config) {\n        Ext.Logger.deprecate(\n            '[Ext.app.Application] Ext.regApplication() is deprecated, please replace it with Ext.application()'\n        );\n\n        var appName = config.name,\n            format  = Ext.String.format;\n\n        Ext.ns(\n            appName,\n            format(\"{0}.controllers\", appName),\n            format(\"{0}.models\", appName),\n            format(\"{0}.views\", appName)\n        );\n\n        Ext.application(config);\n    };\n\n    Ext.define('Ext.data.ProxyMgr', {\n        singleton: true,\n\n        registerType: function(name, cls) {\n            Ext.Logger.deprecate(\n                'Ext.data.ProxyMgr no longer exists - instead of calling Ext.data.ProxyMgr.registerType just update ' +\n                'your custom Proxy class to set alias: \"proxy.' + name + '\"'\n            );\n\n            Ext.ClassManager.setAlias(cls, \"proxy.\" + name);\n        }\n    });\n\n    Ext.reg = function(alias, cls) {\n        Ext.Logger.deprecate(\n            'Ext.reg is deprecated, please set xtype: \"' + alias + '\" directly in your subclass instead'\n        );\n\n        Ext.ClassManager.setAlias(cls, alias);\n    };\n\n    Ext.redirect = function() {\n        var app = Ext.app.Application.appInstance;\n\n        Ext.Logger.deprecate('[Ext.app.Application] Ext.redirect is deprecated, please use YourApp.redirectTo instead');\n\n        if (app) {\n            app.redirectTo.apply(app, arguments);\n        }\n    };\n\n    Ext.dispatch = function() {\n        var app = Ext.app.Application.appInstance;\n\n        Ext.Logger.deprecate('[Ext.app.Application] Ext.dispatch is deprecated, please use YourApp.dispatch instead');\n\n        if (app) {\n            app.dispatch.apply(app, arguments);\n        }\n    };\n\n});\n\nExt.define('B2B.view.User', {\n	extend: 'Ext.Container',\n	xtype: 'userprofile',\n	id: \"userprofile\",\n	config: {\n		title: i18n.app.PANEL_ABOUTME,\n		iconCls: 'user',\n		scrollable: false,\n		layout: 'card'\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var privacyButton = {\n			text: i18n.app.BTN_PRIVACY,\n			ui: 'action',\n			id: 'privacy_profile_btn',\n			handler: this.onPrivacyProfileButtonTap,\n			scope: this\n		},\n		settingsButton = {\n			text: i18n.app.BTN_SETTINGS,\n			ui: 'action',\n			id: 'settings_profile_btn',\n			handler: this.onSettingsProfileButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			cls: \"sub_titlebar\",\n			docked: 'top',\n			id: 'AboutTitlebar',\n			ui: 'neutral',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				privacyButton,\n				{ xtype: 'spacer' },\n				settingsButton\n			]\n		},\n		profileButton = {\n			id: 'profile_btn',\n			xtype: 'button',\n			ui: 'action',\n			icon: 'image.png',\n			margin: '10 0 10 0',\n			text: i18n.app.BTN_PROFILE,\n			badgeText: i18n.app.BTN_PROFILE,\n			flex: 1,\n			html: [\n				'<img class=\"avatar_medium\" height=\"48\" width=\"48\" src=\"'+HH.default_user48+'\" />',\n				'<div class=\"profile_right\"><p id=\"profile_username\"></p></div>'\n			].join(\"\"),\n			handler: this.onProfileButtonTap,\n			scope: this\n		},\n		badgesButton = {\n			id: 'badges_btn',\n			xtype: 'button',\n			ui: 'action',\n			text: i18n.app.BTN_BADGES,\n			flex: 1,\n			handler: this.onBadgesButtonTap,\n			scope: this\n		},\n		drinkListButton = {\n			id: 'drinklist_btn',\n			xtype: 'button',\n			ui: 'action',\n			text: i18n.app.BTN_DRINKLIST,\n			flex: 1,\n			handler: this.onDrinkListButtonTap,\n			scope: this\n		},\n		myActivityButton = {\n			xtype: 'button',\n			id: 'myactivity_btn',\n			ui: 'action',\n			text: i18n.app.BTN_MYACTIVITY,\n			flex: 1,\n			handler: this.onMyActivityButtonTap,\n			scope: this\n		},\n		favoritesButton = {\n			id: 'favorites_btn',\n			xtype: 'button',\n			ui: 'action',\n			text: i18n.app.BTN_FAVORITES,\n			flex: 1,\n			handler: this.onFavoritesButtonTap,\n			scope: this\n		},\n		middleButtonsContainer = {\n			xtype: 'panel',\n			flex: 1,\n			padding: '0 0 10 0',\n			layout: {\n				type: 'hbox'\n			},\n			items: [\n				badgesButton,\n				favoritesButton\n			]\n		},\n		bottomButtonsContainer = {\n			xtype: 'panel',\n			flex: 1,\n			padding: '0 0 30 0',\n			layout: {\n				type: 'hbox'\n			},\n			items: [\n				drinkListButton,\n				myActivityButton\n			]\n		},\n		item0 = {\n			xtype: 'panel',\n			flex: 1,\n			layout: {\n				type: 'vbox'\n			},\n			items: [\n				toolbar, profileButton, middleButtonsContainer, bottomButtonsContainer\n			]\n		},\n		item1 = {\n			xtype: 'userpreferencesform'\n		},\n		item2 = {\n			xtype: 'userprofileprivacyform'\n		};\n\n		this.add([item0, item1, item2]);\n		this.setActiveItem(0);\n	},\n	onEditProfileButtonTap: function() {\n		this.fireEvent(\"editProfileCommand\", this);\n	},\n	onPrivacyProfileButtonTap: function() {\n		this.fireEvent(\"privacyProfileCommand\", this);\n	},\n	onSettingsProfileButtonTap: function() {\n		this.fireEvent(\"settingsProfileCommand\", this);\n	},\n	onProfileButtonTap: function() {\n		this.fireEvent(\"editProfileCommand\", this);\n	},\n	onBadgesButtonTap: function() {\n		this.fireEvent(\"badgesProfileCommand\", this);\n	},\n	onDrinkListButtonTap: function() {\n		Ext.Msg.alert(\"To Be Implemented\");\n	},\n	onMyActivityButtonTap: function() {\n		Ext.Msg.alert(\"To Be Implemented\");\n	},\n	onFavoritesButtonTap: function() {\n		this.fireEvent(\"favoritesProfileCommand\", this);\n	},\n	refreshProfileData: function() {\n		this.fireEvent(\"reloadProfileCommand\", this);\n	}\n});\nExt.define('B2B.view.Component_NotificationBar', {\n	extend: 'Ext.Container',\n	xtype: 'notificationbar',\n	config: {\n		cls: 'notificationbar',\n        docked: 'top',\n        height: 30,\n        html : ['test'\n        ].join('')\n	}\n});\nExt.define('B2B.view.Camera_Container', {\n	extend: 'Ext.Container',\n	xtype: 'cameracontainerpanel',\n	config: {\n		title : i18n.app.LABEL_CAMERA,\n		iconCls : 'photo1',\n		styleHtmlContent: true,\n		scrollable: true,\n		layout: 'vbox'\n	},\n	initialize: function (a, b) {\n		this.callParent(arguments);\n\n		var components = [\n			{\n				xtype: \"image\",\n				id: 'PhotoView',\n				src: '',\n				flex: 1\n			},\n			{\n				xtype: \"button\",\n				text: i18n.app.BTN_PHOTO,\n				ui: 'action',\n				id: 'takephoto_btn',\n				handler: this.onTakePhotoButtonTap,\n				scope: this,\n				height: 50\n			}\n		];\n\n		this.add(components);\n	},\n	onTakePhotoButtonTap: function(){\n		this.fireEvent(\"takePhotoCommand\", this, Ext.getCmp(\"PhotoView\"));\n	}\n});\nExt.define(\"B2B.controller._App\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			app: \"_app\",\n		},\n		control: {\n			app: {\n				initialize: \"onInitialize\"\n			}\n		}\n	},\n	onInitialize: function(){\n\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\nExt.define(\"B2B.controller._Login\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			login: \"#BTN_login\",\n			app: \"_app\"\n		},\n		control: {\n			login:{\n				loginCommand: \"onLoginCommand\"\n			}\n		}\n	},\n	onLoginCommand: function(){\n\n		/*\n			Check Auth via AJAX\n\n		*/\n	  	\n		var username = Ext.getCmp('loginform_username').getValue();\n		var password = Ext.getCmp('loginform_password').getValue();\n		//TODO: Validation\n		HH.log(\"XXX TODO: _Login Validation\", true);\n\n		Ext.Ajax.request({\n        //url: \"http://192.168.1.161:8080/birrettaservice/rest/bserv/login\",\n        url: \"http://localhost:8081/birrettaservice/rest/bserv/login\",\n        method: \"POST\",\n        defaultHeaders: {\n              	'Content-Type': 'application/json; charset=iso-8859-1'\n            },\n        params: {\n           username: username, \n           password: password\n        },\n        timeout: 10000,\n\n        //success: function(result) {\n        failure: function(result) {\n            HH.log(\"---> Step: AUTH Success\");\n        	goingTo.step2(\"Loading Store.Profile_Ajax\");\n        	HH.log(\"---> Step: Clear app, loading _App\");\n        	Ext.Viewport.removeAll(true, true);\n        	Ext.Viewport.add(Ext.create('B2B.view._App'));\n        },\n\n        failure_: function(){\n            alert(\"Could not connect to server.\");\n        }   \n    });\n\n\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\nExt.define(\"B2B.controller.Friends\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			friendListContainer: \"friendlistcontainerpanel\",\n			friendDetail: \"frienddetailpanel\",\n			friendFinder: \"friendfinderpanel\",\n			app: \"_app\"\n		},\n		control: {\n			friendListContainer: {\n				searchFriendCommand: \"onSearchFriend\",\n				viewFriendDetailCommand: \"onViewFriendDetail\"\n			},\n			friendDetail: {\n				removeFriendDetailCommand: \"onRemoveFriend\",\n				backFriendDetailCommand: \"onBackFriendDetail\"\n			},\n			friendFinder: {\n				backFriendFinderCommand: \"onBackFriendDetail\"\n			},\n			friendlistcomponent: {\n				itemtap: \"onViewFriendDetail\"\n			}\n		}\n	},\n	onSearchFriend: function(){\n		this.getApp().push({\n			xtype: \"friendfinderpanel\"\n		});\n	},\n	onRemoveFriend: function(){\n		//Ext.Msg.alert('Event DeleteFriend Received');\n		var removeIt = function(){\n			this.getApp().pop();\n		};\n\n		confirm(i18n.app.DIALOG_YOUSURE, removeIt);\n	},\n	onViewFriendDetail: function(a, b, c, record){\n		/* Deselection of the list */\n		setTimeout(function(){a.deselect(b);},500);\n		\n		var ajax_store = Ext.getStore('Friends_Local');\n		var jsonData = ajax_store.getAt(ajax_store.findExact(\"id\", record.data.id));\n		this.getApp().push({\n			xtype: \"frienddetailpanel\",\n			jsonData: jsonData\n		});\n\n	},\n	onBackFriendDetail: function(){\n		this.getApp().pop();\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Activities\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			activitylist: \"activitylist\",\n			activity: \"activity\",\n			activityDetail: \"activitylistdetail\",\n			app: \"_app\"\n		},\n		control: {\n			activity: {\n				viewActivityDetailCommand: \"onViewActivityDetail\"\n			},\n			activityDetail: {\n				backActivityDetailCommand: \"onBackActivityDetail\"\n			},\n			activitylist: {\n				itemtap: \"onViewActivityDetail\"\n			}\n		}\n	},\n	onViewActivityDetail: function(a, b, c, record){\n		setTimeout(function(){a.deselect(b);},500);\n		var jsonData = record.data;\n		this.getApp().push({\n			xtype: \"activitylistdetail\",\n			jsonData: jsonData\n		});\n	},\n	onBackActivityDetail: function() {\n		this.getApp().pop();\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Profiles\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			profile: \"userprofile\",\n			profileForm: \"userform\",\n			app: \"_app\"\n		},\n		control: {\n			profile: {\n				editProfileCommand: \"onShowProfileForm\",\n				reloadProfileCommand: \"onReloadProfile\",\n				settingsProfileCommand: \"onShowSettings\",\n				privacyProfileCommand: \"onShowPrivacy\"\n			},\n			profileForm: {\n				saveProfileCommand: \"onSaveProfile\",\n				backProfileCommand: \"onBackProfile\"\n			}\n		}\n	},\n	onShowProfileForm: function(){\n		this.getApp().push({\n			xtype: \"userform\"\n		});\n\n		var profileForm = this.getProfileForm();\n		profileForm.reset();\n		profileForm.setRecord(Ext.getStore('Profile_Local').first());\n		/*var activatedOnField = Ext.getCmp('activatedOnField');\n		var lastLoginOnField = Ext.getCmp('lastLoginOnField');\n		activatedOnField.setValue(moment(activatedOnField.getValue()).format('dddd, do MMMM YYYY'));\n		lastLoginOnField.setValue(moment(lastLoginOnField.getValue()).format('dddd, do MMMM YYYY'));*/\n	},\n\n	onSaveProfile: function() {\n		Ext.Msg.alert(\"Saved!\");\n		this.getApp().pop();\n	},\n	onBackProfile: function() {\n		this.getApp().pop();\n	},\n	onShowPrivacy: function() {\n		var aboutPanel = Ext.getCmp(\"userprofile\");\n		aboutPanel.animateActiveItem(2, {\n			type:'slide',\n			direction:'up'\n		});\n	},\n	onShowSettings: function(a){\n		var aboutPanel = Ext.getCmp(\"userprofile\");\n		aboutPanel.animateActiveItem(1, {\n			type:'slide',\n			direction:'up'\n		});\n		// var a = Ext.getCmp(\"userprofile\");\n		// if (!a.actions){\n		// 	a.actions = Ext.Viewport.add({\n		// 		xtype: 'actionsheet',\n		// 		zIndex: 900,\n		// 		items: [\n		// 			{\n		// 				text: i18n.app.PANEL_PREFERENCES,\n		// 				scope: this,\n		// 				ui: 'decline',\n		// 				handler: function(){\n		// 					a.actions.hide();\n		// 					// this.getApp().push({\n		// 					// 	xtype: \"userpreferencesform\"\n		// 					// });\n		// 					a.animateActiveItem(1, {\n		// 						type:'slide',\n		// 						direction:'up'\n		// 					});\n		// 				}\n		// 			},\n		// 			{\n		// 				text: i18n.app.PANEL_PRIVACY,\n		// 				scope: this,\n		// 				handler: function(){\n		// 					a.actions.hide();\n		// 					this.getApp().push({\n		// 						xtype: \"userprofileprivacyform\"\n		// 					});\n		// 				}\n		// 			},\n		// 			{\n		// 				text: i18n.app.BTN_CANCEL,\n		// 				scope: this,\n		// 				handler: function(){\n		// 					a.actions.hide();\n		// 				}\n		// 			}\n		// 		]\n		// 	});\n		// }\n		// a.actions.show();\n	},\n	launch: function(){\n		this.callParent(arguments);\n		/*var storeProfile = Ext.getStore(\"Profile_Ajax\");\n		storeProfile.remove(storeProfile.getRange());\n		storeProfile.load();*/\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n/*\nuserpreferencesform\nuserprofileprivacyform\n*/\nExt.define(\"B2B.controller.Beers\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			beerSearchComponent: \"beersearch\",\n			beerSelectContainer: \"beerlistselectcontainerpanel\",\n			beerSelectSearchComponent: \"beerlistselectsearchcomponent\",\n			beerList: \"beer\",\n			beerForm: \"beeraddform\",\n			beerDetail: \"beerdetailpanel\",\n			beerlist: \"beerlist\",\n			beerlistselectcomponent: \"beerlistselect\",\n			beerlistselectcomponent: \"beerlistselectcomponent\",\n			spinner: 'tbarspinner',\n			app: \"_app\"\n		},\n		control:{\n			beerSearchComponent: {\n				beerAddCommand:	\"onShowBeerForm\"\n			},\n			beerSelectSearchComponent: {\n				beerAddCommand:	\"onShowBeerForm\"\n			},\n			beerForm: {\n				beerSaveCommand: \"onSaveBeer\",\n				beerBackCommand: \"onBackBeer\"\n			},\n			beerDetail: {\n				reportBeerCommand: \"onReportBeer\",\n				beerEditCommand: \"onEditBeer\",\n				backBeerDetailCommand: \"onBackBeerDetail\",\n				addFavoriteBeerCommand: \"onAddFavoriteBeer\"\n			},\n			beerList: {\n				viewBeerDetailCommand: \"onViewBeerDetail\"\n			},\n			beerlist: {\n				itemtap: \"onViewBeerDetail\"\n			},\n			beerlistselectcomponent: {\n				itemtap: \"onSelectBeer\"\n			},\n			beerSelectContainer:{\n				backBeerSelectCommand: \"onBackBeerSelect\"\n			}\n		}\n	},\n	onShowBeerForm: function(){\n\n		var newBeer = Ext.create(\"B2B.model.Beer\", {\n		//	'idUser': B2B.app.loggedUser.idUser,\n		//	'username': B2B.app.loggedUser.username,\n		});\n\n		this.getApp().push({\n			xtype: \"beeraddform\"\n		});\n		var beerForm = this.getBeerForm();\n		beerForm.setRecord(newBeer);\n	},\n	onSaveBeer: function(){\n		var spinner = this.getSpinner();\n		if(spinner.isHidden()) spinner.show();\n		var beerForm = this.getBeerForm();\n\n		beerForm.submit({\n			url: 'http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer',\n			method: 'POST',\n			success: function() {\n				alert('form submitted successfully!');\n				if(!spinner.isHidden()) spinner.hide();\n				this.getBeerForm().reset();\n				this.getApp().pop();\n			},\n			failure: function(form, action) {\n				alert(\"PUPPA\");\n				if(!spinner.isHidden()) spinner.hide();\n			}\n		});\n\n		Ext.util.JSONP.request({\n	  params: beerForm.getValues,\n	  url: 'http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer',\n	  callbackKey: 'callback',\n	  scope: 'this',\n	  method: 'POST',\n	  success: function(response) {\n		console.log(response.responseText);\n		if(!spinner.isHidden()) spinner.hide();\n	  },\n\n	  failure: function(response) {\n		console.log(response.responseText);\n		if(!spinner.isHidden()) spinner.hide();\n	  }\n});\n\n\n	},\n	onBackBeer: function(){\n		this.getBeerForm().reset();\n		this.getApp().pop();\n	},\n	onBackBeerSelect: function(){\n		this.getApp().pop();\n	},\n	onViewBeerDetail: function(a, b, c, record){\n		/* List Selection Deactivation */\n		setTimeout(function(){a.deselect(b);},500);\n		/* Since we used a subset list for list binding, on Beer Details we have to get\n			the original value, we cannot use the index, which change upon filtering */\n		var ajax_store = Ext.getStore('Beers_Ajax');\n		//var jsonData = ajax_store.getAt(ajax_store.findExact(\"name\", record.data.name));\n		this.getApp().push({\n			xtype: \"beerdetailpanel\",\n			//jsonData: jsonData\n			jsonData: record\n		});\n\n	},\n	onBackBeerDetail: function(){\n		this.getApp().pop();\n	},\n	onAddFavoriteBeer: function(a, beer){\n		var newFavorite = Ext.create(\"B2B.model.FavoriteBeer\", {\n			'idBeer': beer.idBeer,\n			'beerName': beer.name\n		});\n		var store = Ext.getStore('FavoriteBeers_Local');\n		store.add(newFavorite);\n		//store.sync()\n		HH.log(\"-- Added Beer \" + beer.name+\" to store (now \"+store.getCount()+\" items)\");\n	},\n	onSelectBeer: function(){\n\n	},\n	/* Not Yet Implemented */\n	onEditBeer: function(){\n		Ext.Msg.alert('TODO: Event EditBeer Received, Next release');\n	},\n	onDeleteBeer: function(){\n		Ext.Msg.alert('TODO: DeleteBeer Not Implemented');\n	},\n	onReportBeer: function(a){\n		if (!a.actions){\n			a.actions = Ext.Viewport.add({\n				xtype: 'actionsheet',\n				items: [\n					{\n						text: i18n.app.BTN_BEERREPORTXL,\n						scope: this,\n						ui: 'decline',\n						handler: function(){\n							alert(i18n.app.DIALOG_BEERREPORTED)\n							a.actions.hide();\n						}\n					},\n					{\n						text: i18n.app.BTN_BEERSUGGESTEDIT,\n						scope: this,\n						handler: function(){\n							HH.log(a.jsonData);\n							a.actions.hide();\n							var newBeer = Ext.create(\"B2B.model.Beer\", {\n							//	'idUser': B2B.app.loggedUser.idUser,\n							//	'username': B2B.app.loggedUser.username,\n							});\n\n							this.getApp().push({\n								xtype: \"beeraddform\"\n							});\n							var beerForm = this.getBeerForm();\n							beerForm.setRecord(newBeer);\n						}\n					},\n					{\n						text: i18n.app.BTN_CANCEL,\n						scope: this,\n						handler: function(){\n							a.actions.hide();\n						}\n					}\n				]\n			});\n		}\n		a.actions.show();\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Drinks\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			checkInPanel: \"drinkaroundmepanel\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			checkInPanel: {\n				checkInDetailCommand: \"onCheckInDetail\",\n				refreshAroundCommand: \"onCheckInRefreshAround\",\n				backCheckCommand: \"onCheckBack\"\n			},\n			appContainer:{\n				gotoCheckInCommand: \"onGotoCheckIn\",\n			}\n		}\n	},\n	onGotoCheckIn: function(){\n		this.getApp().push({\n			xtype: \"drinkaroundmepanel\"\n		});\n	},\n	onCheckIn: function(){\n		Ext.Msg.alert(\"Check In!\");\n		this.getApp().pop();\n	},\n	onCheckBack: function(){\n		this.getApp().pop();\n	},\n	onCheckInRefreshAround: function(){\n		Ext.Msg.alert(\"To Be Implemented\");\n	},\n	onShow: function(){\n		console.log(\"TODO: Refresh on Show\");\n\n		/* function(list, opts){\n        this.getStore().load();*/\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Notifications\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			notificationContainer: \"notificationlistcontainerpanel\",\n			notificationList: \"notificationlistcomponent\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			appContainer: {\n				notificationShowCommand: \"onNotificationShow\"\n			},\n			notificationContainer:{\n				notificationReadAllCommand: \"onNotificationReadAll\",\n				notificationBackCommand: \"onNotificationBack\"\n			},\n			notificationList: {\n				itemtap: \"onNotificationRead\"\n			}\n		}\n	},\n	onNotificationShow: function(){\n		this.getApp().push({\n			xtype: \"notificationlistcontainerpanel\"\n		});\n	},\n	onNotificationRead: function(a, b, c, record){\n		/* deselection of the list */\n		setTimeout(function(){a.deselect(b);},500);\n	\n		console.error(\"TODO: Notification Read\");\n	},\n	onNotificationReadAll: function(){\n		/* TODO SET all notification read */\n		console.error(\"TODO: Notification Read All\");\n	},\n	onNotificationBack: function(){\n		this.getApp().pop();\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Preferences\", {\n	extend: \"Ext.app.Controller\",\n	id: \"Preferences\",\n	config: {\n		refs: {\n			privacyForm: \"userprofileprivacyform\",\n			preferencesForm: \"userpreferencesform\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			preferencesForm: {\n				showPreferencesCommand: \"onShowPreferencesForm\",\n				savePreferencesCommand: \"onSavePreferences\",\n				cancelCommand: \"onCancel\",\n				toggleTwitterCommand: \"onChangeTwitter\",\n				toggleFacebookCommand: \"onChangeFacebook\"\n			},\n			privacyForm: {\n				cancelCommand: \"onCancel\"\n			}\n		}\n	},\n	onInitialize: function(){\n		/* Got from the profile our option to SHARE on FACEBOOK / TWITTER */\n		this.onChangeTwitter(null, Ext.getStore(\"Profile\").first().data.shareTwitter);\n		this.onChangeFacebook(null, Ext.getStore(\"Profile\").first().data.shareFacebook);\n	},\n	onShowPreferencesForm: function(){\n		var preferencesForm = this.getPreferencesForm();\n		preferencesForm.reset();\n		preferencesForm.setRecord(Ext.getStore('Profile_Ajax').first());\n	},\n	onChangeTwitter: function(a, what){\n		/* on Checkbox change we show a credentials */\n		if(what){\n			var credentialsTwitter = {\n				xtype: 'fieldset',\n				id: \"fieldset_twitter\",\n				title: i18n.app.PANEL_TWITTER,\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'username_twitter',\n						label: i18n.app.FORM_USERNAME\n					},\n					{\n						xtype: 'passwordfield',\n						name: 'password_twitter',\n						label: i18n.app.FORM_PASSWORD\n					}\n				]\n		    };\n        	Ext.getCmp(\"userpreferencesform\").add( credentialsTwitter );\n        }else{\n        	Ext.getCmp(\"userpreferencesform\").remove( Ext.getCmp('fieldset_twitter'), true );\n        }\n	},\n	onChangeFacebook: function(a, what){\n		/* on Checkbox change we show a credentials */\n		if(what){\n			var credentialsFacebook = {\n				xtype: 'fieldset',\n				id: \"fieldset_facebook\",\n				title: i18n.app.PANEL_FACEBOOK,\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'username_password',\n						label: i18n.app.FORM_USERNAME\n					},\n					{\n						xtype: 'passwordfield',\n						name: 'password_password',\n						label: i18n.app.FORM_PASSWORD\n					}\n				]\n			};\n        	Ext.getCmp(\"userpreferencesform\").add( credentialsFacebook );\n        }else{\n        	Ext.getCmp(\"userpreferencesform\").remove( Ext.getCmp('fieldset_facebook'), true );\n        }\n	},\n	onSavePreferences: function(){\n		this.closePanel();\n	},\n	onCancel: function() {\n		this.closePanel();\n	},\n	closePanel: function() {\n		// this.getApp().pop();\n		var maninPanel = Ext.getCmp(\"userprofile\");\n		maninPanel.animateActiveItem(0, {\n			type:'slide',\n			direction:'down'\n		});\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n\nExt.define(\"B2B.controller.Privacy\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			userprofileprivacyform: \"#BTN_removeData\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			userprofileprivacyform: {\n				privacyRemoveDataCommand: \"onRemoveDataCommand\",\n				privacyLogoutCommand: \"onLogOutCommand\"\n			}\n		}\n	},\n	onRemoveDataCommand: function(){\n		var confirmation = window.confirm(utils.__(i18n.app.DIALOG_YOUSUREREMOVEDATA));\n		if(confirmation){\n			Ext.getStore(\"Activities_Ajax\").removeAll();\n			Ext.getStore(\"Activities_Local\").removeAll();\n			Ext.getStore(\"Beers_Ajax\").removeAll();\n			//Ext.getStore(\"Beers_Single_Ajax\").removeAll();\n			Ext.getStore(\"Friends_Ajax\").removeAll();\n			Ext.getStore(\"Friends_Local\").removeAll();\n			Ext.getStore(\"Notifications_Ajax\").removeAll();\n			Ext.getStore(\"Notifications_Local\").removeAll();\n			Ext.getStore(\"Places_Ajax\").removeAll();\n			Ext.getStore(\"Drinks_Ajax\").removeAll();\n			Ext.getStore(\"Drinks_Local\").removeAll();\n			Ext.getStore(\"Profile_Ajax\").removeAll();\n			Ext.getStore(\"Profile_Local\").removeAll();\n			window.location.reload();\n		};\n	},\n	onLogOutCommand: function(){\n		var LogOut = function(){\n			Ext.Msg.alert(\"LogOut Mock\");\n		};\n		Ext.Msg.confirm(i18n.app.PANEL_LOGOUT, utils.__(i18n.app.DIALOG_YOUSURELOGUT), LogOut);\n		Ext.getStore(\"Profile_Ajax\").removeAll();\n		Ext.getStore(\"Profile_Local\").removeAll();\n		window.location.reload();\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n\nExt.define(\"B2B.controller.Places\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			mapContainer: \"drinkaroundmepanel\",\n			placeDetail: \"placedetailpanel\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			mapContainer: {\n				reloadCommand: \"onReloadCommand\"\n			},\n			placeDetail: {\n				backPlaceDetailCommand: \"onBackPlace\",\n				selectBeerDrinkCommand: \"onSelectBeerDrink\",\n				onDrinkInCommand: \"onDrinkIn\"\n			},\n			placelistcomponent: {\n				itemtap: \"onViewPlaceDetail\"\n			}\n		}\n	},\n	onReloadCommand: function(){\n		/* TODO: HOW THE HELL WE REFRESH THE REVIEW? */\n		HH.log(\"TODO: Map Reload Mock\");\n	},\n	onBackPlace: function(){\n		this.getApp().pop();\n	},\n	onViewPlaceDetail: function(a, b, c, record){\n		setTimeout(function(){a.deselect(b);},500);\n		var jsonData = record.data;\n		this.getApp().push({\n			xtype: \"placedetailpanel\",\n			jsonData: jsonData\n		});\n	},\n	onSelectBeerDrink: function(){\n		this.getApp().push({\n			xtype: \"beerlistselectcontainerpanel\",\n		});\n	},\n	onDrinkIn: function(){\n		this.getApp().pop();\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n\nExt.define(\"B2B.controller.Feedbacks\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			app: \"_app\",\n		},\n		control: {\n			app: {\n				\n			}\n		}\n	},\n	onCommentSubmit: function(){\n\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\nExt.define(\"B2B.controller.Camera\", {\n	extend : \"Ext.app.Controller\",\n	xtype : \"camera\",\n	config : {\n		refs : {\n			app: \"_app\",\n			userform: \"userform\",\n			cameracontainerpanel : \"cameracontainerpanel\",\n			camerapicker : \"camerapicker\"\n		},\n		control : {\n			cameracontainerpanel : {\n				takePhotoCommand : \"takePhoto\"\n			},\n			camerapicker : {\n				openCameraCommand : \"openCamera\",\n				openLibraryCommand : \"openLibrary\"\n			},\n			userform: {\n				chooseProfilePictureCommand: \"onChooseProfilePictureCommand\"\n			}\n\n		}\n	},\n	onChooseProfilePictureCommand: function(source, imageView){\n		this.takePhoto(source, imageView);\n	},\n	takePhoto : function(source, imageView) {\n		this.imageView = imageView;\n\n		if (this.isDevice) {\n			if (this.isCameraAvailable) {\n				this.getApp().push({\n					xtype: \"camerapicker\"\n				});\n			} else {\n				this.openLibrary();\n			}\n		} else {\n			Ext.Msg.alert(i18n.app.COMMON_ATTENTION, i18n.app.LABEL_CAMERA_NOT_AVAILABLE);\n		}\n	},\n	openLibrary : function(){\n		this.captureFromCamera(false);\n	},\n	openCamera : function(){\n		this.captureFromCamera(true);\n	},\n	captureFromCamera : function(camera){\n		var imageView = this.imageView;\n		this.camera.capture({\n			success : function(image) {\n				if (imageView) {\n					imageView.setSrc(image);\n				}\n			},\n			failure : function(e) {\n				console.log('[Camera] Error capture: ' + e);\n			},\n			quality : 75,\n			destination : 'file',\n			source : (camera ? 'camera' : 'library')\n		});\n	},\n	launch : function() {\n		this.callParent(arguments);\n	},\n	init : function() {\n		this.callParent(arguments);\n\n		this.isDevice = (Ext.browser.is.WebView && (Ext.os.is('Android') || Ext.os.is('iOS')));\n		this.isCameraAvailable = true;\n\n		if (!this.camera) {\n			this.camera = Ext.device.Camera;\n		}\n/*\n		if (this.isDevice) {\n			this.camera.capture({\n				success : function(image) {\n					this.isCameraAvailable = true;\n				},\n				source : 'camera'\n			});\n		}\n*/	}\n});\nExt.define(\"B2B.controller.Badges\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			profile: \"userprofile\",\n			badgeListContainer: \"badgelistcontainerpanel\",\n			badgeList: \"badgelistcomponent\",\n			badgeDetail: \"badgedetailpanel\",\n			app: \"_app\"\n		},\n		control: {\n			profile: {\n				badgesProfileCommand: \"onShowBadgesList\"\n			},\n			badgeListContainer: {\n				backToProfileCommand: \"popCurrentView\"\n			},\n			badgeList: {\n				itemtap: \"onViewBadgeDetail\",\n				select: \"onSelectItem\"\n			},\n			badgeDetail: {\n				backBadgesCommand: \"popCurrentView\"\n			}\n		}\n	},\n	onShowBadgesList: function() {\n		this.getApp().push({\n			xtype: \"badgelistcontainerpanel\"\n		});\n	},\n	popCurrentView: function() {\n		this.getApp().pop();\n	},\n	onViewBadgeDetail: function(that, index, item, model, eventObject) {\n		setTimeout(function() {\n			that.deselect(index);\n		}, 500);\n\n		if (model.data.active) {\n			this.getApp().push({\n				xtype: \"badgedetailpanel\",\n				jsonData: model.data\n			});\n		}\n	},\n	onSelectItem: function(that, item, eventObject) {\n		return item.data.active;\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\nExt.define(\"B2B.controller.Favorites\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			app: \"_app\",\n			profilePanel: \"userprofile\",\n			favoritesPanel: \"favoritespanel\"\n		},\n		control: {\n			app: {\n				\n			},\n			profilePanel: {\n				favoritesProfileCommand: \"onFavoritesOpen\"\n			},\n			favoritesPanel: {\n				jumptoBeerCommand: \"onJumpToBeer\",\n				backFavoritesCommand: \"onFavoritesBack\"\n			},\n		}\n	},\n	onFavoritesOpen: function(){\n		this.getApp().push({\n			xtype: \"favoritespanel\"\n		});\n	},\n	onFavoritesBack: function(){\n		this.getApp().pop();\n	},\n	onJumpToBeer: function(){\n		this.getApp().pop();\n		var tabPanel = Ext.Viewport.down(\"appcontainer\");\n		tabPanel.setActiveItem(1);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n/**\n *\n * @class    Ext.jsv.ToolbarSpinner\n * @author   Ip Myung, Jin\n * @blog     http://blog.werconnected.info/\n * @twitter  https://twitter.com/#!/jsveron23\n * @facebook http://www.facebook.com/jsveron23\n * @email    jsveron23@gmail.com\n *\n */\n\nExt.define('Ext.ux.toolbarspinner.TSpinner', {\n    extend: 'Ext.Component',\n	xtype : 'tbarspinner',\n\n    config: {\n		style: 'font-size: 60%;',\n		align: 'right',\n		html : [\n			'<div class=\"x-loading-spinner\">',\n				'<span class=\"x-loading-top\"></span>',\n				'<span class=\"x-loading-right\"></span>',\n				'<span class=\"x-loading-bottom\"></span>',\n				'<span class=\"x-loading-left\"></span>',\n			'</div>'\n		].join('')\n    },\n\n	// showSpinner: function() {\n	// 	this.show();\n	// },\n	// \n	// hideSpinner: function() {\n	// 	this.hide();\n	// }\n});\n/**\n * This is a simple way to add an image of any size to your application and have it participate in the layout system\n * like any other component. This component typically takes between 1 and 3 configurations - a {@link #src}, and\n * optionally a {@link #height} and a {@link #width}:\n *\n *     @example miniphone\n *     var img = Ext.create('Ext.Img', {\n *         src: 'http://www.sencha.com/assets/images/sencha-avatar-64x64.png',\n *         height: 64,\n *         width: 64\n *     });\n *     Ext.Viewport.add(img);\n *\n * It's also easy to add an image into a panel or other container using its xtype:\n *\n *     @example miniphone\n *     Ext.create('Ext.Panel', {\n *         fullscreen: true,\n *         layout: 'hbox',\n *         items: [\n *             {\n *                 xtype: 'image',\n *                 src: 'http://www.sencha.com/assets/images/sencha-avatar-64x64.png',\n *                 flex: 1\n *             },\n *             {\n *                 xtype: 'panel',\n *                 flex: 2,\n *                 html: 'Sencha Inc.<br/>1700 Seaport Boulevard Suite 120, Redwood City, CA'\n *             }\n *         ]\n *     });\n *\n * Here we created a panel which contains an image (a profile picture in this case) and a text area to allow the user\n * to enter profile information about themselves. In this case we used an {@link Ext.layout.HBox hbox layout} and\n * flexed the image to take up one third of the width and the text area to take two thirds of the width. See the\n * {@link Ext.layout.HBox hbox docs} for more information on flexing items.\n */\nExt.define('Ext.Img', {\n    extend: 'Ext.Component',\n    xtype: ['image', 'img'],\n\n    /**\n     * @event tap\n     * Fires whenever the component is tapped\n     * @param {Ext.Img} this The Image instance\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event load\n     * Fires when the image is loaded\n     * @param {Ext.Img} this The Image instance\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event error\n     * Fires if an error occured when trying to load the image\n     * @param {Ext.Img} this The Image instance\n     * @param {Ext.EventObject} e The event object\n     */\n\n    config: {\n        /**\n         * @cfg {String} src The source of this image\n         * @accessor\n         */\n        src: null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'img',\n\n        mode: 'background'\n    },\n\n    beforeInitialize: function() {\n        var me = this;\n        me.onLoad = Ext.Function.bind(me.onLoad, me);\n        me.onError = Ext.Function.bind(me.onError, me);\n    },\n\n    initialize: function() {\n        var me = this;\n        me.callParent();\n\n        me.relayEvents(me.renderElement, '*');\n\n        me.element.on({\n            tap: 'onTap',\n            scope: me\n        });\n    },\n\n    hide: function() {\n        this.callParent();\n        this.hiddenSrc = this.hiddenSrc || this.getSrc();\n        this.setSrc(null);\n    },\n\n    show: function() {\n        this.callParent();\n        if (this.hiddenSrc) {\n            this.setSrc(this.hiddenSrc);\n            delete this.hiddenSrc;\n        }\n    },\n\n    updateMode: function(mode) {\n        if (mode === 'background') {\n            if (this.imageElement) {\n                this.imageElement.destroy();\n                delete this.imageElement;\n                this.updateSrc(this.getSrc());\n            }\n        }\n        else {\n            this.imageElement = this.element.createChild({ tag: 'img' });\n        }\n    },\n\n    onTap: function(e) {\n        this.fireEvent('tap', this, e);\n    },\n\n    onAfterRender: function() {\n        this.updateSrc(this.getSrc());\n    },\n\n    /**\n     * @private\n     */\n    updateSrc: function(newSrc) {\n        var me = this,\n            dom;\n\n        if (me.getMode() === 'background') {\n            dom = this.imageObject || new Image();\n        }\n        else {\n            dom = me.imageElement.dom;\n        }\n\n        this.imageObject = dom;\n\n        dom.setAttribute('src', Ext.isString(newSrc) ? newSrc : '');\n        dom.addEventListener('load', me.onLoad, false);\n        dom.addEventListener('error', me.onError, false);\n    },\n\n    detachListeners: function() {\n        var dom = this.imageObject;\n\n        if (dom) {\n            dom.removeEventListener('load', this.onLoad, false);\n            dom.removeEventListener('error', this.onError, false);\n        }\n    },\n\n    onLoad : function(e) {\n        this.detachListeners();\n\n        if (this.getMode() === 'background') {\n            this.element.dom.style.backgroundImage = 'url(\"' + this.imageObject.src + '\")';\n        }\n\n        this.fireEvent('load', this, e);\n    },\n\n    onError : function(e) {\n        this.detachListeners();\n        this.fireEvent('error', this, e);\n    },\n\n    doSetWidth: function(width) {\n        var sizingElement = (this.getMode() === 'background') ? this.element : this.imageElement;\n\n        sizingElement.setWidth(width);\n\n        this.callParent(arguments);\n    },\n\n    doSetHeight: function(height) {\n        var sizingElement = (this.getMode() === 'background') ? this.element : this.imageElement;\n\n        sizingElement.setHeight(height);\n\n        this.callParent(arguments);\n    },\n\n    destroy: function() {\n        this.detachListeners();\n\n        Ext.destroy(this.imageObject);\n        delete this.imageObject;\n\n        this.callParent();\n    }\n});\n\n/**\n * This plugin adds pull to refresh functionality to the List.\n *\n * ## Example\n *\n *     @example\n *     var store = Ext.create('Ext.data.Store', {\n *         fields: ['name', 'img', 'text'],\n *         data: [\n *             {\n *                 name: 'edpsencer',\n *                 img: 'http://a2.twimg.com/profile_images/1175591906/Ed-presenting-cropped_reasonably_small.jpg',\n *                 text: 'Read about Sencha Touch'\n *             },{\n *                 name: 'rdougan',\n *                 img: 'http://a0.twimg.com/profile_images/1261180556/171265_10150129602722922_727937921_7778997_8387690_o_reasonably_small.jpg',\n *                 text: 'Javascript development'\n *             },{\n *                 name: 'philogb',\n *                 img: 'https://si0.twimg.com/profile_images/1249073521/ng_normal.png',\n *                 text: '@ikarienator nice burritos!'\n *             }\n *         ]\n *     });\n *\n *     Ext.create('Ext.dataview.List', {\n *         fullscreen: true,\n *\n *         store: store,\n *\n *         plugins: [\n *             {\n *                 xclass: 'Ext.plugin.PullRefresh',\n *                 pullRefreshText: 'Pull down for more new Tweets!'\n *             }\n *         ],\n *\n *         itemTpl: [\n *             '<img src=\"{img}\" alt=\"{name} photo\" />',\n *             '<div class=\"tweet\"><b>{name}:</b> {text}</div>'\n *         ]\n *     });\n */\nExt.define('Ext.plugin.PullRefresh', {\n    extend: 'Ext.Component',\n    alias: 'plugin.pullrefresh',\n    requires: ['Ext.DateExtras'],\n\n    config: {\n        /*\n         * @accessor\n         */\n        list: null,\n\n        /*\n         * @cfg {String} pullRefreshText The text that will be shown while you are pulling down.\n         * @accessor\n         */\n        pullRefreshText: 'Pull down to refresh...',\n\n        /*\n         * @cfg {String} releaseRefreshText The text that will be shown after you have pulled down enough to show the release message.\n         * @accessor\n         */\n        releaseRefreshText: 'Release to refresh...',\n\n        /*\n         * @cfg {String} loadingText The text that will be shown while the list is refreshing.\n         * @accessor\n         */\n        loadingText: 'Loading...',\n\n        /*\n         * @cfg {Number} snappingAnimationDuration The duration for snapping back animation after the data has been refreshed\n         * @accessor\n         */\n        snappingAnimationDuration: 150,\n\n        /*\n         * @cfg {Function} refreshFn The function that will be called to refresh the list.\n         * If this is not defined, the store's load function will be called.\n         * The refresh function gets called with a reference to this plugin instance.\n         * @accessor\n         */\n        refreshFn: null,\n\n        /*\n         * @cfg {XTemplate/String/Array} pullTpl The template being used for the pull to refresh markup.\n         * @accessor\n         */\n        pullTpl: [\n            '<div class=\"x-list-pullrefresh\">',\n                '<div class=\"x-list-pullrefresh-arrow\"></div>',\n                '<div class=\"x-loading-spinner\">',\n                    '<span class=\"x-loading-top\"></span>',\n                    '<span class=\"x-loading-right\"></span>',\n                    '<span class=\"x-loading-bottom\"></span>',\n                    '<span class=\"x-loading-left\"></span>',\n                '</div>',\n                '<div class=\"x-list-pullrefresh-wrap\">',\n                    '<h3 class=\"x-list-pullrefresh-message\">{message}</h3>',\n                    '<div class=\"x-list-pullrefresh-updated\">Last Updated: <span>{lastUpdated:date(\"m/d/Y h:iA\")}</span></div>',\n                '</div>',\n            '</div>'\n        ].join('')\n    },\n\n    isRefreshing: false,\n    currentViewState: '',\n\n    initialize: function() {\n        this.callParent();\n\n        this.on({\n            painted: 'onPainted',\n            scope: this\n        });\n    },\n\n    init: function(list) {\n        var me = this,\n            store = list.getStore(),\n            pullTpl = me.getPullTpl(),\n            element = me.element,\n            scroller = list.getScrollable().getScroller();\n\n        me.setList(list);\n        me.lastUpdated = new Date();\n\n        list.insert(0, me);\n\n        // We provide our own load mask so if the Store is autoLoading already disable the List's mask straight away,\n        // otherwise if the Store loads later allow the mask to show once then remove it thereafter\n        if (store) {\n            if (store.isAutoLoading()) {\n                list.setLoadingText(null);\n            } else {\n                store.on({\n                    load: {\n                        single: true,\n                        fn: function() {\n                            list.setLoadingText(null);\n                        }\n                    }\n                });\n            }\n        }\n\n        pullTpl.overwrite(element, {\n            message: me.getPullRefreshText(),\n            lastUpdated: me.lastUpdated\n        }, true);\n\n        me.loadingElement = element.getFirstChild();\n        me.messageEl = element.down('.x-list-pullrefresh-message');\n        me.updatedEl = element.down('.x-list-pullrefresh-updated > span');\n\n        me.maxScroller = scroller.getMaxPosition();\n\n        scroller.on({\n            maxpositionchange: me.setMaxScroller,\n            scroll: me.onScrollChange,\n            scope: me\n        });\n    },\n\n    /**\n     * @private\n     * Attempts to load the newest posts via the attached List's Store's Proxy\n     */\n    fetchLatest: function() {\n        var store = this.getList().getStore(),\n            proxy = store.getProxy(),\n            operation;\n\n        operation = Ext.create('Ext.data.Operation', {\n            page: 1,\n            start: 0,\n            model: store.getModel(),\n            limit: store.getPageSize(),\n            action: 'read',\n            filters: store.getRemoteFilter() ? store.getFilters() : []\n        });\n\n        proxy.read(operation, this.onLatestFetched, this);\n    },\n\n    /**\n     * @private\n     * Called after fetchLatest has finished grabbing data. Matches any returned records against what is already in the\n     * Store. If there is an overlap, updates the existing records with the new data and inserts the new items at the\n     * front of the Store. If there is no overlap, insert the new records anyway and record that there's a break in the\n     * timeline between the new and the old records.\n     */\n    onLatestFetched: function(operation) {\n        var store      = this.getList().getStore(),\n            oldRecords = store.getData(),\n            newRecords = operation.getRecords(),\n            length     = newRecords.length,\n            toInsert   = [],\n            newRecord, oldRecord, i;\n\n        for (i = 0; i < length; i++) {\n            newRecord = newRecords[i];\n            oldRecord = oldRecords.getByKey(newRecord.getId());\n\n            if (oldRecord) {\n                oldRecord.set(newRecord.getData());\n            } else {\n                toInsert.push(newRecord);\n            }\n\n            oldRecord = undefined;\n        }\n\n        store.insert(0, toInsert);\n    },\n\n    onPainted: function() {\n        this.pullHeight = this.loadingElement.getHeight();\n    },\n\n    setMaxScroller: function(scroller, position) {\n        this.maxScroller = position;\n    },\n\n    onScrollChange: function(scroller, x, y) {\n        if (y < 0) {\n            this.onBounceTop(y);\n        }\n        if (y > this.maxScroller.y) {\n            this.onBounceBottom(y);\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyPullTpl: function(config) {\n        return (Ext.isObject(config) && config.isTemplate) ? config : new Ext.XTemplate(config);\n    },\n\n    onBounceTop: function(y) {\n        var me = this,\n            list = me.getList(),\n            scroller = list.getScrollable().getScroller();\n\n        if (!me.isReleased) {\n            if (!me.isRefreshing && -y >= me.pullHeight + 10) {\n                me.isRefreshing = true;\n\n                me.setViewState('release');\n\n                scroller.getContainer().onBefore({\n                    dragend: 'onScrollerDragEnd',\n                    single: true,\n                    scope: me\n                });\n            }\n            else if (me.isRefreshing && -y < me.pullHeight + 10) {\n                me.isRefreshing = false;\n                me.setViewState('pull');\n            }\n        }\n    },\n\n    onScrollerDragEnd: function() {\n        var me = this;\n\n        if (me.isRefreshing) {\n            var list = me.getList(),\n                scroller = list.getScrollable().getScroller();\n\n            scroller.minPosition.y = -me.pullHeight;\n            scroller.on({\n                scrollend: 'loadStore',\n                single: true,\n                scope: me\n            });\n\n            me.isReleased = true;\n        }\n    },\n\n    loadStore: function() {\n        var me = this,\n            list = me.getList(),\n            scroller = list.getScrollable().getScroller();\n\n        me.setViewState('loading');\n        me.isReleased = false;\n\n        Ext.defer(function() {\n            scroller.on({\n                scrollend: function() {\n                    if (me.getRefreshFn()) {\n                        me.getRefreshFn().call(me, me);\n                    } else {\n                        me.fetchLatest();\n                    }\n                    me.resetRefreshState();\n                },\n                delay: 100,\n                single: true,\n                scope: me\n            });\n            scroller.minPosition.y = 0;\n            scroller.scrollTo(null, 0, true);\n        }, 500, me);\n    },\n\n    onBounceBottom: Ext.emptyFn,\n\n    setViewState: function(state) {\n        var me = this,\n            prefix = Ext.baseCSSPrefix,\n            messageEl = me.messageEl,\n            loadingElement = me.loadingElement;\n\n        if (state === me.currentViewState) {\n            return me;\n        }\n        me.currentViewState = state;\n\n        if (messageEl && loadingElement) {\n            switch (state) {\n                case 'pull':\n                    messageEl.setHtml(me.getPullRefreshText());\n                    loadingElement.removeCls([prefix + 'list-pullrefresh-release', prefix + 'list-pullrefresh-loading']);\n                break;\n\n                case 'release':\n                    messageEl.setHtml(me.getReleaseRefreshText());\n                    loadingElement.addCls(prefix + 'list-pullrefresh-release');\n                break;\n\n                case 'loading':\n                    messageEl.setHtml(me.getLoadingText());\n                    loadingElement.addCls(prefix + 'list-pullrefresh-loading');\n                break;\n            }\n        }\n\n        return me;\n    },\n\n    resetRefreshState: function() {\n        var me = this;\n\n        me.isRefreshing = false;\n        me.lastUpdated = new Date();\n\n        me.setViewState('pull');\n        me.updatedEl.setHtml(Ext.util.Format.date(me.lastUpdated, \"m/d/Y h:iA\"));\n    }\n});\n\n/**\n * @author Tommy Maintz\n *\n * This class is the simple default id generator for Model instances.\n *\n * An example of a configured simple generator would be:\n *\n *     Ext.define('MyApp.data.MyModel', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             identifier: {\n *                 type: 'simple',\n *                 prefix: 'ID_'\n *             }\n *         }\n *     });\n *     // assign id's of ID_1, ID_2, ID_3, etc.\n *\n */\nExt.define('Ext.data.identifier.Simple', {\n    alias: 'data.identifier.simple',\n    \n    statics: {\n        AUTO_ID: 1\n    },\n\n    config: {\n        prefix: 'ext-record-'\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    generate: function(record) {\n        return this._prefix + this.self.AUTO_ID++;\n    }\n});\n/**\n * {@link Ext.Button} is a simple class to display a button in Sencha Touch. There are various\n * different styles of {@link Ext.Button} you can create by using the {@link #icon},\n * {@link #iconCls}, {@link #iconAlign}, {@link #iconMask}, {@link #ui}, and {@link #text}\n * configurations.\n *\n * ## Simple Button\n *\n * Here is an {@link Ext.Button} is it's simplist form:\n *\n *     @example miniphone\n *     var button = Ext.create('Ext.Button', {\n *         text: 'Button'\n *     });\n *     Ext.Viewport.add({ xtype: 'container', padding: 10, items: [button] });\n *\n * ## Icons\n *\n * You can also create a {@link Ext.Button} with just an icon using the {@link #iconCls}\n * configuration:\n *\n *     @example miniphone\n *     var button = Ext.create('Ext.Button', {\n *         iconCls: 'refresh',\n *         iconMask: true\n *     });\n *     Ext.Viewport.add({ xtype: 'container', padding: 10, items: [button] });\n *\n * Note that the {@link #iconMask} configuration is required when you want to use any of the\n * bundled Pictos icons.\n *\n * Here are the included icons available (if {@link Global_CSS#$include-default-icons $include-default-icons}\n * is set to true):\n *\n * - action\n * - add\n * - arrow_down\n * - arrow_left\n * - arrow_right\n * - arrow_up\n * - compose\n * - delete\n * - organize\n * - refresh\n * - reply\n * - search\n * - settings\n * - star\n * - trash\n * - maps\n * - locate\n * - home\n *\n * You can also use other pictos icons by using the {@link Global_CSS#pictos-iconmask pictos-iconmask} mixin in your SASS.\n *\n * ## Badges\n *\n * Buttons can also have a badge on them, by using the {@link #badgeText} configuration:\n *\n *     @example\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         padding: 10,\n *         items: {\n *             xtype: 'button',\n *             text: 'My Button',\n *             badgeText: '2'\n *         }\n *     });\n *\n * ## UI\n *\n * Buttons also come with a range of different default UIs. Here are the included UIs\n * available (if {@link #$include-button-uis $include-button-uis} is set to true):\n *\n * - **normal** - a basic gray button\n * - **back** - a back button\n * - **forward** - a forward button\n * - **round** - a round button\n * - **action** - shaded using the {@link Global_CSS#$base-color $base-color} (dark blue by default)\n * - **decline** - red\n * - **confirm** - green\n *\n * And setting them is very simple:\n *\n *     var uiButton = Ext.create('Ext.Button', {\n *         text: 'My Button',\n *         ui: 'action'\n *     });\n *\n * And how they look:\n *\n *     @example miniphone preview\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         padding: 4,\n *         defaults: {\n *             xtype: 'button',\n *             margin: 5\n *         },\n *         layout: {\n *             type: 'vbox',\n *             align: 'center'\n *         },\n *         items: [\n *             { ui: 'normal', text: 'normal' },\n *             { ui: 'round', text: 'round' },\n *             { ui: 'action', text: 'action' },\n *             { ui: 'decline', text: 'decline' },\n *             { ui: 'confirm', text: 'confirm' }\n *         ]\n *     });\n *\n * Note that the default {@link #ui} is **normal**.\n *\n * You can also use the {@link #sencha-button-ui sencha-button-ui} CSS Mixin to create your own UIs.\n *\n * ## Examples\n *\n * This example shows a bunch of icons on the screen in two toolbars. When you click on the center\n * button, it switches the iconCls on every button on the page.\n *\n *     @example preview\n *     Ext.createWidget('container', {\n *         fullscreen: true,\n *         layout: {\n *             type: 'vbox',\n *             pack:'center',\n *             align: 'center'\n *         },\n *         items: [\n *             {\n *                 xtype: 'button',\n *                 text: 'Change iconCls',\n *                 handler: function() {\n *                     // classes for all the icons to loop through.\n *                     var availableIconCls = [\n *                         'action', 'add', 'arrow_down', 'arrow_left',\n *                         'arrow_right', 'arrow_up', 'compose', 'delete',\n *                         'organize', 'refresh', 'reply', 'search',\n *                         'settings', 'star', 'trash', 'maps', 'locate',\n *                         'home'\n *                     ];\n *                     // get the text of this button,\n *                     // so we know which button we don't want to change\n *                     var text = this.getText();\n *\n *                     // use ComponentQuery to find all buttons on the page\n *                     // and loop through all of them\n *                     Ext.Array.forEach(Ext.ComponentQuery.query('button'), function(button) {\n *                         // if the button is the change iconCls button, continue\n *                         if (button.getText() == text) {\n *                             return;\n *                         }\n *\n *                         // get the index of the new available iconCls\n *                         var index = availableIconCls.indexOf(button.getIconCls()) + 1;\n *\n *                         // update the iconCls of the button with the next iconCls, if one exists.\n *                         // if not, use the first one\n *                         button.setIconCls(availableIconCls[(index == availableIconCls.length) ? 0 : index]);\n *                     });\n *                 }\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 docked: 'top',\n *                 defaults: {\n *                     iconMask: true\n *                 },\n *                 items: [\n *                     { xtype: 'spacer' },\n *                     { iconCls: 'action' },\n *                     { iconCls: 'add' },\n *                     { iconCls: 'arrow_down' },\n *                     { iconCls: 'arrow_left' },\n *                     { iconCls: 'arrow_up' },\n *                     { iconCls: 'compose' },\n *                     { iconCls: 'delete' },\n *                     { iconCls: 'organize' },\n *                     { iconCls: 'refresh' },\n *                     { xtype: 'spacer' }\n *                 ]\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 docked: 'bottom',\n *                 ui: 'light',\n *                 defaults: {\n *                     iconMask: true\n *                 },\n *                 items: [\n *                     { xtype: 'spacer' },\n *                     { iconCls: 'reply' },\n *                     { iconCls: 'search' },\n *                     { iconCls: 'settings' },\n *                     { iconCls: 'star' },\n *                     { iconCls: 'trash' },\n *                     { iconCls: 'maps' },\n *                     { iconCls: 'locate' },\n *                     { iconCls: 'home' },\n *                     { xtype: 'spacer' }\n *                 ]\n *             }\n *         ]\n *     });\n *\n */\nExt.define('Ext.Button', {\n    extend: 'Ext.Component',\n\n    xtype: 'button',\n\n    /**\n     * @event tap\n     * @preventable doTap\n     * Fires whenever a button is tapped\n     * @param {Ext.Button} this The item added to the Container\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event release\n     * @preventable doRelease\n     * Fires whenever the button is released\n     * @param {Ext.Button} this The item added to the Container\n     * @param {Ext.EventObject} e The event object\n     */\n\n    cachedConfig: {\n        /**\n         * @cfg {String} pressedCls\n         * The CSS class to add to the Button when it is pressed.\n         * @accessor\n         */\n        pressedCls: Ext.baseCSSPrefix + 'button-pressing',\n\n        /**\n         * @cfg {String} badgeCls\n         * The CSS class to add to the Button's badge, if it has one.\n         * @accessor\n         */\n        badgeCls: Ext.baseCSSPrefix + 'badge',\n\n        /**\n         * @cfg {String} hasBadgeCls\n         * The CSS class to add to the Button if it has a badge (note that this goes on the\n         * Button element itself, not on the badge element).\n         * @private\n         * @accessor\n         */\n        hasBadgeCls: Ext.baseCSSPrefix + 'hasbadge',\n\n        /**\n         * @cfg {String} labelCls\n         * The CSS class to add to the field's label element.\n         * @accessor\n         */\n        labelCls: Ext.baseCSSPrefix + 'button-label',\n\n        /**\n         * @cfg {String} iconMaskCls\n         * @private\n         * The CSS class to add to the icon element as allowed by {@link #iconMask}.\n         * @accessor\n         */\n        iconMaskCls: Ext.baseCSSPrefix + 'icon-mask',\n\n        /**\n         * @cfg {String} iconCls\n         * Optional CSS class to add to the icon element. This is useful if you want to use a CSS\n         * background image to create your Button icon.\n         * @accessor\n         */\n        iconCls: null\n    },\n\n    config: {\n        /**\n         * @cfg {String} badgeText\n         * Optional badge text.\n         * @accessor\n         */\n        badgeText: null,\n\n        /**\n         * @cfg {String} text\n         * The Button text.\n         * @accessor\n         */\n        text: null,\n\n        /**\n         * @cfg {String} icon\n         * Url to the icon image to use if you want an icon to appear on your button.\n         * @accessor\n         */\n        icon: null,\n\n        /**\n         * @cfg {String} iconAlign\n         * The position within the Button to render the icon Options are: `top`, `right`, `bottom`, `left` and `center` (when you have\n         * no {@link #text} set).\n         * @accessor\n         */\n        iconAlign: 'left',\n\n        /**\n         * @cfg {Number/Boolean} pressedDelay\n         * The amount of delay between the tapstart and the moment we add the pressedCls (in milliseconds).\n         * Settings this to true defaults to 100ms.\n         */\n        pressedDelay: 0,\n\n        /**\n         * @cfg {Boolean} iconMask\n         * Whether or not to mask the icon with the {@link #iconMask} configuration.\n         * This is needed if you want to use any of the bundled pictos icons in the Sencha Touch SASS.\n         * @accessor\n         */\n        iconMask: null,\n\n        /**\n         * @cfg {Function} handler\n         * The handler function to run when the Button is tapped on.\n         * @accessor\n         */\n        handler: null,\n\n        /**\n         * @cfg {Object} scope\n         * The scope to fire the configured {@link #handler} in.\n         * @accessor\n         */\n        scope: null,\n\n        /**\n         * @cfg {String} autoEvent\n         * Optional event name that will be fired instead of 'tap' when the Button is tapped on.\n         * @accessor\n         */\n        autoEvent: null,\n\n        /**\n         * @cfg {String} ui\n         * The ui style to render this button with. The valid default options are:\n         * 'normal', 'back', 'round', 'action', 'confirm' and 'forward'.\n         * @accessor\n         */\n        ui: 'normal',\n\n        /**\n         * @cfg {String} html The html to put in this button.\n         *\n         * If you want to just add text, please use the {@link #text} configuration\n         */\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'button'\n    },\n\n    template: [\n        {\n            tag: 'span',\n            reference: 'badgeElement',\n            hidden: true\n        },\n        {\n            tag: 'span',\n            className: Ext.baseCSSPrefix + 'button-icon',\n            reference: 'iconElement',\n            hidden: true\n        },\n        {\n            tag: 'span',\n            reference: 'textElement',\n            hidden: true\n        }\n    ],\n\n    initialize: function() {\n        this.callParent();\n\n        this.element.on({\n            scope      : this,\n            tap        : 'onTap',\n            touchstart : 'onPress',\n            touchend   : 'onRelease'\n        });\n    },\n\n    /**\n     * @private\n     */\n    updateBadgeText: function(badgeText) {\n        var element = this.element,\n            badgeElement = this.badgeElement;\n\n        if (badgeText) {\n            badgeElement.show();\n            badgeElement.setText(badgeText);\n        }\n        else {\n            badgeElement.hide();\n        }\n\n        element[(badgeText) ? 'addCls' : 'removeCls'](this.getHasBadgeCls());\n    },\n\n    /**\n     * @private\n     */\n    updateText: function(text) {\n        var textElement = this.textElement;\n        if (textElement) {\n            if (text) {\n                textElement.show();\n                textElement.setHtml(text);\n            }\n            else {\n                textElement.hide();\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateHtml: function(html) {\n        var textElement = this.textElement;\n\n        if (html) {\n            textElement.show();\n            textElement.setHtml(html);\n        }\n        else {\n            textElement.hide();\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateBadgeCls: function(badgeCls, oldBadgeCls) {\n        this.badgeElement.replaceCls(oldBadgeCls, badgeCls);\n    },\n\n    /**\n     * @private\n     */\n    updateHasBadgeCls: function(hasBadgeCls, oldHasBadgeCls) {\n        var element = this.element;\n\n        if (element.hasCls(oldHasBadgeCls)) {\n            element.replaceCls(oldHasBadgeCls, hasBadgeCls);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateLabelCls: function(labelCls, oldLabelCls) {\n        this.textElement.replaceCls(oldLabelCls, labelCls);\n    },\n\n    /**\n     * @private\n     */\n    updatePressedCls: function(pressedCls, oldPressedCls) {\n        var element = this.element;\n\n        if (element.hasCls(oldPressedCls)) {\n            element.replaceCls(oldPressedCls, pressedCls);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateIcon: function(icon) {\n        var me = this,\n            element = me.iconElement;\n\n        if (icon) {\n            me.showIconElement();\n            element.setStyle('background-image', icon ? 'url(' + icon + ')' : '');\n            me.refreshIconAlign();\n            me.refreshIconMask();\n        }\n        else {\n            me.hideIconElement();\n            me.setIconAlign(false);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateIconCls: function(iconCls, oldIconCls) {\n        var me = this,\n            element = me.iconElement;\n\n        if (iconCls) {\n            me.showIconElement();\n            element.replaceCls(oldIconCls, iconCls);\n            me.refreshIconAlign();\n            me.refreshIconMask();\n        }\n        else {\n            me.hideIconElement();\n            me.setIconAlign(false);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateIconAlign: function(alignment, oldAlignment) {\n        var element = this.element,\n            baseCls = Ext.baseCSSPrefix + 'iconalign-';\n\n        if (!this.getText()) {\n            alignment = \"center\";\n        }\n\n        element.removeCls(baseCls + \"center\");\n        element.removeCls(baseCls + oldAlignment);\n        if (this.getIcon() || this.getIconCls()) {\n            element.addCls(baseCls + alignment);\n        }\n    },\n\n    refreshIconAlign: function() {\n        this.updateIconAlign(this.getIconAlign());\n    },\n\n    /**\n     * @private\n     */\n    updateIconMaskCls: function(iconMaskCls, oldIconMaskCls) {\n        var element = this.iconElement;\n\n        if (this.getIconMask()) {\n            element.replaceCls(oldIconMaskCls, iconMaskCls);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateIconMask: function(iconMask) {\n        this.iconElement[iconMask ? \"addCls\" : \"removeCls\"](this.getIconMaskCls());\n    },\n\n    refreshIconMask: function() {\n        this.updateIconMask(this.getIconMask());\n    },\n\n    applyAutoEvent: function(autoEvent) {\n        var me = this;\n\n        if (typeof autoEvent == 'string') {\n            autoEvent = {\n                name : autoEvent,\n                scope: me.scope || me\n            };\n        }\n\n        return autoEvent;\n    },\n\n    /**\n     * @private\n     */\n    updateAutoEvent: function(autoEvent) {\n        var name  = autoEvent.name,\n            scope = autoEvent.scope;\n\n        this.setHandler(function() {\n            scope.fireEvent(name, scope, this);\n        });\n\n        this.setScope(scope);\n    },\n\n    /**\n     * Used by icon and iconCls configurations to hide the icon element.\n     * We do this because Tab needs to change the visibility of the icon, not make\n     * it display:none\n     * @private\n     */\n    hideIconElement: function() {\n        this.iconElement.hide();\n    },\n\n    /**\n     * Used by icon and iconCls configurations to show the icon element.\n     * We do this because Tab needs to change the visibility of the icon, not make\n     * it display:node\n     * @private\n     */\n    showIconElement: function() {\n        this.iconElement.show();\n    },\n\n    /**\n     * We override this to check for '{ui}-back'. This is because if you have a UI of back, you need to actually add two class names.\n     * The ui class, and the back class:\n     *\n     * `ui: 'action-back'` would turn into:\n     *\n     * `class=\"x-button-action x-button-back\"`\n     *\n     * But `ui: 'action' would turn into:\n     *\n     * `class=\"x-button-action\"`\n     *\n     * So we just split it up into an array and add both of them as a UI, when it has `back`.\n     * @private\n     */\n    applyUi: function(config) {\n        if (config && Ext.isString(config)) {\n            var array  = config.split('-');\n            if (array && (array[1] == \"back\" || array[1] == \"forward\")) {\n                return array;\n            }\n        }\n\n        return config;\n    },\n\n    getUi: function() {\n        //Now that the UI can sometimes be an array, we need to check if it an array and return the proper value.\n        var ui = this._ui;\n        if (Ext.isArray(ui)) {\n            return ui.join('-');\n        }\n        return ui;\n    },\n\n    applyPressedDelay: function(delay) {\n        if (Ext.isNumber(delay)) {\n            return delay;\n        }\n        return (delay) ? 100 : 0;\n    },\n\n    // @private\n    onPress: function() {\n        var me = this,\n            element = me.element,\n            pressedDelay = me.getPressedDelay(),\n            pressedCls = me.getPressedCls();\n\n        if (!me.getDisabled()) {\n            if (pressedDelay > 0) {\n                me.pressedTimeout = setTimeout(function() {\n                    delete me.pressedTimeout;\n                    if (element) {\n                        element.addCls(pressedCls);\n                    }\n                }, pressedDelay);\n            }\n            else {\n                element.addCls(pressedCls);\n            }\n        }\n    },\n\n    // @private\n    onRelease: function(e) {\n        this.fireAction('release', [this, e], 'doRelease');\n    },\n\n    // @private\n    doRelease: function(me, e) {\n        if (!me.getDisabled()) {\n            if (me.hasOwnProperty('pressedTimeout')) {\n                clearTimeout(me.pressedTimeout);\n                delete me.pressedTimeout;\n            }\n            else {\n                me.element.removeCls(me.getPressedCls());\n            }\n        }\n    },\n\n    // @private\n    onTap: function(e) {\n        if (this.getDisabled()) {\n            return false;\n        }\n\n        this.fireAction('tap', [this, e], 'doTap');\n    },\n\n    /**\n     * @private\n     */\n    doTap: function(me, e) {\n        var handler = me.getHandler(),\n            scope = me.getScope() || me;\n\n        if (!handler) {\n            return;\n        }\n\n        if (typeof handler == 'string') {\n            handler = scope[handler];\n        }\n\n        //this is done so if you hide the button in the handler, the tap event will not fire on the new element\n        //where the button was.\n        e.preventDefault();\n\n        handler.apply(scope, arguments);\n    }\n}, function() {\n\n    /**\n     * Updates the badge text\n     * @method setBadge\n     * @param {String} text\n     * @deprecated 2.0.0 Please use {@link #setBadgeText} instead.\n     */\n    Ext.deprecateClassMethod(this, 'setBadge', 'setBadgeText');\n\n    /**\n     * Updates the icon class\n     * @method setIconClass\n     * @param {String} iconClass\n     * @deprecated 2.0.0 Please use {@link #setIconCls} instead.\n     */\n    Ext.deprecateClassMethod(this, 'setIconClass', 'setIconCls');\n\n    this.override({\n        constructor: function(config) {\n            if (config) {\n                /**\n                 * @cfg {String} badge\n                 * Optional badge text.\n                 * @deprecated 2.0.0 Please use {@link #badgeText} instead\n                 */\n                if (config.hasOwnProperty('badge')) {\n                    Ext.Logger.deprecate(\"'badge' config is deprecated, please use 'badgeText' config instead\", this);\n                    config.badgeText = config.badge;\n                }\n            }\n\n            this.callParent([config]);\n        }\n    });\n\n});\n\n/**\n * @class Ext.util.LineSegment\n *\n * Utility class that represents a line segment, constructed by two {@link Ext.util.Point}\n */\nExt.define('Ext.util.LineSegment', {\n    requires: ['Ext.util.Point'],\n\n    /**\n     * Creates new LineSegment out of two points.\n     * @param {Ext.util.Point} point1\n     * @param {Ext.util.Point} point2\n     */\n    constructor: function(point1, point2) {\n        var Point = Ext.util.Point;\n\n        this.point1 = Point.from(point1);\n        this.point2 = Point.from(point2);\n    },\n\n    /**\n     * Returns the point where two lines intersect.\n     * @param {Ext.util.LineSegment} lineSegment The line to intersect with.\n     * @return {Ext.util.Point}\n     */\n    intersects: function(lineSegment) {\n        var point1 = this.point1,\n            point2 = this.point2,\n            point3 = lineSegment.point1,\n            point4 = lineSegment.point2,\n            x1 = point1.x,\n            x2 = point2.x,\n            x3 = point3.x,\n            x4 = point4.x,\n            y1 = point1.y,\n            y2 = point2.y,\n            y3 = point3.y,\n            y4 = point4.y,\n            d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4),\n            xi, yi;\n\n        if (d == 0) {\n            return null;\n        }\n\n        xi = ((x3 - x4) * (x1 * y2 - y1 * x2) - (x1 - x2) * (x3 * y4 - y3 * x4)) / d;\n        yi = ((y3 - y4) * (x1 * y2 - y1 * x2) - (y1 - y2) * (x3 * y4 - y3 * x4)) / d;\n\n        if (xi < Math.min(x1, x2) || xi > Math.max(x1, x2)\n            || xi < Math.min(x3, x4) || xi > Math.max(x3, x4)\n            || yi < Math.min(y1, y2) || yi > Math.max(y1, y2)\n            || yi < Math.min(y3, y4) || yi > Math.max(y3, y4)) {\n            return null;\n        }\n\n        return new Ext.util.Point(xi, yi);\n    },\n\n    /**\n     * Returns string representation of the line. Useful for debugging.\n     * @return {String} For example `Point[12,8] Point[0,0]`\n     */\n    toString: function() {\n        return this.point1.toString() + \" \" + this.point2.toString();\n    }\n});\n\n/**\n * {@link Ext.Title} is used for the {@link Ext.Toolbar#title} configuration in the {@link Ext.Toolbar} component.\n * @private\n */\nExt.define('Ext.Title', {\n    extend: 'Ext.Component',\n    xtype: 'title',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: 'x-title',\n\n        /**\n         * @cfg {String} title The title text\n         */\n        title: ''\n    },\n\n    // @private\n    updateTitle: function(newTitle) {\n        this.setHtml(newTitle);\n    }\n});\n\n/**\nThe {@link Ext.Spacer} component is generally used to put space between items in {@link Ext.Toolbar} components.\n\n## Examples\n\nBy default the {@link #flex} configuration is set to 1:\n\n    @example miniphone preview\n    Ext.create('Ext.Container', {\n        fullscreen: true,\n        items: [\n            {\n                xtype : 'toolbar',\n                docked: 'top',\n                items: [\n                    {\n                        xtype: 'button',\n                        text : 'Button One'\n                    },\n                    {\n                        xtype: 'spacer'\n                    },\n                    {\n                        xtype: 'button',\n                        text : 'Button Two'\n                    }\n                ]\n            }\n        ]\n    });\n\nAlternatively you can just set the {@link #width} configuration which will get the {@link Ext.Spacer} a fixed width:\n\n    @example preview\n    Ext.create('Ext.Container', {\n        fullscreen: true,\n        layout: {\n            type: 'vbox',\n            pack: 'center',\n            align: 'stretch'\n        },\n        items: [\n            {\n                xtype : 'toolbar',\n                docked: 'top',\n                items: [\n                    {\n                        xtype: 'button',\n                        text : 'Button One'\n                    },\n                    {\n                        xtype: 'spacer',\n                        width: 50\n                    },\n                    {\n                        xtype: 'button',\n                        text : 'Button Two'\n                    }\n                ]\n            },\n            {\n                xtype: 'container',\n                items: [\n                    {\n                        xtype: 'button',\n                        text : 'Change Ext.Spacer width',\n                        handler: function() {\n                            //get the spacer using ComponentQuery\n                            var spacer = Ext.ComponentQuery.query('spacer')[0],\n                                from = 10,\n                                to = 250;\n\n                            //set the width to a random number\n                            spacer.setWidth(Math.floor(Math.random() * (to - from + 1) + from));\n                        }\n                    }\n                ]\n            }\n        ]\n    });\n\nYou can also insert multiple {@link Ext.Spacer}'s:\n\n    @example preview\n    Ext.create('Ext.Container', {\n        fullscreen: true,\n        items: [\n            {\n                xtype : 'toolbar',\n                docked: 'top',\n                items: [\n                    {\n                        xtype: 'button',\n                        text : 'Button One'\n                    },\n                    {\n                        xtype: 'spacer'\n                    },\n                    {\n                        xtype: 'button',\n                        text : 'Button Two'\n                    },\n                    {\n                        xtype: 'spacer',\n                        width: 20\n                    },\n                    {\n                        xtype: 'button',\n                        text : 'Button Three'\n                    }\n                ]\n            }\n        ]\n    });\n */\nExt.define('Ext.Spacer', {\n    extend: 'Ext.Component',\n    alias : 'widget.spacer',\n\n    config: {\n        /**\n         * @cfg {Number} flex\n         * The flex value of this spacer. This defaults to 1, if no width has been set.\n         * @accessor\n         */\n        \n        /**\n         * @cfg {Number} width\n         * The width of this spacer. If this is set, the value of {@link #flex} will be ignored.\n         * @accessor\n         */\n    },\n\n    // @private\n    constructor: function(config) {\n        config = config || {};\n\n        if (!config.width) {\n            config.flex = 1;\n        }\n\n        this.callParent([config]);\n    }\n});\n\n/**\n * @aside video list\n * @aside guide list\n *\n * IndexBar is a component used to display a list of data (primarily an alphabet) which can then be used to quickly\n * navigate through a list (see {@link Ext.List}) of data. When a user taps on an item in the {@link Ext.IndexBar},\n * it will fire the {@link #index} event.\n *\n * Here is an example of the usage in a {@link Ext.List}:\n *\n *     @example phone portrait preview\n *     Ext.define('Contact', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['firstName', 'lastName']\n *         }\n *     });\n *\n *     var store = new Ext.data.JsonStore({\n *        model: 'Contact',\n *        sorters: 'lastName',\n *\n *        grouper: {\n *            groupFn: function(record) {\n *                return record.get('lastName')[0];\n *            }\n *        },\n *\n *        data: [\n *            {firstName: 'Tommy',   lastName: 'Maintz'},\n *            {firstName: 'Rob',     lastName: 'Dougan'},\n *            {firstName: 'Ed',      lastName: 'Spencer'},\n *            {firstName: 'Jamie',   lastName: 'Avins'},\n *            {firstName: 'Aaron',   lastName: 'Conran'},\n *            {firstName: 'Dave',    lastName: 'Kaneda'},\n *            {firstName: 'Jacky',   lastName: 'Nguyen'},\n *            {firstName: 'Abraham', lastName: 'Elias'},\n *            {firstName: 'Jay',     lastName: 'Robinson'},\n *            {firstName: 'Nigel',   lastName: 'White'},\n *            {firstName: 'Don',     lastName: 'Griffin'},\n *            {firstName: 'Nico',    lastName: 'Ferrero'},\n *            {firstName: 'Jason',   lastName: 'Johnston'}\n *        ]\n *     });\n *\n *     var list = new Ext.List({\n *        fullscreen: true,\n *        itemTpl: '<div class=\"contact\">{firstName} <strong>{lastName}</strong></div>',\n *\n *        grouped     : true,\n *        indexBar    : true,\n *        store: store,\n *        hideOnMaskTap: false\n *     });\n *\n*/\nExt.define('Ext.dataview.IndexBar', {\n    extend: 'Ext.Component',\n    alternateClassName: 'Ext.IndexBar',\n\n    /**\n     * @event index\n     * Fires when an item in the index bar display has been tapped.\n     * @param {Ext.dataview.IndexBar} this The IndexBar instance\n     * @param {String} html The HTML inside the tapped node.\n     * @param {Ext.dom.Element} target The node on the indexbar that has been tapped.\n     */\n\n    config: {\n        baseCls: Ext.baseCSSPrefix + 'indexbar',\n\n        /**\n         * @cfg {String} direction\n         * Layout direction, can be either 'vertical' or 'horizontal'\n         * @accessor\n         */\n        direction: 'vertical',\n\n        /**\n         * @cfg {Array} letters\n         * The letters to show on the index bar.\n         * @accessor\n         */\n        letters: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\n\n        ui: 'alphabet',\n\n        /**\n         * @cfg {String} listPrefix\n         * The prefix string to be appended at the beginning of the list.\n         * E.g: useful to add a \"#\" prefix before numbers.\n         * @accessor\n         */\n        listPrefix: null\n    },\n\n    // @private\n    itemCls: Ext.baseCSSPrefix + '',\n\n    updateDirection: function(newDirection, oldDirection) {\n        var baseCls = this.getBaseCls();\n\n        this.element.replaceCls(baseCls + '-' + oldDirection, baseCls + '-' + newDirection);\n    },\n\n    getElementConfig: function() {\n        return {\n            reference: 'wrapper',\n            classList: ['x-centered', 'x-indexbar-wrapper'],\n            children: [this.callParent()]\n        };\n    },\n\n    updateLetters: function(letters) {\n        this.innerElement.setHtml('');\n\n        if (letters) {\n            var ln = letters.length,\n                i;\n\n            for (i = 0; i < ln; i++) {\n                this.innerElement.createChild({\n                    html: letters[i]\n                });\n            }\n        }\n    },\n\n    updateListPrefix: function(listPrefix) {\n        if (listPrefix && listPrefix.length) {\n            this.innerElement.createChild({\n                html: listPrefix\n            }, 0);\n        }\n    },\n\n    // @private\n    initialize: function() {\n        this.callParent();\n\n        this.innerElement.on({\n            touchstart: this.onTouchStart,\n            touchend: this.onTouchEnd,\n            touchmove: this.onTouchMove,\n            scope: this\n        });\n    },\n\n    // @private\n    onTouchStart: function(e, t) {\n        e.stopPropagation();\n        this.innerElement.addCls(this.getBaseCls() + '-pressed');\n        this.pageBox = this.innerElement.getPageBox();\n        this.onTouchMove(e);\n    },\n\n    // @private\n    onTouchEnd: function(e, t) {\n        this.innerElement.removeCls(this.getBaseCls() + '-pressed');\n    },\n\n    // @private\n    onTouchMove: function(e) {\n        var point = Ext.util.Point.fromEvent(e),\n            target,\n            pageBox = this.pageBox;\n\n        if (!pageBox) {\n            pageBox = this.pageBox = this.el.getPageBox();\n        }\n\n        if (this.getDirection() === 'vertical') {\n            if (point.y > pageBox.bottom || point.y < pageBox.top) {\n                return;\n            }\n            target = Ext.Element.fromPoint(pageBox.left + (pageBox.width / 2), point.y);\n        }\n        else {\n            if (point.x > pageBox.right || point.x < pageBox.left) {\n                return;\n            }\n            target = Ext.Element.fromPoint(point.x, pageBox.top + (pageBox.height / 2));\n        }\n\n        if (target) {\n            this.fireEvent('index', this, target.dom.innerHTML, target);\n        }\n    },\n\n    destroy: function() {\n        var me = this,\n            elements = Array.prototype.slice.call(me.innerElement.dom.childNodes),\n            ln = elements.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            Ext.removeNode(elements[i]);\n        }\n        this.callParent();\n    }\n\n}, function() {\n\n    /**\n     * @member Ext.dataview.IndexBar\n     * @method isHorizontal\n     * Returns true when direction is horizontal.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'isHorizontal', null, \"Ext.dataview.IndexBar.isHorizontal() has been removed\");\n\n    /**\n     * @member Ext.dataview.IndexBar\n     * @method isVertical\n     * Returns true when direction is vertical.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'isVertical', null, \"Ext.dataview.IndexBar.isVertical() has been removed\");\n\n    /**\n     * @member Ext.dataview.IndexBar\n     * @method refresh\n     * Refreshes the view by reloading the data from the store and re-rendering the template.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'refresh', null, \"Ext.dataview.IndexBar.refresh() has been removed\");\n\n    /**\n     * @Member Ext.dataview.IndexBar\n     * @cfg {Boolean} alphabet\n     * True to use the letters property to show a list of the alphabet.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'alphabet', null, \"Ext.dataview.IndexBar.alphabet has been removed\");\n\n    /**\n     * @member Ext.dataview.IndexBar\n     * @cfg {Boolean} itemSelector\n     * A simple CSS selector for items.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'itemSelector', null, \"Ext.dataview.IndexBar.itemSelector has been removed\");\n\n    /**\n     * @member Ext.dataview.IndexBar\n     * @cfg {Boolean} store\n     * The store to be used for displaying data on the index bar.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'store', null, \"Ext.dataview.IndexBar.store has been removed\");\n\n});\n\n/**\n * @private - To be made a sample\n */\nExt.define('Ext.dataview.ListItemHeader', {\n    extend: 'Ext.Component',\n    xtype : 'listitemheader',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'list-header',\n        docked: 'top'\n    }\n});\n/**\n * Provides a cross browser class for retrieving location information.\n *\n * Based on the [Geolocation API Specification](http://dev.w3.org/geo/api/spec-source.html)\n *\n * When instantiated, by default this class immediately begins tracking location information,\n * firing a {@link #locationupdate} event when new location information is available.  To disable this\n * location tracking (which may be battery intensive on mobile devices), set {@link #autoUpdate} to false.\n *\n * When this is done, only calls to {@link #updateLocation} will trigger a location retrieval.\n *\n * A {@link #locationerror} event is raised when an error occurs retrieving the location, either due to a user\n * denying the application access to it, or the browser not supporting it.\n *\n * The below code shows a GeoLocation making a single retrieval of location information.\n *\n *     var geo = Ext.create('Ext.util.Geolocation', {\n *         autoUpdate: false,\n *         listeners: {\n *             locationupdate: function(geo) {\n *                 alert('New latitude: ' + geo.getLatitude());\n *             },\n *             locationerror: function(geo, bTimeout, bPermissionDenied, bLocationUnavailable, message) {\n *                 if(bTimeout){\n *                     alert('Timeout occurred.');\n *                 } else {\n *                     alert('Error occurred.');\n *                 }\n *             }\n *         }\n *     });\n *     geo.updateLocation();\n */\nExt.define('Ext.util.Geolocation', {\n    extend: 'Ext.Evented',\n    alternateClassName: ['Ext.util.GeoLocation'],\n\n    config: {\n        /**\n         * @event locationerror\n         * Raised when a location retrieval operation failed.<br/>\n         * In the case of calling updateLocation, this event will be raised only once.<br/>\n         * If {@link #autoUpdate} is set to true, this event could be raised repeatedly.\n         * The first error is relative to the moment {@link #autoUpdate} was set to true\n         * (or this {@link Ext.util.Geolocation} was initialized with the {@link #autoUpdate} config option set to true).\n         * Subsequent errors are relative to the moment when the device determines that it's position has changed.\n         * @param {Ext.util.Geolocation} this\n         * @param {Boolean} timeout\n         * Boolean indicating a timeout occurred\n         * @param {Boolean} permissionDenied\n         * Boolean indicating the user denied the location request\n         * @param {Boolean} locationUnavailable\n         * Boolean indicating that the location of the device could not be determined.<br/>\n         * For instance, one or more of the location providers used in the location acquisition\n         * process reported an internal error that caused the process to fail entirely.\n         * @param {String} message\n         * An error message describing the details of the error encountered.<br/>\n         * This attribute is primarily intended for debugging and should not be used\n         * directly in an application user interface.\n         */\n\n        /**\n         * @event locationupdate\n         * Raised when a location retrieval operation has been completed successfully.\n         * @param {Ext.util.Geolocation} this\n         * Retrieve the current location information from the GeoLocation object by using the read-only\n         * properties latitude, longitude, accuracy, altitude, altitudeAccuracy, heading, and speed.\n         */\n\n        /**\n         * @cfg {Boolean} autoUpdate\n         * When set to true, continually monitor the location of the device (beginning immediately)\n         * and fire {@link #locationupdate}/{@link #locationerror} events.\n         */\n        autoUpdate: true,\n\n        /**\n         * @cfg {Number} frequency\n         * The frequency of each update if {@link #autoUpdate} is set to true.\n         */\n        frequency: 10000,\n\n        /**\n         * Read-only property representing the last retrieved\n         * geographical coordinate specified in degrees.\n         * @type Number\n         */\n        latitude: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * geographical coordinate specified in degrees.\n         * @type Number\n         */\n        longitude: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * accuracy level of the latitude and longitude coordinates,\n         * specified in meters.<br/>\n         * This will always be a non-negative number.<br/>\n         * This corresponds to a 95% confidence level.\n         * @type Number\n         */\n        accuracy: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * height of the position, specified in meters above the ellipsoid\n         * <a href=\"http://dev.w3.org/geo/api/spec-source.html#ref-wgs\">[WGS84]</a>.\n         * @type Number\n         */\n        altitude: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * accuracy level of the altitude coordinate, specified in meters.<br/>\n         * If altitude is not null then this will be a non-negative number.\n         * Otherwise this returns null.<br/>\n         * This corresponds to a 95% confidence level.\n         * @type Number\n         */\n        altitudeAccuracy: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * direction of travel of the hosting device,\n         * specified in non-negative degrees between 0 and 359,\n         * counting clockwise relative to the true north.<br/>\n         * If speed is 0 (device is stationary), then this returns NaN\n         * @type Number\n         */\n        heading: null,\n\n        /**\n         * Read-only property representing the last retrieved\n         * current ground speed of the device, specified in meters per second.<br/>\n         * If this feature is unsupported by the device, this returns null.<br/>\n         * If the device is stationary, this returns 0,\n         * otherwise it returns a non-negative number.\n         * @type Number\n         */\n        speed: null,\n\n        /**\n         * Read-only property representing when the last retrieved\n         * positioning information was acquired by the device.\n         * @type Date\n         */\n        timestamp: null,\n\n        //PositionOptions interface\n        /**\n         * @cfg {Boolean} allowHighAccuracy\n         * When set to true, provide a hint that the application would like to receive\n         * the best possible results. This may result in slower response times or increased power consumption.\n         * The user might also deny this capability, or the device might not be able to provide more accurate\n         * results than if this option was set to false.\n         */\n        allowHighAccuracy: false,\n\n        /**\n         * @cfg {Number} timeout\n         * The maximum number of milliseconds allowed to elapse between a location update operation\n         * and the corresponding {@link #locationupdate} event being raised.  If a location was not successfully\n         * acquired before the given timeout elapses (and no other internal errors have occurred in this interval),\n         * then a {@link #locationerror} event will be raised indicating a timeout as the cause.<br/>\n         * Note that the time that is spent obtaining the user permission is <b>not</b> included in the period\n         * covered by the timeout.  The timeout attribute only applies to the location acquisition operation.<br/>\n         * In the case of calling updateLocation, the {@link #locationerror} event will be raised only once.<br/>\n         * If {@link #autoUpdate} is set to true, the {@link #locationerror} event could be raised repeatedly.\n         * The first timeout is relative to the moment {@link #autoUpdate} was set to true\n         * (or this {@link Ext.util.Geolocation} was initialized with the {@link #autoUpdate} config option set to true).\n         * Subsequent timeouts are relative to the moment when the device determines that it's position has changed.\n         */\n\n        timeout: Infinity,\n\n        /**\n         * @cfg {Number} maximumAge\n         * This option indicates that the application is willing to accept cached location information whose age\n         * is no greater than the specified time in milliseconds. If maximumAge is set to 0, an attempt to retrieve\n         * new location information is made immediately.<br/>\n         * Setting the maximumAge to Infinity returns a cached position regardless of its age.<br/>\n         * If the device does not have cached location information available whose age is no\n         * greater than the specified maximumAge, then it must acquire new location information.<br/>\n         * For example, if location information no older than 10 minutes is required, set this property to 600000.\n         */\n        maximumAge: 0,\n\n        // @private\n        provider : undefined\n    },\n\n    updateMaximumAge: function() {\n        if (this.watchOperation) {\n            this.updateWatchOperation();\n        }\n    },\n\n    updateTimeout: function() {\n        if (this.watchOperation) {\n            this.updateWatchOperation();\n        }\n    },\n\n    updateAllowHighAccuracy: function() {\n        if (this.watchOperation) {\n            this.updateWatchOperation();\n        }\n    },\n\n    applyProvider: function(config) {\n        if (Ext.feature.has.Geolocation) {\n            if (!config) {\n                if (navigator && navigator.geolocation) {\n                    config = navigator.geolocation;\n                }\n                else if (window.google) {\n                    config = google.gears.factory.create('beta.geolocation');\n                }\n            }\n        }\n        else {\n            this.fireEvent('locationerror', this, false, false, true, 'This device does not support Geolocation.');\n        }\n        return config;\n    },\n\n    updateAutoUpdate: function(newAutoUpdate, oldAutoUpdate) {\n        var me = this,\n            provider = me.getProvider();\n\n        if (oldAutoUpdate && provider) {\n            clearInterval(me.watchOperationId);\n            me.watchOperationId = null;\n        }\n\n        if (newAutoUpdate) {\n            if (!provider) {\n                me.fireEvent('locationerror', me, false, false, true, null);\n                return;\n            }\n\n            try {\n                me.updateWatchOperation();\n            }\n            catch(e) {\n                me.fireEvent('locationerror', me, false, false, true, e.message);\n            }\n        }\n    },\n\n    // @private\n    updateWatchOperation: function() {\n        var me = this,\n            provider = me.getProvider();\n\n        // The native watchPosition method is currently broken in iOS5...\n\n        if (me.watchOperationId) {\n            clearInterval(me.watchOperationId);\n        }\n\n        function pollPosition() {\n            provider.getCurrentPosition(\n                Ext.bind(me.fireUpdate, me),\n                Ext.bind(me.fireError, me),\n                me.parseOptions()\n            );\n        }\n\n        pollPosition();\n        me.watchOperationId = setInterval(pollPosition, this.getFrequency());\n    },\n\n    /**\n     * Executes a onetime location update operation,\n     * raising either a {@link #locationupdate} or {@link #locationerror} event.<br/>\n     * Does not interfere with or restart ongoing location monitoring.\n     * @param {Function} callback\n     * A callback method to be called when the location retrieval has been completed.<br/>\n     * Will be called on both success and failure.<br/>\n     * The method will be passed one parameter, {@link Ext.util.Geolocation} (<b>this</b> reference),\n     * set to null on failure.\n     * <pre><code>\n     geo.updateLocation(function (geo) {\n     alert('Latitude: ' + (geo != null ? geo.latitude : 'failed'));\n     });\n     </code></pre>\n     * @param {Object} scope (optional)\n     * (optional) The scope (<b>this</b> reference) in which the handler function is executed.\n     * <b>If omitted, defaults to the object which fired the event.</b>\n     * <!--positonOptions undocumented param, see W3C spec-->\n     */\n    updateLocation: function(callback, scope, positionOptions) {\n        var me = this,\n            provider = me.getProvider();\n\n        var failFunction = function(message, error) {\n            if (error) {\n                me.fireError(error);\n            }\n            else {\n                me.fireEvent('locationerror', me, false, false, true, message);\n            }\n            if (callback) {\n                callback.call(scope || me, null, me); //last parameter for legacy purposes\n            }\n        };\n\n        if (!provider) {\n            failFunction(null);\n            return;\n        }\n\n        try {\n            provider.getCurrentPosition(\n                //success callback\n                function(position) {\n                    me.fireUpdate(position);\n                    if (callback) {\n                        callback.call(scope || me, me, me); //last parameter for legacy purposes\n                    }\n                },\n                //error callback\n                function(error) {\n                    failFunction(null, error);\n                },\n                positionOptions || me.parseOptions()\n            );\n        }\n        catch(e) {\n            failFunction(e.message);\n        }\n    },\n\n    // @private\n    fireUpdate: function(position) {\n        var me = this,\n            coords = position.coords;\n\n        this.position = position;\n\n        me.setConfig({\n            timestamp: position.timestamp,\n            latitude: coords.latitude,\n            longitude: coords.longitude,\n            accuracy: coords.accuracy,\n            altitude: coords.altitude,\n            altitudeAccuracy: coords.altitudeAccuracy,\n            heading: coords.heading,\n            speed: coords.speed\n        });\n\n        me.fireEvent('locationupdate', me);\n    },\n\n    // @private\n    fireError: function(error) {\n        var errorCode = error.code;\n        this.fireEvent('locationerror', this,\n            errorCode == error.TIMEOUT,\n            errorCode == error.PERMISSION_DENIED,\n            errorCode == error.POSITION_UNAVAILABLE,\n            error.message == undefined ? null : error.message\n        );\n    },\n\n    // @private\n    parseOptions: function() {\n        var timeout = this.getTimeout(),\n            ret = {\n                maximumAge: this.getMaximumAge(),\n                allowHighAccuracy: this.getAllowHighAccuracy()\n            };\n\n        //Google doesn't like Infinity\n        if (timeout !== Infinity) {\n            ret.timeout = timeout;\n        }\n        return ret;\n    },\n\n    destroy : function() {\n        this.setAutoUpdate(false);\n    }\n});\n\n/**\n * A private utility class used by Ext.Carousel to create indicators.\n * @private\n */\nExt.define('Ext.carousel.Indicator', {\n    extend: 'Ext.Component',\n    xtype : 'carouselindicator',\n    alternateClassName: 'Ext.Carousel.Indicator',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'carousel-indicator',\n\n        direction: 'horizontal'\n    },\n\n    /**\n     * @event previous\n     * Fires when this indicator is tapped on the left half\n     * @param {Ext.carousel.Indicator} this\n     */\n\n    /**\n     * @event next\n     * Fires when this indicator is tapped on the right half\n     * @param {Ext.carousel.Indicator} this\n     */\n\n    initialize: function() {\n        this.callParent();\n\n        this.indicators = [];\n\n        this.element.on({\n            tap: 'onTap',\n            scope: this\n        });\n    },\n\n    updateDirection: function(newDirection, oldDirection) {\n        var baseCls = this.getBaseCls();\n\n        this.element.replaceCls(oldDirection, newDirection, baseCls);\n\n        if (newDirection === 'horizontal') {\n            this.setBottom(0);\n            this.setRight(null);\n        }\n        else {\n            this.setRight(0);\n            this.setBottom(null);\n        }\n    },\n\n    addIndicator: function() {\n        this.indicators.push(this.element.createChild({\n            tag: 'span'\n        }));\n    },\n\n    removeIndicator: function() {\n        var indicators = this.indicators;\n\n        if (indicators.length > 0) {\n            indicators.pop().destroy();\n        }\n    },\n\n    setActiveIndex: function(index) {\n        var indicators = this.indicators,\n            currentActiveIndex = this.activeIndex,\n            currentActiveItem = indicators[currentActiveIndex],\n            activeItem = indicators[index],\n            baseCls = this.getBaseCls();\n\n        if (currentActiveItem) {\n            currentActiveItem.removeCls(baseCls, null, 'active');\n        }\n\n        if (activeItem) {\n            activeItem.addCls(baseCls, null, 'active');\n        }\n\n        this.activeIndex = index;\n\n        return this;\n    },\n\n    // @private\n    onTap: function(e) {\n        var touch = e.touch,\n            box = this.element.getPageBox(),\n            centerX = box.left + (box.width / 2),\n            centerY = box.top + (box.height / 2),\n            direction = this.getDirection();\n\n        if ((direction === 'horizontal' && touch.pageX >= centerX) || (direction === 'vertical' && touch.pageY >= centerY)) {\n            this.fireEvent('next', this);\n        }\n        else {\n            this.fireEvent('previous', this);\n        }\n    },\n\n    destroy: function() {\n        var indicators = this.indicators,\n            i, ln, indicator;\n\n        for (i = 0,ln = indicators.length; i < ln; i++) {\n            indicator = indicators[i];\n            indicator.destroy();\n        }\n\n        indicators.length = 0;\n\n        this.callParent();\n    }\n});\n\n/**\n * @author Ed Spencer\n *\n * Represents a single read or write operation performed by a {@link Ext.data.proxy.Proxy Proxy}. Operation objects are\n * used to enable communication between Stores and Proxies. Application developers should rarely need to interact with\n * Operation objects directly.\n *\n * Note that when you define an Operation directly, you need to specify at least the {@link #model} configuration.\n *\n * Several Operations can be batched together in a {@link Ext.data.Batch batch}.\n */\nExt.define('Ext.data.Operation', {\n    config: {\n        /**\n         * @cfg {Boolean} synchronous\n         * True if this Operation is to be executed synchronously. This property is inspected by a\n         * {@link Ext.data.Batch Batch} to see if a series of Operations can be executed in parallel or not.\n         * @accessor\n         */\n        synchronous: true,\n\n        /**\n         * @cfg {String} action\n         * The action being performed by this Operation. Should be one of 'create', 'read', 'update' or 'destroy'.\n         * @accessor\n         */\n        action: null,\n\n        /**\n         * @cfg {Ext.util.Filter[]} filters\n         * Optional array of filter objects. Only applies to 'read' actions.\n         * @accessor\n         */\n        filters: null,\n\n        /**\n         * @cfg {Ext.util.Sorter[]} sorters\n         * Optional array of sorter objects. Only applies to 'read' actions.\n         * @accessor\n         */\n        sorters: null,\n\n        /**\n         * @cfg {Ext.util.Grouper} grouper\n         * Optional grouping configuration. Only applies to 'read' actions where grouping is desired.\n         * @accessor\n         */\n        grouper: null,\n\n        /**\n         * @cfg {Number} start\n         * The start index (offset), used in paging when running a 'read' action.\n         * @accessor\n         */\n        start: null,\n\n        /**\n         * @cfg {Number} limit\n         * The number of records to load. Used on 'read' actions when paging is being used.\n         * @accessor\n         */\n        limit: null,\n\n        /**\n         * @cfg {Ext.data.Batch} batch\n         * The batch that this Operation is a part of.\n         * @accessor\n         */\n        batch: null,\n\n        /**\n         * @cfg {Function} callback\n         * Function to execute when operation completed.\n         * @cfg {Ext.data.Model[]} callback.records Array of records.\n         * @cfg {Ext.data.Operation} callback.operation The Operation itself.\n         * @accessor\n         */\n        callback: null,\n\n        /**\n         * @cfg {Object} scope\n         * Scope for the {@link #callback} function.\n         * @accessor\n         */\n        scope: null,\n\n        /**\n         * @cfg {Ext.data.ResultSet} resultSet\n         * The ResultSet for this operation.\n         * @accessor\n         */\n        resultSet: null,\n\n        /**\n         * @cfg {Array} records\n         * The records associated to this operation. Before an operation starts, these\n         * are the records you are updating, creating, or destroying. After an operation\n         * is completed, a Proxy usually sets these records on the Operation to become\n         * the processed records. If you don't set these records on your operation in\n         * your proxy, then the getter will return the ones defined on the {@link #resultSet}\n         * @accessor\n         */\n        records: null,\n\n        /**\n         * @cfg {Ext.data.Request} request\n         * The request used for this Operation. Operations don't usually care about Request and Response data, but in the\n         * ServerProxy and any of its subclasses they may be useful for further processing.\n         * @accessor\n         */\n        request: null,\n\n        /**\n         * @cfg {Object} response\n         * The response that was gotten from the server if there was one.\n         * @accessor\n         */\n        response: null,\n\n        /**\n         * @cfg {Boolean} withCredentials\n         * This field is necessary when using cross-origin resource sharing.\n         * @accessor\n         */\n        withCredentials: null,\n\n        /**\n         * @cfg {Object} params\n         * The params send along with this operation. These usually apply to a Server proxy if you are\n         * creating your own custom proxy,\n         * @accessor\n         */\n        params: null,\n        url: null,\n        page: null,\n        node: null,\n\n        /**\n         * @cfg {Ext.data.Model} model\n         * The Model that this Operation will be dealing with. This configuration is required when defining any Operation.\n         * Since Operations take care of creating, updating, destroying and reading records, it needs access to the Model.\n         * @accessor\n         */\n        model: undefined,\n\n        addRecords: false\n    },\n\n    /**\n     * @property {Boolean} started\n     * Read-only property tracking the start status of this Operation. Use {@link #isStarted}.\n     * @private\n     */\n    started: false,\n\n    /**\n     * @property {Boolean} running\n     * Read-only property tracking the run status of this Operation. Use {@link #isRunning}.\n     * @private\n     */\n    running: false,\n\n    /**\n     * @property {Boolean} complete\n     * Read-only property tracking the completion status of this Operation. Use {@link #isComplete}.\n     * @private\n     */\n    complete: false,\n\n    /**\n     * @property {Boolean} success\n     * Read-only property tracking whether the Operation was successful or not. This starts as undefined and is set to true\n     * or false by the Proxy that is executing the Operation. It is also set to false by {@link #setException}. Use\n     * {@link #wasSuccessful} to query success status.\n     * @private\n     */\n    success: undefined,\n\n    /**\n     * @property {Boolean} exception\n     * Read-only property tracking the exception status of this Operation. Use {@link #hasException} and see {@link #getError}.\n     * @private\n     */\n    exception: false,\n\n    /**\n     * @property {String/Object} error\n     * The error object passed when {@link #setException} was called. This could be any object or primitive.\n     * @private\n     */\n    error: undefined,\n\n    /**\n     * Creates new Operation object.\n     * @param {Object} config (optional) Config object.\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applyModel: function(model) {\n        if (typeof model == 'string') {\n            model = Ext.data.ModelManager.getModel(model);\n\n            if (!model) {\n                Ext.Logger.error('Model with name ' + arguments[0] + ' doesnt exist.');\n            }\n        }\n\n        if (model && !model.prototype.isModel && Ext.isObject(model)) {\n            model = Ext.data.ModelManager.registerType(model.storeId || model.id || Ext.id(), model);\n        }\n\n        if (!model) {\n            Ext.Logger.warn('Unless you define your model using metadata, an Operation needs to have a model defined.');\n        }\n\n        return model;\n    },\n\n    getRecords: function() {\n        var resultSet = this.getResultSet();\n        return this._records || (resultSet ? resultSet.getRecords() : []);\n    },\n\n    /**\n     * Marks the Operation as started.\n     */\n    setStarted: function() {\n        this.started = true;\n        this.running = true;\n    },\n\n    /**\n     * Marks the Operation as completed.\n     */\n    setCompleted: function() {\n        this.complete = true;\n        this.running  = false;\n    },\n\n    /**\n     * Marks the Operation as successful.\n     */\n    setSuccessful: function() {\n        this.success = true;\n    },\n\n    /**\n     * Marks the Operation as having experienced an exception. Can be supplied with an option error message/object.\n     * @param {String/Object} error (optional) error string/object\n     */\n    setException: function(error) {\n        this.exception = true;\n        this.success = false;\n        this.running = false;\n        this.error = error;\n    },\n\n    /**\n     * Returns true if this Operation encountered an exception (see also {@link #getError})\n     * @return {Boolean} True if there was an exception\n     */\n    hasException: function() {\n        return this.exception === true;\n    },\n\n    /**\n     * Returns the error string or object that was set using {@link #setException}\n     * @return {String/Object} The error object\n     */\n    getError: function() {\n        return this.error;\n    },\n    \n    /**\n     * Returns true if the Operation has been started. Note that the Operation may have started AND completed, see\n     * {@link #isRunning} to test if the Operation is currently running.\n     * @return {Boolean} True if the Operation has started\n     */\n    isStarted: function() {\n        return this.started === true;\n    },\n\n    /**\n     * Returns true if the Operation has been started but has not yet completed.\n     * @return {Boolean} True if the Operation is currently running\n     */\n    isRunning: function() {\n        return this.running === true;\n    },\n\n    /**\n     * Returns true if the Operation has been completed\n     * @return {Boolean} True if the Operation is complete\n     */\n    isComplete: function() {\n        return this.complete === true;\n    },\n\n    /**\n     * Returns true if the Operation has completed and was successful\n     * @return {Boolean} True if successful\n     */\n    wasSuccessful: function() {\n        return this.isComplete() && this.success === true;\n    },\n\n    /**\n     * Checks whether this operation should cause writing to occur.\n     * @return {Boolean} Whether the operation should cause a write to occur.\n     */\n    allowWrite: function() {\n        return this.getAction() != 'read';\n    },\n\n    process: function(action, resultSet, request, response) {\n        if (resultSet.getSuccess() !== false) {\n            this.setResponse(response);\n            this.setResultSet(resultSet);\n            this.setCompleted();\n            this.setSuccessful();\n        } else {\n            return false;\n        }\n\n        return this['process' + Ext.String.capitalize(action)].call(this, resultSet, request, response);\n    },\n\n    processRead: function(resultSet) {\n        var records = resultSet.getRecords(),\n            processedRecords = [],\n            Model = this.getModel(),\n            ln = records.length,\n            i, record;\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            processedRecords.push(new Model(record.data, record.id, record.node));\n        }\n\n        this.setRecords(processedRecords);\n        return true;\n    },\n\n    processCreate: function(resultSet) {\n        var updatedRecords = resultSet.getRecords(),\n            currentRecords = this.getRecords(),\n            ln = updatedRecords.length,\n            i, currentRecord, updatedRecord;\n\n        for (i = 0; i < ln; i++) {\n            updatedRecord = updatedRecords[i];\n\n            if (updatedRecord.clientId === null && currentRecords.length == 1 && updatedRecords.length == 1) {\n                currentRecord = currentRecords[i];\n            } else {\n                currentRecord = this.findCurrentRecord(updatedRecord.clientId);\n            }\n\n            if (currentRecord) {\n                this.updateRecord(currentRecord, updatedRecord);\n            }\n            else {\n                Ext.Logger.warn('Unable to match the record that came back from the server.');\n            }\n        }\n\n        return true;\n    },\n\n    processUpdate: function(resultSet) {\n        var updatedRecords = resultSet.getRecords(),\n            currentRecords = this.getRecords(),\n            ln = updatedRecords.length,\n            i, currentRecord, updatedRecord;\n\n        for (i = 0; i < ln; i++) {\n            updatedRecord = updatedRecords[i];\n            currentRecord = currentRecords[i];\n\n            if (currentRecord) {\n                this.updateRecord(currentRecord, updatedRecord);\n            }\n            else {\n                Ext.Logger.warn('Unable to match the updated record that came back from the server.');\n            }\n        }\n\n        return true;\n    },\n\n    processDestroy: function(resultSet) {\n        var updatedRecords = resultSet.getRecords(),\n            ln = updatedRecords.length,\n            i, currentRecord, updatedRecord;\n\n        for (i = 0; i < ln; i++) {\n            updatedRecord = updatedRecords[i];\n            currentRecord = this.findCurrentRecord(updatedRecord.id);\n\n            if (currentRecord) {\n                currentRecord.setIsErased(true);\n                currentRecord.notifyStores('afterErase', currentRecord);\n            }\n            else {\n                Ext.Logger.warn('Unable to match the destroyed record that came back from the server.');\n            }\n        }\n    },\n\n    findCurrentRecord: function(clientId) {\n        var currentRecords = this.getRecords(),\n            ln = currentRecords.length,\n            i, currentRecord;\n\n        for (i = 0; i < ln; i++) {\n            currentRecord = currentRecords[i];\n            if (currentRecord.getId() === clientId) {\n                return currentRecord;\n            }\n        }\n    },\n\n    updateRecord: function(currentRecord, updatedRecord) {\n        var recordData = updatedRecord.data,\n            recordId = updatedRecord.id;\n\n        currentRecord.beginEdit();\n\n        currentRecord.set(recordData);\n        if (recordId !== null) {\n            currentRecord.setId(recordId);\n        }\n\n        // We call endEdit with silent: true because the commit below already makes\n        // sure any store is notified of the record being updated.\n        currentRecord.endEdit(true);\n        \n        currentRecord.commit();\n    }\n}, function() {\n    /**\n     * @member Ext.data.Operation\n     * @cfg {Boolean} group\n     * @inheritdoc Ext.data.Operation#grouper\n     * @deprecated 2.0.0 Please use {@link #grouper} instead.\n     */\n    Ext.deprecateProperty(this, 'group', 'grouper');\n});\n\n/**\n * @private\n */\nExt.define('Ext.util.Grouper', {\n\n    /* Begin Definitions */\n\n    extend: 'Ext.util.Sorter',\n\n    isGrouper: true,\n    \n    config: {\n        groupFn: null,\n\n        /**\n         * @cfg {String} sortProperty You can define this configuration if you want the groups to be sorted\n         * on something other then the group string returned by the groupFn.\n         * @param item1\n         * @param item2\n         */\n        sortProperty: null,\n\n        /**\n         * @cfg\n         * Grouper has a custom sorterFn that cannot be overriden by the user. If a property has been defined\n         * on this grouper, we use the default sorterFn, else we sort based on the returned group string.\n         * @param item1\n         * @param item2\n         * @private\n         * @hide\n         */\n        sorterFn: function(item1, item2) {\n            var property = this.getSortProperty(),\n                groupFn, group1, group2, modifier;\n\n            groupFn = this.getGroupFn();\n            group1 = groupFn.call(this, item1);\n            group2 = groupFn.call(this, item2);\n\n            if (property) {\n                if (group1 !== group2) {\n                    return this.defaultSortFn.call(this, item1, item2);\n                } else {\n                    return 0;\n                }\n            }\n            return (group1 > group2) ? 1 : ((group1 < group2) ? -1 : 0);\n        }\n    },\n\n    /**\n     * @private\n     * Basic default sorter function that just compares the defined property of each object\n     */\n    defaultSortFn: function(item1, item2) {\n        var me = this,\n            transform = me._transform,\n            root = me._root,\n            value1, value2,\n            property = me._sortProperty;\n\n        if (root !== null) {\n            item1 = item1[root];\n            item2 = item2[root];\n        }\n\n        value1 = item1[property];\n        value2 = item2[property];\n\n        if (transform) {\n            value1 = transform(value1);\n            value2 = transform(value2);\n        }\n\n        return value1 > value2 ? 1 : (value1 < value2 ? -1 : 0);\n    },\n\n    updateProperty: function(property) {\n        this.setGroupFn(this.standardGroupFn);\n    },\n\n    standardGroupFn: function(item) {\n        var root = this.getRoot(),\n            property = this.getProperty(),\n            data = item;\n\n        if (root) {\n            data = item[root];\n        }\n\n        return data[property];\n    },\n\n    getGroupString: function(item) {\n        var group = this.getGroupFn().call(this, item);\n        return typeof group != 'undefined' ? group.toString() : '';\n    }\n});\n/**\n * @aside guide ajax\n * @singleton\n *\n * This class is used to create JsonP requests. JsonP is a mechanism that allows for making requests for data cross\n * domain. More information is available [here](http://en.wikipedia.org/wiki/JSONP).\n *\n * ## Example\n *\n *     @example preview\n *     Ext.Viewport.add({\n *         xtype: 'button',\n *         text: 'Make JsonP Request',\n *         centered: true,\n *         handler: function(button) {\n *             // Mask the viewport\n *             Ext.Viewport.mask();\n *\n *             // Remove the button\n *             button.destroy();\n *\n *             // Make the JsonP request\n *             Ext.data.JsonP.request({\n *                 url: 'http://free.worldweatheronline.com/feed/weather.ashx',\n *                 callbackKey: 'callback',\n *                 params: {\n *                     key: '23f6a0ab24185952101705',\n *                     q: '94301', // Palo Alto\n *                     format: 'json',\n *                     num_of_days: 5\n *                 },\n *                 success: function(result, request) {\n *                     // Unmask the viewport\n *                     Ext.Viewport.unmask();\n *\n *                     // Get the weather data from the json object result\n *                     var weather = result.data.weather;\n *                     if (weather) {\n *                         // Style the viewport html, and set the html of the max temperature\n *                         Ext.Viewport.setStyleHtmlContent(true);\n *                         Ext.Viewport.setHtml('The temperature in Palo Alto is <b>' + weather[0].tempMaxF + '° F</b>');\n *                     }\n *                 }\n *             });\n *         }\n *     });\n *\n * See the {@link #request} method for more details on making a JsonP request.\n */\nExt.define('Ext.data.JsonP', {\n    alternateClassName: 'Ext.util.JSONP',\n\n    /* Begin Definitions */\n\n    singleton: true,\n\n    statics: {\n        requestCount: 0,\n        requests: {}\n    },\n\n    /* End Definitions */\n\n    /**\n     * @property {Number} [timeout=30000]\n     * A default timeout for any JsonP requests. If the request has not completed in this time the failure callback will\n     * be fired. The timeout is in ms. Defaults to 30000.\n     */\n    timeout: 30000,\n\n    /**\n     * @property {Boolean} [disableCaching=true]\n     * True to add a unique cache-buster param to requests. Defaults to true.\n     */\n    disableCaching: true,\n\n    /**\n     * @property {String} [disableCachingParam=\"_dc\"]\n     * Change the parameter which is sent went disabling caching through a cache buster. Defaults to '_dc'.\n     */\n    disableCachingParam: '_dc',\n\n    /**\n     * @property {String} [callbackKey=\"callback\"]\n     * Specifies the GET parameter that will be sent to the server containing the function name to be executed when the\n     * request completes. Defaults to callback. Thus, a common request will be in the form of\n     * url?callback=Ext.data.JsonP.callback1\n     */\n    callbackKey: 'callback',\n\n    /**\n     * Makes a JSONP request.\n     * @param {Object} options An object which may contain the following properties. Note that options will take\n     * priority over any defaults that are specified in the class.\n     *\n     * @param {String} options.url  The URL to request.\n     * @param {Object} [options.params]  An object containing a series of key value pairs that will be sent along with the request.\n     * @param {Number} [options.timeout]  See {@link #timeout}\n     * @param {String} [options.callbackKey]  See {@link #callbackKey}\n     * @param {String} [options.callbackName]  See {@link #callbackKey}\n     *   The function name to use for this request. By default this name will be auto-generated: Ext.data.JsonP.callback1,\n     *   Ext.data.JsonP.callback2, etc. Setting this option to \"my_name\" will force the function name to be\n     *   Ext.data.JsonP.my_name. Use this if you want deterministic behavior, but be careful - the callbackName should be\n     *   different in each JsonP request that you make.\n     * @param {Boolean}  [options.disableCaching]  See {@link #disableCaching}\n     * @param {String}   [options.disableCachingParam]  See {@link #disableCachingParam}\n     * @param {Function} [options.success]  A function to execute if the request succeeds.\n     * @param {Function} [options.failure]  A function to execute if the request fails.\n     * @param {Function} [options.callback]  A function to execute when the request completes, whether it is a success or failure.\n     * @param {Object}   [options.scope]  The scope in which to execute the callbacks: The \"this\" object for the\n     *   callback function. Defaults to the browser window.\n     *\n     * @return {Object}  request An object containing the request details.\n     */\n    request: function(options){\n        options = Ext.apply({}, options);\n\n        if (!options.url) {\n            Ext.Logger.error('A url must be specified for a JSONP request.');\n        }\n\n        var me = this,\n            disableCaching = Ext.isDefined(options.disableCaching) ? options.disableCaching : me.disableCaching,\n            cacheParam = options.disableCachingParam || me.disableCachingParam,\n            id = ++me.statics().requestCount,\n            callbackName = options.callbackName || 'callback' + id,\n            callbackKey = options.callbackKey || me.callbackKey,\n            timeout = Ext.isDefined(options.timeout) ? options.timeout : me.timeout,\n            params = Ext.apply({}, options.params),\n            url = options.url,\n            name = Ext.isSandboxed ? Ext.getUniqueGlobalNamespace() : 'Ext',\n            request,\n            script;\n\n        params[callbackKey] = name + '.data.JsonP.' + callbackName;\n        if (disableCaching) {\n            params[cacheParam] = new Date().getTime();\n        }\n\n        script = me.createScript(url, params, options);\n\n        me.statics().requests[id] = request = {\n            url: url,\n            params: params,\n            script: script,\n            id: id,\n            scope: options.scope,\n            success: options.success,\n            failure: options.failure,\n            callback: options.callback,\n            callbackKey: callbackKey,\n            callbackName: callbackName\n        };\n\n        if (timeout > 0) {\n            request.timeout = setTimeout(Ext.bind(me.handleTimeout, me, [request]), timeout);\n        }\n\n        me.setupErrorHandling(request);\n        me[callbackName] = Ext.bind(me.handleResponse, me, [request], true);\n        me.loadScript(request);\n        return request;\n    },\n\n    /**\n     * Abort a request. If the request parameter is not specified all open requests will be aborted.\n     * @param {Object/String} request The request to abort\n     */\n    abort: function(request){\n        var requests = this.statics().requests,\n            key;\n\n        if (request) {\n            if (!request.id) {\n                request = requests[request];\n            }\n            this.abort(request);\n        } else {\n            for (key in requests) {\n                if (requests.hasOwnProperty(key)) {\n                    this.abort(requests[key]);\n                }\n            }\n        }\n    },\n\n    /**\n     * Sets up error handling for the script\n     * @private\n     * @param {Object} request The request\n     */\n    setupErrorHandling: function(request){\n        request.script.onerror = Ext.bind(this.handleError, this, [request]);\n    },\n\n    /**\n     * Handles any aborts when loading the script\n     * @private\n     * @param {Object} request The request\n     */\n    handleAbort: function(request){\n        request.errorType = 'abort';\n        this.handleResponse(null, request);\n    },\n\n    /**\n     * Handles any script errors when loading the script\n     * @private\n     * @param {Object} request The request\n     */\n    handleError: function(request){\n        request.errorType = 'error';\n        this.handleResponse(null, request);\n    },\n\n    /**\n     * Cleans up anu script handling errors\n     * @private\n     * @param {Object} request The request\n     */\n    cleanupErrorHandling: function(request){\n        request.script.onerror = null;\n    },\n\n    /**\n     * Handle any script timeouts\n     * @private\n     * @param {Object} request The request\n     */\n    handleTimeout: function(request){\n        request.errorType = 'timeout';\n        this.handleResponse(null, request);\n    },\n\n    /**\n     * Handle a successful response\n     * @private\n     * @param {Object} result The result from the request\n     * @param {Object} request The request\n     */\n    handleResponse: function(result, request){\n        var success = true;\n\n        if (request.timeout) {\n            clearTimeout(request.timeout);\n        }\n\n        delete this[request.callbackName];\n        delete this.statics()[request.id];\n\n        this.cleanupErrorHandling(request);\n        Ext.fly(request.script).destroy();\n\n        if (request.errorType) {\n            success = false;\n            Ext.callback(request.failure, request.scope, [request.errorType, request]);\n        } else {\n            Ext.callback(request.success, request.scope, [result, request]);\n        }\n        Ext.callback(request.callback, request.scope, [success, result, request.errorType, request]);\n    },\n\n    /**\n     * Create the script tag given the specified url, params and options. The options\n     * parameter is passed to allow an override to access it.\n     * @private\n     * @param {String} url The url of the request\n     * @param {Object} params Any extra params to be sent\n     * @param {Object} options The object passed to {@link #request}.\n     */\n    createScript: function(url, params, options) {\n        var script = document.createElement('script');\n        script.setAttribute(\"src\", Ext.urlAppend(url, Ext.Object.toQueryString(params)));\n        script.setAttribute(\"async\", true);\n        script.setAttribute(\"type\", \"text/javascript\");\n        return script;\n    },\n\n    /**\n     * Loads the script for the given request by appending it to the HEAD element. This is\n     * its own method so that users can override it (as well as {@link #createScript}).\n     * @private\n     * @param request The request object.\n     */\n    loadScript: function (request) {\n        Ext.getHead().appendChild(request.script);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.mixin.Sortable', {\n    extend: 'Ext.mixin.Mixin',\n\n    requires: [\n        'Ext.util.Sorter'\n    ],\n\n    mixinConfig: {\n        id: 'sortable'\n    },\n\n    config: {\n        /**\n         * @cfg {Array} sorters\n         * An array with sorters. A sorter can be an instance of Ext.util.Sorter, a string\n         * indicating a property name, an object representing an Ext.util.Sorter configuration,\n         * or a sort function.\n         */\n        sorters: null,\n\n        /**\n         * @cfg {String} defaultSortDirection\n         * The default sort direction to use if one is not specified (defaults to \"ASC\")\n         */\n        defaultSortDirection: \"ASC\",\n\n        /**\n         * @cfg {String} sortRoot\n         * The root inside each item in which the properties exist that we want to sort on.\n         * This is useful for sorting records in which the data exists inside a 'data' property.\n         */\n        sortRoot: null\n    },\n\n    /**\n     * @property {Boolean} dirtySortFn\n     * A flag indicating wether the currently cashed sort function is still valid. Read-only.\n     */\n    dirtySortFn: false,\n\n    /**\n     * @property currentSortFn\n     * This is the cached sorting function which is a generated function that calls all the\n     * configured sorters in the correct order. This is a read-only property.\n     */\n    sortFn: null,\n\n    /**\n     * @property {Boolean} sorted\n     * A read-only flag indicating if this object is sorted\n     */\n    sorted: false,\n\n    applySorters: function(sorters, collection) {\n        if (!collection) {\n            collection = this.createSortersCollection();\n        }\n\n        collection.clear();\n        this.sorted = false;\n\n        if (sorters) {\n            this.addSorters(sorters);\n        }\n\n        return collection;\n    },\n\n    createSortersCollection: function() {\n        this._sorters = Ext.create('Ext.util.Collection', function(sorter) {\n            return sorter.getId();\n        });\n        return this._sorters;\n    },\n\n    /**\n     * This method adds a sorter.\n     * @param {Ext.util.Sorter/String/Function/Object} sorter Can be an instance of\n     * Ext.util.Sorter, a string indicating a property name, an object representing an Ext.util.Sorter\n     * configuration, or a sort function.\n     * @param {String} defaultDirection The default direction for each sorter in the array. Defaults\n     * to the value of {@link #defaultSortDirection}. Can be either 'ASC' or 'DESC'.\n     */\n    addSorter: function(sorter, defaultDirection) {\n        this.addSorters([sorter], defaultDirection);\n    },\n\n    /**\n     * This method adds all the sorters in a passed array.\n     * @param {Array} sorters An array with sorters. A sorter can be an instance of Ext.util.Sorter, a string\n     * indicating a property name, an object representing an Ext.util.Sorter configuration,\n     * or a sort function.\n     * @param {String} defaultDirection The default direction for each sorter in the array. Defaults\n     * to the value of {@link #defaultSortDirection}. Can be either 'ASC' or 'DESC'.\n     */\n    addSorters: function(sorters, defaultDirection) {\n        var currentSorters = this.getSorters();\n        return this.insertSorters(currentSorters ? currentSorters.length : 0, sorters, defaultDirection);\n    },\n\n    /**\n     * This method adds a sorter at a given index.\n     * @param {Number} index The index at which to insert the sorter.\n     * @param {Ext.util.Sorter/String/Function/Object} sorter Can be an instance of Ext.util.Sorter,\n     * a string indicating a property name, an object representing an Ext.util.Sorter configuration,\n     * or a sort function.\n     * @param {String} defaultDirection The default direction for each sorter in the array. Defaults\n     * to the value of {@link #defaultSortDirection}. Can be either 'ASC' or 'DESC'.\n     */\n    insertSorter: function(index, sorter, defaultDirection) {\n        return this.insertSorters(index, [sorter], defaultDirection);\n    },\n\n    /**\n     * This method inserts all the sorters in the passed array at the given index.\n     * @param {Number} index The index at which to insert the sorters.\n     * @param {Array} sorters Can be an instance of Ext.util.Sorter, a string indicating a property name,\n     * an object representing an Ext.util.Sorter configuration, or a sort function.\n     * @param {String} defaultDirection The default direction for each sorter in the array. Defaults\n     * to the value of {@link #defaultSortDirection}. Can be either 'ASC' or 'DESC'.\n     */\n    insertSorters: function(index, sorters, defaultDirection) {\n        // We begin by making sure we are dealing with an array of sorters\n        if (!Ext.isArray(sorters)) {\n            sorters = [sorters];\n        }\n\n        var ln = sorters.length,\n            direction = defaultDirection || this.getDefaultSortDirection(),\n            sortRoot = this.getSortRoot(),\n            currentSorters = this.getSorters(),\n            newSorters = [],\n            sorterConfig, i, sorter, currentSorter;\n\n        if (!currentSorters) {\n            // This will guarantee that we get the collection\n            currentSorters = this.createSortersCollection();\n        }\n\n        // We first have to convert every sorter into a proper Sorter instance\n        for (i = 0; i < ln; i++) {\n            sorter = sorters[i];\n            sorterConfig = {\n                direction: direction,\n                root: sortRoot\n            };\n\n            // If we are dealing with a string we assume it is a property they want to sort on.\n            if (typeof sorter === 'string') {\n                currentSorter = currentSorters.get(sorter);\n\n                if (!currentSorter) {\n                    sorterConfig.property = sorter;\n                } else {\n                    if (defaultDirection) {\n                        currentSorter.setDirection(defaultDirection);\n                    } else {\n                        // If we already have a sorter for this property we just toggle its direction.\n                        currentSorter.toggle();\n                    }\n                    continue;\n                }\n            }\n            // If it is a function, we assume its a sorting function.\n            else if (Ext.isFunction(sorter)) {\n                sorterConfig.sorterFn = sorter;\n            }\n            // If we are dealing with an object, we assume its a Sorter configuration. In this case\n            // we create an instance of Sorter passing this configuration.\n            else if (Ext.isObject(sorter)) {\n                if (!sorter.isSorter) {\n                    if (sorter.fn) {\n                        sorter.sorterFn = sorter.fn;\n                        delete sorter.fn;\n                    }\n\n                    sorterConfig = Ext.apply(sorterConfig, sorter);\n                }\n                else {\n                    newSorters.push(sorter);\n                    if (!sorter.getRoot()) {\n                        sorter.setRoot(sortRoot);\n                    }\n                    continue;\n                }\n            }\n            // Finally we get to the point where it has to be invalid\n            else {\n                Ext.Logger.warn('Invalid sorter specified:', sorter);\n            }\n\n            // If a sorter config was created, make it an instance\n            sorter = Ext.create('Ext.util.Sorter', sorterConfig);\n            newSorters.push(sorter);\n        }\n\n        // Now lets add the newly created sorters.\n        for (i = 0, ln = newSorters.length; i < ln; i++) {\n            currentSorters.insert(index + i, newSorters[i]);\n        }\n\n        this.dirtySortFn = true;\n\n        if (currentSorters.length) {\n            this.sorted = true;\n        }\n        return currentSorters;\n    },\n\n    /**\n     * This method removes a sorter.\n     * @param {Ext.util.Sorter/String/Function/Object} sorter Can be an instance of Ext.util.Sorter,\n     * a string indicating a property name, an object representing an Ext.util.Sorter configuration,\n     * or a sort function.\n     */\n    removeSorter: function(sorter) {\n        return this.removeSorters([sorter]);\n    },\n\n    /**\n     * This method removes all the sorters in a passed array.\n     * @param {Array} sorters Each value in the array can be a string (property name),\n     * function (sorterFn) or {@link Ext.util.Sorter Sorter} instance.\n     */\n    removeSorters: function(sorters) {\n        // We begin by making sure we are dealing with an array of sorters\n        if (!Ext.isArray(sorters)) {\n            sorters = [sorters];\n        }\n\n        var ln = sorters.length,\n            currentSorters = this.getSorters(),\n            i, sorter;\n\n        for (i = 0; i < ln; i++) {\n            sorter = sorters[i];\n\n            if (typeof sorter === 'string') {\n                currentSorters.removeAtKey(sorter);\n            }\n            else if (typeof sorter === 'function') {\n                currentSorters.each(function(item) {\n                    if (item.getSorterFn() === sorter) {\n                        currentSorters.remove(item);\n                    }\n                });\n            }\n            else if (sorter.isSorter) {\n                currentSorters.remove(sorter);\n            }\n        }\n\n        if (!currentSorters.length) {\n            this.sorted = false;\n        }\n    },\n\n    /**\n     * This updates the cached sortFn based on the current sorters.\n     * @return {Function} sortFn The generated sort function.\n     * @private\n     */\n    updateSortFn: function() {\n        var sorters = this.getSorters().items;\n\n        this.sortFn = function(r1, r2) {\n            var ln = sorters.length,\n                result, i;\n\n            // We loop over each sorter and check if r1 should be before or after r2\n            for (i = 0; i < ln; i++) {\n                result = sorters[i].sort.call(this, r1, r2);\n\n                // If the result is -1 or 1 at this point it means that the sort is done.\n                // Only if they are equal (0) we continue to see if a next sort function\n                // actually might find a winner.\n                if (result !== 0) {\n                    break;\n                }\n            }\n\n            return result;\n        };\n\n        this.dirtySortFn = false;\n        return this.sortFn;\n    },\n\n    /**\n     * Returns an up to date sort function.\n     * @return {Function} sortFn The sort function.\n     */\n    getSortFn: function() {\n        if (this.dirtySortFn) {\n            return this.updateSortFn();\n        }\n        return this.sortFn;\n    },\n\n    /**\n     * This method will sort an array based on the currently configured {@link #sorters}.\n     * @param {Array} data The array you want to have sorted\n     * @return {Array} data The array you passed after it is sorted\n     */\n    sort: function(data) {\n        Ext.Array.sort(data, this.getSortFn());\n        return data;\n    },\n\n    /**\n     * This method returns the index that a given item would be inserted into a given array based\n     * on the current sorters.\n     * @param {Array} items The array that you want to insert the item into.\n     * @param {Mixed} item The item that you want to insert into the items array.\n     * @returns {Number} index The index for the given item in the given array based on the current sorters.\n     */\n    findInsertionIndex: function(items, item, sortFn) {\n        var start = 0,\n            end   = items.length - 1,\n            sorterFn = sortFn || this.getSortFn(),\n            middle,\n            comparison;\n\n        while (start <= end) {\n            middle = (start + end) >> 1;\n            comparison = sorterFn(item, items[middle]);\n            if (comparison >= 0) {\n                start = middle + 1;\n            } else if (comparison < 0) {\n                end = middle - 1;\n            }\n        }\n\n        return start;\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.mixin.Filterable', {\n    extend: 'Ext.mixin.Mixin',\n\n    requires: [\n        'Ext.util.Filter'\n    ],\n\n    mixinConfig: {\n        id: 'filterable'\n    },\n\n    config: {\n        /**\n         * @cfg {Array} filters\n         * An array with filters. A filter can be an instance of Ext.util.Filter,\n         * an object representing an Ext.util.Filter configuration, or a filter function.\n         */\n        filters: null,\n\n        /**\n         * @cfg {String} filterRoot\n         * The root inside each item in which the properties exist that we want to filter on.\n         * This is useful for filtering records in which the data exists inside a 'data' property.\n         */\n        filterRoot: null\n    },\n\n    /**\n     * @property {Boolean} dirtyFilterFn\n     * A flag indicating wether the currently cashed filter function is still valid. Read-only.\n     */\n    dirtyFilterFn: false,\n\n    /**\n     * @property currentSortFn\n     * This is the cached sorting function which is a generated function that calls all the\n     * configured sorters in the correct order. This is a read-only property.\n     */\n    filterFn: null,\n\n    /**\n     * @property {Boolean} filtered\n     * A read-only flag indicating if this object is filtered\n     */\n    filtered: false,\n\n    applyFilters: function(filters, collection) {\n        if (!collection) {\n            collection = this.createFiltersCollection();\n        }\n\n        collection.clear();\n\n        this.filtered = false;\n        this.dirtyFilterFn = true;\n\n        if (filters) {\n            this.addFilters(filters);\n        }\n\n        return collection;\n    },\n\n    createFiltersCollection: function() {\n        this._filters = Ext.create('Ext.util.Collection', function(filter) {\n            return filter.getId();\n        });\n        return this._filters;\n    },\n\n    /**\n     * This method adds a filter.\n     * @param {Ext.util.Sorter/Function/Object} filter Can be an instance of Ext.util.Filter,\n     * an object representing an Ext.util.Filter configuration, or a filter function.\n     */\n    addFilter: function(filter) {\n        this.addFilters([filter]);\n    },\n\n    /**\n     * This method adds all the filters in a passed array.\n     * @param {Array} filters An array with filters. A filter can be an instance of Ext.util.Filter,\n     * an object representing an Ext.util.Filter configuration, or a filter function.\n     */\n    addFilters: function(filters) {\n        var currentFilters = this.getFilters();\n        return this.insertFilters(currentFilters ? currentFilters.length : 0, filters);\n    },\n\n    /**\n     * This method adds a filter at a given index.\n     * @param {Number} index The index at which to insert the filter.\n     * @param {Ext.util.Sorter/Function/Object} filter Can be an instance of Ext.util.Filter,\n     * an object representing an Ext.util.Filter configuration, or a filter function.\n     */\n    insertFilter: function(index, filter) {\n        return this.insertFilters(index, [filter]);\n    },\n\n    /**\n     * This method inserts all the filters in the passed array at the given index.\n     * @param {Number} index The index at which to insert the filters.\n     * @param {Array} filters Each filter can be an instance of Ext.util.Filter,\n     * an object representing an Ext.util.Filter configuration, or a filter function.\n     */\n    insertFilters: function(index, filters) {\n        // We begin by making sure we are dealing with an array of sorters\n        if (!Ext.isArray(filters)) {\n            filters = [filters];\n        }\n\n        var ln = filters.length,\n            filterRoot = this.getFilterRoot(),\n            currentFilters = this.getFilters(),\n            newFilters = [],\n            filterConfig, i, filter;\n\n        if (!currentFilters) {\n            currentFilters = this.createFiltersCollection();\n        }\n\n        // We first have to convert every sorter into a proper Sorter instance\n        for (i = 0; i < ln; i++) {\n            filter = filters[i];\n            filterConfig = {\n                root: filterRoot\n            };\n\n            if (Ext.isFunction(filter)) {\n                filterConfig.filterFn = filter;\n            }\n            // If we are dealing with an object, we assume its a Sorter configuration. In this case\n            // we create an instance of Sorter passing this configuration.\n            else if (Ext.isObject(filter)) {\n                if (!filter.isFilter) {\n                    if (filter.fn) {\n                        filter.filterFn = filter.fn;\n                        delete filter.fn;\n                    }\n\n                    filterConfig = Ext.apply(filterConfig, filter);\n                }\n                else {\n                    newFilters.push(filter);\n                    if (!filter.getRoot()) {\n                        filter.setRoot(filterRoot);\n                    }\n                    continue;\n                }\n            }\n            // Finally we get to the point where it has to be invalid\n            else {\n                Ext.Logger.warn('Invalid filter specified:', filter);\n            }\n\n            // If a sorter config was created, make it an instance\n            filter = Ext.create('Ext.util.Filter', filterConfig);\n            newFilters.push(filter);\n        }\n\n        // Now lets add the newly created sorters.\n        for (i = 0, ln = newFilters.length; i < ln; i++) {\n            currentFilters.insert(index + i, newFilters[i]);\n        }\n\n        this.dirtyFilterFn = true;\n\n        if (currentFilters.length) {\n            this.filtered = true;\n        }\n\n        return currentFilters;\n    },\n\n    /**\n     * This method removes all the filters in a passed array.\n     * @param {Array} filters Each value in the array can be a string (property name),\n     * function (sorterFn), an object containing a property and value keys or\n     * {@link Ext.util.Sorter Sorter} instance.\n     */\n    removeFilters: function(filters) {\n        // We begin by making sure we are dealing with an array of sorters\n        if (!Ext.isArray(filters)) {\n            filters = [filters];\n        }\n\n        var ln = filters.length,\n            currentFilters = this.getFilters(),\n            i, filter;\n\n        for (i = 0; i < ln; i++) {\n            filter = filters[i];\n\n            if (typeof filter === 'string') {\n                currentFilters.each(function(item) {\n                    if (item.getProperty() === filter) {\n                        currentFilters.remove(item);\n                    }\n                });\n            }\n            else if (typeof filter === 'function') {\n                currentFilters.each(function(item) {\n                    if (item.getFilterFn() === filter) {\n                        currentFilters.remove(item);\n                    }\n                });\n            }\n            else {\n                if (filter.isFilter) {\n                    currentFilters.remove(filter);\n                }\n                else if (filter.property !== undefined && filter.value !== undefined) {\n                    currentFilters.each(function(item) {\n                        if (item.getProperty() === filter.property && item.getValue() === filter.value) {\n                            currentFilters.remove(item);\n                        }\n                    });\n                }\n            }\n        }\n\n        if (!currentFilters.length) {\n            this.filtered = false;\n        }\n    },\n\n    /**\n     * This updates the cached sortFn based on the current sorters.\n     * @return {Function} sortFn The generated sort function.\n     * @private\n     */\n    updateFilterFn: function() {\n        var filters = this.getFilters().items;\n\n        this.filterFn = function(item) {\n            var isMatch = true,\n                length = filters.length,\n                i;\n\n            for (i = 0; i < length; i++) {\n                var filter = filters[i],\n                    fn     = filter.getFilterFn(),\n                    scope  = filter.getScope() || this;\n\n                isMatch = isMatch && fn.call(scope, item);\n            }\n\n            return isMatch;\n        };\n\n        this.dirtyFilterFn = false;\n        return this.filterFn;\n    },\n\n    /**\n     * This method will sort an array based on the currently configured {@link Ext.data.Store#sorters sorters}.\n     * @param {Array} data The array you want to have sorted\n     * @return {Array} The array you passed after it is sorted\n     */\n    filter: function(data) {\n        return this.getFilters().length ? Ext.Array.filter(data, this.getFilterFn()) : data;\n    },\n\n    isFiltered: function(item) {\n        return this.getFilters().length ? !this.getFilterFn()(item) : false;\n    },\n\n    /**\n     * Returns an up to date sort function.\n     * @return {Function} sortFn The sort function.\n     */\n    getFilterFn: function() {\n        if (this.dirtyFilterFn) {\n            return this.updateFilterFn();\n        }\n        return this.filterFn;\n    }\n});\n\n/**\n * @class Ext.data.SortTypes\n * This class defines a series of static methods that are used on a\n * {@link Ext.data.Field} for performing sorting. The methods cast the\n * underlying values into a data type that is appropriate for sorting on\n * that particular field.  If a {@link Ext.data.Field#type} is specified,\n * the sortType will be set to a sane default if the sortType is not\n * explicitly defined on the field. The sortType will make any necessary\n * modifications to the value and return it.\n * <ul>\n * <li><b>asText</b> - Removes any tags and converts the value to a string</li>\n * <li><b>asUCText</b> - Removes any tags and converts the value to an uppercase string</li>\n * <li><b>asUCText</b> - Converts the value to an uppercase string</li>\n * <li><b>asDate</b> - Converts the value into Unix epoch time</li>\n * <li><b>asFloat</b> - Converts the value to a floating point number</li>\n * <li><b>asInt</b> - Converts the value to an integer number</li>\n * </ul>\n * <p>\n * It is also possible to create a custom sortType that can be used throughout\n * an application.\n * <pre><code>\nExt.apply(Ext.data.SortTypes, {\n    asPerson: function(person){\n        // expects an object with a first and last name property\n        return person.lastName.toUpperCase() + person.firstName.toLowerCase();\n    }\n});\n\nExt.define('Employee', {\n    extend: 'Ext.data.Model',\n    config: {\n        fields: [{\n            name: 'person',\n            sortType: 'asPerson'\n        }, {\n            name: 'salary',\n            type: 'float' // sortType set to asFloat\n        }]\n    }\n});\n * </code></pre>\n * </p>\n * @singleton\n * @docauthor Evan Trimboli <evan@sencha.com>\n */\nExt.define('Ext.data.SortTypes', {\n    singleton: true,\n\n    /**\n     * The regular expression used to strip tags\n     * @type {RegExp}\n     * @property\n     */\n    stripTagsRE : /<\\/?[^>]+>/gi,\n\n    /**\n     * Default sort that does nothing\n     * @param {Object} value The value being converted\n     * @return {Object} The comparison value\n     */\n    none : function(value) {\n        return value;\n    },\n\n    /**\n     * Strips all HTML tags to sort on text only\n     * @param {Object} value The value being converted\n     * @return {String} The comparison value\n     */\n    asText : function(value) {\n        return String(value).replace(this.stripTagsRE, \"\");\n    },\n\n    /**\n     * Strips all HTML tags to sort on text only - Case insensitive\n     * @param {Object} value The value being converted\n     * @return {String} The comparison value\n     */\n    asUCText : function(value) {\n        return String(value).toUpperCase().replace(this.stripTagsRE, \"\");\n    },\n\n    /**\n     * Case insensitive string\n     * @param {Object} value The value being converted\n     * @return {String} The comparison value\n     */\n    asUCString : function(value) {\n        return String(value).toUpperCase();\n    },\n\n    /**\n     * Date sorting\n     * @param {Object} value The value being converted\n     * @return {Number} The comparison value\n     */\n    asDate : function(value) {\n        if (!value) {\n            return 0;\n        }\n        if (Ext.isDate(value)) {\n            return value.getTime();\n        }\n        return Date.parse(String(value));\n    },\n\n    /**\n     * Float sorting\n     * @param {Object} value The value being converted\n     * @return {Number} The comparison value\n     */\n    asFloat : function(value) {\n        value = parseFloat(String(value).replace(/,/g, \"\"));\n        return isNaN(value) ? 0 : value;\n    },\n\n    /**\n     * Integer sorting\n     * @param {Object} value The value being converted\n     * @return {Number} The comparison value\n     */\n    asInt : function(value) {\n        value = parseInt(String(value).replace(/,/g, \"\"), 10);\n        return isNaN(value) ? 0 : value;\n    }\n});\n/**\n * <p>General purpose inflector class that {@link #pluralize pluralizes}, {@link #singularize singularizes} and \n * {@link #ordinalize ordinalizes} words. Sample usage:</p>\n * \n<pre><code>\n//turning singular words into plurals\nExt.util.Inflector.pluralize('word'); //'words'\nExt.util.Inflector.pluralize('person'); //'people'\nExt.util.Inflector.pluralize('sheep'); //'sheep'\n\n//turning plurals into singulars\nExt.util.Inflector.singularize('words'); //'word'\nExt.util.Inflector.singularize('people'); //'person'\nExt.util.Inflector.singularize('sheep'); //'sheep'\n\n//ordinalizing numbers\nExt.util.Inflector.ordinalize(11); //\"11th\"\nExt.util.Inflector.ordinalize(21); //\"21st\"\nExt.util.Inflector.ordinalize(1043); //\"1043rd\"\n</code></pre>\n * \n * <p><u>Customization</u></p>\n * \n * <p>The Inflector comes with a default set of US English pluralization rules. These can be augmented with additional\n * rules if the default rules do not meet your application's requirements, or swapped out entirely for other languages.\n * Here is how we might add a rule that pluralizes \"ox\" to \"oxen\":</p>\n * \n<pre><code>\nExt.util.Inflector.plural(/^(ox)$/i, \"$1en\");\n</code></pre>\n * \n * <p>Each rule consists of two items - a regular expression that matches one or more rules, and a replacement string.\n * In this case, the regular expression will only match the string \"ox\", and will replace that match with \"oxen\". \n * Here's how we could add the inverse rule:</p>\n * \n<pre><code>\nExt.util.Inflector.singular(/^(ox)en$/i, \"$1\");\n</code></pre>\n * \n * <p>Note that the ox/oxen rules are present by default.</p>\n */\nExt.define('Ext.util.Inflector', {\n\n    /* Begin Definitions */\n\n    singleton: true,\n\n    /* End Definitions */\n\n    /**\n     * @private\n     * The registered plural tuples. Each item in the array should contain two items - the first must be a regular\n     * expression that matchers the singular form of a word, the second must be a String that replaces the matched\n     * part of the regular expression. This is managed by the {@link #plural} method.\n     * @property plurals\n     * @type Array\n     */\n    plurals: [\n        [(/(quiz)$/i),                \"$1zes\"  ],\n        [(/^(ox)$/i),                 \"$1en\"   ],\n        [(/([m|l])ouse$/i),           \"$1ice\"  ],\n        [(/(matr|vert|ind)ix|ex$/i),  \"$1ices\" ],\n        [(/(x|ch|ss|sh)$/i),          \"$1es\"   ],\n        [(/([^aeiouy]|qu)y$/i),       \"$1ies\"  ],\n        [(/(hive)$/i),                \"$1s\"    ],\n        [(/(?:([^f])fe|([lr])f)$/i),  \"$1$2ves\"],\n        [(/sis$/i),                   \"ses\"    ],\n        [(/([ti])um$/i),              \"$1a\"    ],\n        [(/(buffal|tomat|potat)o$/i), \"$1oes\"  ],\n        [(/(bu)s$/i),                 \"$1ses\"  ],\n        [(/(alias|status|sex)$/i),    \"$1es\"   ],\n        [(/(octop|vir)us$/i),         \"$1i\"    ],\n        [(/(ax|test)is$/i),           \"$1es\"   ],\n        [(/^person$/),                \"people\" ],\n        [(/^man$/),                   \"men\"    ],\n        [(/^(child)$/),               \"$1ren\"  ],\n        [(/s$/i),                     \"s\"      ],\n        [(/$/),                       \"s\"      ]\n    ],\n    \n    /**\n     * @private\n     * The set of registered singular matchers. Each item in the array should contain two items - the first must be a \n     * regular expression that matches the plural form of a word, the second must be a String that replaces the \n     * matched part of the regular expression. This is managed by the {@link #singular} method.\n     * @property singulars\n     * @type Array\n     */\n    singulars: [\n      [(/(quiz)zes$/i),                                                    \"$1\"     ],\n      [(/(matr)ices$/i),                                                   \"$1ix\"   ],\n      [(/(vert|ind)ices$/i),                                               \"$1ex\"   ],\n      [(/^(ox)en/i),                                                       \"$1\"     ],\n      [(/(alias|status)es$/i),                                             \"$1\"     ],\n      [(/(octop|vir)i$/i),                                                 \"$1us\"   ],\n      [(/(cris|ax|test)es$/i),                                             \"$1is\"   ],\n      [(/(shoe)s$/i),                                                      \"$1\"     ],\n      [(/(o)es$/i),                                                        \"$1\"     ],\n      [(/(bus)es$/i),                                                      \"$1\"     ],\n      [(/([m|l])ice$/i),                                                   \"$1ouse\" ],\n      [(/(x|ch|ss|sh)es$/i),                                               \"$1\"     ],\n      [(/(m)ovies$/i),                                                     \"$1ovie\" ],\n      [(/(s)eries$/i),                                                     \"$1eries\"],\n      [(/([^aeiouy]|qu)ies$/i),                                            \"$1y\"    ],\n      [(/([lr])ves$/i),                                                    \"$1f\"    ],\n      [(/(tive)s$/i),                                                      \"$1\"     ],\n      [(/(hive)s$/i),                                                      \"$1\"     ],\n      [(/([^f])ves$/i),                                                    \"$1fe\"   ],\n      [(/(^analy)ses$/i),                                                  \"$1sis\"  ],\n      [(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i), \"$1$2sis\"],\n      [(/([ti])a$/i),                                                      \"$1um\"   ],\n      [(/(n)ews$/i),                                                       \"$1ews\"  ],\n      [(/people$/i),                                                       \"person\" ],\n      [(/s$/i),                                                            \"\"       ]\n    ],\n    \n    /**\n     * @private\n     * The registered uncountable words\n     * @property uncountable\n     * @type Array\n     */\n     uncountable: [\n        \"sheep\",\n        \"fish\",\n        \"series\",\n        \"species\",\n        \"money\",\n        \"rice\",\n        \"information\",\n        \"equipment\",\n        \"grass\",\n        \"mud\",\n        \"offspring\",\n        \"deer\",\n        \"means\"\n    ],\n    \n    /**\n     * Adds a new singularization rule to the Inflector. See the intro docs for more information\n     * @param {RegExp} matcher The matcher regex\n     * @param {String} replacer The replacement string, which can reference matches from the matcher argument\n     */\n    singular: function(matcher, replacer) {\n        this.singulars.unshift([matcher, replacer]);\n    },\n    \n    /**\n     * Adds a new pluralization rule to the Inflector. See the intro docs for more information\n     * @param {RegExp} matcher The matcher regex\n     * @param {String} replacer The replacement string, which can reference matches from the matcher argument\n     */\n    plural: function(matcher, replacer) {\n        this.plurals.unshift([matcher, replacer]);\n    },\n    \n    /**\n     * Removes all registered singularization rules\n     */\n    clearSingulars: function() {\n        this.singulars = [];\n    },\n    \n    /**\n     * Removes all registered pluralization rules\n     */\n    clearPlurals: function() {\n        this.plurals = [];\n    },\n    \n    /**\n     * Returns true if the given word is transnumeral (the word is its own singular and plural form - e.g. sheep, fish)\n     * @param {String} word The word to test\n     * @return {Boolean} True if the word is transnumeral\n     */\n    isTransnumeral: function(word) {\n        return Ext.Array.indexOf(this.uncountable, word) != -1;\n    },\n\n    /**\n     * Returns the pluralized form of a word (e.g. Ext.util.Inflector.pluralize('word') returns 'words')\n     * @param {String} word The word to pluralize\n     * @return {String} The pluralized form of the word\n     */\n    pluralize: function(word) {\n        if (this.isTransnumeral(word)) {\n            return word;\n        }\n\n        var plurals = this.plurals,\n            length  = plurals.length,\n            tuple, regex, i;\n        \n        for (i = 0; i < length; i++) {\n            tuple = plurals[i];\n            regex = tuple[0];\n            \n            if (regex == word || (regex.test && regex.test(word))) {\n                return word.replace(regex, tuple[1]);\n            }\n        }\n        \n        return word;\n    },\n    \n    /**\n     * Returns the singularized form of a word (e.g. Ext.util.Inflector.singularize('words') returns 'word')\n     * @param {String} word The word to singularize\n     * @return {String} The singularized form of the word\n     */\n    singularize: function(word) {\n        if (this.isTransnumeral(word)) {\n            return word;\n        }\n\n        var singulars = this.singulars,\n            length    = singulars.length,\n            tuple, regex, i;\n        \n        for (i = 0; i < length; i++) {\n            tuple = singulars[i];\n            regex = tuple[0];\n            \n            if (regex == word || (regex.test && regex.test(word))) {\n                return word.replace(regex, tuple[1]);\n            }\n        }\n        \n        return word;\n    },\n    \n    /**\n     * Returns the correct {@link Ext.data.Model Model} name for a given string. Mostly used internally by the data \n     * package\n     * @param {String} word The word to classify\n     * @return {String} The classified version of the word\n     */\n    classify: function(word) {\n        return Ext.String.capitalize(this.singularize(word));\n    },\n    \n    /**\n     * Ordinalizes a given number by adding a prefix such as 'st', 'nd', 'rd' or 'th' based on the last digit of the \n     * number. 21 -> 21st, 22 -> 22nd, 23 -> 23rd, 24 -> 24th etc\n     * @param {Number} number The number to ordinalize\n     * @return {String} The ordinalized number\n     */\n    ordinalize: function(number) {\n        var parsed = parseInt(number, 10),\n            mod10  = parsed % 10,\n            mod100 = parsed % 100;\n        \n        //11 through 13 are a special case\n        if (11 <= mod100 && mod100 <= 13) {\n            return number + \"th\";\n        } else {\n            switch(mod10) {\n                case 1 : return number + \"st\";\n                case 2 : return number + \"nd\";\n                case 3 : return number + \"rd\";\n                default: return number + \"th\";\n            }\n        }\n    }\n}, function() {\n    //aside from the rules above, there are a number of words that have irregular pluralization so we add them here\n    var irregulars = {\n            alumnus: 'alumni',\n            cactus : 'cacti',\n            focus  : 'foci',\n            nucleus: 'nuclei',\n            radius: 'radii',\n            stimulus: 'stimuli',\n            ellipsis: 'ellipses',\n            paralysis: 'paralyses',\n            oasis: 'oases',\n            appendix: 'appendices',\n            index: 'indexes',\n            beau: 'beaux',\n            bureau: 'bureaux',\n            tableau: 'tableaux',\n            woman: 'women',\n            child: 'children',\n            man: 'men',\n            corpus:	'corpora',\n            criterion: 'criteria',\n            curriculum:	'curricula',\n            genus: 'genera',\n            memorandum:	'memoranda',\n            phenomenon:	'phenomena',\n            foot: 'feet',\n            goose: 'geese',\n            tooth: 'teeth',\n            antenna: 'antennae',\n            formula: 'formulae',\n            nebula: 'nebulae',\n            vertebra: 'vertebrae',\n            vita: 'vitae'\n        },\n        singular;\n    \n    for (singular in irregulars) {\n        this.plural(singular, irregulars[singular]);\n        this.singular(irregulars[singular], singular);\n    }\n});\n/**\n * @author Ed Spencer\n * @class Ext.data.Error\n *\n * <p>This is used when validating a record. The validate method will return an Ext.data.Errors collection\n * containing Ext.data.Error instances. Each error has a field and a message.</p>\n *\n * <p>Usually this class does not need to be instantiated directly - instances are instead created\n * automatically when {@link Ext.data.Model#validate validate} on a model instance.</p>\n */\n\nExt.define('Ext.data.Error', {\n    config: {\n        /**\n         * @cfg {String} field\n         * The name of the field this error belongs to.\n         */\n        field: null,\n\n        /**\n         * @cfg {String} message\n         * The message containing the description of the error.\n         */\n        message: ''\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    }\n});\n\n/**\n * The Connection class encapsulates a connection to the page's originating domain, allowing requests to be made either\n * to a configured URL, or to a URL specified at request time.\n *\n * Requests made by this class are asynchronous, and will return immediately. No data from the server will be available\n * to the statement immediately following the {@link #request} call. To process returned data, use a success callback\n * in the request options object, or an {@link #requestcomplete event listener}.\n *\n * # File Uploads\n *\n * File uploads are not performed using normal \"Ajax\" techniques, that is they are not performed using XMLHttpRequests.\n * Instead the form is submitted in the standard manner with the DOM &lt;form&gt; element temporarily modified to have its\n * target set to refer to a dynamically generated, hidden &lt;iframe&gt; which is inserted into the document but removed\n * after the return data has been gathered.\n *\n * The server response is parsed by the browser to create the document for the IFRAME. If the server is using JSON to\n * send the return object, then the Content-Type header must be set to \"text/html\" in order to tell the browser to\n * insert the text unchanged into the document body.\n *\n * Characters which are significant to an HTML parser must be sent as HTML entities, so encode `<` as `&lt;`, `&` as\n * `&amp;` etc.\n *\n * The response text is retrieved from the document, and a fake XMLHttpRequest object is created containing a\n * responseText property in order to conform to the requirements of event handlers and callbacks.\n *\n * Be aware that file upload packets are sent with the content type multipart/form and some server technologies\n * (notably JEE) may require some custom processing in order to retrieve parameter names and parameter values from the\n * packet content.\n *\n * Also note that it's not possible to check the response code of the hidden iframe, so the success handler will ALWAYS fire.\n */\nExt.define('Ext.data.Connection', {\n    mixins: {\n        observable: 'Ext.mixin.Observable'\n    },\n\n    statics: {\n        requestId: 0\n    },\n\n    config: {\n        /**\n         * @cfg {String} url\n         * The default URL to be used for requests to the server.\n         * @accessor\n         */\n        url: null,\n\n        async: true,\n\n        /**\n         * @cfg {String} [method=undefined]\n         * The default HTTP method to be used for requests. Note that this is case-sensitive and\n         * should be all caps.\n         *\n         * Defaults to undefined; if not set but params are present will use \"POST\", otherwise \"GET\".\n         */\n        method: null,\n\n        username: '',\n        password: '',\n\n        /**\n         * @cfg {Boolean} disableCaching\n         * True to add a unique cache-buster param to GET requests.\n         * @accessor\n         */\n        disableCaching: true,\n\n        /**\n         * @cfg {String} disableCachingParam\n         * Change the parameter which is sent went disabling caching through a cache buster.\n         * @accessor\n         */\n        disableCachingParam: '_dc',\n\n        /**\n         * @cfg {Number} timeout\n         * The timeout in milliseconds to be used for requests.\n         * @accessor\n         */\n        timeout : 30000,\n\n        /**\n         * @cfg {Object} extraParams\n         * Any parameters to be appended to the request.\n         * @accessor\n         */\n        extraParams: null,\n\n        /**\n         * @cfg {Object} defaultHeaders\n         * An object containing request headers which are added to each request made by this object.\n         * @accessor\n         */\n        defaultHeaders: null,\n\n        useDefaultHeader : true,\n        defaultPostHeader : 'application/x-www-form-urlencoded; charset=UTF-8',\n\n        /**\n         * @cfg {Boolean} useDefaultXhrHeader\n         * Set this to false to not send the default Xhr header (X-Requested-With) with every request.\n         * This should be set to false when making CORS (cross-domain) requests.\n         * @accessor\n         */\n        useDefaultXhrHeader : true,\n\n        /**\n         * @cfg {String} defaultXhrHeader\n         * The value of the default Xhr header (X-Requested-With). This is only used when {@link #useDefaultXhrHeader}\n         * is set to true.\n         */\n        defaultXhrHeader : 'XMLHttpRequest',\n\n        autoAbort: false\n    },\n\n    textAreaRe: /textarea/i,\n    multiPartRe: /multipart\\/form-data/i,\n    lineBreakRe: /\\r\\n/g,\n\n    constructor : function(config) {\n        this.initConfig(config);\n\n        /**\n         * @event beforerequest\n         * Fires before a network request is made to retrieve a data object.\n         * @param {Ext.data.Connection} conn This Connection object.\n         * @param {Object} options The options config object passed to the {@link #request} method.\n         */\n        /**\n         * @event requestcomplete\n         * Fires if the request was successfully completed.\n         * @param {Ext.data.Connection} conn This Connection object.\n         * @param {Object} response The XHR object containing the response data.\n         * See [The XMLHttpRequest Object](http://www.w3.org/TR/XMLHttpRequest/) for details.\n         * @param {Object} options The options config object passed to the {@link #request} method.\n         */\n        /**\n         * @event requestexception\n         * Fires if an error HTTP status was returned from the server.\n         * See [HTTP Status Code Definitions](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)\n         * for details of HTTP status codes.\n         * @param {Ext.data.Connection} conn This Connection object.\n         * @param {Object} response The XHR object containing the response data.\n         * See [The XMLHttpRequest Object](http://www.w3.org/TR/XMLHttpRequest/) for details.\n         * @param {Object} options The options config object passed to the {@link #request} method.\n         */\n        this.requests = {};\n    },\n\n    /**\n     * Sends an HTTP request to a remote server.\n     *\n     * **Important:** Ajax server requests are asynchronous, and this call will\n     * return before the response has been received. Process any returned data\n     * in a callback function.\n     *\n     *     Ext.Ajax.request({\n     *         url: 'ajax_demo/sample.json',\n     *         success: function(response, opts) {\n     *             var obj = Ext.decode(response.responseText);\n     *             console.dir(obj);\n     *         },\n     *         failure: function(response, opts) {\n     *             console.log('server-side failure with status code ' + response.status);\n     *         }\n     *     });\n     *\n     * To execute a callback function in the correct scope, use the `scope` option.\n     *\n     * @param {Object} options An object which may contain the following properties:\n     *\n     * (The options object may also contain any other property which might be needed to perform\n     * postprocessing in a callback because it is passed to callback functions.)\n     *\n     * @param {String/Function} options.url The URL to which to send the request, or a function\n     * to call which returns a URL string. The scope of the function is specified by the `scope` option.\n     * Defaults to the configured `url`.\n     *\n     * @param {Object/String/Function} options.params An object containing properties which are\n     * used as parameters to the request, a url encoded string or a function to call to get either. The scope\n     * of the function is specified by the `scope` option.\n     *\n     * @param {String} options.method The HTTP method to use\n     * for the request. Defaults to the configured method, or if no method was configured,\n     * \"GET\" if no parameters are being sent, and \"POST\" if parameters are being sent.  Note that\n     * the method name is case-sensitive and should be all caps.\n     *\n     * @param {Function} options.callback The function to be called upon receipt of the HTTP response.\n     * The callback is called regardless of success or failure and is passed the following parameters:\n     * @param {Object} options.callback.options The parameter to the request call.\n     * @param {Boolean} options.callback.success True if the request succeeded.\n     * @param {Object} options.callback.response The XMLHttpRequest object containing the response data.\n     * See [www.w3.org/TR/XMLHttpRequest/](http://www.w3.org/TR/XMLHttpRequest/) for details about\n     * accessing elements of the response.\n     *\n     * @param {Function} options.success The function to be called upon success of the request.\n     * The callback is passed the following parameters:\n     * @param {Object} options.success.response The XMLHttpRequest object containing the response data.\n     * @param {Object} options.success.options The parameter to the request call.\n     *\n     * @param {Function} options.failure The function to be called upon success of the request.\n     * The callback is passed the following parameters:\n     * @param {Object} options.failure.response The XMLHttpRequest object containing the response data.\n     * @param {Object} options.failure.options The parameter to the request call.\n     *\n     * @param {Object} options.scope The scope in which to execute the callbacks: The \"this\" object for\n     * the callback function. If the `url`, or `params` options were specified as functions from which to\n     * draw values, then this also serves as the scope for those function calls. Defaults to the browser\n     * window.\n     *\n     * @param {Number} options.timeout The timeout in milliseconds to be used for this request.\n     * Defaults to 30 seconds.\n     *\n     * @param {HTMLElement/HTMLElement/String} options.form The `<form>` Element or the id of the `<form>`\n     * to pull parameters from.\n     *\n     * @param {Boolean} options.isUpload **Only meaningful when used with the `form` option.**\n     *\n     * True if the form object is a file upload (will be set automatically if the form was configured\n     * with **`enctype`** `\"multipart/form-data\"`).\n     *\n     * File uploads are not performed using normal \"Ajax\" techniques, that is they are **not**\n     * performed using XMLHttpRequests. Instead the form is submitted in the standard manner with the\n     * DOM `<form>` element temporarily modified to have its [target][] set to refer to a dynamically\n     * generated, hidden `<iframe>` which is inserted into the document but removed after the return data\n     * has been gathered.\n     *\n     * The server response is parsed by the browser to create the document for the IFRAME. If the\n     * server is using JSON to send the return object, then the [Content-Type][] header must be set to\n     * \"text/html\" in order to tell the browser to insert the text unchanged into the document body.\n     *\n     * The response text is retrieved from the document, and a fake XMLHttpRequest object is created\n     * containing a `responseText` property in order to conform to the requirements of event handlers\n     * and callbacks.\n     *\n     * Be aware that file upload packets are sent with the content type [multipart/form][] and some server\n     * technologies (notably JEE) may require some custom processing in order to retrieve parameter names\n     * and parameter values from the packet content.\n     *\n     * [target]: http://www.w3.org/TR/REC-html40/present/frames.html#adef-target\n     * [Content-Type]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17\n     * [multipart/form]: http://www.faqs.org/rfcs/rfc2388.html\n     *\n     * @param {Object} options.headers Request headers to set for the request.\n     *\n     * @param {Object} options.xmlData XML document to use for the post. Note: This will be used instead\n     * of params for the post data. Any params will be appended to the URL.\n     *\n     * @param {Object/String} options.jsonData JSON data to use as the post. Note: This will be used\n     * instead of params for the post data. Any params will be appended to the URL.\n     *\n     * @param {Boolean} options.disableCaching True to add a unique cache-buster param to GET requests.\n     *\n     * @return {Object} The request object. This may be used to cancel the request.\n     */\n    request : function(options) {\n        options = options || {};\n        var me = this,\n            scope = options.scope || window,\n            username = options.username || me.getUsername(),\n            password = options.password || me.getPassword() || '',\n            async, requestOptions, request, headers, xhr;\n\n        if (me.fireEvent('beforerequest', me, options) !== false) {\n            requestOptions = me.setOptions(options, scope);\n\n            if (this.isFormUpload(options) === true) {\n                this.upload(options.form, requestOptions.url, requestOptions.data, options);\n                return null;\n            }\n\n            // if autoabort is set, cancel the current transactions\n            if (options.autoAbort === true || me.getAutoAbort()) {\n                me.abort();\n            }\n\n            // create a connection object\n            xhr = this.getXhrInstance();\n\n            async = options.async !== false ? (options.async || me.getAsync()) : false;\n\n            // open the request\n            if (username) {\n                xhr.open(requestOptions.method, requestOptions.url, async, username, password);\n            } else {\n                xhr.open(requestOptions.method, requestOptions.url, async);\n            }\n\n            headers = me.setupHeaders(xhr, options, requestOptions.data, requestOptions.params);\n\n            // create the transaction object\n            request = {\n                id: ++this.self.requestId,\n                xhr: xhr,\n                headers: headers,\n                options: options,\n                async: async,\n                timeout: setTimeout(function() {\n                    request.timedout = true;\n                    me.abort(request);\n                }, options.timeout || me.getTimeout())\n            };\n            me.requests[request.id] = request;\n\n            // bind our statechange listener\n            if (async) {\n                xhr.onreadystatechange = Ext.Function.bind(me.onStateChange, me, [request]);\n            }\n\n            // start the request!\n            xhr.send(requestOptions.data);\n            if (!async) {\n                return this.onComplete(request);\n            }\n            return request;\n        } else {\n            Ext.callback(options.callback, options.scope, [options, undefined, undefined]);\n            return null;\n        }\n    },\n\n    /**\n     * Uploads a form using a hidden iframe.\n     * @param {String/HTMLElement/Ext.Element} form The form to upload\n     * @param {String} url The url to post to\n     * @param {String} params Any extra parameters to pass\n     * @param {Object} options The initial options\n     */\n    upload: function(form, url, params, options) {\n        form = Ext.getDom(form);\n        options = options || {};\n\n        var id = Ext.id(),\n            frame = document.createElement('iframe'),\n            hiddens = [],\n            encoding = 'multipart/form-data',\n            buf = {\n                target: form.target,\n                method: form.method,\n                encoding: form.encoding,\n                enctype: form.enctype,\n                action: form.action\n            }, addField = function(name, value) {\n            hiddenItem = document.createElement('input');\n            Ext.fly(hiddenItem).set({\n                type: 'hidden',\n                value: value,\n                name: name\n            });\n            form.appendChild(hiddenItem);\n            hiddens.push(hiddenItem);\n        }, hiddenItem;\n\n        /*\n         * Originally this behaviour was modified for Opera 10 to apply the secure URL after\n         * the frame had been added to the document. It seems this has since been corrected in\n         * Opera so the behaviour has been reverted, the URL will be set before being added.\n         */\n        Ext.fly(frame).set({\n            id: id,\n            name: id,\n            cls: Ext.baseCSSPrefix + 'hide-display',\n            src: Ext.SSL_SECURE_URL\n        });\n\n        document.body.appendChild(frame);\n\n        // This is required so that IE doesn't pop the response up in a new window.\n        if (document.frames) {\n            document.frames[id].name = id;\n        }\n\n        Ext.fly(form).set({\n            target: id,\n            method: 'POST',\n            enctype: encoding,\n            encoding: encoding,\n            action: url || buf.action\n        });\n\n        // add dynamic params\n        if (params) {\n            Ext.iterate(Ext.Object.fromQueryString(params), function(name, value) {\n                if (Ext.isArray(value)) {\n                    Ext.each(value, function(v) {\n                        addField(name, v);\n                    });\n                } else {\n                    addField(name, value);\n                }\n            });\n        }\n\n        Ext.fly(frame).on('load', Ext.Function.bind(this.onUploadComplete, this, [frame, options]), null, {single: true});\n        form.submit();\n\n        Ext.fly(form).set(buf);\n        Ext.each(hiddens, function(h) {\n            Ext.removeNode(h);\n        });\n    },\n\n    onUploadComplete: function(frame, options) {\n        var me = this,\n            // bogus response object\n            response = {\n                responseText: '',\n                responseXML: null\n            }, doc, firstChild;\n\n        try {\n            doc = frame.contentWindow.document || frame.contentDocument || window.frames[id].document;\n            if (doc) {\n                if (doc.body) {\n                    if (this.textAreaRe.test((firstChild = doc.body.firstChild || {}).tagName)) { // json response wrapped in textarea\n                        response.responseText = firstChild.value;\n                    } else {\n                        response.responseText = doc.body.innerHTML;\n                    }\n                }\n                //in IE the document may still have a body even if returns XML.\n                response.responseXML = doc.XMLDocument || doc;\n            }\n        } catch (e) {\n        }\n\n        me.fireEvent('requestcomplete', me, response, options);\n\n        Ext.callback(options.success, options.scope, [response, options]);\n        Ext.callback(options.callback, options.scope, [options, true, response]);\n\n        setTimeout(function() {\n            Ext.removeNode(frame);\n        }, 100);\n    },\n\n    /**\n     * Detects whether the form is intended to be used for an upload.\n     * @private\n     */\n    isFormUpload: function(options) {\n        var form = this.getForm(options);\n        if (form) {\n            return (options.isUpload || (this.multiPartRe).test(form.getAttribute('enctype')));\n        }\n        return false;\n    },\n\n    /**\n     * Gets the form object from options.\n     * @private\n     * @param {Object} options The request options\n     * @return {HTMLElement} The form, null if not passed\n     */\n    getForm: function(options) {\n        return Ext.getDom(options.form) || null;\n    },\n\n    /**\n     * Sets various options such as the url, params for the request\n     * @param {Object} options The initial options\n     * @param {Object} scope The scope to execute in\n     * @return {Object} The params for the request\n     */\n    setOptions: function(options, scope) {\n        var me = this,\n            params = options.params || {},\n            extraParams = me.getExtraParams(),\n            urlParams = options.urlParams,\n            url = options.url || me.getUrl(),\n            jsonData = options.jsonData,\n            method,\n            disableCache,\n            data;\n\n        // allow params to be a method that returns the params object\n        if (Ext.isFunction(params)) {\n            params = params.call(scope, options);\n        }\n\n        // allow url to be a method that returns the actual url\n        if (Ext.isFunction(url)) {\n            url = url.call(scope, options);\n        }\n\n        url = this.setupUrl(options, url);\n\n        if (!url) {\n            Ext.Logger.error('No URL specified');\n        }\n\n        // check for xml or json data, and make sure json data is encoded\n        data = options.rawData || options.xmlData || jsonData || null;\n        if (jsonData && !Ext.isPrimitive(jsonData)) {\n            data = Ext.encode(data);\n        }\n\n        // make sure params are a url encoded string and include any extraParams if specified\n        if (Ext.isObject(params)) {\n            params = Ext.Object.toQueryString(params);\n        }\n\n        if (Ext.isObject(extraParams)) {\n            extraParams = Ext.Object.toQueryString(extraParams);\n        }\n\n        params = params + ((extraParams) ? ((params) ? '&' : '') + extraParams : '');\n\n        urlParams = Ext.isObject(urlParams) ? Ext.Object.toQueryString(urlParams) : urlParams;\n\n        params = this.setupParams(options, params);\n\n        // decide the proper method for this request\n        method = (options.method || me.getMethod() || ((params || data) ? 'POST' : 'GET')).toUpperCase();\n        this.setupMethod(options, method);\n\n\n        disableCache = options.disableCaching !== false ? (options.disableCaching || me.getDisableCaching()) : false;\n        // if the method is get append date to prevent caching\n        if (method === 'GET' && disableCache) {\n            url = Ext.urlAppend(url, (options.disableCachingParam || me.getDisableCachingParam()) + '=' + (new Date().getTime()));\n        }\n\n        // if the method is get or there is json/xml data append the params to the url\n        if ((method == 'GET' || data) && params) {\n            url = Ext.urlAppend(url, params);\n            params = null;\n        }\n\n        // allow params to be forced into the url\n        if (urlParams) {\n            url = Ext.urlAppend(url, urlParams);\n        }\n\n        return {\n            url: url,\n            method: method,\n            data: data || params || null\n        };\n    },\n\n    /**\n     * Template method for overriding url\n     * @private\n     * @param {Object} options\n     * @param {String} url\n     * @return {String} The modified url\n     */\n    setupUrl: function(options, url) {\n        var form = this.getForm(options);\n        if (form) {\n            url = url || form.action;\n        }\n        return url;\n    },\n\n\n    /**\n     * Template method for overriding params\n     * @private\n     * @param {Object} options\n     * @param {String} params\n     * @return {String} The modified params\n     */\n    setupParams: function(options, params) {\n        var form = this.getForm(options),\n            serializedForm;\n        if (form && !this.isFormUpload(options)) {\n            serializedForm = Ext.Element.serializeForm(form);\n            params = params ? (params + '&' + serializedForm) : serializedForm;\n        }\n        return params;\n    },\n\n    /**\n     * Template method for overriding method\n     * @private\n     * @param {Object} options\n     * @param {String} method\n     * @return {String} The modified method\n     */\n    setupMethod: function(options, method) {\n        if (this.isFormUpload(options)) {\n            return 'POST';\n        }\n        return method;\n    },\n\n    /**\n     * Setup all the headers for the request\n     * @private\n     * @param {Object} xhr The xhr object\n     * @param {Object} options The options for the request\n     * @param {Object} data The data for the request\n     * @param {Object} params The params for the request\n     */\n    setupHeaders: function(xhr, options, data, params) {\n        var me = this,\n            headers = Ext.apply({}, options.headers || {}, me.getDefaultHeaders() || {}),\n            contentType = me.getDefaultPostHeader(),\n            jsonData = options.jsonData,\n            xmlData = options.xmlData,\n            key,\n            header;\n\n        if (!headers['Content-Type'] && (data || params)) {\n            if (data) {\n                if (options.rawData) {\n                    contentType = 'text/plain';\n                } else {\n                    if (xmlData && Ext.isDefined(xmlData)) {\n                        contentType = 'text/xml';\n                    } else if (jsonData && Ext.isDefined(jsonData)) {\n                        contentType = 'application/json';\n                    }\n                }\n            }\n            headers['Content-Type'] = contentType;\n        }\n\n        if (((me.getUseDefaultXhrHeader() && options.useDefaultXhrHeader !== false) || options.useDefaultXhrHeader) && !headers['X-Requested-With']) {\n            headers['X-Requested-With'] = me.getDefaultXhrHeader();\n        }\n        // set up all the request headers on the xhr object\n        try {\n            for (key in headers) {\n                if (headers.hasOwnProperty(key)) {\n                    header = headers[key];\n                    xhr.setRequestHeader(key, header);\n                }\n\n            }\n        } catch(e) {\n            me.fireEvent('exception', key, header);\n        }\n\n        if (options.withCredentials) {\n            xhr.withCredentials = options.withCredentials;\n        }\n\n        return headers;\n    },\n\n    /**\n     * Creates the appropriate XHR transport for the browser.\n     * @private\n     */\n    getXhrInstance: (function() {\n        var options = [function() {\n            return new XMLHttpRequest();\n        }, function() {\n            return new ActiveXObject('MSXML2.XMLHTTP.3.0');\n        }, function() {\n            return new ActiveXObject('MSXML2.XMLHTTP');\n        }, function() {\n            return new ActiveXObject('Microsoft.XMLHTTP');\n        }], i = 0,\n            len = options.length,\n            xhr;\n\n        for (; i < len; ++i) {\n            try {\n                xhr = options[i];\n                xhr();\n                break;\n            } catch(e) {\n            }\n        }\n        return xhr;\n    })(),\n\n    /**\n     * Determines whether this object has a request outstanding.\n     * @param {Object} request The request to check\n     * @return {Boolean} True if there is an outstanding request.\n     */\n    isLoading : function(request) {\n        if (!(request && request.xhr)) {\n            return false;\n        }\n        // if there is a connection and readyState is not 0 or 4\n        var state = request.xhr.readyState;\n        return !(state === 0 || state == 4);\n    },\n\n    /**\n     * Aborts any outstanding request.\n     * @param {Object} request (Optional) defaults to the last request\n     */\n    abort : function(request) {\n        var me = this,\n            requests = me.requests,\n            id;\n\n        if (request && me.isLoading(request)) {\n            /*\n             * Clear out the onreadystatechange here, this allows us\n             * greater control, the browser may/may not fire the function\n             * depending on a series of conditions.\n             */\n            request.xhr.onreadystatechange = null;\n            request.xhr.abort();\n            me.clearTimeout(request);\n            if (!request.timedout) {\n                request.aborted = true;\n            }\n            me.onComplete(request);\n            me.cleanup(request);\n        } else if (!request) {\n            for (id in requests) {\n                if (requests.hasOwnProperty(id)) {\n                    me.abort(requests[id]);\n                }\n            }\n        }\n    },\n\n    /**\n     * Aborts all outstanding requests\n     */\n    abortAll: function() {\n        this.abort();\n    },\n\n    /**\n     * Fires when the state of the xhr changes\n     * @private\n     * @param {Object} request The request\n     */\n    onStateChange : function(request) {\n        if (request.xhr.readyState == 4) {\n            this.clearTimeout(request);\n            this.onComplete(request);\n            this.cleanup(request);\n        }\n    },\n\n    /**\n     * Clears the timeout on the request\n     * @private\n     * @param {Object} The request\n     */\n    clearTimeout: function(request) {\n        clearTimeout(request.timeout);\n        delete request.timeout;\n    },\n\n    /**\n     * Cleans up any left over information from the request\n     * @private\n     * @param {Object} The request\n     */\n    cleanup: function(request) {\n        request.xhr = null;\n        delete request.xhr;\n    },\n\n    /**\n     * To be called when the request has come back from the server\n     * @private\n     * @param {Object} request\n     * @return {Object} The response\n     */\n    onComplete : function(request) {\n        var me = this,\n            options = request.options,\n            result,\n            success,\n            response;\n\n        try {\n            result = me.parseStatus(request.xhr.status, request.xhr);\n\n            if (request.timedout) {\n                result.success = false;\n            }\n        } catch (e) {\n            // in some browsers we can't access the status if the readyState is not 4, so the request has failed\n            result = {\n                success : false,\n                isException : false\n            };\n        }\n        success = result.success;\n\n        if (success) {\n            response = me.createResponse(request);\n            me.fireEvent('requestcomplete', me, response, options);\n            Ext.callback(options.success, options.scope, [response, options]);\n        } else {\n            if (result.isException || request.aborted || request.timedout) {\n                response = me.createException(request);\n            } else {\n                response = me.createResponse(request);\n            }\n            me.fireEvent('requestexception', me, response, options);\n            Ext.callback(options.failure, options.scope, [response, options]);\n        }\n        Ext.callback(options.callback, options.scope, [options, success, response]);\n        delete me.requests[request.id];\n        return response;\n    },\n\n    /**\n     * Checks if the response status was successful\n     * @param {Number} status The status code\n     * @return {Object} An object containing success/status state\n     */\n    parseStatus: function(status, xhr) {\n        // see: https://prototype.lighthouseapp.com/projects/8886/tickets/129-ie-mangles-http-response-status-code-204-to-1223\n        status = status == 1223 ? 204 : status;\n\n        var success = (status >= 200 && status < 300) || status == 304 || (status == 0 && xhr.responseText.length > 0),\n            isException = false;\n\n        if (!success) {\n            switch (status) {\n                case 12002:\n                case 12029:\n                case 12030:\n                case 12031:\n                case 12152:\n                case 13030:\n                    isException = true;\n                    break;\n            }\n        }\n        return {\n            success: success,\n            isException: isException\n        };\n    },\n\n    /**\n     * Creates the response object\n     * @private\n     * @param {Object} request\n     */\n    createResponse : function(request) {\n        var xhr = request.xhr,\n            headers = {},\n            lines, count, line, index, key, response;\n\n        //we need to make this check here because if a request times out an exception is thrown\n        //when calling getAllResponseHeaders() because the response never came back to populate it\n        if (request.timedout || request.aborted) {\n            request.success = false;\n            lines = [];\n        } else {\n            lines = xhr.getAllResponseHeaders().replace(this.lineBreakRe, '\\n').split('\\n');\n        }\n\n        count = lines.length;\n\n        while (count--) {\n            line = lines[count];\n            index = line.indexOf(':');\n            if (index >= 0) {\n                key = line.substr(0, index).toLowerCase();\n                if (line.charAt(index + 1) == ' ') {\n                    ++index;\n                }\n                headers[key] = line.substr(index + 1);\n            }\n        }\n\n        request.xhr = null;\n        delete request.xhr;\n\n        response = {\n            request: request,\n            requestId : request.id,\n            status : xhr.status,\n            statusText : xhr.statusText,\n            getResponseHeader : function(header) {\n                return headers[header.toLowerCase()];\n            },\n            getAllResponseHeaders : function() {\n                return headers;\n            },\n            responseText : xhr.responseText,\n            responseXML : xhr.responseXML\n        };\n\n        // If we don't explicitly tear down the xhr reference, IE6/IE7 will hold this in the closure of the\n        // functions created with getResponseHeader/getAllResponseHeaders\n        xhr = null;\n        return response;\n    },\n\n    /**\n     * Creates the exception object\n     * @private\n     * @param {Object} request\n     */\n    createException : function(request) {\n        return {\n            request : request,\n            requestId : request.id,\n            status : request.aborted ? -1 : 0,\n            statusText : request.aborted ? 'transaction aborted' : 'communication failure',\n            aborted: request.aborted,\n            timedout: request.timedout\n        };\n    }\n});\n\n/**\n * Used in the {@link Ext.tab.Bar} component. This shouldn't be used directly, instead use\n * {@link Ext.tab.Bar} or {@link Ext.tab.Panel}.\n * @private\n */\nExt.define('Ext.tab.Tab', {\n    extend: 'Ext.Button',\n    xtype: 'tab',\n    alternateClassName: 'Ext.Tab',\n\n    // @private\n    isTab: true,\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'tab',\n\n        /**\n         * @cfg {String} pressedCls\n         * The CSS class to be applied to a Tab when it is pressed. Defaults to 'x-tab-pressed'.\n         * Providing your own CSS for this class enables you to customize the pressed state.\n         * @accessor\n         */\n        pressedCls: Ext.baseCSSPrefix + 'tab-pressed',\n\n        /**\n         * @cfg {String} activeCls\n         * The CSS class to be applied to a Tab when it is active. Defaults to 'x-tab-active'.\n         * Providing your own CSS for this class enables you to customize the active state.\n         * @accessor\n         */\n        activeCls: Ext.baseCSSPrefix + 'tab-active',\n\n        /**\n         * @cfg {Boolean} active\n         * Set this to true to have the tab be active by default.\n         * @accessor\n         */\n        active: false,\n\n        /**\n         * @cfg {String} title\n         * The title of the card that this tab is bound to.\n         * @accessor\n         */\n        title: '&nbsp;'\n    },\n\n    // We need to override this so the iconElement is properly hidden using visibilty\n    // when we render it.\n    template: [\n        {\n            tag: 'span',\n            reference: 'badgeElement',\n            hidden: true\n        },\n        {\n            tag: 'span',\n            className: Ext.baseCSSPrefix + 'button-icon',\n            reference: 'iconElement',\n            style: 'visibility: hidden !important'\n        },\n        {\n            tag: 'span',\n            reference: 'textElement',\n            hidden: true\n        }\n    ],\n\n    /**\n     * @event activate\n     * Fires when a tab is activated\n     * @param {Ext.tab.Tab} this\n     */\n\n    /**\n     * @event deactivate\n     * Fires when a tab is deactivated\n     * @param {Ext.tab.Tab} this\n     */\n\n    updateTitle: function(title) {\n        this.setText(title);\n    },\n\n    hideIconElement: function() {\n        this.iconElement.dom.style.setProperty('visibility', 'hidden', '!important');\n    },\n\n    showIconElement: function() {\n        this.iconElement.dom.style.setProperty('visibility', 'visible', '!important');\n    },\n\n    updateActive: function(active, oldActive) {\n        var activeCls = this.getActiveCls();\n        if (active && !oldActive) {\n            this.element.addCls(activeCls);\n            this.fireEvent('activate', this);\n        } else if (oldActive) {\n            this.element.removeCls(activeCls);\n            this.fireEvent('deactivate', this);\n        }\n    }\n}, function() {\n    this.override({\n        activate: function() {\n            this.setActive(true);\n        },\n\n        deactivate: function() {\n            this.setActive(false);\n        }\n    });\n});\n\n/**\n * @private\n *\n * This object handles communication between the WebView and Sencha's native shell.\n * Currently it has two primary responsibilities:\n *\n * 1. Maintaining unique string ids for callback functions, together with their scope objects\n * 2. Serializing given object data into HTTP GET request parameters\n *\n * As an example, to capture a photo from the device's camera, we use `Ext.device.Camera.capture()` like:\n *\n *     Ext.device.Camera.capture(\n *         function(dataUri){\n *             // Do something with the base64-encoded `dataUri` string\n *         },\n *         function(errorMessage) {\n *    \n *         },\n *         callbackScope,\n *         {\n *             quality: 75,\n *             width: 500,\n *             height: 500\n *         }\n *     );\n * \n * Internally, `Ext.device.Communicator.send()` will then be invoked with the following argument:\n * \n *     Ext.device.Communicator.send({\n *         command: 'Camera#capture',\n *         callbacks: {\n *             onSuccess: function() { ... },\n *             onError: function() { ... },\n *         },\n *         scope: callbackScope,\n *         quality: 75,\n *         width: 500,\n *         height: 500\n *     });\n * \n * Which will then be transformed into a HTTP GET request, sent to native shell's local\n * HTTP server with the following parameters:\n * \n *     ?quality=75&width=500&height=500&command=Camera%23capture&onSuccess=3&onError=5\n * \n * Notice that `onSuccess` and `onError` have been converted into string ids (`3` and `5`\n * respectively) and maintained by `Ext.device.Communicator`.\n * \n * Whenever the requested operation finishes, `Ext.device.Communicator.invoke()` simply needs\n * to be executed from the native shell with the corresponding ids given before. For example:\n * \n *     Ext.device.Communicator.invoke('3', ['DATA_URI_OF_THE_CAPTURED_IMAGE_HERE']);\n * \n * will invoke the original `onSuccess` callback under the given scope. (`callbackScope`), with\n * the first argument of 'DATA_URI_OF_THE_CAPTURED_IMAGE_HERE'\n * \n * Note that `Ext.device.Communicator` maintains the uniqueness of each function callback and\n * its scope object. If subsequent calls to `Ext.device.Communicator.send()` have the same\n * callback references, the same old ids will simply be reused, which guarantee the best possible\n * performance for a large amount of repeative calls.\n */\nExt.define('Ext.device.communicator.Default', {\n\n    SERVER_URL: 'http://localhost:3000', // Change this to the correct server URL\n\n    callbackDataMap: {},\n\n    callbackIdMap: {},\n\n    idSeed: 0,\n\n    globalScopeId: '0',\n\n    generateId: function() {\n        return String(++this.idSeed);\n    },\n\n    getId: function(object) {\n        var id = object.$callbackId;\n\n        if (!id) {\n            object.$callbackId = id = this.generateId();\n        }\n\n        return id;\n    },\n\n    getCallbackId: function(callback, scope) {\n        var idMap = this.callbackIdMap,\n            dataMap = this.callbackDataMap,\n            id, scopeId, callbackId, data;\n\n        if (!scope) {\n            scopeId = this.globalScopeId;\n        }\n        else if (scope.isIdentifiable) {\n            scopeId = scope.getId();\n        }\n        else {\n            scopeId = this.getId(scope);\n        }\n\n        callbackId = this.getId(callback);\n\n        if (!idMap[scopeId]) {\n            idMap[scopeId] = {};\n        }\n\n        if (!idMap[scopeId][callbackId]) {\n            id = this.generateId();\n            data = {\n                callback: callback,\n                scope: scope\n            };\n\n            idMap[scopeId][callbackId] = id;\n            dataMap[id] = data;\n        }\n\n        return idMap[scopeId][callbackId];\n    },\n\n    getCallbackData: function(id) {\n        return this.callbackDataMap[id];\n    },\n\n    invoke: function(id, args) {\n        var data = this.getCallbackData(id);\n\n        data.callback.apply(data.scope, args);\n    },\n\n    send: function(args) {\n        var callbacks, scope, name, callback;\n\n        if (!args) {\n            args = {};\n        }\n        else if (args.callbacks) {\n            callbacks = args.callbacks;\n            scope = args.scope;\n\n            delete args.callbacks;\n            delete args.scope;\n\n            for (name in callbacks) {\n                if (callbacks.hasOwnProperty(name)) {\n                    callback = callbacks[name];\n\n                    if (typeof callback == 'function') {\n                        args[name] = this.getCallbackId(callback, scope);\n                    }\n                }\n            }\n        }\n\n        this.doSend(args);\n    },\n\n    doSend: function(args) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.open('GET', this.SERVER_URL + '?' + Ext.Object.toQueryString(args), false);\n        xhr.send(null);\n    }\n});\n\n\n/**\n * @private\n */\nExt.define('Ext.device.communicator.Android', {\n    extend: 'Ext.device.communicator.Default',\n\n    doSend: function(args) {\n        window.Sencha.action(JSON.stringify(args));\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.device.camera.Abstract', {\n\n    source: {\n        library: 0,\n        camera: 1,\n        album: 2\n    },\n\n    destination: {\n        data: 0, // Returns base64-encoded string\n        file: 1  // Returns file's URI\n    },\n\n    encoding: {\n        jpeg: 0,\n        jpg: 0,\n        png: 1\n    },\n\n    /**\n     * Allows you to capture a photo.\n     *\n     * @param {Object} options\n     * The options to use when taking a photo.\n     *\n     * @param {Function} options.success\n     * The success callback which is called when the photo has been taken.\n     *\n     * @param {String} options.success.image\n     * The image which was just taken, either a base64 encoded string or a URI depending on which\n     * option you chose (destination).\n     *\n     * @param {Function} options.failure\n     * The function which is called when something goes wrong.\n     *\n     * @param {Object} scope\n     * The scope in which to call the `success` and `failure` functions, if specified.\n     *\n     * @param {Number} options.quality\n     * The quality of the image which is returned in the callback. This should be a percentage.\n     *\n     * @param {String} options.source\n     * The source of where the image should be taken. Available options are:\n     *\n     * - **album** - prompts the user to choose an image from an album\n     * - **camera** - prompts the user to take a new photo\n     * - **library** - prompts the user to choose an image from the library\n     *\n     * @param {String} destination\n     * The destination of the image which is returned. Available options are:\n     *\n     * - **data** - returns a base64 encoded string\n     * - **file** - returns the file's URI\n     *\n     * @param {String} encoding\n     * The encoding of the returned image. Available options are:\n     *\n     * - **jpg**\n     * - **png**\n     *\n     * @param {Number} width\n     * The width of the image to return\n     *\n     * @param {Number} height\n     * The height of the image to return\n     */\n    capture: Ext.emptyFn\n});\n\n/**\n * Tracks what records are currently selected in a databound widget. This class is mixed in to {@link Ext.dataview.DataView} and\n * all subclasses.\n * @private\n */\nExt.define('Ext.mixin.Selectable', {\n    extend: 'Ext.mixin.Mixin',\n\n    mixinConfig: {\n        id: 'selectable',\n        hooks: {\n            updateStore: 'updateStore'\n        }\n    },\n\n    /**\n     * @event beforeselectionchange\n     * Fires before an item is selected\n     * @param {Ext.mixin.Selectable} this\n     * @preventable selectionchange\n     * @deprecated 2.0.0 Please listen to the {@link #selectionchange} event with an order of `before` instead.\n     */\n\n    /**\n     * @event selectionchange\n     * Fires when a selection changes\n     * @param {Ext.mixin.Selectable} this\n     * @param {Ext.data.Model[]} records The records whose selection has changed\n     */\n\n    config: {\n        /**\n         * @cfg {Boolean} disableSelection <p><tt>true</tt> to disable selection.\n         * This configuration will lock the selection model that the DataView uses.</p>\n         * @accessor\n         */\n        disableSelection: null,\n\n        /**\n         * @cfg {String} mode\n         * Modes of selection.\n         * Valid values are SINGLE, SIMPLE, and MULTI. Defaults to 'SINGLE'\n         * @accessor\n         */\n        mode: 'SINGLE',\n\n        /**\n         * @cfg {Boolean} allowDeselect\n         * Allow users to deselect a record in a DataView, List or Grid. Only applicable when the Selectable's mode is\n         * 'SINGLE'. Defaults to false.\n         * @accessor\n         */\n        allowDeselect: false,\n\n        /**\n         * @cfg {Ext.data.Model} lastSelected\n         * @private\n         * @accessor\n         */\n        lastSelected: null,\n\n        /**\n         * @cfg {Ext.data.Model} lastFocused\n         * @private\n         * @accessor\n         */\n        lastFocused: null,\n\n        /**\n         * @cfg {Boolean} deselectOnContainerClick True to deselect current selection when the container body is\n         * clicked. Defaults to true\n         * @accessor\n         */\n        deselectOnContainerClick: true\n    },\n\n    modes: {\n        SINGLE: true,\n        SIMPLE: true,\n        MULTI: true\n    },\n\n    selectableEventHooks: {\n        addrecords: 'onSelectionStoreAdd',\n        removerecords: 'onSelectionStoreRemove',\n        updaterecord: 'onSelectionStoreUpdate',\n        load: 'refreshSelection',\n        refresh: 'refreshSelection'\n    },\n\n    constructor: function() {\n        this.selected = new Ext.util.MixedCollection();\n        this.callParent(arguments);\n    },\n\n    /**\n     * @private\n     */\n    applyMode: function(mode) {\n        mode = mode ? mode.toUpperCase() : 'SINGLE';\n        // set to mode specified unless it doesnt exist, in that case\n        // use single.\n        return this.modes[mode] ? mode : 'SINGLE';\n    },\n\n    /**\n     * @private\n     */\n    updateStore: function(newStore, oldStore) {\n        var me = this,\n            bindEvents = Ext.apply({}, me.selectableEventHooks, { scope: me });\n\n        if (oldStore && Ext.isObject(oldStore) && oldStore.isStore) {\n            if (oldStore.autoDestroy) {\n                oldStore.destroy();\n            }\n            else {\n                oldStore.un(bindEvents);\n            }\n        }\n\n        if (newStore) {\n            newStore.on(bindEvents);\n            me.refreshSelection();\n        }\n    },\n\n    /**\n     * Selects all records.\n     * @param {Boolean} silent True to suppress all select events.\n     */\n    selectAll: function(silent) {\n        var me = this,\n            selections = me.getStore().getRange(),\n            ln = selections.length,\n            i = 0;\n        for (; i < ln; i++) {\n            me.select(selections[i], true, silent);\n        }\n    },\n\n    /**\n     * Deselects all records.\n     */\n    deselectAll: function(supress) {\n        var me = this,\n            selections = me.getStore().getRange();\n\n        me.deselect(selections, supress);\n\n        me.selected.clear();\n        me.setLastSelected(null);\n        me.setLastFocused(null);\n    },\n\n    // Provides differentiation of logic between MULTI, SIMPLE and SINGLE\n    // selection modes.\n    selectWithEvent: function(record) {\n        var me = this,\n            isSelected = me.isSelected(record);\n        switch (me.getMode()) {\n            case 'MULTI':\n            case 'SIMPLE':\n                if (isSelected) {\n                    me.deselect(record);\n                }\n                else {\n                    me.select(record, true);\n                }\n                break;\n            case 'SINGLE':\n                if (me.getAllowDeselect() && isSelected) {\n                    // if allowDeselect is on and this record isSelected, deselect it\n                    me.deselect(record);\n                } else {\n                    // select the record and do NOT maintain existing selections\n                    me.select(record, false);\n                }\n                break;\n        }\n    },\n\n    /**\n     * Selects a range of rows if the selection model {@link Ext.mixin.Selectable#getDisableSelection is not locked}.\n     * All rows in between startRow and endRow are also selected.\n     * @param {Number} startRow The index of the first row in the range\n     * @param {Number} endRow The index of the last row in the range\n     * @param {Boolean} keepExisting (optional) True to retain existing selections\n     */\n    selectRange: function(startRecord, endRecord, keepExisting) {\n        var me = this,\n            store = me.getStore(),\n            records = [],\n            tmp, i;\n\n        if (me.getDisableSelection()) {\n            return;\n        }\n\n        // swap values\n        if (startRecord > endRecord) {\n            tmp = endRecord;\n            endRecord = startRecord;\n            startRecord = tmp;\n        }\n\n        for (i = startRecord; i <= endRecord; i++) {\n            records.push(store.getAt(i));\n        }\n        this.doMultiSelect(records, keepExisting);\n    },\n\n    /**\n     * Adds the given records to the currently selected set\n     * @param {Ext.data.Model/Array/Number} records The records to select\n     * @param {Boolean} keepExisting If true, the existing selection will be added to (if not, the old selection is replaced)\n     * @param {Boolean} suppressEvent If true, the 'select' event will not be fired\n     */\n    select: function(records, keepExisting, suppressEvent) {\n        var me = this,\n            record;\n\n        if (me.getDisableSelection()) {\n            return;\n        }\n\n        if (typeof records === \"number\") {\n            records = [me.getStore().getAt(records)];\n        }\n\n        if (!records) {\n            return;\n        }\n\n        if (me.getMode() == \"SINGLE\" && records) {\n            record = records.length ? records[0] : records;\n            me.doSingleSelect(record, suppressEvent);\n        } else {\n            me.doMultiSelect(records, keepExisting, suppressEvent);\n        }\n    },\n\n    /**\n     * Selects a single record\n     * @private\n     */\n    doSingleSelect: function(record, suppressEvent) {\n        var me = this,\n            selected = me.selected;\n\n        if (me.getDisableSelection()) {\n            return;\n        }\n\n        // already selected.\n        // should we also check beforeselect?\n        if (me.isSelected(record)) {\n            return;\n        }\n\n        if (selected.getCount() > 0) {\n            me.deselect(me.getLastSelected(), suppressEvent);\n        }\n\n        selected.add(record);\n        me.setLastSelected(record);\n        me.onItemSelect(record, suppressEvent);\n        me.setLastFocused(record);\n\n        if (!suppressEvent) {\n            me.fireSelectionChange([record]);\n        }\n    },\n\n    /**\n     * Selects a set of multiple records\n     * @private\n     */\n    doMultiSelect: function(records, keepExisting, suppressEvent) {\n        if (records === null || this.getDisableSelection()) {\n            return;\n        }\n        records = !Ext.isArray(records) ? [records] : records;\n\n        var me = this,\n            selected = me.selected,\n            ln = records.length,\n            change = false,\n            i = 0,\n            record;\n\n        if (!keepExisting && selected.getCount() > 0) {\n            change = true;\n            me.deselect(me.getSelection(), true);\n        }\n        for (; i < ln; i++) {\n            record = records[i];\n            if (keepExisting && me.isSelected(record)) {\n                continue;\n            }\n            change = true;\n            me.setLastSelected(record);\n            selected.add(record);\n            if (!suppressEvent) {\n                me.setLastFocused(record);\n            }\n\n            me.onItemSelect(record, suppressEvent);\n        }\n        if (change && !suppressEvent) {\n            this.fireSelectionChange(records);\n        }\n    },\n\n    /**\n     * Deselects the given record(s). If many records are currently selected, it will only deselect those you pass in.\n     * @param {Number/Array/Ext.data.Model} records The record(s) to deselect. Can also be a number to reference by index\n     * @param {Boolean} suppressEvent If true the deselect event will not be fired\n     */\n    deselect: function(records, suppressEvent) {\n        var me = this;\n\n        if (me.getDisableSelection()) {\n            return;\n        }\n\n        records = Ext.isArray(records) ? records : [records];\n\n        var selected = me.selected,\n            change   = false,\n            i        = 0,\n            store    = me.getStore(),\n            ln       = records.length,\n            record;\n\n        for (; i < ln; i++) {\n            record = records[i];\n\n            if (typeof record === 'number') {\n                record = store.getAt(record);\n            }\n\n            if (selected.remove(record)) {\n                if (me.getLastSelected() == record) {\n                    me.setLastSelected(selected.last());\n                }\n                change = true;\n            }\n            if (record) {\n                me.onItemDeselect(record, suppressEvent);\n            }\n        }\n\n        if (change && !suppressEvent) {\n            me.fireSelectionChange(records);\n        }\n    },\n\n    /**\n     * Sets a record as the last focused record. This does NOT mean\n     * that the record has been selected.\n     * @param {Ext.data.Record} newRecord\n     * @param {Ext.data.Record} oldRecord\n     */\n    updateLastFocused: function(newRecord, oldRecord) {\n        this.onLastFocusChanged(oldRecord, newRecord);\n    },\n\n    fireSelectionChange: function(records) {\n        var me = this;\n        me.fireAction('beforeselectionchange', [me], function() {\n            me.fireAction('selectionchange', [me, records], 'getSelection');\n        });\n    },\n\n    /**\n     * Returns an array of the currently selected records.\n     * @return {Array} An array of selected records\n     */\n    getSelection: function() {\n        return this.selected.getRange();\n    },\n\n    /**\n     * Returns <tt>true</tt> if the specified row is selected.\n     * @param {Ext.data.Model/Number} record The record or index of the record to check\n     * @return {Boolean}\n     */\n    isSelected: function(record) {\n        record = Ext.isNumber(record) ? this.getStore().getAt(record) : record;\n        return this.selected.indexOf(record) !== -1;\n    },\n\n    /**\n     * Returns true if there is a selected record.\n     * @return {Boolean}\n     */\n    hasSelection: function() {\n        return this.selected.getCount() > 0;\n    },\n\n    /**\n     * @private\n     */\n    refreshSelection: function() {\n        var me = this,\n            selections = me.getSelection();\n\n        me.deselectAll(true);\n        if (selections.length) {\n            me.select(selections, false, true);\n        }\n    },\n\n    // prune records from the SelectionModel if\n    // they were selected at the time they were\n    // removed.\n    onSelectionStoreRemove: function(store, records) {\n        var me = this,\n            selected = me.selected,\n            ln = records.length,\n            record, i;\n\n        if (me.getDisableSelection()) {\n            return;\n        }\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            if (selected.remove(record)) {\n                if (me.getLastSelected() == record) {\n                    me.setLastSelected(null);\n                }\n                if (me.getLastFocused() == record) {\n                    me.setLastFocused(null);\n                }\n                me.fireSelectionChange([record]);\n            }\n        }\n    },\n\n    /**\n     * Returns the number of selections.\n     * @return {Number}\n     */\n    getSelectionCount: function() {\n        return this.selected.getCount();\n    },\n\n    onSelectionStoreAdd: Ext.emptyFn,\n    onSelectionStoreUpdate: Ext.emptyFn,\n    onItemSelect: Ext.emptyFn,\n    onItemDeselect: Ext.emptyFn,\n    onLastFocusChanged: Ext.emptyFn,\n    onEditorKey: Ext.emptyFn\n}, function() {\n    /**\n     * Selects a record instance by record instance or index.\n     * @member Ext.mixin.Selectable\n     * @method doSelect\n     * @param {Ext.data.Model/Number} records An array of records or an index\n     * @param {Boolean} keepExisting\n     * @param {Boolean} suppressEvent Set to false to not fire a select event\n     * @deprecated 2.0.0 Please use {@link #select} instead.\n     */\n\n    /**\n     * Deselects a record instance by record instance or index.\n     * @member Ext.mixin.Selectable\n     * @method doDeselect\n     * @param {Ext.data.Model/Number} records An array of records or an index\n     * @param {Boolean} suppressEvent Set to false to not fire a deselect event\n     * @deprecated 2.0.0 Please use {@link #deselect} instead.\n     */\n\n    /**\n     * Returns the selection mode currently used by this Selectable\n     * @member Ext.mixin.Selectable\n     * @method getSelectionMode\n     * @return {String} The current mode\n     * @deprecated 2.0.0 Please use {@link #getMode} instead.\n     */\n\n    /**\n     * Returns the array of previously selected items\n     * @member Ext.mixin.Selectable\n     * @method getLastSelected\n     * @return {Array} The previous selection\n     * @deprecated 2.0.0\n     */\n\n    /**\n     * Returns true if the Selectable is currently locked\n     * @member Ext.mixin.Selectable\n     * @method isLocked\n     * @return {Boolean} True if currently locked\n     * @deprecated 2.0.0 Please use {@link #getDisableSelection} instead.\n     */\n\n    /**\n     * This was an internal function accidentally exposed in 1.x and now deprecated. Calling it has no effect\n     * @member Ext.mixin.Selectable\n     * @method setLastFocused\n     * @deprecated 2.0.0\n     */\n\n    /**\n     * Deselects any currently selected records and clears all stored selections\n     * @member Ext.mixin.Selectable\n     * @method clearSelections\n     * @deprecated 2.0.0 Please use {@link #deselectAll} instead.\n     */\n\n    /**\n     * Returns the number of selections.\n     * @member Ext.mixin.Selectable\n     * @method getCount\n     * @return {Number}\n     * @deprecated 2.0.0 Please use {@link #getSelectionCount} instead.\n     */\n\n    /**\n     * @cfg {Boolean} locked\n     * @inheritdoc Ext.mixin.Selectable#disableSelection\n     * @deprecated 2.0.0 Please use {@link #disableSelection} instead.\n     */\n\n     this.override({\n         constructor: function(config) {\n             if (config && config.hasOwnProperty('locked')) {\n                 var locked = config.locked;\n                 config.disableSelection = locked;\n                 delete config.locked;\n             }\n\n             this.callParent([config]);\n        }\n     });\n\n    Ext.deprecateClassMethod(this, {\n        isLocked: 'getDisableSelection',\n        getSelectionMode: 'getMode',\n        doDeselect: 'deselect',\n        doSelect: 'select',\n        bind: 'setStore',\n        clearSelections: 'deselectAll',\n        getCount: 'getSelectionCount'\n    });\n});\n\n/**\n * @private\n */\nExt.define('Ext.dataview.element.Container', {\n    extend: 'Ext.Component',\n\n    /**\n     * @event itemtouchstart\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item touched\n     * @param {Number} index The index of the item touched\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchmove\n     * Fires whenever an item is moved\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item moved\n     * @param {Number} index The index of the item moved\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchend\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item touched\n     * @param {Number} index The index of the item touched\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtap\n     * Fires whenever an item is tapped\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item tapped\n     * @param {Number} index The index of the item tapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtaphold\n     * Fires whenever an item is tapped\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item tapped\n     * @param {Number} index The index of the item tapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemsingletap\n     * Fires whenever an item is doubletapped\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item singletapped\n     * @param {Number} index The index of the item singletapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemdoubletap\n     * Fires whenever an item is doubletapped\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item doubletapped\n     * @param {Number} index The index of the item doubletapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemswipe\n     * Fires whenever an item is swiped\n     * @param {Ext.dataview.element.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item swiped\n     * @param {Number} index The index of the item swiped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    doInitialize: function() {\n        this.element.on({\n            touchstart: 'onItemTouchStart',\n            touchend: 'onItemTouchEnd',\n            tap: 'onItemTap',\n            taphold: 'onItemTapHold',\n            touchmove: 'onItemTouchMove',\n            singletap: 'onItemSingleTap',\n            doubletap: 'onItemDoubleTap',\n            swipe: 'onItemSwipe',\n            delegate: '> div',\n            scope: this\n        });\n    },\n\n    //@private\n    initialize: function() {\n        this.callParent();\n        this.doInitialize();\n    },\n\n    updateBaseCls: function(newBaseCls, oldBaseCls) {\n        var me = this;\n\n        me.callParent([newBaseCls + '-container', oldBaseCls]);\n    },\n\n    onItemTouchStart: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        Ext.get(target).on({\n            touchmove: 'onItemTouchMove',\n            scope   : me,\n            single: true\n        });\n\n        me.fireEvent('itemtouchstart', me, Ext.get(target), index, e);\n    },\n\n    onItemTouchEnd: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        Ext.get(target).un({\n            touchmove: 'onItemTouchMove',\n            scope   : me\n        });\n\n        me.fireEvent('itemtouchend', me, Ext.get(target), index, e);\n    },\n\n    onItemTouchMove: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemtouchmove', me, Ext.get(target), index, e);\n    },\n\n    onItemTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemtap', me, Ext.get(target), index, e);\n    },\n\n    onItemTapHold: function(e) {\n        var me     = this,\n            target = e.getTarget(),\n            index  = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemtaphold', me, Ext.get(target), index, e);\n    },\n\n    onItemDoubleTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemdoubletap', me, Ext.get(target), index, e);\n    },\n\n    onItemSingleTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemsingletap', me, Ext.get(target), index, e);\n    },\n\n    onItemSwipe: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            index = me.getViewItems().indexOf(target);\n\n        me.fireEvent('itemswipe', me,  Ext.get(target), index, e);\n    },\n\n    updateListItem: function(record, item) {\n        var me = this,\n            dataview = me.dataview,\n            data = dataview.prepareData(record.getData(true), dataview.getStore().indexOf(record), record);\n        item.innerHTML = me.dataview.getItemTpl().apply(data);\n    },\n\n    addListItem: function(index, record) {\n        var me = this,\n            dataview = me.dataview,\n            data = dataview.prepareData(record.getData(true), dataview.getStore().indexOf(record), record),\n            element = me.element,\n            childNodes = element.dom.childNodes,\n            ln = childNodes.length,\n            wrapElement;\n\n        wrapElement = Ext.Element.create(this.getItemElementConfig(index, data));\n\n        if (!ln || index == ln) {\n            wrapElement.appendTo(element);\n        } else {\n            wrapElement.insertBefore(childNodes[index]);\n        }\n    },\n\n    getItemElementConfig: function(index, data) {\n        var dataview = this.dataview,\n            itemCls = dataview.getItemCls(),\n            cls = dataview.getBaseCls() + '-item';\n\n        if (itemCls) {\n            cls += ' ' + itemCls;\n        }\n        return {\n            cls: cls,\n            html: dataview.getItemTpl().apply(data)\n        };\n    },\n\n    doRemoveItemCls: function(cls) {\n        var elements = this.getViewItems(),\n            ln = elements.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            Ext.fly(elements[i]).removeCls(cls);\n        }\n    },\n\n    doAddItemCls: function(cls) {\n        var elements = this.getViewItems(),\n            ln = elements.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            Ext.fly(elements[i]).addCls(cls);\n        }\n    },\n\n    // Remove\n    moveItemsToCache: function(from, to) {\n        var me = this,\n            items = me.getViewItems(),\n            i = to - from,\n            item;\n\n        for (; i >= 0; i--) {\n            item = items[from + i];\n            item.parentNode.removeChild(item);\n        }\n        if (me.getViewItems().length == 0) {\n            this.dataview.showEmptyText();\n        }\n    },\n\n    // Add\n    moveItemsFromCache: function(records) {\n        var me = this,\n            dataview = me.dataview,\n            store = dataview.getStore(),\n            ln = records.length,\n            i, record;\n\n        if (ln) {\n            dataview.hideEmptyText();\n        }\n\n        for (i = 0; i < ln; i++) {\n            records[i]._tmpIndex = store.indexOf(records[i]);\n        }\n\n        Ext.Array.sort(records, function(record1, record2) {\n            return record1._tmpIndex > record2._tmpIndex ? 1 : -1;\n        });\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            me.addListItem(record._tmpIndex, record);\n            delete record._tmpIndex;\n        }\n    },\n\n    // Transform ChildNodes into a proper Array so we can do indexOf...\n    getViewItems: function() {\n        return Array.prototype.slice.call(this.element.dom.childNodes);\n    },\n\n    destroy: function() {\n        var elements = this.getViewItems(),\n            ln = elements.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            Ext.removeNode(elements[i]);\n        }\n        this.callParent();\n    }\n});\n\n/**\n * @class Ext.Decorator\n * @extend Ext.Component\n *\n * In a few words, a Decorator is a Component that wraps around another Component. A typical example of a Decorator is a\n * {@link Ext.field.Field Field}. A form field is nothing more than a decorator around another component, and gives the\n * component a label, as well as extra styling to make it look good in a form.\n *\n * A Decorator can be thought of as a lightweight Container that has only one child item, and no layout overhead.\n * The look and feel of decorators can be styled purely in CSS.\n *\n * Another powerful feature that Decorator provides is config proxying. For example: all config items of a\n * {@link Ext.slider.Slider Slider} also exist in a {@link Ext.field.Slider Slider Field} for API convenience.\n * The {@link Ext.field.Slider Slider Field} simply proxies all corresponding getters and setters\n * to the actual {@link Ext.slider.Slider Slider} instance. Writing out all the setters and getters to do that is a tedious task\n * and a waste of code space. Instead, when you sub-class Ext.Decorator, all you need to do is to specify those config items\n * that you want to proxy to the Component using a special 'proxyConfig' class property. Here's how it may look like\n * in a Slider Field class:\n *\n *     Ext.define('My.field.Slider', {\n *         extend: 'Ext.Decorator',\n *\n *         config: {\n *             component: {\n *                 xtype: 'slider'\n *             }\n *         },\n *\n *         proxyConfig: {\n *             minValue: 0,\n *             maxValue: 100,\n *             increment: 1\n *         }\n *\n *         // ...\n *     });\n *\n * Once `My.field.Slider` class is created, it will have all setters and getters methods for all items listed in `proxyConfig`\n * automatically generated. These methods all proxy to the same method names that exist within the Component instance.\n */\nExt.define('Ext.Decorator', {\n    extend: 'Ext.Component',\n\n    isDecorator: true,\n\n    config: {\n        /**\n         * @cfg {Object} component The config object to factory the Component that this Decorator wraps around\n         */\n        component: {}\n    },\n\n    statics: {\n        generateProxySetter: function(name) {\n            return function(value) {\n                var component = this.getComponent();\n                component[name].call(component, value);\n\n                return this;\n            }\n        },\n        generateProxyGetter: function(name) {\n            return function() {\n                var component = this.getComponent();\n                return component[name].call(component);\n            }\n        }\n    },\n\n    onClassExtended: function(Class, members) {\n        if (!members.hasOwnProperty('proxyConfig')) {\n            return;\n        }\n\n        var ExtClass = Ext.Class,\n            proxyConfig = members.proxyConfig,\n            config = members.config;\n\n        members.config = (config) ? Ext.applyIf(config, proxyConfig) : proxyConfig;\n\n        var name, nameMap, setName, getName;\n\n        for (name in proxyConfig) {\n            if (proxyConfig.hasOwnProperty(name)) {\n                nameMap = ExtClass.getConfigNameMap(name);\n                setName = nameMap.set;\n                getName = nameMap.get;\n\n                members[setName] = this.generateProxySetter(setName);\n                members[getName] = this.generateProxyGetter(getName);\n            }\n        }\n    },\n\n    // @private\n    applyComponent: function(config) {\n        return Ext.factory(config, Ext.Component);\n    },\n\n    // @private\n    updateComponent: function(newComponent, oldComponent) {\n        if (oldComponent) {\n            if (this.isRendered() && oldComponent.setRendered(false)) {\n                oldComponent.fireAction('renderedchange', [this, oldComponent, false],\n                    'doUnsetComponent', this, { args: [oldComponent] });\n            }\n            else {\n                this.doUnsetComponent(oldComponent);\n            }\n        }\n\n        if (newComponent) {\n            if (this.isRendered() && newComponent.setRendered(true)) {\n                newComponent.fireAction('renderedchange', [this, newComponent, true],\n                    'doSetComponent', this, { args: [newComponent] });\n            }\n            else {\n                this.doSetComponent(newComponent);\n            }\n        }\n    },\n\n    // @private\n    doUnsetComponent: function(component) {\n        if (component.renderElement.dom) {\n            this.innerElement.dom.removeChild(component.renderElement.dom);\n        }\n    },\n\n    // @private\n    doSetComponent: function(component) {\n        if (component.renderElement.dom) {\n            this.innerElement.dom.appendChild(component.renderElement.dom);\n        }\n    },\n\n    // @private\n    setRendered: function(rendered) {\n        var component;\n\n        if (this.callParent(arguments)) {\n            component = this.getComponent();\n\n            if (component) {\n                component.setRendered(rendered);\n            }\n\n            return true;\n        }\n\n        return false;\n    },\n\n    // @private\n    setDisabled: function(disabled) {\n        this.callParent(arguments);\n        this.getComponent().setDisabled(disabled);\n    },\n\n    destroy: function() {\n        Ext.destroy(this.getComponent());\n        this.callParent();\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.field.Input', {\n    extend: 'Ext.Component',\n    xtype : 'input',\n\n    /**\n     * @event clearicontap\n     * Fires whenever the clear icon is tapped\n     * @param {Ext.field.Input} this\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event masktap\n     * @preventable doMaskTap\n     * Fires whenever a mask is tapped\n     * @param {Ext.field.Input} this\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event focus\n     * @preventable doFocus\n     * Fires whenever the input get focus\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event blur\n     * @preventable doBlur\n     * Fires whenever the input loses focus\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event click\n     * Fires whenever the input is clicked\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event keyup\n     * Fires whenever keyup is detected\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event paste\n     * Fires whenever paste is detected\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event mousedown\n     * Fires whenever the input has a mousedown occur\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @property {String} tag The el tag\n     * @private\n     */\n    tag: 'input',\n\n    cachedConfig: {\n        /**\n         * @cfg {String} cls The className to be applied to this input\n         * @accessor\n         */\n        cls: Ext.baseCSSPrefix + 'form-field',\n\n        /**\n         * @cfg {String} focusCls The CSS class to use when the field receives focus\n         * @accessor\n         */\n        focusCls: Ext.baseCSSPrefix + 'field-focus',\n\n        // @private\n        maskCls: Ext.baseCSSPrefix + 'field-mask',\n\n        /**\n         * True to use a mask on this field, or `auto` to automatically select when you should use it.\n         * @cfg {String/Boolean} useMask\n         * @private\n         * @accessor\n         */\n        useMask: 'auto',\n\n        /**\n         * @cfg {String} type The type attribute for input fields -- e.g. radio, text, password, file (defaults\n         * to 'text'). The types 'file' and 'password' must be used to render those field types currently -- there are\n         * no separate Ext components for those.\n         * @accessor\n         */\n        type: 'text',\n\n        /**\n         * @cfg {Boolean} checked <tt>true</tt> if the checkbox should render initially checked (defaults to <tt>false</tt>)\n         * @accessor\n         */\n        checked: false\n    },\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'field-input',\n\n        /**\n         * @cfg {String} name The field's HTML name attribute\n         * <b>Note</b>: this property must be set if this field is to be automatically included with\n         * {@link Ext.form.Panel#method-submit form submit()}.\n         * @accessor\n         */\n        name: null,\n\n        /**\n         * @cfg {Mixed} value A value to initialize this field with (defaults to undefined).\n         * @accessor\n         */\n        value: null,\n\n        /**\n         * @property {Boolean} <tt>True</tt> if the field currently has focus.\n         * @accessor\n         */\n        isFocused: false,\n\n        /**\n         * @cfg {Number} tabIndex The tabIndex for this field. Note this only applies to fields that are rendered,\n         * not those which are built via applyTo (defaults to undefined).\n         * @accessor\n         */\n        tabIndex: null,\n\n        /**\n         * @cfg {String} placeHolder A string value displayed in the input (if supported) when the control is empty.\n         * @accessor\n         */\n        placeHolder: null,\n\n        /**\n         * @cfg {Number} minValue The minimum value that this Number field can accept (defaults to undefined, e.g. no minimium)\n         * @accessor\n         */\n        minValue: null,\n\n        /**\n         * @cfg {Number} maxValue The maximum value that this Number field can accept (defaults to undefined, e.g. no maximum)\n         * @accessor\n         */\n        maxValue: null,\n\n        /**\n         * @cfg {Number} stepValue The amount by which the field is incremented or decremented each time the spinner is tapped.\n         * Defaults to undefined, which means that the field goes up or down by 1 each time the spinner is tapped\n         * @accessor\n         */\n        stepValue: null,\n\n        /**\n         * @cfg {Number} maxLength The maximum number of permitted input characters (defaults to 0).\n         * @accessor\n         */\n        maxLength: null,\n\n        /**\n         * True to set the field's DOM element autocomplete attribute to \"on\", false to set to \"off\". Defaults to undefined, leaving the attribute unset\n         * @cfg {Boolean} autoComplete\n         * @accessor\n         */\n        autoComplete: null,\n\n        /**\n         * True to set the field's DOM element autocapitalize attribute to \"on\", false to set to \"off\". Defaults to undefined, leaving the attribute unset\n         * @cfg {Boolean} autoCapitalize\n         * @accessor\n         */\n        autoCapitalize: null,\n\n        /**\n         * True to set the field DOM element autocorrect attribute to \"on\", false to set to \"off\". Defaults to undefined, leaving the attribute unset.\n         * @cfg {Boolean} autoCorrect\n         * @accessor\n         */\n        autoCorrect: null,\n\n        /**\n         * True to set the field DOM element readonly attribute to \"true\". Defaults to undefined, leaving the attribute unset.\n         * @cfg {Boolean} readOnly\n         * @accessor\n         */\n        readOnly: null,\n\n        /**\n         * Sets the field DOM element maxRows attribute. Defaults to undefined, leaving the attribute unset.\n         * @cfg {Number} maxRows\n         * @accessor\n         */\n        maxRows: null,\n\n        /**\n         * @cfg {Boolean} disabled True to disable the field (defaults to false).\n         * <p>Be aware that conformant with the <a href=\"http://www.w3.org/TR/html401/interact/forms.html#h-17.12.1\">HTML specification</a>,\n         * disabled Fields will not be {@link Ext.form.Panel#method-submit submitted}.</p>\n         * @accessor\n         */\n\n        /**\n         * <p>The value that the Field had at the time it was last focused. This is the value that is passed\n         * to the {@link Ext.field.Text#change} event which is fired if the value has been changed when the Field is blurred.</p>\n         * <p><b>This will be undefined until the Field has been visited.</b> Compare {@link #originalValue}.</p>\n         * @cfg {Mixed} startValue\n         * @accessor\n         */\n        startValue: false\n    },\n\n    /**\n     * @cfg {String/Number} originalValue The original value when the input is rendered\n     * @private\n     */\n\n    // @private\n    getTemplate: function() {\n        var items = [\n            {\n                reference: 'input',\n                tag: this.tag\n            },\n            {\n                reference: 'clearIcon',\n                cls: 'x-clear-icon'\n            }\n        ];\n\n        items.push({\n            reference: 'mask',\n            classList: [this.config.maskCls]\n        });\n\n        return items;\n    },\n\n    initElement: function() {\n        var me = this;\n\n        me.callParent();\n\n        me.input.on({\n            scope: me,\n\n            keyup    : 'onKeyUp',\n            focus    : 'onFocus',\n            blur     : 'onBlur',\n            paste    : 'onPaste'\n        });\n\n        me.mask.on({\n            tap: 'onMaskTap',\n            scope: me\n        });\n\n        if (me.clearIcon) {\n            me.clearIcon.on({\n                tap: 'onClearIconTap',\n                scope: me\n            });\n        }\n    },\n\n    applyUseMask: function(useMask) {\n        if (useMask === 'auto') {\n            useMask = Ext.os.is.iOS && Ext.os.version.lt('5');\n        }\n\n        return Boolean(useMask);\n    },\n\n    /**\n     * Updates the useMask configuration\n     */\n    updateUseMask: function(newUseMask) {\n        this.mask[newUseMask ? 'show' : 'hide']();\n    },\n\n    /**\n     * Helper method to update a specified attribute on the fieldEl, or remove the attribute all together\n     * @private\n     */\n    updateFieldAttribute: function(attribute, newValue) {\n        var input = this.input;\n\n        if (newValue) {\n            input.dom.setAttribute(attribute, newValue);\n        } else {\n            input.dom.removeAttribute(attribute);\n        }\n    },\n\n    /**\n     * Updates the {@link #cls} configuration\n     */\n    updateCls: function(newCls, oldCls) {\n        this.input.addCls(Ext.baseCSSPrefix + 'input-el');\n        this.input.replaceCls(oldCls, newCls);\n    },\n\n    /**\n     * Updates the type attribute with the {@link #type} configuration\n     * @private\n     */\n    updateType: function(newType, oldType) {\n        var prefix = Ext.baseCSSPrefix + 'input-';\n\n        this.input.replaceCls(prefix + oldType, prefix + newType);\n        this.updateFieldAttribute('type', newType);\n    },\n\n    /**\n     * Updates the name attribute with the {@link #name} configuration\n     * @private\n     */\n    updateName: function(newName) {\n        this.updateFieldAttribute('name', newName);\n    },\n\n    /**\n     * Returns the field data value\n     * @return {Mixed} value The field value\n     */\n    getValue: function() {\n        var input = this.input;\n\n        if (input) {\n            this._value = input.dom.value;\n        }\n\n        return this._value;\n    },\n\n    // @private\n    applyValue: function(value) {\n        return (Ext.isEmpty(value)) ? '' : value;\n    },\n\n    /**\n     * Updates the {@link #value} configuration\n     * @private\n     */\n    updateValue: function(newValue) {\n        var input = this.input;\n\n        if (input) {\n            input.dom.value = newValue;\n        }\n    },\n\n    setValue: function(newValue) {\n        var oldValue = this._value;\n\n        this.updateValue(this.applyValue(newValue));\n\n        newValue = this.getValue();\n\n        if (String(newValue) != String(oldValue) && this.initialized) {\n            this.onChange(this, newValue, oldValue);\n        }\n\n        return this;\n    },\n\n    // @private\n    applyTabIndex: function(tabIndex) {\n        if (tabIndex !== null && typeof tabIndex != 'number') {\n            throw new Error(\"Ext.field.Field: [applyTabIndex] trying to pass a value which is not a number\");\n        }\n        return tabIndex;\n    },\n\n    /**\n     * Updates the tabIndex attribute with the {@link #tabIndex} configuration\n     * @private\n     */\n    updateTabIndex: function(newTabIndex) {\n        this.updateFieldAttribute('tabIndex', newTabIndex);\n    },\n\n    // @private\n    testAutoFn: function(value) {\n        return [true, 'on'].indexOf(value) !== -1;\n    },\n\n    applyMaxLength: function(maxLength) {\n        if (maxLength !== null && typeof maxLength != 'number') {\n            throw new Error(\"Ext.field.Text: [applyMaxLength] trying to pass a value which is not a number\");\n        }\n        return maxLength;\n    },\n\n    /**\n     * Updates the maxlength attribute with the {@link #maxLength} configuration\n     * @private\n     */\n    updateMaxLength: function(newMaxLength) {\n        this.updateFieldAttribute('maxlength', newMaxLength);\n    },\n\n    /**\n     * Updates the placeholder attribute with the {@link #placeHolder} configuration\n     * @private\n     */\n    updatePlaceHolder: function(newPlaceHolder) {\n        this.updateFieldAttribute('placeholder', newPlaceHolder);\n    },\n\n    // @private\n    applyAutoComplete: function(autoComplete) {\n        return this.testAutoFn(autoComplete);\n    },\n\n    /**\n     * Updates the autocomplete attribute with the {@link #autoComplete} configuration\n     * @private\n     */\n    updateAutoComplete: function(newAutoComplete) {\n        var value = newAutoComplete ? 'on' : 'off';\n        this.updateFieldAttribute('autocomplete', value);\n    },\n\n    // @private\n    applyAutoCapitalize: function(autoCapitalize) {\n        return this.testAutoFn(autoCapitalize);\n    },\n\n    /**\n     * Updates the autocapitalize attribute with the {@link #autoCapitalize} configuration\n     * @private\n     */\n    updateAutoCapitalize: function(newAutoCapitalize) {\n        var value = newAutoCapitalize ? 'on' : 'off';\n        this.updateFieldAttribute('autocapitalize', value);\n    },\n\n    // @private\n    applyAutoCorrect: function(autoCorrect) {\n        return this.testAutoFn(autoCorrect);\n    },\n\n    /**\n     * Updates the autocorrect attribute with the {@link #autoCorrect} configuration\n     * @private\n     */\n    updateAutoCorrect: function(newAutoCorrect) {\n        var value = newAutoCorrect ? 'on' : 'off';\n        this.updateFieldAttribute('autocorrect', value);\n    },\n\n    /**\n     * Updates the min attribute with the {@link #minValue} configuration\n     * @private\n     */\n    updateMinValue: function(newMinValue) {\n        this.updateFieldAttribute('min', newMinValue);\n    },\n\n    /**\n     * Updates the max attribute with the {@link #maxValue} configuration\n     * @private\n     */\n    updateMaxValue: function(newMaxValue) {\n        this.updateFieldAttribute('max', newMaxValue);\n    },\n\n    /**\n     * Updates the step attribute with the {@link #stepValue} configuration\n     * @private\n     */\n    updateStepValue: function(newStepValue) {\n        this.updateFieldAttribute('step', newStepValue);\n    },\n\n    // @private\n    checkedRe: /^(true|1|on)/i,\n\n    /**\n     * Returns the checked value of this field\n     * @return {Mixed} value The field value\n     */\n    getChecked: function() {\n        var el = this.input,\n            checked;\n\n        if (el) {\n            checked = el.dom.checked;\n            this._checked = checked;\n        }\n\n        return checked;\n    },\n\n    // @private\n    applyChecked: function(checked) {\n        return !!this.checkedRe.test(String(checked));\n    },\n\n    setChecked: function(newChecked) {\n        this.updateChecked(this.applyChecked(newChecked));\n        this._checked = newChecked;\n    },\n\n    /**\n     * Updates the autocorrect attribute with the {@link #autoCorrect} configuration\n     * @private\n     */\n    updateChecked: function(newChecked) {\n        this.input.dom.checked = newChecked;\n    },\n\n    /**\n     * Updates the readonly attribute with the {@link #readOnly} configuration\n     * @private\n     */\n    updateReadOnly: function(readOnly) {\n        this.updateFieldAttribute('readonly', readOnly);\n    },\n\n    // @private\n    applyMaxRows: function(maxRows) {\n        if (maxRows !== null && typeof maxRows !== 'number') {\n            throw new Error(\"Ext.field.Input: [applyMaxRows] trying to pass a value which is not a number\");\n        }\n\n        return maxRows;\n    },\n\n    updateMaxRows: function(newRows) {\n        this.updateFieldAttribute('rows', newRows);\n    },\n\n    doSetDisabled: function(disabled) {\n        this.callParent(arguments);\n\n        this.input.dom.disabled = disabled;\n\n        if (!disabled) {\n            this.blur();\n        }\n    },\n\n    /**\n     * <p>Returns true if the value of this Field has been changed from its original value.\n     * Will return false if the field is disabled or has not been rendered yet.</p>\n     */\n    isDirty: function() {\n        if (this.getDisabled()) {\n            return false;\n        }\n\n        return String(this.getValue()) !== String(this.originalValue);\n    },\n\n    /**\n     * Resets the current field value to the original value.\n     */\n    reset: function() {\n        this.setValue(this.originalValue);\n    },\n\n    // @private\n    onMaskTap: function(e) {\n        this.fireAction('masktap', [this, e], 'doMaskTap');\n    },\n\n    // @private\n    doMaskTap: function(me, e) {\n        if (me.getDisabled()) {\n            return false;\n        }\n\n        me.maskCorrectionTimer = Ext.defer(me.showMask, 1000, me);\n        me.hideMask();\n    },\n\n    // @private\n    showMask: function(e) {\n        if (this.mask) {\n            this.mask.setStyle('display', 'block');\n        }\n    },\n\n    // @private\n    hideMask: function(e) {\n        if (this.mask) {\n            this.mask.setStyle('display', 'none');\n        }\n    },\n\n    /**\n     * Attempts to set the field as the active input focus.\n     * @return {Ext.field.Input} this\n     */\n    focus: function() {\n        var me = this,\n            el = me.input;\n\n        if (el && el.dom.focus) {\n            el.dom.focus();\n        }\n        return me;\n    },\n\n    /**\n     * Attempts to forcefully blur input focus for the field.\n     * @return {Ext.field.Input} this\n     */\n    blur: function() {\n        var me = this,\n            el = this.input;\n\n        if (el && el.dom.blur) {\n            el.dom.blur();\n        }\n        return me;\n    },\n\n    /**\n     * Attempts to forcefully select all the contents of the input field.\n     * @return {Ext.field.Input} this\n     */\n    select: function() {\n        var me = this,\n            el = me.input;\n\n        if (el && el.dom.setSelectionRange) {\n            el.dom.setSelectionRange(0, 9999);\n        }\n        return me;\n    },\n\n    onFocus: function(e) {\n        this.fireAction('focus', [e], 'doFocus');\n    },\n\n    // @private\n    doFocus: function(e) {\n        var me = this;\n\n        if (me.mask) {\n            if (me.maskCorrectionTimer) {\n                clearTimeout(me.maskCorrectionTimer);\n            }\n            me.hideMask();\n        }\n\n        if (!me.getIsFocused()) {\n            me.setIsFocused(true);\n            me.setStartValue(me.getValue());\n        }\n    },\n\n    onBlur: function(e) {\n        this.fireAction('blur', [e], 'doBlur');\n    },\n\n    // @private\n    doBlur: function(e) {\n        var me         = this,\n            value      = me.getValue(),\n            startValue = me.getStartValue();\n\n        me.setIsFocused(false);\n\n        if (String(value) != String(startValue)) {\n            me.onChange(me, value, startValue);\n        }\n\n        me.showMask();\n    },\n\n    // @private\n    onClearIconTap: function(e) {\n        this.fireEvent('clearicontap', this, e);\n\n        //focus the field after cleartap happens, but only on android.\n        //this is to stop the keyboard from hiding. TOUCH-2064\n        if (Ext.os.is.Android) {\n            this.focus();\n        }\n    },\n\n    onClick: function(e) {\n        this.fireEvent('click', e);\n    },\n\n    onChange: function(me, value, startValue) {\n        this.fireEvent('change', me, value, startValue);\n    },\n\n    onKeyUp: function(e) {\n        this.fireEvent('keyup', e);\n    },\n\n    onPaste: function(e) {\n        this.fireEvent('paste', e);\n    },\n\n    onMouseDown: function(e) {\n        this.fireEvent('mousedown', e);\n    }\n});\n\n/**\n * @author Ed Spencer\n *\n * Simple class that represents a Request that will be made by any {@link Ext.data.proxy.Server} subclass.\n * All this class does is standardize the representation of a Request as used by any ServerProxy subclass,\n * it does not contain any actual logic or perform the request itself.\n */\nExt.define('Ext.data.Request', {\n    config: {\n        /**\n         * @cfg {String} action\n         * The name of the action this Request represents. Usually one of 'create', 'read', 'update' or 'destroy'.\n         */\n        action: null,\n\n        /**\n         * @cfg {Object} params\n         * HTTP request params. The Proxy and its Writer have access to and can modify this object.\n         */\n        params: null,\n\n        /**\n         * @cfg {String} method\n         * The HTTP method to use on this Request. Should be one of 'GET', 'POST', 'PUT' or 'DELETE'.\n         */\n        method: 'GET',\n\n        /**\n         * @cfg {String} url\n         * The url to access on this Request.\n         */\n        url: null,\n\n        /**\n         * @cfg {Ext.data.Operation} operation\n         * The operation this request belongs to.\n         */\n        operation: null,\n\n        /**\n         * @cfg {Ext.data.proxy.Proxy} proxy\n         * The proxy this request belongs to.\n         */\n        proxy: null,\n\n        /**\n         * @cfg {Boolean} disableCaching\n         * Wether or not to disable caching for this request.\n         * Defaults to false.\n         */\n        disableCaching: false,\n\n        /**\n         * @cfg {Object} headers\n         * Some requests (like XMLHttpRequests) want to send additional server headers.\n         * This configuration can be set for those types of requests.\n         */\n        headers: {},\n\n        /**\n         * @cfg {String} callbackKey\n         * Some requests (like JsonP) want to send an additional key that contains\n         * the name of the callback function.\n         */\n        callbackKey: null,\n\n        /**\n         * @cfg {Ext.data.JsonP} jsonp\n         * JsonP requests return a handle that might be useful in the callback function.\n         */\n        jsonP: null,\n\n        /**\n         * @cfg {Object} jsonData\n         * This is used by some write actions to attach data to the request without encoding it\n         * as a parameter.\n         */\n        jsonData: null,\n\n        /**\n         * @cfg {Object} xmlData\n         * This is used by some write actions to attach data to the request without encoding it\n         * as a parameter, but instead sending it as XML.\n         */\n        xmlData: null,\n\n        /**\n         * @cfg {Boolean} withCredentials\n         * This field is necessary when using cross-origin resource sharing.\n         */\n        withCredentials: null,\n\n        callback: null,\n        scope: null,\n        timeout: 30000,\n        records: null,\n\n        // The following two configurations are only used by Ext.data.proxy.Direct and are just\n        // for being able to retrieve them after the request comes back from the server.\n        directFn: null,\n        args: null\n    },\n\n    /**\n     * Creates the Request object.\n     * @param {Object} [config] Config object.\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    }\n});\n/**\nRepresents a collection of a set of key and value pairs. Each key in the HashMap must be unique, the same\nkey cannot exist twice. Access to items is provided via the key only. Sample usage:\n\n    var map = Ext.create('Ext.util.HashMap');\n    map.add('key1', 1);\n    map.add('key2', 2);\n    map.add('key3', 3);\n\n    map.each(function(key, value, length){\n        console.log(key, value, length);\n    });\n\nThe HashMap is an unordered class, there is no guarantee when iterating over the items that they will be in\nany particular order. If this is required, then use a {@link Ext.util.MixedCollection}.\n\n */\nExt.define('Ext.util.HashMap', {\n    mixins: {\n        observable: 'Ext.mixin.Observable'\n    },\n\n    /**\n     * @cfg {Function} keyFn\n     * A function that is used to retrieve a default key for a passed object.\n     * A default is provided that returns the **id** property on the object.\n     * This function is only used if the add method is called with a single argument.\n     */\n\n    /**\n     * Creates new HashMap.\n     * @param {Object} config The configuration options\n     */\n    constructor: function(config) {\n        /**\n         * @event add\n         * Fires when a new item is added to the hash\n         * @param {Ext.util.HashMap} this.\n         * @param {String} key The key of the added item.\n         * @param {Object} value The value of the added item.\n         */\n        /**\n         * @event clear\n         * Fires when the hash is cleared.\n         * @param {Ext.util.HashMap} this.\n         */\n        /**\n         * @event remove\n         * Fires when an item is removed from the hash.\n         * @param {Ext.util.HashMap} this.\n         * @param {String} key The key of the removed item.\n         * @param {Object} value The value of the removed item.\n         */\n        /**\n         * @event replace\n         * Fires when an item is replaced in the hash.\n         * @param {Ext.util.HashMap} this.\n         * @param {String} key The key of the replaced item.\n         * @param {Object} value The new value for the item.\n         * @param {Object} old The old value for the item.\n         */\n\n        this.callParent();\n\n        this.mixins.observable.constructor.call(this);\n\n        this.clear(true);\n    },\n\n    /**\n     * Gets the number of items in the hash.\n     * @return {Number} The number of items in the hash.\n     */\n    getCount: function() {\n        return this.length;\n    },\n\n    /**\n     * Implementation for being able to extract the key from an object if only\n     * a single argument is passed.\n     * @private\n     * @param {String} key The key\n     * @param {Object} value The value\n     * @return {Array} [key, value]\n     */\n    getData: function(key, value) {\n        // if we have no value, it means we need to get the key from the object\n        if (value === undefined) {\n            value = key;\n            key = this.getKey(value);\n        }\n\n        return [key, value];\n    },\n\n    /**\n     * Extracts the key from an object. This is a default implementation, it may be overridden\n     * @private\n     * @param {Object} o The object to get the key from\n     * @return {String} The key to use.\n     */\n    getKey: function(o) {\n        return o.id;\n    },\n\n    /**\n     * Add a new item to the hash. An exception will be thrown if the key already exists.\n     * @param {String} key The key of the new item.\n     * @param {Object} value The value of the new item.\n     * @return {Object} The value of the new item added.\n     */\n    add: function(key, value) {\n        var me = this,\n            data;\n\n        if (me.containsKey(key)) {\n            throw new Error('This key already exists in the HashMap');\n        }\n\n        data = this.getData(key, value);\n        key = data[0];\n        value = data[1];\n        me.map[key] = value;\n        ++me.length;\n        me.fireEvent('add', me, key, value);\n        return value;\n    },\n\n    /**\n     * Replaces an item in the hash. If the key doesn't exist, the\n     * {@link #method-add} method will be used.\n     * @param {String} key The key of the item.\n     * @param {Object} value The new value for the item.\n     * @return {Object} The new value of the item.\n     */\n    replace: function(key, value) {\n        var me = this,\n            map = me.map,\n            old;\n\n        if (!me.containsKey(key)) {\n            me.add(key, value);\n        }\n        old = map[key];\n        map[key] = value;\n        me.fireEvent('replace', me, key, value, old);\n        return value;\n    },\n\n    /**\n     * Remove an item from the hash.\n     * @param {Object} o The value of the item to remove.\n     * @return {Boolean} True if the item was successfully removed.\n     */\n    remove: function(o) {\n        var key = this.findKey(o);\n        if (key !== undefined) {\n            return this.removeByKey(key);\n        }\n        return false;\n    },\n\n    /**\n     * Remove an item from the hash.\n     * @param {String} key The key to remove.\n     * @return {Boolean} True if the item was successfully removed.\n     */\n    removeByKey: function(key) {\n        var me = this,\n            value;\n\n        if (me.containsKey(key)) {\n            value = me.map[key];\n            delete me.map[key];\n            --me.length;\n            me.fireEvent('remove', me, key, value);\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * Retrieves an item with a particular key.\n     * @param {String} key The key to lookup.\n     * @return {Object} The value at that key. If it doesn't exist, <tt>undefined</tt> is returned.\n     */\n    get: function(key) {\n        return this.map[key];\n    },\n\n    /**\n     * Removes all items from the hash.\n     * @return {Ext.util.HashMap} this\n     */\n    clear: function(/* private */ initial) {\n        var me = this;\n        me.map = {};\n        me.length = 0;\n        if (initial !== true) {\n            me.fireEvent('clear', me);\n        }\n        return me;\n    },\n\n    /**\n     * Checks whether a key exists in the hash.\n     * @param {String} key The key to check for.\n     * @return {Boolean} True if they key exists in the hash.\n     */\n    containsKey: function(key) {\n        return this.map[key] !== undefined;\n    },\n\n    /**\n     * Checks whether a value exists in the hash.\n     * @param {Object} value The value to check for.\n     * @return {Boolean} True if the value exists in the dictionary.\n     */\n    contains: function(value) {\n        return this.containsKey(this.findKey(value));\n    },\n\n    /**\n     * Return all of the keys in the hash.\n     * @return {Array} An array of keys.\n     */\n    getKeys: function() {\n        return this.getArray(true);\n    },\n\n    /**\n     * Return all of the values in the hash.\n     * @return {Array} An array of values.\n     */\n    getValues: function() {\n        return this.getArray(false);\n    },\n\n    /**\n     * Gets either the keys/values in an array from the hash.\n     * @private\n     * @param {Boolean} isKey True to extract the keys, otherwise, the value\n     * @return {Array} An array of either keys/values from the hash.\n     */\n    getArray: function(isKey) {\n        var arr = [],\n            key,\n            map = this.map;\n        for (key in map) {\n            if (map.hasOwnProperty(key)) {\n                arr.push(isKey ? key : map[key]);\n            }\n        }\n        return arr;\n    },\n\n    /**\n     * Executes the specified function once for each item in the hash.\n     * Returning false from the function will cease iteration.\n     *\n     * The paramaters passed to the function are:\n     * <div class=\"mdetail-params\"><ul>\n     * <li><b>key</b> : String<p class=\"sub-desc\">The key of the item</p></li>\n     * <li><b>value</b> : Number<p class=\"sub-desc\">The value of the item</p></li>\n     * <li><b>length</b> : Number<p class=\"sub-desc\">The total number of items in the hash</p></li>\n     * </ul></div>\n     * @param {Function} fn The function to execute.\n     * @param {Object} scope The scope to execute in. Defaults to <tt>this</tt>.\n     * @return {Ext.util.HashMap} this\n     */\n    each: function(fn, scope) {\n        // copy items so they may be removed during iteration.\n        var items = Ext.apply({}, this.map),\n            key,\n            length = this.length;\n\n        scope = scope || this;\n        for (key in items) {\n            if (items.hasOwnProperty(key)) {\n                if (fn.call(scope, key, items[key], length) === false) {\n                    break;\n                }\n            }\n        }\n        return this;\n    },\n\n    /**\n     * Performs a shallow copy on this hash.\n     * @return {Ext.util.HashMap} The new hash object.\n     */\n    clone: function() {\n        var hash = new Ext.util.HashMap(),\n            map = this.map,\n            key;\n\n        hash.suspendEvents();\n        for (key in map) {\n            if (map.hasOwnProperty(key)) {\n                hash.add(key, map[key]);\n            }\n        }\n        hash.resumeEvents();\n        return hash;\n    },\n\n    /**\n     * @private\n     * Find the key for a value.\n     * @param {Object} value The value to find.\n     * @return {Object} The value of the item. Returns <tt>undefined</tt> if not found.\n     */\n    findKey: function(value) {\n        var key,\n            map = this.map;\n\n        for (key in map) {\n            if (map.hasOwnProperty(key) && map[key] === value) {\n                return key;\n            }\n        }\n        return undefined;\n    }\n});\n/**\n * A DataItem is a container for {@link Ext.dataview.DataView} with useComponents: true. It ties together\n * {@link Ext.data.Model records} to its contained Components via a {@link #dataMap dataMap} configuration.\n *\n * For example, lets say you have a `text` configuration which, when applied, gets turned into an instance of an\n * Ext.Component. We want to update the {@link #html} of a sub-component when the 'text' field of the record gets\n * changed.\n *\n * As you can see below, it is simply a matter of setting the key of the object to be the getter of the config\n * (getText), and then give that property a value of an object, which then has 'setHtml' (the html setter) as the key,\n * and 'text' (the field name) as the value. You can continue this for a as many sub-components as you wish.\n *\n *        dataMap: {\n *           // When the record is updated, get the text configuration, and\n *           // call {@link #setHtml} with the 'text' field of the record.\n *           getText: {\n *              setHtml: 'text'\n *          },\n *\n *          // When the record is updated, get the userName configuration, and\n *          // call {@link #setHtml} with the 'from_user' field of the record.\n *          getUserName: {\n *              setHtml: 'from_user'\n *          },\n *\n *          // When the record is updated, get the avatar configuration, and\n *          // call `setSrc` with the 'profile_image_url' field of the record.\n *          getAvatar: {\n *              setSrc: 'profile_image_url'\n *          }\n *      },\n */\n\nExt.define('Ext.dataview.component.DataItem', {\n    extend: 'Ext.Container',\n    xtype : 'dataitem',\n\n    config: {\n        baseCls: Ext.baseCSSPrefix + 'data-item',\n\n        defaultType: 'component',\n\n        /**\n         * @cfg {Ext.data.Model} record The model instance of this DataItem. It is controlled by the Component DataView\n         * @accessor\n         */\n        record: null,\n\n        /**\n         * @cfg {String} itemCls\n         * An additional CSS class to apply to items within the DataView.\n         * @accessor\n         */\n        itemCls: null,\n\n        /**\n         * @cfg dataMap\n         * The dataMap allows you to map {@link #record} fields to specific configurations in this component.\n         *\n         * For example, lets say you have a `text` configuration which, when applied, gets turned into an instance of an Ext.Component.\n         * We want to update the {@link #html} of this component when the 'text' field of the record gets changed.\n         * For example:\n         *\n         *      dataMap: {\n         *          getText: {\n         *              setHtml: 'text'\n         *          }\n         *      }\n         *\n         * In this example, it is simply a matter of setting the key of the object to be the getter of the config (getText), and then give that\n         * property a value of an object, which then has 'setHtml' (the html setter) as the key, and 'text' (the field name) as the value.\n         */\n        dataMap: {},\n\n        items: [{\n            xtype: 'component'\n        }]\n    },\n\n    updateBaseCls: function(newBaseCls, oldBaseCls) {\n        var me = this;\n\n        me.callParent(arguments);\n    },\n\n    updateItemCls: function(newCls, oldCls) {\n        if (oldCls) {\n            this.removeCls(oldCls);\n        }\n        if (newCls) {\n            this.addCls(newCls);\n        }\n    },\n\n    /**\n     * Updates this container's child items, passing through the dataMap.\n     * @param newRecord\n     * @private\n     */\n    updateRecord: function(newRecord) {\n        if (!newRecord) {\n            return;\n        }\n        this._record = newRecord;\n\n        var me = this,\n            dataview = me.config.dataview,\n            data = dataview.prepareData(newRecord.getData(true), dataview.getStore().indexOf(newRecord), newRecord),\n            items = me.getItems(),\n            item = items.first(),\n            dataMap = me.getDataMap(),\n            componentName, component, setterMap, setterName;\n\n        if (!item) {\n            return;\n        }\n        for (componentName in dataMap) {\n            setterMap = dataMap[componentName];\n            component = me[componentName]();\n            if (component) {\n                for (setterName in setterMap) {\n                    if (component[setterName]) {\n                        component[setterName](data[setterMap[setterName]]);\n                    }\n                }\n            }\n        }\n\n        /**\n         * @event updatedata\n         * Fires whenever the data of the DataItem is updated\n         * @param {Ext.dataview.component.DataItem} this The DataItem instance\n         * @param {Object} newData The new data\n         */\n        me.fireEvent('updatedata', me, data);\n\n        // Bypassing setter because sometimes we pass the same object (different properties)\n        item.updateData(data);\n    }\n});\n\n/**\n * @private\n * Utility class used by Ext.slider.Slider - should never need to be used directly.\n */\nExt.define('Ext.slider.Thumb', {\n    extend: 'Ext.Component',\n    xtype : 'thumb',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'thumb',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        draggable: {\n            direction: 'horizontal'\n        }\n    },\n\n    elementWidth: 0,\n\n    initialize: function() {\n        this.callParent();\n\n        this.getDraggable().onBefore({\n            dragstart: 'onDragStart',\n            drag: 'onDrag',\n            dragend: 'onDragEnd',\n            scope: this\n        });\n\n        this.on('painted', 'onPainted');\n    },\n\n    onDragStart: function() {\n        if (this.isDisabled()) {\n            return false;\n        }\n\n        this.relayEvent(arguments);\n    },\n\n    onDrag: function() {\n        if (this.isDisabled()) {\n            return false;\n        }\n\n        this.relayEvent(arguments);\n    },\n\n    onDragEnd: function() {\n        if (this.isDisabled()) {\n            return false;\n        }\n\n        this.relayEvent(arguments);\n    },\n\n    onPainted: function() {\n        this.elementWidth = this.element.dom.offsetWidth;\n    },\n\n    getElementWidth: function() {\n        return this.elementWidth;\n    }\n});\n\n/**\n * @author Ed Spencer\n * @class Ext.data.Batch\n *\n * <p>Provides a mechanism to run one or more {@link Ext.data.Operation operations} in a given order. Fires the 'operationcomplete' event\n * after the completion of each Operation, and the 'complete' event when all Operations have been successfully executed. Fires an 'exception'\n * event if any of the Operations encounter an exception.</p>\n *\n * <p>Usually these are only used internally by {@link Ext.data.proxy.Proxy} classes</p>\n *\n */\nExt.define('Ext.data.Batch', {\n    mixins: {\n        observable: 'Ext.mixin.Observable'\n    },\n\n    config: {\n        /**\n         * @cfg {Boolean} autoStart true to immediately start processing the batch as soon as it is constructed (defaults to false)\n         */\n        autoStart: false,\n\n        /**\n         * @cfg {Boolean} pauseOnException true to automatically pause the execution of the batch if any operation encounters an exception (defaults to true)\n         */\n        pauseOnException: true,\n\n        /**\n         * @cfg {Ext.data.Proxy} proxy The proxy this Batch belongs to. Used to make the requests for each operation in the Batch.\n         */\n        proxy: null\n    },\n\n    /**\n     * The index of the current operation being executed\n     * @property current\n     * @type Number\n     */\n    current: -1,\n\n    /**\n     * The total number of operations in this batch. Read only\n     * @property total\n     * @type Number\n     */\n    total: 0,\n\n    /**\n     * True if the batch is currently running\n     * @property isRunning\n     * @type Boolean\n     */\n    isRunning: false,\n\n    /**\n     * True if this batch has been executed completely\n     * @property isComplete\n     * @type Boolean\n     */\n    isComplete: false,\n\n    /**\n     * True if this batch has encountered an exception. This is cleared at the start of each operation\n     * @property hasException\n     * @type Boolean\n     */\n    hasException: false,\n\n    /**\n     * @event complete\n     * Fired when all operations of this batch have been completed\n     * @param {Ext.data.Batch} batch The batch object\n     * @param {Object} operation The last operation that was executed\n     */\n\n    /**\n     * @event exception\n     * Fired when a operation encountered an exception\n     * @param {Ext.data.Batch} batch The batch object\n     * @param {Object} operation The operation that encountered the exception\n     */\n\n    /**\n     * @event operationcomplete\n     * Fired when each operation of the batch completes\n     * @param {Ext.data.Batch} batch The batch object\n     * @param {Object} operation The operation that just completed\n     */\n\n    /**\n     * Creates new Batch object.\n     * @param {Object} config (optional) Config object\n     */\n    constructor: function(config) {\n        var me = this;\n\n        me.initConfig(config);\n\n        /**\n         * Ordered array of operations that will be executed by this batch\n         * @property {Ext.data.Operation[]} operations\n         */\n        me.operations = [];\n    },\n\n    /**\n     * Adds a new operation to this batch\n     * @param {Object} operation The {@link Ext.data.Operation Operation} object\n     */\n    add: function(operation) {\n        this.total++;\n\n        operation.setBatch(this);\n\n        this.operations.push(operation);\n    },\n\n    /**\n     * Kicks off the execution of the batch, continuing from the next operation if the previous\n     * operation encountered an exception, or if execution was paused\n     */\n    start: function() {\n        this.hasException = false;\n        this.isRunning = true;\n\n        this.runNextOperation();\n    },\n\n    /**\n     * @private\n     * Runs the next operation, relative to this.current.\n     */\n    runNextOperation: function() {\n        this.runOperation(this.current + 1);\n    },\n\n    /**\n     * Pauses execution of the batch, but does not cancel the current operation\n     */\n    pause: function() {\n        this.isRunning = false;\n    },\n\n    /**\n     * Executes a operation by its numeric index\n     * @param {Number} index The operation index to run\n     */\n    runOperation: function(index) {\n        var me = this,\n            operations = me.operations,\n            operation = operations[index],\n            onProxyReturn;\n\n        if (operation === undefined) {\n            me.isRunning = false;\n            me.isComplete = true;\n            me.fireEvent('complete', me, operations[operations.length - 1]);\n        } else {\n            me.current = index;\n\n            onProxyReturn = function(operation) {\n                var hasException = operation.hasException();\n\n                if (hasException) {\n                    me.hasException = true;\n                    me.fireEvent('exception', me, operation);\n                } else {\n                    me.fireEvent('operationcomplete', me, operation);\n                }\n\n                if (hasException && me.getPauseOnException()) {\n                    me.pause();\n                } else {\n                    operation.setCompleted();\n                    me.runNextOperation();\n                }\n            };\n\n            operation.setStarted();\n\n            me.getProxy()[operation.getAction()](operation, onProxyReturn, me);\n        }\n    }\n});\n/**\n * @author Ed Spencer\n *\n * Base Writer class used by most subclasses of {@link Ext.data.proxy.Server}. This class is\n * responsible for taking a set of {@link Ext.data.Operation} objects and a {@link Ext.data.Request}\n * object and modifying that request based on the Operations.\n *\n * For example a Ext.data.writer.Json would format the Operations and their {@link Ext.data.Model}\n * instances based on the config options passed to the JsonWriter's constructor.\n *\n * Writers are not needed for any kind of local storage - whether via a\n * {@link Ext.data.proxy.WebStorage Web Storage proxy} (see {@link Ext.data.proxy.LocalStorage localStorage})\n * or just in memory via a {@link Ext.data.proxy.Memory MemoryProxy}.\n */\nExt.define('Ext.data.writer.Writer', {\n    alias: 'writer.base',\n    alternateClassName: ['Ext.data.DataWriter', 'Ext.data.Writer'],\n\n    config: {\n        /**\n         * @cfg {Boolean} writeAllFields True to write all fields from the record to the server. If set to false it\n         * will only send the fields that were modified. Defaults to <tt>true</tt>. Note that any fields that have\n         * {@link Ext.data.Field#persist} set to false will still be ignored.\n         */\n        writeAllFields: true,\n\n        /**\n         * @cfg {String} nameProperty This property is used to read the key for each value that will be sent to the server.\n         * For example:\n         * <pre><code>\n    Ext.define('Person', {\n        extend: 'Ext.data.Model',\n        fields: [{\n            name: 'first',\n            mapping: 'firstName'\n        }, {\n            name: 'last',\n            mapping: 'lastName'\n        }, {\n            name: 'age'\n        }]\n    });\n    new Ext.data.writer.Writer({\n        writeAllFields: true,\n        nameProperty: 'mapping'\n    });\n\n    // This will be sent to the server\n    {\n        firstName: 'first name value',\n        lastName: 'last name value',\n        age: 1\n    }\n\n         * </code></pre>\n         * Defaults to <tt>name</tt>. If the value is not present, the field name will always be used.\n         */\n        nameProperty: 'name'\n    },\n\n    /**\n     * Creates new Writer.\n     * @param {Object} config (optional) Config object.\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    /**\n     * Prepares a Proxy's Ext.data.Request object\n     * @param {Ext.data.Request} request The request object\n     * @return {Ext.data.Request} The modified request object\n     */\n    write: function(request) {\n        var operation = request.getOperation(),\n            records   = operation.getRecords() || [],\n            len       = records.length,\n            i         = 0,\n            data      = [];\n\n        for (; i < len; i++) {\n            data.push(this.getRecordData(records[i]));\n        }\n        return this.writeRecords(request, data);\n    },\n\n    writeDate: function(field, date) {\n        var dateFormat = field.dateFormat || 'timestamp';\n        switch (dateFormat) {\n            case 'timestamp':\n                return date.getTime()/1000;\n            case 'time':\n                return date.getTime();\n            default:\n                return Ext.Date.format(date, dateFormat);\n        }\n    },\n\n    /**\n     * Formats the data for each record before sending it to the server. This\n     * method should be overridden to format the data in a way that differs from the default.\n     * @param {Object} record The record that we are writing to the server.\n     * @return {Object} An object literal of name/value keys to be written to the server.\n     * By default this method returns the data property on the record.\n     */\n    getRecordData: function(record) {\n        var isPhantom = record.phantom === true,\n            writeAll = this.getWriteAllFields() || isPhantom,\n            nameProperty = this.getNameProperty(),\n            fields = record.getFields(),\n            data = {},\n            changes, name, field, key, value;\n\n        if (writeAll) {\n            fields.each(function(field) {\n                if (field.getPersist()) {\n                    name = field.config[nameProperty] || field.getName();\n                    value = record.get(field.getName());\n                    if (field.getType().type == 'date') {\n                        value = this.writeDate(field, value);\n                    }\n                    data[name] = value;\n                }\n            }, this);\n        } else {\n            // Only write the changes\n            changes = record.getChanges();\n            for (key in changes) {\n                if (changes.hasOwnProperty(key)) {\n                    field = fields.get(key);\n                    if (field.getPersist()) {\n                        name = field.config[nameProperty] || field.getName();\n                        value = changes[key];\n                        if (field.getType().type == 'date') {\n                            value = this.writeDate(field, value);\n                        }\n                        data[name] = value;\n                    }\n                }\n            }\n            if (!isPhantom) {\n                // always include the id for non phantoms\n                data[record.getIdProperty()] = record.getId();\n            }\n        }\n        return data;\n    }\n\n    // Convert old properties in data into a config object\n    ,onClassExtended: function(cls, data, hooks) {\n        var Component = this,\n            defaultConfig = Component.prototype.config,\n            config = data.config || {},\n            key;\n\n\n        for (key in defaultConfig) {\n            if (key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the Writer prototype. ' +\n                    'Please put it inside the config object.');\n            }\n        }\n\n        data.config = config;\n    }\n});\n\n/**\n * @author Ed Spencer\n *\n * Simple wrapper class that represents a set of records returned by a Proxy.\n */\nExt.define('Ext.data.ResultSet', {\n    config: {\n        /**\n         * @cfg {Boolean} loaded\n         * True if the records have already been loaded. This is only meaningful when dealing with\n         * SQL-backed proxies.\n         */\n        loaded: true,\n\n        /**\n         * @cfg {Number} count\n         * The number of records in this ResultSet. Note that total may differ from this number.\n         */\n        count: null,\n\n        /**\n         * @cfg {Number} total\n         * The total number of records reported by the data source. This ResultSet may form a subset of\n         * those records (see {@link #count}).\n         */\n        total: null,\n\n        /**\n         * @cfg {Boolean} success\n         * True if the ResultSet loaded successfully, false if any errors were encountered.\n         */\n        success: false,\n\n        /**\n         * @cfg {Ext.data.Model[]} records (required)\n         * The array of record instances.\n         */\n        records: null,\n\n        /**\n         * @cfg {String} message\n         * The message that was read in from the data\n         */\n        message: null\n    },\n\n    /**\n     * Creates the resultSet\n     * @param {Object} [config] Config object.\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applyCount: function(count) {\n        if (!count && count !== 0) {\n            return this.getRecords().length;\n        }\n        return count;\n    },\n    \n    /**\n     * @private\n     * Make sure we set the right count when new records have been sent in\n     */\n    updateRecords: function(records) {\n        this.setCount(records.length);\n    }\n});\nExt.define(\"B2B.view._SplashBeerSearch\", {\n    extend: 'Ext.Img',\n    id: \"_splashbeersearch\",\n    xtype: '_splashbeersearch',\n\n    config: {\n\n    }\n});\n\n/**\n * @author Tommy Maintz\n *\n * This class generates UUID's according to RFC 4122. This class has a default id property.\n * This means that a single instance is shared unless the id property is overridden. Thus,\n * two {@link Ext.data.Model} instances configured like the following share one generator:\n *\n *     Ext.define('MyApp.data.MyModelX', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             identifier: 'uuid'\n *         }\n *     });\n *\n *     Ext.define('MyApp.data.MyModelY', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             identifier: 'uuid'\n *         }\n *     });\n *\n * This allows all models using this class to share a commonly configured instance.\n *\n * # Using Version 1 (\"Sequential\") UUID's\n *\n * If a server can provide a proper timestamp and a \"cryptographic quality random number\"\n * (as described in RFC 4122), the shared instance can be configured as follows:\n *\n *     Ext.data.identifier.Uuid.Global.reconfigure({\n *         version: 1,\n *         clockSeq: clock, // 14 random bits\n *         salt: salt,      // 48 secure random bits (the Node field)\n *         timestamp: ts    // timestamp per Section 4.1.4\n *     });\n *\n *     // or these values can be split into 32-bit chunks:\n *\n *     Ext.data.identifier.Uuid.Global.reconfigure({\n *         version: 1,\n *         clockSeq: clock,\n *         salt: { lo: saltLow32, hi: saltHigh32 },\n *         timestamp: { lo: timestampLow32, hi: timestamptHigh32 }\n *     });\n *\n * This approach improves the generator's uniqueness by providing a valid timestamp and\n * higher quality random data. Version 1 UUID's should not be used unless this information\n * can be provided by a server and care should be taken to avoid caching of this data.\n *\n * See http://www.ietf.org/rfc/rfc4122.txt for details.\n */\nExt.define('Ext.data.identifier.Uuid', {\n    extend: 'Ext.data.identifier.Simple',\n\n    alias: 'data.identifier.uuid',\n\n    isUnique: true,\n\n    config: {\n        /**\n         * The id for this generator instance. By default all model instances share the same\n         * UUID generator instance. By specifying an id other then 'uuid', a unique generator instance\n         * will be created for the Model.\n         */\n        id: undefined,\n\n        /**\n         * @property {Number/Object} salt\n         * When created, this value is a 48-bit number. For computation, this value is split\n         * into 32-bit parts and stored in an object with `hi` and `lo` properties.\n         */\n        salt: null,\n\n        /**\n         * @property {Number/Object} timestamp\n         * When created, this value is a 60-bit number. For computation, this value is split\n         * into 32-bit parts and stored in an object with `hi` and `lo` properties.\n         */\n        timestamp: null,\n\n        /**\n         * @cfg {Number} version\n         * The Version of UUID. Supported values are:\n         *\n         *  * 1 : Time-based, \"sequential\" UUID.\n         *  * 4 : Pseudo-random UUID.\n         *\n         * The default is 4.\n         */\n        version: 4\n    },\n\n    applyId: function(id) {\n        if (id === undefined) {\n            return Ext.data.identifier.Uuid.Global;\n        }\n        return id;\n    },\n\n    constructor: function() {\n        var me = this;\n        me.callParent(arguments);\n        me.parts = [];\n        me.init();\n    },\n\n    /**\n     * Reconfigures this generator given new config properties.\n     */\n    reconfigure: function(config) {\n        this.setConfig(config);\n        this.init();\n    },\n\n    generate: function () {\n        var me = this,\n            parts = me.parts,\n            version = me.getVersion(),\n            salt = me.getSalt(),\n            time = me.getTimestamp();\n\n        /*\n           The magic decoder ring (derived from RFC 4122 Section 4.2.2):\n\n           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n           |                          time_low                             |\n           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n           |           time_mid            |  ver  |        time_hi        |\n           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n           |res|  clock_hi |   clock_low   |    salt 0   |M|     salt 1    |\n           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n           |                         salt (2-5)                            |\n           +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\n                     time_mid      clock_hi (low 6 bits)\n            time_low     | time_hi |clock_lo\n                |        |     |   || salt[0]\n                |        |     |   ||   | salt[1..5]\n                v        v     v   vv   v v\n                0badf00d-aced-1def-b123-dfad0badbeef\n                              ^    ^     ^\n                        version    |     multicast (low bit)\n                                   |\n                                reserved (upper 2 bits)\n        */\n        parts[0] = me.toHex(time.lo, 8);\n        parts[1] = me.toHex(time.hi & 0xFFFF, 4);\n        parts[2] = me.toHex(((time.hi >>> 16) & 0xFFF) | (version << 12), 4);\n        parts[3] = me.toHex(0x80 | ((me.clockSeq >>> 8) & 0x3F), 2) +\n                   me.toHex(me.clockSeq & 0xFF, 2);\n        parts[4] = me.toHex(salt.hi, 4) + me.toHex(salt.lo, 8);\n\n        if (version == 4) {\n            me.init(); // just regenerate all the random values...\n        } else {\n            // sequentially increment the timestamp...\n            ++time.lo;\n            if (time.lo >= me.twoPow32) { // if (overflow)\n                time.lo = 0;\n                ++time.hi;\n            }\n        }\n\n        return parts.join('-').toLowerCase();\n    },\n\n    /**\n     * @private\n     */\n    init: function () {\n        var me = this,\n            salt = me.getSalt(),\n            time = me.getTimestamp();\n\n        if (me.getVersion() == 4) {\n            // See RFC 4122 (Secion 4.4)\n            //   o  If the state was unavailable (e.g., non-existent or corrupted),\n            //      or the saved node ID is different than the current node ID,\n            //      generate a random clock sequence value.\n            me.clockSeq = me.rand(0, me.twoPow14-1);\n\n            if (!salt) {\n                salt = {};\n                me.setSalt(salt);\n            }\n\n            if (!time) {\n                time = {};\n                me.setTimestamp(time);\n            }\n\n            // See RFC 4122 (Secion 4.4)\n            salt.lo = me.rand(0, me.twoPow32-1);\n            salt.hi = me.rand(0, me.twoPow16-1);\n            time.lo = me.rand(0, me.twoPow32-1);\n            time.hi = me.rand(0, me.twoPow28-1);\n        } else {\n            // this is run only once per-instance\n            me.setSalt(me.split(me.getSalt()));\n            me.setTimestamp(me.split(me.getTimestamp()));\n\n            // Set multicast bit: \"the least significant bit of the first octet of the\n            // node ID\" (nodeId = salt for this implementation):\n            me.getSalt().hi |= 0x100;\n        }\n    },\n\n    /**\n     * Some private values used in methods on this class.\n     * @private\n     */\n    twoPow14: Math.pow(2, 14),\n    twoPow16: Math.pow(2, 16),\n    twoPow28: Math.pow(2, 28),\n    twoPow32: Math.pow(2, 32),\n\n    /**\n     * Converts a value into a hexadecimal value. Also allows for a maximum length\n     * of the returned value.\n     * @param value\n     * @param length\n     * @private\n     */\n    toHex: function(value, length) {\n        var ret = value.toString(16);\n        if (ret.length > length) {\n            ret = ret.substring(ret.length - length); // right-most digits\n        } else if (ret.length < length) {\n            ret = Ext.String.leftPad(ret, length, '0');\n        }\n        return ret;\n    },\n\n    /**\n     * Generates a random value with between a low and high.\n     * @param lo\n     * @param hi\n     * @private\n     */\n    rand: function(lo, hi) {\n        var v = Math.random() * (hi - lo + 1);\n        return Math.floor(v) + lo;\n    },\n\n    /**\n     * Splits a number into a low and high value.\n     * @param bignum\n     * @private\n     */\n    split: function(bignum) {\n        if (typeof(bignum) == 'number') {\n            var hi = Math.floor(bignum / this.twoPow32);\n            return {\n                lo: Math.floor(bignum - hi * this.twoPow32),\n                hi: hi\n            };\n        }\n        return bignum;\n    }\n}, function() {\n    this.Global = new this({\n        id: 'uuid'\n    });\n});\n/**\n * @aside guide floating_components\n *\n * Panels are most useful as Overlays - containers that float over your application. They contain extra styling such\n * that when you {@link #showBy} another component, the container will appear in a rounded black box with a 'tip'\n * pointing to a reference component.\n *\n * If you don't need this extra functionality, you should use {@link Ext.Container} instead. See the\n * [Overlays example](#!/example/overlays) for more use cases.\n *\n *      @example miniphone preview\n *\n *      var button = Ext.create('Ext.Button', {\n *           text: 'Button',\n *           id: 'rightButton'\n *      });\n *\n *      Ext.create('Ext.Container', {\n *          fullscreen: true,\n *          items: [\n *              {\n *                   docked: 'top',\n *                   xtype: 'titlebar',\n *                   items: [\n *                       button\n *                   ]\n *               }\n *          ]\n *      });\n *\n *      Ext.create('Ext.Panel', {\n *          html: 'Floating Panel',\n *          left: 0,\n *          padding: 10\n *      }).showBy(button);\n *\n */\nExt.define('Ext.Panel', {\n    extend: 'Ext.Container',\n    requires: ['Ext.util.LineSegment'],\n\n    alternateClassName: 'Ext.lib.Panel',\n\n    xtype: 'panel',\n\n    isPanel: true,\n\n    config: {\n        baseCls: Ext.baseCSSPrefix + 'panel',\n\n        /**\n         * @cfg {Number/Boolean/String} bodyPadding\n         * A shortcut for setting a padding style on the body element. The value can either be\n         * a number to be applied to all sides, or a normal css string describing padding.\n         * @deprecated 2.0.0\n         */\n        bodyPadding: null,\n\n        /**\n         * @cfg {Number/Boolean/String} bodyMargin\n         * A shortcut for setting a margin style on the body element. The value can either be\n         * a number to be applied to all sides, or a normal css string describing margins.\n         * @deprecated 2.0.0\n         */\n        bodyMargin: null,\n\n        /**\n         * @cfg {Number/Boolean/String} bodyBorder\n         * A shortcut for setting a border style on the body element. The value can either be\n         * a number to be applied to all sides, or a normal css string describing borders.\n         * @deprecated 2.0.0\n         */\n        bodyBorder: null\n    },\n\n    getElementConfig: function() {\n        var config = this.callParent();\n\n        config.children.push({\n            reference: 'tipElement',\n            className: 'x-anchor',\n            hidden: true\n        });\n\n        return config;\n    },\n\n    applyBodyPadding: function(bodyPadding) {\n        if (bodyPadding === true) {\n            bodyPadding = 5;\n        }\n\n        if (bodyPadding) {\n            bodyPadding = Ext.dom.Element.unitizeBox(bodyPadding);\n        }\n\n        return bodyPadding;\n    },\n\n    updateBodyPadding: function(newBodyPadding) {\n        this.element.setStyle('padding', newBodyPadding);\n    },\n\n    applyBodyMargin: function(bodyMargin) {\n        if (bodyMargin === true) {\n            bodyMargin = 5;\n        }\n\n        if (bodyMargin) {\n            bodyMargin = Ext.dom.Element.unitizeBox(bodyMargin);\n        }\n\n        return bodyMargin;\n    },\n\n    updateBodyMargin: function(newBodyMargin) {\n        this.element.setStyle('margin', newBodyMargin);\n    },\n\n    applyBodyBorder: function(bodyBorder) {\n        if (bodyBorder === true) {\n            bodyBorder = 1;\n        }\n\n        if (bodyBorder) {\n            bodyBorder = Ext.dom.Element.unitizeBox(bodyBorder);\n        }\n\n        return bodyBorder;\n    },\n\n    updateBodyBorder: function(newBodyBorder) {\n        this.element.setStyle('border-width', newBodyBorder);\n    },\n\n    alignTo: function(component) {\n        var tipElement = this.tipElement;\n\n        tipElement.hide();\n\n        if (this.currentTipPosition) {\n            tipElement.removeCls('x-anchor-' + this.currentTipPosition);\n        }\n\n        this.callParent(arguments);\n\n        var LineSegment = Ext.util.LineSegment,\n            alignToElement = component.isComponent ? component.renderElement : component,\n            element = this.renderElement,\n            alignToBox = alignToElement.getPageBox(),\n            box = element.getPageBox(),\n            left = box.left,\n            top = box.top,\n            right = box.right,\n            bottom = box.bottom,\n            centerX = left + (box.width / 2),\n            centerY = top + (box.height / 2),\n            leftTopPoint = { x: left, y: top },\n            rightTopPoint = { x: right, y: top },\n            leftBottomPoint = { x: left, y: bottom },\n            rightBottomPoint = { x: right, y: bottom },\n            boxCenterPoint = { x: centerX, y: centerY },\n            alignToCenterX = alignToBox.left + (alignToBox.width / 2),\n            alignToCenterY = alignToBox.top + (alignToBox.height / 2),\n            alignToBoxCenterPoint = { x: alignToCenterX, y: alignToCenterY },\n            centerLineSegment = new LineSegment(boxCenterPoint, alignToBoxCenterPoint),\n            offsetLeft = 0,\n            offsetTop = 0,\n            tipSize, tipWidth, tipHeight, tipPosition, tipX, tipY;\n\n        tipElement.setVisibility(false);\n        tipElement.show();\n        tipSize = tipElement.getSize();\n        tipWidth = tipSize.width;\n        tipHeight = tipSize.height;\n\n        if (centerLineSegment.intersects(new LineSegment(leftTopPoint, rightTopPoint))) {\n            tipX = Math.min(Math.max(alignToCenterX, left), right - (tipWidth / 2));\n            tipY = top;\n            offsetTop = tipHeight + 10;\n            tipPosition = 'top';\n        }\n        else if (centerLineSegment.intersects(new LineSegment(leftTopPoint, leftBottomPoint))) {\n            tipX = left;\n            tipY = Math.min(Math.max(alignToCenterY + (tipWidth / 2), top), bottom);\n            offsetLeft = tipHeight + 10;\n            tipPosition = 'left';\n        }\n        else if (centerLineSegment.intersects(new LineSegment(leftBottomPoint, rightBottomPoint))) {\n            tipX = Math.min(Math.max(alignToCenterX, left), right - (tipWidth / 2));\n            tipY = bottom;\n            offsetTop = -tipHeight - 10;\n            tipPosition = 'bottom';\n        }\n        else if (centerLineSegment.intersects(new LineSegment(rightTopPoint, rightBottomPoint))) {\n            tipX = right;\n            tipY = Math.min(Math.max(alignToCenterY - (tipWidth / 2), top), bottom);\n            offsetLeft = -tipHeight - 10;\n            tipPosition = 'right';\n        }\n\n        if (tipX || tipY) {\n            this.currentTipPosition = tipPosition;\n            tipElement.addCls('x-anchor-' + tipPosition);\n            tipElement.setLeft(tipX - left);\n            tipElement.setTop(tipY - top);\n            tipElement.setVisibility(true);\n\n            this.setLeft(this.getLeft() + offsetLeft);\n            this.setTop(this.getTop() + offsetTop);\n        }\n    }\n});\n\nExt.define('B2B.view.Feedback_Container', {\n	extend: 'Ext.Panel',\n	xtype: 'feedbackcontainerpanel',\n	id: 'feedbackcontainerpanel',\n	config: {\n		title: i18n.app.FORM_FEEDBACK\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		if(this.target){\n\n			var store = Ext.getStore(\"Feedback_Ajax\");\n			store.getProxy().setExtraParam(target, this.target); \n			\n			var feedbacklist = {\n				xtype: \"feedbacklistcomponent\",\n	            store: store,\n	            draggable: false,\n	            height: 100\n	        };\n\n			var feedbackform = {\n				xtype: 'feedbackform'\n			};\n			\n			this.add([feedbacklist, feedbackform]);\n\n		}else{\n			var nocomment = [\n				'<div>'+i18n.app.TEXT_NOFEEDBACKFOUND+'</div>'\n			].join(\"\");\n			this.add([nocomment]);\n		}\n        \n	}\n});\nExt.define('B2B.view.Friend_List_Container', {\n	extend: 'Ext.Panel',\n	xtype: 'friendlistcontainerpanel',\n	id: 'friendlistcontainerpanel',\n	config: {\n		title: i18n.app.LABEL_FRIENDS,\n		iconCls: 'user_list',\n        layout: {\n        	type: 'fit'\n        }\n	},\n	initialize: function(){\n\n		var me = this;\n\n    	this.callParent(arguments);\n\n\n        var header = {\n            xtype: 'container',\n            cls: 'header_img',\n            height: 50,\n            width: '100%',\n            docked: 'top',\n            html: '<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'\n        };\n/*\n    	var searchFriendButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_SEARCHFRIEND,\n			ui: 'action',\n			id: 'search_friend_btn',\n			handler: this.onSearchFriendButtonTap,\n			scope: this\n		};\n		*/\n/*\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				{\n					xtype: 'spacer'\n				},\n				searchFriendButton\n			]\n		};\n		*/\n\n		var friendListSearchComponent = {\n			xtype: 'friendsearch'\n		};\n\n		var friendList = {\n		    xtype: \"friendlistcomponent\",\n		    store: Ext.getStore(\"Friends_Local\"),\n		    ui: 'round',\n		    //grouped: true,\n		};\n\n		this.add([/*toolbar, */header, friendListSearchComponent, friendList]);\n\n    }, /*\n	onSearchFriendButtonTap: function(){\n		this.fireEvent(\"searchFriendCommand\", this);\n	},\n	onListItemTap: function(record){\n		this.fireEvent(\"viewFriendDetailCommand\", this, record);\n	}*/\n});\nExt.define('B2B.view.Notification_Container', {\n	extend: 'Ext.Panel',\n	xtype: 'notificationlistcontainerpanel',\n	config: {\n		title: i18n.app.LABEL_FRIENDS,\n		iconCls: 'user_list',\n        layout: {\n        	type: 'fit'\n        }\n	},\n	initialize: function(){\n\n    	this.callParent(arguments);\n\n    	var markNotificationAllReadButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_MARKALLREAD,\n			ui: 'action',\n			id: 'mark_notification_allread_btn',\n			handler: this.onMarkNotificationAllReadButtonTap,\n			scope: this\n		};\n\n      var backNotificationButton = {\n          text: i18n.app.BTN_BACK,\n          ui: 'back',\n          id: 'back_notification_btn',\n          handler: this.onBackNotificationButtonTap,\n          scope: this\n      	};\n\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			title: i18n.app.PANEL_NOTIFICATION,\n			docked: 'top',\n			items: [\n				backNotificationButton,\n				{\n					xtype: 'spacer'\n				},\n				markNotificationAllReadButton\n			]\n		};\n\n		var notificationList = {\n		    xtype: \"notificationlistcomponent\",\n		    store: Ext.getStore(\"Notifications_Local\"),\n		};\n\n		this.add([toolbar, notificationList]);\n\n    },\n	onMarkNotificationAllReadButtonTap: function(){\n		this.fireEvent(\"notificationReadAllCommand\", this);\n	},\n	onBackNotificationButtonTap: function(){\n		this.fireEvent(\"notificationBackCommand\", this);\n	}\n\n});\nExt.define('B2B.view.Badge_List_Container', {\n	extend: 'Ext.Panel',\n	xtype: 'badgelistcontainerpanel',\n	id: 'badgelistcontainerpanel',\n	config: {\n		title: i18n.app.LABEL_BADGES,\n		iconCls: 'badge_list',\n		layout: {\n			type: 'fit'\n		}\n	},\n	initialize: function() {\n		this.callParent(arguments);\n\n		var backButton = {\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'back_about_btn',\n			handler: this.onBackButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			docked: 'top',\n			cls: 'sub_titlebar',\n			title: i18n.app.LABEL_BADGES,\n			id: 'BadgesContainerTitlebar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				backButton,\n				{ xtype: 'spacer' }\n			]\n		},\n		badgeList = {\n			xtype: \"badgelistcomponent\",\n			store: Ext.getStore(\"Badges_Ajax\"),\n			ui: 'round'\n		};\n\n		this.add([toolbar, badgeList]);\n	},\n	onBackButtonTap: function() {\n		this.fireEvent(\"backToProfileCommand\", this);\n	}\n});\n/**\n * @aside video tabs-toolbars\n *\n * {@link Ext.Toolbar}s are most commonly used as docked items as within a {@link Ext.Container}. They can be docked either `top` or `bottom` using the {@link #docked} configuration.\n *\n * They allow you to insert items (normally {@link Ext.Button buttons}) and also add a {@link #title}.\n *\n * The {@link #defaultType} of {@link Ext.Toolbar} is {@link Ext.Button}.\n *\n * You can alterntively use {@link Ext.TitleBar} if you want the title to automatically adjust the size of its items.\n *\n * ## Examples\n *\n *     @example miniphone preview\n *     Ext.create('Ext.Container', {\n *         fullscreen: true,\n *         layout: {\n *             type: 'vbox',\n *             pack: 'center'\n *         },\n *         items: [\n *             {\n *                 xtype : 'toolbar',\n *                 docked: 'top',\n *                 title: 'My Toolbar'\n *             },\n *             {\n *                 xtype: 'container',\n *                 defaults: {\n *                     xtype: 'button',\n *                     margin: '10 10 0 10'\n *                 },\n *                 items: [\n *                     {\n *                         text: 'Toggle docked',\n *                         handler: function() {\n *                             var toolbar = Ext.ComponentQuery.query('toolbar')[0],\n *                                 newDocked = (toolbar.getDocked() == 'top') ? 'bottom' : 'top';\n *\n *                             toolbar.setDocked(newDocked);\n *                         }\n *                     },\n *                     {\n *                         text: 'Toggle UI',\n *                         handler: function() {\n *                             var toolbar = Ext.ComponentQuery.query('toolbar')[0],\n *                                 newUi = (toolbar.getUi() == 'light') ? 'dark' : 'light';\n *\n *                             toolbar.setUi(newUi);\n *                         }\n *                     },\n *                     {\n *                         text: 'Change title',\n *                         handler: function() {\n *                             var toolbar = Ext.ComponentQuery.query('toolbar')[0],\n *                                 titles = ['My Toolbar', 'Ext.Toolbar', 'Configurations are awesome!', 'Beautiful.'],\n                                   //internally, the title configuration gets converted into a {@link Ext.Title} component,\n                                   //so you must get the title configuration of that component\n *                                 title = toolbar.getTitle().getTitle(),\n *                                 newTitle = titles[titles.indexOf(title) + 1] || titles[0];\n *\n *                             toolbar.setTitle(newTitle);\n *                         }\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * ## Notes\n *\n * You must use a HTML5 doctype for {@link #docked} `bottom` to work. To do this, simply add the following code to the HTML file:\n *\n *     <!doctype html>\n *\n * So your index.html file should look a little like this:\n *\n *     <!doctype html>\n *     <html>\n *         <head>\n *             <title>MY application title</title>\n *             ...\n *\n */\nExt.define('Ext.Toolbar', {\n    extend: 'Ext.Container',\n    xtype : 'toolbar',\n\n    requires: [\n        'Ext.Button',\n        'Ext.Title',\n        'Ext.Spacer'\n    ],\n\n    // private\n    isToolbar: true,\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'toolbar',\n\n        /**\n         * @cfg {String} ui\n         * The ui for this {@link Ext.Toolbar}. Either 'light' or 'dark'. Cou can create more UIs by using using the CSS Mixin {@link #sencha-toolbar-ui}\n         * @accessor\n         */\n        ui: 'dark',\n\n        /**\n         * @cfg {String/Ext.Title} title\n         * The title of the toolbar.\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @cfg {String} defaultType\n         * The default xtype to create.\n         * @accessor\n         */\n        defaultType: 'button',\n\n        /**\n         * @cfg {String} docked\n         * The docked position for this {@link Ext.Toolbar}.\n         * If you specify `left` or `right`, the {@link #layout} configuration will automatically change to a `vbox`. It's also\n         * recommended to adjust the {@link #width} of the toolbar if you do this.\n         * @accessor\n         */\n\n        /**\n         * @cfg {Object/String} layout Configuration for this Container's layout. Example:\n         *\n         *    Ext.create('Ext.Container', {\n         *        layout: {\n         *            type: 'hbox',\n         *            align: 'middle'\n         *        },\n         *        items: [\n         *            {\n         *                xtype: 'panel',\n         *                flex: 1,\n         *                style: 'background-color: red;'\n         *            },\n         *            {\n         *                xtype: 'panel',\n         *                flex: 2,\n         *                style: 'background-color: green'\n         *            }\n         *        ]\n         *    });\n         *\n         * See the layouts guide for more information\n         *\n         * Please note, if you set the {@link #docked} configuration to `left` or `right`, the default layout will change from the\n         * `hbox` to a `vbox`.\n         *\n         * @accessor\n         */\n        layout: {\n            type: 'hbox',\n            align: 'center'\n        }\n    },\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (config.docked == \"left\" || config.docked == \"right\") {\n            config.layout = {\n                type: 'vbox',\n                align: 'stretch'\n            };\n        }\n\n        this.callParent([config]);\n    },\n\n    // @private\n    applyTitle: function(title) {\n        if (typeof title == 'string') {\n            title = {\n                title: title,\n                centered: true\n            };\n        }\n\n        return Ext.factory(title, Ext.Title, this.getTitle());\n    },\n\n    // @private\n    updateTitle: function(newTitle, oldTitle) {\n        if (newTitle) {\n            this.add(newTitle);\n            this.getLayout().setItemFlex(newTitle, 1);\n        }\n\n        if (oldTitle) {\n            oldTitle.destroy();\n        }\n    },\n\n    /**\n     * Shows the title if it exists.\n     */\n    showTitle: function() {\n        var title = this.getTitle();\n\n        if (title) {\n            title.show();\n        }\n    },\n\n    /**\n     * Hides the title if it exists.\n     */\n    hideTitle: function() {\n        var title = this.getTitle();\n\n        if (title) {\n            title.hide();\n        }\n    }\n\n    /**\n     * Returns an {@link Ext.Title} component.\n     * @member Ext.Toolbar\n     * @method getTitle\n     * @return {Ext.Title}\n     */\n\n    /**\n     * Use this to update the {@link #title} configuration.\n     * @member Ext.Toolbar\n     * @method setTitle\n     * @param {String/Ext.Title} title You can either pass a String, or a config/instance of Ext.Title\n     */\n\n}, function() {\n    /**\n     * @member Ext.Toolbar\n     * @cfg {Boolean} titleCls\n     * The CSS class to apply to the titleEl.\n     * @removed 2.0.0 Title class is now a config option of the title\n     */\n    Ext.deprecateProperty(this, 'titleCls', null, \"Ext.Toolbar.titleCls has been removed. Use #cls config of title instead.\");\n});\n\n\n/**\n * {@link Ext.TitleBar}'s are most commonly used as a docked item within an {@link Ext.Container}.\n *\n * The main difference between a {@link Ext.TitleBar} and an {@link Ext.Toolbar} is that\n * the {@link #title} configuration is **always** centered horiztonally in a {@link Ext.TitleBar} between\n * any items aligned left or right.\n *\n * You can also give items of a {@link Ext.TitleBar} an `align` configuration of `left` or `right`\n * which will dock them to the `left` or `right` of the bar.\n *\n * ## Examples\n *\n *     @example preview\n *     Ext.Viewport.add({\n *         xtype: 'titlebar',\n *         docked: 'top',\n *         title: 'Navigation',\n *         items: [\n *             {\n *                 iconCls: 'add',\n *                 iconMask: true,\n *                 align: 'left'\n *             },\n *             {\n *                 iconCls: 'home',\n *                 iconMask: true,\n *                 align: 'right'\n *             }\n *         ]\n *     });\n *\n *     Ext.Viewport.setStyleHtmlContent(true);\n *     Ext.Viewport.setHtml('This shows the title being centered and buttons using align <i>left</i> and <i>right</i>.');\n *\n * <br />\n *\n *     @example preview\n *     Ext.Viewport.add({\n *         xtype: 'titlebar',\n *         docked: 'top',\n *         title: 'Navigation',\n *         items: [\n *             {\n *                 align: 'left',\n *                 text: 'This button has a super long title'\n *             },\n *             {\n *                 iconCls: 'home',\n *                 iconMask: true,\n *                 align: 'right'\n *             }\n *         ]\n *     });\n *\n *     Ext.Viewport.setStyleHtmlContent(true);\n *     Ext.Viewport.setHtml('This shows how the title is automatically moved to the right when one of the aligned buttons is very wide.');\n *\n * <br />\n *\n *     @example preview\n *     Ext.Viewport.add({\n *         xtype: 'titlebar',\n *         docked: 'top',\n *         title: 'A very long title',\n *         items: [\n *             {\n *                 align: 'left',\n *                 text: 'This button has a super long title'\n *             },\n *             {\n *                 align: 'right',\n *                 text: 'Another button'\n *             },\n *         ]\n *     });\n *\n *     Ext.Viewport.setStyleHtmlContent(true);\n *     Ext.Viewport.setHtml('This shows how the title and buttons will automatically adjust their size when the width of the items are too wide..');\n *\n * The {@link #defaultType} of Toolbar's is {@link Ext.Button button}.\n */\nExt.define('Ext.TitleBar', {\n    extend: 'Ext.Container',\n    xtype: 'titlebar',\n\n    requires: [\n        'Ext.Button',\n        'Ext.Title',\n        'Ext.Spacer',\n        'Ext.util.SizeMonitor'\n    ],\n\n    // private\n    isToolbar: true,\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'toolbar',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        cls: Ext.baseCSSPrefix + 'navigation-bar',\n\n        /**\n         * @cfg {String} ui\n         * Style options for Toolbar. Either 'light' or 'dark'.\n         * @accessor\n         */\n        ui: 'dark',\n\n        /**\n         * @cfg {String} title\n         * The title of the toolbar.\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @cfg {String} defaultType\n         * The default xtype to create.\n         * @accessor\n         */\n        defaultType: 'button',\n\n        /**\n         * @cfg\n         * @hide\n         */\n        layout: {\n            type: 'hbox'\n        },\n\n        /**\n         * @cfg {Array/Object} items The child items to add to this TitleBar. The {@link #defaultType} of\n         * a TitleBar is {@link Ext.Button}, so you do not need to specify an `xtype` if you are adding\n         * buttons.\n         *\n         * You can also give items a `align` configuration which will align the item to the `left` or `right` of\n         * the TitleBar.\n         * @accessor\n         */\n        items: []\n    },\n\n    /**\n     * The max button width in this toolbar\n     * @private\n     */\n    maxButtonWidth: '40%',\n\n    constructor: function() {\n        this.refreshTitlePosition = Ext.Function.createThrottled(this.refreshTitlePosition, 50, this);\n\n        this.callParent(arguments);\n    },\n\n    beforeInitialize: function() {\n        this.applyItems = this.applyInitialItems;\n    },\n\n    initialize: function() {\n        delete this.applyItems;\n\n        this.add(this.initialItems);\n        delete this.initialItems;\n\n        this.on({\n            painted: 'refreshTitlePosition',\n            single: true\n        });\n    },\n\n    applyInitialItems: function(items) {\n        var me = this,\n            defaults = me.getDefaults() || {};\n\n        me.initialItems = items;\n\n        me.leftBox = me.add({\n            xtype: 'container',\n            style: 'position: relative',\n            layout: {\n                type: 'hbox',\n                align: 'center'\n            },\n            listeners: {\n                resize: 'refreshTitlePosition',\n                scope: me\n            }\n        });\n\n        me.spacer = me.add({\n            xtype: 'component',\n            style: 'position: relative',\n            flex: 1,\n            listeners: {\n                resize: 'refreshTitlePosition',\n                scope: me\n            }\n        });\n\n        me.rightBox = me.add({\n            xtype: 'container',\n            style: 'position: relative',\n            layout: {\n                type: 'hbox',\n                align: 'center'\n            },\n            listeners: {\n                resize: 'refreshTitlePosition',\n                scope: me\n            }\n        });\n\n        me.titleComponent = me.add({\n            xtype: 'title',\n            hidden: defaults.hidden,\n            centered: true\n        });\n\n        me.doAdd = me.doBoxAdd;\n        me.remove = me.doBoxRemove;\n        me.doInsert = me.doBoxInsert;\n    },\n\n    doBoxAdd: function(item) {\n        if (item.config.align == 'right') {\n            this.rightBox.add(item);\n        }\n        else {\n            this.leftBox.add(item);\n        }\n    },\n\n    doBoxRemove: function(item) {\n        if (item.config.align == 'right') {\n            this.rightBox.remove(item);\n        }\n        else {\n            this.leftBox.remove(item);\n        }\n    },\n\n    doBoxInsert: function(index, item) {\n        if (item.config.align == 'right') {\n            this.rightBox.add(item);\n        }\n        else {\n            this.leftBox.add(item);\n        }\n    },\n\n    getMaxButtonWidth: function() {\n        var value = this.maxButtonWidth;\n\n        //check if it is a percentage\n        if (Ext.isString(this.maxButtonWidth)) {\n            value = parseInt(value.replace('%', ''), 10);\n            value = Math.round((this.element.getWidth() / 100) * value);\n        }\n\n        return value;\n    },\n\n    refreshTitlePosition: function() {\n        var titleElement = this.titleComponent.renderElement;\n\n        titleElement.setWidth(null);\n        titleElement.setLeft(null);\n\n        //set the min/max width of the left button\n        var leftBox = this.leftBox,\n            leftButton = leftBox.down('button'),\n            leftBoxWidth, maxButtonWidth;\n\n        if (leftButton) {\n            if (leftButton.getWidth() == null) {\n                leftButton.renderElement.setWidth('auto');\n            }\n\n            leftBoxWidth = leftBox.renderElement.getWidth();\n            maxButtonWidth = this.getMaxButtonWidth();\n\n            if (leftBoxWidth > maxButtonWidth) {\n                leftButton.renderElement.setWidth(maxButtonWidth);\n            }\n        }\n\n        var spacerBox = this.spacer.renderElement.getPageBox(),\n            titleBox = titleElement.getPageBox(),\n            widthDiff = titleBox.width - spacerBox.width,\n            titleLeft = titleBox.left,\n            titleRight = titleBox.right,\n            halfWidthDiff, leftDiff, rightDiff;\n\n        if (widthDiff > 0) {\n            titleElement.setWidth(spacerBox.width);\n            halfWidthDiff = widthDiff / 2;\n            titleLeft += halfWidthDiff;\n            titleRight -= halfWidthDiff;\n        }\n\n        leftDiff = spacerBox.left - titleLeft;\n        rightDiff = titleRight - spacerBox.right;\n\n        if (leftDiff > 0) {\n            titleElement.setLeft(leftDiff);\n        }\n        else if (rightDiff > 0) {\n            titleElement.setLeft(-rightDiff);\n        }\n\n        titleElement.repaint();\n    },\n\n    // @private\n    updateTitle: function(newTitle) {\n        this.titleComponent.setTitle(newTitle);\n\n        if (this.isPainted()) {\n            this.refreshTitlePosition();\n        }\n    }\n});\n\nExt.define('B2B.view.Activity', {\n	extend: 'Ext.Panel',\n	requires: [\n        'Ext.TitleBar',\n    ],\n	xtype: 'activity',\n\n	config: {\n		title: i18n.app.PANEL_ACTIVITY,\n		iconCls: 'maps',\n		styleHtmlContent: true,\n		layout: {\n        	type: 'fit'\n        }\n	},\n	initialize: function(){\n\n    	this.callParent(arguments);\n\n        var header = {\n            xtype: 'container',\n            cls: 'header_img',\n            height: 50,\n            width: '100%',\n            docked: 'top',\n            html: '<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'\n        },\n        activityStreams = {\n            xtype: \"activitylist\",\n            store: Ext.getStore(\"Activities_Local\"),\n        },\n        myLastDrinkIn = {\n        	xtype: \"activityusercomponent\",\n            store: Ext.getStore(\"Activities_User_Ajax\"),\n            draggable: false,\n            height: 100\n        },\n        myLastDrinkInPanel = {\n        	xtype: \"panel\",\n            id: \"lastdrink\",\n            draggable: false,\n            height: 70,\n            docked: 'top',\n            html: '<div class=\"loading_div\"></div>'\n        },\n        container = {\n        	xtype: 'panel',\n            layout: {\n                type: 'vbox',\n                align: 'stretch'\n            },\n            defaults: {\n                flex: 1\n            },\n        	items: [\n                header,\n	        	myLastDrinkInPanel,\n	        	activityStreams\n        	]\n        }\n		this.add([ /*container*/ header, myLastDrinkInPanel, activityStreams ]);\n    }\n});\n/**\n * SegmentedButton is a container for a group of {@link Ext.Button}s. Generally a SegmentedButton would be\n * a child of a {@link Ext.Toolbar} and would be used to switch between different views.\n *\n * # Useful Properties:\n *\n * - {@link #allowMultiple}\n *\n * ## Example usage:\n *\n *     @example\n *     var segmentedButton = new Ext.SegmentedButton({\n *         allowMultiple: true,\n *         items: [\n *             {\n *                 text: 'Option 1'\n *             },\n *             {\n *                 text   : 'Option 2',\n *                 pressed: true\n *             },\n *             {\n *                 text: 'Option 3'\n *             }\n *         ],\n *         listeners: {\n *             toggle: function(container, button, pressed){\n *                 console.log(\"User toggled the '\" + button.text + \"' button: \" + (pressed ? 'on' : 'off'));\n *             }\n *         }\n *     });\n *     Ext.Viewport.add({ xtype: 'container', padding: 10, items: [segmentedButton] });\n *\n */\nExt.define('Ext.SegmentedButton', {\n    extend: 'Ext.Container',\n    xtype : 'segmentedbutton',\n    requires: ['Ext.Button'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'segmentedbutton',\n\n        /**\n         * @cfg {String} pressedCls\n         * CSS class when a button is in pressed state.\n         * @accessor\n         */\n        pressedCls: Ext.baseCSSPrefix + 'button-pressed',\n\n        /**\n         * @cfg {Boolean} allowMultiple\n         * Allow multiple pressed buttons.\n         * @accessor\n         */\n        allowMultiple: false,\n\n        /**\n         * @cfg {Boolean} allowDepress\n         * Allow toggling the pressed state of each button.\n         * Defaults to true when `allowMultiple` is true.\n         * @accessor\n         */\n        allowDepress: null,\n\n        /**\n         * @cfg {Array} pressedButtons\n         * The pressed buttons for this segmented button.\n         *\n         * You can remove all pressed buttons by calling {@link #setPressedButtons} with an empty array.\n         * @accessor\n         */\n        pressedButtons: [],\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        layout: {\n            type : 'hbox',\n            align: 'stretch'\n        },\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        defaultType: 'button'\n    },\n\n    /**\n     * @event toggle\n     * Fires when any child button's pressed state has changed.\n     * @param {Ext.SegmentedButton} this\n     * @param {Ext.Button} button The toggled button\n     * @param {Boolean} isPressed Boolean to indicate if the button was pressed or not\n     */\n\n    initialize: function() {\n        var me = this;\n\n        me.callParent();\n\n        me.on({\n            delegate: '> button',\n            scope   : me,\n            tap: 'onButtonRelease'\n        });\n\n        me.onAfter({\n            delegate: '> button',\n            scope   : me,\n            hiddenchange: 'onButtonHiddenChange'\n        });\n    },\n\n    updateAllowMultiple: function() {\n        if (!this.initialized && !this.getInitialConfig().hasOwnProperty('allowDepress')) {\n            this.setAllowDepress(true);\n        }\n    },\n\n    /**\n     * We override initItems so we can check for the pressed config.\n     */\n    applyItems: function() {\n        var me = this,\n            pressedButtons = [],\n            ln, i, item, items;\n\n        //call the parent first so the items get converted into a MixedCollection\n        me.callParent(arguments);\n\n        items = this.getItems();\n        ln = items.length;\n\n        for (i = 0; i < ln; i++) {\n            item = items.items[i];\n            if (item.getInitialConfig('pressed')) {\n                pressedButtons.push(items.items[i]);\n            }\n        }\n\n        me.updateFirstAndLastCls(items);\n\n        me.setPressedButtons(pressedButtons);\n    },\n\n    /**\n     * Button sets a timeout of 10ms to remove the {@link #pressedCls} on the release event.\n     * We don't want this to happen, so lets return false and cancel the event.\n     * @private\n     */\n    onButtonRelease: function(button) {\n        var me             = this,\n            pressedButtons = me.getPressedButtons() || [],\n            buttons        = [],\n            alreadyPressed;\n\n        if (!me.getDisabled() && !button.getDisabled()) {\n            //if we allow for multiple pressed buttons, use the existing pressed buttons\n            if (me.getAllowMultiple()) {\n                buttons = pressedButtons.concat(buttons);\n            }\n\n            alreadyPressed = (buttons.indexOf(button) !== -1) || (pressedButtons.indexOf(button) !== -1);\n\n            //if we allow for depressing buttons, and the new pressed button is currently pressed, remove it\n            if (alreadyPressed && me.getAllowDepress()) {\n                Ext.Array.remove(buttons, button);\n            } else if (!alreadyPressed || !me.getAllowDepress()) {\n                buttons.push(button);\n            }\n\n            me.setPressedButtons(buttons);\n\n            Ext.defer(function() {\n                me.fireEvent('toggle', me, button, me.isPressed(button));\n            }, 50);\n        }\n    },\n\n    // @private\n    onButtonHiddenChange: function() {\n        this.updateFirstAndLastCls(this.getItems());\n    },\n\n    // @private\n    updateFirstAndLastCls: function(items) {\n        var ln = items.length,\n            basePrefix = Ext.baseCSSPrefix,\n            item, i;\n\n        //add a first cls to the first non-hidden button\n        for (i = 0; i < ln; i++) {\n            item = items.items[i];\n            if (!item.isHidden()) {\n                item.addCls(basePrefix + 'first');\n                break;\n            }\n        }\n\n        //add a last cls to the last non-hidden button\n        for (i = ln - 1; i >= 0; i--) {\n            item = items.items[i];\n            if (!item.isHidden()) {\n                item.addCls(basePrefix + 'last');\n                break;\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyPressedButtons: function(newButtons) {\n        var me    = this,\n            array = [],\n            button, ln, i;\n\n        if (Ext.isArray(newButtons)) {\n            ln = newButtons.length;\n            for (i = 0; i< ln; i++) {\n                button = me.getComponent(newButtons[i]);\n                if (button && array.indexOf(button) === -1) {\n                    array.push(button);\n                }\n            }\n        } else {\n            button = me.getComponent(newButtons);\n            if (button && array.indexOf(button) === -1) {\n                array.push(button);\n            }\n        }\n\n        return array;\n    },\n\n    /**\n     * Updates the pressed buttons.\n     * @private\n     */\n    updatePressedButtons: function(newButtons) {\n        var me    = this,\n            items = me.getItems(),\n            pressedCls = me.getPressedCls(),\n            item, button, ln, i;\n\n        //loop through existing items and remove the pressed cls from them\n        ln = items.length;\n        for (i = 0; i < ln; i++) {\n            item = items.items[i];\n            item.removeCls([pressedCls, item.getPressedCls()]);\n        }\n\n        //loop through the new pressed buttons and add the pressed cls to them\n        ln = newButtons.length;\n        for (i = 0; i < ln; i++) {\n            button = newButtons[i];\n            button.addCls(pressedCls);\n        }\n    },\n\n    /**\n     * Returns true if a specified {@link Ext.Button} is pressed\n     * @param {Ext.Button} button The button to check if pressed\n     * @return {Boolean} pressed\n     */\n    isPressed: function(button) {\n        var pressedButtons = this.getPressedButtons();\n        return pressedButtons.indexOf(button) != -1;\n    },\n\n    /**\n     * @private\n     */\n    doSetDisabled: function(disabled) {\n        var me = this;\n\n        me.items.each(function(item) {\n            item.setDisabled(disabled);\n        }, me);\n\n        me.callParent(arguments);\n    }\n}, function() {\n    var me = this;\n\n    /**\n     * Activates a button.\n     * @param {Number/String/Ext.Button} button. The button to activate.\n     * @param {Boolean} pressed if defined, sets the pressed state of the button,\n     * otherwise the pressed state is toggled.\n     * @param {Boolean} suppressEvents true to suppress toggle events during the action.\n     * If allowMultiple is true, then setPressed will toggle the button state.\n     * @method setPressed\n     * @deprecated 2.0.0 Please use {@link #setPressedButtons} instead\n     */\n    Ext.deprecateClassMethod(me, 'setPressed', 'setPressedButtons');\n\n    /**\n     * Gets the currently pressed button(s).\n     * @method getPressed\n     * @deprecated 2.0.0 Please use {@link #getPressedButtons} instead\n     */\n    Ext.deprecateClassMethod(me, 'getPressed', 'getPressedButtons');\n\n});\n\nExt.define('B2B.view.Beer', {\n	extend: 'Ext.Panel',\n	xtype: 'beer',\n	id: \"beerlistcontainer\",\n	requires: [\n		'Ext.SegmentedButton'\n	],\n	config: {\n		title: i18n.app.LABEL_BEERS,\n		iconCls: 'trash',\n		layout: {\n        	type: 'fit'\n        }\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var me = this;\n\n/*\n        var header = {\n            xtype: 'container',\n            cls: 'header_img',\n            height: 50,\n            width: '100%',\n            docked: 'top',\n            html: '<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'\n        };\n*/\n		var beersearch = {\n			xtype: 'beersearch',\n		};\n		/*\n		var groupedButton = {\n			xtype: 'segmentedbutton',\n			items: [\n				{\n					text: i18n.app.BTN_ORDERBYALPHA,\n					pressed: true\n				},\n				{\n					text: i18n.app.BTN_ORDERBYSTYLE,\n					pressed: false\n				},\n				{\n					text: i18n.app.BTN_ORDERBYNATION,\n					pressed: false\n				}\n			]\n		};\n\n		var beerToolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			ui: 'neutral',\n			docked: 'top',\n			items: [\n				{\n					xtype: 'spacer'\n				},\n				groupedButton,\n				{\n					xtype: 'spacer'\n				},\n			]\n		};\n		*/\n		var beerList = {\n		    xtype: \"beerlist\",\n		    id: \"beerlist\",\n		   	store: null,\n		   // grouped: true,\n		   // indexBar: true,\n		    singleSelect: true\n		};\n\n		this.add([ /*header, */beersearch,/* beerToolbar, */beerList]);\n	}\n});\nExt.define('B2B.view.Beer_List_SelectContainer', {\n	extend: 'Ext.Panel',\n	xtype: 'beerlistselectcontainerpanel',\n	id: \"beerlistselectcontainer\",\n	requires: [\n		'Ext.SegmentedButton'\n	],\n	config: {\n		title: i18n.app.LABEL_BEERS,\n		iconCls: 'trash',\n		layout: {\n        	type: 'fit'\n        }\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var me = this,\n		backBeerSelectButton = {\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'back_beerselect_btn',\n			handler: this.onBackBeerSelectButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			docked: 'top',\n			cls: 'sub_titlebar',\n			title: i18n.app.PANEL_BEER,\n			id: 'BeerSelectTitlebar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				backBeerSelectButton\n			]\n		},\n		selectbeerfavorite= {\n			xtype: 'selectfield',\n			name: \"selectbeerfavorite\",\n			id: \"selectfieldbeerfavorite\",\n			cls: 'beer_form_selectfield',\n			placeHolder: i18n.app.HINT_BEERCHOOSE,\n			store: Ext.getStore(\"FavoriteBeers_Local\"),\n			valueField: \"beerName\",\n			displayField: \"beerName\",\n			docked: 'top'\n		},\n		beerlistselectsearchcomponent = {\n			xtype: 'beerlistselectsearchcomponent'\n		},\n		beerList = {\n			xtype: \"beerlist\",\n			id: \"beerlistselect\",\n			store: null,\n			singleSelect: true\n		};\n\n		this.add([toolbar, selectbeerfavorite, beerlistselectsearchcomponent, beerList]);\n	},\n	onBackBeerSelectButtonTap: function(){\n		this.fireEvent(\"backBeerSelectCommand\", this);\n	}\n});\n\n\n/**\n * Wraps a Google Map in an Ext.Component using the [Google Maps API](http://code.google.com/apis/maps/documentation/v3/introduction.html).\n *\n * To use this component you must include an additional JavaScript file from Google:\n *\n *     <script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=true\"></script>\n *\n * ## Example\n *\n *     Ext.Viewport.add({\n *         xtype: 'map',\n *         useCurrentLocation: true\n *     });\n *\n */\nExt.define('Ext.Map', {\n    extend: 'Ext.Component',\n    xtype : 'map',\n    requires: ['Ext.util.Geolocation'],\n\n    isMap: true,\n\n    config: {\n        /**\n         * @event maprender\n         * Fired when Map initially rendered.\n         * @param {Ext.Map} this\n         * @param {google.maps.Map} map The rendered google.map.Map instance\n         */\n\n        /**\n         * @event centerchange\n         * Fired when map is panned around.\n         * @param {Ext.Map} this\n         * @param {google.maps.Map} map The rendered google.map.Map instance\n         * @param {google.maps.LatLng} center The current LatLng center of the map\n         */\n\n        /**\n         * @event typechange\n         * Fired when display type of the map changes.\n         * @param {Ext.Map} this\n         * @param {google.maps.Map} map The rendered google.map.Map instance\n         * @param {Number} mapType The current display type of the map\n         */\n\n        /**\n         * @event zoomchange\n         * Fired when map is zoomed.\n         * @param {Ext.Map} this\n         * @param {google.maps.Map} map The rendered google.map.Map instance\n         * @param {Number} zoomLevel The current zoom level of the map\n         */\n\n        /**\n         * @cfg {String} baseCls\n         * The base CSS class to apply to the Maps's element\n         * @accessor\n         */\n        baseCls: Ext.baseCSSPrefix + 'map',\n\n        /**\n         * @cfg {Boolean/Ext.util.Geolocation} useCurrentLocation\n         * Pass in true to center the map based on the geolocation coordinates or pass a\n         * {@link Ext.util.Geolocation GeoLocation} config to have more control over your GeoLocation options\n         * @accessor\n         */\n        useCurrentLocation: false,\n\n        /**\n         * @cfg {google.maps.Map} map\n         * The wrapped map.\n         * @accessor\n         */\n        map: null,\n\n        /**\n         * @cfg {Ext.util.Geolocation} geo\n         * Geolocation provider for the map.\n         * @accessor\n         */\n        geo: null,\n\n        /**\n         * @cfg {Object} mapOptions\n         * MapOptions as specified by the Google Documentation:\n         * http://code.google.com/apis/maps/documentation/v3/reference.html\n         * @accessor\n         */\n        mapOptions: {}\n    },\n\n    constructor: function() {\n        this.callParent(arguments);\n        this.element.setVisibilityMode(Ext.Element.OFFSETS);\n\n        if (!(window.google || {}).maps) {\n            this.setHtml('Google Maps API is required');\n        }\n    },\n\n    initialize: function() {\n        this.callParent();\n        this.on({\n            painted: 'doResize',\n            scope: this\n        });\n        this.element.on('touchstart', 'onTouchStart', this);\n    },\n\n    onTouchStart: function(e) {\n        e.makeUnpreventable();\n    },\n\n    applyMapOptions: function(options) {\n        return Ext.merge({}, this.options, options);\n    },\n\n    updateMapOptions: function(newOptions) {\n        var me = this,\n            gm = (window.google || {}).maps,\n            map = this.getMap();\n\n        if (gm && map) {\n            map.setOptions(newOptions);\n        }\n        if (newOptions.center && !me.isPainted()) {\n            me.un('painted', 'setMapCenter', this);\n            me.on('painted', 'setMapCenter', this, { delay: 150, single: true, args: [newOptions.center] });\n        }\n    },\n\n    getMapOptions: function() {\n        return Ext.merge({}, this.options || this.getInitialConfig('mapOptions'));\n    },\n\n    updateUseCurrentLocation: function(useCurrentLocation) {\n        this.setGeo(useCurrentLocation);\n        if (!useCurrentLocation) {\n            this.renderMap();\n        }\n    },\n\n    applyGeo: function(config) {\n        return Ext.factory(config, Ext.util.Geolocation, this.getGeo());\n    },\n\n    updateGeo: function(newGeo, oldGeo) {\n        var events = {\n            locationupdate : 'onGeoUpdate',\n            locationerror : 'onGeoError',\n            scope : this\n        };\n\n        if (oldGeo) {\n            oldGeo.un(events);\n        }\n\n        if (newGeo) {\n            newGeo.on(events);\n            newGeo.updateLocation();\n        }\n    },\n\n    doResize: function() {\n        var gm = (window.google || {}).maps,\n            map = this.getMap();\n\n        if (gm && map) {\n            gm.event.trigger(map, \"resize\");\n        }\n    },\n\n    // @private\n    renderMap: function() {\n        var me = this,\n            gm = (window.google || {}).maps,\n            element = me.element,\n            mapOptions = me.getMapOptions(),\n            map = me.getMap(),\n            event;\n\n        if (gm) {\n            if (Ext.os.is.iPad) {\n                Ext.merge({\n                    navigationControlOptions: {\n                        style: gm.NavigationControlStyle.ZOOM_PAN\n                    }\n                }, mapOptions);\n            }\n\n            mapOptions = Ext.merge({\n                zoom: 12,\n                mapTypeId: gm.MapTypeId.ROADMAP\n            }, mapOptions);\n\n            // This is done separately from the above merge so we don't have to instantiate\n            // a new LatLng if we don't need to\n            if (!mapOptions.hasOwnProperty('center')) {\n                mapOptions.center = new gm.LatLng(37.381592, -122.135672); // Palo Alto\n            }\n\n            if (element.dom.firstChild) {\n                Ext.fly(element.dom.firstChild).destroy();\n            }\n\n            if (map) {\n                gm.event.clearInstanceListeners(map);\n            }\n\n            me.setMap(new gm.Map(element.dom, mapOptions));\n            map = me.getMap();\n\n            //Track zoomLevel and mapType changes\n            event = gm.event;\n            event.addListener(map, 'zoom_changed', Ext.bind(me.onZoomChange, me));\n            event.addListener(map, 'maptypeid_changed', Ext.bind(me.onTypeChange, me));\n            event.addListener(map, 'center_changed', Ext.bind(me.onCenterChange, me));\n\n            me.fireEvent('maprender', me, map);\n        }\n    },\n\n    // @private\n    onGeoUpdate: function(geo) {\n        if (geo) {\n            this.setMapCenter(new google.maps.LatLng(geo.getLatitude(), geo.getLongitude()));\n        }\n    },\n\n    // @private\n    onGeoError: Ext.emptyFn,\n\n    /**\n     * Moves the map center to the designated coordinates hash of the form:\n     *\n     *     { latitude: 37.381592, longitude: -122.135672 }\n     *\n     * or a google.maps.LatLng object representing to the target location.\n     *\n     * @param {Object/google.maps.LatLng} coordinates Object representing the desired Latitude and\n     * longitude upon which to center the map.\n     */\n    setMapCenter: function(coordinates) {\n        var me = this,\n            map = me.getMap(),\n            gm = (window.google || {}).maps;\n\n        if (gm) {\n            if (!me.isPainted()) {\n                me.un('painted', 'setMapCenter', this);\n                me.on('painted', 'setMapCenter', this, { delay: 150, single: true, args: [coordinates] });\n                return;\n            }\n            coordinates = coordinates || new gm.LatLng(37.381592, -122.135672);\n\n            if (coordinates && !(coordinates instanceof gm.LatLng) && 'longitude' in coordinates) {\n                coordinates = new gm.LatLng(coordinates.latitude, coordinates.longitude);\n            }\n\n            if (!map) {\n                me.renderMap();\n                map = me.getMap();\n            }\n\n            if (map && coordinates instanceof gm.LatLng) {\n                map.panTo(coordinates);\n            }\n            else {\n                this.options = Ext.apply(this.getMapOptions(), {\n                    center: coordinates\n                });\n            }\n        }\n    },\n\n    // @private\n    onZoomChange : function() {\n        var mapOptions = this.getMapOptions(),\n            map = this.getMap(),\n            zoom;\n\n        zoom = (map && map.getZoom) ? map.getZoom() : mapOptions.zoom || 10;\n\n        this.options = Ext.apply(mapOptions, {\n            zoom: zoom\n        });\n\n        this.fireEvent('zoomchange', this, map, zoom);\n    },\n\n    // @private\n    onTypeChange : function() {\n        var mapOptions = this.getMapOptions(),\n            map = this.getMap(),\n            mapTypeId;\n\n        mapTypeId = (map && map.getMapTypeId) ? map.getMapTypeId() : mapOptions.mapTypeId;\n\n        this.options = Ext.apply(mapOptions, {\n            mapTypeId: mapTypeId\n        });\n\n        this.fireEvent('typechange', this, map, mapTypeId);\n    },\n\n    // @private\n    onCenterChange: function() {\n        var mapOptions = this.getMapOptions(),\n            map = this.getMap(),\n            center;\n\n        center = (map && map.getCenter) ? map.getCenter() : mapOptions.center;\n\n        this.options = Ext.apply(mapOptions, {\n            center: center\n        });\n\n        this.fireEvent('centerchange', this, map, center);\n\n    },\n\n    // @private\n    destroy: function() {\n        Ext.destroy(this.getGeo());\n        var map = this.getMap();\n\n        if (map && (window.google || {}).maps) {\n            google.maps.event.clearInstanceListeners(map);\n        }\n\n        this.callParent();\n    }\n}, function() {\n\n    /**\n     * @cfg {Boolean} maskMap\n     * Masks the map\n     * @removed 2.0.0 Please mask this components container instead.\n     */\n\n    /**\n     * @cfg {String} maskMapCls\n     * CSS class to add to the map when maskMap is set to true.\n     * @removed 2.0.0 Please mask this components container instead.\n     */\n\n    /**\n     * @method getState\n     * Returns the state of the Map.\n     * @deprecated 2.0.0 Please use {@link #getMapOptions} instead.\n     * @return {Object} mapOptions\n     */\n    Ext.deprecateClassMethod(this, 'getState', 'getMapOptions');\n\n    /**\n     * @method update\n     * Moves the map center to the designated coordinates hash of the form:\n     *\n     *     { latitude: 37.381592, longitude: -122.135672 }\n     *\n     * or a google.maps.LatLng object representing to the target location.\n     *\n     * @deprecated 2.0.0 Please use the {@link #setMapCenter}\n     * @param {Object/google.maps.LatLng} coordinates Object representing the desired Latitude and\n     * longitude upon which to center the map.\n     */\n    Ext.deprecateClassMethod(this, 'update', 'setMapCenter');\n\n});\n\nExt.define('B2B.view.Drink_AroundMe', {\n	extend: 'Ext.Panel',\n    requires: [\n        'Ext.Map'\n    ],\n  id: 'drinkaroundmepanel',\n	xtype: 'drinkaroundmepanel',\n	config: {\n		title: i18n.app.LABEL_CHECKIN,\n		iconCls: 'locate',\n    layout: 'card',\n    scrollable: false\n	},\n  initialize: function(){\n      this.callParent(arguments);\n\n      var mapPanel = {\n        xtype: 'map',\n        id: 'mapDrink',\n        useCurrentLocation: true, \n        height: 180,\n        flex: 1,                                    \n        mapOptions: {\n            zoom: HH.map.zoomLevel,\n            mapTypeId : google.maps.MapTypeId.ROADMAP,\n            navigationControl: false,\n            zoomControl: false,\n            mapTypeControl: false,\n            scaleControl: false,\n            streetViewControl: false,\n            panControl: false,\n            draggable: false\n        },\n        listeners: {\n            maprender: function(me, map){\n              map.markers = [];\n            },\n            centerchange: function(me, map){\n              map.clearMarkers();\n              map.markers.push(new google.maps.Marker({\n                    position: new google.maps.LatLng(this._geo.getLatitude(), this._geo.getLongitude()),\n                    map: map,\n                    icon: HH.map.marker\n              }));\n            }\n        }\n      };\n\n      var refreshAroundButton = {\n          text: i18n.app.BTN_REFRESH,\n          ui: 'action',\n          id: 'refresh_around_btn',\n          handler: this.onRefreshAroundButtonTap,\n          scope: this\n      };\n\n      var backCheckButton = {\n          text: i18n.app.BTN_BACK,\n          ui: 'back',\n          id: 'back_Check_btn',\n          handler: this.onBackCheckButtonTap,\n          scope: this\n      };\n\n      var toolbar = {\n          xtype: 'toolbar',\n          docked: 'top',\n          cls: 'sub_titlebar',\n          title: i18n.app.PANEL_CHECKIN,\n          id: 'AroundFormTitlebar',\n          defaults: {\n              iconMask: true\n          },\n          items: [\n            backCheckButton,\n            { xtype: 'spacer' },\n            refreshAroundButton\n          ]\n      };\n\n      var geo = Ext.create('Ext.util.Geolocation', {\n    autoUpdate: false,\n    listeners: {\n        locationupdate: function(geo) {\n            //Ext Call To server with call back\n            var geoStore = Ext.getStore(\"Places_Ajax\");\n            //geoStore.getProxy().extraParams.lat = geo.getLatitude();\n            //geoStore.getProxy().extraParams.long = geo.getLongititude();\n            geoStore.getProxy().setExtraParam('lat', geo.getLatitude());\n            geoStore.getProxy().setExtraParam('lon', geo.getLongitude());\n            geoStore.load();\n            /*geoStore.load({\n              params: {\n                lat: geo.getLatitude(),\n                lon: geo.getLongititude()\n              }\n            }); */\n        },\n        locationerror: function(geo, bTimeout, bPermissionDenied, bLocationUnavailable, message) {\n            console.error(message);\n        }\n    }\n});\ngeo.updateLocation();\n\n      var placeList = {\n        xtype: \"placelistcomponent\",\n        store: Ext.getStore(\"Places_Ajax\"),\n        flex: 1\n      };\n\n      var squareLogo ={\n        xtype: 'container',\n        html: '<img class=\"footer_img\" src=\"resources/img/poweredByFoursquare_footer.png\" width=\"200px\">'\n      }\n\n      var verticalBox = {\n        xtype: \"panel\",\n        layout: 'vbox',\n        align: 'stretch',\n        items: [\n            mapPanel,\n            placeList,\n            squareLogo\n        ]\n      };\n\n      this.add([toolbar, verticalBox ]);\n  },\n  onRefreshAroundButtonTap: function(){\n        this.fireEvent(\"refreshAroundCommand\", this);\n  },\n  onBackCheckButtonTap: function(){\n        this.fireEvent(\"backCheckCommand\", this);\n  }\n\n});\n\n\n/**\n * @aside guide forms\n *\n * A FieldSet is a great way to visually separate elements of a form. It's normally used when you have a form with\n * fields that can be divided into groups - for example a customer's billing details in one fieldset and their shipping\n * address in another. A fieldset can be used inside a form or on its own elsewhere in your app. Fieldsets can\n * optionally have a title at the top and instructions at the bottom. Here's how we might create a FieldSet inside a\n * form:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'About You',\n *                 instructions: 'Tell us all about yourself',\n *                 items: [\n *                     {\n *                         xtype: 'textfield',\n *                         name : 'firstName',\n *                         label: 'First Name'\n *                     },\n *                     {\n *                         xtype: 'textfield',\n *                         name : 'lastName',\n *                         label: 'Last Name'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * Above we created a {@link Ext.form.Panel form} with a fieldset that contains two text fields. In this case, all\n * of the form fields are in the same fieldset, but for longer forms we may choose to use multiple fieldsets. We also\n * configured a {@link #title} and {@link #instructions} to give the user more information on filling out the form if\n * required.\n */\nExt.define('Ext.form.FieldSet', {\n    extend  : 'Ext.Container',\n    alias   : 'widget.fieldset',\n    requires: ['Ext.Title'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'form-fieldset',\n\n        /**\n         * @cfg {String} title Optional fieldset title, rendered just above the grouped fields\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @cfg {String} instructions Optional fieldset instructions, rendered just below the grouped fields\n         * @accessor\n         */\n        instructions: null\n    },\n\n    // @private\n    applyTitle: function(title) {\n        if (typeof title == 'string') {\n            title = {title: title};\n        }\n\n        Ext.applyIf(title, {\n            docked : 'top',\n            baseCls: this.getBaseCls() + '-title'\n        });\n\n        return Ext.factory(title, Ext.Title, this.getTitle());\n    },\n\n    // @private\n    updateTitle: function(newTitle, oldTitle) {\n        if (newTitle) {\n            this.add(newTitle);\n        }\n        if (oldTitle) {\n            this.remove(oldTitle);\n        }\n    },\n\n    // @private\n    applyInstructions: function(instructions) {\n        if (typeof instructions == 'string') {\n            instructions = {title: instructions};\n        }\n\n        Ext.applyIf(instructions, {\n            docked : 'bottom',\n            baseCls: this.getBaseCls() + '-instructions'\n        });\n\n        return Ext.factory(instructions, Ext.Title, this.getInstructions());\n    },\n\n    // @private\n    updateInstructions: function(newInstructions, oldInstructions) {\n        if (newInstructions) {\n            this.add(newInstructions);\n        }\n        if (oldInstructions) {\n            this.remove(oldInstructions);\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.util.Collection', {\n    /**\n     * @cfg {Object[]} filters\n     * Array of {@link Ext.util.Filter Filters} for this collection.\n     */\n\n    /**\n     * @cfg {Object[]} sorters\n     * Array of {@link Ext.util.Sorter Sorters} for this collection.\n     */\n\n    config: {\n        autoFilter: true,\n        autoSort: true\n    },\n\n    mixins: {\n        sortable: 'Ext.mixin.Sortable',\n        filterable: 'Ext.mixin.Filterable'\n    },\n\n    constructor: function(keyFn, config) {\n        var me = this;\n\n        /**\n         * @property {Array} [all=[]]\n         * An array containing all the items (unsorted, unfiltered)\n         */\n        me.all = [];\n\n        /**\n         * @property {Array} [items=[]]\n         * An array containing the filtered items (sorted)\n         */\n        me.items = [];\n\n        /**\n         * @property {Array} [keys=[]]\n         * An array containing all the filtered keys (sorted)\n         */\n        me.keys = [];\n\n        /**\n         * @property {Object} [indices={}]\n         * An object used as map to get a sorted and filtered index of an item\n         */\n        me.indices = {};\n\n        /**\n         * @property {Object} [map={}]\n         * An object used as map to get an object based on its key\n         */\n        me.map = {};\n\n        /**\n         * @property {Number} [length=0]\n         * The count of items in the collection filtered and sorted\n         */\n        me.length = 0;\n\n        if (keyFn) {\n            me.getKey = keyFn;\n        }\n\n        this.initConfig(config);\n    },\n\n    updateAutoSort: function(autoSort, oldAutoSort) {\n        if (oldAutoSort === false && autoSort && this.items.length) {\n            this.sort();\n        }\n    },\n\n    updateAutoFilter: function(autoFilter, oldAutoFilter) {\n        if (oldAutoFilter === false && autoFilter && this.all.length) {\n            this.filter();\n        }\n    },\n\n    insertSorters: function() {\n        // We override the insertSorters method that exists on the Sortable mixin. This method always\n        // gets called whenever you add or insert a new sorter. We do this because we actually want\n        // to sort right after this happens.\n        this.mixins.sortable.insertSorters.apply(this, arguments);\n        if (this.getAutoSort() && this.items.length) {\n            this.sort();\n        }\n        return this;\n    },\n\n    removeSorters: function(sorters) {\n        // We override the removeSorters method that exists on the Sortable mixin. This method always\n        // gets called whenever you remove a sorter. If we are still sorted after we removed this sorter,\n        // then we have to resort the whole collection.\n        this.mixins.sortable.removeSorters.call(this, sorters);\n        if (this.sorted && this.getAutoSort() && this.items.length) {\n            this.sort();\n        }\n        return this;\n    },\n\n    applyFilters: function(filters) {\n        var collection = this.mixins.filterable.applyFilters.call(this, filters);\n        if (!filters && this.all.length && this.getAutoFilter()) {\n            this.filter();\n        }\n        return collection;\n    },\n\n    addFilters: function(filters) {\n        // We override the insertFilters method that exists on the Filterable mixin. This method always\n        // gets called whenever you add or insert a new filter. We do this because we actually want\n        // to filter right after this happens.\n        this.mixins.filterable.addFilters.call(this, filters);\n        if (this.items.length && this.getAutoFilter()) {\n            this.filter();\n        }\n        return this;\n    },\n\n    removeFilters: function(filters) {\n        // We override the removeFilters method that exists on the Filterable mixin. This method always\n        // gets called whenever you remove a filter. If we are still filtered after we removed this filter,\n        // then we have to refilter the whole collection.\n        this.mixins.filterable.removeFilters.call(this, filters);\n        if (this.filtered && this.all.length && this.getAutoFilter()) {\n            this.filter();\n        }\n        return this;\n    },\n\n    filter: function(property, value, anyMatch, caseSensitive) {\n        // Support for the simple case of filtering by property/value\n        if (property) {\n            if (Ext.isString(property)) {\n                this.addFilters({\n                    property     : property,\n                    value        : value,\n                    anyMatch     : anyMatch,\n                    caseSensitive: caseSensitive\n                });\n                return this.items;\n            }\n            else {\n                this.addFilters(property);\n                return this.items;\n            }\n        }\n\n        this.items = this.mixins.filterable.filter.call(this, this.all.slice());\n        this.updateAfterFilter();\n\n        if (this.sorted && this.getAutoSort()) {\n            this.sort();\n        }\n    },\n\n    updateAfterFilter: function() {\n        var items = this.items,\n            keys = this.keys,\n            indices = this.indices = {},\n            ln = items.length,\n            i, item, key;\n\n        keys.length = 0;\n\n        for (i = 0; i < ln; i++) {\n            item = items[i];\n            key = this.getKey(item);\n            indices[key] = i;\n            keys[i] = key;\n        }\n\n        this.length = items.length;\n        this.dirtyIndices = false;\n    },\n\n    sort: function(sorters, defaultDirection) {\n        var items = this.items,\n            keys = this.keys,\n            indices = this.indices,\n            ln = items.length,\n            i, item, key;\n\n        // If we pass sorters to this method we have to add them first.\n        // Because adding a sorter automatically sorts the items collection\n        // we can just return items after we have added the sorters\n        if (sorters) {\n            this.addSorters(sorters, defaultDirection);\n            return this.items;\n        }\n\n        // We save the keys temporarily on each item\n        for (i = 0; i < ln; i++) {\n            items[i]._current_key = keys[i];\n        }\n\n        // Now we sort our items array\n        this.handleSort(items);\n\n        // And finally we update our keys and indices\n        for (i = 0; i < ln; i++) {\n            item = items[i];\n            key = item._current_key;\n\n            keys[i] = key;\n            indices[key] = i;\n\n            delete item._current_key;\n        }\n\n        this.dirtyIndices = true;\n    },\n\n    handleSort: function(items) {\n        this.mixins.sortable.sort.call(this, items);\n    },\n\n    /**\n     * Adds an item to the collection. Fires the {@link #add} event when complete.\n     * @param {String} key\n     *\n     * The key to associate with the item, or the new item.\n     *\n     * If a {@link #getKey} implementation was specified for this MixedCollection, or if the key of the stored items is\n     * in a property called **id**, the MixedCollection will be able to _derive_ the key for the new item. In this case\n     * just pass the new item in this parameter.\n     * @param {Object} item The item to add.\n     * @return {Object} The item added.\n     */\n    add: function(key, item) {\n        var me = this,\n            filtered = this.filtered,\n            sorted = this.sorted,\n            all = this.all,\n            items = this.items,\n            keys = this.keys,\n            indices = this.indices,\n            filterable = this.mixins.filterable,\n            currentLength = items.length,\n            index = currentLength;\n\n        if (arguments.length == 1) {\n            item = key;\n            key = me.getKey(item);\n        }\n\n        if (typeof key != 'undefined' && key !== null) {\n            if (typeof me.map[key] != 'undefined') {\n                return me.replace(key, item);\n            }\n            me.map[key] = item;\n        }\n\n        all.push(item);\n\n        if (filtered && this.getAutoFilter() && filterable.isFiltered.call(me, item)) {\n            return null;\n        }\n\n        me.length++;\n\n        if (sorted && this.getAutoSort()) {\n            index = this.findInsertionIndex(items, item);\n        }\n\n        if (index !== currentLength) {\n            this.dirtyIndices = true;\n\n            Ext.Array.splice(keys, index, 0, key);\n            Ext.Array.splice(items, index, 0, item);\n        } else {\n            indices[key] = currentLength;\n\n            keys.push(key);\n            items.push(item);\n        }\n\n        return item;\n    },\n\n    /**\n     * MixedCollection has a generic way to fetch keys if you implement getKey. The default implementation simply\n     * returns **`item.id`** but you can provide your own implementation to return a different value as in the following\n     * examples:\n     *\n     *     // normal way\n     *     var mc = new Ext.util.MixedCollection();\n     *     mc.add(someEl.dom.id, someEl);\n     *     mc.add(otherEl.dom.id, otherEl);\n     *     //and so on\n     *\n     *     // using getKey\n     *     var mc = new Ext.util.MixedCollection();\n     *     mc.getKey = function(el){\n     *        return el.dom.id;\n     *     };\n     *     mc.add(someEl);\n     *     mc.add(otherEl);\n     *\n     *     // or via the constructor\n     *     var mc = new Ext.util.MixedCollection(false, function(el){\n     *        return el.dom.id;\n     *     });\n     *     mc.add(someEl);\n     *     mc.add(otherEl);\n     * @param {Object} item The item for which to find the key.\n     * @return {Object} The key for the passed item.\n     */\n    getKey: function(item) {\n         return item.id;\n    },\n\n    /**\n     * Replaces an item in the collection. Fires the {@link #replace} event when complete.\n     * @param {String} oldKey\n     *\n     * The key associated with the item to replace, or the replacement item.\n     *\n     * If you supplied a {@link #getKey} implementation for this MixedCollection, or if the key of your stored items is\n     * in a property called **id**, then the MixedCollection will be able to _derive_ the key of the replacement item.\n     * If you want to replace an item with one having the same key value, then just pass the replacement item in this\n     * parameter.\n     * @param {Object} item {Object} item (optional) If the first parameter passed was a key, the item to associate with\n     * that key.\n     * @return {Object} The new item.\n     */\n    replace: function(oldKey, item) {\n        var me = this,\n            sorted = me.sorted,\n            filtered = me.filtered,\n            filterable = me.mixins.filterable,\n            items = me.items,\n            keys = me.keys,\n            all = me.all,\n            map = me.map,\n            returnItem = null,\n            oldItemsLn = items.length,\n            oldItem, index, newKey;\n\n        if (arguments.length == 1) {\n            item = oldKey;\n            oldKey = newKey = me.getKey(item);\n        } else {\n            newKey = me.getKey(item);\n        }\n\n        oldItem = map[oldKey];\n        if (typeof oldKey == 'undefined' || oldKey === null || typeof oldItem == 'undefined') {\n             return me.add(newKey, item);\n        }\n\n        me.map[newKey] = item;\n        if (newKey !== oldKey) {\n            delete me.map[oldKey];\n        }\n\n        if (sorted && me.getAutoSort()) {\n            Ext.Array.remove(items, oldItem);\n            Ext.Array.remove(keys, oldKey);\n            Ext.Array.remove(all, oldItem);\n\n            all.push(item);\n\n            me.dirtyIndices = true;\n\n            if (filtered && me.getAutoFilter()) {\n                // If the item is now filtered we check if it was not filtered\n                // before. If that is the case then we subtract from the length\n                if (filterable.isFiltered.call(me, item)) {\n                    if (oldItemsLn !== items.length) {\n                        me.length--;\n                    }\n                    return null;\n                }\n                // If the item was filtered, but now it is not anymore then we\n                // add to the length\n                else if (oldItemsLn === items.length) {\n                    me.length++;\n                    returnItem = item;\n                }\n            }\n\n            index = this.findInsertionIndex(items, item);\n\n            Ext.Array.splice(keys, index, 0, newKey);\n            Ext.Array.splice(items, index, 0, item);\n        } else {\n            if (filtered) {\n                if (me.getAutoFilter() && filterable.isFiltered.call(me, item)) {\n                    if (items.indexOf(oldItem) !== -1) {\n                        Ext.Array.remove(items, oldItem);\n                        Ext.Array.remove(keys, oldKey);\n                        me.length--;\n                        me.dirtyIndices = true;\n                    }\n                    return null;\n                }\n                else if (items.indexOf(oldItem) === -1) {\n                    items.push(item);\n                    keys.push(newKey);\n                    me.indices[newKey] = me.length;\n                    me.length++;\n                    return item;\n                }\n            }\n\n            index = me.items.indexOf(oldItem);\n\n            keys[index] = newKey;\n            items[index] = item;\n            this.dirtyIndices = true;\n        }\n\n        return returnItem;\n    },\n\n    /**\n     * Adds all elements of an Array or an Object to the collection.\n     * @param {Object/Array} objs An Object containing properties which will be added to the collection, or an Array of\n     * values, each of which are added to the collection. Functions references will be added to the collection if {@link\n     * Ext.util.MixedCollection#allowFunctions allowFunctions} has been set to true.\n     */\n    addAll: function(addItems) {\n        var me = this,\n            filtered = me.filtered,\n            sorted = me.sorted,\n            all = me.all,\n            items = me.items,\n            keys = me.keys,\n            map = me.map,\n            autoFilter = me.getAutoFilter(),\n            autoSort = me.getAutoSort(),\n            newKeys = [],\n            newItems = [],\n            filterable = me.mixins.filterable,\n            addedItems = [],\n            ln, key, i, item;\n\n        if (Ext.isObject(addItems)) {\n            for (key in addItems) {\n                if (addItems.hasOwnProperty(key)) {\n                    newItems.push(items[key]);\n                    newKeys.push(key);\n                }\n            }\n        } else {\n            newItems = addItems;\n            ln = addItems.length;\n            for (i = 0; i < ln; i++) {\n                newKeys.push(me.getKey(addItems[i]));\n            }\n        }\n\n        for (i = 0; i < ln; i++) {\n            key = newKeys[i];\n            item = newItems[i];\n\n            if (typeof key != 'undefined' && key !== null) {\n                if (typeof map[key] != 'undefined') {\n                    me.replace(key, item);\n                    continue;\n                }\n                map[key] = item;\n            }\n\n            all.push(item);\n\n            if (filtered && autoFilter && filterable.isFiltered.call(me, item)) {\n                continue;\n            }\n\n            me.length++;\n\n            keys.push(key);\n            items.push(item);\n\n            addedItems.push(item);\n        }\n\n        if (addedItems.length) {\n            me.dirtyIndices = true;\n\n            if (sorted && autoSort) {\n                me.sort();\n            }\n\n            return addedItems;\n        }\n\n        return null;\n    },\n\n    /**\n     * Executes the specified function once for every item in the collection, passing the following arguments:\n     *\n     *   - **item** : Mixed\n     *\n     * The collection item\n     *\n     *   - **index** : Number\n     *\n     * The item's index\n     *\n     *   - **length** : Number\n     *\n     * The total number of items in the collection\n     *\n     * The function should return a boolean value. Returning false from the function will stop the iteration.\n     * @param {Function} fn The function to execute for each item.\n     * @param {Object} scope The scope (`this` reference) in which the function is executed. Defaults to the current\n     * item in the iteration.\n     */\n    each: function(fn, scope) {\n        var items = this.items.slice(), // each safe for removal\n            i = 0,\n            len = items.length,\n            item;\n\n        for (; i < len; i++) {\n            item = items[i];\n            if (fn.call(scope || item, item, i, len) === false) {\n                break;\n            }\n        }\n    },\n\n    /**\n     * Executes the specified function once for every key in the collection, passing each key, and its associated item\n     * as the first two parameters.\n     * @param {Function} fn The function to execute for each item.\n     * @param {Object} scope The scope (`this` reference) in which the function is executed. Defaults to the browser\n     * window.\n     */\n    eachKey: function(fn, scope) {\n        var keys = this.keys,\n            items = this.items,\n            ln = keys.length, i;\n\n        for (i = 0; i < ln; i++) {\n            fn.call(scope || window, keys[i], items[i], i, ln);\n        }\n    },\n\n    /**\n     * Returns the first item in the collection which elicits a true return value from the passed selection function.\n     * @param {Function} fn The selection function to execute for each item.\n     * @param {Object} scope The scope (`this` reference) in which the function is executed. Defaults to the browser\n     * window.\n     * @return {Object} The first item in the collection which returned true from the selection function.\n     */\n    findBy: function(fn, scope) {\n        var keys = this.keys,\n            items = this.items,\n            i = 0,\n            len = items.length;\n\n        for (; i < len; i++) {\n            if (fn.call(scope || window, items[i], keys[i])) {\n                return items[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * Filter by a function. Returns a _new_ collection that has been filtered. The passed function will be called with\n     * each object in the collection. If the function returns true, the value is included otherwise it is filtered.\n     * @param {Function} fn The function to be called, it will receive the args o (the object), k (the key)\n     * @param {Object} scope The scope (`this` reference) in which the function is executed. Defaults to this\n     * MixedCollection.\n     * @return {Ext.util.MixedCollection} The new filtered collection\n     */\n    filterBy: function(fn, scope) {\n        var me = this,\n            newCollection = new this.self(),\n            keys   = me.keys,\n            items  = me.all,\n            length = items.length,\n            i;\n\n        newCollection.getKey = me.getKey;\n\n        for (i = 0; i < length; i++) {\n            if (fn.call(scope || me, items[i], me.getKey(items[i]))) {\n                newCollection.add(keys[i], items[i]);\n            }\n        }\n\n        return newCollection;\n    },\n\n    /**\n     * Inserts an item at the specified index in the collection. Fires the {@link #add} event when complete.\n     * @param {Number} index The index to insert the item at.\n     * @param {String} key The key to associate with the new item, or the item itself.\n     * @param {Object} item If the second parameter was a key, the new item.\n     * @return {Object} The item inserted.\n     */\n    insert: function(index, key, item) {\n        var me = this,\n            sorted = this.sorted,\n            map = this.map,\n            filtered = this.filtered;\n\n        if (arguments.length == 2) {\n            item = key;\n            key = me.getKey(item);\n        }\n\n        if (index >= me.length || (sorted && me.getAutoSort())) {\n            return me.add(key, item);\n        }\n\n        if (typeof key != 'undefined' && key !== null) {\n            if (typeof map[key] != 'undefined') {\n                me.replace(key, item);\n                return false;\n            }\n            map[key] = item;\n        }\n\n        this.all.push(item);\n\n        if (filtered && this.getAutoFilter() && this.mixins.filterable.isFiltered.call(me, item)) {\n            return null;\n        }\n\n        me.length++;\n\n        Ext.Array.splice(me.items, index, 0, item);\n        Ext.Array.splice(me.keys, index, 0, key);\n\n        me.dirtyIndices = true;\n\n        return item;\n    },\n\n    insertAll: function(index, insertItems) {\n        if (index >= this.items.length || (this.sorted && this.getAutoSort())) {\n            return this.addAll(insertItems);\n        }\n\n        var me = this,\n            filtered = this.filtered,\n            sorted = this.sorted,\n            all = this.all,\n            items = this.items,\n            keys = this.keys,\n            map = this.map,\n            autoFilter = this.getAutoFilter(),\n            autoSort = this.getAutoSort(),\n            newKeys = [],\n            newItems = [],\n            addedItems = [],\n            filterable = this.mixins.filterable,\n            insertedUnfilteredItem = false,\n            ln, key, i, item;\n\n        if (sorted && this.getAutoSort()) {\n            Ext.Logger.error('Inserting a collection of items into a sorted Collection is invalid. Please just add these items or remove the sorters.');\n        }\n\n        if (Ext.isObject(insertItems)) {\n            for (key in insertItems) {\n                if (insertItems.hasOwnProperty(key)) {\n                    newItems.push(items[key]);\n                    newKeys.push(key);\n                }\n            }\n        } else {\n            newItems = insertItems;\n            ln = insertItems.length;\n            for (i = 0; i < ln; i++) {\n                newKeys.push(me.getKey(insertItems[i]));\n            }\n        }\n\n        for (i = 0; i < ln; i++) {\n            key = newKeys[i];\n            item = newItems[i];\n\n            if (typeof key != 'undefined' && key !== null) {\n                if (typeof map[key] != 'undefined') {\n                    me.replace(key, item);\n                    continue;\n                }\n                map[key] = item;\n            }\n\n            all.push(item);\n\n            if (filtered && autoFilter && filterable.isFiltered.call(me, item)) {\n                continue;\n            }\n\n            me.length++;\n\n            Ext.Array.splice(items, index + i, 0, item);\n            Ext.Array.splice(keys, index + i, 0, key);\n\n            insertedUnfilteredItem = true;\n            addedItems.push(item);\n        }\n\n        if (insertedUnfilteredItem) {\n            this.dirtyIndices = true;\n\n            if (sorted && autoSort) {\n                this.sort();\n            }\n\n            return addedItems;\n        }\n\n        return null;\n    },\n\n    /**\n     * Remove an item from the collection.\n     * @param {Object} item The item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    remove: function(item) {\n        var index = this.items.indexOf(item);\n        if (index === -1) {\n            Ext.Array.remove(this.all, item);\n            return item;\n        }\n        return this.removeAt(this.items.indexOf(item));\n    },\n\n    /**\n     * Remove all items in the passed array from the collection.\n     * @param {Array} items An array of items to be removed.\n     * @return {Ext.util.MixedCollection} this object\n     */\n    removeAll: function(items) {\n        if (items) {\n            var ln = items.length, i;\n\n            for (i = 0; i < ln; i++) {\n                this.remove(items[i]);\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * Remove an item from a specified index in the collection. Fires the {@link #remove} event when complete.\n     * @param {Number} index The index within the collection of the item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    removeAt: function(index) {\n        var me = this,\n            items = me.items,\n            keys = me.keys,\n            all = me.all,\n            item, key;\n\n        if (index < me.length && index >= 0) {\n            item = items[index];\n            key = keys[index];\n\n            if (typeof key != 'undefined') {\n                delete me.map[key];\n            }\n\n            Ext.Array.erase(items, index, 1);\n            Ext.Array.erase(keys, index, 1);\n            Ext.Array.remove(all, item);\n\n            delete me.indices[key];\n\n            me.length--;\n\n            this.dirtyIndices = true;\n\n            return item;\n        }\n\n        return false;\n    },\n\n    /**\n     * Removed an item associated with the passed key fom the collection.\n     * @param {String} key The key of the item to remove.\n     * @return {Object} The item removed or false if no item was removed.\n     */\n    removeAtKey: function(key) {\n        return this.removeAt(this.indexOfKey(key));\n    },\n\n    /**\n     * Returns the number of items in the collection.\n     * @return {Number} the number of items in the collection.\n     */\n    getCount: function() {\n        return this.length;\n    },\n\n    /**\n     * Returns index within the collection of the passed Object.\n     * @param {Object} item The item to find the index of.\n     * @return {Number} index of the item. Returns -1 if not found.\n     */\n    indexOf: function(item) {\n        if (this.dirtyIndices) {\n            this.updateIndices();\n        }\n\n        var index = this.indices[this.getKey(item)];\n        return (index === undefined) ? -1 : index;\n    },\n\n    /**\n     * Returns index within the collection of the passed key.\n     * @param {String} key The key to find the index of.\n     * @return {Number} index of the key.\n     */\n    indexOfKey: function(key) {\n        if (this.dirtyIndices) {\n            this.updateIndices();\n        }\n\n        var index = this.indices[key];\n        return (index === undefined) ? -1 : index;\n    },\n\n    updateIndices: function() {\n        var items = this.items,\n            ln = items.length,\n            indices = this.indices = {},\n            i, item, key;\n\n        for (i = 0; i < ln; i++) {\n            item = items[i];\n            key = this.getKey(item);\n            indices[key] = i;\n        }\n\n        this.dirtyIndices = false;\n    },\n\n    /**\n     * Returns the item associated with the passed key OR index. Key has priority over index. This is the equivalent of\n     * calling {@link #getByKey} first, then if nothing matched calling {@link #getAt}.\n     * @param {String/Number} key The key or index of the item.\n     * @return {Object} If the item is found, returns the item. If the item was not found, returns undefined. If an item\n     * was found, but is a Class, returns null.\n     */\n    get: function(key) {\n        var me = this,\n            fromMap = me.map[key],\n            item;\n\n        if (fromMap !== undefined) {\n            item = fromMap;\n        }\n        else if (typeof key == 'number') {\n            item = me.items[key];\n        }\n\n        return typeof item != 'function' || me.getAllowFunctions() ? item : null; // for prototype!\n    },\n\n    /**\n     * Returns the item at the specified index.\n     * @param {Number} index The index of the item.\n     * @return {Object} The item at the specified index.\n     */\n    getAt: function(index) {\n        return this.items[index];\n    },\n\n    /**\n     * Returns the item associated with the passed key.\n     * @param {String/Number} key The key of the item.\n     * @return {Object} The item associated with the passed key.\n     */\n    getByKey: function(key) {\n        return this.map[key];\n    },\n\n    /**\n     * Returns true if the collection contains the passed Object as an item.\n     * @param {Object} item The Object to look for in the collection.\n     * @return {Boolean} True if the collection contains the Object as an item.\n     */\n    contains: function(item) {\n        var key = this.getKey(item);\n        if (key) {\n            return this.containsKey(key);\n        } else {\n            return Ext.Array.contains(this.items, item);\n        }\n    },\n\n    /**\n     * Returns true if the collection contains the passed Object as a key.\n     * @param {String} key The key to look for in the collection.\n     * @return {Boolean} True if the collection contains the Object as a key.\n     */\n    containsKey: function(key) {\n        return typeof this.map[key] != 'undefined';\n    },\n\n    /**\n     * Removes all items from the collection. Fires the {@link #clear} event when complete.\n     */\n    clear: function(){\n        var me = this;\n\n        me.length = 0;\n        me.items.length = 0;\n        me.keys.length = 0;\n        me.all.length = 0;\n        me.dirtyIndices = true;\n        me.indices = {};\n        me.map = {};\n    },\n\n    /**\n     * Returns the first item in the collection.\n     * @return {Object} the first item in the collection..\n     */\n    first: function() {\n        return this.items[0];\n    },\n\n    /**\n     * Returns the last item in the collection.\n     * @return {Object} the last item in the collection..\n     */\n    last: function() {\n        return this.items[this.length - 1];\n    },\n\n    /**\n     * Returns a range of items in this collection\n     * @param {Number} startIndex The starting index. Defaults to 0.\n     * @param {Number} endIndex The ending index. Defaults to the last item.\n     * @return {Array} An array of items\n     */\n    getRange: function(start, end) {\n        var me = this,\n            items = me.items,\n            range = [],\n            i;\n\n        if (items.length < 1) {\n            return range;\n        }\n\n        start = start || 0;\n        end = Math.min(typeof end == 'undefined' ? me.length - 1 : end, me.length - 1);\n        if (start <= end) {\n            for (i = start; i <= end; i++) {\n                range[range.length] = items[i];\n            }\n        } else {\n            for (i = start; i >= end; i--) {\n                range[range.length] = items[i];\n            }\n        }\n\n        return range;\n    },\n\n    /**\n     * Find the index of the first matching object in this collection by a function. If the function returns _true_ it\n     * is considered a match.\n     * @param {Function} fn The function to be called, it will receive the args o (the object), k (the key).\n     * @param {Object} scope The scope (`this` reference) in which the function is executed. Defaults to this\n     * MixedCollection.\n     * @param {Number} start The index to start searching at (defaults to 0).\n     * @return {Number} The matched index or -1\n     */\n    findIndexBy: function(fn, scope, start) {\n        var me = this,\n            keys = me.keys,\n            items = me.items,\n            i = start || 0,\n            ln = items.length;\n\n        for (; i < ln; i++) {\n            if (fn.call(scope || me, items[i], keys[i])) {\n                return i;\n            }\n        }\n\n        return -1;\n    },\n\n    /**\n     * Creates a shallow copy of this collection\n     * @return {Ext.util.MixedCollection}\n     */\n    clone: function() {\n        var me = this,\n            copy = new this.self(),\n            keys = me.keys,\n            items = me.items,\n            i = 0,\n            ln = items.length;\n\n        for(; i < ln; i++) {\n            copy.add(keys[i], items[i]);\n        }\n\n        copy.getKey = me.getKey;\n        return copy;\n    }\n});\n\n/**\n * @author Ed Spencer\n * @class Ext.data.Errors\n * @extends Ext.util.Collection\n *\n * <p>Wraps a collection of validation error responses and provides convenient functions for\n * accessing and errors for specific fields.</p>\n *\n * <p>Usually this class does not need to be instantiated directly - instances are instead created\n * automatically when {@link Ext.data.Model#validate validate} on a model instance:</p>\n *\n<pre><code>\n//validate some existing model instance - in this case it returned 2 failures messages\nvar errors = myModel.validate();\n\nerrors.isValid(); //false\n\nerrors.length; //2\nerrors.getByField('name');  // [{field: 'name',  message: 'must be present'}]\nerrors.getByField('title'); // [{field: 'title', message: 'is too short'}]\n</code></pre>\n */\nExt.define('Ext.data.Errors', {\n    extend: 'Ext.util.Collection',\n\n    requires: 'Ext.data.Error',\n\n    /**\n     * Returns true if there are no errors in the collection\n     * @return {Boolean}\n     */\n    isValid: function() {\n        return this.length === 0;\n    },\n\n    /**\n     * Returns all of the errors for the given field\n     * @param {String} fieldName The field to get errors for\n     * @return {Object[]} All errors for the given field\n     */\n    getByField: function(fieldName) {\n        var errors = [],\n            error, i;\n\n        for (i = 0; i < this.length; i++) {\n            error = this.items[i];\n\n            if (error.getField() == fieldName) {\n                errors.push(error);\n            }\n        }\n\n        return errors;\n    },\n    \n    add: function() {\n        var obj = arguments.length == 1 ? arguments[0] : arguments[1];\n        \n        if (!(obj instanceof Ext.data.Error)) {\n            obj = Ext.create('Ext.data.Error', {\n                field: obj.field || obj.name,\n                message: obj.error || obj.message\n            });\n        }\n        \n        return this.callParent([obj]);\n    }\n});\n\n/**\n * This component is used in {@link Ext.navigation.View} to control animations in the toolbar. You should never need to\n * interact with the component directly, unless you are subclassing it.\n * @private\n * @author Robert Dougan <rob@sencha.com>\n */\nExt.define('Ext.navigation.Bar', {\n    extend: 'Ext.TitleBar',\n\n    requires: [\n        'Ext.Button',\n        'Ext.Spacer'\n    ],\n\n    // private\n    isToolbar: true,\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'toolbar',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        cls: Ext.baseCSSPrefix + 'navigation-bar',\n\n        /**\n         * @cfg {String} ui\n         * Style options for Toolbar. Either 'light' or 'dark'.\n         * @accessor\n         */\n        ui: 'dark',\n\n        /**\n         * @cfg {String} title\n         * The title of the toolbar. You should NEVER set this, it is used internally. You set the title of the\n         * navigation bar by giving a navigation views children a title configuration.\n         * @private\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @cfg\n         * @hide\n         * @accessor\n         */\n        defaultType: 'button',\n\n        /**\n         * @cfg\n         * @ignore\n         * @accessor\n         */\n        layout: {\n            type: 'hbox'\n        },\n\n        /**\n         * @cfg {Array/Object} items The child items to add to this NavigationBar. The {@link #cfg-defaultType} of\n         * a NavigationBar is {@link Ext.Button}, so you do not need to specify an `xtype` if you are adding\n         * buttons.\n         *\n         * You can also give items a `align` configuration which will align the item to the `left` or `right` of\n         * the NavigationBar.\n         * @hide\n         * @accessor\n         */\n\n        /**\n         * @cfg {String} defaultBackButtonText\n         * The text to be displayed on the back button if:\n         * a) The previous view does not have a title\n         * b) The {@link #useTitleForBackButtonText} configuration is true.\n         * @private\n         * @accessor\n         */\n        defaultBackButtonText: 'Back',\n\n        /**\n         * @cfg {Object} animation\n         * @private\n         * @accessor\n         */\n        animation: {\n            duration: 300\n        },\n\n        /**\n         * @cfg {Boolean} useTitleForBackButtonText\n         * Set to false if you always want to display the {@link #defaultBackButtonText} as the text\n         * on the back button. True if you want to use the previous views title.\n         * @private\n         * @accessor\n         */\n        useTitleForBackButtonText: null,\n\n        /**\n         * @cfg {Ext.navigation.View} view A reference to the navigation view this bar is linked to.\n         * @private\n         * @accessor\n         */\n        view: null,\n\n        /**\n         * @cfg {Boolean} androidAnimation Optionally enable CSS transforms on Android 2\n         * for NavigationBar animations.  Note that this may cause flickering if the\n         * NavigationBar is hidden.\n         * @accessor\n         */\n        android2Transforms: false,\n\n        /**\n         * @cfg {Ext.Button/Object} backButton The configuration for the back button\n         * @private\n         * @accessor\n         */\n        backButton: {\n            align: 'left',\n            ui: 'back',\n            hidden: true\n        }\n    },\n\n    /**\n     * @event back\n     * Fires when the back button was tapped.\n     * @param {Ext.navigation.Bar} this This bar\n     */\n\n    /**\n     * The minmum back button width allowed.\n     * @private\n     */\n    minBackButtonWidth: 80,\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (!config.items) {\n            config.items = [];\n        }\n\n        this.backButtonStack = [];\n        this.activeAnimations = [];\n\n        this.callParent([config]);\n    },\n\n    /**\n     * @private\n     */\n    applyBackButton: function(config) {\n        return Ext.factory(config, Ext.Button, this.getBackButton());\n    },\n\n    /**\n     * @private\n     */\n    updateBackButton: function(newBackButton, oldBackButton) {\n        if (oldBackButton) {\n            this.remove(oldBackButton);\n        }\n\n        if (newBackButton) {\n            this.add(newBackButton);\n\n            newBackButton.on({\n                scope: this,\n                tap: this.onBackButtonTap\n            });\n        }\n    },\n\n    onBackButtonTap: function() {\n        this.fireEvent('back', this);\n    },\n\n    /**\n     * @private\n     */\n    updateView: function(newView) {\n        var me = this,\n            backButton = me.getBackButton(),\n            innerItems, i, backButtonText, item, title;\n\n        me.getItems();\n\n        if (newView) {\n            //update the back button stack with the current inner items of the view\n            innerItems = newView.getInnerItems();\n            for (i = 0; i < innerItems.length; i++) {\n                item = innerItems[i];\n                title = (item.getTitle) ? item.getTitle() : item.config.title;\n\n                me.backButtonStack.push(title || '&nbsp;');\n            }\n\n            me.setTitle(me.getTitleText());\n\n            backButtonText = me.getBackButtonText();\n            if (backButtonText) {\n                backButton.setText(backButtonText);\n                backButton.show();\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    onViewAdd: function(view, item) {\n        var me = this,\n            backButtonStack = me.backButtonStack,\n            hasPrevious, title;\n\n        me.endAnimation();\n\n        title = (item.getTitle) ? item.getTitle() : item.config.title;\n\n        backButtonStack.push(title || '&nbsp;');\n        hasPrevious = backButtonStack.length > 1;\n\n        me.doChangeView(view, hasPrevious, false);\n    },\n\n    /**\n     * @private\n     */\n    onViewRemove: function(view) {\n        var me = this,\n            backButtonStack = me.backButtonStack,\n            hasPrevious;\n\n        me.endAnimation();\n        backButtonStack.pop();\n        hasPrevious = backButtonStack.length > 1;\n\n        me.doChangeView(view, hasPrevious, true);\n    },\n\n    /**\n     * @private\n     */\n    doChangeView: function(view, hasPrevious, reverse) {\n        var me = this,\n            leftBox = me.leftBox,\n            leftBoxElement = leftBox.element,\n            titleComponent = me.titleComponent,\n            titleElement = titleComponent.element,\n            backButton = me.getBackButton(),\n            titleText = me.getTitleText(),\n            backButtonText = me.getBackButtonText(),\n            animation = me.getAnimation() && view.getLayout().getAnimation(),\n            animated = animation && animation.isAnimation && view.isPainted(),\n            properties, leftGhost, titleGhost, leftProps, titleProps;\n\n        if (animated) {\n            leftGhost = me.createProxy(leftBox.element);\n            leftBoxElement.setStyle('opacity', '0');\n            backButton.setText(backButtonText);\n            backButton[hasPrevious ? 'show' : 'hide']();\n\n            titleGhost = me.createProxy(titleComponent.element.getParent());\n            titleElement.setStyle('opacity', '0');\n            me.setTitle(titleText);\n\n            me.refreshTitlePosition();\n\n            properties = me.measureView(leftGhost, titleGhost, reverse);\n            leftProps = properties.left;\n            titleProps = properties.title;\n\n            me.isAnimating = true;\n\n            me.animate(leftBoxElement, leftProps.element);\n            me.animate(titleElement, titleProps.element, function() {\n                titleElement.setLeft(properties.titleLeft);\n                me.isAnimating = false;\n            });\n\n            if (Ext.os.is.Android2 && !this.getAndroid2Transforms()) {\n                leftGhost.ghost.destroy();\n                titleGhost.ghost.destroy();\n            }\n            else {\n                me.animate(leftGhost.ghost, leftProps.ghost);\n                me.animate(titleGhost.ghost, titleProps.ghost, function() {\n                    leftGhost.ghost.destroy();\n                    titleGhost.ghost.destroy();\n                });\n            }\n        }\n        else {\n            if (hasPrevious) {\n                backButton.setText(backButtonText);\n                backButton.show();\n            }\n            else {\n                backButton.hide();\n            }\n            me.setTitle(titleText);\n        }\n    },\n\n    /**\n     * Calculates and returns the position values needed for the back button when you are pushing a title.\n     * @private\n     */\n    measureView: function(oldLeft, oldTitle, reverse) {\n        var me = this,\n            barElement = me.element,\n            newLeftElement = me.leftBox.element,\n            titleElement = me.titleComponent.element,\n            minOffset = Math.min(barElement.getWidth() / 3, 200),\n            newLeftWidth = newLeftElement.getWidth(),\n            barX = barElement.getX(),\n            barWidth = barElement.getWidth(),\n            titleX = titleElement.getX(),\n            titleLeft = titleElement.getLeft(),\n            titleWidth = titleElement.getWidth(),\n            oldLeftX = oldLeft.x,\n            oldLeftWidth = oldLeft.width,\n            oldLeftLeft = oldLeft.left,\n            useLeft = Ext.os.is.Android2 && !this.getAndroid2Transforms(),\n            newOffset, oldOffset, leftAnims, titleAnims, omega, theta;\n\n        theta = barX - oldLeftX - oldLeftWidth;\n        if (reverse) {\n            newOffset = theta;\n            oldOffset = Math.min(titleX - oldLeftWidth, minOffset);\n        }\n        else {\n            oldOffset = theta;\n            newOffset = Math.min(titleX - barX, minOffset);\n        }\n\n        if (useLeft) {\n            leftAnims = {\n                element: {\n                    from: {\n                        left: newOffset,\n                        opacity: 1\n                    },\n                    to: {\n                        left: 0,\n                        opacity: 1\n                    }\n                }\n            };\n        }\n        else {\n            leftAnims = {\n                element: {\n                    from: {\n                        transform: {\n                            translateX: newOffset\n                        },\n                        opacity: 0\n                    },\n                    to: {\n                        transform: {\n                            translateX: 0\n                        },\n                        opacity: 1\n                    }\n                },\n                ghost: {\n                    to: {\n                        transform: {\n                            translateX: oldOffset\n                        },\n                        opacity: 0\n                    }\n                }\n            };\n        }\n\n        theta = barX - titleX + newLeftWidth;\n        if ((oldLeftLeft + titleWidth) > titleX) {\n            omega = barX - titleX - titleWidth;\n        }\n\n        if (reverse) {\n            titleElement.setLeft(0);\n\n            oldOffset = barX + barWidth;\n\n            if (omega !== undefined) {\n                newOffset = omega;\n            }\n            else {\n                newOffset = theta;\n            }\n        }\n        else {\n            newOffset = barWidth - titleX;\n\n            if (omega !== undefined) {\n                oldOffset = omega;\n            }\n            else {\n                oldOffset = theta;\n            }\n        }\n\n        if (useLeft) {\n            titleAnims = {\n                element: {\n                    from: {\n                        left: newOffset,\n                        opacity: 1\n                    },\n                    to: {\n                        left: titleLeft,\n                        opacity: 1\n                    }\n                }\n            };\n        }\n        else {\n            titleAnims = {\n                element: {\n                    from: {\n                        transform: {\n                            translateX: newOffset\n                        },\n                        opacity: 0\n                    },\n                    to: {\n                        transform: {\n                            translateX: titleLeft\n                        },\n                        opacity: 1\n                    }\n                },\n                ghost: {\n                    to: {\n                        transform: {\n                            translateX: oldOffset\n                        },\n                        opacity: 0\n                    }\n                }\n            };\n        }\n\n        return {\n            left: leftAnims,\n            title: titleAnims,\n            titleLeft: titleLeft\n        };\n    },\n\n    /**\n     * Helper method used to animate elements.\n     * You pass it an element, objects for the from and to positions an option onEnd callback called when the animation is over.\n     * Normally this method is passed configurations returned from the methods such as #measureTitle(true) etc.\n     * It is called from the #pushLeftBoxAnimated, #pushTitleAnimated, #popBackButtonAnimated and #popTitleAnimated\n     * methods.\n     *\n     * If the current device is Android, it will use top/left to animate.\n     * If it is anything else, it will use transform.\n     * @private\n     */\n    animate: function(element, config, callback) {\n        var me = this,\n            animation;\n\n        //reset the left of the element\n        element.setLeft(0);\n\n        config = Ext.apply(config, {\n            element: element,\n            easing: 'ease-in-out',\n            duration: me.getAnimation().duration\n        });\n\n        animation = new Ext.fx.Animation(config);\n        animation.on('animationend', function() {\n            if (callback) {\n                callback.call(me);\n            }\n        }, me);\n\n        Ext.Animator.run(animation);\n        me.activeAnimations.push(animation);\n    },\n\n    endAnimation: function() {\n        var activeAnimations = this.activeAnimations,\n            animation, i, ln;\n\n        if (activeAnimations) {\n            ln = activeAnimations.length;\n            for (i = 0; i < ln; i++) {\n                animation = activeAnimations[i];\n                if (animation.isAnimating) {\n                    animation.stopAnimation();\n                }\n                else {\n                    animation.destroy();\n                }\n            }\n            this.activeAnimations = [];\n        }\n    },\n\n    refreshTitlePosition: function() {\n        if (!this.isAnimating) {\n            this.callParent();\n        }\n    },\n\n    /**\n     * Returns the text needed for the current back button at anytime.\n     * @private\n     */\n    getBackButtonText: function() {\n        var text = this.backButtonStack[this.backButtonStack.length - 2],\n            useTitleForBackButtonText = this.getUseTitleForBackButtonText();\n\n        if (!useTitleForBackButtonText) {\n            if (text) {\n                text = this.getDefaultBackButtonText();\n            }\n        }\n\n        return text;\n    },\n\n    /**\n     * Returns the text needed for the current title at anytime.\n     * @private\n     */\n    getTitleText: function() {\n        return this.backButtonStack[this.backButtonStack.length - 1];\n    },\n\n    /**\n     * Handles removing back button stacks from this bar\n     * @private\n     */\n    beforePop: function(count) {\n        count--;\n        for (var i = 0; i < count; i++) {\n            this.backButtonStack.pop();\n        }\n    },\n\n    /**\n     * We override the hidden method because we don't want to remove it from the view using display:none. Instead we just position it off\n     * the screen, much like the navigation bar proxy. This means that all animations, pushing, popping etc. all still work when if you hide/show\n     * this bar at any time.\n     * @private\n     */\n    doSetHidden: function(hidden) {\n        if (!hidden) {\n            this.element.setStyle({\n                position: 'relative',\n                top: 'auto',\n                left: 'auto',\n                width: 'auto'\n            });\n        } else {\n            this.element.setStyle({\n                position: 'absolute',\n                top: '-1000px',\n                left: '-1000px',\n                width: this.element.getWidth() + 'px'\n            });\n        }\n    },\n\n    /**\n     * Creates a proxy element of the passed element, and positions it in the same position, using absolute positioning.\n     * The createNavigationBarProxy method uses this to create proxies of the backButton and the title elements.\n     * @private\n     */\n    createProxy: function(element) {\n        var ghost, x, y, left, width;\n\n        ghost = element.dom.cloneNode(true);\n        ghost.id = element.id + '-proxy';\n\n        //insert it into the toolbar\n        element.getParent().dom.appendChild(ghost);\n\n        //set the x/y\n        ghost = Ext.get(ghost);\n        x = element.getX();\n        y = element.getY();\n        left = element.getLeft();\n        width = element.getWidth();\n        ghost.setStyle('position', 'absolute');\n        ghost.setX(x);\n        ghost.setY(y);\n        ghost.setHeight(element.getHeight());\n        ghost.setWidth(width);\n\n        return {\n            x: x,\n            y: y,\n            left: left,\n            width: width,\n            ghost: ghost\n        };\n    }\n});\n\n/**\n * @author Robert Dougan <rob@sencha.com>\n *\n * NavigationView is basically a {@link Ext.Container} with a {@link Ext.layout.Card card} layout, so only one view\n * can be visible at a time. However, NavigationView also adds extra functionality on top of this to allow\n * you to `push` and `pop` views at any time. When you do this, your NavigationView will automatically animate\n * between your current active view, and the new view you want to `push`, or the previous view you want to `pop`.\n *\n * Using the NavigationView is very simple. Here is a basic example of it in action:\n *\n *     @example\n *     var view = Ext.create('Ext.NavigationView', {\n *         fullscreen: true,\n *\n *         items: [{\n *             title: 'First',\n *             items: [{\n *                 xtype: 'button',\n *                 text: 'Push a new view!',\n *                 handler: function() {\n *                     //use the push() method to push another view. It works much like\n *                     //add() or setActiveItem(). it accepts a view instance, or you can give it\n *                     //a view config.\n *                     view.push({\n *                         title: 'Second',\n *                         html: 'Second view!'\n *                     });\n *                 }\n *             }]\n *         }]\n *     });\n *\n * Now, here comes the fun part: you can push any view/item into the NavigationView, at any time, and it will\n * automatically handle the animations between the two views, including adding a back button (if necessary)\n * and showing the new title.\n *\n *     view.push({\n *         title: 'A new view',\n *         html: 'Some new content'\n *     });\n *\n * As you can see, it is as simple as calling the {@link #method-push} method, with a new view (instance or object). Done.\n *\n * You can also `pop` a view at any time. This will remove the top-most view from the NavigationView, and amimate back\n * to the previous view. You can do this using the {@link #method-pop} method (which requires no arguments).\n *\n *     view.pop();\n *\n * @aside guide navigation_view\n */\nExt.define('Ext.navigation.View', {\n    extend: 'Ext.Container',\n    alternateClassName: 'Ext.NavigationView',\n    xtype: 'navigationview',\n    requires: ['Ext.navigation.Bar'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'navigationview',\n\n        /**\n         * @cfg {Boolean/Object} navigationBar\n         * The NavigationBar used in this navigation view. It defaults to be docked to the top.\n         *\n         * You can just pass in a normal object if you want to customize the NavigationBar. For example:\n         *\n         *     navigationBar: {\n         *         ui: 'dark',\n         *         docked: 'bottom'\n         *     }\n         *\n         * You **cannot** specify a *title* property in this configuration. The title of the navigationBar is taken\n         * from the configuration of this views children:\n         *\n         *     view.push({\n         *         title: 'This views title which will be shown in the navigation bar',\n         *         html: 'Some HTML'\n         *     });\n         *\n         * @accessor\n         */\n        navigationBar: {\n            docked: 'top'\n        },\n\n        /**\n         * @cfg {String} defaultBackButtonText\n         * The text to be displayed on the back button if:\n         * a) The previous view does not have a title\n         * b) The {@link #useTitleForBackButtonText} configuration is true.\n         * @accessor\n         */\n        defaultBackButtonText: 'Back',\n\n        /**\n         * @cfg {Boolean} useTitleForBackButtonText\n         * Set to false if you always want to display the {@link #defaultBackButtonText} as the text\n         * on the back button. True if you want to use the previous views title.\n         * @accessor\n         */\n        useTitleForBackButtonText: false,\n\n        /**\n         * @cfg {Array/Object} items The child items to add to this NavigationView. This is usually an array of Component\n         * configurations or instances, for example:\n         *\n         *    Ext.create('Ext.Container', {\n         *        items: [\n         *            {\n         *                xtype: 'panel',\n         *                title: 'My title',\n         *                html: 'This is an item'\n         *            }\n         *        ]\n         *    });\n         *\n         * If you want a title to be displayed in the {@link #navigationBar}, you must specify a `title` configuration in your\n         * view, like above.\n         *\n         * Note: only one view will be visible at a time. If you want to change to another view, use the {@link #method-push} or\n         * {@link #setActiveItem} methods.\n         * @accessor\n         */\n\n        /**\n         * @cfg\n         * @hide\n         */\n        layout: {\n            type: 'card',\n            animation: {\n                duration: 300,\n                easing: 'ease-out',\n                type: 'slide',\n                direction: 'left'\n            }\n        }\n\n        // See https://sencha.jira.com/browse/TOUCH-1568\n        // If you do, add to #navigationBar config docs:\n        //\n        //     If you want to add a button on the right of the NavigationBar,\n        //     use the {@link #rightButton} configuration.\n    },\n\n    /**\n     * @event push\n     * Fires when a view is pushed into this navigation view\n     * @param {Ext.navigation.View} this The component instance\n     * @param {Mixed} view The view that has been pushed\n     */\n\n    /**\n     * @event pop\n     * Fires when a view is popped from this navigation view\n     * @param {Ext.navigation.View} this The component instance\n     * @param {Mixed} view The view that has been popped\n     */\n\n    /**\n     * @event back\n     * Fires when the back button in the navigation view was tapped.\n     * @param {Ext.navigation.View} this The component instance\\\n     */\n\n    // @private\n    initialize: function() {\n        //add a listener onto the back button in the navigationbar\n        this.getNavigationBar().on({\n            back: this.onBackButtonTap,\n            scope: this\n        });\n\n        this.relayEvents(this, {\n            add: 'push',\n            remove: 'pop'\n        });\n\n        var layout = this.getLayout();\n        if (layout && !layout.isCard) {\n            Ext.Logger.error('The base layout for a NavigationView must always be a Card Layout');\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyLayout: function(config) {\n        config = config || {};\n\n        return config;\n    },\n\n    /**\n     * @private\n     * Called when the user taps on the back button\n     */\n    onBackButtonTap: function() {\n        this.pop();\n        this.fireEvent('back', this);\n    },\n\n    /**\n     * Pushes a new view into this navigation view using the default animation that this view has.\n     * @param {Object} view The view to push\n     * @return {Ext.Component} The new item you just pushed\n     */\n    push: function(view) {\n        return this.add(view);\n    },\n\n    /**\n     * Removes the current active view from the stack and sets the previous view using the default animation\n     * of this view.\n     * @param {Number} count The number of views you want to pop\n     * @return {Ext.Component} The new active item\n     */\n    pop: function(count) {\n        if (this.beforePop(count)) {\n            return this.doPop();\n        }\n    },\n\n    /**\n     * @private\n     * Calculates whether it needs to remove any items from the stack when you are popping more than 1\n     * item. If it does, it removes those views from the stack and returns `true`.\n     * @return {Boolean} True if it has removed views\n     */\n    beforePop: function(count) {\n        var me = this,\n            innerItems = this.getInnerItems(),\n            ln = innerItems.length,\n            toRemove, i;\n\n        //default to 1 pop\n        if (!Ext.isNumber(count) || count < 1) {\n            count = 1;\n        }\n\n        //check if we are trying to remove more items than we have\n        count = Math.min(count, ln - 1);\n\n        if (count) {\n            //we need to reset the backButtonStack in the navigation bar\n            me.getNavigationBar().beforePop(count);\n\n            //get the items we need to remove from the view and remove theme\n            toRemove = innerItems.splice(-count, count - 1);\n            for (i = 0; i < toRemove.length; i++) {\n                this.remove(toRemove[i]);\n            }\n\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @private\n     */\n    doPop: function() {\n        var me = this,\n            innerItems = this.getInnerItems();\n\n        //set the new active item to be the new last item of the stack\n        me.remove(innerItems[innerItems.length - 1]);\n        return this.getActiveItem();\n    },\n\n    /**\n     * Returns the previous item, if one exists.\n     * @return {Mixed} The previous view\n     */\n    getPreviousItem: function() {\n        var innerItems = this.getInnerItems();\n        return innerItems[innerItems.length - 2];\n    },\n\n    /**\n     * Updates the backbutton text accordingly in the {@link #navigationBar}\n     * @private\n     */\n    updateUseTitleForBackButtonText: function(useTitleForBackButtonText) {\n        var navigationBar = this.getNavigationBar();\n        if (navigationBar) {\n            navigationBar.setUseTitleForBackButtonText(useTitleForBackButtonText);\n        }\n    },\n\n    /**\n     * Updates the backbutton text accordingly in the {@link #navigationBar}\n     * @private\n     */\n    updateDefaultBackButtonText: function(defaultBackButtonText) {\n        var navigationBar = this.getNavigationBar();\n        if (navigationBar) {\n            navigationBar.setDefaultBackButtonText(defaultBackButtonText);\n        }\n    },\n\n    // @private\n    applyNavigationBar: function(config) {\n        if (!config) {\n            config = {\n                hidden: true,\n                docked: 'top'\n            };\n        }\n\n        if (config.title) {\n            delete config.title;\n            Ext.Logger.warn(\"Ext.navigation.View: The 'navigationBar' configuration does not accept a 'title' property. You \" +\n                            \"set the title of the navigationBar by giving this navigation view's children a 'title' property.\");\n        }\n\n        config.view = this;\n        config.useTitleForBackButtonText = this.getUseTitleForBackButtonText();\n\n        return Ext.factory(config, Ext.navigation.Bar, this.getNavigationBar());\n    },\n\n    // @private\n    updateNavigationBar: function(newNavigationBar, oldNavigationBar) {\n        if (oldNavigationBar) {\n            this.remove(oldNavigationBar, true);\n        }\n\n        if (newNavigationBar) {\n            var layout = this.getLayout(),\n                animation = (layout && layout.isLayout) ? layout.getAnimation() : false;\n\n            if (animation && animation.isAnimation) {\n                newNavigationBar.setAnimation(animation.config);\n            }\n            this.add(newNavigationBar);\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyActiveItem: function(activeItem, currentActiveItem) {\n        var me = this,\n            innerItems = me.getInnerItems();\n\n        // Make sure the items are already initialized\n        me.getItems();\n\n        // If we are not initialzed yet, we should set the active item to the last item in the stack\n        if (!me.initialized) {\n            activeItem = innerItems.length - 1;\n        }\n\n        return this.callParent([activeItem, currentActiveItem]);\n    },\n\n    doResetActiveItem: function(innerIndex) {\n        var me = this,\n            innerItems = me.getInnerItems(),\n            animation = me.getLayout().getAnimation();\n\n        if (innerIndex > 0) {\n            if (animation && animation.isAnimation) {\n                animation.setReverse(true);\n            }\n            me.setActiveItem(innerIndex - 1);\n            me.getNavigationBar().onViewRemove(me, innerItems[innerIndex], innerIndex);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doRemove: function() {\n        var animation = this.getLayout().getAnimation();\n\n        if (animation && animation.isAnimation) {\n            animation.setReverse(false);\n        }\n\n        this.callParent(arguments);\n    },\n\n    /**\n     * @private\n     */\n    onItemAdd: function(item, index) {\n        this.doItemLayoutAdd(item, index);\n\n        if (!this.isItemsInitializing && item.isInnerItem()) {\n            this.setActiveItem(item);\n            this.getNavigationBar().onViewAdd(this, item, index);\n        }\n\n        if (this.initialized) {\n            this.fireEvent('add', this, item, index);\n        }\n    },\n\n    /**\n     * Resets the view by removing all items between the first and last item.\n     * @return {Ext.Component} The view that is now active\n     */\n    reset: function() {\n        return this.pop(this.getInnerItems().length);\n    }\n});\n\nExt.define(\"B2B.view._App\", {\n    extend: 'Ext.NavigationView',\n    id: \"_app\",\n    xtype: '_app',\n\n    config: {\n        navigationBar: false,\n        items: [\n            {\n                xtype: 'appslidercontainer'\n            }\n        ]\n    }\n});\n\n/**\n * @aside guide ajax\n *\n * A singleton instance of an {@link Ext.data.Connection}. This class\n * is used to communicate with your server side code. It can be used as follows:\n *\n *     Ext.Ajax.request({\n *         url: 'page.php',\n *         params: {\n *             id: 1\n *         },\n *         success: function(response){\n *             var text = response.responseText;\n *             // process server response here\n *         }\n *     });\n *\n * Default options for all requests can be set by changing a property on the Ext.Ajax class:\n *\n *     Ext.Ajax.timeout = 60000; // 60 seconds\n *\n * Any options specified in the request method for the Ajax request will override any\n * defaults set on the Ext.Ajax class. In the code sample below, the timeout for the\n * request will be 60 seconds.\n *\n *     Ext.Ajax.timeout = 120000; // 120 seconds\n *     Ext.Ajax.request({\n *         url: 'page.aspx',\n *         timeout: 60000\n *     });\n *\n * In general, this class will be used for all Ajax requests in your application.\n * The main reason for creating a separate {@link Ext.data.Connection} is for a\n * series of requests that share common settings that are different to all other\n * requests in the application.\n */\nExt.define('Ext.Ajax', {\n    extend: 'Ext.data.Connection',\n    singleton: true,\n\n    /**\n     * @property {Boolean} autoAbort\n     * Whether a new request should abort any pending requests.\n     */\n    autoAbort : false\n});\n\n/**\n * A general sheet class. This renderable container provides base support for orientation-aware transitions for popup or\n * side-anchored sliding Panels.\n *\n * In most cases, you should use {@link Ext.ActionSheet}, {@link Ext.MessageBox}, {@link Ext.picker.Picker} or {@link Ext.picker.Date}.\n */\nExt.define('Ext.Sheet', {\n    extend: 'Ext.Panel',\n\n    xtype: 'sheet',\n\n    requires: ['Ext.fx.Animation'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'sheet',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        modal: true,\n\n        /**\n         * @cfg {Boolean} centered\n         * Whether or not this component is absolutely centered inside its container\n         * @accessor\n         * @evented\n         */\n        centered: true,\n\n        /**\n         * @cfg {Boolean} stretchX True to stretch this sheet horizontally.\n         */\n        stretchX: null,\n\n        /**\n         * @cfg {Boolean} stretchY True to stretch this sheet vertically.\n         */\n        stretchY: null,\n\n        /**\n         * @cfg {String} enter\n         * The viewport side used as the enter point when shown (top, bottom, left, right)\n         * Applies to sliding animation effects only. Defaults to 'bottom'\n         */\n        enter: 'bottom',\n\n        /**\n         * @cfg {String} exit\n         * The viewport side used as the exit point when hidden (top, bottom, left, right)\n         * Applies to sliding animation effects only. Defaults to 'bottom'\n         */\n        exit: 'bottom',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        showAnimation: !Ext.os.is.Android2 ? {\n            type: 'slideIn',\n            duration: 250,\n            easing: 'ease-out'\n        } : null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        hideAnimation: !Ext.os.is.Android2 ? {\n            type: 'slideOut',\n            duration: 250,\n            easing: 'ease-in'\n        } : null\n    },\n\n    applyHideAnimation: function(config) {\n        var exit = this.getExit(),\n            direction = exit;\n\n        if (exit === null) {\n            return null;\n        }\n\n        if (config === true) {\n            config = {\n                type: 'slideOut'\n            };\n        }\n        if (Ext.isString(config)) {\n            config = {\n                type: config\n            };\n        }\n        var anim = Ext.factory(config, Ext.fx.Animation);\n\n        if (anim) {\n            if (exit == 'bottom') {\n                direction = 'down';\n            }\n            if (exit == 'top') {\n                direction = 'up';\n            }\n            anim.setDirection(direction);\n        }\n        return anim;\n    },\n\n    applyShowAnimation: function(config) {\n        var enter = this.getEnter(),\n            direction = enter;\n\n        if (enter === null) {\n            return null;\n        }\n\n        if (config === true) {\n            config = {\n                type: 'slideIn'\n            };\n        }\n        if (Ext.isString(config)) {\n            config = {\n                type: config\n            };\n        }\n        var anim = Ext.factory(config, Ext.fx.Animation);\n\n        if (anim) {\n            if (enter == 'bottom') {\n                direction = 'down';\n            }\n            if (enter == 'top') {\n                direction = 'up';\n            }\n            anim.setBefore({\n                display: null\n            });\n            anim.setReverse(true);\n            anim.setDirection(direction);\n        }\n        return anim;\n    },\n\n    updateStretchX: function(newStretchX) {\n        this.getLeft();\n        this.getRight();\n\n        if (newStretchX) {\n            this.setLeft(0);\n            this.setRight(0);\n        }\n    },\n\n    updateStretchY: function(newStretchY) {\n        this.getTop();\n        this.getBottom();\n\n        if (newStretchY) {\n            this.setTop(0);\n            this.setBottom(0);\n        }\n    }\n});\n\n/**\n * {@link Ext.ActionSheet ActionSheets} are used to display a list of {@link Ext.Button buttons} in a popup dialog.\n *\n * The key difference between ActionSheet and {@link Ext.Sheet} is that ActionSheets are docked at the bottom of the\n * screen, and the {@link #defaultType} is set to {@link Ext.Button button}.\n *\n * ## Example\n *\n *     @example preview miniphone\n *     var actionSheet = Ext.create('Ext.ActionSheet', {\n *         items: [\n *             {\n *                 text: 'Delete draft',\n *                 ui  : 'decline'\n *             },\n *             {\n *                 text: 'Save draft'\n *             },\n *             {\n *                 text: 'Cancel',\n *                 ui  : 'confirm'\n *             }\n *         ]\n *     });\n *\n *     Ext.Viewport.add(actionSheet);\n *     actionSheet.show();\n *\n * As you can see from the code above, you no longer have to specify a `xtype` when creating buttons within a {@link Ext.ActionSheet ActionSheet},\n * because the {@link #defaultType} is set to {@link Ext.Button button}.\n *\n */\nExt.define('Ext.ActionSheet', {\n    extend: 'Ext.Sheet',\n    alias : 'widget.actionsheet',\n    requires: ['Ext.Button'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'sheet-action',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        left: 0,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        right: 0,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        bottom: 0,\n\n        // @hide\n        centered: false,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        height: 'auto',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        defaultType: 'button'\n    }\n});\n\n/**\n * Ext.tab.Bar is used internally by {@link Ext.tab.Panel} to create the bar of tabs that appears at the top of the tab\n * panel. It's unusual to use it directly, instead see the {@link Ext.tab.Panel tab panel docs} for usage instructions.\n *\n * Used in the {@link Ext.tab.Panel} component to display {@link Ext.tab.Tab} components.\n *\n * @private\n */\nExt.define('Ext.tab.Bar', {\n    extend: 'Ext.Toolbar',\n    alternateClassName: 'Ext.TabBar',\n    xtype : 'tabbar',\n\n    requires: ['Ext.tab.Tab'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'tabbar',\n\n        // @private\n        defaultType: 'tab',\n\n        // @private\n        layout: {\n            type: 'hbox',\n            align: 'middle'\n        }\n    },\n\n    eventedConfig: {\n        /**\n         * @cfg {Number/String/Ext.Component} activeTab\n         * The initially activated tab. Can be specified as numeric index,\n         * component ID or as the component instance itself.\n         * @accessor\n         * @evented\n         */\n        activeTab: null\n    },\n\n    /**\n     * @event tabchange\n     * Fired when active tab changes.\n     * @param {Ext.tab.Bar} this\n     * @param {Ext.tab.Tab} newTab The new Tab\n     * @param {Ext.tab.Tab} oldTab The old Tab\n     */\n\n    initialize: function() {\n        var me = this;\n        me.callParent();\n\n        me.on({\n            tap: 'onTabTap',\n\n            delegate: '> tab',\n            scope   : me\n        });\n    },\n\n    // @private\n    onTabTap: function(tab) {\n        this.setActiveTab(tab);\n    },\n\n    /**\n     * @private\n     */\n    applyActiveTab: function(newActiveTab, oldActiveTab) {\n        if (!newActiveTab && newActiveTab !== 0) {\n            return;\n        }\n\n        var newTabInstance = this.parseActiveTab(newActiveTab);\n\n        if (!newTabInstance) {\n            if (oldActiveTab) {\n                Ext.Logger.warn('Trying to set a non-existent activeTab');\n            }\n            return;\n        }\n        return newTabInstance;\n    },\n\n    /**\n     * @private\n     * When docked to the top, pack left, when on the bottom pack center\n     */\n    doSetDocked: function(newDocked) {\n        var layout = this.getLayout(),\n            pack   = newDocked == 'bottom' ? 'center' : 'left';\n\n        //layout isn't guaranteed to be instantiated so must test\n        if (layout.isLayout) {\n            layout.setPack(pack);\n        } else {\n            layout.pack = (layout && layout.pack) ? layout.pack : pack;\n        }\n    },\n\n    /**\n     * @private\n     * Sets the active tab\n     */\n    doSetActiveTab: function(newTab, oldTab) {\n        if (newTab) {\n            newTab.setActive(true);\n        }\n\n        if (oldTab) {\n            oldTab.setActive(false);\n        }\n    },\n\n    /**\n     * @private\n     * Parses the active tab, which can be a number or string\n     */\n    parseActiveTab: function(tab) {\n        //we need to call getItems to initialize the items, otherwise they will not exist yet.\n        if (typeof tab == 'number') {\n            return this.getInnerItems()[tab];\n        }\n        else if (typeof tab == 'string') {\n            tab = Ext.getCmp(tab);\n        }\n        return tab;\n    }\n});\n\n/**\n * @aside guide tabs\n * @aside video tabs-toolbars\n *\n * Tab Panels are a great way to allow the user to switch between several pages that are all full screen. Each\n * Component in the Tab Panel gets its own Tab, which shows the Component when tapped on. Tabs can be positioned at\n * the top or the bottom of the Tab Panel, and can optionally accept title and icon configurations.\n *\n * Here's how we can set up a simple Tab Panel with tabs at the bottom. Use the controls at the top left of the example\n * to toggle between code mode and live preview mode (you can also edit the code and see your changes in the live\n * preview):\n *\n *     @example miniphone preview\n *     Ext.create('Ext.TabPanel', {\n *         fullscreen: true,\n *         tabBarPosition: 'bottom',\n *\n *         defaults: {\n *             styleHtmlContent: true\n *         },\n *\n *         items: [\n *             {\n *                 title: 'Home',\n *                 iconCls: 'home',\n *                 html: 'Home Screen'\n *             },\n *             {\n *                 title: 'Contact',\n *                 iconCls: 'user',\n *                 html: 'Contact Screen'\n *             }\n *         ]\n *     });\n * One tab was created for each of the {@link Ext.Panel panels} defined in the items array. Each tab automatically uses\n * the title and icon defined on the item configuration, and switches to that item when tapped on. We can also position\n * the tab bar at the top, which makes our Tab Panel look like this:\n *\n *     @example miniphone preview\n *     Ext.create('Ext.TabPanel', {\n *         fullscreen: true,\n *\n *         defaults: {\n *             styleHtmlContent: true\n *         },\n *\n *         items: [\n *             {\n *                 title: 'Home',\n *                 html: 'Home Screen'\n *             },\n *             {\n *                 title: 'Contact',\n *                 html: 'Contact Screen'\n *             }\n *         ]\n *     });\n *\n */\nExt.define('Ext.tab.Panel', {\n    extend: 'Ext.Container',\n    xtype : 'tabpanel',\n    alternateClassName: 'Ext.TabPanel',\n\n    requires: ['Ext.tab.Bar'],\n\n    config: {\n        /**\n         * @cfg {String} ui\n         * Sets the UI of this component.\n         * Available values are: `light` and `dark`.\n         * @accessor\n         */\n        ui: 'dark',\n\n        /**\n         * @cfg {Object} tabBar\n         * An Ext.tab.Bar configuration.\n         * @accessor\n         */\n        tabBar: true,\n\n        /**\n         * @cfg {String} tabBarPosition\n         * The docked position for the {@link #tabBar} instance.\n         * Possible values are 'top' and 'bottom'.\n         * @accessor\n         */\n        tabBarPosition: 'top',\n\n        /**\n         * @cfg layout\n         * @inheritdoc\n         */\n        layout: {\n            type: 'card',\n            animation: {\n                type: 'slide',\n                direction: 'left'\n            }\n        },\n\n        /**\n         * @cfg cls\n         * @inheritdoc\n         */\n        cls: Ext.baseCSSPrefix + 'tabpanel'\n\n        /**\n         * @cfg {Boolean/String/Object} scrollable\n         * @accessor\n         * @hide\n         */\n\n        /**\n         * @cfg {Boolean/String/Object} scroll\n         * @hide\n         */\n    },\n\n    delegateListeners: {\n        delegate: '> component',\n        centeredchange: 'onItemCenteredChange',\n        dockedchange: 'onItemDockedChange',\n        floatingchange: 'onItemFloatingChange',\n        disabledchange: 'onItemDisabledChange'\n    },\n\n    initialize: function() {\n        this.callParent();\n\n        this.on({\n            order: 'before',\n            activetabchange: 'doTabChange',\n            delegate: '> tabbar',\n            scope   : this\n        });\n\n        var layout = this.getLayout();\n        if (layout && !layout.isCard) {\n            Ext.Logger.error('The base layout for a TabPanel must always be a Card Layout');\n        }\n    },\n\n    /**\n     * Tab panels should not be scrollable. Instead, you should add scrollable to any item that\n     * you want to scroll.\n     * @private\n     */\n    applyScrollable: function() {\n        return false;\n    },\n\n    /**\n     * Updates the Ui for this component and the {@link #tabBar}.\n     */\n    updateUi: function(newUi, oldUi) {\n        this.callParent(arguments);\n\n        if (this.initialized) {\n            this.getTabBar().setUi(newUi);\n        }\n    },\n\n    /**\n     * @private\n     */\n    doSetActiveItem: function(newActiveItem, oldActiveItem) {\n        if (newActiveItem) {\n            var items = this.getInnerItems(),\n                oldIndex = items.indexOf(oldActiveItem),\n                newIndex = items.indexOf(newActiveItem),\n                reverse = oldIndex > newIndex,\n                animation = this.getLayout().getAnimation(),\n                tabBar = this.getTabBar(),\n                oldTab = tabBar.parseActiveTab(oldIndex),\n                newTab = tabBar.parseActiveTab(newIndex);\n\n            if (animation && animation.setReverse) {\n                animation.setReverse(reverse);\n            }\n\n            this.callParent(arguments);\n\n            if (newIndex != -1) {\n                this.forcedChange = true;\n                tabBar.setActiveTab(newIndex);\n                this.forcedChange = false;\n\n                if (oldTab) {\n                    oldTab.setActive(false);\n                }\n\n                if (newTab) {\n                    newTab.setActive(true);\n                }\n            }\n        }\n    },\n\n    /**\n     * Updates this container with the new active item.\n     */\n    doTabChange: function(tabBar, newTab) {\n        var oldActiveItem = this.getActiveItem(),\n            newActiveItem;\n\n        this.setActiveItem(tabBar.indexOf(newTab));\n        newActiveItem = this.getActiveItem();\n        return this.forcedChange || oldActiveItem !== newActiveItem;\n    },\n\n    /**\n     * Creates a new {@link Ext.tab.Bar} instance using {@link Ext#factory}.\n     * @private\n     */\n    applyTabBar: function(config) {\n        if (config === true) {\n            config = {};\n        }\n\n        if (config) {\n            Ext.applyIf(config, {\n                ui: this.getUi(),\n                docked: this.getTabBarPosition()\n            });\n        }\n\n        return Ext.factory(config, Ext.tab.Bar, this.getTabBar());\n    },\n\n    /**\n     * Adds the new {@link Ext.tab.Bar} instance into this container.\n     * @private\n     */\n    updateTabBar: function(newTabBar) {\n        if (newTabBar) {\n            this.add(newTabBar);\n            this.setTabBarPosition(newTabBar.getDocked());\n        }\n    },\n\n    /**\n     * Updates the docked position of the {@link #tabBar}.\n     * @private\n     */\n    updateTabBarPosition: function(position) {\n        var tabBar = this.getTabBar();\n        if (tabBar) {\n            tabBar.setDocked(position);\n        }\n    },\n\n    onItemAdd: function(card) {\n        var me = this;\n\n        if (!card.isInnerItem()) {\n            return me.callParent(arguments);\n        }\n\n        var tabBar = me.getTabBar(),\n            initialConfig = card.getInitialConfig(),\n            tabConfig = initialConfig.tab || {},\n            tabTitle = (card.getTitle) ? card.getTitle() : initialConfig.title,\n            tabIconCls = (card.getIconCls) ? card.getIconCls() : initialConfig.iconCls,\n            tabHidden = (card.getHidden) ? card.getHidden() : initialConfig.hidden,\n            tabDisabled = (card.getDisabled) ? card.getDisabled() : initialConfig.disabled,\n            tabBadgeText = (card.getBadgeText) ? card.getBadgeText() : initialConfig.badgeText,\n            innerItems = me.getInnerItems(),\n            index = innerItems.indexOf(card),\n            tabs = tabBar.getItems(),\n            activeTab = tabBar.getActiveTab(),\n            currentTabInstance = (tabs.length >= innerItems.length) && tabs.getAt(index),\n            tabInstance;\n\n        if (tabTitle && !tabConfig.title) {\n            tabConfig.title = tabTitle;\n        }\n\n        if (tabIconCls && !tabConfig.iconCls) {\n            tabConfig.iconCls = tabIconCls;\n        }\n\n        if (tabHidden && !tabConfig.hidden) {\n            tabConfig.hidden = tabHidden;\n        }\n\n        if (tabDisabled && !tabConfig.disabled) {\n            tabConfig.disabled = tabDisabled;\n        }\n\n        if (tabBadgeText && !tabConfig.badgeText) {\n            tabConfig.badgeText = tabBadgeText;\n        }\n\n        if (!currentTabInstance && !tabConfig.title && !tabConfig.iconCls) {\n            if (!tabConfig.title && !tabConfig.iconCls) {\n                Ext.Logger.error('Adding a card to a tab container without specifying any tab configuration');\n            }\n        }\n\n        tabInstance = Ext.factory(tabConfig, Ext.tab.Tab, currentTabInstance);\n\n        if (!currentTabInstance) {\n            tabBar.insert(index, tabInstance);\n        }\n\n        card.tab = tabInstance;\n\n        me.callParent(arguments);\n\n        if (!activeTab && activeTab !== 0) {\n            tabBar.setActiveTab(tabBar.getActiveItem());\n        }\n    },\n\n    /**\n     * If an item gets enabled/disabled and it has an tab, we should also enable/disable that tab\n     * @private\n     */\n    onItemDisabledChange: function(item, newDisabled) {\n        if (item && item.tab) {\n            item.tab.setDisabled(newDisabled);\n        }\n    },\n\n    // @private\n    onItemRemove: function(item, index) {\n        this.getTabBar().remove(item.tab, this.getAutoDestroy());\n\n        this.callParent(arguments);\n    }\n}, function() {\n    /**\n     * @cfg {Boolean} tabBarDock\n     * @inheritdoc Ext.tab.Panel#tabBarPosition\n     * @deprecated 2.0.0 Please use {@link #tabBarPosition} instead.\n     */\n    Ext.deprecateProperty(this, 'tabBarDock', 'tabBarPosition');\n});\n\n/**\n * @private\n */\nExt.define('Ext.device.Communicator', {\n    requires: [\n        'Ext.device.communicator.Default',\n        'Ext.device.communicator.Android'\n    ],\n\n    singleton: true,\n\n    constructor: function() {\n        if (Ext.os.is.Android) {\n            return new Ext.device.communicator.Android();\n        }\n\n        return new Ext.device.communicator.Default();\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.device.camera.PhoneGap', {\n\n    extend: 'Ext.device.camera.Abstract',\n\n    capture: function(args) {\n        var onSuccess = args.success,\n            onError = args.failure,\n            scope = args.scope,\n            sources = this.source,\n            destinations = this.destination,\n            encodings = this.encoding,\n            source = args.source,\n            destination = args.destination,\n            encoding = args.encoding,\n            options = {};\n\n        if (scope) {\n            onSuccess = Ext.Function.bind(onSuccess, scope);\n            onError = Ext.Function.bind(onError, scope);\n        }\n\n        if (source !== undefined) {\n            options.sourceType = sources.hasOwnProperty(source) ? sources[source] : source;\n        }\n\n        if (destination !== undefined) {\n            options.destinationType = destinations.hasOwnProperty(destination) ? destinations[destination] : destination;\n        }\n\n        if (encoding !== undefined) {\n            options.encodingType = encodings.hasOwnProperty(encoding) ? encodings[encoding] : encoding;\n        }\n\n        if ('quality' in args) {\n            options.quality = args.quality;\n        }\n\n        if ('width' in args) {\n            options.targetWidth = args.width;\n        }\n\n        if ('height' in args) {\n            options.targetHeight = args.height;\n        }\n\n        try {\n            navigator.camera.getPicture(onSuccess, onError, options);\n        }\n        catch (e) {\n            alert(e);\n        }\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.device.camera.Sencha', {\n\n    extend: 'Ext.device.camera.Abstract',\n\n    requires: [\n        'Ext.device.Communicator'\n    ],\n\n    capture: function(options) {\n        var sources = this.source,\n            destinations = this.destination,\n            encodings = this.encoding,\n            source = options.source,\n            destination = options.destination,\n            encoding = options.encoding;\n\n        if (sources.hasOwnProperty(source)) {\n            source = sources[source];\n        }\n\n        if (destinations.hasOwnProperty(destination)) {\n            destination = destinations[destination];\n        }\n\n        if (encodings.hasOwnProperty(encoding)) {\n            encoding = encodings[encoding];\n        }\n\n        Ext.device.Communicator.send({\n            command: 'Camera#capture',\n            callbacks: {\n                success: options.success,\n                failure: options.failure\n            },\n            scope: options.scope,\n            quality: options.quality,\n            width: options.width,\n            height: options.height,\n            source: source,\n            destination: destination,\n            encoding: encoding\n        });\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.device.camera.Simulator', {\n    extend: 'Ext.device.camera.Abstract',\n\n    config: {\n        samples: [\n            {\n                success: 'http://www.sencha.com/img/sencha-large.png'\n            }\n        ]\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    updateSamples: function(samples) {\n        this.sampleIndex = 0;\n    },\n\n    capture: function(options) {\n        var index = this.sampleIndex,\n            samples = this.getSamples(),\n            samplesCount = samples.length,\n            sample = samples[index],\n            scope = options.scope,\n            success = options.success,\n            failure = options.failure;\n\n        if ('success' in sample) {\n            if (success) {\n                success.call(scope, sample.success);\n            }\n        }\n        else {\n            if (failure) {\n                failure.call(scope, sample.failure);\n            }\n        }\n\n        if (++index > samplesCount - 1) {\n            index = 0;\n        }\n\n        this.sampleIndex = index;\n    }\n});\n\n/**\n * This class allows you to use native APIs to take photos using the device camera.\n *\n * When this singleton is instantiated, it will automatically select the correct implementation depending on the\n * current device:\n *\n * - Sencha Packager\n * - PhoneGap\n * - Simulator\n *\n * Both the Sencha Packager and PhoneGap implementations will use the native camera functionality to take or select\n * a photo. The Simulator implementation will simply return fake images.\n *\n * ## Example\n *\n * You can use the {@link Ext.device.Camera#capture} function to take a photo:\n *\n *     Ext.device.Camera.capture({\n *         success: function(image) {\n *             imageView.setSrc(image);\n *         },\n *         quality: 75,\n *         width: 200,\n *         height: 200,\n *         destination: 'data'\n *     });\n *\n * See the documentation for {@link Ext.device.Camera#capture} all available configurations.\n *\n * @mixins Ext.device.camera.Abstract\n *\n * @aside guide native_apis\n */\nExt.define('Ext.device.Camera', {\n    singleton: true,\n\n    requires: [\n        'Ext.device.Communicator',\n        'Ext.device.camera.PhoneGap',\n        'Ext.device.camera.Sencha',\n        'Ext.device.camera.Simulator'\n    ],\n\n    constructor: function() {\n        var browserEnv = Ext.browser.is;\n\n        if (browserEnv.WebView) {\n            if (browserEnv.PhoneGap) {\n                return Ext.create('Ext.device.camera.PhoneGap');\n            }\n            else {\n                return Ext.create('Ext.device.camera.Sencha');\n            }\n        }\n        else {\n            return Ext.create('Ext.device.camera.Simulator');\n        }\n    }\n});\n\n/**\n * @private\n*/\nExt.define('Ext.dataview.element.List', {\n    extend: 'Ext.dataview.element.Container',\n\n    updateBaseCls: function(newBaseCls) {\n        var me = this;\n\n        me.itemClsShortCache = newBaseCls + '-item';\n\n        me.headerClsShortCache = newBaseCls + '-header';\n        me.headerClsCache = '.' + me.headerClsShortCache;\n\n        me.headerItemClsShortCache = newBaseCls + '-header-item';\n\n        me.footerClsShortCache = newBaseCls + '-footer-item';\n        me.footerClsCache = '.' + me.footerClsShortCache;\n\n        me.labelClsShortCache = newBaseCls + '-item-label';\n        me.labelClsCache = '.' + me.labelClsShortCache;\n\n        me.disclosureClsShortCache = newBaseCls + '-disclosure';\n        me.disclosureClsCache = '.' + me.disclosureClsShortCache;\n\n        me.iconClsShortCache = newBaseCls + '-icon';\n        me.iconClsCache = '.' + me.iconClsShortCache;\n\n        this.callParent(arguments);\n    },\n\n    hiddenDisplayCache: Ext.baseCSSPrefix + 'hidden-display',\n\n    getItemElementConfig: function(index, data) {\n        var me = this,\n            dataview = me.dataview,\n            itemCls = dataview.getItemCls(),\n            cls = me.itemClsShortCache,\n            config, iconSrc;\n\n        if (itemCls) {\n            cls += ' ' + itemCls;\n        }\n\n        config = {\n            cls: cls,\n            children: [{\n                cls: me.labelClsShortCache,\n                html: dataview.getItemTpl().apply(data)\n            }]\n        };\n\n        if (dataview.getIcon()) {\n            iconSrc = data.iconSrc;\n            config.children.push({\n                cls: me.iconClsShortCache,\n                style: 'background-image: ' + iconSrc ? 'url(\"' + newSrc + '\")' : ''\n            });\n        }\n\n        if (dataview.getOnItemDisclosure()) {\n            config.children.push({\n                cls: me.disclosureClsShortCache + ' ' + ((data[dataview.getDisclosureProperty()] === false) ? me.hiddenDisplayCache : '')\n            });\n        }\n        return config;\n    },\n\n    updateListItem: function(record, item) {\n        var me = this,\n            dataview = me.dataview,\n            extItem = Ext.fly(item),\n            innerItem = extItem.down(me.labelClsCache, true),\n            data = dataview.prepareData(record.getData(true), dataview.getStore().indexOf(record), record),\n            disclosureProperty = dataview.getDisclosureProperty(),\n            hasDisclosureProperty = data && data.hasOwnProperty(disclosureProperty),\n            iconSrc = data && data.hasOwnProperty('iconSrc'),\n            disclosureEl, iconEl;\n\n        innerItem.innerHTML = dataview.getItemTpl().apply(data);\n\n        if (hasDisclosureProperty) {\n            disclosureEl = extItem.down(me.disclosureClsCache);\n            disclosureEl[data[disclosureProperty] === false ? 'removeCls' : 'addCls'](me.hiddenDisplayCache);\n        }\n\n        if (dataview.getIcon()) {\n            iconEl = extItem.down(me.iconClsCache, true);\n            iconEl.style.backgroundImage = iconSrc ? 'url(\"' + iconSrc + '\")' : '';\n        }\n    },\n\n    doRemoveHeaders: function() {\n        var me = this,\n            headerClsShortCache = me.headerItemClsShortCache,\n            existingHeaders = me.element.query(me.headerClsCache),\n            existingHeadersLn = existingHeaders.length,\n            i = 0,\n            item;\n\n        for (; i < existingHeadersLn; i++) {\n            item = existingHeaders[i];\n            Ext.fly(item.parentNode).removeCls(headerClsShortCache);\n            Ext.removeNode(item);\n        }\n    },\n\n    doRemoveFooterCls: function() {\n        var me = this,\n            footerClsShortCache = me.footerClsShortCache,\n            existingFooters = me.element.query(me.footerClsCache),\n            existingFootersLn = existingFooters.length,\n            i = 0;\n\n        for (; i < existingFootersLn; i++) {\n            Ext.fly(existingFooters[i]).removeCls(footerClsShortCache);\n        }\n    },\n\n    doAddHeader: function(item, html) {\n        item = Ext.fly(item);\n        if (html) {\n            item.insertFirst(Ext.Element.create({\n                cls: this.headerClsShortCache,\n                html: html\n            }));\n        }\n        item.addCls(this.headerItemClsShortCache);\n    },\n\n    destroy: function() {\n        this.doRemoveHeaders();\n        this.callParent();\n    }\n});\n\n/**\n * @docauthor Evan Trimboli <evan@sencha.com>\n * @aside guide stores\n *\n * Contains a collection of all stores that are created that have an identifier. An identifier can be assigned by\n * setting the {@link Ext.data.Store#storeId storeId} property. When a store is in the StoreManager, it can be\n * referred to via it's identifier:\n *\n *     Ext.create('Ext.data.Store', {\n *         model: 'SomeModel',\n *         storeId: 'myStore'\n *     });\n *\n *     var store = Ext.data.StoreManager.lookup('myStore');\n *\n * Also note that the {@link #lookup} method is aliased to {@link Ext#getStore} for convenience.\n *\n * If a store is registered with the StoreManager, you can also refer to the store by it's identifier when registering\n * it with any Component that consumes data from a store:\n *\n *     Ext.create('Ext.data.Store', {\n *         model: 'SomeModel',\n *         storeId: 'myStore'\n *     });\n *\n *     Ext.create('Ext.view.View', {\n *         store: 'myStore',\n *         // other configuration here\n *     });\n */\nExt.define('Ext.data.StoreManager', {\n    extend: 'Ext.util.Collection',\n    alternateClassName: ['Ext.StoreMgr', 'Ext.data.StoreMgr', 'Ext.StoreManager'],\n    singleton: true,\n    uses: ['Ext.data.ArrayStore'],\n\n    /**\n     * Registers one or more Stores with the StoreManager. You do not normally need to register stores manually. Any\n     * store initialized with a {@link Ext.data.Store#storeId} will be auto-registered.\n     * @param {Ext.data.Store...} stores Any number of Store instances\n     */\n    register : function() {\n        for (var i = 0, s; (s = arguments[i]); i++) {\n            this.add(s);\n        }\n    },\n\n    /**\n     * Unregisters one or more Stores with the StoreManager\n     * @param {String/Object...} stores Any number of Store instances or ID-s\n     */\n    unregister : function() {\n        for (var i = 0, s; (s = arguments[i]); i++) {\n            this.remove(this.lookup(s));\n        }\n    },\n\n    /**\n     * Gets a registered Store by id\n     * @param {String/Object} store The id of the Store, or a Store instance, or a store configuration\n     * @return {Ext.data.Store}\n     */\n    lookup : function(store) {\n        // handle the case when we are given an array or an array of arrays.\n        if (Ext.isArray(store)) {\n            var fields = ['field1'],\n                expand = !Ext.isArray(store[0]),\n                data = store,\n                i,\n                len;\n\n            if (expand) {\n                data = [];\n                for (i = 0, len = store.length; i < len; ++i) {\n                    data.push([store[i]]);\n                }\n            } else {\n                for(i = 2, len = store[0].length; i <= len; ++i){\n                    fields.push('field' + i);\n                }\n            }\n            return Ext.create('Ext.data.ArrayStore', {\n                data  : data,\n                fields: fields,\n                // See https://sencha.jira.com/browse/TOUCH-1541\n                autoDestroy: true,\n                autoCreated: true,\n                expanded: expand\n            });\n        }\n\n        if (Ext.isString(store)) {\n            // store id\n            return this.get(store);\n        } else {\n            // store instance or store config\n            if (store instanceof Ext.data.Store) {\n                return store;\n            } else {\n                return Ext.factory(store, Ext.data.Store, null, 'store');\n            }\n        }\n    },\n\n    // getKey implementation for MixedCollection\n    getKey : function(o) {\n         return o.getStoreId();\n    }\n}, function() {\n    /**\n     * Creates a new store for the given id and config, then registers it with the {@link Ext.data.StoreManager Store Mananger}.\n     * Sample usage:\n     *\n     *     Ext.regStore('AllUsers', {\n     *         model: 'User'\n     *     });\n     *\n     *     // the store can now easily be used throughout the application\n     *     new Ext.List({\n     *         store: 'AllUsers',\n     *         ... other config\n     *     });\n     *\n     * @param {String} id The id to set on the new store\n     * @param {Object} config The store config\n     * @member Ext\n     * @method regStore\n     */\n    Ext.regStore = function(name, config) {\n        var store;\n\n        if (Ext.isObject(name)) {\n            config = name;\n        } else {\n            if (config instanceof Ext.data.Store) {\n                config.setStoreId(name);\n            } else {\n                config.storeId = name;\n            }\n        }\n\n        if (config instanceof Ext.data.Store) {\n            store = config;\n        } else {\n            store = Ext.create('Ext.data.Store', config);\n        }\n\n        return Ext.data.StoreManager.register(store);\n    };\n\n    /**\n     * Shortcut to {@link Ext.data.StoreManager#lookup}.\n     * @member Ext\n     * @method getStore\n     * @alias Ext.data.StoreManager#lookup\n     */\n    Ext.getStore = function(name) {\n        return Ext.data.StoreManager.lookup(name);\n    };\n});\n\n/**\n * @aside guide forms\n *\n * Field is the base class for all form fields used in Sencha Touch. It provides a lot of shared functionality to all\n * field subclasses (for example labels, simple validation, {@link #clearIcon clearing} and tab index management), but\n * is rarely used directly. Instead, it is much more common to use one of the field subclasses:\n *\n *     xtype            Class\n *     ---------------------------------------\n *     textfield        {@link Ext.field.Text}\n *     numberfield      {@link Ext.field.Number}\n *     textareafield    {@link Ext.field.TextArea}\n *     hiddenfield      {@link Ext.field.Hidden}\n *     radiofield       {@link Ext.field.Radio}\n *     checkboxfield    {@link Ext.field.Checkbox}\n *     selectfield      {@link Ext.field.Select}\n *     togglefield      {@link Ext.field.Toggle}\n *     fieldset         {@link Ext.form.FieldSet}\n *\n * Fields are normally used within the context of a form and/or fieldset. See the {@link Ext.form.Panel FormPanel}\n * and {@link Ext.form.FieldSet FieldSet} docs for examples on how to put those together, or the list of links above\n * for usage of individual field types. If you wish to create your own Field subclasses you can extend this class,\n * though it is sometimes more useful to extend {@link Ext.field.Text} as this provides additional text entry\n * functionality.\n */\nExt.define('Ext.field.Field', {\n    extend: 'Ext.Decorator',\n    alternateClassName: 'Ext.form.Field',\n    xtype: 'field',\n    requires: [\n        'Ext.field.Input'\n    ],\n\n    /**\n     * Set to true on all Ext.field.Field subclasses. This is used by {@link Ext.form.Panel#getValues} to determine which\n     * components inside a form are fields.\n     * @property isField\n     * @type Boolean\n     */\n    isField: true,\n\n    // @private\n    isFormField: true,\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'field',\n\n        /**\n         * The label of this field\n         * @cfg {String} label\n         * @accessor\n         */\n        label: null,\n\n        /**\n         * @cfg {String} labelAlign The position to render the label relative to the field input.\n         * Available options are: 'top', 'left', 'bottom' and 'right'\n         * Defaults to 'left'\n         * @accessor\n         */\n        labelAlign: 'left',\n\n        /**\n         * @cfg {Number/String} labelWidth The width to make this field's label.\n         * @accessor\n         */\n        labelWidth: '30%',\n\n        /**\n         * @cfg {Boolean} labelWrap True to allow the label to wrap. If set to false, the label will be truncated with\n         * an ellipsis.\n         * @accessor\n         */\n        labelWrap: false,\n\n        /**\n         * @cfg {Boolean} clearIcon True to use a clear icon in this field\n         * @accessor\n         */\n        clearIcon: null,\n\n        /**\n         * @cfg {Boolean} required True to make this field required. Note: this only causes a visual indication.\n         * Doesn't prevent user from submitting the form.\n         * @accessor\n         */\n        required: false,\n\n        /**\n         * <p>The label Element associated with this Field. <b>Only available if a {@link #label} is specified.</b></p>\n<p>This has been deprecated.\n         * @type Ext.Element\n         * @property labelEl\n         * @deprecated 2.0\n         */\n\n        /**\n         * @cfg {String} inputType The type attribute for input fields -- e.g. radio, text, password, file (defaults\n         * to 'text'). The types 'file' and 'password' must be used to render those field types currently -- there are\n         * no separate Ext components for those.\n         * This is now deprecated. Please use 'input.type' instead.\n         * @deprecated 2.0\n         * @accessor\n         */\n        inputType: null,\n\n        /**\n         * @cfg {String} name The field's HTML name attribute.\n         * <b>Note</b>: this property must be set if this field is to be automatically included with\n         * {@link Ext.form.Panel#method-submit form submit()}.\n         * @accessor\n         */\n        name: null,\n\n        /**\n         * @cfg {Mixed} value A value to initialize this field with.\n         * @accessor\n         */\n        value: null,\n\n        /**\n         * @cfg {Number} tabIndex The tabIndex for this field. Note this only applies to fields that are rendered,\n         * not those which are built via applyTo.\n         * @accessor\n         */\n        tabIndex: null\n\n        /**\n         * @cfg {Object} component The inner component for this field.\n         */\n\n        /**\n         * @cfg {Boolean} fullscreen\n         * @hide\n         */\n    },\n\n    cachedConfig: {\n        /**\n         * @cfg {String} labelCls Optional CSS class to add to the Label element\n         * @accessor\n         */\n        labelCls: null,\n\n        /**\n         * @cfg {String} requiredCls The className to be applied to this Field when the {@link #required} configuration is set to true\n         * @accessor\n         */\n        requiredCls: Ext.baseCSSPrefix + 'field-required',\n\n        /**\n         * @cfg {String} inputCls CSS class to add to the input element of this fields {@link #component}\n         */\n        inputCls: null,\n\n        bubbleEvents: ['action']\n    },\n\n    /**\n     * @cfg {Boolean} isFocused\n     * True if this field is currently focused,\n     * @private\n     */\n\n    getElementConfig: function() {\n        var prefix = Ext.baseCSSPrefix;\n\n        return {\n            reference: 'element',\n            className: 'x-container',\n            children: [\n                {\n                    reference: 'label',\n                    cls: prefix + 'form-label',\n                    children: [{\n                        reference: 'labelspan',\n                        tag: 'span'\n                    }]\n                },\n                {\n                    reference: 'innerElement',\n                    cls: prefix + 'component-outer'\n                }\n            ]\n        };\n    },\n\n    // @private\n    updateLabel: function(newLabel, oldLabel) {\n        var renderElement = this.renderElement,\n            prefix = Ext.baseCSSPrefix;\n\n        if (newLabel) {\n            this.labelspan.setHtml(newLabel);\n            renderElement.addCls(prefix + 'field-labeled');\n        } else {\n            renderElement.removeCls(prefix + 'field-labeled');\n        }\n    },\n\n    // @private\n    updateLabelAlign: function(newLabelAlign, oldLabelAlign) {\n        var renderElement = this.renderElement,\n            prefix = Ext.baseCSSPrefix;\n\n        if (newLabelAlign) {\n            renderElement.addCls(prefix + 'label-align-' + newLabelAlign);\n\n            if (newLabelAlign == \"top\" || newLabelAlign == \"bottom\") {\n                this.label.setWidth('100%');\n            } else {\n                this.updateLabelWidth(this.getLabelWidth());\n            }\n        }\n\n        if (oldLabelAlign) {\n            renderElement.removeCls(prefix + 'label-align-' + oldLabelAlign);\n        }\n    },\n\n    // @private\n    updateLabelCls: function(newLabelCls, oldLabelCls) {\n        if (newLabelCls) {\n            this.label.addCls(newLabelCls);\n        }\n\n        if (oldLabelCls) {\n            this.label.removeCls(oldLabelCls);\n        }\n    },\n\n    // @private\n    updateLabelWidth: function(newLabelWidth) {\n        var labelAlign = this.getLabelAlign();\n\n        if (newLabelWidth) {\n            if (labelAlign == \"top\" || labelAlign == \"bottom\") {\n                this.label.setWidth('100%');\n            } else {\n                this.label.setWidth(newLabelWidth);\n            }\n        }\n    },\n\n    // @private\n    updateLabelWrap: function(newLabelWrap, oldLabelWrap) {\n        var cls = Ext.baseCSSPrefix + 'form-label-nowrap';\n\n        if (!newLabelWrap) {\n            this.addCls(cls);\n        } else {\n            this.removeCls(cls);\n        }\n    },\n\n    /**\n     * Updates the {@link #required} configuration\n     * @private\n     */\n    updateRequired: function(newRequired) {\n        this.renderElement[newRequired ? 'addCls' : 'removeCls'](this.getRequiredCls());\n    },\n\n    /**\n     * Updates the {@link #required} configuration\n     * @private\n     */\n    updateRequiredCls: function(newRequiredCls, oldRequiredCls) {\n        if (this.getRequired()) {\n            this.renderElement.replaceCls(oldRequiredCls, newRequiredCls);\n        }\n    },\n\n    // @private\n    initialize: function() {\n        var me = this;\n        me.callParent();\n\n        me.doInitValue();\n    },\n\n    /**\n     * @private\n     */\n    doInitValue: function() {\n        /**\n         * @property {Mixed} originalValue\n         * The original value of the field as configured in the {@link #value} configuration.\n         * setting is <code>true</code>.\n         */\n        this.originalValue = this.getInitialConfig().value;\n    },\n\n    /**\n     * Resets the current field value back to the original value on this field when it was created.\n     *\n     *     // This will create a field with an original value\n     *     var field = Ext.Viewport.add({\n     *         xtype: 'textfield',\n     *         value: 'first value'\n     *     });\n     *\n     *     // Update the value\n     *     field.setValue('new value');\n     *\n     *     // Now you can reset it back to the `first value`\n     *     field.reset();\n     *\n     * @return {Ext.field.Field} this\n     */\n    reset: function() {\n        this.setValue(this.originalValue);\n\n        return this;\n    },\n\n    /**\n     * <p>Returns true if the value of this Field has been changed from its {@link #originalValue}.\n     * Will return false if the field is disabled or has not been rendered yet.</p>\n     * @return {Boolean} True if this field has been changed from its original value (and\n     * is not disabled), false otherwise.\n     */\n    isDirty: function() {\n        return false;\n    }\n}, function() {\n    var prototype = this.prototype;\n\n    this.override({\n        constructor: function(config) {\n            config = config || {};\n\n            // helper method for deprecating a property\n            var deprecateProperty = function(property, obj, newProperty) {\n                if (config.hasOwnProperty(property)) {\n                    if (obj) {\n                        config[obj] = config[obj] || {};\n                        config[obj][(newProperty) ? newProperty : property] = config[obj][(newProperty) ? newProperty : property] || config[property];\n                    } else {\n                        config[newProperty] = config[property];\n                    }\n\n                    delete config[property];\n\n                    Ext.Logger.deprecate(\"'\" + property + \"' config is deprecated, use the '\" + ((obj) ? obj + \".\" : \"\") + ((newProperty) ? newProperty : property) + \"' config instead\", 2);\n                }\n            };\n\n			// See https://sencha.jira.com/browse/TOUCH-1184\n\n            /**\n             * @member Ext.field.Field\n             * @cfg {String} fieldCls CSS class to add to the field\n             * @deprecated 2.0.0 Deprecated, please use {@link #inputCls}\n             */\n            deprecateProperty('fieldCls', null, 'inputCls');\n\n            /**\n             * @member Ext.field.Field\n             * @cfg {String} fieldLabel The label for this Field\n             * @deprecated 2.0.0 Please use the {@link #label} configuration instead\n             */\n            deprecateProperty('fieldLabel', null, 'label');\n\n            /**\n             * @member Ext.field.Field\n             * @cfg {String} useClearIcon True to use a clear icon in this field\n             * @deprecated 2.0.0 Please use the {@link #clearIcon} configuration instead\n             */\n            deprecateProperty('useClearIcon', null, 'clearIcon');\n\n            if (config.hasOwnProperty('autoCreateField')) {\n                Ext.Logger.deprecate(\"'autoCreateField' config is deprecated. If you are subclassing Ext.field.Field and you do not want a Ext.field.Input, set the 'input' config to false.\", this);\n            }\n\n            this.callOverridden(arguments);\n        }\n    });\n\n    Ext.Object.defineProperty(prototype, 'fieldEl', {\n        get: function() {\n            Ext.Logger.deprecate(\"'fieldEl' is deprecated, please use getInput() to get an instance of Ext.field.Field instead\", this);\n\n            return this.getInput().input;\n        }\n    });\n\n    Ext.Object.defineProperty(prototype, 'labelEl', {\n        get: function() {\n            Ext.Logger.deprecate(\"'labelEl' is deprecated\", this);\n\n            return this.getLabel().element;\n        }\n    });\n});\n\n/**\n * @author Pavel Podlipensky - http://podlipensky.com\n * @class Ext.ux.starrating.View\n * <p>This is an extension for Ext.field.Field which works with Sencha Touch 2.\n * The Rating control provides an intuitive rating experience that allows users to select the number of stars (or other symbols) that represents their rating.</p>\n * <p>Sample Usage</p>\n * <pre><code>\n * 		new Ext.ux.starrating.View({\n * 			label : 'Rating',\n * 			itemsCount : 5,\n * 			itemCls : 'x-rating-star',\n * 			itemHoverCls : 'x-rating-star-hover'\n * 		})\n * 	</code></pre>\n *\n */\n//Ext.namespace('Ext.ux.touch');\n\n//Ext.define('Ext.ux.starrating.View', {\nExt.define('Ext.ux.starrating.StarRating', {\n    extend: 'Ext.field.Field',\n    xtype: 'starrating',\n\n	 /**\n     * @event change\n     * Fires just after user selected new value\n     * @param {Ext.ux.starrating.View} this This field\n     * @param {Mixed} newValue The new value\n     * @param {Mixed} oldValue The original value\n     */\n\n	config: {\n        /**\n        * @cfg {String} baseCls\n        * The base CSS class to apply to this components's element. This will also be prepended to\n        * other elements within this component. To add specific styling for sub-classes, use the {@link #cls} config.\n        * @accessor\n        */\n        baseCls: Ext.baseCSSPrefix + 'field x-rating-field',\n\n        /**\n        * @cfg {Number} minValue\n        * Minimum value which can be selected by user\n        */\n        minValue: -1,\n\n        /**\n        * @cfg {Number} defaultValue The default value for this field when no value has been set. It is also used when\n        *                            the value is set to `NaN`.\n        */\n        defaultValue: -1,\n\n        /**\n        * @cfg {Number} value\n        * Value represents index of far right selected star, i.e. if 4 stars selected value will be equal to 3\n        */\n        value: -1,\n\n        /**\n        * @cfg {String} clearCls\n        * Class to apply to the clear button\n        */\n        clearCls: 'x-rating-clear',\n\n        /**\n        * @cfg {Boolean} clearIcon\n        * Determine whether to show clear button\n        */\n        clearIcon: false,\n\n        /**\n        * @cfg {Number} itemsCount\n        * If @items collection is not specified, the it will generate it with total amount of items equal to @itemsCount\n        * NOTE: @itemCls and @itemHoverCl should be specified for proper items collection generation and control rendering.\n        */\n        itemsCount: 5,\n\n        /**\n        * @cfg {String} itemCls\n        * Class to apply to the item when it is not selected\n        */\n        itemCls: 'x-rating-star',\n\n        valueCls: 'x-rating-value',\n\n        /**\n        * @cfg {String} itemHoverCls\n        * Class to apply to the item when it is selected\n        */\n        itemHoverCls: 'x-rating-item-hover',\n\n        /**\n        * @cfg {Array} tooltips\n        * Message to display when star is selected (only message for the last selected star will be displayed)\n        */\n        tooltips: '', //TBD\n\n        disabled: false,\n\n        component: {\n            tpl: new Ext.XTemplate(\n                '<tpl for=\"items\">',\n				    '<div index=\"{[xindex - 1]}\" class=\"{parent.itemCls} x-rating-item\">',\n            //'{tooltip}', TBD\n				    '</div>',\n			    '</tpl>',\n			    '<tpl if=\"clearIcon\">',\n				    '<div class=\"{clearCls}\">',\n				    '</div>',\n			    '</tpl>',\n			{\n			    compile: true\n			}),\n            cls: 'x-rating-inner'\n        }\n    },\n\n    initialize: function () {\n\n        var me = this;\n        Ext.ux.starrating.StarRating.superclass.initialize.apply(me, arguments);\n\n        me.element.on({\n            scope: me,\n            touchstart: me.onTouchStart,\n            touchmove: me.onTouchMove,\n            preventDefault: true\n        });\n    },\n\n    updateComponent: function (newComponent, oldComponent) {\n        this.callParent(arguments);\n        if (oldComponent) {\n            //TODO: cleanup event subscriptions\n            //this.clearBtn\n        }\n        var innerElement = this.innerElement,\n            cls = this.getCls();\n\n        this.getComponent(); //why do we make this call?\n        var newConfig = Ext.applyIf({\n            items: new Array(this.getItemsCount() || 0)\n        }, this.config);\n        newComponent._tpl.overwrite(newComponent.element.dom, newConfig);\n        this.items = newComponent.element.select('.x-rating-item', newComponent.element.dom);\n        if (this.config.clearIcon) {\n            this.clearBtn = newComponent.element.down('.' + this.getClearCls());\n            this.clearBtn.on('tap', this.onClear, this);\n        }\n    },\n\n    /*\n    * Start assigning values (selecting stars) when user touched the control.\n    */\n    onTouchStart: function (e) {\n        if (this.clearBtn && e.target == this.clearBtn.dom) {\n            this.onClear();\n            return;\n        }\n        this.onTouchMove(e);\n    },\n\n    /*\n    * Calculate the position of thumb related to control's items and determine what value is selected\n    */\n    onTouchMove: function (e) {\n        if (this.getDisabled()) {\n            return;\n        }\n        var offset = this.innerElement.getXY();\n        var x = e.touches[0].pageX - offset[0];\n        if (!Ext.isDefined(this.diameter)) {\n            if (this.items.getCount()) {\n                var size = this.items.first().getSize();\n                this.diameter = Math.min(size.height, size.width);\n            }\n            else {\n                this.diameter = 0;\n            }\n        }\n        var targetIndex = Math.floor(x / this.diameter);\n        if (targetIndex > -1) {//TODO check if targetIndex is a number\n            this.setValue(targetIndex);\n        }\n    },\n\n    applyValue: function (value) {\n        value = parseFloat(value);\n        if (isNaN(value) || value === null) {\n            value = this.getDefaultValue();\n        }\n        //round the value to 1 decimal\n        value = Math.round(value * 10) / 10;\n\n        this._value = value;\n    },\n\n    /*\n    * Display value's representation in UI\n    * @param {Number} value - index of item to select to\n    */\n    displayValue: function (value) {\n        if (!this.rendered) {\n            //TODO: replace event with ST2.0 equivalent\n            this.on('painted', Ext.Function.bind(this.displayValue, this, [value]), this, { single: true });\n            return;\n        }\n        var items = this.items;\n        var count = items.getCount();\n        var itemCls = this.getItemCls();\n        var hoverCls = this.getItemHoverCls();\n        var valueCls = this.getValueCls();\n        var item = null;\n\n        for (var i = 0; i < count; i++) {\n            item = items.item(i);\n            item[i < value ? 'addCls' : 'removeCls'](hoverCls);\n            item[i < value ? 'removeCls' : 'addCls'](itemCls);\n            item['removeCls'](valueCls);\n        }\n\n        value = (value >= count ? (count - 1) : value);\n        value = ( value < 0 ? 0 : value);\n\n        item = items.item(value);\n        item['removeCls'](hoverCls);\n        item['removeCls'](itemCls);\n        item['addCls'](valueCls);\n    },\n\n    setValue: function (value) {\n        var currentValue = this._value;\n		value = parseFloat(value);\n        if (isNaN(value) || value === null) {\n            throw 'Argument exception: value argument is not a number.';\n        }\n        var minValue = this.getMinValue();\n        //auto-correct user's input\n        if (Ext.isNumber(minValue) && value < minValue) {\n            value = minValue;\n        }\n        var count = this.items ? this.items.getCount() : this.itemsCount;\n        if (this.items && value > this.items.getCount()) {\n            value = this.items.getCount() - 1;\n        }\n        this.callParent([value]);\n        this.displayValue(value);\n		this.fireEvent('change', this, value, currentValue);\n    },\n\n    reset: function () {\n        this.setValue(this.getDefaultValue());\n    },\n\n    onClear: function () {\n        if (!this.getDisabled()) {\n            this.setValue(this.getDefaultValue());\n        }\n    }\n}, function() {\n    /**\n     * @member Ext.ux.starrating.View\n     * @cfg {Boolean} showClear\n     * Determine whether to show clear button\n     * @deprecated 2.0.0 Please use {@link #clearIcon} instead\n     */\n    Ext.deprecateProperty(this, 'showClear', 'clearIcon', \"Ext.ux.starrating.View.showClear has been removed, use showClear instead\");\n\n    /**\n     * @member Ext.ux.starrating.View\n     * @cfg {Boolean} singleColorPerValue\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'singleColorPerValue', null, \"Ext.ux.starrating.View.singleColorPerValue has been removed\");\n\n	/**\n     * @member Ext.ux.starrating.View\n     * @cfg {Boolean} useClearIcon\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'useClearIcon', null, \"Ext.ux.starrating.View.useClearIcon has been removed\");\n});\n/**\n * @aside guide forms\n *\n * The checkbox field is an enhanced version of the native browser checkbox and is great for enabling your user to\n * choose one or more items from a set (for example choosing toppings for a pizza order). It works like any other\n * {@link Ext.field.Field field} and is usually found in the context of a form:\n *\n * ## Example\n *\n *     @example miniphone preview\n *     var form = Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'checkboxfield',\n *                 name : 'tomato',\n *                 label: 'Tomato',\n *                 value: 'tomato',\n *                 checked: true\n *             },\n *             {\n *                 xtype: 'checkboxfield',\n *                 name : 'salami',\n *                 label: 'Salami'\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 docked: 'bottom',\n *                 items: [\n *                     { xtype: 'spacer' },\n *                     {\n *                         text: 'getValues',\n *                         handler: function() {\n *                             var form = Ext.ComponentQuery.query('formpanel')[0],\n *                                 values = form.getValues();\n *\n *                             Ext.Msg.alert(null,\n *                                 \"Tomato: \" + ((values.tomato) ? \"yes\" : \"no\")\n *                                 + \"<br />Salami: \" + ((values.salami) ? \"yes\" : \"no\")\n *                             );\n *                         }\n *                     },\n *                     { xtype: 'spacer' }\n *                 ]\n *             }\n *         ]\n *     });\n *\n *\n * The form above contains two check boxes - one for Tomato, one for Salami. We configured the Tomato checkbox to be\n * checked immediately on load, and the Salami checkbox to be unchecked. We also specified an optional text\n * {@link #value} that will be sent when we submit the form. We can get this value using the Form's\n * {@link Ext.form.Panel#getValues getValues} function, or have it sent as part of the data that is sent when the\n * form is submitted:\n *\n *     form.getValues(); //contains a key called 'tomato' if the Tomato field is still checked\n *     form.submit(); //will send 'tomato' in the form submission data\n *\n */\nExt.define('Ext.field.Checkbox', {\n    extend: 'Ext.field.Field',\n    alternateClassName: 'Ext.form.Checkbox',\n\n    xtype: 'checkboxfield',\n    qsaLeftRe: /[\\[]/g,\n    qsaRightRe: /[\\]]/g,\n\n    isCheckbox: true,\n\n    /**\n     * @event check\n     * Fires when the checkbox is checked.\n     * @param {Ext.field.Checkbox} this This checkbox\n     * @param {Ext.EventObject} e This event object\n     */\n\n    /**\n     * @event uncheck\n     * Fires when the checkbox is unchecked.\n     * @param {Ext.field.Checkbox} this This checkbox\n     * @param {Ext.EventObject} e This event object\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'checkbox',\n\n        /**\n         * @cfg {String} value The string value to submit if the item is in a checked state.\n         * @accessor\n         */\n        value: '',\n\n        /**\n         * @cfg {Boolean} checked <tt>true</tt> if the checkbox should render initially checked\n         * @accessor\n         */\n        checked: false,\n\n        /**\n         * @cfg {Number} tabIndex\n         * @hide\n         */\n        tabIndex: -1,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        component: {\n            xtype   : 'input',\n            type    : 'checkbox',\n            useMask : true,\n            cls     : Ext.baseCSSPrefix + 'input-checkbox'\n        }\n    },\n\n    // @private\n    initialize: function() {\n        var me = this;\n\n        me.callParent();\n\n        me.getComponent().on({\n            scope: me,\n            order: 'before',\n            masktap: 'onMaskTap'\n        });\n    },\n\n    // @private\n    doInitValue: function() {\n        var me = this,\n            initialConfig = me.getInitialConfig();\n\n        // you can have a value or checked config, but checked get priority\n        if (initialConfig.hasOwnProperty('value')) {\n            me.originalState = initialConfig.value;\n        }\n\n        if (initialConfig.hasOwnProperty('checked')) {\n            me.originalState = initialConfig.checked;\n        }\n\n        me.callParent(arguments);\n    },\n\n    // @private\n    updateInputType: function(newInputType) {\n        var component = this.getComponent();\n        if (component) {\n            component.setType(newInputType);\n        }\n    },\n\n    // @private\n    updateName: function(newName) {\n        var component = this.getComponent();\n        if (component) {\n            component.setName(newName);\n        }\n    },\n\n    /**\n     * Returns the field checked value\n     * @return {Mixed} The field value\n     */\n    getChecked: function() {\n        // we need to get the latest value from the {@link #input} and then update the value\n        this._checked = this.getComponent().getChecked();\n        return this._checked;\n    },\n\n    /**\n     * Returns the submit value for the checkbox which can be used when submitting forms.\n     * @return {Boolean/String} value The value of {@link #value} or true, if {@link #checked}.\n     */\n    getSubmitValue: function() {\n        return (this.getChecked()) ? this._value || true : null;\n    },\n\n    setChecked: function(newChecked) {\n        this.updateChecked(newChecked);\n        this._checked = newChecked;\n    },\n\n    updateChecked: function(newChecked) {\n        this.getComponent().setChecked(newChecked);\n\n        // only call onChange (which fires events) if the component has been initialized\n        if (this.initialized) {\n            this.onChange();\n        }\n    },\n\n    // @private\n    onMaskTap: function(component, e) {\n        var me = this,\n            dom = component.input.dom;\n\n        if (me.getDisabled()) {\n            return false;\n        }\n\n        //we must manually update the input dom with the new checked value\n        dom.checked = !dom.checked;\n\n        me.onChange(e);\n\n        //return false so the mask does not disappear\n        return false;\n    },\n\n    /**\n     * Fires the `check` or `uncheck` event when the checked value of this component changes.\n     * @private\n     */\n    onChange: function(e) {\n        var me = this,\n            oldChecked = me._checked,\n            newChecked = me.getChecked();\n\n        // only fire the event when the value changes\n        if (oldChecked != newChecked) {\n            if (newChecked) {\n                me.fireEvent('check', me, e);\n            } else {\n                me.fireEvent('uncheck', me, e);\n            }\n        }\n    },\n\n    /**\n     * @method\n     * Method called when this {@link Ext.field.Checkbox} has been checked\n     */\n    doChecked: Ext.emptyFn,\n\n    /**\n     * @method\n     * Method called when this {@link Ext.field.Checkbox} has been unchecked\n     */\n    doUnChecked: Ext.emptyFn,\n\n    /**\n     * Returns the checked state of the checkbox.\n     * @return {Boolean} True if checked, else otherwise\n     */\n    isChecked: function() {\n        return this.getChecked();\n    },\n\n    /**\n     * Set the checked state of the checkbox to true\n     * @return {Ext.field.Checkbox} This checkbox\n     */\n    check: function() {\n        return this.setChecked(true);\n    },\n\n    /**\n     * Set the checked state of the checkbox to false\n     * @return {Ext.field.Checkbox} This checkbox\n     */\n    uncheck: function() {\n        return this.setChecked(false);\n    },\n\n    getSameGroupFields: function() {\n        var component = this.up('formpanel') || this.up('fieldset'),\n            name = this.getName(),\n            replaceLeft = this.qsaLeftRe,\n            replaceRight = this.qsaRightRe,\n            components = [],\n            elements, element, i, ln;\n\n        if (!component) {\n            Ext.Logger.warn('Ext.field.Radio components must always be descendants of an Ext.form.Panel or Ext.form.FieldSet.');\n            component = Ext.Viewport;\n        }\n\n        // This is to handle ComponentQuery's lack of handling [name=foo[bar]] properly\n        name = name.replace(replaceLeft, '\\\\[');\n        name = name.replace(replaceRight, '\\\\]');\n\n        elements = Ext.query('[name=' + name + ']', component.element.dom);\n        ln = elements.length;\n        for (i = 0; i < ln; i++) {\n            element = elements[i];\n            element = Ext.fly(element).up('.x-field-' + element.getAttribute('type'));\n            if (element && element.id) {\n                components.push(Ext.getCmp(element.id));\n            }\n        }\n        return components;\n    },\n\n    /**\n     * Returns an array of values from the checkboxes in the group that are checked,\n     * @return {Array}\n     */\n    getGroupValues: function() {\n        var values = [];\n\n        this.getSameGroupFields().forEach(function(field) {\n            if (field.getChecked()) {\n                values.push(field.getValue());\n            }\n        });\n\n        return values;\n    },\n\n    /**\n     * Set the status of all matched checkboxes in the same group to checked\n     * @param {Array} values An array of values\n     * @return {Ext.field.Checkbox} This checkbox\n     */\n    setGroupValues: function(values) {\n        this.getSameGroupFields().forEach(function(field) {\n            field.setChecked((values.indexOf(field.getValue()) !== -1));\n        });\n\n        return this;\n    },\n\n    /**\n     * Resets the status of all matched checkboxes in the same group to checked\n     * @return {Ext.field.Checkbox} This checkbox\n     */\n    resetGroupValues: function() {\n        this.getSameGroupFields().forEach(function(field) {\n            field.setChecked(field.originalState);\n        });\n\n        return this;\n    },\n\n    reset: function() {\n        this.setChecked(this.originalState);\n        return this;\n    }\n});\n\n/**\n * The Form panel presents a set of form fields and provides convenient ways to load and save data. Usually a form\n * panel just contains the set of fields you want to display, ordered inside the items configuration like this:\n *\n *     @example\n *     var form = Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'textfield',\n *                 name: 'name',\n *                 label: 'Name'\n *             },\n *             {\n *                 xtype: 'emailfield',\n *                 name: 'email',\n *                 label: 'Email'\n *             },\n *             {\n *                 xtype: 'passwordfield',\n *                 name: 'password',\n *                 label: 'Password'\n *             }\n *         ]\n *     });\n *\n * Here we just created a simple form panel which could be used as a registration form to sign up to your service. We\n * added a plain {@link Ext.field.Text text field} for the user's Name, an {@link Ext.field.Email email field} and\n * finally a {@link Ext.field.Password password field}. In each case we provided a {@link Ext.field.Field#name name}\n * config on the field so that we can identify it later on when we load and save data on the form.\n *\n * <h2>Loading data</h2>\n *\n * Using the form we created above, we can load data into it in a few different ways, the easiest is to use\n * {@link #setValues}:\n *\n *     form.setValues({\n *         name: 'Ed',\n *         email: 'ed@sencha.com',\n *         password: 'secret'\n *     });\n *\n * It's also easy to load {@link Ext.data.Model Model} instances into a form - let's say we have a User model and want\n * to load a particular instance into our form:\n *\n *     Ext.define('MyApp.model.User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['name', 'email', 'password']\n *         }\n *     });\n *\n *     var ed = Ext.create('MyApp.model.User', {\n *         name: 'Ed',\n *         email: 'ed@sencha.com',\n *         password: 'secret'\n *     });\n *\n *     form.setRecord(ed);\n *\n * <h2>Retrieving form data</h2>\n *\n * Getting data out of the form panel is simple and is usually achieve vai the {@link #getValues} method:\n *\n *     var values = form.getValues();\n *\n *     //values now looks like this:\n *     {\n *         name: 'Ed',\n *         email: 'ed@sencha.com',\n *         password: 'secret'\n *     }\n *\n * It's also possible to listen to the change events on individual fields to get more timely notification of changes\n * that the user is making. Here we expand on the example above with the User model, updating the model as soon as\n * any of the fields are changed:\n *\n *     var form = Ext.create('Ext.form.Panel', {\n *         listeners: {\n *             '> field': {\n *                 change: function(field, newValue, oldValue) {\n *                     ed.set(field.getName(), newValue);\n *                 }\n *             }\n *         },\n *         items: //as before\n *     });\n *\n * The above used a new capability of Touch 2.0, which enables you to specify listeners on child components of any\n * container. In this case, we attached a listener to the {@link Ext.field.Text#change change} event of each form\n * field that is a direct child of the form panel. Our listener gets the name of the field that fired the change event,\n * and updates our {@link Ext.data.Model Model} instance with the new value. For example, changing the email field\n * in the form will update the Model's email field.\n *\n * <h2>Submitting forms</h2>\n *\n * There are a few ways to submit form data. In our example above we have a Model instance that we have updated, giving\n * us the option to use the Model's {@link Ext.data.Model#save save} method to persist the changes back to our server,\n * without using a traditional form submission. Alternatively, we can send a normal browser form submit using the\n * {@link #method} method:\n *\n *     form.submit({\n *         url: 'url/to/submit/to',\n *         method: 'POST',\n *         success: function() {\n *             alert('form submitted successfully!');\n *         }\n *     });\n *\n * In this case we provided the url to submit the form to inside the submit call - alternatively you can just set the\n * {@link #url} configuration when you create the form. We can specify other parameters (see {@link #method} for a\n * full list), including callback functions for success and failure, which are called depending on whether or not the\n * form submission was successful. These functions are usually used to take some action in your app after your data\n * has been saved to the server side.\n *\n * @aside guide forms\n */\nExt.define('Ext.form.Panel', {\n    alternateClassName: 'Ext.form.FormPanel',\n    extend  : 'Ext.Panel',\n    xtype   : 'formpanel',\n    requires: ['Ext.XTemplate', 'Ext.field.Checkbox', 'Ext.Ajax'],\n\n    /**\n     * @event submit\n     * @preventable doSubmit\n     * Fires upon successful (Ajax-based) form submission\n     * @param {Ext.form.Panel} this This FormPanel\n     * @param {Object} result The result object as returned by the server\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event beforesubmit\n     * @preventable doBeforeSubmit\n     * Fires immediately preceding any Form submit action.\n     * Implementations may adjust submitted form values or options prior to execution.\n     * A return value of <tt>false</tt> from this listener will abort the submission\n     * attempt (regardless of standardSubmit configuration)\n     * @param {Ext.form.Panel} this This FormPanel\n     * @param {Object} values A hash collection of the qualified form values about to be submitted\n     * @param {Object} options Submission options hash (only available when standardSubmit is false)\n     */\n\n    /**\n     * @event exception\n     * Fires when either the Ajax HTTP request reports a failure OR the server returns a success:false\n     * response in the result payload.\n     * @param {Ext.form.Panel} this This FormPanel\n     * @param {Object} result Either a failed Ext.data.Connection request object or a failed (logical) server\n     * response payload.\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'form',\n\n        /**\n         * @cfg {Boolean} standardSubmit\n         * Wether or not we want to perform a standard form submit.\n         * @accessor\n         */\n        standardSubmit: false,\n\n        /**\n         * @cfg {String} url\n         * The default Url for submit actions\n         * @accessor\n         */\n        url: null,\n\n        /**\n         * @cfg {Object} baseParams\n         * Optional hash of params to be sent (when standardSubmit configuration is false) on every submit.\n         * @accessor\n         */\n        baseParams : null,\n\n        /**\n         * @cfg {Object} submitOnAction\n         * When this is set to true, the form will automatically submit itself whenever the 'action'\n         * event fires on a field in this form. The action event usually fires whenever you press\n         * go or enter inside a textfield.\n         * @accessor\n         */\n        submitOnAction: false,\n\n        /**\n         * @cfg {Ext.data.Model} record The model instance of this form. Can by dynamically set at any time\n         * @accessor\n         */\n        record: null,\n\n        /**\n         * @cfg {String} method\n         * The method which this form will be submitted. `post` or `get`.\n         */\n        method: 'post',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        scrollable: {\n            translationMethod: 'scrollposition'\n        }\n    },\n\n    getElementConfig: function() {\n        var config = this.callParent();\n        config.tag = \"form\";\n\n        return config;\n    },\n\n    // @private\n    initialize: function() {\n        var me = this;\n        me.callParent();\n\n        me.element.on({\n            submit: 'onSubmit',\n            scope : me\n        });\n    },\n\n    updateRecord: function(newRecord) {\n        var fields, values, name;\n\n        if (newRecord && (fields = newRecord.fields)) {\n            values = this.getValues();\n            for (name in values) {\n                if (values.hasOwnProperty(name) && fields.containsKey(name)) {\n                    newRecord.set(name, values[name]);\n                }\n            }\n        }\n        return this;\n    },\n\n    /**\n     * Loads matching fields from a model instance into this form\n     * @param {Ext.data.Model} instance The model instance\n     * @return {Ext.form.Panel} This form\n     */\n    setRecord: function(record) {\n        var me = this;\n\n        if (record && record.data) {\n            me.setValues(record.data);\n        }\n\n        me._record = record;\n\n        return this;\n    },\n\n    // @private\n    onSubmit: function(e) {\n        var me = this;\n        if (e && !me.getStandardSubmit()) {\n            e.stopEvent();\n        } else {\n            this.submit();\n        }\n    },\n\n    updateSubmitOnAction: function(newSubmitOnAction) {\n        if (newSubmitOnAction) {\n            this.on({\n                action: 'onFieldAction',\n                scope: this\n            });\n        } else {\n            this.un({\n                action: 'onFieldAction',\n                scope: this\n            });\n        }\n    },\n\n    // @private\n    onFieldAction: function(field) {\n        if (this.getSubmitOnAction()) {\n            field.blur();\n            this.submit();\n        }\n    },\n\n    /**\n     * Performs a Ajax-based submission of form values (if standardSubmit is false) or otherwise\n     * executes a standard HTML Form submit action.\n     *\n     * @param {Object} options\n     * The configuration when submiting this form.\n     *\n     * @param {String} options.url\n     * The url for the action (defaults to the form's {@link #url}).\n     *\n     * @param {String} options.method\n     * The form method to use (defaults to the form's {@link #method}, or POST if not defined).\n     *\n     * @param {String/Object} params\n     * The params to pass when submitting this form (defaults to this forms {@link #baseParams}).\n     * Parameters are encoded as standard HTTP parameters using {@link Ext#urlEncode}.\n     *\n     * @param {Object} headers\n     * Request headers to set for the action\n     *\n     * @param {Boolean} autoAbort\n     * `true` to abort any pending Ajax request prior to submission (defaults to false)\n     * **Note:** Has no effect when {@link #standardSubmit} is enabled.\n     *\n     * @param {Boolean} options.submitDisabled\n     * `true` to submit all fields regardless of disabled state (defaults to false).\n     * Note: Has no effect when {@link #standardSubmit} is enabled.\n     *\n     * @param {String/Object} waitMsg\n     * If specified, the value which is passed to the loading {@link #masked mask}. See {@link #masked} for\n     * more information.\n     *\n     * @param {Function} options.success\n     * The callback that will be invoked after a successful response. A response is successful if\n     * a response is received from the server and is a JSON object where the success property is set\n     * to true, {\"success\": true}\n     *\n     * The function is passed the following parameters:\n     *\n     * @param {Ext.form.Panel} options.success.form\n     * The form that requested the action\n     *\n     * @param {Ext.form.Panel} options.success.result\n     * The result object returned by the server as a result of the submit request.\n     *\n     * @param {Function} options.failure\n     * The callback that will be invoked after a failed transaction attempt.\n     *\n     * The function is passed the following parameters:\n     *\n     * @param {Ext.form.Panel} options.failure.form\n     * The {@link Ext.form.Panel} that requested the submit.\n     *\n     * @param {Ext.form.Panel} options.failure.result\n     * The failed response or result object returned by the server which performed the operation.\n     *\n     * @param {Object} options.scope\n     * The scope in which to call the callback functions (The this reference for the callback functions).=\n     *\n     * @return {Ext.data.Connection} The request object\n     */\n    submit: function(options) {\n        var me = this,\n            form = me.element.dom || {},\n            formValues;\n\n        options = Ext.apply({\n            url : me.getUrl() || form.action,\n            submit: false,\n            method : me.getMethod() || form.method || 'post',\n            autoAbort : false,\n            params : null,\n            waitMsg : null,\n            headers : null,\n            success : null,\n            failure : null\n        }, options || {});\n\n        formValues = me.getValues(me.getStandardSubmit() || !options.submitDisabled);\n\n        return me.fireAction('beforesubmit', [me, formValues, options], 'doBeforeSubmit');\n    },\n\n    doBeforeSubmit: function(me, formValues, options) {\n        var form = me.element.dom || {};\n\n        if (me.getStandardSubmit()) {\n            if (options.url && Ext.isEmpty(form.action)) {\n                form.action = options.url;\n            }\n\n            // Spinner fields must have their components enabled *before* submitting or else the value\n            // will not be posted.\n            var fields = this.query('spinnerfield'),\n                ln = fields.length,\n                i, field;\n\n            for (i = 0; i < ln; i++) {\n                field = fields[i];\n                if (!field.getDisabled()) {\n                    field.getComponent().setDisabled(false);\n                }\n            }\n\n            form.method = (options.method || form.method).toLowerCase();\n            form.submit();\n        }\n        else {\n            if (options.waitMsg) {\n                me.setMasked(options.waitMsg);\n            }\n\n            return Ext.Ajax.request({\n                url: options.url,\n                method: options.method,\n                rawData: Ext.urlEncode(Ext.apply(\n                    Ext.apply({}, me.getBaseParams() || {}),\n                    options.params || {},\n                    formValues\n                )),\n                autoAbort: options.autoAbort,\n                headers: Ext.apply(\n                    {'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'},\n                    options.headers || {}\n                ),\n                scope: me,\n                callback: function(callbackOptions, success, response) {\n                    var me = this,\n                        responseText = response.responseText,\n                        failureFn;\n\n                    me.setMasked(false);\n\n                    failureFn = function() {\n                        if (Ext.isFunction(options.failure)) {\n                            options.failure.call(options.scope || me, me, response, responseText);\n                        }\n                        me.fireEvent('exception', me, response);\n                    };\n\n                    if (success) {\n                        response = Ext.decode(responseText);\n                        success = !!response.success;\n                        if (success) {\n                            if (Ext.isFunction(options.success)) {\n                                options.success.call(options.scope || me, me, response, responseText);\n                            }\n                            me.fireEvent('submit', me, response);\n                        } else {\n                            failureFn();\n                        }\n                    }\n                    else {\n                        failureFn();\n                    }\n                }\n            });\n        }\n    },\n\n    /**\n     * Sets the values of form fields in bulk. Example usage:\n     *\n     *     myForm.setValues({\n     *         name: 'Ed',\n     *         crazy: true,\n     *         username: 'edspencer'\n     *     });\n     *\n     * If there groups of checkbox fields with the same name, pass their values in an array. For example:\n     *\n     *     myForm.setValues({\n     *         name: 'Jacky',\n     *         crazy: false,\n     *         hobbies: [\n     *             'reading',\n     *             'cooking',\n     *             'gaming'\n     *         ]\n     *     });\n     *\n     * @param {Object} values field name => value mapping object\n     * @return {Ext.form.Panel} This form\n     */\n    setValues: function(values) {\n        var fields = this.getFields(),\n            name, field, value, ln, i, f;\n\n        values = values || {};\n\n        for (name in values) {\n            if (values.hasOwnProperty(name)) {\n                field = fields[name];\n                value = values[name];\n\n                if (field) {\n                    // If there are multiple fields with the same name. Checkboxes, radio fields and maybe event just normal fields..\n                    if (Ext.isArray(field)) {\n                        ln = field.length;\n\n                        // Loop through each of the fields\n                        for (i = 0; i < ln; i++) {\n                            f = field[i];\n\n                            if (f.isRadio) {\n                                // If it is a radio field just use setGroupValue which will handle all of the radio fields\n                                f.setGroupValue(value);\n                            } else if (f.isCheckbox) {\n                                if (Ext.isArray(value)) {\n                                   f.setChecked((value.indexOf(f._value) != -1));\n                               } else {\n                                   f.setChecked((value == f._value));\n                               }\n                            } else {\n                                // If it is a bunch of fields with the same name, check if the value is also an array, so we can map it\n                                // to each field\n                                if (Ext.isArray(value)) {\n                                    f.setValue(value[i]);\n                                }\n                            }\n                        }\n                    } else {\n                        if (field.isRadio || field.isCheckbox) {\n                            // If the field is a radio or a checkbox\n                            field.setChecked(value);\n                        } else {\n                            // If just a normal field\n                            field.setValue(value);\n                        }\n                    }\n                }\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * Returns an object containing the value of each field in the form, keyed to the field's name.\n     * For groups of checkbox fields with the same name, it will be arrays of values. For example:\n     *\n     *     {\n     *         name: \"Jacky Nguyen\", // From a TextField\n     *         favorites: [\n     *             'pizza',\n     *             'noodle',\n     *             'cake'\n     *         ]\n     *     }\n     *\n     * @param {Boolean} enabled <tt>true</tt> to return only enabled fields\n     * @return {Object} Object mapping field name to its value\n     */\n    getValues: function(enabled) {\n        var fields = this.getFields(),\n            values = {},\n            isArray = Ext.isArray,\n            field, value, addValue, bucket, name, ln, i;\n\n        // Function which you give a field and a name, and it will add it into the values\n        // object accordingly\n        addValue = function(field, name) {\n            if (field.isCheckbox) {\n                value = field.getSubmitValue();\n            } else {\n                value = field.getValue();\n            }\n\n\n            if (!(enabled && field.getDisabled())) {\n                // RadioField is a special case where the value returned is the fields valUE\n                // ONLY if it is checked\n                if (field.isRadio) {\n                    if (field.isChecked()) {\n                        values[name] = value;\n                    }\n                } else {\n                    // Check if the value already exists\n                    bucket = values[name];\n                    if (bucket) {\n                        // if it does and it isn't an array, we need to make it into an array\n                        // so we can push more\n                        if (!isArray(bucket)) {\n                            bucket = values[name] = [bucket];\n                        }\n\n                        // Check if it is an array\n                        if (isArray(bucket)) {\n                            // Concat it into the other values\n                            bucket = values[name] = bucket.concat(value);\n                        } else {\n                            // If it isn't an array, just pushed more values\n                            bucket.push(value);\n                        }\n                    } else {\n                        values[name] = value;\n                    }\n                }\n            }\n        };\n\n        // Loop through each of the fields, and add the values for those fields.\n        for (name in fields) {\n            if (fields.hasOwnProperty(name)) {\n                field = fields[name];\n\n                if (isArray(field)) {\n                    ln = field.length;\n                    for (i = 0; i < ln; i++) {\n                        addValue(field[i], name);\n                    }\n                } else {\n                    addValue(field, name);\n                }\n            }\n        }\n\n        return values;\n    },\n\n    /**\n     * Resets all fields in the form back to their original values\n     * @return {Ext.form.Panel} This form\n     */\n    reset: function() {\n        this.getFieldsAsArray().forEach(function(field) {\n            field.reset();\n        });\n\n        return this;\n    },\n\n    /**\n     * A convenient method to enable all fields in this forms\n     * @return {Ext.form.Panel} This form\n     */\n    enable: function() {\n        this.getFieldsAsArray().forEach(function(field) {\n            field.enable();\n        });\n\n        return this;\n    },\n\n    /**\n     * A convenient method to disable all fields in this forms\n     * @return {Ext.form.Panel} This form\n     */\n    disable: function() {\n        this.getFieldsAsArray().forEach(function(field) {\n            field.disable();\n        });\n\n        return this;\n    },\n\n    /**\n     * @private\n     */\n    getFieldsAsArray: function() {\n        var fields = [],\n            getFieldsFrom = function(item) {\n                if (item.isField) {\n                    fields.push(item);\n                }\n\n                if (item.isContainer) {\n                    item.getItems().each(getFieldsFrom);\n                }\n            };\n\n        this.getItems().each(getFieldsFrom);\n\n        return fields;\n    },\n\n    /**\n     * @private\n     * Returns all {@link Ext.field.Field field} instances inside this form\n     * @param byName return only fields that match the given name, otherwise return all fields.\n     * @return {Object/Array} All field instances, mapped by field name; or an array if byName is passed\n     */\n    getFields: function(byName) {\n        var fields = {},\n            itemName;\n\n        var getFieldsFrom = function(item) {\n            if (item.isField) {\n                itemName = item.getName();\n\n                if ((byName && itemName == byName) || typeof byName == 'undefined') {\n                    if (fields.hasOwnProperty(itemName)) {\n                        if (!Ext.isArray(fields[itemName])) {\n                            fields[itemName] = [fields[itemName]];\n                        }\n\n                        fields[itemName].push(item);\n                    } else {\n                        fields[itemName] = item;\n                    }\n                }\n\n            }\n\n            if (item.isContainer) {\n                item.items.each(getFieldsFrom);\n            }\n        };\n\n        this.getItems().each(getFieldsFrom);\n\n        return (byName) ? (fields[byName] || []) : fields;\n    },\n\n    /**\n     * Returns an array of fields in this formpanel\n     * @return {Ext.field.Field[]} An array of fields in this form panel\n     * @private\n     */\n    getFieldsArray: function() {\n        var fields = [];\n\n        var getFieldsFrom = function(item) {\n            if (item.isField) {\n                fields.push(item);\n            }\n\n            if (item.isContainer) {\n                item.items.each(getFieldsFrom);\n            }\n        };\n\n        this.items.each(getFieldsFrom);\n\n        return fields;\n    },\n\n    getFieldsFromItem: Ext.emptyFn,\n\n    /**\n     * Shows a generic/custom mask over a designated Element.\n     * @param {String/Object} cfg Either a string message or a configuration object supporting\n     * the following options:\n     *\n     *     {\n     *         message : 'Please Wait',\n     *         cls : 'form-mask'\n     *     }\n     *\n     * @return {Ext.form.Panel} This form\n     * @deprecated 2.0.0 Please use {@link #setMasked} instead.\n     */\n    showMask: function(cfg, target) {\n        Ext.Logger.warn('showMask is now deprecated. Please use Ext.form.Panel#setMasked instead');\n\n        cfg = Ext.isObject(cfg) ? cfg.message : cfg;\n\n        if (cfg) {\n            this.setMasked({\n                xtype: 'loadmask',\n                message: cfg\n            });\n        } else {\n            this.setMasked(true);\n        }\n\n        return this;\n    },\n\n    /**\n     * Hides a previously shown wait mask (See {@link #showMask})\n     * @return {Ext.form.Panel} this\n     * @deprecated 2.0.0 Please use {@link #unmask} or {@link #setMasked} instead.\n     */\n    hideMask: function() {\n        this.setMasked(false);\n        return this;\n    },\n\n    /**\n     * Returns the currently focused field\n     * @return {Ext.field.Field} The currently focused field, if one is focused or `null`.\n     * @private\n     */\n    getFocusedField: function() {\n        var fields = this.getFieldsArray(),\n            ln = fields.length,\n            field, i;\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            if (field.isFocused) {\n                return field;\n            }\n        }\n\n        return null;\n    },\n\n    /**\n     * @private\n     * @return {Boolean/Ext.field.Field} The next field if one exists, or false\n     * @private\n     */\n    getNextField: function() {\n        var fields = this.getFieldsArray(),\n            focusedField = this.getFocusedField(),\n            index;\n\n        if (focusedField) {\n            index = fields.indexOf(focusedField);\n\n            if (index !== fields.length - 1) {\n                index++;\n                return fields[index];\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Tries to focus the next field in the form, if there is currently a focused field.\n     * @return {Boolean/Ext.field.Field} The next field that was focused, or false\n     * @private\n     */\n    focusNextField: function() {\n        var field = this.getNextField();\n        if (field) {\n            field.focus();\n            return field;\n        }\n\n        return false;\n    },\n\n    /**\n     * @private\n     * @return {Boolean/Ext.field.Field} The next field if one exists, or false\n     */\n    getPreviousField: function() {\n        var fields = this.getFieldsArray(),\n            focusedField = this.getFocusedField(),\n            index;\n\n        if (focusedField) {\n            index = fields.indexOf(focusedField);\n\n            if (index !== 0) {\n                index--;\n                return fields[index];\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Tries to focus the previous field in the form, if there is currently a focused field.\n     * @return {Boolean/Ext.field.Field} The previous field that was focused, or false\n     * @private\n     */\n    focusPreviousField: function() {\n        var field = this.getPreviousField();\n        if (field) {\n            field.focus();\n            return field;\n        }\n\n        return false;\n    }\n}, function() {\n\n    Ext.deprecateClassMethod(this, {\n        /**\n         * @method\n         * @inheritdoc Ext.form.Panel#setRecord\n         * @deprecated 2.0.0 Please use #setRecord instead.\n         */\n        loadRecord: 'setRecord',\n        /**\n         * @method\n         * @inheritdoc Ext.form.Panel#setRecord\n         * @deprecated 2.0.0 Please use #setRecord instead.\n         */\n        loadModel: 'setRecord',\n        /**\n         * @method\n         * @inheritdoc Ext.form.Panel#setRecord\n         * @deprecated 2.0.0 Please use #setRecord instead.\n         */\n        load: 'setRecord'\n    });\n\n    this.override({\n        constructor: function(config) {\n            /**\n             * @cfg {Ext.XTemplate/String/String[]} waitTpl\n             * The defined waitMsg template.  Used for precise control over the masking agent used\n             * to mask the FormPanel (or other Element) during form Ajax/submission actions. For more options, see\n             * {@link #showMask} method.\n             * @removed 2.0.0 Please use a custom {@link Ext.LoadMask} class and the {@link #masked} configuration\n             * when {@link #method submitting} your form.\n             */\n\n            /**\n             * @cfg {Ext.dom.Element} waitMsgTarget The target of any mask shown on this form.\n             * @removed 2.0.0 There is no need to set a mask target anymore. Please see the {@link #masked} configuration instead.\n             */\n            if (config && config.hasOwnProperty('waitMsgTarget')) {\n                delete config.waitMsgTarget;\n            }\n\n            this.callParent([config]);\n        }\n    });\n});\n\nExt.define('B2B.view._Login', {\n	extend: 'Ext.form.Panel',\n	id: '_login',\n	xtype: '_login',\n	config: {\n		iconCls: 'settings6',\n		url: 'http://192.168.1.161',\n		styleHtmlContent: true,\n		html:'Cannot login? <a href=\"#\">Send me my credentials via email!</a>',\n		items: [\n			{\n				xtype: 'fieldset',\n				margin: '50px auto',\n				id: '_loginfieldset',\n				items:[\n					{\n						xtype: 'hiddenfield',\n						name: 'dateRequest',\n						value: new Date()\n					},\n					{\n						xtype: 'textfield',\n						id: 'loginform_username',\n						name: 'username',\n						placeHolder: i18n.app.PLACEHOLDER_USERNAME,\n						listeners: {\n		                    keyup: function(fld, e){\n		                        if (e.browserEvent.keyCode == 13 || e.browserEvent.keyCode == 10) {\n		                            e.stopEvent();\n		                            fld.element.dom.blur();\n		                            window.scrollTo(0,0);\n		                        }\n		                    }\n		                }\n					},\n					{\n						xtype: 'passwordfield',\n						id: 'loginform_password',\n						name: 'password',\n						placeHolder: i18n.app.PLACEHOLDER_PASSWORD,\n						listeners: {\n		                    keyup: function(fld, e){\n		                        if (e.browserEvent.keyCode == 13 || e.browserEvent.keyCode == 10) {\n		                            e.stopEvent();\n		                            fld.element.dom.blur();\n		                            window.scrollTo(0,0);\n		                        }\n		                    }\n		                }\n					}\n				]\n			}\n		],\n		listeners : {           \n            element : 'element',\n            delegate : 'a',\n            tap : function(e, t) {\n          		console.log(\"TEST\");\n          		/* TODO: sta cosa non funziona */\n          		e.preventDefault();\n          		e.stopPropagation();\n     		}\n     	}\n	},\n	initialize: function(){\n        this.callParent(arguments);\n        \n		var button_Login = {\n			xtype: 'button',\n			id: 'BTN_login',\n            width: 150,\n            text: 'Log In',\n            margin: '15px auto',\n            ui: 'action',\n            text: utils.__(i18n.app.BTN_LOGIN),\n			handler: this.onLoginButtonTap\n		}\n\n        Ext.getCmp('_loginfieldset').add([ button_Login]);\n    },\n    \n    onLoginButtonTap: function(){\n        this.fireEvent(\"loginCommand\", this);\n    }\n    \n});\nExt.define('B2B.view.Feedback_Form', {\n	extend: 'Ext.form.Panel',\n	xtype: 'feedbackform',\n	id: 'feedbackform',\n\n	initialize: function(){\n		this.callParent(arguments);\n\n		var components = [\n			{\n				xtype: \"textareafield\",\n				id: 'textAreaComment',\n				src: '',\n				flex: 1\n			},\n			{\n				xtype: \"button\",\n				text: i18n.app.BTN_SEND,\n				ui: 'action',\n				id: 'sendcomment_btn',\n				handler: this.onSendButtonTap,\n				scope: this,\n				height: 50\n			}\n		];\n\n		this.add(components);\n	},\n	onSendButtonTap: function(){\n		this.fireEvent(\"sendCommentCommand\", this);\n	}\n});\nExt.define('B2B.view.User_Privacy_Form', {\n	extend: 'Ext.form.Panel',\n	id: 'userprofileprivacyform',\n	xtype: 'userprofileprivacyform',\n	config: {\n		title: i18n.app.PANEL_PRIVACY,\n		iconCls: 'settings6',\n		url: '/cippa.php'\n	},\n	initialize: function(){\n        this.callParent(arguments);\n\n        var cancelButton = {\n			text: i18n.app.BTN_CANCEL,\n			ui: 'action',\n			id: 'cancel_privacy_btn',\n			handler: this.onCancelButtonTap,\n			scope: this\n		},\n        toolbar = {\n            xtype: 'titlebar',\n            title: i18n.app.PANEL_PRIVACY,\n            cls: \"sub_titlebar\",\n            docked: 'top',\n            id: 'PrivacyTitlebar',\n            ui: 'neutral',\n            defaults: {\n                iconMask: true\n            },\n            items: [\n            	cancelButton\n            ]\n        },\n        fieldset_RemoveData = {\n			xtype: 'fieldset',\n			title: utils.__(i18n.app.FORM_PRIVACY),\n			instructions: utils.__(i18n.app.HINT_CAREFULLY),\n			items: [\n				{\n					xtype: 'panel',\n					layout: 'vbox',\n					items: [\n						{\n							xtype: 'button',\n							id: 'BTN_removeData',\n							text: utils.__(i18n.app.BTN_REMOVEPERSONAL),\n							ui: 'decline-small',\n							handler: this.onRemoveDataButtonTap\n						}\n					]\n				}\n			]\n		},\n		button_Logout = {\n			xtype: 'button',\n			id: 'BTN_logOut',\n			text: utils.__(i18n.app.BTN_LOGOUT),\n			ui: 'decline',\n			handler: this.onLogoutButtonTap\n		};\n\n        this.add([toolbar, fieldset_RemoveData, button_Logout]);\n    },\n    onRemoveDataButtonTap: function(){\n        this.fireEvent(\"privacyRemoveDataCommand\", this);\n    },\n    onLogoutButtonTap: function(){\n        this.fireEvent(\"privacyLogoutCommand\", this);\n    },\n    onCancelButtonTap: function(){\n    	this.fireEvent(\"cancelCommand\", this);\n    }\n});\nExt.define('B2B.view.View_Terms', {\n	extend: 'Ext.form.Panel',\n	xtype: 'viewterms',\n	config: {\n		title: i18n.app.PANEL_TERMS,\n		iconCls: 'settings6',\n		styleHtmlContent: true,\n		cls: 'slidableToolbar',\n		html: [\n			'<h1>Terms of Service</h1>',\n			i18n.app.TEXT_LOREM,\n		].join(\"\")\n	},\n	initialize: function(){\n        \n        this.callParent(arguments);\n\n        var toolbar = {\n            xtype: 'toolbar',\n            title: i18n.app.LABEL_TERMS,\n            cls: \"sub_titlebar, slidableToolbar\",\n            docked: 'top',\n            id: 'DisclaimerTitlebar',\n            defaults: {\n                iconMask: true\n            }\n        };\n\n        this.add([toolbar]);\n    }\n});\nExt.define('B2B.view.View_Whatsnew', {\n	extend: 'Ext.form.Panel',\n	xtype: 'viewwhatsnew',\n	config: {\n		title: i18n.app.PANEL_WHATSNEW,\n		iconCls: 'settings6',\n		styleHtmlContent: true,\n        cls: 'slidableToolbar',\n\n		html: [\n			'<h1>Whats New</h1>',\n			i18n.app.TEXT_LOREM,\n		].join(\"\")\n	},\n	initialize: function(){\n        \n        this.callParent(arguments);\n\n        var toolbar = {\n            xtype: 'toolbar',\n            title: i18n.app.LABEL_WHATSNEW,\n            cls: \"sub_titlebar, slidableToolbar\",\n            docked: 'top',\n            id: 'WhatsnewTitlebar',\n            defaults: {\n                iconMask: true\n            }\n        };\n\n        this.add([toolbar]);\n    }\n});\nExt.define('B2B.view.View_AboutUs', {\n	extend: 'Ext.form.Panel',\n	xtype: 'viewaboutus',\n	config: {\n		title: i18n.app.PANEL_TERMS,\n		iconCls: 'settings6',\n		styleHtmlContent: true,\n		cls: 'slidableToolbar',\n		html: [\n			'<h1>About Us</h1>',\n			i18n.app.TEXT_LOREM\n		].join(\"\")\n	},\n	initialize: function(){\n        \n        this.callParent(arguments);\n\n        var toolbar = {\n            xtype: 'toolbar',\n            title: i18n.app.LABEL_ABOUTUS,\n            cls: \"sub_titlebar, slidableToolbar\",\n            docked: 'top',\n            id: 'AboutusTitlebar',\n            defaults: {\n                iconMask: true\n            }\n        };\n\n        this.add([toolbar]);\n    }\n});\nExt.define('B2B.view.Badge_Detail', {\n	extend: 'Ext.form.Panel',\n	id: 'badgedetailpanel',\n	xtype: 'badgedetailpanel',\n	config: {\n		title: i18n.app.PANEL_BADGEDETAIL,\n		items: [\n		],\n		html: [\n			'<h1>Badge Detail</h1>',\n			'I changed the default <b>HTML Contents</b> to something different!'\n		].join(\"\")\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var backButton = {\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'BackBadgeDetailBtn',\n			handler: this.onBackButtonTap,\n			scope: this\n		},\n		title = this.jsonData.title,\n		toolbar = {\n			xtype: 'toolbar',\n			docked: 'top',\n			cls: 'sub_titlebar',\n			title: (_.isEmpty(title) ? i18n.app.PANEL_BADGEDETAIL : title),\n			id: 'BadgeDetailTitlebar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				backButton,\n				{ xtype: 'spacer' }\n			]\n		},\n		html = this.getStringHTMLFromValues(this.jsonData);\n\n		this.add([toolbar]);\n		this.setHtml(html);\n	},\n	getStringHTMLFromValues: function(badge){\n		var value = '';\n\n		value += '<div class=\"badge-detail\">';\n		value += '<img class=\"badge-image-big\" src=\"';\n		if (_.isEmpty(badge.imageUlr)) {\n			value += HH.default_badge64;\n		} else {\n			value += badge.imageUrl;\n		}\n		value += '\" width=\"200\" height=\"200\" />';\n		value += '<hr />';\n		value += '<p class=\"badge-title\"><b>' + badge.title + '</b></p>';\n		value += '<p class=\"badge-description\">' + badge.description + '</p>';\n		value += '</div>';\n		return value;\n	},\n	onBackButtonTap: function() {\n		this.fireEvent(\"backBadgesCommand\", this);\n	}\n});\n/**\n * @aside guide forms\n *\n * The text field is the basis for most of the input fields in Sencha Touch. It provides a baseline of shared\n * functionality such as input validation, standard events, state management and look and feel. Typically we create\n * text fields inside a form, like this:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'Enter your name',\n *                 items: [\n *                     {\n *                         xtype: 'textfield',\n *                         label: 'First Name',\n *                         name: 'firstName'\n *                     },\n *                     {\n *                         xtype: 'textfield',\n *                         label: 'Last Name',\n *                         name: 'lastName'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * This creates two text fields inside a form. Text Fields can also be created outside of a Form, like this:\n *\n *     Ext.create('Ext.field.Text', {\n *         label: 'Your Name',\n *         value: 'Ed Spencer'\n *     });\n *\n * ## Configuring\n *\n * Text field offers several configuration options, including {@link #placeHolder}, {@link #maxLength},\n * {@link #autoComplete}, {@link #autoCapitalize} and {@link #autoCorrect}. For example, here is how we would configure\n * a text field to have a maximum length of 10 characters, with placeholder text that disappears when the field is\n * focused:\n *\n *     Ext.create('Ext.field.Text', {\n *         label: 'Username',\n *         maxLength: 10,\n *         placeHolder: 'Enter your username'\n *     });\n *\n * The autoComplete, autoCapitalize and autoCorrect configs simply set those attributes on the text field and allow the\n * native browser to provide those capabilities. For example, to enable auto complete and auto correct, simply\n * configure your text field like this:\n *\n *     Ext.create('Ext.field.Text', {\n *         label: 'Username',\n *         autoComplete: true,\n *         autoCorrect: true\n *     });\n *\n * These configurations will be picked up by the native browser, which will enable the options at the OS level.\n *\n * Text field inherits from {@link Ext.field.Field}, which is the base class for all fields in Sencha Touch and provides\n * a lot of shared functionality for all fields, including setting values, clearing and basic validation. See the\n * {@link Ext.field.Field} documentation to see how to leverage its capabilities.\n */\nExt.define('Ext.field.Text', {\n    extend: 'Ext.field.Field',\n    xtype: 'textfield',\n    alternateClassName: 'Ext.form.Text',\n\n    /**\n     * @event focus\n     * Fires when this field receives input focus\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event blur\n     * Fires when this field loses input focus\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event paste\n     * Fires when this field is pasted.\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event mousedown\n     * Fires when this field receives a mousedown\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event keyup\n     * @preventable doKeyUp\n     * Fires when a key is released on the input element\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event clearicontap\n     * @preventable doClearIconTap\n     * Fires when the clear icon is tapped\n     * @param {Ext.field.Text} this This field\n     * @param {Ext.event.Event} e\n     */\n\n    /**\n     * @event change\n     * Fires just before the field blurs if the field value has changed\n     * @param {Ext.field.Text} this This field\n     * @param {Mixed} newValue The new value\n     * @param {Mixed} oldValue The original value\n     */\n\n    /**\n     * @event action\n     * @preventable doAction\n     * Fires whenever the return key or go is pressed. FormPanel listeners\n     * for this event, and submits itself whenever it fires. Also note\n     * that this event bubbles up to parent containers.\n     * @param {Ext.field.Text} this This field\n     * @param {Mixed} e The key event object\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'text',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        clearIcon: true,\n\n        /**\n         * @cfg {String} placeHolder A string value displayed in the input (if supported) when the control is empty.\n         * @accessor\n         */\n        placeHolder: null,\n\n        /**\n         * @cfg {Number} maxLength The maximum number of permitted input characters.\n         * @accessor\n         */\n        maxLength: null,\n\n        /**\n         * True to set the field's DOM element autocomplete attribute to \"on\", false to set to \"off\".\n         * @cfg {Boolean} autoComplete\n         * @accessor\n         */\n        autoComplete: null,\n\n        /**\n         * True to set the field's DOM element autocapitalize attribute to \"on\", false to set to \"off\".\n         * @cfg {Boolean} autoCapitalize\n         * @accessor\n         */\n        autoCapitalize: null,\n\n        /**\n         * True to set the field DOM element autocorrect attribute to \"on\", false to set to \"off\".\n         * @cfg {Boolean} autoCorrect\n         * @accessor\n         */\n        autoCorrect: null,\n\n        /**\n         * True to set the field DOM element readonly attribute to true.\n         * @cfg {Boolean} readOnly\n         * @accessor\n         */\n        readOnly: null,\n\n        /**\n         * @cfg {Object} component The inner component for this field, which defaults to an input text.\n         * @accessor\n         */\n        component: {\n            xtype: 'input',\n            type : 'text'\n        }\n    },\n\n    // @private\n    initialize: function() {\n        var me = this;\n\n        me.callParent();\n\n        me.getComponent().on({\n            scope: this,\n\n            keyup       : 'onKeyUp',\n            change      : 'onChange',\n            focus       : 'onFocus',\n            blur        : 'onBlur',\n            paste       : 'onPaste',\n            mousedown   : 'onMouseDown',\n            clearicontap: 'onClearIconTap'\n        });\n\n        // set the originalValue of the textfield, if one exists\n        me.originalValue = me.originalValue || \"\";\n        me.getComponent().originalValue = me.originalValue;\n\n        me.syncEmptyCls();\n    },\n\n    syncEmptyCls: function() {\n        var empty = (this._value) ? this._value.length : false,\n            cls = Ext.baseCSSPrefix + 'empty';\n\n        if (empty) {\n            this.removeCls(cls);\n        } else {\n            this.addCls(cls);\n        }\n    },\n\n    // @private\n    updateValue: function(newValue) {\n        var component = this.getComponent();\n\n        if (component) {\n            component.setValue(newValue);\n        }\n\n        this[newValue ? 'showClearIcon' : 'hideClearIcon']();\n\n        this.syncEmptyCls();\n    },\n\n    getValue: function() {\n        var me = this;\n\n        me._value = me.getComponent().getValue();\n\n        me.syncEmptyCls();\n\n        return me._value;\n    },\n\n    // @private\n    updatePlaceHolder: function(newPlaceHolder) {\n        this.getComponent().setPlaceHolder(newPlaceHolder);\n    },\n\n    // @private\n    updateMaxLength: function(newMaxLength) {\n        this.getComponent().setMaxLength(newMaxLength);\n    },\n\n    // @private\n    updateAutoComplete: function(newAutoComplete) {\n        this.getComponent().setAutoComplete(newAutoComplete);\n    },\n\n    // @private\n    updateAutoCapitalize: function(newAutoCapitalize) {\n        this.getComponent().setAutoCapitalize(newAutoCapitalize);\n    },\n\n    // @private\n    updateAutoCorrect: function(newAutoCorrect) {\n        this.getComponent().setAutoCorrect(newAutoCorrect);\n    },\n\n    // @private\n    updateReadOnly: function(newReadOnly) {\n        if (newReadOnly) {\n            this.hideClearIcon();\n        } else {\n            this.showClearIcon();\n        }\n\n        this.getComponent().setReadOnly(newReadOnly);\n    },\n\n    // @private\n    updateInputType: function(newInputType) {\n        var component = this.getComponent();\n        if (component) {\n            component.setType(newInputType);\n        }\n    },\n\n    // @private\n    updateName: function(newName) {\n        var component = this.getComponent();\n        if (component) {\n            component.setName(newName);\n        }\n    },\n\n    // @private\n    updateTabIndex: function(newTabIndex) {\n        var component = this.getComponent();\n        if (component) {\n            component.setTabIndex(newTabIndex);\n        }\n    },\n\n    /**\n     * Updates the {@link #inputCls} configuration on this fields {@link #component}\n     * @private\n     */\n    updateInputCls: function(newInputCls, oldInputCls) {\n        var component = this.getComponent();\n        if (component) {\n            component.replaceCls(oldInputCls, newInputCls);\n        }\n    },\n\n    doSetDisabled: function(disabled) {\n        var me = this;\n\n        me.callParent(arguments);\n\n        var component = me.getComponent();\n        if (component) {\n            component.setDisabled(disabled);\n        }\n\n        if (disabled) {\n            me.hideClearIcon();\n        } else {\n            me.showClearIcon();\n        }\n    },\n\n    // @private\n    showClearIcon: function() {\n        var me = this;\n\n        if (!me.getDisabled() && !me.getReadOnly() && me.getValue() && me.getClearIcon()) {\n            me.element.addCls(Ext.baseCSSPrefix + 'field-clearable');\n        }\n\n        return me;\n    },\n\n    // @private\n    hideClearIcon: function() {\n        if (this.getClearIcon()) {\n            this.element.removeCls(Ext.baseCSSPrefix + 'field-clearable');\n        }\n    },\n\n    onKeyUp: function(e) {\n        this.fireAction('keyup', [this, e], 'doKeyUp');\n    },\n\n    /**\n     * Called when a key has been pressed in the `<input>`\n     * @private\n     */\n    doKeyUp: function(me, e) {\n        // getValue to ensure that we are in sync with the dom\n        var value = me.getValue();\n\n        // show the {@link #clearIcon} if it is being used\n        me[value ? 'showClearIcon' : 'hideClearIcon']();\n\n        if (e.browserEvent.keyCode === 13) {\n            me.fireAction('action', [me, e], 'doAction');\n        }\n    },\n\n    doAction: function() {\n        this.blur();\n    },\n\n    onClearIconTap: function(e) {\n        this.fireAction('clearicontap', [this, e], 'doClearIconTap');\n    },\n\n    // @private\n    doClearIconTap: function(me, e) {\n        me.setValue('');\n\n        //sync with the input\n        me.getValue();\n    },\n\n    onChange: function(me, value, startValue) {\n        me.fireEvent('change', this, value, startValue);\n    },\n\n    onFocus: function(e) {\n        this.isFocused = true;\n        this.fireEvent('focus', this, e);\n    },\n\n    onBlur: function(e) {\n        var me = this;\n\n        this.isFocused = false;\n\n        me.fireEvent('blur', me, e);\n\n        setTimeout(function() {\n            me.isFocused = false;\n        }, 50);\n    },\n\n    onPaste: function(e) {\n        this.fireEvent('paste', this, e);\n    },\n\n    onMouseDown: function(e) {\n        this.fireEvent('mousedown', this, e);\n    },\n\n    /**\n     * Attempts to set the field as the active input focus.\n     * @return {Ext.field.Text} This field\n     */\n    focus: function() {\n        this.getComponent().focus();\n        return this;\n    },\n\n    /**\n     * Attempts to forcefully blur input focus for the field.\n     * @return {Ext.field.Text} This field\n     */\n    blur: function() {\n        this.getComponent().blur();\n        return this;\n    },\n\n    /**\n     * Attempts to forcefully select all the contents of the input field.\n     * @return {Ext.field.Text} this\n     */\n    select: function() {\n        this.getComponent().select();\n        return this;\n    },\n\n    reset: function() {\n        this.getComponent().reset();\n\n        //we need to call this to sync the input with this field\n        this.getValue();\n\n        this[this._value ? 'showClearIcon' : 'hideClearIcon']();\n    },\n\n    isDirty: function() {\n        var component = this.getComponent();\n        if (component) {\n            return component.isDirty();\n        }\n        return false;\n    }\n});\n\n/**\n * @property startValue\n * @type String/Number\n * Used to contain the previous value of the field before the edit\n * @removed 2.0.0\n * @member Ext.field.Text\n */\n\n/**\n * @aside guide forms\n *\n * The Search field creates an HTML5 search input and is usually created inside a form. Because it creates an HTML\n * search input type, the visual styling of this input is slightly different to normal text input contrls (the corners\n * are rounded), though the virtual keyboard displayed by the operating system is the standard keyboard control.\n *\n * As with all other form fields in Sencha Touch, the search field gains a \"clear\" button that appears whenever there\n * is text entered into the form, and which removes that text when tapped.\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'Search',\n *                 items: [\n *                     {\n *                         xtype: 'searchfield',\n *                         label: 'Query',\n *                         name: 'query'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * Or on its own, outside of a form:\n *\n *     Ext.create('Ext.field.Search', {\n *         label: 'Search:',\n *         value: 'query'\n *     });\n *\n * Because search field inherits from {@link Ext.field.Text textfield} it gains all of the functionality that text\n * fields provide, including getting and setting the value at runtime, validations and various events that are fired\n * as the user interacts with the component. Check out the {@link Ext.field.Text} docs to see the additional\n * functionality available.\n */\nExt.define('Ext.field.Search', {\n    extend: 'Ext.field.Text',\n    xtype: 'searchfield',\n    alternateClassName: 'Ext.form.Search',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        component: {\n	        type: 'search'\n	    },\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n	    ui: 'search'\n    }\n});\n\nExt.define('B2B.view.Beer_Search', {\n	extend: 'Ext.Panel',\n	requires: [\n		'Ext.field.Search'\n	],\n	xtype: 'beersearch',\n	id: 'beersearch',\n	config: {\n		docked: 'top',\n		items: [\n			{\n				\n			}\n		]\n	},\n	initialize: function(){\n		this.callParent(arguments);\n		var oldValueCount = 0;\n		//var store = Ext.getStore('Beers_Single_Ajax');\n		var store = Ext.getStore('Beers_Ajax');\n		\n		var matchedhistory = [];\n\n		var searchField = {\n			xtype: 'searchfield',\n			placeHolder: i18n.app.LABEL_SEARCH,\n			name: 'beerfiltersearch',\n			flex: 1,\n			listeners : {\n	            scope: this,\n	            clearicontap: function(field){\n	            	var beerlist = Ext.getCmp(\"beerlist\");\n	            	var infobar = Ext.getCmp(\"searchinfobar\");\n	            	field.setValue(\"\");\n	            	beerlist.setStore(null);\n		           	store.filterBy( function(record) {return false});\n		           	beerlist.setStore(store);\n		           	infobar.setHtml(i18n.app.HINT_SEARCH2CHAR);\n	            },\n	            keyup: function(field, e) {\n		           	var value = field.getValue();\n		           		value = value.replace(/[^a-zA-Z 0-9]+/g,'');\n		           	var beerlist = Ext.getCmp(\"beerlist\");\n		           	var splashscreen = Ext.getCmp(\"_splashbeersearch\");\n		           	var beerlistcontainer = Ext.getCmp(\"beerlistcontainer\");\n		           	var infobar = Ext.getCmp(\"searchinfobar\");\n\n		           /*	if(value > 3){\n		           		 M1\n		           		if(splashscreen){\n			        		beerlistcontainer.remove(splashscreen, true);\n			        		beerlistcontainer.add(\n				        		{\n				        			xtype: 'beerlist'\n				        		}\n				        	);\n				        	beerlist = Ext.getCmp(\"beerlist\");\n			        	}\n */\n\n			           	if((!value||value < oldValueCount)){\n			           		beerlist.setStore(null);\n			            }\n			            \n			            oldValueCount = value;\n\n			           	if(value.length > 2){\n			           		beerlist.setStore(null);\n			           		store.clearFilter();\n\n							var searches = value.split(' '), regexps  = [], i;\n\n							for (i = 0; i < searches.length; i++) {\n								if (!searches[i]) return;\n								regexps.push(new RegExp(searches[i], 'i'));\n							};\n\n							store.filterBy( function(record) {\n			                    var matched = [];\n			                          \n								for (i = 0; i < regexps.length; i++) {\n\n									var search = regexps[i];\n\n									if (record.get('name').match(search) ) matched.push(true);\n									else matched.push(false);\n								};\n								\n								if (regexps.length > 1 && matched.indexOf(false) != -1) {\n									return false;\n								} else {\n									return matched[0];\n								}\n							});\n							var howmany = store.getCount();\n\n							if(howmany > 0){\n								infobar.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR, store.getCount()));\n			        			beerlist.setStore(store);\n			        		}else{\n			        			infobar.setHtml(utils.__(i18n.app.HINT_SEARCHNORES));\n			        		}\n			           	}else{\n			           		beerlist.setStore(null);\n			           		store.filterBy( function(record) {return false});\n			           	}\n		           		beerlist.setStore(store);\n		           		if(!store.getCount() > 0){\n			           		if(value.length < 3 && value.length > 0 ){\n			           			infobar.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR, 3 - value.length));\n			           		}else{\n			           			if(value.length > 0) {\n			           				infobar.setHtml(utils.__(i18n.app.HINT_SEARCHNORES));\n			           			}else{\n			        				infobar.setHtml(i18n.app.HINT_SEARCH2CHAR);\n			           			}\n			           		}\n		           		}\n\n		           		if (e.browserEvent.keyCode == 13 || e.browserEvent.keyCode == 10) {\n			                e.stopEvent();\n			                field.element.dom.blur();\n			                window.scrollTo(0,0);\n			                var activeItem = beerlist.setActiveItem(1);\n			                console.log(beerlist.getActiveItem());\n			            }\n			      	/*  }else{\n			        \n			        	if(beerlist){\n			        		beerlistcontainer.remove(beerlist, true);\n			        		beerlistcontainer.add(\n				        		{\n				        			xtype: '_splashbeersearch'\n				        		}\n				        	);\n			        	}\n			        }*/\n	           }\n            }\n		};\n\n		var addBeerButton ={\n			xtype: 'button',\n				text: i18n.app.BTN_ADDBEER,\n				ui: 'action',\n				id: 'add_beer_btn',\n				handler: this.onAddBeerButtonTap,\n				scope: this\n		}\n\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			id: 'beersearchtoolbar',\n			ui: 'neutral',\n			docked: 'top',\n			items: [\n				searchField,\n				addBeerButton\n			]\n		};\n\n		var searchInfoBar = {\n			xtype: 'container',\n			id: \"searchinfobar\",\n			docked: 'top',\n			html: \"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"\n		}\n		this.add([toolbar, searchInfoBar]);\n	},\n	onAddBeerButtonTap: function(){\n		this.fireEvent(\"beerAddCommand\", this);\n	}\n});\nExt.define('B2B.view.Beer_List_SelectSearchComponent', {\n	extend: 'Ext.Panel',\n	requires: [\n		'Ext.field.Search'\n	],\n	xtype: 'beerlistselectsearchcomponent',\n	id: 'beerlistselectsearchcomponent',\n	config: {\n		docked: 'top'\n	},\n	initialize: function(){\n		this.callParent(arguments);\n		var oldValueCount = 0;\n		//var store = Ext.getStore('Beers_Single_Ajax');\n		var store = Ext.getStore('Beers_Ajax');\n		\n		var matchedhistory = [];\n\n		var searchField = {\n			xtype: 'searchfield',\n			placeHolder: i18n.app.LABEL_SEARCH,\n			name: 'beerfiltersearch',\n			flex: 1,\n			listeners : {\n	            scope: this,\n	            clearicontap: function(field){\n	            	var beerlist = Ext.getCmp(\"beerlistselect\");\n	            	var infobar = Ext.getCmp(\"searchinfobarselect\");\n	            	field.setValue(\"\");\n	            	beerlist.setStore(null);\n		           	store.filterBy( function(record) {return false});\n		           	beerlist.setStore(store);\n		           	infobar.setHtml(i18n.app.HINT_SEARCH2CHAR);\n	            },\n	            keyup: function(field, e) {\n		           	var value = field.getValue();\n		           		value = value.replace(/[^a-zA-Z 0-9]+/g,'');\n		           	var beerlist = Ext.getCmp(\"beerlistselect\");\n		           	var beerlistcontainer = Ext.getCmp(\"beerlistselectcontainer\");\n		           	var infobar = Ext.getCmp(\"searchinfobarselect\");\n\n			           	if((!value||value < oldValueCount)){\n			           		beerlist.setStore(null);\n			            }\n			            \n			            oldValueCount = value;\n\n			           	if(value.length > 2){\n			           		beerlist.setStore(null);\n			           		store.clearFilter();\n\n							var searches = value.split(' '), regexps  = [], i;\n\n							for (i = 0; i < searches.length; i++) {\n								if (!searches[i]) return;\n								regexps.push(new RegExp(searches[i], 'i'));\n							};\n\n							store.filterBy( function(record) {\n			                    var matched = [];\n			                          \n								for (i = 0; i < regexps.length; i++) {\n\n									var search = regexps[i];\n\n									if (record.get('name').match(search) ) matched.push(true);\n									else matched.push(false);\n								};\n								\n								if (regexps.length > 1 && matched.indexOf(false) != -1) {\n									return false;\n								} else {\n									return matched[0];\n								}\n							});\n							var howmany = store.getCount();\n\n							if(howmany > 0){\n								infobar.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR, store.getCount()));\n			        			beerlist.setStore(store);\n			        		}else{\n			        			infobar.setHtml(utils.__(i18n.app.HINT_SEARCHNORES));\n			        		}\n			           	}else{\n			           		beerlist.setStore(null);\n			           		store.filterBy( function(record) {return false});\n			           	}\n		           		beerlist.setStore(store);\n		           		if(!store.getCount() > 0){\n			           		if(value.length < 3 && value.length > 0 ){\n			           			infobar.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR, 3 - value.length));\n			           		}else{\n			           			if(value.length > 0) {\n			           				infobar.setHtml(utils.__(i18n.app.HINT_SEARCHNORES));\n			           			}else{\n			        				infobar.setHtml(i18n.app.HINT_SEARCH2CHAR);\n			           			}\n			           		}\n		           		}\n\n		           		if (e.browserEvent.keyCode == 13 || e.browserEvent.keyCode == 10) {\n			                e.stopEvent();\n			                field.element.dom.blur();\n			                window.scrollTo(0,0);\n			                var activeItem = beerlist.setActiveItem(1);\n			                console.log(beerlist.getActiveItem());\n			            }\n	           }\n            }\n		};\n\n		var addBeerButton ={\n			xtype: 'button',\n				text: i18n.app.BTN_ADDBEER,\n				ui: 'action',\n				id: 'add_beerselect_btn',\n				handler: this.onAddBeerButtonTap,\n				scope: this\n		}\n		var subtoolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			id: 'searchselectbeercomponenttoolbar',\n			ui: 'neutral',\n			docked: 'top',\n			items: [\n				searchField,\n				addBeerButton\n			]\n		};\n\n		var searchInfoBar = {\n			xtype: 'container',\n			id: \"searchinfobarselect\",\n			docked: 'top',\n			html: \"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"\n		}\n		this.add([subtoolbar, searchInfoBar]);\n	},\n	onAddBeerButtonTap: function(){\n		this.fireEvent(\"beerAddCommand\", this);\n	}\n});\nExt.define('B2B.view.Friend_Search', {\n	extend: 'Ext.Panel',\n	requires: [\n		'Ext.field.Search'\n	],\n	xtype: 'friendsearch',\n	id: 'friendsearch',\n	config: {\n		docked: 'top'\n	},\n	initialize: function(){\n		this.callParent(arguments);\n		\n		var oldValueCount = 0;\n\n    	var searchFriendButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_SEARCHFRIEND,\n			ui: 'action',\n			id: 'search_friend_btn',\n			handler: this.onSearchFriendButtonTap,\n			scope: this\n		};\n\n		var searchField = {\n			xtype: 'searchfield',\n			placeHolder: i18n.app.LABEL_SEARCH,\n			name: 'friendfiltersearch',\n			flex: 1,\n			listeners : {\n	            scope: this,\n	            keyup: function(field) {\n		           	var value = field.getValue();\n		           	var store = Ext.getStore('Friends_Local');\n\n		           	if(value < oldValueCount){\n		           		store.clearFilter();\n		            }\n\n		            oldValueCount = value;\n		           \n		           	if (!value) {\n		           		store.filterBy(function() {\n		                    return true;\n		                });\n					} else {\n						var searches = value.split(' '), regexps  = [], i;\n\n						for (i = 0; i < searches.length; i++) {\n							if (!searches[i]) return;\n							regexps.push(new RegExp(searches[i], 'i'));\n						};\n						store.filterBy( function(record) {\n		                    var matched = [];\n		                          \n							for (i = 0; i < regexps.length; i++) {\n								var search = regexps[i];\n\n								if (record.get('displayName').match(search) || record.get('firstName').match(search) || record.get('lastName').match(search) ) matched.push(true);\n								else matched.push(false);\n							};\n							if (regexps.length > 1 && matched.indexOf(false) != -1) {\n								return false;\n							} else {\n								return matched[0];\n							}\n						});\n		            }\n	            }\n            }\n		};\n\n		var toolbar = {\n			xtype: 'toolbar',\n			id: 'searchfriendcomponenttoolbar',\n			cls: 'sub_titlebar',\n			ui: 'neutral',\n			docked: 'top',\n			items: [\n				searchField,\n				searchFriendButton\n			]\n		};\n		this.add([toolbar]);\n	},\n	onSearchFriendButtonTap: function(){\n		this.fireEvent(\"searchFriendCommand\", this);\n	}\n});\n/**\n * @aside guide forms\n *\n * Hidden fields allow you to easily inject additional data into a {@link Ext.form.Panel form} without displaying\n * additional fields on the screen. This is often useful for sending dynamic or previously collected data back to the\n * server in the same request as the normal form submission. For example, here is how we might set up a form to send\n * back a hidden userId field:\n *\n *     @example\n *     var form = Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'Enter your name',\n *                 items: [\n *                     {\n *                         xtype: 'hiddenfield',\n *                         name: 'userId',\n *                         value: 123\n *                     },\n *                     {\n *                         xtype: 'checkboxfield',\n *                         label: 'Enable notifications',\n *                         name: 'notifications'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * In the form above we created two fields - a hidden field and a {@link Ext.field.Checkbox check box field}. Only the\n * check box will be visible, but both fields will be submitted. Hidden fields cannot be tabbed to - they are removed\n * from the tab index so when your user taps the next/previous field buttons the hidden field is skipped over.\n *\n * It's easy to read and update the value of a hidden field within a form. Using the example above, we can get a\n * reference to the hidden field and then set it to a new value in 2 lines of code:\n *\n *     var userId = form.down('hiddenfield')[0];\n *     userId.setValue(1234);\n */\nExt.define('Ext.field.Hidden', {\n    extend: 'Ext.field.Text',\n    alternateClassName: 'Ext.form.Hidden',\n    xtype: 'hiddenfield',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        component: {\n            xtype: 'input',\n            type : 'hidden'\n        },\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'hidden',\n\n        /**\n         * @cfg hidden\n         * @hide\n         */\n        hidden: true,\n\n        /**\n         * @cfg {Number} tabIndex\n         * @hide\n         */\n        tabIndex: -1\n    }\n});\n\n/**\n * @aside guide forms\n *\n * The Password field creates a password input and is usually created inside a form. Because it creates a password\n * field, when the user enters text it will show up as stars. Aside from that, the password field is just a normal text\n * field. Here's an example of how to use it in a form:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'Register',\n *                 items: [\n *                     {\n *                         xtype: 'emailfield',\n *                         label: 'Email',\n *                         name: 'email'\n *                     },\n *                     {\n *                         xtype: 'passwordfield',\n *                         label: 'Password',\n *                         name: 'password'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * Or on its own, outside of a form:\n *\n *     Ext.create('Ext.field.Password', {\n *         label: 'Password',\n *         value: 'existingPassword'\n *     });\n *\n * Because the password field inherits from {@link Ext.field.Text textfield} it gains all of the functionality that text\n * fields provide, including getting and setting the value at runtime, validations and various events that are fired as\n * the user interacts with the component. Check out the {@link Ext.field.Text} docs to see the additional functionality\n * available.\n */\nExt.define('Ext.field.Password', {\n    extend: 'Ext.field.Text',\n    xtype: 'passwordfield',\n    alternateClassName: 'Ext.form.Password',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        autoCapitalize: false,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        component: {\n	        type: 'password'\n	    }\n    }\n});\n\nExt.define('B2B.view.User_Preferences_Form', {\n	extend: 'Ext.form.Panel',\n	xtype: 'userpreferencesform',\n	id: 'userpreferencesform',\n	requires: [\n		'Ext.form.FieldSet',\n		'Ext.field.Password'\n	],\n	config: {\n		title: i18n.app.PANEL_PREFERENCES,\n		iconCls: 'settings6',\n		url: '/cippa.php'\n	},\n\n	initialize: function(){\n		this.callParent(arguments);\n\n		var savePreferencesButton = {\n			text: i18n.app.BTN_SAVE,\n			ui: 'action',\n			id: 'save_preferences_btn',\n			handler: this.onSavePreferencesButtonTap,\n			scope: this\n		},\n		cancelButton = {\n			text: i18n.app.BTN_CANCEL,\n			ui: 'action',\n			id: 'cancel_preferences_btn',\n			handler: this.onCancelButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			docked: 'top',\n			cls: 'sub_titlebar',\n			title: i18n.app.PANEL_PREFERENCES,\n			id: 'PreferencesFormTitlebar',\n			ui: 'neutral',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				cancelButton,\n				{ xtype: 'spacer' },\n				savePreferencesButton\n			]\n		},\n		notificationField = {\n			xtype: 'fieldset',\n			title: i18n.app.PANEL_NOTIFICATION,\n			items: [\n				{\n					xtype: 'iostogglefield',\n					name: 'enableNotification',\n					label: i18n.app.FORM_NOTIFICATIONENABLE,\n					listeners: {\n						change: function (slider, thumb, newValue, oldValue) {\n						   HH.log(\"Notification Toggle\");\n						}\n					}\n				}\n			]\n		},\n		twitterToggle = {\n			xtype: 'iostogglefield',\n			id: 'twitterToggle',\n			name: 'shareTwitter',\n			label: i18n.app.FORM_SHARETWITTER,\n			listeners: {\n				change: function (slider, thumb, newValue, oldValue) {\n					if (oldValue == 0) {\n						me.onShareTwitterToggle(false)\n					}\n					else {\n						me.onShareTwitterToggle(true)\n					}\n				}\n			}\n		},\n		facebookToggle = {\n			xtype: 'iostogglefield',\n			id: 'facebookToggle',\n			name: 'shareFacebook',\n			label: i18n.app.FORM_SHAREFACEBOOK,\n			listeners: {\n				change: function (slider, thumb, newValue, oldValue) {\n					if (oldValue == 0) {\n						me.onShareFacebookToggle(false)\n					}\n					else {\n						me.onShareFacebookToggle(true)\n					}\n				}\n			}\n		},\n		fieldsetShare = {\n			xtype: 'fieldset',\n			title: i18n.app.PANEL_SHARE,\n			id: \"fieldset_share\",\n			items: [\n				twitterToggle,\n				facebookToggle\n			]\n		};\n\n		this.add([toolbar, notificationField, fieldsetShare]);\n\n	},\n	activate: function(){\n		this.fireEvent(\"showPreferencesCommand\", this);\n	},\n	onSavePreferencesButtonTap: function(){\n		this.fireEvent(\"savePreferencesCommand\", this);\n	},\n	onShareTwitterToggle: function(what){\n		this.fireEvent(\"toggleTwitterCommand\", this, what);\n	},\n	onShareFacebookToggle: function(what){\n		this.fireEvent(\"toggleFacebookCommand\", this, what);\n	},\n	onCancelButtonTap: function() {\n		this.fireEvent(\"cancelCommand\", this);\n	}\n});\n/**\n * @private\n */\nExt.define('Ext.carousel.Item', {\n    extend: 'Ext.Decorator',\n\n    config: {\n        baseCls: 'x-carousel-item',\n        component: null,\n        translatable: true\n    }\n});\n\n/**\n * @class Ext.carousel.Carousel\n * @author Jacky Nguyen <jacky@sencha.com>\n *\n * Carousels, like [tabs](#!/guide/tabs), are a great way to allow the user to swipe through multiple full-screen pages.\n * A Carousel shows only one of its pages at a time but allows you to swipe through with your finger.\n *\n * Carousels can be oriented either horizontally or vertically and are easy to configure - they just work like any other\n * Container. Here's how to set up a simple horizontal Carousel:\n *\n *     @example\n *     Ext.create('Ext.Carousel', {\n *         fullscreen: true,\n *\n *         defaults: {\n *             styleHtmlContent: true\n *         },\n *\n *         items: [\n *             {\n *                 html : 'Item 1',\n *                 style: 'background-color: #5E99CC'\n *             },\n *             {\n *                 html : 'Item 2',\n *                 style: 'background-color: #759E60'\n *             },\n *             {\n *                 html : 'Item 3'\n *             }\n *         ]\n *     });\n *\n * We can also make Carousels orient themselves vertically:\n *\n *     @example preview\n *     Ext.create('Ext.Carousel', {\n *         fullscreen: true,\n *         direction: 'vertical',\n *\n *         defaults: {\n *             styleHtmlContent: true\n *         },\n *\n *         items: [\n *             {\n *                 html : 'Item 1',\n *                 style: 'background-color: #759E60'\n *             },\n *             {\n *                 html : 'Item 2',\n *                 style: 'background-color: #5E99CC'\n *             }\n *         ]\n *     });\n *\n * ### Common Configurations\n * * {@link #ui} defines the style of the carousel\n * * {@link #direction} defines the direction of the carousel\n * * {@link #indicator} defines if the indicator show be shown\n *\n * ### Useful Methods\n * * {@link #next} moves to the next card\n * * {@link #previous} moves to the previous card\n * * {@link #setActiveItem} moves to the passed card\n *\n * ## Further Reading\n *\n * For more information about Carousels see the [Carousel guide](#!/guide/carousel).\n * \n * @aside guide carousel\n */\nExt.define('Ext.carousel.Carousel', {\n    extend: 'Ext.Container',\n\n    alternateClassName: 'Ext.Carousel',\n\n    xtype: 'carousel',\n\n    requires: [\n        'Ext.fx.easing.EaseOut',\n        'Ext.carousel.Item',\n        'Ext.carousel.Indicator'\n    ],\n\n    config: {\n        /**\n         * @cfg layout\n         * Hide layout config in Carousel. It only causes confusion.\n         * @accessor\n         * @private\n         */\n\n        baseCls: 'x-carousel',\n\n        /**\n         * @cfg {String} direction\n         * The direction of the Carousel, either 'horizontal' or 'vertical'\n         * @accessor\n         */\n        direction: 'horizontal',\n\n        directionLock: false,\n\n        animation: {\n            duration: 250,\n            easing: {\n                type: 'ease-out'\n            }\n        },\n\n        /**\n         * @cfg {Boolean} indicator\n         * Provides an indicator while toggling between child items to let the user\n         * know where they are in the card stack.\n         * @accessor\n         */\n        indicator: true,\n\n        /**\n         * @cfg {String} ui\n         * Style options for Carousel. Default is 'dark'. 'light' is also available.\n         * @accessor\n         */\n        ui: 'dark',\n\n        itemConfig: {},\n\n        bufferSize: 1,\n\n        itemLength: null\n    },\n\n    itemLength: 0,\n\n    offset: 0,\n\n    flickStartOffset: 0,\n\n    flickStartTime: 0,\n\n    dragDirection: 0,\n\n    count: 0,\n\n    painted: false,\n\n    activeIndex: -1,\n\n    beforeInitialize: function() {\n        this.animationListeners = {\n            animationframe: 'onActiveItemAnimationFrame',\n            animationend: 'onActiveItemAnimationEnd',\n            scope: this\n        };\n\n        this.element.on({\n            dragstart: 'onDragStart',\n            drag: 'onDrag',\n            dragend: 'onDragEnd',\n            scope: this\n        });\n\n        this.on({\n            painted: 'onPainted',\n            erased: 'onErased',\n            resize: 'onSizeChange'\n        });\n\n        this.carouselItems = [];\n\n        this.orderedCarouselItems = [];\n\n        this.inactiveCarouselItems = [];\n\n        this.hiddenTranslation = 0;\n    },\n\n    updateBufferSize: function(size) {\n        var ItemClass = Ext.carousel.Item,\n            total = size * 2 + 1,\n            isRendered = this.isRendered(),\n            innerElement = this.innerElement,\n            items = this.carouselItems,\n            ln = items.length,\n            itemConfig = this.getItemConfig(),\n            itemLength = this.getItemLength(),\n            direction = this.getDirection(),\n            setterName = direction === 'horizontal' ? 'setWidth' : 'setHeight',\n            i, item;\n\n        for (i = ln; i < total; i++) {\n            item = Ext.factory(itemConfig, ItemClass);\n\n            if (itemLength) {\n                item[setterName].call(item, itemLength);\n            }\n\n            items.push(item);\n            innerElement.append(item.renderElement);\n\n            if (isRendered && item.setRendered(true)) {\n                item.fireEvent('renderedchange', this, item, true);\n            }\n        }\n    },\n\n    getActiveCarouselItem: function() {\n        return this.orderedCarouselItems[this.getBufferSize()];\n    },\n\n    setRendered: function(rendered) {\n        var wasRendered = this.rendered;\n\n        if (rendered !== wasRendered) {\n            this.rendered = rendered;\n\n            var items = this.items.items,\n                carouselItems = this.carouselItems,\n                i, ln, item;\n\n            for (i = 0,ln = items.length; i < ln; i++) {\n                item = items[i];\n\n                if (!item.isInnerItem()) {\n                    item.setRendered(rendered);\n                }\n            }\n\n            for (i = 0,ln = carouselItems.length; i < ln; i++) {\n                carouselItems[i].setRendered(rendered);\n            }\n\n            return true;\n        }\n\n        return false;\n    },\n\n    onPainted: function() {\n        this.painted = true;\n        this.refresh();\n        this.refreshCarouselItems();\n    },\n\n    onErased: function() {\n        this.painted = false;\n    },\n\n    onSizeChange: function() {\n        this.refreshSizing();\n        this.refreshCarouselItems();\n        this.refreshOffset();\n    },\n\n    onItemAdd: function(item, index) {\n        this.callParent(arguments);\n\n        var innerIndex = this.getInnerItems().indexOf(item),\n            indicator = this.getIndicator();\n\n        if (indicator && item.isInnerItem()) {\n            indicator.addIndicator();\n        }\n\n        if (innerIndex <= this.getActiveIndex()) {\n            this.refreshActiveIndex();\n        }\n\n        if (this.painted && this.isIndexDirty(innerIndex)) {\n            this.refreshActiveItem();\n        }\n    },\n\n    doItemLayoutAdd: function(item) {\n        if (item.isInnerItem()) {\n            return;\n        }\n\n        this.callParent(arguments);\n    },\n\n    onItemRemove: function(item, index) {\n        this.callParent(arguments);\n\n        var innerIndex = this.getInnerItems().indexOf(item),\n            indicator = this.getIndicator(),\n            carouselItems = this.carouselItems,\n            i, ln, carouselItem;\n\n        if (item.isInnerItem() && indicator) {\n            indicator.removeIndicator();\n        }\n\n        if (innerIndex <= this.getActiveIndex()) {\n            this.refreshActiveIndex();\n        }\n\n        if (this.isIndexDirty(innerIndex)) {\n            for (i = 0,ln = carouselItems.length; i < ln; i++) {\n                carouselItem = carouselItems[i];\n\n                if (carouselItem.getComponent() === item) {\n                    carouselItem.setComponent(null);\n                }\n            }\n\n            if (this.painted) {\n                this.refreshActiveItem();\n            }\n        }\n    },\n\n    doItemLayoutRemove: function(item) {\n        if (item.isInnerItem()) {\n            return;\n        }\n\n        this.callParent(arguments);\n    },\n\n    onInnerItemMove: function(item, toIndex, fromIndex) {\n        if (this.painted && (this.isIndexDirty(toIndex) || this.isIndexDirty(fromIndex))) {\n            this.refreshActiveItem();\n        }\n    },\n\n    doItemLayoutMove: function(item) {\n        if (item.isInnerItem()) {\n            return;\n        }\n\n        this.callParent(arguments);\n    },\n\n    isIndexDirty: function(index) {\n        var activeIndex = this.getActiveIndex(),\n            bufferSize = this.getBufferSize();\n\n        return (index >= activeIndex - bufferSize && index <= activeIndex + bufferSize);\n    },\n\n    onDragStart: function(e) {\n        var direction = this.getDirection(),\n            absDeltaX = e.absDeltaX,\n            absDeltaY = e.absDeltaY,\n            directionLock = this.getDirectionLock();\n\n        this.isDragging = true;\n\n        if (directionLock) {\n            if ((direction === 'horizontal' && absDeltaX > absDeltaY)\n                || (direction === 'vertical' && absDeltaY > absDeltaX)) {\n                e.stopPropagation();\n            }\n            else {\n                this.isDragging = false;\n                return;\n            }\n        }\n\n        if (this.isAnimating) {\n            this.getActiveCarouselItem().getTranslatable().stopAnimation();\n        }\n\n        this.dragStartOffset = this.offset;\n        this.dragDirection = 0;\n    },\n\n    onDrag: function(e) {\n        if (!this.isDragging) {\n            return;\n        }\n\n        var startOffset = this.dragStartOffset,\n            direction = this.getDirection(),\n            delta = direction === 'horizontal' ? e.deltaX : e.deltaY,\n            lastOffset = this.offset,\n            flickStartTime = this.flickStartTime,\n            dragDirection = this.dragDirection,\n            now = Ext.Date.now(),\n            currentActiveIndex = this.getActiveIndex(),\n            maxIndex = this.getMaxItemIndex(),\n            lastDragDirection = dragDirection,\n            offset;\n\n        if ((currentActiveIndex === 0 && delta > 0) || (currentActiveIndex === maxIndex && delta < 0)) {\n            delta *= 0.5;\n        }\n\n        offset = startOffset + delta;\n\n        if (offset > lastOffset) {\n            dragDirection = 1;\n        }\n        else if (offset < lastOffset) {\n            dragDirection = -1;\n        }\n\n        if (dragDirection !== lastDragDirection || (now - flickStartTime) > 300) {\n            this.flickStartOffset = lastOffset;\n            this.flickStartTime = now;\n        }\n\n        this.dragDirection = dragDirection;\n\n        this.setOffset(offset);\n    },\n\n    onDragEnd: function(e) {\n        if (!this.isDragging) {\n            return;\n        }\n\n        this.onDrag(e);\n\n        this.isDragging = false;\n\n        var now = Ext.Date.now(),\n            itemLength = this.itemLength,\n            threshold = itemLength / 2,\n            offset = this.offset,\n            activeIndex = this.getActiveIndex(),\n            maxIndex = this.getMaxItemIndex(),\n            animationDirection = 0,\n            flickDistance = offset - this.flickStartOffset,\n            flickDuration = now - this.flickStartTime,\n            indicator = this.getIndicator(),\n            velocity;\n\n        if (flickDuration > 0 && Math.abs(flickDistance) >= 10) {\n            velocity = flickDistance / flickDuration;\n\n            if (Math.abs(velocity) >= 1) {\n                if (velocity < 0 && activeIndex < maxIndex) {\n                    animationDirection = -1;\n                }\n                else if (velocity > 0 && activeIndex > 0) {\n                    animationDirection = 1;\n                }\n            }\n        }\n\n        if (animationDirection === 0) {\n            if (activeIndex < maxIndex && offset < -threshold) {\n                animationDirection = -1;\n            }\n            else if (activeIndex > 0 && offset > threshold) {\n                animationDirection = 1;\n            }\n        }\n\n        if (indicator) {\n            indicator.setActiveIndex(activeIndex - animationDirection);\n        }\n\n        this.animationDirection = animationDirection;\n\n        this.setOffsetAnimated(animationDirection * itemLength);\n    },\n\n    applyAnimation: function(animation) {\n        animation.easing = Ext.factory(animation.easing, Ext.fx.easing.EaseOut);\n\n        return animation;\n    },\n\n    updateDirection: function(direction) {\n        var indicator = this.getIndicator();\n\n        this.currentAxis = (direction === 'horizontal') ? 'x' : 'y';\n\n        if (indicator) {\n            indicator.setDirection(direction);\n        }\n    },\n\n    setOffset: function(offset) {\n        var orderedCarouselItems = this.orderedCarouselItems,\n            bufferSize = this.getBufferSize(),\n            activeItem = orderedCarouselItems[bufferSize],\n            itemLength = this.itemLength,\n            axis = this.currentAxis,\n            nextItem, previousItem, distance, i;\n\n        this.offset = offset;\n\n        offset += this.itemOffset;\n\n        if (activeItem) {\n            activeItem.translateAxis(axis, offset);\n\n            for (i = 1,distance = 0; i <= bufferSize; i++) {\n                previousItem = orderedCarouselItems[bufferSize - i];\n\n                if (previousItem) {\n                    distance += itemLength;\n                    previousItem.translateAxis(axis, offset - distance);\n                }\n            }\n\n            for (i = 1,distance = 0; i <= bufferSize; i++) {\n                nextItem = orderedCarouselItems[bufferSize + i];\n\n                if (nextItem) {\n                    distance += itemLength;\n                    nextItem.translateAxis(axis, offset + distance);\n                }\n            }\n        }\n\n        return this;\n    },\n\n    setOffsetAnimated: function(offset) {\n        var activeCarouselItem = this.orderedCarouselItems[this.getBufferSize()],\n            indicator = this.getIndicator();\n\n        if (indicator) {\n            indicator.setActiveIndex(this.getActiveIndex() - this.animationDirection);\n        }\n\n        this.offset = offset;\n        offset += this.itemOffset;\n\n        if (activeCarouselItem) {\n            this.isAnimating = true;\n\n            activeCarouselItem.getTranslatable().on(this.animationListeners);\n            activeCarouselItem.translateAxis(this.currentAxis, offset, this.getAnimation());\n        }\n\n        return this;\n    },\n\n    onActiveItemAnimationFrame: function(translatable) {\n        var orderedCarouselItems = this.orderedCarouselItems,\n            bufferSize = this.getBufferSize(),\n            itemLength = this.itemLength,\n            axis = this.currentAxis,\n            offset = translatable[axis],\n            previousItem, nextItem, i, distance;\n\n        for (i = 1,distance = 0; i <= bufferSize; i++) {\n            previousItem = orderedCarouselItems[bufferSize - i];\n\n            if (previousItem) {\n                distance += itemLength;\n                previousItem.translateAxis(axis, offset - distance);\n            }\n        }\n\n        for (i = 1,distance = 0; i <= bufferSize; i++) {\n            nextItem = orderedCarouselItems[bufferSize + i];\n\n            if (nextItem) {\n                distance += itemLength;\n                nextItem.translateAxis(axis, offset + distance);\n            }\n        }\n    },\n\n    onActiveItemAnimationEnd: function(translatable) {\n        var currentActiveIndex = this.getActiveIndex(),\n            animationDirection = this.animationDirection,\n            axis = this.currentAxis,\n            currentOffset = translatable[axis],\n            itemLength = this.itemLength,\n            offset;\n\n        this.isAnimating = false;\n\n        translatable.un(this.animationListeners);\n\n        if (animationDirection === -1) {\n            offset = itemLength + currentOffset;\n        }\n        else if (animationDirection === 1) {\n            offset = currentOffset - itemLength;\n        }\n        else {\n            offset = currentOffset;\n        }\n\n        offset -= this.itemOffset;\n        this.offset = offset;\n        this.setActiveItem(currentActiveIndex - animationDirection);\n    },\n\n    refresh: function() {\n        this.refreshSizing();\n        this.refreshActiveItem();\n    },\n\n    refreshSizing: function() {\n        var element = this.element,\n            itemLength = this.getItemLength(),\n            itemOffset, containerSize;\n\n        if (this.getDirection() === 'horizontal') {\n            containerSize = element.getWidth();\n        }\n        else {\n            containerSize = element.getHeight();\n        }\n\n        this.hiddenTranslation = -containerSize;\n\n        if (itemLength === null) {\n            itemLength = containerSize;\n            itemOffset = 0;\n        }\n        else {\n            itemOffset = (containerSize - itemLength) / 2;\n        }\n\n        this.itemLength = itemLength;\n        this.itemOffset = itemOffset;\n    },\n\n    refreshOffset: function() {\n        this.setOffset(this.offset);\n    },\n\n    refreshActiveItem: function() {\n        this.doSetActiveItem(this.getActiveItem());\n    },\n\n    /**\n     * Returns the index of the currently active card.\n     * @return {Number} The index of the currently active card.\n     */\n    getActiveIndex: function() {\n        return this.activeIndex;\n    },\n\n    refreshActiveIndex: function() {\n        this.activeIndex = this.getInnerItemIndex(this.getActiveItem());\n    },\n\n    refreshCarouselItems: function() {\n        var items = this.carouselItems,\n            i, ln, item;\n\n        for (i = 0,ln = items.length; i < ln; i++) {\n            item = items[i];\n            item.getTranslatable().refresh();\n        }\n\n        this.refreshInactiveCarouselItems();\n    },\n\n    refreshInactiveCarouselItems: function() {\n        var items = this.inactiveCarouselItems,\n            hiddenTranslation = this.hiddenTranslation,\n            axis = this.currentAxis,\n            i, ln, item;\n\n        for (i = 0,ln = items.length; i < ln; i++) {\n            item = items[i];\n            item.translateAxis(axis, hiddenTranslation);\n        }\n    },\n\n    getMaxItemIndex: function() {\n        return this.innerItems.length - 1;\n    },\n\n    getInnerItemIndex: function(item) {\n        return this.innerItems.indexOf(item);\n    },\n\n    getInnerItemAt: function(index) {\n        return this.innerItems[index];\n    },\n\n    applyActiveItem: function() {\n        var activeItem = this.callParent(arguments),\n            activeIndex;\n\n        if (activeItem) {\n            activeIndex = this.getInnerItemIndex(activeItem);\n\n            if (activeIndex !== -1) {\n                this.activeIndex = activeIndex;\n                return activeItem;\n            }\n        }\n    },\n\n    doSetActiveItem: function(activeItem) {\n        var activeIndex = this.getActiveIndex(),\n            maxIndex = this.getMaxItemIndex(),\n            indicator = this.getIndicator(),\n            bufferSize = this.getBufferSize(),\n            carouselItems = this.carouselItems.slice(),\n            orderedCarouselItems = this.orderedCarouselItems,\n            visibleIndexes = {},\n            visibleItems = {},\n            visibleItem, component, id, i, index, ln, carouselItem;\n\n        if (carouselItems.length === 0) {\n            return;\n        }\n\n        this.callParent(arguments);\n\n        orderedCarouselItems.length = 0;\n\n        if (activeItem) {\n            id = activeItem.getId();\n            visibleItems[id] = activeItem;\n            visibleIndexes[id] = bufferSize;\n\n            if (activeIndex > 0) {\n                for (i = 1; i <= bufferSize; i++) {\n                    index = activeIndex - i;\n                    if (index >= 0) {\n                        visibleItem = this.getInnerItemAt(index);\n                        id = visibleItem.getId();\n                        visibleItems[id] = visibleItem;\n                        visibleIndexes[id] = bufferSize - i;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n\n            if (activeIndex < maxIndex) {\n                for (i = 1; i <= bufferSize; i++) {\n                    index = activeIndex + i;\n                    if (index <= maxIndex) {\n                        visibleItem = this.getInnerItemAt(index);\n                        id = visibleItem.getId();\n                        visibleItems[id] = visibleItem;\n                        visibleIndexes[id] = bufferSize + i;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n\n            for (i = 0,ln = carouselItems.length; i < ln; i++) {\n                carouselItem = carouselItems[i];\n                component = carouselItem.getComponent();\n\n                if (component) {\n                    id = component.getId();\n\n                    if (visibleIndexes.hasOwnProperty(id)) {\n                        carouselItems.splice(i, 1);\n                        i--;\n                        ln--;\n                        delete visibleItems[id];\n                        orderedCarouselItems[visibleIndexes[id]] = carouselItem;\n                    }\n                }\n            }\n\n            for (id in visibleItems) {\n                if (visibleItems.hasOwnProperty(id)) {\n                    visibleItem = visibleItems[id];\n                    carouselItem = carouselItems.pop();\n                    carouselItem.setComponent(visibleItem);\n                    orderedCarouselItems[visibleIndexes[id]] = carouselItem;\n                }\n            }\n        }\n\n        this.inactiveCarouselItems.length = 0;\n        this.inactiveCarouselItems = carouselItems;\n        this.refreshOffset();\n        this.refreshInactiveCarouselItems();\n\n        if (indicator) {\n            indicator.setActiveIndex(activeIndex);\n        }\n    },\n\n    /**\n     * Switches to the next card\n     * @return {Ext.carousel.Carousel} this\n     */\n    next: function() {\n        if (this.isAnimating) {\n            this.getActiveCarouselItem().getTranslatable().stopAnimation();\n            this.setOffset(0);\n        }\n\n        if (this.activeIndex === this.getMaxItemIndex()) {\n            return this;\n        }\n\n        this.animationDirection = -1;\n        this.setOffsetAnimated(-this.itemLength);\n        return this;\n    },\n\n    /**\n     * Switches to the previous card\n     * @return {Ext.carousel.Carousel} this\n     */\n    previous: function() {\n        if (this.isAnimating) {\n            this.getActiveCarouselItem().getTranslatable().stopAnimation();\n            this.setOffset(0);\n        }\n\n        if (this.activeIndex === 0) {\n            return this;\n        }\n\n        this.animationDirection = 1;\n        this.setOffsetAnimated(this.itemLength);\n        return this;\n    },\n\n    // @private\n    applyIndicator: function(indicator, currentIndicator) {\n        return Ext.factory(indicator, Ext.carousel.Indicator, currentIndicator);\n    },\n\n    // @private\n    updateIndicator: function(indicator) {\n        if (indicator) {\n            this.insertFirst(indicator);\n\n            indicator.setUi(this.getUi());\n            indicator.on({\n                next: 'next',\n                previous: 'previous',\n                scope: this\n            });\n        }\n    },\n\n    destroy: function() {\n        var carouselItems = this.carouselItems.slice();\n\n        this.carouselItems.length = 0;\n\n        Ext.destroy(carouselItems, this.getIndicator());\n\n        this.callParent();\n        delete this.carouselItems;\n    }\n\n}, function() {\n    this.override({\n        constructor: function(config) {\n            if (config && 'activeIndex' in config) {\n                Ext.Logger.deprecate(\"'activeIndex' config is deprecated, please use 'activeItem' config instead }\");\n\n                config.activeItem = config.activeIndex;\n            }\n\n            this.callParent([config]);\n        }\n    });\n\n    Ext.deprecateClassMethod(this, {\n        /**\n         * Returns true when direction is vertical.\n         * @return {Boolean}\n         * @deprecated 2.0.0 Use getDirection() === 'vertical' instead.\n         */\n        isVertical: function getDirection() {\n            return this.getDirection() === 'vertical';\n        },\n        /**\n         * Returns true when direction is horizontal.\n         * @return {Boolean}\n         * @deprecated 2.0.0 Use getDirection() === 'horizontal' instead.\n         */\n        isHorizontal: function getDirection() {\n            return this.getDirection() === 'horizontal';\n        },\n        /**\n         * @method\n         * @inheritdoc Ext.carousel.Carousel#previous\n         * @deprecated 2.0.0 Use {@link Ext.carousel.Carousel#previous} instead.\n         */\n        prev: 'previous'\n    });\n});\n\nExt.define('B2B.view.User_Container', {\n	extend: 'Ext.Container',\n	xtype: 'userprofilecontainerpanel',\n	requires: [\n		'Ext.carousel.Carousel'\n	],\n\n	config: {\n		title : i18n.app.LABEL_ABOUT,\n		iconCls : 'user',\n		cls: 'cards',\n		layout: {\n			type: 'vbox',\n			align: 'stretch'\n		},\n		defaults: {\n			flex: 1\n		},\n        items: [\n        	{\n			    xtype: 'carousel',\n			    items: [\n			    	{\n			    		xtype: 'userprofile',\n			    		cls: 'card'\n			    	},\n			    	{\n			    		xtype: 'userpreferencesform',\n			    		cls: 'card'\n			    	},\n			    	{\n			    		xtype: 'userprofileprivacyform',\n			    		cls: 'card'\n			    	}\n			    ]\n			}\n        ]\n    }\n});\n\n/**\n * @class Ext.data.Types\n * <p>This is s static class containing the system-supplied data types which may be given to a {@link Ext.data.Field Field}.<p/>\n * <p>The properties in this class are used as type indicators in the {@link Ext.data.Field Field} class, so to\n * test whether a Field is of a certain type, compare the {@link Ext.data.Field#type type} property against properties\n * of this class.</p>\n * <p>Developers may add their own application-specific data types to this class. Definition names must be UPPERCASE.\n * each type definition must contain three properties:</p>\n * <div class=\"mdetail-params\"><ul>\n * <li><code>convert</code> : <i>Function</i><div class=\"sub-desc\">A function to convert raw data values from a data block into the data\n * to be stored in the Field. The function is passed the collowing parameters:\n * <div class=\"mdetail-params\"><ul>\n * <li><b>v</b> : Mixed<div class=\"sub-desc\">The data value as read by the Reader, if undefined will use\n * the configured <tt>{@link Ext.data.Field#defaultValue defaultValue}</tt>.</div></li>\n * <li><b>rec</b> : Mixed<div class=\"sub-desc\">The data object containing the row as read by the Reader.\n * Depending on the Reader type, this could be an Array ({@link Ext.data.reader.Array ArrayReader}), an object\n * ({@link Ext.data.reader.Json JsonReader}), or an XML element.</div></li>\n * </ul></div></div></li>\n * <li><code>sortType</code> : <i>Function</i> <div class=\"sub-desc\">A function to convert the stored data into comparable form, as defined by {@link Ext.data.SortTypes}.</div></li>\n * <li><code>type</code> : <i>String</i> <div class=\"sub-desc\">A textual data type name.</div></li>\n * </ul></div>\n * <p>For example, to create a VELatLong field (See the Microsoft Bing Mapping API) containing the latitude/longitude value of a datapoint on a map from a JsonReader data block\n * which contained the properties <code>lat</code> and <code>long</code>, you would define a new data type like this:</p>\n *<pre><code>\n// Add a new Field data type which stores a VELatLong object in the Record.\nExt.data.Types.VELATLONG = {\n    convert: function(v, data) {\n        return new VELatLong(data.lat, data.long);\n    },\n    sortType: function(v) {\n        return v.Latitude;  // When sorting, order by latitude\n    },\n    type: 'VELatLong'\n};\n</code></pre>\n * <p>Then, when declaring a Model, use <pre><code>\nvar types = Ext.data.Types; // allow shorthand type access\nExt.define('Unit', {\n    extend: 'Ext.data.Model',\n    config: {\n        fields: [\n            { name: 'unitName', mapping: 'UnitName' },\n            { name: 'curSpeed', mapping: 'CurSpeed', type: types.INT },\n            { name: 'latitude', mapping: 'lat', type: types.FLOAT },\n            { name: 'position', type: types.VELATLONG }\n        ]\n    }\n});\n</code></pre>\n * @singleton\n */\nExt.define('Ext.data.Types', {\n    singleton: true,\n    requires: ['Ext.data.SortTypes'],\n\n    /**\n     * @property {RegExp} stripRe\n     * A regular expression for stripping non-numeric characters from a numeric value. Defaults to <tt>/[\\$,%]/g</tt>.\n     * This should be overridden for localization.\n     */\n    stripRe: /[\\$,%]/g,\n    dashesRe: /-/g,\n    iso8601TestRe: /\\d\\dT\\d\\d/,\n    iso8601SplitRe: /[- :T\\.Z\\+]/\n\n}, function() {\n    var Types = this,\n        sortTypes = Ext.data.SortTypes;\n\n    Ext.apply(Types, {\n        /**\n         * @property {Object} AUTO\n         * This data type means that no conversion is applied to the raw data before it is placed into a Record.\n         */\n        AUTO: {\n            convert: function(value) {\n                return value;\n            },\n            sortType: sortTypes.none,\n            type: 'auto'\n        },\n\n        /**\n         * @property {Object} STRING\n         * This data type means that the raw data is converted into a String before it is placed into a Record.\n         */\n        STRING: {\n            convert: function(value) {\n                // 'this' is the actual field that calls this convert method\n                return (value === undefined || value === null)\n                    ? (this.getAllowNull() ? null : '')\n                    : String(value);\n            },\n            sortType: sortTypes.asUCString,\n            type: 'string'\n        },\n\n        /**\n         * @property {Object} INT\n         * This data type means that the raw data is converted into an integer before it is placed into a Record.\n         * <p>The synonym <code>INTEGER</code> is equivalent.</p>\n         */\n        INT: {\n            convert: function(value) {\n                return (value !== undefined && value !== null && value !== '')\n                    ? ((typeof value === 'number')\n                        ? parseInt(value, 10)\n                        : parseInt(String(value).replace(Types.stripRe, ''), 10)\n                    )\n                    : (this.getAllowNull() ? null : 0);\n            },\n            sortType: sortTypes.none,\n            type: 'int'\n        },\n\n        /**\n         * @property {Object} FLOAT\n         * This data type means that the raw data is converted into a number before it is placed into a Record.\n         * <p>The synonym <code>NUMBER</code> is equivalent.</p>\n         */\n        FLOAT: {\n            convert: function(value) {\n                return (value !== undefined && value !== null && value !== '')\n                    ? ((typeof value === 'number')\n                        ? value\n                        : parseFloat(String(value).replace(Types.stripRe, ''), 10)\n                    )\n                    : (this.getAllowNull() ? null : 0);\n            },\n            sortType: sortTypes.none,\n            type: 'float'\n        },\n\n        /**\n         * @property {Object} BOOL\n         * <p>This data type means that the raw data is converted into a boolean before it is placed into\n         * a Record. The string \"true\" and the number 1 are converted to boolean <code>true</code>.</p>\n         * <p>The synonym <code>BOOLEAN</code> is equivalent.</p>\n         */\n        BOOL: {\n            convert: function(value) {\n                if ((value === undefined || value === null || value === '') && this.getAllowNull()) {\n                    return null;\n                }\n                return value !== 'false' && !!value;\n            },\n            sortType: sortTypes.none,\n            type: 'bool'\n        },\n\n        /**\n         * @property {Object} DATE\n         * This data type means that the raw data is converted into a Date before it is placed into a Record.\n         * The date format is specified in the constructor of the {@link Ext.data.Field} to which this type is\n         * being applied.\n         */\n        DATE: {\n            convert: function(value) {\n                var dateFormat = this.getDateFormat(),\n                    parsed;\n\n                if (!value) {\n                    return null;\n                }\n                if (Ext.isDate(value)) {\n                    return value;\n                }\n                if (dateFormat) {\n                    if (dateFormat == 'timestamp') {\n                        return new Date(value*1000);\n                    }\n                    if (dateFormat == 'time') {\n                        return new Date(parseInt(value, 10));\n                    }\n                    return Ext.Date.parse(value, dateFormat);\n                }\n\n                parsed = new Date(Date.parse(value));\n                if (isNaN(parsed)) {\n                    // Dates with ISO 8601 format are not well supported by mobile devices, this can work around the issue.\n                    if (Types.iso8601TestRe.test(value)) {\n                        parsed = value.split(Types.iso8601SplitRe);\n                        parsed = new Date(parsed[0], parsed[1]-1, parsed[2], parsed[3], parsed[4], parsed[5]);\n                    }\n                    if (isNaN(parsed)) {\n                        // Dates with the format \"2012-01-20\" fail, but \"2012/01/20\" work in some browsers. We'll try and\n                        // get around that.\n                        parsed = new Date(Date.parse(value.replace(this.dashesRe, \"/\")));\n                        if (isNaN(parsed)) {\n                            Ext.Logger.warn(\"Cannot parse the passed value (\" + value + \") into a valid date\");\n                        }\n                    }\n                }\n\n                return isNaN(parsed) ? null : parsed;\n            },\n            sortType: sortTypes.asDate,\n            type: 'date'\n        }\n    });\n\n    Ext.apply(Types, {\n        /**\n         * @property {Object} BOOLEAN\n         * <p>This data type means that the raw data is converted into a boolean before it is placed into\n         * a Record. The string \"true\" and the number 1 are converted to boolean <code>true</code>.</p>\n         * <p>The synonym <code>BOOL</code> is equivalent.</p>\n         */\n        BOOLEAN: this.BOOL,\n\n        /**\n         * @property {Object} INTEGER\n         * This data type means that the raw data is converted into an integer before it is placed into a Record.\n         * <p>The synonym <code>INT</code> is equivalent.</p>\n         */\n        INTEGER: this.INT,\n\n        /**\n         * @property {Object} NUMBER\n         * This data type means that the raw data is converted into a number before it is placed into a Record.\n         * <p>The synonym <code>FLOAT</code> is equivalent.</p>\n         */\n        NUMBER: this.FLOAT\n    });\n});\n\n/**\n * @author Ed Spencer\n * @aside guide models\n *\n * Fields are used to define what a Model is. They aren't instantiated directly - instead, when we create a class that\n * extends {@link Ext.data.Model}, it will automatically create a Field instance for each field configured in a {@link\n * Ext.data.Model Model}. For example, we might set up a model like this:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'name', 'email',\n *                 {name: 'age', type: 'int'},\n *                 {name: 'gender', type: 'string', defaultValue: 'Unknown'}\n *             ]\n *         }\n *     });\n *\n * Four fields will have been created for the User Model - name, email, age and gender. Note that we specified a couple\n * of different formats here; if we only pass in the string name of the field (as with name and email), the field is set\n * up with the 'auto' type. It's as if we'd done this instead:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 {name: 'name', type: 'auto'},\n *                 {name: 'email', type: 'auto'},\n *                 {name: 'age', type: 'int'},\n *                 {name: 'gender', type: 'string', defaultValue: 'Unknown'}\n *             ]\n *         }\n *     });\n *\n * # Types and conversion\n *\n * The {@link #type} is important - it's used to automatically convert data passed to the field into the correct format.\n * In our example above, the name and email fields used the 'auto' type and will just accept anything that is passed\n * into them. The 'age' field had an 'int' type however, so if we passed 25.4 this would be rounded to 25.\n *\n * Sometimes a simple type isn't enough, or we want to perform some processing when we load a Field's data. We can do\n * this using a {@link #convert} function. Here, we're going to create a new field based on another:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'name', 'email',\n *                 {name: 'age', type: 'int'},\n *                 {name: 'gender', type: 'string', defaultValue: 'Unknown'},\n *\n *                 {\n *                     name: 'firstName',\n *                     convert: function(value, record) {\n *                         var fullName  = record.get('name'),\n *                             splits    = fullName.split(\" \"),\n *                             firstName = splits[0];\n *\n *                         return firstName;\n *                     }\n *                 }\n *             ]\n *         }\n *     });\n *\n * Now when we create a new User, the firstName is populated automatically based on the name:\n *\n *     var ed = Ext.create('User', {name: 'Ed Spencer'});\n *\n *     console.log(ed.get('firstName')); //logs 'Ed', based on our convert function\n *\n * In fact, if we log out all of the data inside ed, we'll see this:\n *\n *     console.log(ed.data);\n *\n *     //outputs this:\n *     {\n *         age: 0,\n *         email: \"\",\n *         firstName: \"Ed\",\n *         gender: \"Unknown\",\n *         name: \"Ed Spencer\"\n *     }\n *\n * The age field has been given a default of zero because we made it an int type. As an auto field, email has defaulted\n * to an empty string. When we registered the User model we set gender's {@link #defaultValue} to 'Unknown' so we see\n * that now. Let's correct that and satisfy ourselves that the types work as we expect:\n *\n *     ed.set('gender', 'Male');\n *     ed.get('gender'); //returns 'Male'\n *\n *     ed.set('age', 25.4);\n *     ed.get('age'); //returns 25 - we wanted an int, not a float, so no decimal places allowed\n */\nExt.define('Ext.data.Field', {\n    requires: ['Ext.data.Types', 'Ext.data.SortTypes'],\n    alias: 'data.field',\n\n    isField: true,\n\n    config: {\n        /**\n         * @cfg {String} name\n         *\n         * The name by which the field is referenced within the Model. This is referenced by, for example, the `dataIndex`\n         * property in column definition objects passed to Ext.grid.property.HeaderContainer.\n         *\n         * Note: In the simplest case, if no properties other than `name` are required, a field definition may consist of\n         * just a String for the field name.\n         */\n        name: null,\n\n        /**\n         * @cfg {String/Object} type\n         *\n         * The data type for automatic conversion from received data to the *stored* value if\n         * `{@link Ext.data.Field#convert convert}` has not been specified. This may be specified as a string value.\n         * Possible values are\n         *\n         * - auto (Default, implies no conversion)\n         * - string\n         * - int\n         * - float\n         * - boolean\n         * - date\n         *\n         * This may also be specified by referencing a member of the {@link Ext.data.Types} class.\n         *\n         * Developers may create their own application-specific data types by defining new members of the {@link\n         * Ext.data.Types} class.\n         */\n        type: 'auto',\n\n        /**\n         * @cfg {Function} convert\n         *\n         * A function which converts the value provided by the Reader into an object that will be stored in the Model.\n         * It is passed the following parameters:\n         *\n         * - **v** : Mixed\n         *\n         *   The data value as read by the Reader, if undefined will use the configured `{@link Ext.data.Field#defaultValue\n         *   defaultValue}`.\n         *\n         * - **rec** : Ext.data.Model\n         *\n         *   The data object containing the Model as read so far by the Reader. Note that the Model may not be fully populated\n         *   at this point as the fields are read in the order that they are defined in your\n         *   {@link Ext.data.Model#cfg-fields fields} array.\n         *\n         * Example of convert functions:\n         *\n         *     function fullName(v, record) {\n         *         return record.name.last + ', ' + record.name.first;\n         *     }\n         *\n         *     function location(v, record) {\n         *         return !record.city ? '' : (record.city + ', ' + record.state);\n         *     }\n         *\n         *     Ext.define('Dude', {\n         *         extend: 'Ext.data.Model',\n         *         fields: [\n         *             {name: 'fullname',  convert: fullName},\n         *             {name: 'firstname', mapping: 'name.first'},\n         *             {name: 'lastname',  mapping: 'name.last'},\n         *             {name: 'city', defaultValue: 'homeless'},\n         *             'state',\n         *             {name: 'location',  convert: location}\n         *         ]\n         *     });\n         *\n         *     // create the data store\n         *     var store = Ext.create('Ext.data.Store', {\n         *         reader: {\n         *             type: 'json',\n         *             model: 'Dude',\n         *             idProperty: 'key',\n         *             rootProperty: 'daRoot',\n         *             totalProperty: 'total'\n         *         }\n         *     });\n         *\n         *     var myData = [\n         *         { key: 1,\n         *           name: { first: 'Fat',    last:  'Albert' }\n         *           // notice no city, state provided in data2 object\n         *         },\n         *         { key: 2,\n         *           name: { first: 'Barney', last:  'Rubble' },\n         *           city: 'Bedrock', state: 'Stoneridge'\n         *         },\n         *         { key: 3,\n         *           name: { first: 'Cliff',  last:  'Claven' },\n         *           city: 'Boston',  state: 'MA'\n         *         }\n         *     ];\n         */\n        convert: undefined,\n\n        /**\n         * @cfg {String} dateFormat\n         *\n         * Used when converting received data into a Date when the {@link #type} is specified as `\"date\"`.\n         *\n         * A format string for the {@link Ext.Date#parse Ext.Date.parse} function, or \"timestamp\" if the value provided by\n         * the Reader is a UNIX timestamp, or \"time\" if the value provided by the Reader is a javascript millisecond\n         * timestamp. See {@link Ext.Date}.\n         */\n        dateFormat: null,\n\n        /**\n         * @cfg {Boolean} allowNull\n         *\n         * Use when converting received data into a boolean, string or number type (either int or float). If the value cannot be\n         * parsed, null will be used if allowNull is true, otherwise the value will be 0. Defaults to true.\n         */\n        allowNull: true,\n\n        /**\n         * @cfg {Object} defaultValue\n         *\n         * The default value used **when a Model is being created by a {@link Ext.data.reader.Reader Reader}**\n         * when the item referenced by the `{@link Ext.data.Field#mapping mapping}` does not exist in the data object\n         * (i.e. undefined). Defaults to \"\".\n         */\n        defaultValue: undefined,\n\n        /**\n         * @cfg {String/Number} mapping\n         *\n         * (Optional) A path expression for use by the {@link Ext.data.reader.Reader} implementation that is creating the\n         * {@link Ext.data.Model Model} to extract the Field value from the data object. If the path expression is the same\n         * as the field name, the mapping may be omitted.\n         *\n         * The form of the mapping expression depends on the Reader being used.\n         *\n         * - {@link Ext.data.reader.Json}\n         *\n         *   The mapping is a string containing the javascript expression to reference the data from an element of the data2\n         *   item's {@link Ext.data.reader.Json#rootProperty rootProperty} Array. Defaults to the field name.\n         *\n         * - {@link Ext.data.reader.Xml}\n         *\n         *   The mapping is an {@link Ext.DomQuery} path to the data item relative to the DOM element that represents the\n         *   {@link Ext.data.reader.Xml#record record}. Defaults to the field name.\n         *\n         * - {@link Ext.data.reader.Array}\n         *\n         *   The mapping is a number indicating the Array index of the field's value. Defaults to the field specification's\n         *   Array position.\n         *\n         * If a more complex value extraction strategy is required, then configure the Field with a {@link #convert}\n         * function. This is passed the whole row object, and may interrogate it in whatever way is necessary in order to\n         * return the desired data.\n         */\n        mapping: null,\n\n        /**\n         * @cfg {Function} sortType\n         *\n         * A function which converts a Field's value to a comparable value in order to ensure correct sort ordering.\n         * Predefined functions are provided in {@link Ext.data.SortTypes}. A custom sort example:\n         *\n         *     // current sort     after sort we want\n         *     // +-+------+          +-+------+\n         *     // |1|First |          |1|First |\n         *     // |2|Last  |          |3|Second|\n         *     // |3|Second|          |2|Last  |\n         *     // +-+------+          +-+------+\n         *\n         *     sortType: function(value) {\n         *        switch (value.toLowerCase()) // native toLowerCase():\n         *        {\n         *           case 'first': return 1;\n         *           case 'second': return 2;\n         *           default: return 3;\n         *        }\n         *     }\n         */\n        sortType : undefined,\n\n        /**\n         * @cfg {String} sortDir\n         *\n         * Initial direction to sort (`\"ASC\"` or `\"DESC\"`). Defaults to `\"ASC\"`.\n         */\n        sortDir : \"ASC\",\n\n        /**\n         * @cfg {Boolean} allowBlank\n         * @private\n         *\n         * Used for validating a {@link Ext.data.Model model}. Defaults to true. An empty value here will cause\n         * {@link Ext.data.Model}.{@link Ext.data.Model#isValid isValid} to evaluate to false.\n         */\n        allowBlank : true,\n\n        /**\n         * @cfg {Boolean} persist\n         *\n         * False to exclude this field from being synchronized with the server or localstorage.\n         * This option is useful when model fields are used to keep state on the client but do\n         * not need to be persisted to the server. Defaults to true.\n         */\n        persist: true,\n\n        // Used in LocalStorage stuff\n        encode: null,\n        decode: null,\n\n        bubbleEvents: 'action'\n    },\n\n    constructor : function(config) {\n        // This adds support for just passing a string used as the field name\n        if (Ext.isString(config)) {\n            config = {name: config};\n        }\n\n        this.initConfig(config);\n    },\n\n    applyType: function(type) {\n        var types = Ext.data.Types,\n            autoType = types.AUTO;\n\n        if (type) {\n            if (Ext.isString(type)) {\n                return types[type.toUpperCase()] || autoType;\n            } else {\n                // At this point we expect an actual type\n                return type;\n            }\n        }\n\n        return autoType;\n    },\n\n    updateType: function(newType, oldType) {\n        var convert = this.getConvert();\n        if (oldType && convert === oldType.convert) {\n            this.setConvert(newType.convert);\n        }\n    },\n\n    applySortType: function(sortType) {\n        var sortTypes = Ext.data.SortTypes,\n            type = this.getType(),\n            defaultSortType = type.sortType;\n\n        if (sortType) {\n            if (Ext.isString(sortType)) {\n                return sortTypes[sortType] || defaultSortType;\n            } else {\n                // At this point we expect a function\n                return sortType;\n            }\n        }\n\n        return defaultSortType;\n    },\n\n    applyConvert: function(convert) {\n        var defaultConvert = this.getType().convert;\n        if (convert && convert !== defaultConvert) {\n            this._hasCustomConvert = true;\n            return convert;\n        } else {\n            this._hasCustomConvert = false;\n            return defaultConvert;\n        }\n    },\n\n    hasCustomConvert: function() {\n        return this._hasCustomConvert;\n    }\n\n}, function() {\n    /**\n     * @member Ext.data.Field\n     * @cfg {Boolean} useNull\n     * @inheritdoc Ext.data.Field#allowNull\n     * @deprecated 2.0.0 Please use {@link #allowNull} instead.\n     */\n    Ext.deprecateProperty(this, 'useNull', 'allowNull');\n});\n\n/**\n * @private\n */\nExt.define('Ext.AbstractManager', {\n\n    /* Begin Definitions */\n\n    requires: ['Ext.util.HashMap'],\n\n    /* End Definitions */\n\n    typeName: 'type',\n\n    constructor: function(config) {\n        Ext.apply(this, config || {});\n\n        /**\n         * @property {Ext.util.HashMap} all\n         * Contains all of the items currently managed\n         */\n        this.all = Ext.create('Ext.util.HashMap');\n\n        this.types = {};\n    },\n\n    /**\n     * Returns an item by id.\n     * For additional details see {@link Ext.util.HashMap#get}.\n     * @param {String} id The id of the item\n     * @return {Object} The item, undefined if not found.\n     */\n    get : function(id) {\n        return this.all.get(id);\n    },\n\n    /**\n     * Registers an item to be managed\n     * @param {Object} item The item to register\n     */\n    register: function(item) {\n        this.all.add(item);\n    },\n\n    /**\n     * Unregisters an item by removing it from this manager\n     * @param {Object} item The item to unregister\n     */\n    unregister: function(item) {\n        this.all.remove(item);\n    },\n\n    /**\n     * Registers a new item constructor, keyed by a type key.\n     * @param {String} type The mnemonic string by which the class may be looked up.\n     * @param {Function} cls The new instance class.\n     */\n    registerType : function(type, cls) {\n        this.types[type] = cls;\n        cls[this.typeName] = type;\n    },\n\n    /**\n     * Checks if an item type is registered.\n     * @param {String} type The mnemonic string by which the class may be looked up\n     * @return {Boolean} Whether the type is registered.\n     */\n    isRegistered : function(type){\n        return this.types[type] !== undefined;\n    },\n\n    /**\n     * Creates and returns an instance of whatever this manager manages, based on the supplied type and\n     * config object.\n     * @param {Object} config The config object\n     * @param {String} defaultType If no type is discovered in the config object, we fall back to this type\n     * @return {Object} The instance of whatever this manager is managing\n     */\n    create: function(config, defaultType) {\n        var type        = config[this.typeName] || config.type || defaultType,\n            Constructor = this.types[type];\n\n        if (Constructor == undefined) {\n            Ext.Error.raise(\"The '\" + type + \"' type has not been registered with this manager\");\n        }\n\n        return new Constructor(config);\n    },\n\n    /**\n     * Registers a function that will be called when an item with the specified id is added to the manager.\n     * This will happen on instantiation.\n     * @param {String} id The item id\n     * @param {Function} fn The callback function. Called with a single parameter, the item.\n     * @param {Object} scope The scope (this reference) in which the callback is executed.\n     * Defaults to the item.\n     */\n    onAvailable : function(id, fn, scope){\n        var all = this.all,\n            item;\n\n        if (all.containsKey(id)) {\n            item = all.get(id);\n            fn.call(scope || item, item);\n        } else {\n            all.on('add', function(map, key, item){\n                if (key == id) {\n                    fn.call(scope || item, item);\n                    all.un('add', fn, scope);\n                }\n            });\n        }\n    },\n\n    /**\n     * Executes the specified function once for each item in the collection.\n     * @param {Function} fn The function to execute.\n     * @param {String} fn.key The key of the item\n     * @param {Number} fn.value The value of the item\n     * @param {Number} fn.length The total number of items in the collection\n     * @param {Boolean} fn.return False to cease iteration.\n     * @param {Object} scope The scope to execute in. Defaults to `this`.\n     */\n    each: function(fn, scope){\n        this.all.each(fn, scope || this);\n    },\n\n    /**\n     * Gets the number of items in the collection.\n     * @return {Number} The number of items in the collection.\n     */\n    getCount: function(){\n        return this.all.getCount();\n    }\n});\n\n/**\n * @author Ed Spencer\n\nThe ModelManager keeps track of all {@link Ext.data.Model} types defined in your application.\n\n__Creating Model Instances__\n\nModel instances can be created by using the {@link Ext#create Ext.create} method. Ext.create replaces\nthe deprecated {@link #create Ext.ModelManager.create} method. It is also possible to create a model instance\nthis by using the Model type directly. The following 3 snippets are equivalent:\n\n    Ext.define('User', {\n        extend: 'Ext.data.Model',\n        config: {\n            fields: ['first', 'last']\n        }\n    });\n\n    // method 1, create using Ext.create (recommended)\n    Ext.create('User', {\n        first: 'Ed',\n        last: 'Spencer'\n    });\n\n    // method 2, create through the manager (deprecated)\n    Ext.ModelManager.create({\n        first: 'Ed',\n        last: 'Spencer'\n    }, 'User');\n\n    // method 3, create on the type directly\n    new User({\n        first: 'Ed',\n        last: 'Spencer'\n    });\n\n__Accessing Model Types__\n\nA reference to a Model type can be obtained by using the {@link #getModel} function. Since models types\nare normal classes, you can access the type directly. The following snippets are equivalent:\n\n    Ext.define('User', {\n        extend: 'Ext.data.Model',\n        config: {\n            fields: ['first', 'last']\n        }\n    });\n\n    // method 1, access model type through the manager\n    var UserType = Ext.ModelManager.getModel('User');\n\n    // method 2, reference the type directly\n    var UserType = User;\n\n * @markdown\n */\nExt.define('Ext.data.ModelManager', {\n    extend: 'Ext.AbstractManager',\n    alternateClassName: ['Ext.ModelMgr', 'Ext.ModelManager'],\n\n    singleton: true,\n\n    /**\n     * @property defaultProxyType\n     * The string type of the default Model Proxy.\n     * @removed 2.0.0\n     */\n\n    /**\n     * @property associationStack\n     * Private stack of associations that must be created once their associated model has been defined.\n     * @removed 2.0.0\n     */\n\n    modelNamespace: null,\n\n    /**\n     * Registers a model definition. All model plugins marked with isDefault: true are bootstrapped\n     * immediately, as are any addition plugins defined in the model config.\n     */\n    registerType: function(name, config) {\n        var proto = config.prototype,\n            model;\n\n        if (proto && proto.isModel) {\n            // registering an already defined model\n            model = config;\n        } else {\n            config = {\n                extend: config.extend || 'Ext.data.Model',\n                config: config\n            };\n            model = Ext.define(name, config);\n        }\n        this.types[name] = model;\n        return model;\n    },\n\n    onModelDefined: Ext.emptyFn,\n\n    // /**\n    //  * @private\n    //  * Private callback called whenever a model has just been defined. This sets up any associations\n    //  * that were waiting for the given model to be defined\n    //  * @param {Function} model The model that was just created\n    //  */\n    // onModelDefined: function(model) {\n    //     var stack  = this.associationStack,\n    //         length = stack.length,\n    //         create = [],\n    //         association, i, created;\n    //\n    //     for (i = 0; i < length; i++) {\n    //         association = stack[i];\n    //\n    //         if (association.associatedModel == model.modelName) {\n    //             create.push(association);\n    //         }\n    //     }\n    //\n    //     for (i = 0, length = create.length; i < length; i++) {\n    //         created = create[i];\n    //         this.types[created.ownerModel].prototype.associations.add(Ext.data.association.Association.create(created));\n    //         Ext.Array.remove(stack, created);\n    //     }\n    // },\n    //\n    // /**\n    //  * Registers an association where one of the models defined doesn't exist yet.\n    //  * The ModelManager will check when new models are registered if it can link them\n    //  * together\n    //  * @private\n    //  * @param {Ext.data.association.Association} association The association\n    //  */\n    // registerDeferredAssociation: function(association){\n    //     this.associationStack.push(association);\n    // },\n\n    /**\n     * Returns the {@link Ext.data.Model} for a given model name\n     * @param {String/Object} id The id of the model or the model instance.\n     * @return {Ext.data.Model} a model class.\n     */\n    getModel: function(id) {\n        var model = id;\n        if (typeof model == 'string') {\n            model = this.types[model];\n            if (!model && this.modelNamespace) {\n                model = this.types[this.modelNamespace + '.' + model];\n            }\n        }\n        return model;\n    },\n\n    /**\n     * Creates a new instance of a Model using the given data.\n     *\n     * This method is deprecated.  Use {@link Ext#create Ext.create} instead.  For example:\n     *\n     *     Ext.create('User', {\n     *         first: 'Ed',\n     *         last: 'Spencer'\n     *     });\n     *\n     * @param {Object} data Data to initialize the Model's fields with\n     * @param {String} name The name of the model to create\n     * @param {Number} id (Optional) unique id of the Model instance (see {@link Ext.data.Model})\n     */\n    create: function(config, name, id) {\n        var con = typeof name == 'function' ? name : this.types[name || config.name];\n        return new con(config, id);\n    }\n}, function() {\n\n    /**\n     * Old way for creating Model classes.  Instead use:\n     *\n     *     Ext.define(\"MyModel\", {\n     *         extend: \"Ext.data.Model\",\n     *         fields: []\n     *     });\n     *\n     * @param {String} name Name of the Model class.\n     * @param {Object} config A configuration object for the Model you wish to create.\n     * @return {Ext.data.Model} The newly registered Model\n     * @member Ext\n     * @deprecated 2.0.0 Please use {@link Ext#define} instead.\n     */\n    Ext.regModel = function() {\n        Ext.Logger.deprecate('Ext.regModel has been deprecated. Models can now be created by ' +\n            'extending Ext.data.Model: Ext.define(\"MyModel\", {extend: \"Ext.data.Model\", fields: []});.');\n        return this.ModelManager.registerType.apply(this.ModelManager, arguments);\n    };\n});\n\n/**\n * @author Ed Spencer\n * @aside guide models\n *\n * Associations enable you to express relationships between different {@link Ext.data.Model Models}. Let's say we're\n * writing an ecommerce system where Users can make Orders - there's a relationship between these Models that we can\n * express like this:\n *\n *     Ext.define('MyApp.model.User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id', 'name', 'email'],\n *             hasMany: {\n *                 model: 'MyApp.model.Order',\n *                 name: 'orders'\n *             }\n *         }\n *     });\n *\n *     Ext.define('MyApp.model.Order', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id', 'user_id', 'status', 'price'],\n *             belongsTo: 'MyApp.model.User'\n *         }\n *     });\n *\n * We've set up two models - User and Order - and told them about each other. You can set up as many associations on\n * each Model as you need using the two default types - {@link Ext.data.association.HasMany hasMany} and\n * {@link Ext.data.association.BelongsTo belongsTo}. There's much more detail on the usage of each of those inside their\n * documentation pages. If you're not familiar with Models already, {@link Ext.data.Model there is plenty on those too}.\n *\n * ## Further Reading\n *\n * <ul style=\"list-style-type: disc; padding-left: 20px;\">\n *   <li>{@link Ext.data.association.HasMany hasMany associations}</li>\n *   <li>{@link Ext.data.association.BelongsTo belongsTo associations}</li>\n *   <li>{@link Ext.data.association.HasOne hasOne associations}</li>\n *   <li>{@link Ext.data.Model using Models}</li>\n * </ul>\n *\n * ### Self-associating Models\n *\n * We can also have models that create parent/child associations between the same type. Below is an example, where\n * groups can be nested inside other groups:\n *\n *     // Server Data\n *     {\n *         \"groups\": {\n *             \"id\": 10,\n *             \"parent_id\": 100,\n *             \"name\": \"Main Group\",\n *             \"parent_group\": {\n *                 \"id\": 100,\n *                 \"parent_id\": null,\n *                 \"name\": \"Parent Group\"\n *             },\n *             \"child_groups\": [{\n *                 \"id\": 2,\n *                 \"parent_id\": 10,\n *                 \"name\": \"Child Group 1\"\n *             },{\n *                 \"id\": 3,\n *                 \"parent_id\": 10,\n *                 \"name\": \"Child Group 2\"\n *             },{\n *                 \"id\": 4,\n *                 \"parent_id\": 10,\n *                 \"name\": \"Child Group 3\"\n *             }]\n *         }\n *     }\n *\n *     // Client code\n *     Ext.define('MyApp.model.Group', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['id', 'parent_id', 'name'],\n *             proxy: {\n *                 type: 'ajax',\n *                 url: 'data.json',\n *                 reader: {\n *                     type: 'json',\n *                     root: 'groups'\n *                 }\n *             },\n *             associations: [{\n *                 type: 'hasMany',\n *                 model: 'MyApp.model.Group',\n *                 primaryKey: 'id',\n *                 foreignKey: 'parent_id',\n *                 autoLoad: true,\n *                 associationKey: 'child_groups' // read child data from child_groups\n *             }, {\n *                 type: 'belongsTo',\n *                 model: 'MyApp.model.Group',\n *                 primaryKey: 'id',\n *                 foreignKey: 'parent_id',\n *                 associationKey: 'parent_group' // read parent data from parent_group\n *             }]\n *         }\n *     });\n *\n *\n *     Ext.onReady(function(){\n *         MyApp.model.Group.load(10, {\n *             success: function(group){\n *                 console.log(group.getGroup().get('name'));\n *\n *                 group.groups().each(function(rec){\n *                     console.log(rec.get('name'));\n *                 });\n *             }\n *         });\n *\n *     });\n */\nExt.define('Ext.data.association.Association', {\n    alternateClassName: 'Ext.data.Association',\n\n    requires: ['Ext.data.ModelManager'],\n\n    config: {\n        /**\n         * @cfg {Ext.data.Model/String} ownerModel The full class name or reference to the class that owns this\n         * associations. This is a required configuration on every association.\n         * @accessor\n         */\n        ownerModel: null,\n\n        /*\n         * @cfg {String} ownerName The name for the owner model. This defaults to the last part\n         * of the class name of the {@link #ownerModel}.\n         */\n        ownerName: undefined,\n\n        /**\n         * @cfg {String} associatedModel The full class name or reference to the class that the {@link #ownerModel}\n         * is being associated with. This is a required configuration on every association.\n         * @accessor\n         */\n        associatedModel: null,\n\n        /**\n         * @cfg {String} associatedName The name for the associated model. This defaults to the last part\n         * of the class name of the {@link #associatedModel}.\n         * @accessor\n         */\n        associatedName: undefined,\n\n\n        /**\n         * @cfg {String} associationKey The name of the property in the data to read the association from.\n         * Defaults to the {@link #associatedName} plus _id.\n         */\n        associationKey: undefined,\n\n        /**\n         * @cfg {String} primaryKey The name of the primary key on the associated model. Defaults to 'id'.\n         * In general this will be the {@link Ext.data.Model#idProperty} of the Model.\n         */\n        primaryKey: 'id',\n\n        /**\n         * @cfg {Ext.data.reader.Reader} reader A special reader to read associated data\n         */\n        reader: null,\n\n        /**\n         * @cfg {String} type The type configuration can be used when creating associations using a configuration object.\n         * Use 'hasMany' to create a HasMany association\n         * <pre><code>\n    associations: [{\n        type: 'hasMany',\n        model: 'User'\n    }]\n         * </code></pre>\n         */\n        type: null,\n\n        name: undefined\n    },\n\n    statics: {\n        create: function(association) {\n            if (!association.isAssociation) {\n                if (Ext.isString(association)) {\n                    association = {\n                        type: association\n                    };\n                }\n                association.type = association.type.toLowerCase();\n                return Ext.factory(association, Ext.data.association.Association, null, 'association');\n            }\n\n            return association;\n        }\n    },\n\n    /**\n     * Creates the Association object.\n     * @param {Object} config (optional) Config object.\n     */\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    applyName: function(name) {\n        if (!name) {\n            name = this.getAssociatedName();\n        }\n        return name;\n    },\n\n    applyOwnerModel: function(ownerName) {\n        var ownerModel = Ext.data.ModelManager.getModel(ownerName);\n        if (ownerModel === undefined) {\n            Ext.Logger.error('The configured ownerModel was not valid (you tried ' + ownerName + ')');\n        }\n        return ownerModel;\n    },\n\n    applyOwnerName: function(ownerName) {\n        if (!ownerName) {\n            ownerName = this.getOwnerModel().modelName;\n        }\n        ownerName = ownerName.slice(ownerName.lastIndexOf('.')+1);\n        return ownerName;\n    },\n\n    updateOwnerModel: function(ownerModel, oldOwnerModel) {\n        if (oldOwnerModel) {\n            this.setOwnerName(ownerModel.modelName);\n        }\n    },\n\n    applyAssociatedModel: function(associatedName) {\n        var associatedModel = Ext.data.ModelManager.types[associatedName];\n        if (associatedModel === undefined) {\n            Ext.Logger.error('The configured associatedModel was not valid (you tried ' + associatedName + ')');\n        }\n        return associatedModel;\n    },\n\n    applyAssociatedName: function(associatedName) {\n        if (!associatedName) {\n            associatedName = this.getAssociatedModel().modelName;\n        }\n        associatedName = associatedName.slice(associatedName.lastIndexOf('.')+1);\n        return associatedName;\n    },\n\n    updateAssociatedModel: function(associatedModel, oldAssociatedModel) {\n        if (oldAssociatedModel) {\n            this.setAssociatedName(associatedModel.modelName);\n        }\n    },\n\n    applyReader: function(reader) {\n        if (reader) {\n            if (Ext.isString(reader)) {\n                reader = {\n                    type: reader\n                };\n            }\n\n            if (!reader.isReader) {\n                Ext.applyIf(reader, {\n                    type: 'json'\n                });\n            }\n        }\n\n        return Ext.factory(reader, Ext.data.Reader, this.getReader(), 'reader');\n    },\n\n    updateReader: function(reader) {\n        reader.setModel(this.getAssociatedModel());\n    }\n\n    // Convert old properties in data into a config object\n    ,onClassExtended: function(cls, data, hooks) {\n        var Component = this,\n            defaultConfig = Component.prototype.config,\n            config = data.config || {},\n            key;\n\n\n        for (key in defaultConfig) {\n            if (key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the Association prototype. ' +\n                    'Please put it inside the config object.');\n            }\n        }\n\n        data.config = config;\n    }\n});\n\n/**\n * @aside guide models\n *\n * Represents a one-to-many relationship between two models. Usually created indirectly via a model definition:\n *\n *     Ext.define('Product', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 {name: 'id',      type: 'int'},\n *                 {name: 'user_id', type: 'int'},\n *                 {name: 'name',    type: 'string'}\n *             ]\n *         }\n *     });\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 {name: 'id',   type: 'int'},\n *                 {name: 'name', type: 'string'}\n *             ],\n *             // we can use the hasMany shortcut on the model to create a hasMany association\n *             hasMany: {model: 'Product', name: 'products'}\n *         }\n *     });\n *\n * `\n *\n * Above we created Product and User models, and linked them by saying that a User hasMany Products. This gives us a new\n * function on every User instance, in this case the function is called 'products' because that is the name we specified\n * in the association configuration above.\n *\n * This new function returns a specialized {@link Ext.data.Store Store} which is automatically filtered to load only\n * Products for the given model instance:\n *\n *     //first, we load up a User with id of 1\n *     var user = Ext.create('User', {id: 1, name: 'Ed'});\n *\n *     //the user.products function was created automatically by the association and returns a {@link Ext.data.Store Store}\n *     //the created store is automatically scoped to the set of Products for the User with id of 1\n *     var products = user.products();\n *\n *     //we still have all of the usual Store functions, for example it's easy to add a Product for this User\n *     products.add({\n *         name: 'Another Product'\n *     });\n *\n *     //saves the changes to the store - this automatically sets the new Product's user_id to 1 before saving\n *     products.sync();\n *\n * The new Store is only instantiated the first time you call products() to conserve memory and processing time, though\n * calling products() a second time returns the same store instance.\n *\n * _Custom filtering_\n *\n * The Store is automatically furnished with a filter - by default this filter tells the store to only return records\n * where the associated model's foreign key matches the owner model's primary key. For example, if a User with ID = 100\n * hasMany Products, the filter loads only Products with user_id == 100.\n *\n * Sometimes we want to filter by another field - for example in the case of a Twitter search application we may have\n * models for Search and Tweet:\n *\n *     Ext.define('Search', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'id', 'query'\n *             ],\n *\n *             hasMany: {\n *                 model: 'Tweet',\n *                 name : 'tweets',\n *                 filterProperty: 'query'\n *             }\n *         }\n *     });\n *\n *     Ext.define('Tweet', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'id', 'text', 'from_user'\n *             ]\n *         }\n *     });\n *\n *     //returns a Store filtered by the filterProperty\n *     var store = new Search({query: 'Sencha Touch'}).tweets();\n *\n * The tweets association above is filtered by the query property by setting the {@link #filterProperty}, and is\n * equivalent to this:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'Tweet',\n *         filters: [\n *             {\n *                 property: 'query',\n *                 value   : 'Sencha Touch'\n *             }\n *         ]\n *     });\n */\nExt.define('Ext.data.association.HasMany', {\n    extend: 'Ext.data.association.Association',\n    alternateClassName: 'Ext.data.HasManyAssociation',\n    requires: ['Ext.util.Inflector'],\n\n    alias: 'association.hasmany',\n\n    config: {\n        /**\n         * @cfg {String} foreignKey\n         * The name of the foreign key on the associated model that links it to the owner model. Defaults to the\n         * lowercased name of the owner model plus \"_id\", e.g. an association with a model called Group hasMany Users\n         * would create 'group_id' as the foreign key. When the remote store is loaded, the store is automatically\n         * filtered so that only records with a matching foreign key are included in the resulting child store. This can\n         * be overridden by specifying the {@link #filterProperty}.\n         *\n         *     Ext.define('Group', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name'],\n         *         hasMany: 'User'\n         *     });\n         *\n         *     Ext.define('User', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name', 'group_id'], // refers to the id of the group that this user belongs to\n         *         belongsTo: 'Group'\n         *     });\n         */\n        foreignKey: undefined,\n\n        /**\n         * @cfg {String} name\n         * The name of the function to create on the owner model to retrieve the child store. If not specified, the\n         * pluralized name of the child model is used.\n         *\n         *     // This will create a users() method on any Group model instance\n         *     Ext.define('Group', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name'],\n         *         hasMany: 'User'\n         *     });\n         *     var group = new Group();\n         *     console.log(group.users());\n         *\n         *     // The method to retrieve the users will now be getUserList\n         *     Ext.define('Group', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name'],\n         *         hasMany: {model: 'User', name: 'getUserList'}\n         *     });\n         *     var group = new Group();\n         *     console.log(group.getUserList());\n         */\n\n        /**\n         * @cfg {Object} store\n         * Optional configuration object that will be passed to the generated Store. Defaults to an empty Object.\n         */\n        store: undefined,\n\n        /**\n         * @cfg {String} storeName\n         * Optional The name of the store by which you can reference it on this class as a property.\n         */\n        storeName: undefined,\n\n        /**\n         * @cfg {String} [filterProperty=null]\n         * Optionally overrides the default filter that is set up on the associated Store. If this is not set, a filter\n         * is automatically created which filters the association based on the configured {@link #foreignKey}. See intro\n         * docs for more details. Defaults to null.\n         */\n        filterProperty: null,\n\n        /**\n         * @cfg {Boolean} [autoLoad=false]\n         * True to automatically load the related store from a remote source when instantiated. Defaults to false.\n         */\n        autoLoad: false\n    },\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (config.storeConfig) {\n            Ext.Logger.warn('storeConfig is deprecated on an association. Instead use the store configuration.');\n            config.store = config.storeConfig;\n            delete config.storeConfig;\n        }\n\n        this.callParent([config]);\n    },\n\n    applyName: function(name) {\n        if (!name) {\n            name = Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase());\n        }\n        return name;\n    },\n\n    applyStoreName: function(name) {\n        if (!name) {\n            name = this.getName() + 'Store';\n        }\n        return name;\n    },\n\n    applyForeignKey: function(foreignKey) {\n        if (!foreignKey) {\n            var inverse = this.getInverseAssociation();\n            if (inverse) {\n                foreignKey = inverse.getForeignKey();\n            } else {\n                foreignKey = this.getOwnerName().toLowerCase() + '_id';\n            }\n        }\n        return foreignKey;\n    },\n\n    applyAssociationKey: function(associationKey) {\n        if (!associationKey) {\n            var associatedName = this.getAssociatedName();\n            associationKey = Ext.util.Inflector.pluralize(associatedName[0].toLowerCase() + associatedName.slice(1));\n        }\n        return associationKey;\n    },\n\n    updateForeignKey: function(foreignKey, oldForeignKey) {\n        var fields = this.getAssociatedModel().getFields(),\n            field = fields.get(foreignKey);\n\n        if (!field) {\n            field = new Ext.data.Field({\n                name: foreignKey\n            });\n            fields.add(field);\n            fields.isDirty = true;\n        }\n\n        if (oldForeignKey) {\n            field = fields.get(oldForeignKey);\n            if (field) {\n                fields.remove(field);\n                fields.isDirty = true;\n            }\n        }\n    },\n\n    /**\n     * @private\n     * Creates a function that returns an Ext.data.Store which is configured to load a set of data filtered\n     * by the owner model's primary key - e.g. in a hasMany association where Group hasMany Users, this function\n     * returns a Store configured to return the filtered set of a single Group's Users.\n     * @return {Function} The store-generating function\n     */\n    applyStore: function(storeConfig) {\n        var me = this,\n            association     = me,\n            associatedModel = me.getAssociatedModel(),\n            storeName       = me.getStoreName(),\n            foreignKey      = me.getForeignKey(),\n            primaryKey      = me.getPrimaryKey(),\n            filterProperty  = me.getFilterProperty(),\n            autoLoad        = me.getAutoLoad();\n\n        return function() {\n            var me = this,\n                config, filter,\n                modelDefaults = {};\n\n            if (me[storeName] === undefined) {\n                if (filterProperty) {\n                    filter = {\n                        property  : filterProperty,\n                        value     : me.get(filterProperty),\n                        exactMatch: true\n                    };\n                } else {\n                    filter = {\n                        property  : foreignKey,\n                        value     : me.get(primaryKey),\n                        exactMatch: true\n                    };\n                }\n\n                modelDefaults[foreignKey] = me.get(primaryKey);\n\n                config = Ext.apply({}, storeConfig, {\n                    model        : associatedModel,\n                    filters      : [filter],\n                    remoteFilter : true,\n                    modelDefaults: modelDefaults\n                });\n\n                me[storeName] = Ext.create('Ext.data.Store', config);\n                if (autoLoad) {\n                    me[storeName].load(function(records, operation) {\n                        association.updateInverseInstances(me);\n                    });\n                }\n            }\n\n            return me[storeName];\n        };\n    },\n\n    updateStore: function(store) {\n        this.getOwnerModel().prototype[this.getName()] = store;\n    },\n\n    /**\n     * Read associated data\n     * @private\n     * @param {Ext.data.Model} record The record we're writing to\n     * @param {Ext.data.reader.Reader} reader The reader for the associated model\n     * @param {Object} associationData The raw associated data\n     */\n    read: function(record, reader, associationData) {\n        var store = record[this.getName()](),\n            records = reader.read(associationData).getRecords();\n\n        store.add(records);\n        this.updateInverseInstances(record);\n    },\n\n    updateInverseInstances: function(record) {\n        var store = record[this.getName()](),\n            inverse = this.getInverseAssociation();\n\n        //if the inverse association was found, set it now on each record we've just created\n        if (inverse) {\n            store.each(function(associatedRecord) {\n                associatedRecord[inverse.getInstanceName()] = record;\n            });\n        }\n    },\n\n    getInverseAssociation: function() {\n        var ownerName = this.getOwnerModel().modelName;\n\n        //now that we've added the related records to the hasMany association, set the inverse belongsTo\n        //association on each of them if it exists\n        return this.getAssociatedModel().associations.findBy(function(assoc) {\n            return assoc.getType().toLowerCase() === 'belongsto' && assoc.getAssociatedModel().modelName === ownerName;\n        });\n    }\n\n}, function() {\n    /**\n     * @cfg {Object} storeConfig\n     */\n    Ext.deprecateProperty(this, 'storeConfig', 'store');\n});\n\n/**\n * @author Ed Spencer\n * @aside guide models\n *\n * Represents a many to one association with another model. The owner model is expected to have\n * a foreign key which references the primary key of the associated model:\n *\n *     Ext.define('Category', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 { name: 'id',   type: 'int' },\n *                 { name: 'name', type: 'string' }\n *             ]\n *         }\n *     });\n *\n *     Ext.define('Product', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 { name: 'id',          type: 'int' },\n *                 { name: 'category_id', type: 'int' },\n *                 { name: 'name',        type: 'string' }\n *             ],\n *             // we can use the belongsTo shortcut on the model to create a belongsTo association\n *             associations: { type: 'belongsTo', model: 'Category' }\n *         }\n *     });\n *\n * In the example above we have created models for Products and Categories, and linked them together\n * by saying that each Product belongs to a Category. This automatically links each Product to a Category\n * based on the Product's category_id, and provides new functions on the Product model:\n *\n * ## Generated getter function\n *\n * The first function that is added to the owner model is a getter function:\n *\n *     var product = new Product({\n *         id: 100,\n *         category_id: 20,\n *         name: 'Sneakers'\n *     });\n *\n *     product.getCategory(function(category, operation) {\n *         // do something with the category object\n *         alert(category.get('id')); // alerts 20\n *     }, this);\n *\n * The getCategory function was created on the Product model when we defined the association. This uses the\n * Category's configured {@link Ext.data.proxy.Proxy proxy} to load the Category asynchronously, calling the provided\n * callback when it has loaded.\n *\n * The new getCategory function will also accept an object containing success, failure and callback properties\n * - callback will always be called, success will only be called if the associated model was loaded successfully\n * and failure will only be called if the associatied model could not be loaded:\n *\n *     product.getCategory({\n *         reload: true, // force a reload if the owner model is already cached\n *         callback: function(category, operation) {}, // a function that will always be called\n *         success : function(category, operation) {}, // a function that will only be called if the load succeeded\n *         failure : function(category, operation) {}, // a function that will only be called if the load did not succeed\n *         scope   : this // optionally pass in a scope object to execute the callbacks in\n *     });\n *\n * In each case above the callbacks are called with two arguments - the associated model instance and the\n * {@link Ext.data.Operation operation} object that was executed to load that instance. The Operation object is\n * useful when the instance could not be loaded.\n *\n * Once the getter has been called on the model, it will be cached if the getter is called a second time. To\n * force the model to reload, specify reload: true in the options object.\n *\n * ## Generated setter function\n *\n * The second generated function sets the associated model instance - if only a single argument is passed to\n * the setter then the following two calls are identical:\n *\n *     // this call...\n *     product.setCategory(10);\n *\n *     // is equivalent to this call:\n *     product.set('category_id', 10);\n *\n * An instance of the owner model can also be passed as a parameter.\n *\n * If we pass in a second argument, the model will be automatically saved and the second argument passed to\n * the owner model's {@link Ext.data.Model#save save} method:\n *\n *     product.setCategory(10, function(product, operation) {\n *         // the product has been saved\n *         alert(product.get('category_id')); //now alerts 10\n *     });\n *\n *     //alternative syntax:\n *     product.setCategory(10, {\n *         callback: function(product, operation), // a function that will always be called\n *         success : function(product, operation), // a function that will only be called if the load succeeded\n *         failure : function(product, operation), // a function that will only be called if the load did not succeed\n *         scope   : this //optionally pass in a scope object to execute the callbacks in\n *     })\n *\n * ## Customisation\n *\n * Associations reflect on the models they are linking to automatically set up properties such as the\n * {@link #primaryKey} and {@link #foreignKey}. These can alternatively be specified:\n *\n *     Ext.define('Product', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [ // ...\n *             ],\n *\n *             associations: [\n *                 { type: 'belongsTo', model: 'Category', primaryKey: 'unique_id', foreignKey: 'cat_id' }\n *             ]\n *         }\n *     });\n *\n * Here we replaced the default primary key (defaults to 'id') and foreign key (calculated as 'category_id')\n * with our own settings. Usually this will not be needed.\n */\nExt.define('Ext.data.association.BelongsTo', {\n    extend: 'Ext.data.association.Association',\n    alternateClassName: 'Ext.data.BelongsToAssociation',\n    alias: 'association.belongsto',\n\n    config: {\n        /**\n         * @cfg {String} foreignKey The name of the foreign key on the owner model that links it to the associated\n         * model. Defaults to the lowercased name of the associated model plus \"_id\", e.g. an association with a\n         * model called Product would set up a product_id foreign key.\n         *\n         *     Ext.define('Order', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'date'],\n         *         hasMany: 'Product'\n         *     });\n         *\n         *     Ext.define('Product', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name', 'order_id'], // refers to the id of the order that this product belongs to\n         *         belongsTo: 'Group'\n         *     });\n         *     var product = new Product({\n         *         id: 1,\n         *         name: 'Product 1',\n         *         order_id: 22\n         *     }, 1);\n         *     product.getOrder(); // Will make a call to the server asking for order_id 22\n         *\n         */\n        foreignKey: undefined,\n\n        /**\n         * @cfg {String} getterName The name of the getter function that will be added to the local model's prototype.\n         * Defaults to 'get' + the name of the foreign model, e.g. getCategory\n         */\n        getterName: undefined,\n\n        /**\n         * @cfg {String} setterName The name of the setter function that will be added to the local model's prototype.\n         * Defaults to 'set' + the name of the foreign model, e.g. setCategory\n         */\n        setterName: undefined,\n\n        instanceName: undefined\n    },\n\n    applyForeignKey: function(foreignKey) {\n        if (!foreignKey) {\n            foreignKey = this.getAssociatedName().toLowerCase() + '_id';\n        }\n        return foreignKey;\n    },\n\n    updateForeignKey: function(foreignKey, oldForeignKey) {\n        var fields = this.getOwnerModel().getFields(),\n            field = fields.get(foreignKey);\n\n        if (!field) {\n            field = new Ext.data.Field({\n                name: foreignKey\n            });\n            fields.add(field);\n            fields.isDirty = true;\n        }\n\n        if (oldForeignKey) {\n            field = fields.get(oldForeignKey);\n            if (field) {\n                fields.isDirty = true;\n                fields.remove(field);\n            }\n        }\n    },\n\n    applyInstanceName: function(instanceName) {\n        if (!instanceName) {\n            instanceName = this.getAssociatedName() + 'BelongsToInstance';\n        }\n        return instanceName;\n    },\n\n    applyAssociationKey: function(associationKey) {\n        if (!associationKey) {\n            var associatedName = this.getAssociatedName();\n            associationKey = associatedName[0].toLowerCase() + associatedName.slice(1);\n        }\n        return associationKey;\n    },\n\n    applyGetterName: function(getterName) {\n        if (!getterName) {\n            var associatedName = this.getAssociatedName();\n            getterName = 'get' + associatedName[0].toUpperCase() + associatedName.slice(1);\n        }\n        return getterName;\n    },\n\n    applySetterName: function(setterName) {\n        if (!setterName) {\n            var associatedName = this.getAssociatedName();\n            setterName = 'set' + associatedName[0].toUpperCase() + associatedName.slice(1);\n        }\n        return setterName;\n    },\n\n    updateGetterName: function(getterName, oldGetterName) {\n        var ownerProto = this.getOwnerModel().prototype;\n        if (oldGetterName) {\n            delete ownerProto[oldGetterName];\n        }\n        if (getterName) {\n            ownerProto[getterName] = this.createGetter();\n        }\n    },\n\n    updateSetterName: function(setterName, oldSetterName) {\n        var ownerProto = this.getOwnerModel().prototype;\n        if (oldSetterName) {\n            delete ownerProto[oldSetterName];\n        }\n        if (setterName) {\n            ownerProto[setterName] = this.createSetter();\n        }\n    },\n\n    /**\n     * @private\n     * Returns a setter function to be placed on the owner model's prototype\n     * @return {Function} The setter function\n     */\n    createSetter: function() {\n        var me = this,\n            foreignKey = me.getForeignKey();\n\n        //'this' refers to the Model instance inside this function\n        return function(value, options, scope) {\n            var inverse = me.getInverseAssociation();\n\n            // If we pass in an instance, pull the id out\n            if (value && value.isModel) {\n                value = value.getId();\n            }\n            this.set(foreignKey, value);\n\n            if (Ext.isFunction(options)) {\n                options = {\n                    callback: options,\n                    scope: scope || this\n                };\n            }\n\n            if (inverse) {\n                value = Ext.data.Model.cache[Ext.data.Model.generateCacheId(inverse.getOwnerModel().modelName, value)];\n                if (value) {\n                    if (inverse.getType().toLowerCase() === 'hasmany') {\n                        var store = value[inverse.getName()]();\n                        store.add(this);\n                    } else {\n                        value[inverse.getInstanceName()] = this;\n                    }\n                }\n            }\n\n            if (Ext.isObject(options)) {\n                return this.save(options);\n            }\n        };\n    },\n\n    /**\n     * @private\n     * Returns a getter function to be placed on the owner model's prototype. We cache the loaded instance\n     * the first time it is loaded so that subsequent calls to the getter always receive the same reference.\n     * @return {Function} The getter function\n     */\n    createGetter: function() {\n        var me              = this,\n            associatedModel = me.getAssociatedModel(),\n            foreignKey      = me.getForeignKey(),\n            instanceName    = me.getInstanceName();\n\n        //'this' refers to the Model instance inside this function\n        return function(options, scope) {\n            options = options || {};\n\n            var model = this,\n                foreignKeyId = model.get(foreignKey),\n                success,\n                instance,\n                args;\n\n            instance = model[instanceName];\n            if (!instance) {\n                instance = Ext.data.Model.cache[Ext.data.Model.generateCacheId(associatedModel.modelName, foreignKeyId)];\n                if (instance) {\n                    model[instanceName] = instance;\n                }\n            }\n\n            if (options.reload === true || instance === undefined) {\n                if (typeof options == 'function') {\n                    options = {\n                        callback: options,\n                        scope: scope || model\n                    };\n                }\n\n                // Overwrite the success handler so we can assign the current instance\n                success = options.success;\n                options.success = function(rec) {\n                    model[instanceName] = rec;\n                    if (success) {\n                        success.call(this, arguments);\n                    }\n                };\n\n                associatedModel.load(foreignKeyId, options);\n            } else {\n                args = [instance];\n                scope = scope || model;\n\n                Ext.callback(options, scope, args);\n                Ext.callback(options.success, scope, args);\n                Ext.callback(options.failure, scope, args);\n                Ext.callback(options.callback, scope, args);\n\n                return instance;\n            }\n        };\n    },\n\n    /**\n     * Read associated data\n     * @private\n     * @param {Ext.data.Model} record The record we're writing to\n     * @param {Ext.data.reader.Reader} reader The reader for the associated model\n     * @param {Object} associationData The raw associated data\n     */\n    read: function(record, reader, associationData){\n        record[this.getInstanceName()] = reader.read([associationData]).getRecords()[0];\n    },\n\n    getInverseAssociation: function() {\n        var ownerName = this.getOwnerModel().modelName,\n            foreignKey = this.getForeignKey();\n\n        return this.getAssociatedModel().associations.findBy(function(assoc) {\n            var type = assoc.getType().toLowerCase();\n            return (type === 'hasmany' || type === 'hasone') && assoc.getAssociatedModel().modelName === ownerName && assoc.getForeignKey() === foreignKey;\n        });\n    }\n});\n\n/**\n * @aside guide models\n *\n * Represents a one to one association with another model. The owner model is expected to have\n * a foreign key which references the primary key of the associated model:\n *\n *     Ext.define('Person', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 { name: 'id', type: 'int' },\n *                 { name: 'name', type: 'string' },\n *                 { name: 'address_id', type: 'int'}\n *             ],\n *\n *             // we can use the hasOne shortcut on the model to create a hasOne association\n *             associations: { type: 'hasOne', model: 'Address' }\n *         }\n *     });\n *\n *     Ext.define('Address', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 { name: 'id', type: 'int' },\n *                 { name: 'number', type: 'string' },\n *                 { name: 'street', type: 'string' },\n *                 { name: 'city', type: 'string' },\n *                 { name: 'zip', type: 'string' },\n *             ]\n *         }\n *     });\n *\n * In the example above we have created models for People and Addresses, and linked them together\n * by saying that each Person has a single Address. This automatically links each Person to an Address\n * based on the Persons address_id, and provides new functions on the Person model:\n *\n * ## Generated getter function\n *\n * The first function that is added to the owner model is a getter function:\n *\n *     var person = Ext.create('Person', {\n *         id: 100,\n *         address_id: 20,\n *         name: 'John Smith'\n *     });\n *\n *     person.getAddress(function(address, operation) {\n *         // do something with the address object\n *         alert(address.get('id')); // alerts 20\n *     }, this);\n *\n * The getAddress function was created on the Person model when we defined the association. This uses the\n * Persons configured {@link Ext.data.proxy.Proxy proxy} to load the Address asynchronously, calling the provided\n * callback when it has loaded.\n *\n * The new getAddress function will also accept an object containing success, failure and callback properties\n * - callback will always be called, success will only be called if the associated model was loaded successfully\n * and failure will only be called if the associatied model could not be loaded:\n *\n *     person.getAddress({\n *         reload: true, // force a reload if the owner model is already cached\n *         callback: function(address, operation) {}, // a function that will always be called\n *         success : function(address, operation) {}, // a function that will only be called if the load succeeded\n *         failure : function(address, operation) {}, // a function that will only be called if the load did not succeed\n *         scope   : this // optionally pass in a scope object to execute the callbacks in\n *     });\n *\n * In each case above the callbacks are called with two arguments - the associated model instance and the\n * {@link Ext.data.Operation operation} object that was executed to load that instance. The Operation object is\n * useful when the instance could not be loaded.\n *\n * Once the getter has been called on the model, it will be cached if the getter is called a second time. To\n * force the model to reload, specify reload: true in the options object.\n *\n * ## Generated setter function\n *\n * The second generated function sets the associated model instance - if only a single argument is passed to\n * the setter then the following two calls are identical:\n *\n *     // this call...\n *     person.setAddress(10);\n *\n *     // is equivalent to this call:\n *     person.set('address_id', 10);\n *\n * An instance of the owner model can also be passed as a parameter.\n *\n * If we pass in a second argument, the model will be automatically saved and the second argument passed to\n * the owner model's {@link Ext.data.Model#save save} method:\n *\n *     person.setAddress(10, function(address, operation) {\n *         // the address has been saved\n *         alert(address.get('address_id')); //now alerts 10\n *     });\n *\n *     //alternative syntax:\n *     person.setAddress(10, {\n *         callback: function(address, operation), // a function that will always be called\n *         success : function(address, operation), // a function that will only be called if the load succeeded\n *         failure : function(address, operation), // a function that will only be called if the load did not succeed\n *         scope   : this //optionally pass in a scope object to execute the callbacks in\n *     })\n *\n * ## Customisation\n *\n * Associations reflect on the models they are linking to automatically set up properties such as the\n * {@link #primaryKey} and {@link #foreignKey}. These can alternatively be specified:\n *\n *     Ext.define('Person', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 // ...\n *             ],\n *\n *             associations: [\n *                 { type: 'hasOne', model: 'Address', primaryKey: 'unique_id', foreignKey: 'addr_id' }\n *             ]\n *         }\n *     });\n *\n * Here we replaced the default primary key (defaults to 'id') and foreign key (calculated as 'address_id')\n * with our own settings. Usually this will not be needed.\n */\nExt.define('Ext.data.association.HasOne', {\n    extend: 'Ext.data.association.Association',\n    alternateClassName: 'Ext.data.HasOneAssociation',\n\n    alias: 'association.hasone',\n\n    config: {\n        /**\n         * @cfg {String} foreignKey The name of the foreign key on the owner model that links it to the associated\n         * model. Defaults to the lowercased name of the associated model plus \"_id\", e.g. an association with a\n         * model called Person would set up a address_id foreign key.\n         *\n         *     Ext.define('Person', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'name', 'address_id'], // refers to the id of the address object\n         *         hasOne: 'Address'\n         *     });\n         *\n         *     Ext.define('Address', {\n         *         extend: 'Ext.data.Model',\n         *         fields: ['id', 'number', 'street', 'city', 'zip'],\n         *         belongsTo: 'Person'\n         *     });\n         *     var Person = new Person({\n         *         id: 1,\n         *         name: 'John Smith',\n         *         address_id: 13\n         *     }, 1);\n         *     person.getAddress(); // Will make a call to the server asking for address_id 13\n         *\n         */\n        foreignKey: undefined,\n\n        /**\n         * @cfg {String} getterName The name of the getter function that will be added to the local model's prototype.\n         * Defaults to 'get' + the name of the foreign model, e.g. getAddress\n         */\n        getterName: undefined,\n\n        /**\n         * @cfg {String} setterName The name of the setter function that will be added to the local model's prototype.\n         * Defaults to 'set' + the name of the foreign model, e.g. setAddress\n         */\n        setterName: undefined,\n\n        instanceName: undefined\n    },\n\n    applyForeignKey: function(foreignKey) {\n        if (!foreignKey) {\n            var inverse = this.getInverseAssociation();\n            if (inverse) {\n                foreignKey = inverse.getForeignKey();\n            } else {\n                foreignKey = this.getOwnerName().toLowerCase() + '_id';\n            }\n        }\n        return foreignKey;\n    },\n\n    updateForeignKey: function(foreignKey, oldForeignKey) {\n        var fields = this.getAssociatedModel().getFields(),\n            field = fields.get(foreignKey);\n\n        if (!field) {\n            field = new Ext.data.Field({\n                name: foreignKey\n            });\n            fields.add(field);\n            fields.isDirty = true;\n        }\n\n        if (oldForeignKey) {\n            field = fields.get(oldForeignKey);\n            if (field) {\n                fields.remove(field);\n                fields.isDirty = true;\n            }\n        }\n    },\n\n    applyInstanceName: function(instanceName) {\n        if (!instanceName) {\n            instanceName = this.getAssociatedName() + 'BelongsToInstance';\n        }\n        return instanceName;\n    },\n\n    applyAssociationKey: function(associationKey) {\n        if (!associationKey) {\n            var associatedName = this.getAssociatedName();\n            associationKey = associatedName[0].toLowerCase() + associatedName.slice(1);\n        }\n        return associationKey;\n    },\n\n    applyGetterName: function(getterName) {\n        if (!getterName) {\n            var associatedName = this.getAssociatedName();\n            getterName = 'get' + associatedName[0].toUpperCase() + associatedName.slice(1);\n        }\n        return getterName;\n    },\n\n    applySetterName: function(setterName) {\n        if (!setterName) {\n            var associatedName = this.getAssociatedName();\n            setterName = 'set' + associatedName[0].toUpperCase() + associatedName.slice(1);\n        }\n        return setterName;\n    },\n\n    updateGetterName: function(getterName, oldGetterName) {\n        var ownerProto = this.getOwnerModel().prototype;\n        if (oldGetterName) {\n            delete ownerProto[oldGetterName];\n        }\n        if (getterName) {\n            ownerProto[getterName] = this.createGetter();\n        }\n    },\n\n    updateSetterName: function(setterName, oldSetterName) {\n        var ownerProto = this.getOwnerModel().prototype;\n        if (oldSetterName) {\n            delete ownerProto[oldSetterName];\n        }\n        if (setterName) {\n            ownerProto[setterName] = this.createSetter();\n        }\n    },\n\n    /**\n     * @private\n     * Returns a setter function to be placed on the owner model's prototype\n     * @return {Function} The setter function\n     */\n    createSetter: function() {\n        var me              = this,\n            foreignKey      = me.getForeignKey(),\n            instanceName    = me.getInstanceName(),\n            associatedModel = me.getAssociatedModel();\n\n        //'this' refers to the Model instance inside this function\n        return function(value, options, scope) {\n            var Model = Ext.data.Model,\n                record;\n\n            if (value && value.isModel) {\n                value = value.getId();\n            }\n\n            this.set(foreignKey, value);\n\n            record = Model.cache[Model.generateCacheId(associatedModel.modelName, value)];\n            if (record) {\n                this[instanceName] = record;\n            }\n\n            if (Ext.isFunction(options)) {\n                options = {\n                    callback: options,\n                    scope: scope || this\n                };\n            }\n\n            if (Ext.isObject(options)) {\n                return this.save(options);\n            }\n        };\n    },\n\n    /**\n     * @private\n     * Returns a getter function to be placed on the owner model's prototype. We cache the loaded instance\n     * the first time it is loaded so that subsequent calls to the getter always receive the same reference.\n     * @return {Function} The getter function\n     */\n    createGetter: function() {\n        var me              = this,\n            associatedModel = me.getAssociatedModel(),\n            foreignKey      = me.getForeignKey(),\n            instanceName    = me.getInstanceName();\n\n        //'this' refers to the Model instance inside this function\n        return function(options, scope) {\n            options = options || {};\n\n            var model = this,\n                foreignKeyId = model.get(foreignKey),\n                success, instance, args;\n\n            if (options.reload === true || model[instanceName] === undefined) {\n                if (typeof options == 'function') {\n                    options = {\n                        callback: options,\n                        scope: scope || model\n                    };\n                }\n\n                // Overwrite the success handler so we can assign the current instance\n                success = options.success;\n                options.success = function(rec){\n                    model[instanceName] = rec;\n                    if (success) {\n                        success.call(this, arguments);\n                    }\n                };\n\n                associatedModel.load(foreignKeyId, options);\n            } else {\n                instance = model[instanceName];\n                args = [instance];\n                scope = scope || model;\n\n                Ext.callback(options, scope, args);\n                Ext.callback(options.success, scope, args);\n                Ext.callback(options.failure, scope, args);\n                Ext.callback(options.callback, scope, args);\n\n                return instance;\n            }\n        };\n    },\n\n    /**\n     * Read associated data\n     * @private\n     * @param {Ext.data.Model} record The record we're writing to\n     * @param {Ext.data.reader.Reader} reader The reader for the associated model\n     * @param {Object} associationData The raw associated data\n     */\n    read: function(record, reader, associationData) {\n        var inverse = this.getInverseAssociation(),\n            newRecord = reader.read([associationData]).getRecords()[0];\n\n        record[this.getInstanceName()] = newRecord;\n\n        //if the inverse association was found, set it now on each record we've just created\n        if (inverse) {\n            newRecord[inverse.getInstanceName()] = record;\n        }\n    },\n\n    getInverseAssociation: function() {\n        var ownerName = this.getOwnerModel().modelName;\n\n        return this.getAssociatedModel().associations.findBy(function(assoc) {\n            return assoc.getType().toLowerCase() === 'belongsto' && assoc.getAssociatedModel().modelName === ownerName;\n        });\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.field.TextAreaInput', {\n    extend: 'Ext.field.Input',\n    xtype : 'textareainput',\n\n    tag: 'textarea'\n});\n\n/**\n * @aside guide forms\n *\n * Creates an HTML textarea field on the page. This is useful whenever you need the user to enter large amounts of text\n * (i.e. more than a few words). Typically, text entry on mobile devices is not a pleasant experience for the user so\n * it's good to limit your use of text areas to only those occasions when freeform text is required or alternative\n * input methods like select boxes or radio buttons are not possible. Text Areas are usually created inside forms, like\n * this:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'About you',\n *                 items: [\n *                     {\n *                         xtype: 'textfield',\n *                         label: 'Name',\n *                         name: 'name'\n *                     },\n *                     {\n *                         xtype: 'textareafield',\n *                         label: 'Bio',\n *                         maxRows: 4,\n *                         name: 'bio'\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * In the example above we're creating a form with a {@link Ext.field.Text text field} for the user's name and a text\n * area for their bio. We used the {@link #maxRows} configuration on the text area to tell it to grow to a maximum of 4\n * rows of text before it starts using a scroll bar inside the text area to scroll the text.\n *\n * We can also create a text area outside the context of a form, like this:\n *\n * This creates two text fields inside a form. Text Fields can also be created outside of a Form, like this:\n *\n *     Ext.create('Ext.field.TextArea', {\n *         label: 'About You',\n *         {@link #placeHolder}: 'Tell us about yourself...'\n *     });\n */\nExt.define('Ext.field.TextArea', {\n    extend: 'Ext.field.Text',\n    xtype: 'textareafield',\n    requires: ['Ext.field.TextAreaInput'],\n    alternateClassName: 'Ext.form.TextArea',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'textarea',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        autoCapitalize: false,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        component: {\n            xtype: 'textareainput'\n        },\n\n        /**\n         * @cfg {Number} maxRows The maximum number of lines made visible by the input.\n         * @accessor\n         */\n        maxRows: null\n    },\n\n    // @private\n    updateMaxRows: function(newRows) {\n        this.getComponent().setMaxRows(newRows);\n    },\n\n    doSetHeight: function(newHeight) {\n        this.callParent(arguments);\n        var component = this.getComponent();\n        component.input.setHeight(newHeight);\n    },\n\n    doSetWidth: function(newWidth) {\n        this.callParent(arguments);\n        var component = this.getComponent();\n        component.input.setWidth(newWidth);\n    },\n\n    /**\n     * Called when a key has been pressed in the `<input>`\n     * @private\n     */\n    doKeyUp: function(me) {\n        // getValue to ensure that we are in sync with the dom\n        var value = me.getValue();\n\n        // show the {@link #clearIcon} if it is being used\n        me[value ? 'showClearIcon' : 'hideClearIcon']();\n    }\n});\n\n/**\n * Utility class for generating different styles of message boxes. The framework provides a global singleton\n * {@link Ext.Msg} for common usage which you should use in most cases.\n *\n * If you want to use {@link Ext.MessageBox} directly, just think of it as a modal {@link Ext.Container}.\n *\n * Note that the MessageBox is asynchronous. Unlike a regular JavaScript `alert` (which will halt browser execution),\n * showing a MessageBox will not cause the code to stop. For this reason, if you have code that should only run _after_\n * some user feedback from the MessageBox, you must use a callback function (see the `fn` configuration option parameter\n * for the {@link #method-show show} method for more details).\n *\n *     @example preview\n *     Ext.Msg.alert('Title', 'The quick brown fox jumped over the lazy dog.', Ext.emptyFn);\n *\n * Checkout {@link Ext.Msg} for more examples.\n *\n */\nExt.define('Ext.MessageBox', {\n    extend  : 'Ext.Sheet',\n    requires: [\n        'Ext.Toolbar',\n        'Ext.field.Text',\n        'Ext.field.TextArea'\n    ],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'dark',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'msgbox',\n\n        /**\n         * @cfg {String} iconCls\n         * CSS class for the icon. The icon should be 40px x 40px.\n         * @accessor\n         */\n        iconCls: null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        showAnimation: {\n            type: 'popIn',\n            duration: 250,\n            easing: 'ease-out'\n        },\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        hideAnimation: {\n            type: 'popOut',\n            duration: 250,\n            easing: 'ease-out'\n        },\n\n        /**\n         * Override the default zIndex so it is normally always above floating components.\n         */\n        zIndex: 10,\n\n        /**\n         * @cfg {Number} defaultTextHeight\n         * The default height in pixels of the message box's multiline textarea if displayed.\n         * @accessor\n         */\n        defaultTextHeight: 75,\n\n        /**\n         * @cfg {String} title\n         * The title of this {@link Ext.MessageBox}.\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @cfg {Array/Object} buttons\n         * An array of buttons, or an object of a button to be displayed in the toolbar of this {@link Ext.MessageBox}.\n         */\n        buttons: null,\n\n        /**\n         * @cfg {String} message\n         * The message to be displayed in the {@link Ext.MessageBox}.\n         * @accessor\n         */\n        message: null,\n\n        /**\n         * @cfg {String} msg\n         * The message to be displayed in the {@link Ext.MessageBox}.\n         * @removed 2.0.0 Please use {@link #message} instead.\n         */\n\n        /**\n         * @cfg {Object} prompt\n         * The configuration to be passed if you want an {@link Ext.field.Text} or {@link Ext.field.TextArea} field\n         * in your {@link Ext.MessageBox}.\n         *\n         * Pass an object with the property \"multiline\" with a value of true, if you want the prompt to use a TextArea.\n         *\n         * Alternatively, you can just pass in an object which has an xtype/xclass of another component.\n         *\n         *     prompt: {\n         *         xtype: 'textarea',\n         *         value: 'test'\n         *     }\n         *\n         * @accessor\n         */\n        prompt: null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        layout: {\n            type: 'vbox',\n            pack: 'center'\n        }\n    },\n\n    statics: {\n        OK    : {text: 'OK',     itemId: 'ok',  ui: 'action'},\n        YES   : {text: 'Yes',    itemId: 'yes', ui: 'action'},\n        NO    : {text: 'No',     itemId: 'no'},\n        CANCEL: {text: 'Cancel', itemId: 'cancel'},\n\n        INFO    : Ext.baseCSSPrefix + 'msgbox-info',\n        WARNING : Ext.baseCSSPrefix + 'msgbox-warning',\n        QUESTION: Ext.baseCSSPrefix + 'msgbox-question',\n        ERROR   : Ext.baseCSSPrefix + 'msgbox-error',\n\n        OKCANCEL: [\n            {text: 'Cancel', itemId: 'cancel'},\n            {text: 'OK',     itemId: 'ok',  ui : 'action'}\n        ],\n        YESNOCANCEL: [\n            {text: 'Cancel', itemId: 'cancel'},\n            {text: 'No',     itemId: 'no'},\n            {text: 'Yes',    itemId: 'yes', ui: 'action'}\n        ],\n        YESNO: [\n            {text: 'No',  itemId: 'no'},\n            {text: 'Yes', itemId: 'yes', ui: 'action'}\n        ]\n    },\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (config.hasOwnProperty('promptConfig')) {\n            Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\", this);\n\n            Ext.applyIf(config, {\n                prompt: config.promptConfig\n            });\n\n            delete config.promptConfig;\n        }\n\n        if (config.hasOwnProperty('multiline') || config.hasOwnProperty('multiLine')) {\n            config.prompt = config.prompt || {};\n            Ext.applyIf(config.prompt, {\n                multiLine: config.multiline || config.multiLine\n            });\n\n            delete config.multiline;\n            delete config.multiLine;\n        }\n\n        this.defaultAllowedConfig = {};\n        var allowedConfigs = ['ui', 'showAnimation', 'hideAnimation', 'title', 'message', 'prompt', 'iconCls', 'buttons', 'defaultTextHeight'],\n            ln = allowedConfigs.length,\n            i, allowedConfig;\n\n        for (i = 0; i < ln; i++) {\n            allowedConfig = allowedConfigs[i];\n            this.defaultAllowedConfig[allowedConfig] = this.defaultConfig[allowedConfig];\n        }\n\n        this.callParent([config]);\n    },\n\n    /**\n     * Creates a new {@link Ext.Toolbar} instance using {@link Ext#factory}\n     * @private\n     */\n    applyTitle: function(config) {\n        if (typeof config == \"string\") {\n            config = {\n                title: config\n            };\n        }\n\n        Ext.applyIf(config, {\n            docked: 'top',\n            cls   : this.getBaseCls() + '-title'\n        });\n\n        return Ext.factory(config, Ext.Toolbar, this.getTitle());\n    },\n\n    /**\n     * Adds the new {@link Ext.Toolbar} instance into this container\n     * @private\n     */\n    updateTitle: function(newTitle) {\n        if (newTitle) {\n            this.add(newTitle);\n        }\n    },\n\n    /**\n     * Adds the new {@link Ext.Toolbar} instance into this container\n     * @private\n     */\n    updateButtons: function(newButtons) {\n        var me = this;\n\n        if (newButtons) {\n            if (me.buttonsToolbar) {\n                me.buttonsToolbar.removeAll();\n                me.buttonsToolbar.setItems(newButtons);\n            } else {\n                me.buttonsToolbar = Ext.create('Ext.Toolbar', {\n                    docked     : 'bottom',\n                    defaultType: 'button',\n                    layout     : {\n                        type: 'hbox',\n                        pack: 'center'\n                    },\n                    ui         : me.getUi(),\n                    cls        : me.getBaseCls() + '-buttons',\n                    items      : newButtons\n                });\n\n                me.add(me.buttonsToolbar);\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    applyMessage: function(config) {\n        config = {\n            html : config,\n            cls  : this.getBaseCls() + '-text'\n        };\n\n        return Ext.factory(config, Ext.Component, this._message);\n    },\n\n    /**\n     * @private\n     */\n    updateMessage: function(newMessage) {\n        if (newMessage) {\n            this.add(newMessage);\n        }\n    },\n\n    getMessage: function() {\n        if (this._message) {\n            return this._message.getHtml();\n        }\n\n        return null;\n    },\n\n    /**\n     * @private\n     */\n    applyIconCls: function(config) {\n        config = {\n            xtype : 'component',\n            docked: 'left',\n            width : 40,\n            height: 40,\n            baseCls: Ext.baseCSSPrefix + 'icon',\n            hidden: (config) ? false : true,\n            cls: config\n        };\n\n        return Ext.factory(config, Ext.Component, this._iconCls);\n    },\n\n    /**\n     * @private\n     */\n    updateIconCls: function(newIconCls, oldIconCls) {\n        var me = this;\n\n        //ensure the title and btuton elements are added first\n        this.getTitle();\n        this.getButtons();\n\n        if (newIconCls && !oldIconCls) {\n            this.add(newIconCls);\n        } else {\n            this.remove(oldIconCls);\n        }\n    },\n\n    getIconCls: function() {\n        var icon = this._iconCls,\n            iconCls;\n\n        if (icon) {\n            iconCls = icon.getCls();\n            return (iconCls) ? iconCls[0] : null;\n        }\n\n        return null;\n    },\n\n    /**\n     * @private\n     */\n    applyPrompt: function(prompt) {\n        if (prompt) {\n            var config = {\n                label: false\n            };\n\n            if (Ext.isObject(prompt)) {\n                Ext.apply(config, prompt);\n            }\n\n            if (config.multiLine) {\n                config.height = Ext.isNumber(config.multiLine) ? parseFloat(config.multiLine) : this.getDefaultTextHeight();\n                return Ext.factory(config, Ext.field.TextArea, this.getPrompt());\n            } else {\n                return Ext.factory(config, Ext.field.Text, this.getPrompt());\n            }\n        }\n\n        return prompt;\n    },\n\n    /**\n     * @private\n     */\n    updatePrompt: function(newPrompt, oldPrompt) {\n        if (newPrompt) {\n            this.add(newPrompt);\n        }\n\n        if (oldPrompt) {\n            this.remove(oldPrompt);\n        }\n    },\n\n    // @private\n    // pass `fn` config to show method instead\n    onClick: function(button) {\n        if (button) {\n            var config = button.config.userConfig || {},\n                initialConfig = button.getInitialConfig(),\n                prompt = this.getPrompt();\n\n            if (typeof config.fn == 'function') {\n                this.on({\n                    hiddenchange: function() {\n                        config.fn.call(\n                            config.scope || null,\n                            initialConfig.itemId || initialConfig.text,\n                            prompt ? prompt.getValue() : null,\n                            config\n                        );\n                    },\n                    single: true,\n                    scope: this\n                });\n            }\n\n            if (config.input) {\n                config.input.dom.blur();\n            }\n        }\n\n        this.hide();\n    },\n\n    /**\n     * Displays the {@link Ext.MessageBox} with a specified configuration. All\n     * display functions (e.g. {@link #method-prompt}, {@link #alert}, {@link #confirm})\n     * on MessageBox call this function internally, although those calls\n     * are basic shortcuts and do not support all of the config options allowed here.\n     *\n     * Example usage:\n     *\n     *     Ext.Msg.show({\n     *        title: 'Address',\n     *        message: 'Please enter your address:',\n     *        width: 300,\n     *        buttons: Ext.MessageBox.OKCANCEL,\n     *        multiLine: true,\n     *        prompt : { maxlength : 180, autocapitalize : true },\n     *        fn: function(buttonId) {\n     *            console.log('You pressed the \"' + buttonId + '\" button.');\n     *        }\n     *     });\n     *\n     * @param {Object} config An object with the following config options:\n     *\n     * @param {Object/Array} config.buttons\n     * A button config object or Array of the same(e.g., `Ext.MessageBox.OKCANCEL` or `{text:'Foo', itemId:'cancel'}`),\n     * or false to not show any buttons.\n     *\n     * Defaults to: `false`\n     *\n     * @param {String} config.cls\n     * A custom CSS class to apply to the message box's container element.\n     *\n     * @param {Function} config.fn\n     * A callback function which is called when the dialog is dismissed by clicking on the configured buttons.\n     *\n     * @param {String} config.fn.buttonId The itemId of the button pressed, one of: 'ok', 'yes', 'no', 'cancel'.\n     * @param {String} config.fn.value Value of the input field if either `prompt` or `multiline` option is true.\n     * @param {Object} config.fn.opt The config object passed to show.\n     *\n     * @param {Number} config.width\n     * A fixed width for the MessageBox.\n     *\n     * Defaults to: `auto`\n     *\n     * @param {Number} config.height\n     * A fixed height for the MessageBox.\n     *\n     * Defaults to: `auto`\n     *\n     * @param {Object} config.scope\n     * The scope of the callback function\n     *\n     * @param {String} config.icon\n     * A CSS class that provides a background image to be used as the body icon for the dialog\n     * (e.g. Ext.MessageBox.WARNING or 'custom-class').\n     *\n     * @param {Boolean} config.modal\n     * False to allow user interaction with the page while the message box is displayed.\n     *\n     * Defaults to: `true`\n     *\n     * @param {String} config.message\n     * A string that will replace the existing message box body text.\n     * Defaults to the XHTML-compliant non-breaking space character `&#160;`.\n     *\n     * @param {Number} config.defaultTextHeight\n     * The default height in pixels of the message box's multiline textarea if displayed.\n     *\n     * Defaults to: `75`\n     *\n     * @param {Boolean} config.prompt\n     * True to prompt the user to enter single-line text. Please view the {@link Ext.MessageBox#method-prompt} documentation in {@link Ext.MessageBox}.\n     * for more information.\n     *\n     * Defaults to: `false`\n     *\n     * @param {Boolean} config.multiline\n     * True to prompt the user to enter multi-line text.\n     *\n     * Defaults to: `false`\n     *\n     * @param {String} config.title\n     * The title text.\n     *\n     * @param {String} config.value\n     * The string value to set into the active textbox element if displayed.\n     *\n     * @return {Ext.MessageBox} this\n     */\n    show: function(initialConfig) {\n        //if it has not been added to a container, add it to the Viewport.\n        if (!this.getParent() && Ext.Viewport) {\n            Ext.Viewport.add(this);\n        }\n\n        if (!initialConfig) {\n            return this.callParent();\n        }\n\n        var config = Ext.Object.merge({}, {\n            value: ''\n        }, initialConfig);\n\n        var buttons        = initialConfig.buttons || Ext.MessageBox.OK || [],\n            buttonBarItems = [],\n            userConfig     = initialConfig;\n\n        Ext.each(buttons, function(buttonConfig) {\n            if (!buttonConfig) {\n                return;\n            }\n\n            buttonBarItems.push(Ext.apply({\n                userConfig: userConfig,\n                scope     : this,\n                handler   : 'onClick'\n            }, buttonConfig));\n        }, this);\n\n        config.buttons = buttonBarItems;\n\n        if (config.promptConfig) {\n            Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\", this);\n        }\n        config.prompt = (config.promptConfig || config.prompt) || null;\n\n        if (config.multiLine) {\n            config.prompt = config.prompt || {};\n            config.prompt.multiLine = config.multiLine;\n            delete config.multiLine;\n        }\n\n        config = Ext.merge({}, this.defaultAllowedConfig, config);\n\n        this.setConfig(config);\n\n        var prompt = this.getPrompt();\n        if (prompt) {\n            prompt.setValue(initialConfig.value || '');\n        }\n\n        this.callParent();\n\n        return this;\n    },\n\n    /**\n     * Displays a standard read-only message box with an OK button (comparable to the basic JavaScript alert prompt). If\n     * a callback function is passed it will be called after the user clicks the button, and the itemId of the button\n     * that was clicked will be passed as the only parameter to the callback.\n     *\n     * @param {String} title The title bar text\n     *\n     * @param {String} message The message box body text\n     *\n     * @param {Function} fn\n     * A callback function which is called when the dialog is dismissed by clicking on the configured buttons.\n     *\n     * @param {String} fn.buttonId The itemId of the button pressed, one of: 'ok', 'yes', 'no', 'cancel'.\n     * @param {String} fn.value Value of the input field if either `prompt` or `multiline` option is true.\n     * @param {Object} fn.opt The config object passed to show.\n     *\n     * @param {Object} scope The scope (`this` reference) in which the callback is executed.\n     * Defaults to: the browser window\n     *\n     * @return {Ext.MessageBox} this\n     */\n    alert: function(title, message, fn, scope) {\n        return this.show({\n            title       : title,\n            message     : message,\n            buttons     : Ext.MessageBox.OK,\n            promptConfig: false,\n            fn          : function() {\n                if (fn) {\n                    fn.apply(scope, arguments);\n                }\n            },\n            scope: scope\n        });\n    },\n\n    /**\n     * Displays a confirmation message box with Yes and No buttons (comparable to JavaScript's confirm). If a callback\n     * function is passed it will be called after the user clicks either button, and the id of the button that was\n     * clicked will be passed as the only parameter to the callback (could also be the top-right close button).\n     *\n     * @param {String} title The title bar text\n     *\n     * @param {String} message The message box body text\n     *\n     * @param {Function} fn\n     * A callback function which is called when the dialog is dismissed by clicking on the configured buttons.\n     *\n     * @param {String} fn.buttonId The itemId of the button pressed, one of: 'ok', 'yes', 'no', 'cancel'.\n     * @param {String} fn.value Value of the input field if either `prompt` or `multiline` option is true.\n     * @param {Object} fn.opt The config object passed to show.\n     *\n     * @param {Object} scope The scope (`this` reference) in which the callback is executed.\n     *\n     * Defaults to: the browser window\n     *\n     * @return {Ext.MessageBox} this\n     */\n    confirm: function(title, message, fn, scope) {\n        return this.show({\n            title       : title,\n            message     : message,\n            buttons     : Ext.MessageBox.YESNO,\n            promptConfig: false,\n            scope       : scope,\n            fn: function() {\n                if (fn) {\n                    fn.apply(scope, arguments);\n                }\n            }\n        });\n    },\n\n    /**\n     * Displays a message box with OK and Cancel buttons prompting the user to enter some text (comparable to\n     * JavaScript's prompt). The prompt can be a single-line or multi-line textbox. If a callback function is passed it\n     * will be called after the user clicks either button, and the id of the button that was clicked (could also be the\n     * top-right close button) and the text that was entered will be passed as the two parameters to the callback.\n     *\n     * Example usage:\n     *\n     *     Ext.Msg.prompt(\n     *         'Welcome!',\n     *         'What\\'s your name going to be today?',\n     *         function (buttonId, value) {\n     *             console.log(value)\n     *         },\n     *         null,\n     *         false,\n     *         null,\n     *         { autoCapitalize : true, placeHolder : 'First-name please...' }\n     *     );\n     *\n     * @param {String} title The title bar text\n     *\n     * @param {String} message The message box body text\n     *\n     * @param {Function} fn\n     * A callback function which is called when the dialog is dismissed by clicking on the configured buttons.\n     *\n     * @param {String} fn.buttonId The itemId of the button pressed, one of: 'ok', 'yes', 'no', 'cancel'.\n     * @param {String} fn.value Value of the input field if either `prompt` or `multiline` option is true.\n     * @param {Object} fn.opt The config object passed to show.\n     *\n     * @param {Object} scope The scope (`this` reference) in which the callback is executed.\n     *\n     * Defaults to: the browser window.\n     *\n     * @param {Boolean/Number} multiLine True to create a multiline textbox using the defaultTextHeight property,\n     * or the height in pixels to create the textbox.\n     *\n     * Defaults to: `false`\n     *\n     * @param {String} value Default value of the text input element.\n     *\n     * @param {Object} prompt\n     * The configuration for the prompt. See the {@link Ext.MessageBox#cfg-prompt prompt} documentation in {@link Ext.MessageBox}\n     * for more information.\n     *\n     * Defaults to: `true`\n     *\n     * @return {Ext.MessageBox} this\n     */\n    prompt: function(title, message, fn, scope, multiLine, value, prompt) {\n        return this.show({\n            title    : title,\n            message  : message,\n            buttons  : Ext.MessageBox.OKCANCEL,\n            scope    : scope,\n            prompt   : prompt || true,\n            multiLine: multiLine,\n            value    : value,\n            fn: function() {\n                if (fn) {\n                    fn.apply(scope, arguments);\n                }\n            }\n        });\n    }\n}, function(MessageBox) {\n    this.override({\n        /**\n         * @cfg {String} icon\n         * Sets CSS class for icon.\n         * @removed 2.0 Use #iconCls instead.\n         */\n\n        /**\n         * Sets #icon.\n         * @deprecated 2.0 Please use #setIconCls instead.\n         * @param {String} icon A CSS classname or empty string to clear the icon\n         * @return {Ext.MessageBox} this\n         */\n        setIcon: function(iconCls, doLayout){\n            Ext.Logger.deprecate(\"Ext.MessageBox#setIcon is deprecated, use setIconCls instead\", 2);\n            this.setIconCls(iconCls);\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc Ext.MessageBox#setMessage\n         * @deprecated 2.0.0 Please use #setMessage instead.\n         */\n        updateText: function(text){\n            Ext.Logger.deprecate(\"Ext.MessageBox#updateText is deprecated, use setMessage instead\", 2);\n            this.setMessage(text);\n\n            return this;\n        }\n    });\n\n    Ext.onSetup(function() {\n        /**\n         * @class Ext.Msg\n         * @extends Ext.MessageBox\n         * @singleton\n         *\n         * A global shared singleton instance of the {@link Ext.MessageBox} class.\n         *\n         * Allows for simple creation of various different alerts and notifications.\n         *\n         * To change any cofigurations on this singleton instance, you must change the\n         * defaultAllowedConfig object.  For example to remove all animations on Msg:\n         *\n         * Ext.Msg.defaultAllowedConfig.showAnimation = false;\n         * Ext.Msg.defaultAllowedConfig.hideAnimation = false;\n         *\n         * ## Examples\n         *\n         * ### Alert\n         * Use the {@link #alert} method to show a basic alert:\n         *\n         *     @example preview\n         *     Ext.Msg.alert('Title', 'The quick brown fox jumped over the lazy dog.', Ext.emptyFn);\n         *\n         * ### Prompt\n         * Use the {@link #method-prompt} method to show an alert which has a textfield:\n         *\n         *     @example preview\n         *     Ext.Msg.prompt('Name', 'Please enter your name:', function(text) {\n         *         // process text value and close...\n         *     });\n         *\n         * ### Confirm\n         * Use the {@link #confirm} method to show a confirmation alert (shows yes and no buttons).\n         *\n         *     @example preview\n         *     Ext.Msg.confirm(\"Confirmation\", \"Are you sure you want to do that?\", Ext.emptyFn);\n         */\n        Ext.Msg = new MessageBox;\n    });\n});\n\n\n/**\n * @private\n */\nExt.define('Ext.dataview.component.Container', {\n    extend: 'Ext.Container',\n\n    requires: [\n        'Ext.dataview.component.DataItem'\n    ],\n\n    /**\n     * @event itemtouchstart\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item touched\n     * @param {Number} index The index of the item touched\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchmove\n     * Fires whenever an item is moved\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item moved\n     * @param {Number} index The index of the item moved\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchend\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item touched\n     * @param {Number} index The index of the item touched\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtap\n     * Fires whenever an item is tapped\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item tapped\n     * @param {Number} index The index of the item tapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtaphold\n     * Fires whenever an item is tapped\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item tapped\n     * @param {Number} index The index of the item tapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemsingletap\n     * Fires whenever an item is doubletapped\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item singletapped\n     * @param {Number} index The index of the item singletapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemdoubletap\n     * Fires whenever an item is doubletapped\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item doubletapped\n     * @param {Number} index The index of the item doubletapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemswipe\n     * Fires whenever an item is swiped\n     * @param {Ext.dataview.component.Container} this\n     * @param {Ext.dataview.component.DataItem} item The item swiped\n     * @param {Number} index The index of the item swiped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    constructor: function() {\n        this.itemCache = [];\n        this.callParent(arguments);\n    },\n\n    //@private\n    doInitialize: function() {\n        this.innerElement.on({\n            touchstart: 'onItemTouchStart',\n            touchend: 'onItemTouchEnd',\n            tap: 'onItemTap',\n            taphold: 'onItemTapHold',\n            touchmove: 'onItemTouchMove',\n            singletap: 'onItemSingleTap',\n            doubletap: 'onItemDoubleTap',\n            swipe: 'onItemSwipe',\n            delegate: '> .' + Ext.baseCSSPrefix + 'data-item',\n            scope: this\n        });\n    },\n\n    //@private\n    initialize: function() {\n        this.callParent();\n        this.doInitialize();\n    },\n\n    onItemTouchStart: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n\n        item.on({\n            touchmove: 'onItemTouchMove',\n            scope   : me,\n            single: true\n        });\n\n        me.fireEvent('itemtouchstart', me, item, me.indexOf(item), e);\n    },\n\n    onItemTouchMove: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemtouchmove', me, item, me.indexOf(item), e);\n    },\n\n    onItemTouchEnd: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n\n        item.un({\n            touchmove: 'onItemTouchMove',\n            scope   : me\n        });\n\n        me.fireEvent('itemtouchend', me, item, me.indexOf(item), e);\n    },\n\n    onItemTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemtap', me, item, me.indexOf(item), e);\n    },\n\n    onItemTapHold: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemtaphold', me, item, me.indexOf(item), e);\n    },\n\n    onItemSingleTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemsingletap', me, item, me.indexOf(item), e);\n    },\n\n    onItemDoubleTap: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemdoubletap', me, item, me.indexOf(item), e);\n    },\n\n    onItemSwipe: function(e) {\n        var me = this,\n            target = e.getTarget(),\n            item = Ext.getCmp(target.id);\n        me.fireEvent('itemswipe', me, item, me.indexOf(item), e);\n    },\n\n    moveItemsToCache: function(from, to) {\n        var me = this,\n            dataview = me.dataview,\n            maxItemCache = dataview.getMaxItemCache(),\n            items = me.getViewItems(),\n            itemCache = me.itemCache,\n            cacheLn = itemCache.length,\n            pressedCls = dataview.getPressedCls(),\n            selectedCls = dataview.getSelectedCls(),\n            i = to - from,\n            item;\n\n        for (; i >= 0; i--) {\n            item = items[from + i];\n            if (cacheLn !== maxItemCache) {\n                me.remove(item, false);\n                item.removeCls([pressedCls, selectedCls]);\n                itemCache.push(item);\n                cacheLn++;\n            }\n            else {\n                item.destroy();\n            }\n        }\n\n        if (me.getViewItems().length == 0) {\n            this.dataview.showEmptyText();\n        }\n    },\n\n    moveItemsFromCache: function(records) {\n        var me = this,\n            dataview = me.dataview,\n            store = dataview.getStore(),\n            ln = records.length,\n            xtype = dataview.getDefaultType(),\n            itemConfig = dataview.getItemConfig(),\n            itemCache = me.itemCache,\n            cacheLn = itemCache.length,\n            items = [],\n            i, item, record;\n\n        if (ln) {\n            dataview.hideEmptyText();\n        }\n\n        for (i = 0; i < ln; i++) {\n            records[i]._tmpIndex = store.indexOf(records[i]);\n        }\n\n        Ext.Array.sort(records, function(record1, record2) {\n            return record1._tmpIndex > record2._tmpIndex ? 1 : -1;\n        });\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            if (cacheLn) {\n                cacheLn--;\n                item = itemCache.pop();\n                this.updateListItem(record, item);\n            }\n            else {\n                item = me.getDataItemConfig(xtype, record, itemConfig);\n            }\n            this.insert(record._tmpIndex, item);\n            delete record._tmpIndex;\n        }\n        return items;\n    },\n\n    getViewItems: function() {\n        return this.getInnerItems();\n    },\n\n    updateListItem: function(record, item) {\n        if (item.updateRecord) {\n            item.updateRecord(record);\n        }\n    },\n\n    getDataItemConfig: function(xtype, record, itemConfig) {\n        var dataview = this.dataview,\n            dataItemConfig = {\n                xtype: xtype,\n                record: record,\n                dataview: dataview,\n                itemCls: dataview.getItemCls(),\n                defaults: itemConfig\n            };\n        return Ext.merge(dataItemConfig, itemConfig);\n    },\n\n    doRemoveItemCls: function(cls) {\n        var items = this.getViewItems(),\n            ln = items.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            items[i].removeCls(cls);\n        }\n    },\n\n    doAddItemCls: function(cls) {\n        var items = this.getViewItems(),\n            ln = items.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            items[i].addCls(cls);\n        }\n    },\n\n    destroy: function() {\n        var me = this,\n            itemCache = me.itemCache,\n            ln = itemCache.length,\n            i = 0;\n\n        for (; i < ln; i++) {\n            itemCache[i].destroy();\n        }\n        this.callParent();\n    }\n});\n\n/**\n * @aside guide dataview\n *\n * DataView makes it easy to create lots of components dynamically, usually based off a {@link Ext.data.Store Store}.\n * It's great for rendering lots of data from your server backend or any other data source and is what powers\n * components like {@link Ext.List}.\n *\n * Use DataView whenever you want to show sets of the same component many times, for examples in apps like these:\n *\n * - List of messages in an email app\n * - Showing latest news/tweets\n * - Tiled set of albums in an HTML5 music player\n *\n * # Creating a Simple DataView\n *\n * At its simplest, a DataView is just a Store full of data and a simple template that we use to render each item:\n *\n *     @example miniphone preview\n *     var touchTeam = Ext.create('Ext.DataView', {\n *         fullscreen: true,\n *         store: {\n *             fields: ['name', 'age'],\n *             data: [\n *                 {name: 'Jamie',  age: 100},\n *                 {name: 'Rob',   age: 21},\n *                 {name: 'Tommy', age: 24},\n *                 {name: 'Jacky', age: 24},\n *                 {name: 'Ed',   age: 26}\n *             ]\n *         },\n *\n *         itemTpl: '<div>{name} is {age} years old</div>'\n *     });\n *\n * Here we just defined everything inline so it's all local with nothing being loaded from a server. For each of the 5\n * data items defined in our Store, DataView will render a {@link Ext.Component Component} and pass in the name and age\n * data. The component will use the tpl we provided above, rendering the data in the curly bracket placeholders we\n * provided.\n *\n * Because DataView is integrated with Store, any changes to the Store are immediately reflected on the screen. For\n * example, if we add a new record to the Store it will be rendered into our DataView:\n *\n *     touchTeam.getStore().add({\n *         name: 'Abe Elias',\n *         age: 33\n *     });\n *\n * We didn't have to manually update the DataView, it's just automatically updated. The same happens if we modify one\n * of the existing records in the Store:\n *\n *     touchTeam.getStore().getAt(0).set('age', 42);\n *\n * This will get the first record in the Store (Jamie), change the age to 42 and automatically update what's on the\n * screen.\n *\n *     @example miniphone\n *     var touchTeam = Ext.create('Ext.DataView', {\n *         fullscreen: true,\n *         store: {\n *             fields: ['name', 'age'],\n *             data: [\n *                 {name: 'Jamie',  age: 100},\n *                 {name: 'Rob',   age: 21},\n *                 {name: 'Tommy', age: 24},\n *                 {name: 'Jacky', age: 24},\n *                 {name: 'Ed',   age: 26}\n *             ]\n *         },\n *\n *         itemTpl: '<div>{name} is {age} years old</div>'\n *     });\n *\n *     touchTeam.getStore().add({\n *         name: 'Abe Elias',\n *         age: 33\n *     });\n *\n *     touchTeam.getStore().getAt(0).set('age', 42);\n *\n * # Loading data from a server\n *\n * We often want to load data from our server or some other web service so that we don't have to hard code it all\n * locally. Let's say we want to load all of the latest tweets about Sencha Touch into a DataView, and for each one\n * render the user's profile picture, user name and tweet message. To do this all we have to do is modify the\n * {@link #store} and {@link #itemTpl} a little:\n *\n *     @example portrait\n *     Ext.create('Ext.DataView', {\n *         fullscreen: true,\n *         cls: 'twitterView',\n *         store: {\n *             autoLoad: true,\n *             fields: ['from_user', 'text', 'profile_image_url'],\n *\n *             proxy: {\n *                 type: 'jsonp',\n *                 url: 'http://search.twitter.com/search.json?q=Sencha Touch',\n *\n *                 reader: {\n *                     type: 'json',\n *                     rootProperty: 'results'\n *                 }\n *             }\n *         },\n *\n *         itemTpl: '<img src=\"{profile_image_url}\" /><h2>{from_user}</h2><p>{text}</p><div style=\"clear: both\"></div>'\n *     });\n *\n * The Store no longer has hard coded data, instead we've provided a {@link Ext.data.proxy.Proxy Proxy}, which fetches\n * the data for us. In this case we used a JSON-P proxy so that we can load from Twitter's JSON-P search API. We also\n * specified the fields present for each tweet, and used Store's {@link Ext.data.Store#autoLoad autoLoad} configuration\n * to load automatically. Finally, we configured a Reader to decode the response from Twitter, telling it to expect\n * JSON and that the tweets can be found in the 'results' part of the JSON response.\n *\n * The last thing we did is update our template to render the image, twitter username and message. All we need to do\n * now is add a little CSS to style the list the way we want it and we end up with a very basic twitter viewer. Click\n * the preview button on the example above to see it in action.\n */\nExt.define('Ext.dataview.DataView', {\n    extend: 'Ext.Container',\n\n    alternateClassName: 'Ext.DataView',\n\n    mixins: ['Ext.mixin.Selectable'],\n\n    xtype: 'dataview',\n\n    requires: [\n        'Ext.LoadMask',\n        'Ext.data.StoreManager',\n        'Ext.dataview.component.Container',\n        'Ext.dataview.element.Container'\n    ],\n\n    /**\n     * @event containertap\n     * Fires when a tap occurs and it is not on a template node.\n     * @removed 2.0.0\n     */\n\n    /**\n     * @event itemtouchstart\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item touched\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem touched\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchmove\n     * Fires whenever an item is moved\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item moved\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem moved\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtouchend\n     * Fires whenever an item is touched\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item touched\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem touched\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtap\n     * Fires whenever an item is tapped\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item tapped\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem tapped\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemtaphold\n     * Fires whenever an item's taphold event fires\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item touched\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem touched\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemsingletap\n     * Fires whenever an item is singletapped\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item singletapped\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem singletapped\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemdoubletap\n     * Fires whenever an item is doubletapped\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item doubletapped\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem doubletapped\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event itemswipe\n     * Fires whenever an item is swiped\n     * @param {Ext.dataview.DataView} this\n     * @param {Number} index The index of the item swiped\n     * @param {Ext.Element/Ext.dataview.component.DataItem} target The element or DataItem swiped\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Ext.EventObject} e The event object\n     */\n\n    /**\n     * @event select\n     * @preventable doItemSelect\n     * Fires whenever an item is selected\n     * @param {Ext.dataview.DataView} this\n     * @param {Ext.data.Model} record The record assosciated to the item\n     */\n\n    /**\n     * @event deselect\n     * @preventable doItemDeselect\n     * Fires whenever an item is deselected\n     * @param {Ext.dataview.DataView} this\n     * @param {Ext.data.Model} record The record assosciated to the item\n     * @param {Boolean} supressed Flag to supress the event\n     */\n\n    /**\n     * @event refresh\n     * @preventable doRefresh\n     * Fires whenever the DataView is refreshed\n     * @param {Ext.dataview.DataView} this\n     */\n\n    /**\n     * @hide\n     * @event add\n     */\n\n    /**\n     * @hide\n     * @event remove\n     */\n\n    /**\n     * @hide\n     * @event move\n     */\n\n    config: {\n        /**\n         * @cfg layout\n         * Hide layout config in DataView. It only causes confusion.\n         * @accessor\n         * @private\n         */\n\n        /**\n         * @cfg {Ext.data.Store/Object} store\n         * Can be either a Store instance or a configuration object that will be turned into a Store. The Store is used\n         * to populate the set of items that will be rendered in the DataView. See the DataView intro documentation for\n         * more information about the relationship between Store and DataView.\n         * @accessor\n         */\n        store: null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'dataview',\n\n        /**\n         * @cfg {String} emptyText\n         * The text to display in the view when there is no data to display\n         */\n        emptyText: null,\n\n        /**\n         * @cfg {Boolean} deferEmptyText True to defer emptyText being applied until the store's first load\n         */\n        deferEmptyText: true,\n\n        /**\n         * @cfg {String/String[]/Ext.XTemplate} itemTpl\n         * The tpl to use for each of the items displayed in this DataView.\n         */\n        itemTpl: '<div>{text}</div>',\n\n        /**\n         * @cfg {String} pressedCls\n         * The CSS class to apply to an item on the view while it is being pressed.\n         * @accessor\n         */\n        pressedCls: 'x-item-pressed',\n\n        /**\n         * @cfg {String} itemCls\n         * An additional CSS class to apply to items within the DataView.\n         * @accessor\n         */\n        itemCls: null,\n\n        /**\n         * @cfg {String} selectedCls\n         * The CSS class to apply to an item on the view while it is selected.\n         * @accessor\n         */\n        selectedCls: 'x-item-selected',\n\n        /**\n         * @cfg {String} triggerEvent\n         * Determines what type of touch event causes an item to be selected. Defaults to 'itemtap'.\n         * Valid options are 'itemtap', 'itemsingletap', 'itemdoubletap', 'itemswipe', 'itemtaphold'.\n         * @accessor\n         */\n        triggerEvent: 'itemtap',\n\n        /**\n         * @cfg {String} triggerCtEvent\n         * Determines what type of touch event is recognized as a touch on the container.\n         * Valid options are 'tap' and 'singletap'.\n         * @accessor\n         */\n        triggerCtEvent: 'tap',\n\n        /**\n         * @cfg {Boolean} deselectOnContainerClick\n         * When set to true, tapping on the DataView's background (i.e. not on\n         * an item in the DataView) will deselect any currently selected items.\n         * @accessor\n         */\n        deselectOnContainerClick: true,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        scrollable: true,\n\n        /**\n         * @cfg {Boolean/Object} inline\n         * When set to true the items within the DataView will have their display set to inline-block\n         * and be arranged horizontally. By default the items will wrap to the width of the DataView.\n         * Passing an object with { wrap: false } will turn off this wrapping behavior and overflowed\n         * items will need to be scrolled to horizontally.\n         * @accessor\n         */\n        inline: null,\n\n        /**\n         * @cfg {Number} pressedDelay\n         * The amount of delay between the tapstart and the moment we add the pressedCls.\n         * Settings this to true defaults to 100ms.\n         * @accessor\n         */\n        pressedDelay: 100,\n\n        /**\n         * @cfg {String} loadingText\n         * A string to display during data load operations (defaults to 'Loading...').  If specified, this text will be\n         * displayed in a loading div and the view's contents will be cleared while loading, otherwise the view's\n         * contents will continue to display normally until the new data is loaded and the contents are replaced.\n         */\n        loadingText: 'Loading...',\n\n        /**\n         * @cfg {Boolean} useComponents\n         * Flag the use a component based DataView implementation.  This allows the full use of components in the\n         * DataView at the cost of some performance.\n         *\n         * Checkout the [DataView Guide](#!/guide/dataview) for more information on using this configuration.\n         * @accessor\n         */\n        useComponents: null,\n\n        /**\n         * @cfg {Object} itemConfig\n         * A configuration object that is passed to every item created by a component based DataView. Because each\n         * item that a DataView renders is a Component, we can pass configuration options to each component to\n         * easily customize how each child component behaves.\n         * Note this is only used when useComponents is true.\n         * @accessor\n         */\n        itemConfig: {},\n\n        /**\n         * @cfg {Number} maxItemCache\n         * Maintains a cache of reusable components when using a component based DataView.  Improveing performance at\n         * the cost of memory.\n         * Note this is currently only used when useComponents is true.\n         * @accessor\n         */\n        maxItemCache: 20,\n\n        /**\n         * @cfg {String} defaultType\n         * The xtype used for the component based DataView. Defaults to dataitem.\n         * Note this is only used when useComponents is true.\n         * @accessor\n         */\n        defaultType: 'dataitem',\n\n        /**\n         * @cfg {String} scrollToTopOnRefresh\n         * Scroll the DataView to the top when the DataView is refreshed\n         * @accessor\n         */\n        scrollToTopOnRefresh: true\n    },\n\n    constructor: function(config) {\n        var me = this;\n\n        if (config && config.layout) {\n            Ext.Logger.warn('Attempting to create a DataView with a layout. DataViews do not have a layout configuration as their items are laid out automatically.');\n            delete config.layout;\n        }\n\n        me.hasLoadedStore = false;\n\n        me.mixins.selectable.constructor.apply(me, arguments);\n\n        me.callParent(arguments);\n    },\n\n    updateItemCls: function(newCls, oldCls) {\n        var container = this.container;\n        if (container) {\n            if (oldCls) {\n                container.doRemoveItemCls(oldCls);\n            }\n            if (newCls) {\n                container.doAddItemCls(newCls);\n            }\n        }\n    },\n\n    storeEventHooks: {\n        beforeload: 'onBeforeLoad',\n        load: 'onLoad',\n        refresh: 'refresh',\n        addrecords: 'onStoreAdd',\n        removerecords: 'onStoreRemove',\n        updaterecord: 'onStoreUpdate'\n    },\n\n    initialize: function() {\n        this.callParent();\n        var me = this,\n            container;\n\n        me.on(me.getTriggerCtEvent(), me.onContainerTrigger, me);\n\n        container = me.container = this.add(new Ext.dataview[me.getUseComponents() ? 'component' : 'element'].Container({\n            baseCls: this.getBaseCls()\n        }));\n        container.dataview = me;\n\n        me.on(me.getTriggerEvent(), me.onItemTrigger, me);\n\n        container.on({\n            itemtouchstart: 'onItemTouchStart',\n            itemtouchend: 'onItemTouchEnd',\n            itemtap: 'onItemTap',\n            itemtaphold: 'onItemTapHold',\n            itemtouchmove: 'onItemTouchMove',\n            itemsingletap: 'onItemSingleTap',\n            itemdoubletap: 'onItemDoubleTap',\n            itemswipe: 'onItemSwipe',\n            scope: me\n        });\n\n        if (this.getStore()) {\n            this.refresh();\n        }\n    },\n\n    applyInline: function(config) {\n        if (Ext.isObject(config)) {\n            config = Ext.apply({}, config);\n        }\n        return config;\n    },\n\n    updateInline: function(newInline, oldInline) {\n        var baseCls = this.getBaseCls();\n        if (oldInline) {\n            this.removeCls([baseCls + '-inlineblock', baseCls + '-nowrap']);\n        }\n        if (newInline) {\n            this.addCls(baseCls + '-inlineblock');\n            if (Ext.isObject(newInline) && newInline.wrap === false) {\n                this.addCls(baseCls + '-nowrap');\n            }\n            else {\n                this.removeCls(baseCls + '-nowrap');\n            }\n        }\n    },\n\n    /**\n     * Function which can be overridden to provide custom formatting for each Record that is used by this\n     * DataView's {@link #tpl template} to render each node.\n     * @param {Object/Object[]} data The raw data object that was used to create the Record.\n     * @param {Number} recordIndex the index number of the Record being prepared for rendering.\n     * @param {Ext.data.Model} record The Record being prepared for rendering.\n     * @return {Array/Object} The formatted data in a format expected by the internal {@link #tpl template}'s overwrite() method.\n     * (either an array if your params are numeric (i.e. {0}) or an object (i.e. {foo: 'bar'}))\n     */\n    prepareData: function(data, index, record) {\n        data.xindex = index + 1;\n        return data;\n    },\n\n    // apply to the selection model to maintain visual UI cues\n    onContainerTrigger: function(e) {\n        var me = this;\n        if (e.target != me.element.dom) {\n            return;\n        }\n        if (me.getDeselectOnContainerClick() && me.getStore()) {\n            me.deselectAll();\n        }\n    },\n\n    // apply to the selection model to maintain visual UI cues\n    onItemTrigger: function(me, index) {\n        this.selectWithEvent(this.getStore().getAt(index));\n    },\n\n    doAddPressedCls: function(record) {\n        var me = this,\n        item = me.container.getViewItems()[me.getStore().indexOf(record)];\n        if (Ext.isElement(item)) {\n            item = Ext.get(item);\n        }\n        if (item) {\n            item.addCls(me.getPressedCls());\n        }\n    },\n\n    onItemTouchStart: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireAction('itemtouchstart', [me, index, target, record, e], 'doItemTouchStart');\n    },\n\n    doItemTouchStart: function(me, index, target, record) {\n        var pressedDelay = me.getPressedDelay();\n\n        if (record) {\n            if (pressedDelay > 0) {\n                me.pressedTimeout = Ext.defer(me.doAddPressedCls, pressedDelay, me, [record]);\n            }\n            else {\n                me.doAddPressedCls(record);\n            }\n        }\n    },\n\n    onItemTouchEnd: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        if (this.hasOwnProperty('pressedTimeout')) {\n            clearTimeout(this.pressedTimeout);\n            delete this.pressedTimeout;\n        }\n\n        if (record && target) {\n            target.removeCls(me.getPressedCls());\n        }\n\n        me.fireEvent('itemtouchend', me, index, target, record, e);\n    },\n\n    onItemTouchMove: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        if (me.hasOwnProperty('pressedTimeout')) {\n            clearTimeout(me.pressedTimeout);\n            delete me.pressedTimeout;\n        }\n\n        if (record && target) {\n            target.removeCls(me.getPressedCls());\n        }\n        me.fireEvent('itemtouchmove', me, index, target, record, e);\n    },\n\n    onItemTap: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireEvent('itemtap', me, index, target, record, e);\n    },\n\n    onItemTapHold: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireEvent('itemtaphold', me, index, target, record, e);\n    },\n\n    onItemSingleTap: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireEvent('itemsingletap', me, index, target, record, e);\n    },\n\n    onItemDoubleTap: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireEvent('itemdoubletap', me, index, target, record, e);\n    },\n\n    onItemSwipe: function(container, target, index, e) {\n        var me = this,\n            store = me.getStore(),\n            record = store && store.getAt(index);\n\n        me.fireEvent('itemswipe', me, index, target, record, e);\n    },\n\n    // invoked by the selection model to maintain visual UI cues\n    onItemSelect: function(record, suppressEvent) {\n        var me = this;\n        if (suppressEvent) {\n            me.doItemSelect(me, record);\n        } else {\n            me.fireAction('select', [me, record], 'doItemSelect');\n        }\n    },\n\n    // invoked by the selection model to maintain visual UI cues\n    doItemSelect: function(me, record) {\n        if (me.container && !me.isDestroyed) {\n            var item = me.container.getViewItems()[me.getStore().indexOf(record)];\n            if (Ext.isElement(item)) {\n                item = Ext.get(item);\n            }\n            if (item) {\n                item.removeCls(me.getPressedCls());\n                item.addCls(me.getSelectedCls());\n            }\n        }\n    },\n\n    // invoked by the selection model to maintain visual UI cues\n    onItemDeselect: function(record, suppressEvent) {\n        var me = this;\n        if (me.container && !me.isDestroyed) {\n            if (suppressEvent) {\n                me.doItemDeselect(me, record);\n            }\n            else {\n                me.fireAction('deselect', [me, record, suppressEvent], 'doItemDeselect');\n            }\n        }\n    },\n\n    doItemDeselect: function(me, record) {\n        var item = me.container.getViewItems()[me.getStore().indexOf(record)];\n\n        if (Ext.isElement(item)) {\n            item = Ext.get(item);\n        }\n\n        if (item) {\n            item.removeCls([me.getPressedCls(), me.getSelectedCls()]);\n        }\n    },\n\n    updateData: function(data) {\n        var store = this.getStore();\n        if (!store) {\n            this.setStore(Ext.create('Ext.data.Store', {\n                data: data\n            }));\n        } else {\n            store.add(data);\n        }\n    },\n\n    applyStore: function(store) {\n        var me = this,\n            bindEvents = Ext.apply({}, me.storeEventHooks, { scope: me }),\n            proxy, reader;\n\n        if (store) {\n            store = Ext.data.StoreManager.lookup(store);\n            if (store && Ext.isObject(store) && store.isStore) {\n                store.on(bindEvents);\n                proxy = store.getProxy();\n                if (proxy) {\n                    reader = proxy.getReader();\n                    if (reader) {\n                        reader.on('exception', 'handleException', this);\n                    }\n                }\n            }\n            else {\n                Ext.Logger.warn(\"The specified Store cannot be found\", this);\n            }\n        }\n\n        return store;\n    },\n\n    /**\n     * Method called when the Store's Reader throws an exception\n     * @method handleException\n     */\n    handleException: function() {\n        this.setMasked(false);\n    },\n\n    updateStore: function(newStore, oldStore) {\n        var me = this,\n            bindEvents = Ext.apply({}, me.storeEventHooks, { scope: me }),\n            proxy, reader;\n\n        if (oldStore && Ext.isObject(oldStore) && oldStore.isStore) {\n            if (oldStore.autoDestroy) {\n                oldStore.destroy();\n            }\n            else {\n                oldStore.un(bindEvents);\n                proxy = oldStore.getProxy();\n                if (proxy) {\n                    reader = proxy.getReader();\n                    if (reader) {\n                        reader.un('exception', 'handleException', this);\n                    }\n                }\n            }\n        }\n\n        if (newStore) {\n            if (newStore.isLoaded()) {\n                this.hasLoadedStore = true;\n            }\n\n            if (newStore.isLoading()) {\n                me.onBeforeLoad();\n            }\n            if (me.container) {\n                me.refresh();\n            }\n        }\n    },\n\n    onBeforeLoad: function() {\n        var scrollable = this.getScrollable();\n        if (scrollable) {\n            scrollable.getScroller().stopAnimation();\n        }\n\n        var loadingText = this.getLoadingText();\n        if (loadingText) {\n            this.setMasked({\n                xtype: 'loadmask',\n                message: loadingText\n            });\n\n            //disable scorlling while it is masked\n            if (scrollable) {\n                scrollable.getScroller().setDisabled(true);\n            }\n        }\n\n        this.hideEmptyText();\n    },\n\n    updateEmptyText: function(newEmptyText, oldEmptyText) {\n        var me = this,\n            store;\n\n        if (oldEmptyText && me.emptyTextCmp) {\n            me.remove(me.emptyTextCmp, true);\n            delete me.emptyTextCmp;\n        }\n\n        if (newEmptyText) {\n            me.emptyTextCmp = me.add({\n                xtype: 'component',\n                cls: me.getBaseCls() + '-emptytext',\n                html: newEmptyText,\n                hidden: true\n            });\n            store = me.getStore();\n            if (store && me.hasLoadedStore && !store.getCount()) {\n                this.showEmptyText();\n            }\n        }\n    },\n\n    onLoad: function(store) {\n        var scrollable = this.getScrollable();\n\n        //remove any masks on the store\n        this.hasLoadedStore = true;\n        this.setMasked(false);\n\n        //enable the scroller again\n        if (scrollable) {\n            scrollable.getScroller().setDisabled(false);\n        }\n        if (!store.getCount()) {\n            this.showEmptyText();\n        }\n    },\n\n    /**\n     * Refreshes the view by reloading the data from the store and re-rendering the template.\n     */\n    refresh: function() {\n        var me = this,\n            container = me.container;\n\n        if (!me.getStore()) {\n            if (!me.hasLoadedStore && !me.getDeferEmptyText()) {\n                me.showEmptyText();\n            }\n            return;\n        }\n        if (container) {\n            me.fireAction('refresh', [me], 'doRefresh');\n        }\n    },\n\n    applyItemTpl: function(config) {\n        return (Ext.isObject(config) && config.isTemplate) ? config : new Ext.XTemplate(config);\n    },\n\n    onAfterRender: function() {\n        var me = this;\n        me.callParent(arguments);\n        me.updateStore(me.getStore());\n    },\n\n    getViewItems: function() {\n        return this.container.getViewItems();\n    },\n\n    doRefresh: function(me) {\n        var container = me.container,\n            store = me.getStore(),\n            records = store.getRange(),\n            items = container.getViewItems(),\n            recordsLn = records.length,\n            itemsLn = items.length,\n            deltaLn = recordsLn - itemsLn,\n            scrollable = me.getScrollable(),\n            i, item;\n\n        if (this.getScrollToTopOnRefresh() && scrollable) {\n            scrollable.getScroller().scrollToTop();\n        }\n\n        // No items, hide all the items from the collection.\n        if (recordsLn < 1) {\n            me.onStoreClear();\n            return;\n        }\n\n        // Too many items, hide the unused ones\n        if (deltaLn < 0) {\n            container.moveItemsToCache(itemsLn + deltaLn, itemsLn - 1);\n            // Items can changed, we need to refresh our references\n            items = container.getViewItems();\n            itemsLn = items.length;\n        }\n        // Not enough items, create new ones\n        else if (deltaLn > 0) {\n            container.moveItemsFromCache(store.getRange(itemsLn));\n        }\n\n        // Update Data and insert the new html for existing items\n        for (i = 0; i < itemsLn; i++) {\n            item = items[i];\n            container.updateListItem(records[i], item);\n        }\n    },\n\n    showEmptyText: function() {\n        if (this.getEmptyText() && (this.hasLoadedStore || !this.getDeferEmptyText()) ) {\n            this.emptyTextCmp.show();\n        }\n    },\n\n    hideEmptyText: function() {\n        if (this.getEmptyText()) {\n            this.emptyTextCmp.hide();\n        }\n    },\n\n    onStoreClear: function() {\n        var me = this,\n            container = me.container,\n            items = container.getViewItems();\n\n        container.moveItemsToCache(0, items.length - 1);\n        this.showEmptyText();\n    },\n\n    // private\n    onStoreAdd: function(store, records) {\n        if (records) {\n            this.container.moveItemsFromCache(records);\n        }\n    },\n\n    // private\n    onStoreRemove: function(store, records, indices) {\n        var container = this.container,\n            ln = records.length,\n            i;\n        for (i = 0; i < ln; i++) {\n            container.moveItemsToCache(indices[i], indices[i]);\n        }\n    },\n\n    // private\n    onStoreUpdate: function(store, record, newIndex, oldIndex) {\n        var me = this,\n            container = me.container;\n        oldIndex = (typeof oldIndex === 'undefined') ? newIndex : oldIndex;\n\n\n        if (oldIndex !== newIndex) {\n            container.moveItemsToCache(oldIndex, oldIndex);\n            container.moveItemsFromCache([record]);\n            if (me.isSelected(record)) {\n                me.doItemSelect(me, record);\n            }\n        }\n        else {\n            // Bypassing setter because sometimes we pass the same record (different data)\n            container.updateListItem(record, container.getViewItems()[newIndex]);\n        }\n    }\n}, function() {\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method collectData\n     * Function which can be overridden which returns the data object passed to\n     * this DataView's template to render the whole DataView.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'collectData', null, \"Ext.dataview.DataView.collectData() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method findItemByChild\n     * Returns the template node the passed child belongs to, or null if it doesn't belong to one.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'findItemByChild', null, \"Ext.dataview.DataView.findItemByChild() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method findTargetByEvent\n     * Returns the template node by the Ext.EventObject or null if it is not found.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'findTargetByEvent', null, \"Ext.dataview.DataView.findTargetByEvent() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method getNode\n     * Gets a template node.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'getNode', null, \"Ext.dataview.DataView.getNode() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method getNodes\n     * Gets a range nodes.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'getNodes', null, \"Ext.dataview.DataView.getNodes() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method getRecords\n     * Gets an array of the records from an array of nodes.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'getRecords', null, \"Ext.dataview.DataView.getRecords() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method getSelectedNodes\n     * Gets the currently selected nodes.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'getSelectedNodes', null, \"Ext.dataview.DataView.getSelectedNodes() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method getSelectedRecords\n     * Gets an array of the selected records.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'getSelectedRecords', null, \"Ext.dataview.DataView.getSelectedRecords() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method indexOf\n     * Finds the index of the passed node.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'indexOf', null, \"Ext.dataview.DataView.indexOf() has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @method refreshNode\n     * Refreshes an individual node's data from the store.\n     * @removed 2.0.0\n     */\n    Ext.deprecateMethod(this, 'refreshNode', null, \"Ext.dataview.DataView.refreshNode() has been removed\");\n\n    /**\n     * Binds a new {@link Ext.data.Store Store} to this DataView.\n     * @deprecated 2.0 please use {@link #setStore} instead\n     * @method bindStore\n     */\n    Ext.deprecateClassMethod(this, 'bindStore', 'setStore');\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} blockRefresh\n     * Set this to true to ignore datachanged events on the bound store.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'blockRefresh', null, \"Ext.dataview.DataView.blockRefresh has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} itemSelector\n     * A simple CSS selector that will be used to determine what nodes this DataView will be working with.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'itemSelector', null, \"Ext.dataview.DataView.itemSelector has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} multiSelect\n     * True to allow selection of more than one item at a time.\n     * @removed 2.0.0 multiSelect is deprecated. Please use {@link Ext.mixin.Selectable#mode mode} instead\n     */\n    Ext.deprecateProperty(this, 'multiSelect', null, \"Ext.dataview.DataView.multiSelect has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} overItemCls\n     * A CSS class to apply to each item in the view on mouseover.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'overItemCls', null, \"Ext.dataview.DataView.overItemCls has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} selectedItemCls\n     * A CSS class to apply to each selected item in the view.\n     * @removed 2.0.0 Please use {@link #selectedCls selectedCls} instead\n     */\n    Ext.deprecateProperty(this, 'selectedItemCls', null, \"Ext.dataview.DataView.selectedItemCls has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} simpleSelect\n     * True to enable multiselection by clicking on multiple items without requiring\n     * the user to hold Shift or Ctrl, false to force the user to hold Ctrl or Shift\n     * to select more than on item.\n     * @removed 2.0.0 Please use {@link Ext.mixin.Selectable#mode mode} instead\n     */\n    Ext.deprecateProperty(this, 'simpleSelect', null, \"Ext.dataview.DataView.simpleSelect has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} singleSelect\n     * True to allow selection of exactly one item at a time, false to allow no selection at all.\n     * @removed 2.0.0 Please use {@link Ext.mixin.Selectable#mode mode} instead\n     */\n    Ext.deprecateProperty(this, 'singleSelect', null, \"Ext.dataview.DataView.singleSelect has been removed\");\n\n    /**\n     * @member Ext.dataview.DataView\n     * @cfg {Boolean} trackOver\n     * True to enable mouseenter and mouseleave events.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'trackOver', null, \"Ext.dataview.DataView.trackOver has been removed\");\n\n});\n\n/**\n * @aside guide list\n * @aside video list\n *\n * List is a custom styled DataView which allows Grouping, Indexing, Icons, and a Disclosure. See the\n * [Guide](#!/guide/list) and [Video](#!/video/list) for more.\n *\n *     @example miniphone preview\n *     Ext.create('Ext.List', {\n *         fullscreen: true,\n *         itemTpl: '{title}',\n *         data: [\n *             { title: 'Item 1' },\n *             { title: 'Item 2' },\n *             { title: 'Item 3' },\n *             { title: 'Item 4' }\n *         ]\n *     });\n *\n * A more advanced example showing a list of people groped by last name:\n *\n *     @example miniphone preview\n *     Ext.define('Contact', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['firstName', 'lastName']\n *         }\n *     });\n *\n *     var store = Ext.create('Ext.data.Store', {\n *        model: 'Contact',\n *        sorters: 'lastName',\n *\n *        grouper: {\n *            groupFn: function(record) {\n *                return record.get('lastName')[0];\n *            }\n *        },\n *\n *        data: [\n *            { firstName: 'Tommy',   lastName: 'Maintz'  },\n *            { firstName: 'Rob',     lastName: 'Dougan'  },\n *            { firstName: 'Ed',      lastName: 'Spencer' },\n *            { firstName: 'Jamie',   lastName: 'Avins'   },\n *            { firstName: 'Aaron',   lastName: 'Conran'  },\n *            { firstName: 'Dave',    lastName: 'Kaneda'  },\n *            { firstName: 'Jacky',   lastName: 'Nguyen'  },\n *            { firstName: 'Abraham', lastName: 'Elias'   },\n *            { firstName: 'Jay',     lastName: 'Robinson'},\n *            { firstName: 'Nigel',   lastName: 'White'   },\n *            { firstName: 'Don',     lastName: 'Griffin' },\n *            { firstName: 'Nico',    lastName: 'Ferrero' },\n *            { firstName: 'Jason',   lastName: 'Johnston'}\n *        ]\n *     });\n *\n *     Ext.create('Ext.List', {\n *        fullscreen: true,\n *        itemTpl: '<div class=\"contact\">{firstName} <strong>{lastName}</strong></div>',\n *        store: store,\n *        grouped: true\n *     });\n*/\nExt.define('Ext.dataview.List', {\n    alternateClassName: 'Ext.List',\n    extend: 'Ext.dataview.DataView',\n    xtype : 'list',\n\n    requires: [\n        'Ext.dataview.element.List',\n        'Ext.dataview.IndexBar',\n        'Ext.dataview.ListItemHeader'\n    ],\n\n    /**\n     * @event disclose\n     * @preventable doDisclose\n     * Fires whenever a disclosure is handled\n     * @param {Ext.dataview.List} this The List instance\n     * @param {Ext.data.Model} record The record assisciated to the item\n     * @param {HTMLElement} target The element doubletapped\n     * @param {Number} index The index of the item doubletapped\n     * @param {Ext.EventObject} e The event object\n     */\n\n    config: {\n        /**\n         * @cfg {Boolean/Object} indexBar\n         * True to render an alphabet IndexBar docked on the right.\n         * This can also be a config object that will be passed to {@link Ext.IndexBar}\n         * (defaults to false)\n         * @accessor\n         */\n        indexBar: false,\n\n        icon: null,\n\n        /**\n         * @cfg {Boolean} clearSelectionOnDeactivate\n         * True to clear any selections on the list when the list is deactivated.\n         * @removed 2.0.0\n         */\n\n        /**\n         * @cfg {Boolean} preventSelectionOnDisclose True to prevent the item selection when the user\n         * taps a disclose icon. Defaults to <tt>true</tt>\n         * @accessor\n         */\n        preventSelectionOnDisclose: true,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: Ext.baseCSSPrefix + 'list',\n\n        /**\n         * @cfg {Boolean} pinHeaders\n         * Whether or not to pin headers on top of item groups while scrolling for an iPhone native list experience.\n         * @accessor\n         */\n        pinHeaders: true,\n\n        /**\n         * @cfg {Boolean} grouped\n         * Whether or not to group items in the provided Store with a header for each item.\n         * @accessor\n         */\n        grouped: false,\n\n        /**\n         * @cfg {Boolean/Function/Object} onItemDisclosure\n         * True to display a disclosure icon on each list item.\n         * The list will still fire the disclose event, and the event can be stopped before itemtap.\n         * By setting this config to a function, the function passed will be called when the disclosure\n         * is tapped.\n         * Finally you can specify an object with a 'scope' and 'handler'\n         * property defined. This will also be bound to the tap event listener\n         * and is useful when you want to change the scope of the handler.\n         * @accessor\n         */\n        onItemDisclosure: null,\n\n        /**\n         * @cfg {String} disclosureProperty\n         * A property to check on each record to display the disclosure on a per record basis.  This\n         * property must be false to prevent the disclosure from being displayed on the item.\n         * @accessor\n         */\n        disclosureProperty: 'disclosure',\n\n        /**\n         * @cfg {String} ui\n         * The style of this list. Available options are `normal` and `round`.\n         */\n        ui: 'normal'\n\n        /**\n         * @cfg {Boolean} useComponents\n         * Flag the use a component based DataView implementation.  This allows the full use of components in the\n         * DataView at the cost of some performance.\n         *\n         * Checkout the [DataView Guide](#!/guide/dataview) for more information on using this configuration.\n         * @accessor\n         * @private\n         */\n\n        /**\n         * @cfg {Object} itemConfig\n         * A configuration object that is passed to every item created by a component based DataView. Because each\n         * item that a DataView renders is a Component, we can pass configuration options to each component to\n         * easily customize how each child component behaves.\n         * Note this is only used when useComponents is true.\n         * @accessor\n         * @private\n         */\n\n        /**\n         * @cfg {Number} maxItemCache\n         * Maintains a cache of reusable components when using a component based DataView.  Improveing performance at\n         * the cost of memory.\n         * Note this is currently only used when useComponents is true.\n         * @accessor\n         * @private\n         */\n\n        /**\n         * @cfg {String} defaultType\n         * The xtype used for the component based DataView. Defaults to dataitem.\n         * Note this is only used when useComponents is true.\n         * @accessor\n         * @private\n         */\n    },\n\n    constructor: function() {\n        this.translateHeader = (Ext.os.is.Android2) ? this.translateHeaderCssPosition : this.translateHeaderTransform;\n        this.callParent(arguments);\n    },\n\n    // apply to the selection model to maintain visual UI cues\n    onItemTrigger: function(me, index, target, record, e) {\n        if (!(this.getPreventSelectionOnDisclose() && Ext.fly(e.target).hasCls(this.getBaseCls() + '-disclosure'))) {\n            this.callParent(arguments);\n        }\n    },\n\n    initialize: function() {\n        var me = this,\n            container;\n\n        me.on(me.getTriggerCtEvent(), me.onContainerTrigger, me);\n\n        container = me.container = this.add(new Ext.dataview.element.List({\n            baseCls: this.getBaseCls()\n        }));\n        container.dataview = me;\n\n        me.on(me.getTriggerEvent(), me.onItemTrigger, me);\n\n        container.element.on({\n            delegate: '.' + this.getBaseCls() + '-disclosure',\n            tap: 'handleItemDisclosure',\n            scope: me\n        });\n\n        container.on({\n            itemtouchstart: 'onItemTouchStart',\n            itemtouchend: 'onItemTouchEnd',\n            itemtap: 'onItemTap',\n            itemtaphold: 'onItemTapHold',\n            itemtouchmove: 'onItemTouchMove',\n            itemsingletap: 'onItemSingleTap',\n            itemdoubletap: 'onItemDoubleTap',\n            itemswipe: 'onItemSwipe',\n            scope: me\n        });\n\n        if (this.getStore()) {\n            this.refresh();\n        }\n    },\n\n    updateInline: function(newInline) {\n        this.callParent(arguments);\n        if (newInline) {\n            this.setOnItemDisclosure(false);\n            this.setIndexBar(false);\n            this.setGrouped(false);\n        }\n    },\n\n    applyIndexBar: function(indexBar) {\n        return Ext.factory(indexBar, Ext.dataview.IndexBar, this.getIndexBar());\n    },\n\n    updateIndexBar: function(indexBar) {\n        if (indexBar && this.getScrollable()) {\n            this.indexBarElement = this.getScrollableBehavior().getScrollView().getElement().appendChild(indexBar.renderElement);\n\n            indexBar.on({\n                index: 'onIndex',\n                scope: this\n            });\n\n            this.element.addCls(this.getBaseCls() + '-indexed');\n        }\n    },\n\n    updateGrouped: function(grouped) {\n        var baseCls = this.getBaseCls(),\n            cls = baseCls + '-grouped',\n            unCls = baseCls + '-ungrouped';\n\n        if (grouped) {\n            this.addCls(cls);\n            this.removeCls(unCls);\n            this.doRefreshHeaders();\n            this.updatePinHeaders(this.getPinHeaders());\n        }\n        else {\n            this.addCls(unCls);\n            this.removeCls(cls);\n\n            if (this.container) {\n                this.container.doRemoveHeaders();\n            }\n\n            this.updatePinHeaders(null);\n        }\n    },\n\n    updatePinHeaders: function(pinnedHeaders) {\n        var scrollable = this.getScrollable(),\n            scroller;\n\n        if (scrollable) {\n            scroller = scrollable.getScroller();\n        }\n\n        if (!scrollable) {\n            return;\n        }\n\n        if (pinnedHeaders && this.getGrouped()) {\n            scroller.on({\n                refresh: 'doRefreshHeaders',\n                scroll: 'onScroll',\n                scope: this\n            });\n\n            if (!this.header || !this.header.renderElement.dom) {\n                this.createHeader();\n            }\n        } else {\n            scroller.un({\n                refresh: 'doRefreshHeaders',\n                scroll: 'onScroll',\n                scope: this\n            });\n\n            if (this.header) {\n                this.header.destroy();\n            }\n        }\n    },\n\n    createHeader: function() {\n        var header,\n            scrollable = this.getScrollable(),\n            scroller, scrollView, scrollViewElement;\n\n        if (scrollable) {\n            scroller = scrollable.getScroller();\n            scrollView = this.getScrollableBehavior().getScrollView();\n            scrollViewElement = scrollView.getElement();\n        }\n        else {\n            return;\n        }\n\n        this.header = header = Ext.create('Ext.dataview.ListItemHeader', {\n            html: ' ',\n            cls: 'x-list-header-swap'\n        });\n        scrollViewElement.dom.insertBefore(header.element.dom, scroller.getContainer().dom.nextSibling);\n        this.translateHeader(1000);\n    },\n\n    // We need to use the same events as the DataView so we are sure we run AFTER the list populates\n    refresh: function() {\n        this.callParent();\n        this.doRefreshHeaders();\n    },\n\n    onStoreAdd: function() {\n        this.callParent(arguments);\n        this.doRefreshHeaders();\n    },\n\n    onStoreRemove: function() {\n        this.callParent(arguments);\n        this.doRefreshHeaders();\n    },\n\n    onStoreUpdate: function() {\n        this.callParent(arguments);\n        this.doRefreshHeaders();\n    },\n\n    onStoreClear: function() {\n        this.callParent();\n        if (this.header) {\n            this.header.destroy();\n        }\n        this.doRefreshHeaders();\n    },\n\n    // @private\n    getClosestGroups : function() {\n        var groups = this.pinHeaderInfo.offsets,\n            scrollable = this.getScrollable(),\n            ln = groups.length,\n            i = 0,\n            pos, group, current, next;\n\n        if (scrollable) {\n            pos = scrollable.getScroller().position;\n        }\n        else {\n            return {\n                current: 0,\n                next: 0\n            };\n        }\n\n        for (; i < ln; i++) {\n            group = groups[i];\n            if (group.offset > pos.y) {\n                next = group;\n                break;\n            }\n            current = group;\n        }\n\n        return {\n            current: current,\n            next: next\n        };\n    },\n\n    doRefreshHeaders: function() {\n        if (!this.getGrouped() || !this.container) {\n            return false;\n        }\n\n        var headerIndices = this.findGroupHeaderIndices(),\n            ln = headerIndices.length,\n            items = this.container.getViewItems(),\n            headerInfo = this.pinHeaderInfo = {offsets: []},\n            headerOffsets = headerInfo.offsets,\n            scrollable = this.getScrollable(),\n            scroller, scrollPosition, i, headerItem, header;\n\n        if (ln) {\n            for (i = 0; i < ln; i++) {\n                headerItem = items[headerIndices[i]];\n                if (headerItem) {\n                    header = this.getItemHeader(headerItem);\n\n                    headerOffsets.push({\n                        header: header,\n                        offset: headerItem.offsetTop\n                    });\n                }\n            }\n\n            headerInfo.closest = this.getClosestGroups();\n            this.setActiveGroup(headerInfo.closest.current);\n            if (header) {\n                headerInfo.headerHeight = Ext.fly(header).getHeight();\n            }\n\n            // Ensure the pinned header is positioned correctly\n            if (scrollable) {\n                scroller = scrollable.getScroller();\n                scrollPosition = scroller.position;\n                this.onScroll(scroller, scrollPosition.x, scrollPosition.y);\n            }\n        }\n    },\n\n    getItemHeader: function(item) {\n        var element = Ext.fly(item).down(this.container.headerClsCache);\n        return element ? element.dom : null;\n    },\n\n    onScroll: function(scroller, x, y) {\n        var me = this,\n            headerInfo = me.pinHeaderInfo,\n            closest = headerInfo.closest,\n            activeGroup = me.activeGroup,\n            headerHeight = headerInfo.headerHeight,\n            next, current;\n\n        if (!closest) {\n            return;\n        }\n\n        next = closest.next;\n        current = closest.current;\n\n        if (!this.header || !this.header.renderElement.dom) {\n            this.createHeader();\n        }\n\n        if (y <= 0) {\n            if (activeGroup) {\n                me.setActiveGroup(false);\n                closest.next = current;\n            }\n            this.translateHeader(1000);\n            return;\n        }\n        else if ((next && y > next.offset) || (current && y < current.offset)) {\n            closest = headerInfo.closest = this.getClosestGroups();\n            next = closest.next;\n            current = closest.current;\n            this.setActiveGroup(current);\n        }\n\n        if (next && y > 0 && next.offset - y <= headerHeight) {\n            var headerOffset = headerHeight - (next.offset - y);\n            this.translateHeader(headerOffset);\n        }\n        else {\n            this.translateHeader(null);\n        }\n    },\n\n    translateHeaderTransform: function(offset) {\n        this.header.renderElement.dom.style.webkitTransform = (offset === null) ? null : 'translate3d(0px, -' + offset + 'px, 0px)';\n    },\n\n    translateHeaderCssPosition: function(offset) {\n        this.header.renderElement.dom.style.top = (offset === null) ? null : '-' + Math.round(offset) + 'px';\n    },\n\n    /**\n     * Set the current active group\n     * @param {Object} group The group to set active\n     * @private\n     */\n    setActiveGroup : function(group) {\n        var me = this,\n            header = me.header;\n        if (header) {\n            if (group && group.header) {\n                if (!me.activeGroup || me.activeGroup.header != group.header) {\n                    header.show();\n\n                    if (header.element) {\n                        header.setHtml(group.header.innerHTML);\n                    }\n                }\n            } else if (header && header.element) {\n                header.hide();\n            }\n        }\n\n        this.activeGroup = group;\n    },\n\n    onIndex: function(indexBar, index) {\n        var me = this,\n            key = index.toLowerCase(),\n            store = me.getStore(),\n            groups = store.getGroups(),\n            ln = groups.length,\n            scrollable = me.getScrollable(),\n            scroller, group, i, closest, id, item;\n\n        if (scrollable) {\n            scroller = me.getScrollable().getScroller();\n        }\n        else {\n            return;\n        }\n\n        for (i = 0; i < ln; i++) {\n            group = groups[i];\n            id = group.name.toLowerCase();\n            if (id == key || id > key) {\n                closest = group;\n                break;\n            }\n            else {\n                closest = group;\n            }\n        }\n\n        if (scrollable && closest) {\n            item = me.container.getViewItems()[store.indexOf(closest.children[0])];\n\n            //stop the scroller from scrolling\n            scroller.stopAnimation();\n\n            //make sure the new offsetTop is not out of bounds for the scroller\n            var containerSize = scroller.getContainerSize().y,\n                size = scroller.getSize().y,\n                maxOffset = size - containerSize,\n                offset = (item.offsetTop > maxOffset) ? maxOffset : item.offsetTop;\n\n            scroller.scrollTo(0, offset);\n        }\n    },\n\n    applyOnItemDisclosure: function(config) {\n        if (Ext.isFunction(config)) {\n            return {\n                scope: this,\n                handler: config\n            };\n        }\n        return config;\n    },\n\n    handleItemDisclosure: function(e) {\n        var me = this,\n            item = e.getTarget().parentNode,\n            index = me.container.getViewItems().indexOf(item),\n            record = me.getStore().getAt(index);\n\n        me.fireAction('disclose', [me, record, item, index, e], 'doDisclose');\n    },\n\n    doDisclose: function(me, record, item, index, e) {\n        var onItemDisclosure = me.getOnItemDisclosure();\n\n        if (onItemDisclosure && onItemDisclosure.handler) {\n            onItemDisclosure.handler.call(onItemDisclosure.scope || me, record, item, index, e);\n        }\n    },\n\n    findGroupHeaderIndices: function() {\n        if (!this.getGrouped()) {\n            return [];\n        }\n        var me = this,\n            store = me.getStore();\n        if (!store) {\n            return [];\n        }\n\n        var container = me.container,\n            groups = store.getGroups(),\n            groupLn = groups.length,\n            items = container.getViewItems(),\n            newHeaderItems = [],\n            footerClsShortCache = container.footerClsShortCache,\n            i, firstGroupedRecord, index, item, lastGroup;\n\n        container.doRemoveHeaders();\n        container.doRemoveFooterCls();\n\n        if (items.length) {\n            for (i = 0; i < groupLn; i++) {\n                firstGroupedRecord = groups[i].children[0];\n                index = store.indexOf(firstGroupedRecord);\n                item = items[index];\n                container.doAddHeader(item, store.getGroupString(firstGroupedRecord));\n                // Skip footer before the first Header\n                if (i) {\n                    Ext.fly(item.previousSibling).addCls(footerClsShortCache);\n                }\n                newHeaderItems.push(index);\n            }\n            // Add footer before the last item\n            lastGroup = groups[--i].children;\n            Ext.fly(items[store.indexOf(lastGroup[lastGroup.length - 1])]).addCls(footerClsShortCache);\n        }\n\n        return newHeaderItems;\n    },\n\n    destroy: function() {\n        Ext.destroy(this.getIndexBar(), this.indexBarElement, this.header);\n        this.callParent();\n    }\n});\n\nExt.define('B2B.view.Activity_List', {\n    extend: 'Ext.dataview.List',\n    requires: [\n        'Ext.plugin.PullRefresh'\n    ],\n    xtype: 'activitylist',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n        plugins: [\n            {\n                xclass: 'Ext.plugin.PullRefresh',\n                pullRefreshText: 'Pull down for more!'\n            }\n        ],\n        loadMask:true,\n        emptyText: '</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+'</div><pre>',\n        itemTpl: new Ext.XTemplate([\n                    \"<div class='{[this.getClass(values)]}'>\",\n                    \"{[this.getImageURL(values)]}\",\n                    \"{[this.getTextString(values)]}\",\n                    \"{[this.getWhenString()]}\",\n                    \"</div>\"\n                ].join(\"\"),\n            {\n            	getClass: function(values){\n            		return \"activity-list-item small-list activity-type\" + values.type;\n            	},\n            	getImageURL: function(values){\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.image)){\n                         str += HH.default_place32;\n                     }else{\n                        str+=values.image;\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                	return str;\n                },\n                getWhenString: function(values){\n                    var str = \"<div class='small-list-when'>\";\n                    str += \"5 minuti fa\";\n                    str += \"</div>\";\n                    return str;\n                },\n                getTextString: function(values){\n                    var str = \"<div class='small-list-text'>\";\n            		str += utils.getActivityString(values);\n                	str += \"</div>\";\n                    return str;\n                }\n            }\n   		)\n	}\n});\n\nExt.define('B2B.view.Activity_User', {\n    extend: 'Ext.dataview.List',\n    xtype: 'activityusercomponent',\n	config: {\n        draggable: false,\n        loadingText: i18n.app.HINT_LOADING,\n        emptyText: '</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+'</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'><img class='drinkAvatar' src=\\\"{[this.getImageURL()]}\\\" width=\\\"20\\\" height=\\\"20\\\"></img><span>{[this.getBadgeString(values)]}</span></div>\",\n            {\n            	getClass: function(values){\n            		return \"activity-list-item_\"+values.type;\n            	},\n            	getImageURL: function(values){\n                // I have to return either of two images\n                // if  uId = 0, return 'resources/images/Image0.png'\n                // if uId = 1, return 'resources/images/Image1.png'\n                	return 'resources/images/Image0.png';\n                },\n                getBadgeString: function(values){\n            		var str = utils.__(i18n.app.BADGES_TEXT1, values.displayName, values.beerName, values.placeName);\n                	return str;\n                }\n            }\n   		)\n	}\n});\n\nExt.define('B2B.view.Beer_List', {\n    extend: 'Ext.dataview.List',\n    //extend: 'Ext.ux.bufferedlist.BufferedList',\n    xtype: 'beerlist',\n    id: 'beerlist',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n       // emptyText: '</pre><div class=\"beer-list-empty-text\">'+utils.__(i18n.app.TEXT_NOBEERFOUND)+'</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",\n        {\n        	getClass: function(values){\n        		return \"small-list beer-list-item-title beerTypeClass\"+values.beerstyle+\" nation_\"+values.nationality;\n        	},\n            getImage1URL: function(values){\n                    //resources/beer/style\"+values.beerstyle+\".png'\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.beerstyle)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str += 'resources/img/default/blank_avatar_32.png';\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                    return str;\n            },\n            getImage2URL: function(values){\n                    // resources/beer/style\"+values.beertype+\".png'\n                    /*\n                    if(values.beertype){ tpl += \"<img class='avatar_small' src='resources/beer/type\"+values.beertype+\".png'>\"}\n                    else { tpl+= \"<img class='avatar_small' src='resources/default_xsmall.png'\" }\n\n                    */\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.beertype)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str += 'resources/img/default/blank_avatar_32.png';\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                    return str;\n            },\n            getString: function(values){\n                var tpl = \"\";\n                tpl += \"<div class='small-list-text'>\"+_.titleize(values.name)+\"</div>\"+\n                       \"<div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(values.beerstyle));\n                if(values.beertype) tpl += \" - \" + utils.getBeerTypeFromCode(parseInt(values.beertype));\n                tpl += \"</div>\";\n                return tpl;\n            }\n        })\n	}\n});\n\nExt.define('B2B.view.Beer_List_Select', {\n    extend: 'Ext.dataview.List',\n    //extend: 'Ext.ux.bufferedlist.BufferedList',\n    xtype: 'beerlistselectcomponent',\n    id: 'beerlistselectcomponent',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n       // emptyText: '</pre><div class=\"beer-list-empty-text\">'+utils.__(i18n.app.TEXT_NOBEERFOUND)+'</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",\n        {\n        	getClass: function(values){\n        		return \"small-list beer-list-item-title beerTypeClass\"+values.beerstyle+\" nation_\"+values.nationality;\n        	},\n            getImage1URL: function(values){\n                    //resources/beer/style\"+values.beerstyle+\".png'\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.beerstyle)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str += 'resources/img/default/blank_avatar_32.png';\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                    return str;\n            },\n            getImage2URL: function(values){\n                    // resources/beer/style\"+values.beertype+\".png'\n                    /*\n                    if(values.beertype){ tpl += \"<img class='avatar_small' src='resources/beer/type\"+values.beertype+\".png'>\"}\n                    else { tpl+= \"<img class='avatar_small' src='resources/default_xsmall.png'\" }\n\n                    */\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.beertype)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str += 'resources/img/default/blank_avatar_32.png';\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                    return str;\n            },\n            getString: function(values){\n                var tpl = \"\";\n                tpl += \"<div class='small-list-text'>\"+_.titleize(values.name)+\"</div>\"+\n                       \"<div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(values.beerstyle));\n                if(values.beertype) tpl += \" - \" + utils.getBeerTypeFromCode(parseInt(values.beertype));\n                tpl += \"</div>\";\n                return tpl;\n            }\n        })\n	}\n});\n\nExt.define('B2B.view.DrinkInCheckIn_List', {\n    extend: 'Ext.dataview.List',\n    xtype: 'drinkincheckinlistcomponent',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n        emptyText: '',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",\n            {\n            	getClass: function(values){\n            		return \"drinkincheckin-list-item small-list\";\n            	},\n            	getImageURL: function(values){\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.image)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str+=values.image;\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                	return str;\n                },\n                getTextString: function(values){\n                    var str = '<div class=\"small-list-text\">';\n            		str += values.placeName;\n                	str += '</div>';\n                	str += '<div class=\"small-list-drinkedin\">';\n            		if(parseInt(values.drinkedIn) >0) str += values.drinkedIn;\n                	str += \"</div>\";\n                    return str;\n                }\n            }\n   		)\n	}\n});\n\nExt.define('B2B.view.Place_List', {\n    extend: 'Ext.dataview.List',\n    xtype: 'placelistcomponent',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n        emptyText: '</pre><div class=\"beer-list-empty-text\">'+utils.__(i18n.app.TEXT_NOPLACEFOUND)+'</div><pre>',\n        //itemTpl: '</pre><div class=\"beer-list-item-title\">{placeName}</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",\n            {\n            	getClass: function(values){\n            		return \"place-list-item small-list activity-type\"+values.type;\n            	},\n            	getImageURL: function(values){\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.image)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str+=values.image;\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                	return str;\n                },\n                getTextString: function(values){\n                    var str = '<div class=\"small-list-text\">';\n            		str += values.placeName;\n                	str += '</div>';\n                	str += '<div class=\"small-list-drinkedin\">';\n            		if(parseInt(values.drinkedIn) >0) str += values.drinkedIn;\n                	str += \"</div>\";\n                    return str;\n                }\n            }\n   		)\n	}\n});\n\nExt.define('B2B.view.Favorites_List', {\n	extend: 'Ext.dataview.List',\n	xtype: 'favoriteslistcomponent',\n	id: 'favoriteslistcomponent',\n	config: {\n		loadingText: i18n.app.HINT_LOADING,\n		emptyText: '</pre><div class=\"favorites-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFAVORITEFOUND)+'</div><pre>',\n		itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getString(values)]}</div>\",\n		{\n			getClass: function(values){\n				return \"favorites-list-item-title\";\n			},\n			getString: function(values){\n				var tpl = \"\";\n				tpl += '<div class=\"small-list-text\">' + _.titleize(values.beerName) + '</div>';\n				return tpl;\n			}\n		})\n	}\n});\n\nExt.define('B2B.view.Feedback_List', {\n    extend: 'Ext.dataview.List',\n    requires: [\n        'Ext.plugin.PullRefresh'\n    ],\n    xtype: 'feedbacklistcomponent',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n        plugins: [\n            {\n                xclass: 'Ext.plugin.PullRefresh',\n                pullRefreshText: 'Pull down for more!'\n            }\n        ],\n        emptyText: '</pre><div class=\"feedback-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFEEDBACKFOUND)+'</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}{[this.getWhenString()]}</div>\",\n            {\n            	getClass: function(values){\n            		return \"feedback-list-item small-list feedback-type\"+values.type;\n            	},\n            	getImageURL: function(values){\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.image)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str+=values.image;\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                	return str;\n                },\n                getWhenString: function(values){\n                    var str = \"<div class='small-list-when'>\";\n                    str += \"5 minuti fa\";\n                    str += \"</div>\";\n                    return str;\n                },\n                getTextString: function(values){\n                    var str = \"<div class='small-list-text'>\";\n            		str += \n                	str += \"</div>\";\n                    return str;\n                }\n            }\n   		)\n	}\n});\n\nExt.define('B2B.view.Friend_List', {\n	extend: 'Ext.dataview.List',\n	xtype: 'friendlistcomponent',\n	config: {\n		loadingText: i18n.app.HINT_LOADING,\n		emptyText: '</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+'</div><pre>',\n		itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getString(values)]}</div>\",\n		{\n			getClass: function(values){\n				return \"friend-list-item-title small-list\";\n			},\n			getImageURL: function(values){\n					//resources/beer/style\"+values.beerstyle+\".png'\n					var str = '<img class=\"avatar_small\" src=\"';\n					if (_.isEmpty(values.image)){\n						str += HH.default_user32;\n					}else{\n						str += value.image;\n					}\n					str += '\" width=\"32\" height=\"32\">';\n					return str;\n			},\n			getString: function(values){\n				var tpl = \"<div class='small-list-text'>\"+utils.getDisplayName(values)+\"</div>\";\n				if(values.firstName){\n					tpl += \"<div class='small-list-subtext'>\"+values.firstName;\n					if(values.lastName) tpl += \" \"+values.lastName;\n					tpl += \"</div>\";\n				}\n				return tpl;\n			}\n		})\n	}\n});\n\nExt.define('B2B.view.Notification_List', {\n    extend: 'Ext.dataview.List',\n    requires: [\n        'Ext.plugin.PullRefresh'\n    ],\n    xtype: 'notificationlistcomponent',\n	config: {\n        loadingText: i18n.app.HINT_LOADING,\n        plugins: [\n            {\n                xclass: 'Ext.plugin.PullRefresh',\n                pullRefreshText: 'Pull down for more!'\n            }\n        ],\n        emptyText: '</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+'</div><pre>',\n       // itemTpl: '</pre><div class=\"list-item-title\">{username}</div><div class=\"list-item-narrative\">{firstName} {lastName}</div><pre>',\n        itemTpl: new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage(values)]}{[this.getTextString(values)]}</div>\",\n            {\n            	getClass: function(values){\n            		return \"notification-list-item small-list notification-type\"+values.type;\n            	},\n                getImage: function(values){\n                    var str = '<img class=\"avatar_small\" src=\"';\n                    if (_.isEmpty(values.image)){\n                         str += 'resources/img/default/blank_avatar_32.png';\n                     }else{\n                        str+=values.image;\n                     }\n                    str += '\" width=\"32\" height=\"32\">';\n                    return str;\n                },\n                getTextString: function(values){\n                    var str = \"<div class='small-list-text'>\";\n                    str += utils.getNotificationString(values);\n                    str += \"</div>\";\n                    return str;\n                }\n            })\n	}\n});\nExt.define('B2B.view.Badge_List', {\n	extend: 'Ext.dataview.List',\n	xtype: 'badgelistcomponent',\n	config: {\n		loadingText: i18n.app.HINT_LOADING,\n		emptyText: '</pre><div class=\"badge-list-empty-text\">'+utils.__(i18n.app.TEXT_NOBADGEFOUND)+'</div><pre>',\n		itemTpl: new Ext.XTemplate([\n				\"<div class='{[this.getClass(values)]}'>\",\n				\"{[this.getImageURL(values)]}\",\n				\"{[this.getString(values)]}\",\n				\"</div>\"\n			].join(\"\"),\n		{\n			getClass: function(values) {\n				return \"badge-list-item-title small-list\";\n			},\n			getImageURL: function(values) {\n					var className = \"badge_image_small\",\n						str = \"\";\n					className += (values.active === true ? \" active\" : \"\");\n					str = \"<img class='\" + className + \"' src='\";\n					if (_.isEmpty(values.imageUlr)) {\n						str += HH.default_badge32;\n					}else{\n						str += values.imageUrl;\n					}\n					str += \"' width='32' height='32'>\";\n					return str;\n			},\n			getString: function(values) {\n				var tpl = \"\",\n					className = \"badge-list-text\";\n\n				if (values.title) {\n					className += (values.active === true ? \" active\" : \"\");\n					tpl = \"<div class='\" + className + \"'>\" + values.title + \"</div>\";\n					tpl += \"</div>\";\n				}\n\n				return tpl;\n			}\n		})\n	}\n});\n\n/**\n * Utility class used by Ext.field.Slider.\n * @private\n */\nExt.define('Ext.slider.Slider', {\n    extend: 'Ext.Container',\n    xtype: 'slider',\n\n    requires: [\n        'Ext.slider.Thumb',\n        'Ext.fx.easing.EaseOut'\n    ],\n\n    /**\n    * @event change\n    * Fires when the value changes\n    * @param {Ext.slider.Slider} this\n    * @param {Ext.slider.Thumb} thumb The thumb being changed\n    * @param {Number} newValue The new value\n    * @param {Number} oldValue The old value\n    */\n\n    /**\n    * @event dragstart\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.slider.Slider} this\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Array} value The start value\n    * @param {Ext.EventObject} e\n    */\n\n    /**\n    * @event drag\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.slider.Slider} this\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Ext.EventObject} e\n    */\n\n    /**\n    * @event dragend\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.slider.Slider} this\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Array} value The end value\n    * @param {Ext.EventObject} e\n    */\n    config: {\n        baseCls: 'x-slider',\n\n        /**\n         * @cfg {Object} thumbConfig The config object to factory {@link Ext.slider.Thumb} instances\n         * @accessor\n         */\n        thumbConfig: {\n            draggable: {\n                translatable: {\n                    easingX: {\n                        duration: 300,\n                        type: 'ease-out'\n                    }\n                }\n            }\n        },\n\n        /**\n         * @cfg {Number/Number[]} value The value(s) of this slider's thumbs. If you pass\n         * a number, it will assume you have just 1 thumb.\n         * @accessor\n         */\n        value: 0,\n\n        /**\n         * @cfg {Number} minValue The lowest value any thumb on this slider can be set to.\n         * @accessor\n         */\n        minValue: 0,\n\n        /**\n         * @cfg {Number} maxValue The highest value any thumb on this slider can be set to.\n         * @accessor\n         */\n        maxValue: 100,\n\n        /**\n         * @cfg {Number} increment The increment by which to snap each thumb when its value changes. Defaults to 1. Any thumb movement\n         * will be snapped to the nearest value that is a multiple of the increment (e.g. if increment is 10 and the user\n         * tries to move the thumb to 67, it will be snapped to 70 instead)\n         * @accessor\n         */\n        increment: 1,\n\n        /**\n         * @cfg {Boolean} allowThumbsOverlapping Whether or not to allow multiple thumbs to overlap each other.\n         * Setting this to true guarantees the ability to select every possible value in between {@link #minValue}\n         * and {@link #maxValue} that satisfies {@link #increment}\n         * @accessor\n         */\n        allowThumbsOverlapping: false,\n\n        /**\n         * @cfg {Boolean/Object} animation\n         * The animation to use when moving the slider. Possible properties are:\n         *\n         * - duration\n         * - easingX\n         * - easingY\n         *\n         * @accessor\n         */\n        animation: true\n    },\n\n    /**\n     * @cfg {Number/Number[]} values Alias to {@link #value}\n     */\n\n    elementWidth: 0,\n\n    offsetValueRatio: 0,\n\n    activeThumb: null,\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (config.hasOwnProperty('values')) {\n            config.value = config.values;\n        }\n\n        this.callParent([config]);\n    },\n\n    // @private\n    initialize: function() {\n        var element = this.element;\n\n        this.callParent();\n\n        element.on({\n            scope: this,\n            tap: 'onTap'\n        });\n\n        this.on({\n            scope: this,\n            delegate: '> thumb',\n            dragstart: 'onThumbDragStart',\n            drag: 'onThumbDrag',\n            dragend: 'onThumbDragEnd'\n        });\n\n        this.on({\n            painted: 'refresh',\n            resize: 'refresh'\n        });\n    },\n\n    /**\n     * @private\n     */\n    factoryThumb: function() {\n        return Ext.factory(this.getThumbConfig(), Ext.slider.Thumb);\n    },\n\n    /**\n     * Returns the Thumb instances bound to this Slider\n     * @return {Ext.slider.Thumb[]} The thumb instances\n     */\n    getThumbs: function() {\n        return this.innerItems;\n    },\n\n    /**\n     * Returns the Thumb instance bound to this Slider\n     * @param {Number} [index=0] The index of Thumb to return.\n     * @return {Ext.slider.Thumb} The thumb instance\n     */\n    getThumb: function(index) {\n        if (typeof index != 'number') {\n            index = 0;\n        }\n\n        return this.innerItems[index];\n    },\n\n    refreshOffsetValueRatio: function() {\n        var valueRange = this.getMaxValue() - this.getMinValue(),\n            trackWidth = this.elementWidth - this.thumbWidth;\n\n        this.offsetValueRatio = trackWidth / valueRange;\n    },\n\n    refreshElementWidth: function() {\n        this.elementWidth = this.element.dom.offsetWidth;\n        var thumb = this.getThumb(0);\n        if (thumb) {\n            this.thumbWidth = thumb.getElementWidth();\n        }\n    },\n\n    refresh: function() {\n        this.refreshElementWidth();\n        this.refreshValue();\n    },\n\n    setActiveThumb: function(thumb) {\n        var oldActiveThumb = this.activeThumb;\n\n        if (oldActiveThumb && oldActiveThumb !== thumb) {\n            oldActiveThumb.setZIndex(null);\n        }\n\n        this.activeThumb = thumb;\n        thumb.setZIndex(2);\n\n        return this;\n    },\n\n    onThumbDragStart: function(thumb, e) {\n        if (e.absDeltaX <= e.absDeltaY) {\n            return false;\n        }\n        else {\n            e.stopPropagation();\n        }\n\n        if (this.getAllowThumbsOverlapping()) {\n            this.setActiveThumb(thumb);\n        }\n\n        this.dragStartValue = this.getValue()[this.getThumbIndex(thumb)];\n        this.fireEvent('dragstart', this, thumb, this.dragStartValue, e);\n    },\n\n    onThumbDrag: function(thumb, e, offsetX) {\n        var index = this.getThumbIndex(thumb),\n            offsetValueRatio = this.offsetValueRatio,\n            constrainedValue = this.constrainValue(offsetX / offsetValueRatio);\n\n        e.stopPropagation();\n\n        this.setIndexValue(index, constrainedValue);\n\n        this.fireEvent('drag', this, thumb, this.getValue(), e);\n\n        return false;\n    },\n\n    setIndexValue: function(index, value, animation) {\n        var thumb = this.getThumb(index),\n            values = this.getValue(),\n            offsetValueRatio = this.offsetValueRatio,\n            draggable = thumb.getDraggable();\n\n        draggable.setOffset(value * offsetValueRatio, null, animation);\n\n        values[index] = value;\n    },\n\n    onThumbDragEnd: function(thumb, e) {\n        this.refreshThumbConstraints(thumb);\n        var index = this.getThumbIndex(thumb),\n            newValue = this.getValue()[index],\n            oldValue = this.dragStartValue;\n\n        this.fireEvent('dragend', this, thumb, this.getValue(), e);\n        if (oldValue !== newValue) {\n            this.fireEvent('change', this, thumb, newValue, oldValue);\n        }\n    },\n\n    getThumbIndex: function(thumb) {\n        return this.getThumbs().indexOf(thumb);\n    },\n\n    refreshThumbConstraints: function(thumb) {\n        var allowThumbsOverlapping = this.getAllowThumbsOverlapping(),\n            offsetX = thumb.getDraggable().getOffset().x,\n            thumbs = this.getThumbs(),\n            index = this.getThumbIndex(thumb),\n            previousThumb = thumbs[index - 1],\n            nextThumb = thumbs[index + 1],\n            thumbWidth = this.thumbWidth;\n\n        if (previousThumb) {\n            previousThumb.getDraggable().addExtraConstraint({\n                max: {\n                    x: offsetX - ((allowThumbsOverlapping) ? 0 : thumbWidth)\n                }\n            });\n        }\n\n        if (nextThumb) {\n            nextThumb.getDraggable().addExtraConstraint({\n                min: {\n                    x: offsetX + ((allowThumbsOverlapping) ? 0 : thumbWidth)\n                }\n            });\n        }\n    },\n\n    // @private\n    onTap: function(e) {\n        if (this.isDisabled()) {\n            return;\n        }\n\n        var targetElement = Ext.get(e.target);\n\n        if (!targetElement || targetElement.hasCls('x-thumb')) {\n            return;\n        }\n\n        var touchPointX = e.touch.point.x,\n            element = this.element,\n            elementX = element.getX(),\n            offset = touchPointX - elementX - (this.thumbWidth / 2),\n            value = this.constrainValue(offset / this.offsetValueRatio),\n            values = this.getValue(),\n            minDistance = Infinity,\n            ln = values.length,\n            i, absDistance, testValue, closestIndex, oldValue, thumb;\n\n        if (ln === 1) {\n            closestIndex = 0;\n        }\n        else {\n            for (i = 0; i < ln; i++) {\n                testValue = values[i];\n                absDistance = Math.abs(testValue - value);\n\n                if (absDistance < minDistance) {\n                    minDistance = absDistance;\n                    closestIndex = i;\n                }\n            }\n        }\n\n        oldValue = values[closestIndex];\n        thumb = this.getThumb(closestIndex);\n\n        this.setIndexValue(closestIndex, value, this.getAnimation());\n        this.refreshThumbConstraints(thumb);\n\n        if (oldValue !== value) {\n            this.fireEvent('change', this, thumb, value, oldValue);\n        }\n    },\n\n    // @private\n    updateThumbs: function(newThumbs) {\n        this.add(newThumbs);\n    },\n\n    applyValue: function(value) {\n        var values = Ext.Array.from(value || 0),\n            filteredValues = [],\n            previousFilteredValue = this.getMinValue(),\n            filteredValue, i, ln;\n\n        for (i = 0,ln = values.length; i < ln; i++) {\n            filteredValue = this.constrainValue(values[i]);\n\n            if (filteredValue < previousFilteredValue) {\n                Ext.Logger.warn(\"Invalid values of '\"+Ext.encode(values)+\"', values at smaller indexes must \" +\n                    \"be smaller than or equal to values at greater indexes\");\n                filteredValue = previousFilteredValue;\n            }\n\n            filteredValues.push(filteredValue);\n\n            previousFilteredValue = filteredValue;\n        }\n\n        return filteredValues;\n    },\n\n    /**\n     * Updates the sliders thumbs with their new value(s)\n     */\n    updateValue: function(newValue, oldValue) {\n        var thumbs = this.getThumbs(),\n            ln = newValue.length,\n            i;\n\n        this.setThumbsCount(ln);\n\n        for (i = 0; i < ln; i++) {\n            thumbs[i].getDraggable().setExtraConstraint(null)\n                                    .setOffset(newValue[i] * this.offsetValueRatio);\n        }\n\n        for (i = 0; i < ln; i++) {\n            this.refreshThumbConstraints(thumbs[i]);\n        }\n    },\n\n    /**\n     * @private\n     */\n    refreshValue: function() {\n        this.refreshOffsetValueRatio();\n\n        this.setValue(this.getValue());\n    },\n\n    /**\n     * @private\n     * Takes a desired value of a thumb and returns the nearest snap value. e.g if minValue = 0, maxValue = 100, increment = 10 and we\n     * pass a value of 67 here, the returned value will be 70. The returned number is constrained within {@link #minValue} and {@link #maxValue},\n     * so in the above example 68 would be returned if {@link #maxValue} was set to 68.\n     * @param {Number} value The value to snap\n     * @return {Number} The snapped value\n     */\n    constrainValue: function(value) {\n        var me = this,\n            minValue  = me.getMinValue(),\n            maxValue  = me.getMaxValue(),\n            increment = me.getIncrement(),\n            remainder;\n\n        value = parseFloat(value);\n\n        if (isNaN(value)) {\n            value = minValue;\n        }\n\n        remainder = value % increment;\n        value -= remainder;\n\n        if (Math.abs(remainder) >= (increment / 2)) {\n            value += (remainder > 0) ? increment : -increment;\n        }\n\n        value = Math.max(minValue, value);\n        value = Math.min(maxValue, value);\n\n        return value;\n    },\n\n    setThumbsCount: function(count) {\n        var thumbs = this.getThumbs(),\n            thumbsCount = thumbs.length,\n            i, ln, thumb;\n\n        if (thumbsCount > count) {\n            for (i = 0,ln = thumbsCount - count; i < ln; i++) {\n                thumb = thumbs[thumbs.length - 1];\n                thumb.destroy();\n            }\n        }\n        else if (thumbsCount < count) {\n            for (i = 0,ln = count - thumbsCount; i < ln; i++) {\n                this.add(this.factoryThumb());\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * Convience method. Calls {@link #setValue}\n     */\n    setValues: function(value) {\n        this.setValue(value);\n    },\n\n    /**\n     * Convience method. Calls {@link #getValue}\n     */\n    getValues: function() {\n        return this.getValue();\n    },\n\n    // Sets the {@link #increment} configuration\n    applyIncrement: function(increment) {\n        if (increment === 0) {\n            increment = 1;\n        }\n\n        return Math.abs(increment);\n    },\n\n    // @private\n    updateAllowThumbsOverlapping: function(newValue, oldValue) {\n        if (typeof oldValue != 'undefined') {\n            this.refreshValue();\n        }\n    },\n\n    // @private\n    updateMinValue: function(newValue, oldValue) {\n        if (typeof oldValue != 'undefined') {\n            this.refreshValue();\n        }\n    },\n\n    // @private\n    updateMaxValue: function(newValue, oldValue) {\n        if (typeof oldValue != 'undefined') {\n            this.refreshValue();\n        }\n    },\n\n    // @private\n    updateIncrement: function(newValue, oldValue) {\n        if (typeof oldValue != 'undefined') {\n            this.refreshValue();\n        }\n    },\n\n    doSetDisabled: function(disabled) {\n        this.callParent(arguments);\n\n        var items = this.getItems().items,\n            ln = items.length,\n            i;\n\n        for (i = 0; i < ln; i++) {\n            items[i].setDisabled(disabled);\n        }\n    }\n\n}, function() {\n    /**\n     * @cfg {Boolean} animationDuration\n     * Animation duration in ms.\n     * @removed 2.0.0 Use the duration property on the animation config instead.\n     */\n    Ext.deprecateProperty(this, 'animationDuration', null, \"Ext.slider.Slider.animationDuration has been removed\");\n});\n\n/**\n * @aside guide forms\n *\n * The slider is a way to allow the user to select a value from a given numerical range. You might use it for choosing\n * a percentage, combine two of them to get min and max values, or use three of them to specify the hex values for a\n * color. Each slider contains a single 'thumb' that can be dragged along the slider's length to change the value.\n * Sliders are equally useful inside {@link Ext.form.Panel forms} and standalone. Here's how to quickly create a\n * slider in form, in this case enabling a user to choose a percentage:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'sliderfield',\n *                 label: 'Percentage',\n *                 value: 50,\n *                 minValue: 0,\n *                 maxValue: 100\n *             }\n *         ]\n *     });\n *\n * In this case we set a starting value of 50%, and defined the min and max values to be 0 and 100 respectively, giving\n * us a percentage slider. Because this is such a common use case, the defaults for {@link #minValue} and\n * {@link #maxValue} are already set to 0 and 100 so in the example above they could be removed.\n *\n * It's often useful to render sliders outside the context of a form panel too. In this example we create a slider that\n * allows a user to choose the waist measurement of a pair of jeans. Let's say the online store we're making this for\n * sells jeans with waist sizes from 24 inches to 60 inches in 2 inch increments - here's how we might achieve that:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'sliderfield',\n *                 label: 'Waist Measurement',\n *                 minValue: 24,\n *                 maxValue: 60,\n *                 increment: 2,\n *                 value: 32\n *             }\n *         ]\n *     });\n *\n * Now that we've got our slider, we can ask it what value it currently has and listen to events that it fires. For\n * example, if we wanted our app to show different images for different sizes, we can listen to the {@link #change}\n * event to be informed whenever the slider is moved:\n *\n *     slider.on('change', function(field, newValue) {\n *         if (newValue[0] > 40) {\n *             imgComponent.setSrc('large.png')\n *         } else {\n *             imgComponent.setSrc('small.png');\n *         }\n *     }, this);\n *\n * Here we listened to the {@link #change} event on the slider and updated the background image of an\n * {@link Ext.Img image component} based on what size the user selected. Of course, you can use any logic inside your\n * event listener.\n */\nExt.define('Ext.field.Slider', {\n    extend  : 'Ext.field.Field',\n    xtype   : 'sliderfield',\n    requires: ['Ext.slider.Slider'],\n    alternateClassName: 'Ext.form.Slider',\n\n    /**\n     * @event change\n     * Fires when an option selection has changed.\n     * @param {Ext.field.Slider} me\n     * @param {Ext.slider.Slider} Slider Component\n     * @param {Ext.slider.Thumb} thumb\n     * @param {Number} newValue the new value of this thumb\n     * @param {Number} oldValue the old value of this thumb\n     */\n\n    /**\n    * @event dragstart\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.field.Slider} this\n    * @param {Ext.slider.Slider} Slider Component\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Array} value The start value\n    * @param {Ext.EventObject} e\n    */\n\n    /**\n    * @event drag\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.field.Slider} this\n    * @param {Ext.slider.Slider} Slider Component\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Ext.EventObject} e\n    */\n\n    /**\n    * @event dragend\n    * Fires when the slider thumb starts a drag\n    * @param {Ext.field.Slider} this\n    * @param {Ext.slider.Slider} Slider Component\n    * @param {Ext.slider.Thumb} thumb The thumb being dragged\n    * @param {Array} value The end value\n    * @param {Ext.EventObject} e\n    */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        cls: Ext.baseCSSPrefix + 'slider-field',\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        tabIndex: -1\n    },\n\n    proxyConfig: {\n        /**\n         * @cfg {Number/Number[]} value See {@link Ext.slider.Slider#value}\n         * @accessor\n         */\n        value: 0,\n\n        /**\n         * @cfg {Number} minValue See {@link Ext.slider.Slider#minValue}\n         * @accessor\n         */\n        minValue: 0,\n\n        /**\n         * @cfg {Number} maxValue See {@link Ext.slider.Slider#maxValue}\n         * @accessor\n         */\n        maxValue: 100,\n\n        /**\n         * @cfg {Number} increment See {@link Ext.slider.Slider#increment}\n         * @accessor\n         */\n        increment: 1\n    },\n\n    /**\n     * @cfg {Number/Number[]} values See {@link Ext.slider.Slider#values}\n     */\n\n    constructor: function(config) {\n        config = config || {};\n\n        if (config.hasOwnProperty('values')) {\n            config.value = config.values;\n        }\n\n        this.callParent([config]);\n    },\n\n    // @private\n    initialize: function() {\n        this.callParent();\n\n        this.getComponent().on({\n            scope: this,\n            change: 'onSliderChange',\n            dragstart: 'onSliderDragStart',\n            drag: 'onSliderDrag',\n            dragend: 'onSliderDragEnd'\n        });\n    },\n\n    // @private\n    applyComponent: function(config) {\n        return Ext.factory(config, Ext.slider.Slider);\n    },\n\n    onSliderChange: function() {\n        this.fireEvent.apply(this, [].concat('change', this, Array.prototype.slice.call(arguments)));\n    },\n\n    onSliderDragStart: function() {\n        this.fireEvent.apply(this, [].concat('dragstart', this, Array.prototype.slice.call(arguments)));\n    },\n\n    onSliderDrag: function() {\n        this.fireEvent.apply(this, [].concat('drag', this, Array.prototype.slice.call(arguments)));\n    },\n\n    onSliderDragEnd: function() {\n        this.fireEvent.apply(this, [].concat('dragend', this, Array.prototype.slice.call(arguments)));\n    },\n\n    /**\n     * Convience method. Calls {@link #setValue}\n     */\n    setValues: function(value) {\n        this.setValue(value);\n    },\n\n    /**\n     * Convience method. Calls {@link #getValue}\n     */\n    getValues: function() {\n        return this.getValue();\n    },\n\n    reset: function() {\n        var config = this.config,\n            initialValue = (this.config.hasOwnProperty('values')) ? config.values : config.value;\n\n        this.setValue(initialValue);\n    },\n\n    doSetDisabled: function(disabled) {\n        this.callParent(arguments);\n\n        this.getComponent().setDisabled(disabled);\n    }\n});\n\n/**\n * @private\n */\nExt.define('Ext.slider.Toggle', {\n    extend: 'Ext.slider.Slider',\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        baseCls: 'x-toggle',\n\n        /**\n         * @cfg {String} minValueCls CSS class added to the field when toggled to its minValue\n         * @accessor\n         */\n        minValueCls: 'x-toggle-off',\n\n        /**\n         * @cfg {String} maxValueCls CSS class added to the field when toggled to its maxValue\n         * @accessor\n         */\n        maxValueCls: 'x-toggle-on'\n    },\n\n    initialize: function() {\n        this.callParent();\n\n        this.on({\n            change: 'onChange'\n        });\n    },\n\n    applyMinValue: function() {\n        return 0;\n    },\n\n    applyMaxValue: function() {\n        return 1;\n    },\n\n    applyIncrement: function() {\n        return 1;\n    },\n\n    updateMinValueCls: function(newCls, oldCls) {\n        var element = this.element;\n\n        if (oldCls && element.hasCls(oldCls)) {\n            element.replaceCls(oldCls, newCls);\n        }\n    },\n\n    updateMaxValueCls: function(newCls, oldCls) {\n        var element = this.element;\n\n        if (oldCls && element.hasCls(oldCls)) {\n            element.replaceCls(oldCls, newCls);\n        }\n    },\n\n    setValue: function(newValue, oldValue) {\n        this.callParent(arguments);\n        this.onChange(this, this.getThumbs()[0], newValue, oldValue);\n    },\n\n    onChange: function(me, thumb, newValue, oldValue) {\n        var isOn = newValue > 0,\n            onCls = me.getMaxValueCls(),\n            offCls = me.getMinValueCls();\n\n        this.element.addCls(isOn ? onCls : offCls);\n        this.element.removeCls(isOn ? offCls : onCls);\n    },\n\n    toggle: function() {\n        var value = this.getValue();\n        this.setValue((value == 1) ? 0 : 1);\n\n        return this;\n    },\n\n    onTap: function() {\n        if (this.isDisabled()) {\n            return;\n        }\n\n        var oldValue = this.getValue(),\n            newValue = (oldValue == 1) ? 0 : 1,\n            thumb = this.getThumb(0);\n\n        this.setIndexValue(0, newValue, this.getAnimation());\n        this.refreshThumbConstraints(thumb);\n\n        this.fireEvent('change', this, thumb, newValue, oldValue);\n    }\n});\n\n/**\n * @aside guide forms\n *\n * Specialized {@link Ext.field.Slider} with a single thumb which only supports two {@link #value values}.\n *\n * ## Examples\n *\n *     @example miniphone preview\n *     Ext.Viewport.add({\n *         xtype: 'togglefield',\n *         name: 'awesome',\n *         label: 'Are you awesome?',\n *         labelWidth: '40%'\n *     });\n *\n * Having a default value of 'toggled':\n *\n *     @example miniphone preview\n *     Ext.Viewport.add({\n *         xtype: 'togglefield',\n *         name: 'awesome',\n *         value: 1,\n *         label: 'Are you awesome?',\n *         labelWidth: '40%'\n *     });\n *\n * And using the {@link #value} {@link #toggle} method:\n *\n *     @example miniphone preview\n *     Ext.Viewport.add([\n *         {\n *             xtype: 'togglefield',\n *             name: 'awesome',\n *             value: 1,\n *             label: 'Are you awesome?',\n *             labelWidth: '40%'\n *         },\n *         {\n *             xtype: 'toolbar',\n *             docked: 'top',\n *             items: [\n *                 {\n *                     xtype: 'button',\n *                     text: 'Toggle',\n *                     flex: 1,\n *                     handler: function() {\n *                         Ext.ComponentQuery.query('togglefield')[0].toggle();\n *                     }\n *                 }\n *             ]\n *         }\n *     ]);\n */\nExt.define('Ext.field.Toggle', {\n    extend: 'Ext.field.Slider',\n    xtype : 'togglefield',\n    alternateClassName: 'Ext.form.Toggle',\n    requires: ['Ext.slider.Toggle'],\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        cls: 'x-toggle-field'\n    },\n\n    proxyConfig: {\n        /**\n         * @cfg {String} minValueCls See {@link Ext.slider.Toggle#minValueCls}\n         * @accessor\n         */\n        minValueCls: 'x-toggle-off',\n\n        /**\n         * @cfg {String} maxValueCls  See {@link Ext.slider.Toggle#maxValueCls}\n         * @accessor\n         */\n        maxValueCls: 'x-toggle-on'\n    },\n\n    // @private\n    applyComponent: function(config) {\n        return Ext.factory(config, Ext.slider.Toggle);\n    },\n\n    /**\n     * Sets the value of the toggle.\n     * @param {Number} value **1** for toggled, **0** for untoggled.\n     */\n    setValue: function(newValue) {\n        if (newValue === true) {\n            newValue = 1;\n        }\n\n        this.getComponent().setValue(newValue);\n\n        return this;\n    },\n\n    getValue: function() {\n        return (this.getComponent().getValue() == 1) ? 1 : 0;\n    },\n\n    /**\n     * Toggles the value of this toggle field.\n     * @return this\n     */\n    toggle: function() {\n        this.getComponent().toggle();\n        return this;\n    }\n});\n\nExt.define('B2B.view.Component_IOSToggle', {\n	extend: 'Ext.field.Toggle',\n	xtype: 'iostogglefield',\n	config: {\n		cls: 'ios5_toggle'\n	}/*,\n    HH Commentato perchè maschera la generazione degli eventi\n	initialize: function () {			        \n        var me = this;\n        var mec = this.getComponent();\n        var mythumb = this.element.down('.x-thumb');\n        var mytoggle = this.element.down('.x-toggle');\n        var myelement = this.element;\n        \n        mythumb.on({\n            // this improves the ON/OFF effect \n            drag: {\n                fn: function () {\n                    var value,oldvalue,onCls,offCls;\n                    value = me.getValue();\n                    onCls = me.getMaxValueCls(),\n                    offCls = me.getMinValueCls();\n                    if(value != oldvalue) {\n                        mytoggle.addCls(value ? onCls : offCls);\n                        mytoggle.removeCls(value ? offCls : onCls);\n                    }\n                    oldvalue = value;\n                }\n            },\n            tap: {\n                fn: function (e,t) {\n                    var value,oldValue,onCls,offCls,thumb;\n                    oldValue = me.getValue();\n                    value = ((me.getValue()==1) ? 0 : 1);\n                    mec.setIndexValue(0, value, mec.getAnimation());\n                    onCls = me.getMaxValueCls(),\n                    offCls = me.getMinValueCls();\n                    mytoggle.addCls(value ? onCls : offCls);\n                    mytoggle.removeCls(value ? offCls : onCls);\n                }\n            }\n        });\n    }*/\n});\n/**\n * This class is used to write {@link Ext.data.Model} data to the server in a JSON format.\n * The {@link #allowSingle} configuration can be set to false to force the records to always be\n * encoded in an array, even if there is only a single record being sent.\n */\nExt.define('Ext.data.writer.Json', {\n    extend: 'Ext.data.writer.Writer',\n    alternateClassName: 'Ext.data.JsonWriter',\n    alias: 'writer.json',\n\n    config: {\n        /**\n         * @cfg {String} rootProperty\n         * The key under which the records in this Writer will be placed. If you specify {@link #encode} to be true,\n         * we default this to 'records'.\n         *\n         * Example generated request, using root: 'records':\n         *\n         *     {'records': [{name: 'my record'}, {name: 'another record'}]}\n         *\n         */\n        rootProperty: undefined,\n\n        /**\n         * @cfg {Boolean} encode\n         * True to use Ext.encode() on the data before sending. The encode option should only be set to true when a\n         * {@link #root} is defined, because the values will be sent as part of the request parameters as opposed to\n         * a raw post. The root will be the name of the parameter sent to the server.\n         */\n        encode: false,\n\n        /**\n         * @cfg {Boolean} allowSingle\n         * False to ensure that records are always wrapped in an array, even if there is only one record being sent.\n         * When there is more than one record, they will always be encoded into an array.\n         *\n         * Example:\n         *\n         *     // with allowSingle: true\n         *     \"root\": {\n         *         \"first\": \"Mark\",\n         *         \"last\": \"Corrigan\"\n         *     }\n         *\n         *     // with allowSingle: false\n         *     \"root\": [{\n         *         \"first\": \"Mark\",\n         *         \"last\": \"Corrigan\"\n         *     }]\n         */\n        allowSingle: true,\n\n        encodeRequest: false\n    },\n\n    applyRootProperty: function(root) {\n        if (!root && (this.getEncode() || this.getEncodeRequest())) {\n            root = 'data';\n        }\n        return root;\n    },\n\n    //inherit docs\n    writeRecords: function(request, data) {\n        var root = this.getRootProperty(),\n            params = request.getParams(),\n            allowSingle = this.getAllowSingle(),\n            jsonData;\n\n        if (this.getAllowSingle() && data && data.length == 1) {\n            // convert to single object format\n            data = data[0];\n        }\n\n        if (this.getEncodeRequest()) {\n            jsonData = request.getJsonData() || {};\n            if (data && (data.length || (allowSingle && Ext.isObject(data)))) {\n                jsonData[root] = data;\n            }\n            request.setJsonData(Ext.apply(jsonData, params || {}));\n            request.setParams(null);\n            request.setMethod('POST');\n            return request;\n        }\n\n        if (!data || !(data.length || (allowSingle && Ext.isObject(data)))) {\n            return request;\n        }\n\n        if (this.getEncode()) {\n            if (root) {\n                // sending as a param, need to encode\n                params[root] = Ext.encode(data);\n            } else {\n                Ext.Logger.error('Must specify a root when using encode');\n            }\n        } else {\n            // send as jsonData\n            jsonData = request.getJsonData() || {};\n            if (root) {\n                jsonData[root] = data;\n            } else {\n                jsonData = data;\n            }\n            request.setJsonData(jsonData);\n        }\n        return request;\n    }\n\n}, function() {\n    /**\n     * @cfg {String} root\n     * The key under which the records in this Writer will be placed. If you specify {@link #encode} to be true,\n     * we default this to 'records'.\n     *\n     * Example generated request, using root: 'records':\n     *\n     *     {'records': [{name: 'my record'}, {name: 'another record'}]}\n     *\n     * @deprecated 2.0.1 Please use the {@link #rootProperty} configuration instead.\n     */\n    this.override({\n        constructor: function(config) {\n            config = config || {};\n\n            if (config.root) {\n                Ext.Logger.deprecate('root has been deprecated as a configuration on Writer. Please use rootProperty instead.');\n\n                config.rootProperty = config.root;\n                delete config.root;\n            }\n\n            this.callOverridden([config]);\n        }\n    });\n});\n\n\n/*\n * @allowSingle: true\n * @encodeRequest: false\n * Url: update.json?param1=test\n * {'field1': 'test': 'field2': 'test'}\n *\n * @allowSingle: false\n * @encodeRequest: false\n * Url: update.json?param1=test\n * [{'field1': 'test', 'field2': 'test'}]\n *\n * @allowSingle: true\n * @root: 'data'\n * @encodeRequest: true\n * Url: update.json\n * {\n *    'param1': 'test',\n *    'data': {'field1': 'test', 'field2': 'test'}\n * }\n *\n * @allowSingle: false\n * @root: 'data'\n * @encodeRequest: true\n * Url: update.json\n * {\n *     'param1': 'test',\n *     'data': [{'field1': 'test', 'field2': 'test'}]\n * }\n *\n * @allowSingle: true\n * @root: data\n * @encodeRequest: false\n * Url: update.json\n * param1=test&data={'field1': 'test', 'field2': 'test'}\n *\n * @allowSingle: false\n * @root: data\n * @encodeRequest: false\n * @ncode: true\n * Url: update.json\n * param1=test&data=[{'field1': 'test', 'field2': 'test'}]\n *\n * @allowSingle: true\n * @root: data\n * @encodeRequest: false\n * Url: update.json?param1=test&data={'field1': 'test', 'field2': 'test'}\n *\n * @allowSingle: false\n * @root: data\n * @encodeRequest: false\n * Url: update.json?param1=test&data=[{'field1': 'test', 'field2': 'test'}]\n */\n\n/**\n * @author Ed Spencer\n *\n * Readers are used to interpret data to be loaded into a {@link Ext.data.Model Model} instance or a {@link\n * Ext.data.Store Store} - often in response to an AJAX request. In general there is usually no need to create\n * a Reader instance directly, since a Reader is almost always used together with a {@link Ext.data.proxy.Proxy Proxy},\n * and is configured using the Proxy's {@link Ext.data.proxy.Proxy#cfg-reader reader} configuration property:\n *\n *     Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'ajax',\n *             url : 'users.json',\n *             reader: {\n *                 type: 'json',\n *                 rootPorperty: 'users'\n *             }\n *         },\n *     });\n *\n * The above reader is configured to consume a JSON string that looks something like this:\n *\n *     {\n *         \"success\": true,\n *         \"users\": [\n *             { \"name\": \"User 1\" },\n *             { \"name\": \"User 2\" }\n *         ]\n *     }\n *\n *\n * # Loading Nested Data\n *\n * Readers have the ability to automatically load deeply-nested data objects based on the {@link Ext.data.association.Association\n * associations} configured on each Model. Below is an example demonstrating the flexibility of these associations in a\n * fictional CRM system which manages a User, their Orders, OrderItems and Products. First we'll define the models:\n *\n *     Ext.define(\"User\", {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'id', 'name'\n *             ],\n *\n *             hasMany: {model: 'Order', name: 'orders'},\n *\n *             proxy: {\n *                 type: 'rest',\n *                 url : 'users.json',\n *                 reader: {\n *                     type: 'json',\n *                     root: 'users'\n *                 }\n *             }\n *         }\n *     });\n *\n *     Ext.define(\"Order\", {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'id', 'total'\n *             ],\n *\n *             hasMany  : {model: 'OrderItem', name: 'orderItems', associationKey: 'order_items'},\n *             belongsTo: 'User'\n *         }\n *     });\n *\n *     Ext.define(\"OrderItem\", {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 'id', 'price', 'quantity', 'order_id', 'product_id'\n *             ],\n *\n *             belongsTo: ['Order', {model: 'Product', associationKey: 'product'}]\n *         }\n *     });\n *\n *     Ext.define(\"Product\", {\n *         extend: 'Ext.data.Model',\n *         fields: [\n *             'id', 'name'\n *         ],\n *\n *         hasMany: 'OrderItem'\n *     });\n *\n * This may be a lot to take in - basically a User has many Orders, each of which is composed of several OrderItems.\n * Finally, each OrderItem has a single Product. This allows us to consume data like this:\n *\n *     {\n *         \"users\": [\n *             {\n *                 \"id\": 123,\n *                 \"name\": \"Ed\",\n *                 \"orders\": [\n *                     {\n *                         \"id\": 50,\n *                         \"total\": 100,\n *                         \"order_items\": [\n *                             {\n *                                 \"id\"      : 20,\n *                                 \"price\"   : 40,\n *                                 \"quantity\": 2,\n *                                 \"product\" : {\n *                                     \"id\": 1000,\n *                                     \"name\": \"MacBook Pro\"\n *                                 }\n *                             },\n *                             {\n *                                 \"id\"      : 21,\n *                                 \"price\"   : 20,\n *                                 \"quantity\": 3,\n *                                 \"product\" : {\n *                                     \"id\": 1001,\n *                                     \"name\": \"iPhone\"\n *                                 }\n *                             }\n *                         ]\n *                     }\n *                 ]\n *             }\n *         ]\n *     }\n *\n * The JSON response is deeply nested - it returns all Users (in this case just 1 for simplicity's sake), all of the\n * Orders for each User (again just 1 in this case), all of the OrderItems for each Order (2 order items in this case),\n * and finally the Product associated with each OrderItem. Now we can read the data and use it as follows:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: \"User\"\n *     });\n *\n *     store.load({\n *         callback: function() {\n *             //the user that was loaded\n *             var user = store.first();\n *\n *             console.log(\"Orders for \" + user.get('name') + \":\")\n *\n *             //iterate over the Orders for each User\n *             user.orders().each(function(order) {\n *                 console.log(\"Order ID: \" + order.getId() + \", which contains items:\");\n *\n *                 //iterate over the OrderItems for each Order\n *                 order.orderItems().each(function(orderItem) {\n *                     //we know that the Product data is already loaded, so we can use the synchronous getProduct\n *                     //usually, we would use the asynchronous version (see {@link Ext.data.association.BelongsTo})\n *                     var product = orderItem.getProduct();\n *\n *                     console.log(orderItem.get('quantity') + ' orders of ' + product.get('name'));\n *                 });\n *             });\n *         }\n *     });\n *\n * Running the code above results in the following:\n *\n *     Orders for Ed:\n *     Order ID: 50, which contains items:\n *     2 orders of MacBook Pro\n *     3 orders of iPhone\n */\nExt.define('Ext.data.reader.Reader', {\n    requires: [\n        'Ext.data.ResultSet'\n    ],\n    alternateClassName: ['Ext.data.Reader', 'Ext.data.DataReader'],\n\n    mixins: ['Ext.mixin.Observable'],\n\n    // private\n    isReader: true,\n\n    config: {\n        /**\n         * @cfg {String} idProperty\n         * Name of the property within a row object that contains a record identifier value. Defaults to The id of the\n         * model. If an idProperty is explicitly specified it will override that of the one specified on the model\n         */\n        idProperty: undefined,\n\n        /**\n         * @cfg {String} clientIdProperty\n         * The name of the property with a response that contains the existing client side id for a record that we are reading.\n         */\n        clientIdProperty: 'clientId',\n\n        /**\n         * @cfg {String} totalProperty\n         * Name of the property from which to retrieve the total number of records in the dataset. This is only needed if\n         * the whole dataset is not passed in one go, but is being paged from the remote server. Defaults to total.\n         */\n        totalProperty: 'total',\n\n        /**\n         * @cfg {String} successProperty\n         * Name of the property from which to retrieve the success attribute. Defaults to success. See\n         * {@link Ext.data.proxy.Server}.{@link Ext.data.proxy.Server#exception exception} for additional information.\n         */\n        successProperty: 'success',\n\n        /**\n         * @cfg {String} messageProperty\n         * The name of the property which contains a response message. This property is optional.\n         */\n        messageProperty: null,\n\n        /**\n         * @cfg {String} rootProperty\n         * The name of the property which contains the Array of row objects.  For JSON reader it's dot-separated list\n         * of property names.  For XML reader it's a CSS selector.  For array reader it's not applicable.\n         *\n         * By default the natural root of the data will be used.  The root Json array, the root XML element, or the array.\n         *\n         * The data packet value for this property should be an empty array to clear the data or show no data.\n         */\n        rootProperty: '',\n\n        /**\n         * @cfg {Boolean} implicitIncludes\n         * True to automatically parse models nested within other models in a response object. See the\n         * Ext.data.reader.Reader intro docs for full explanation. Defaults to true.\n         */\n        implicitIncludes: true,\n\n        model: undefined\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    /**\n     * @property {Object} metaData\n     * The raw meta data that was most recently read, if any. Meta data can include existing\n     * Reader config options like {@link #idProperty}, {@link #totalProperty}, etc. that get\n     * automatically applied to the Reader, and those can still be accessed directly from the Reader\n     * if needed. However, meta data is also often used to pass other custom data to be processed\n     * by application code. For example, it is common when reconfiguring the data model of a grid to\n     * also pass a corresponding column model config to be applied to the grid. Any such data will\n     * not get applied to the Reader directly (it just gets passed through and is ignored by Ext).\n     * This metaData property gives you access to all meta data that was passed, including any such\n     * custom data ignored by the reader.\n     *\n     * This is a read-only property, and it will get replaced each time a new meta data object is\n     * passed to the reader.\n     */\n\n    fieldCount: 0,\n\n    applyModel: function(model) {\n        if (typeof model == 'string') {\n            model = Ext.data.ModelManager.getModel(model);\n\n            if (!model) {\n                Ext.Logger.error('Model with name ' + arguments[0] + ' doesnt exist.');\n            }\n        }\n\n        if (model && !model.prototype.isModel && Ext.isObject(model)) {\n            model = Ext.data.ModelManager.registerType(model.storeId || model.id || Ext.id(), model);\n        }\n\n        return model;\n    },\n\n    applyIdProperty: function(idProperty) {\n        if (!idProperty && this.getModel()) {\n            idProperty = this.getModel().getIdProperty();\n        }\n        return idProperty;\n    },\n\n    updateModel: function(model) {\n        if (model) {\n            if (!this.getIdProperty()) {\n                this.setIdProperty(model.getIdProperty());\n            }\n            this.buildExtractors();\n        }\n    },\n\n    createAccessor: Ext.emptyFn,\n    createFieldAccessExpression: function() {\n        return 'undefined';\n    },\n\n    /**\n     * @private\n     * This builds optimized functions for retrieving record data and meta data from an object.\n     * Subclasses may need to implement their own getRoot function.\n     */\n    buildExtractors: function() {\n        if (!this.getModel()) {\n            return;\n        }\n\n        var me          = this,\n            totalProp   = me.getTotalProperty(),\n            successProp = me.getSuccessProperty(),\n            messageProp = me.getMessageProperty();\n\n        //build the extractors for all the meta data\n        if (totalProp) {\n            me.getTotal = me.createAccessor(totalProp);\n        }\n\n        if (successProp) {\n            me.getSuccess = me.createAccessor(successProp);\n        }\n\n        if (messageProp) {\n            me.getMessage = me.createAccessor(messageProp);\n        }\n\n        me.extractRecordData = me.buildRecordDataExtractor();\n    },\n\n    /**\n     * @private\n     * Return a function which will read a raw row object in the format this Reader accepts, and populates\n     * a record's data object with converted data values.\n     *\n     * The returned function must be passed the following parameters:\n     *\n     * - dest A record's empty data object into which the new field value properties are injected.\n     * - source A raw row data object of whatever type this Reader consumes\n     * - record The record which is being populated.\n     *\n     */\n    buildRecordDataExtractor: function() {\n        var me = this,\n            model = me.getModel(),\n            fields = model.getFields(),\n            ln = fields.length,\n            fieldVarName = [],\n            clientIdProp = me.getModel().getClientIdProperty(),\n            prefix = '__field',\n            code = [\n                'var me = this,\\n',\n                '    fields = me.getModel().getFields(),\\n',\n                '    idProperty = me.getIdProperty(),\\n',\n                '    idPropertyIsFn = (typeof idProperty == \"function\"),',\n                '    value,\\n',\n                '    internalId'\n            ], i, field, varName, fieldName;\n\n        fields = fields.items;\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            fieldName = field.getName();\n            if (fieldName === model.getIdProperty()) {\n                fieldVarName[i] = 'idField';\n            } else {\n                fieldVarName[i] = prefix + i;\n            }\n            code.push(',\\n    ', fieldVarName[i], ' = fields.get(\"', field.getName(), '\")');\n        }\n\n        code.push(';\\n\\n    return function(source) {\\n        var dest = {};\\n');\n\n        code.push('        if (idPropertyIsFn) {\\n');\n        code.push('            idField.setMapping(idProperty);\\n');\n        code.push('        }\\n');\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            varName = fieldVarName[i];\n            fieldName = field.getName();\n            if (fieldName === model.getIdProperty() && field.getMapping() === null && model.getIdProperty() !== this.getIdProperty()) {\n                field.setMapping(this.getIdProperty());\n            }\n            // createFieldAccessExpression must be implemented in subclasses to extract data from the source object in the correct way.\n            code.push('        try {\\n');\n            code.push('            value = ', me.createFieldAccessExpression(field, varName, 'source'), ';\\n');\n            code.push('            if (value !== undefined) {\\n');\n            code.push('                dest[\"' + field.getName() + '\"] = value;\\n');\n            code.push('            }\\n');\n            code.push('        } catch(e){}\\n');\n        }\n\n        // set the client id as the internalId of the record.\n        // clientId handles the case where a client side record did not previously exist on the server,\n        // so the server is passing back a client id that can be used to pair the server side record up with the client record\n        if (clientIdProp) {\n            code.push('        internalId = ' + me.createFieldAccessExpression(Ext.create('Ext.data.Field', {name: clientIdProp}), null, 'source') + ';\\n');\n            code.push('        if (internalId !== undefined) {\\n');\n            code.push('            dest[\"_clientId\"] = internalId;\\n        }\\n');\n        }\n\n        code.push('        return dest;\\n');\n        code.push('    };');\n\n        // Here we are creating a new Function and invoking it immediately in the scope of this Reader\n        // It declares several vars capturing the configured context of this Reader, and returns a function\n        // which, when passed a record data object, a raw data row in the format this Reader is configured to read,\n        // and the record which is being created, will populate the record's data object from the raw row data.\n        return Ext.functionFactory(code.join('')).call(me);\n    },\n\n    getFields: function() {\n        return this.getModel().getFields().items;\n    },\n\n    /**\n     * @private\n     * By default this function just returns what is passed to it. It can be overridden in a subclass\n     * to return something else. See XmlReader for an example.\n     * @param {Object} data The data object\n     * @return {Object} The normalized data object\n     */\n    getData: function(data) {\n        return data;\n    },\n\n    /**\n     * Takes a raw response object (as passed to this.read) and returns the useful data segment of it.\n     * This must be implemented by each subclass\n     * @param {Object} response The response object\n     * @return {Object} The useful data from the response\n     */\n    getResponseData: function(response) {\n        return response;\n    },\n\n    /**\n     * @private\n     * This will usually need to be implemented in a subclass. Given a generic data object (the type depends on the type\n     * of data we are reading), this function should return the object as configured by the Reader's 'root' meta data config.\n     * See XmlReader's getRoot implementation for an example. By default the same data object will simply be returned.\n     * @param {Object} data The data object\n     * @return {Object} The same data object\n     */\n    getRoot: function(data) {\n        return data;\n    },\n\n    /**\n     * Reads the given response object. This method normalizes the different types of response object that may be passed\n     * to it, before handing off the reading of records to the {@link #readRecords} function.\n     * @param {Object} response The response object. This may be either an XMLHttpRequest object or a plain JS object\n     * @return {Ext.data.ResultSet} The parsed ResultSet object\n     */\n    read: function(response) {\n        var data = response,\n            Model = this.getModel(),\n            resultSet, records, i, ln, record;\n\n        if (response) {\n            data = this.getResponseData(response);\n        }\n\n        if (data) {\n            resultSet = this.readRecords(data);\n            records = resultSet.getRecords();\n            for (i = 0, ln = records.length; i < ln; i++) {\n                record = records[i];\n                records[i] = new Model(record.data, record.id, record.node);\n            }\n            return resultSet;\n        } else {\n            return this.nullResultSet;\n        }\n    },\n\n    process: function(response) {\n        var data = response;\n\n        if (response) {\n            data = this.getResponseData(response);\n        }\n\n        if (data) {\n            return this.readRecords(data);\n        } else {\n            return this.nullResultSet;\n        }\n    },\n\n    /**\n     * Abstracts common functionality used by all Reader subclasses. Each subclass is expected to call this function\n     * before running its own logic and returning the Ext.data.ResultSet instance. For most Readers additional\n     * processing should not be needed.\n     * @param {Object} data The raw data object\n     * @return {Ext.data.ResultSet} A ResultSet object\n     */\n    readRecords: function(data) {\n        var me  = this;\n\n        /**\n         * @property {Object} rawData\n         * The raw data object that was last passed to readRecords. Stored for further processing if needed\n         */\n        me.rawData = data;\n\n        data = me.getData(data);\n\n        if (data.metaData) {\n            me.onMetaChange(data.metaData);\n        }\n\n        if (!me.getModel()) {\n            Ext.Logger.warn('In order to read record data, a Reader needs to have a Model defined on it.');\n        }\n\n        // If we pass an array as the data, we dont use getRoot on the data.\n        // Instead the root equals to the data.\n        var root    = Ext.isArray(data) ? data : me.getRoot(data),\n            success = true,\n            recordCount = 0,\n            total, value, records, message;\n\n        if (me.getTotalProperty()) {\n            value = parseInt(me.getTotal(data), 10);\n            if (!isNaN(value)) {\n                total = value;\n            }\n        }\n\n        if (me.getSuccessProperty()) {\n            value = me.getSuccess(data);\n            if (value === false || value === 'false') {\n                success = false;\n            }\n        }\n\n        if (me.getMessageProperty()) {\n            message = me.getMessage(data);\n        }\n\n        if (root) {\n            records = me.extractData(root);\n            recordCount = records.length;\n        } else {\n            recordCount = 0;\n            records = [];\n        }\n\n        return new Ext.data.ResultSet({\n            total  : total,\n            count  : recordCount,\n            records: records,\n            success: success,\n            message: message\n        });\n    },\n\n    /**\n     * Returns extracted, type-cast rows of data.\n     * @param {Object[]/Object} root from server response\n     * @private\n     */\n    extractData : function(root) {\n        var me = this,\n            records = [],\n            length  = root.length,\n            model = me.getModel(),\n            idProperty = model.getIdProperty(),\n            fieldsCollection = model.getFields(),\n            node, i, data, id, clientId;\n\n        /*\n         * We check here whether the fields are dirty since the last read.\n         * This works around an issue when a Model is used for both a Tree and another\n         * source, because the tree decorates the model with extra fields and it causes\n         * issues because the readers aren't notified.\n         */\n        if (fieldsCollection.isDirty) {\n            me.buildExtractors(true);\n            delete fieldsCollection.isDirty;\n        }\n\n        if (!root.length && Ext.isObject(root)) {\n            root = [root];\n            length = 1;\n        }\n\n        for (i = 0; i < length; i++) {\n            clientId = null;\n            id = null;\n\n            node = root[i];\n\n            // When you use a Memory proxy, and you set data: [] to contain record instances\n            // this node will already be a record. In this case we should not try to extract\n            // the record data from the object, but just use the record data attribute.\n            if (node.isModel) {\n                data = node.data;\n            } else {\n                data = me.extractRecordData(node);\n            }\n\n            if (data._clientId !== undefined) {\n                clientId = data._clientId;\n                delete data._clientId;\n            }\n\n            if (data[idProperty] !== undefined) {\n                id = data[idProperty];\n            }\n\n            if (me.getImplicitIncludes()) {\n                 me.readAssociated(data, node);\n            }\n\n            records.push({\n                clientId: clientId,\n                id: id,\n                data: data,\n                node: node\n            });\n        }\n\n        return records;\n    },\n\n    /**\n     * @private\n     * Loads a record's associations from the data object. This prepopulates hasMany and belongsTo associations\n     * on the record provided.\n     * @param {Ext.data.Model} record The record to load associations for\n     * @param {Object} data The data object\n     * @return {String} Return value description\n     */\n    readAssociated: function(data, node) {\n        var associations = this.getModel().associations.items,\n            i            = 0,\n            length       = associations.length,\n            association, associationData, associationKey;\n\n        for (; i < length; i++) {\n            association     = associations[i];\n            associationKey  = association.getAssociationKey();\n            associationData = this.getAssociatedDataRoot(node, associationKey);\n\n            if (associationData) {\n                data[associationKey] = associationData;\n            }\n        }\n    },\n\n    /**\n     * @private\n     * Used internally by `readAssociated`. Given a data object (which could be json, xml etc) for a specific\n     * record, this should return the relevant part of that data for the given association name. This is only really\n     * needed to support the XML Reader, which has to do a query to get the associated data object\n     * @param {Object} data The raw data object\n     * @param {String} associationName The name of the association to get data for (uses associationKey if present)\n     * @return {Object} The root\n     */\n    getAssociatedDataRoot: function(data, associationName) {\n        return data[associationName];\n    },\n\n    /**\n     * @private\n     * Reconfigures the meta data tied to this Reader\n     */\n    onMetaChange : function(meta) {\n        var fields = meta.fields,\n            me = this,\n            newModel, config, idProperty;\n\n        // save off the raw meta data\n        me.metaData = meta;\n\n        // set any reader-specific configs from meta if available\n        if (meta.rootProperty !== undefined) {\n            me.setRootProperty(meta.rootProperty);\n        }\n        else if (meta.root !== undefined) {\n            me.setRootProperty(meta.root);\n        }\n\n        if (meta.idProperty !== undefined) {\n            me.setIdProperty(meta.idProperty);\n        }\n        if (meta.totalProperty !== undefined) {\n            me.setTotalProperty(meta.totalProperty);\n        }\n        if (meta.successProperty !== undefined) {\n            me.setSuccessProperty(meta.successProperty);\n        }\n        if (meta.messageProperty !== undefined) {\n            me.setMessageProperty(meta.messageProperty);\n        }\n\n        if (fields) {\n            if (me.getModel()) {\n                me.getModel().setFields(fields);\n                me.buildExtractors();\n            }\n            else {\n                idProperty = me.getIdProperty();\n                config = {fields: fields};\n\n                if (idProperty) {\n                    config.idProperty = idProperty;\n                }\n\n                newModel = Ext.define(\"Ext.data.reader.MetaModel\" + Ext.id(), {\n                    extend: 'Ext.data.Model',\n                    config: config\n                });\n\n                me.setModel(newModel);\n            }\n        }\n        else {\n            me.buildExtractors();\n        }\n    }\n\n\n    // Convert old properties in data into a config object\n    ,onClassExtended: function(cls, data, hooks) {\n        var Component = this,\n            defaultConfig = Component.prototype.config,\n            config = data.config || {},\n            key;\n\n\n        for (key in defaultConfig) {\n            if (key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the Reader prototype. ' +\n                    'Please put it inside the config object.');\n            }\n        }\n\n        data.config = config;\n    }\n}, function() {\n    Ext.apply(this.prototype, {\n        // Private. Empty ResultSet to return when response is falsy (null|undefined|empty string)\n        nullResultSet: new Ext.data.ResultSet({\n            total  : 0,\n            count  : 0,\n            records: [],\n            success: false\n        })\n    });\n\n    /**\n     * @cfg {String} root\n     * The name of the property which contains the Array of row objects.  For JSON reader it's dot-separated list\n     * of property names.  For XML reader it's a CSS selector.  For array reader it's not applicable.\n     *\n     * By default the natural root of the data will be used.  The root Json array, the root XML element, or the array.\n     *\n     * The data packet value for this property should be an empty array to clear the data or show no data.\n     *\n     * @deprecated 2.0.0 Please use the {@link #rootProperty} configuration instead.\n     */\n    this.override({\n        constructor: function(config) {\n            config = config || {};\n\n            if (config.root) {\n                Ext.Logger.deprecate('root has been deprecated as a configuration on Reader. Please use rootProperty instead.');\n\n                config.rootProperty = config.root;\n                delete config.root;\n            }\n\n            this.callOverridden([config]);\n        }\n    });\n});\n\n/**\n * The JSON Reader is used by a Proxy to read a server response that is sent back in JSON format. This usually happens\n * as a result of loading a Store - for example we might create something like this:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['id', 'name', 'email']\n *         }\n *     });\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'ajax',\n *             url : 'users.json',\n *             reader: {\n *                 type: 'json'\n *             }\n *         }\n *     });\n *\n * The example above creates a 'User' model. Models are explained in the {@link Ext.data.Model Model} docs if you're not\n * already familiar with them.\n *\n * We created the simplest type of JSON Reader possible by simply telling our {@link Ext.data.Store Store}'s {@link\n * Ext.data.proxy.Proxy Proxy} that we want a JSON Reader. The Store automatically passes the configured model to the\n * Store, so it is as if we passed this instead:\n *\n *     reader: {\n *         type : 'json',\n *         model: 'User'\n *     }\n *\n * The reader we set up is ready to read data from our server - at the moment it will accept a response like this:\n *\n *     [\n *         {\n *             \"id\": 1,\n *             \"name\": \"Ed Spencer\",\n *             \"email\": \"ed@sencha.com\"\n *         },\n *         {\n *             \"id\": 2,\n *             \"name\": \"Abe Elias\",\n *             \"email\": \"abe@sencha.com\"\n *         }\n *     ]\n *\n * ## Reading other JSON formats\n *\n * If you already have your JSON format defined and it doesn't look quite like what we have above, you can usually pass\n * JsonReader a couple of configuration options to make it parse your format. For example, we can use the\n * {@link #rootProperty} configuration to parse data that comes back like this:\n *\n *     {\n *         \"users\": [\n *            {\n *                \"id\": 1,\n *                \"name\": \"Ed Spencer\",\n *                \"email\": \"ed@sencha.com\"\n *            },\n *            {\n *                \"id\": 2,\n *                \"name\": \"Abe Elias\",\n *                \"email\": \"abe@sencha.com\"\n *            }\n *         ]\n *     }\n *\n * To parse this we just pass in a {@link #rootProperty} configuration that matches the 'users' above:\n *\n *     reader: {\n *         type: 'json',\n *         rootProperty: 'users'\n *     }\n *\n * Sometimes the JSON structure is even more complicated. Document databases like CouchDB often provide metadata around\n * each record inside a nested structure like this:\n *\n *     {\n *         \"total\": 122,\n *         \"offset\": 0,\n *         \"users\": [\n *             {\n *                 \"id\": \"ed-spencer-1\",\n *                 \"value\": 1,\n *                 \"user\": {\n *                     \"id\": 1,\n *                     \"name\": \"Ed Spencer\",\n *                     \"email\": \"ed@sencha.com\"\n *                 }\n *             }\n *         ]\n *     }\n *\n * In the case above the record data is nested an additional level inside the \"users\" array as each \"user\" item has\n * additional metadata surrounding it ('id' and 'value' in this case). To parse data out of each \"user\" item in the JSON\n * above we need to specify the {@link #record} configuration like this:\n *\n *     reader: {\n *         type: 'json',\n *         record: 'user',\n *         rootProperty: 'users'\n *     }\n *\n * ## Response MetaData\n *\n * The server can return metadata in its response, in addition to the record data, that describe attributes\n * of the data set itself or are used to reconfigure the Reader. To pass metadata in the response you simply\n * add a `metaData` attribute to the root of the response data. The metaData attribute can contain anything,\n * but supports a specific set of properties that are handled by the Reader if they are present:\n *\n * - {@link #idProperty}: property name for the primary key field of the data\n * - {@link #rootProperty}: the property name of the root response node containing the record data\n * - {@link #totalProperty}: property name for the total number of records in the data\n * - {@link #successProperty}: property name for the success status of the response\n * - {@link #messageProperty}: property name for an optional response message\n * - {@link Ext.data.Model#cfg-fields fields}: Config used to reconfigure the Model's fields before converting the\n *   response data into records\n *\n * An initial Reader configuration containing all of these properties might look like this (\"fields\" would be\n * included in the Model definition, not shown):\n *\n *     reader: {\n *         type: 'json',\n *         idProperty: 'id',\n *         rootProperty: 'root',\n *         totalProperty: 'total',\n *         successProperty: 'success',\n *         messageProperty: 'message'\n *     }\n *\n * If you were to pass a response object containing attributes different from those initially defined above, you could\n * use the `metaData` attribute to reconifgure the Reader on the fly. For example:\n *\n *     {\n *         \"count\": 1,\n *         \"ok\": true,\n *         \"msg\": \"Users found\",\n *         \"users\": [{\n *             \"userId\": 123,\n *             \"name\": \"Ed Spencer\",\n *             \"email\": \"ed@sencha.com\"\n *         }],\n *         \"metaData\": {\n *             \"idProperty\": 'userId',\n *             \"rootProperty\": \"users\",\n *             \"totalProperty\": 'count',\n *             \"successProperty\": 'ok',\n *             \"messageProperty\": 'msg'\n *         }\n *     }\n *\n * You can also place any other arbitrary data you need into the `metaData` attribute which will be ignored by the Reader,\n * but will be accessible via the Reader's {@link #metaData} property. Application code can then process the passed\n * metadata in any way it chooses.\n *\n * A simple example for how this can be used would be customizing the fields for a Model that is bound to a grid. By passing\n * the `fields` property the Model will be automatically updated by the Reader internally, but that change will not be\n * reflected automatically in the grid unless you also update the column configuration. You could do this manually, or you\n * could simply pass a standard grid column config object as part of the `metaData` attribute\n * and then pass that along to the grid. Here's a very simple example for how that could be accomplished:\n *\n *     // response format:\n *     {\n *         ...\n *         \"metaData\": {\n *             \"fields\": [\n *                 { \"name\": \"userId\", \"type\": \"int\" },\n *                 { \"name\": \"name\", \"type\": \"string\" },\n *                 { \"name\": \"birthday\", \"type\": \"date\", \"dateFormat\": \"Y-j-m\" },\n *             ],\n *             \"columns\": [\n *                 { \"text\": \"User ID\", \"dataIndex\": \"userId\", \"width\": 40 },\n *                 { \"text\": \"User Name\", \"dataIndex\": \"name\", \"flex\": 1 },\n *                 { \"text\": \"Birthday\", \"dataIndex\": \"birthday\", \"flex\": 1, \"format\": 'Y-j-m', \"xtype\": \"datecolumn\" }\n *             ]\n *         }\n *     }\n */\nExt.define('Ext.data.reader.Json', {\n    extend: 'Ext.data.reader.Reader',\n    alternateClassName: 'Ext.data.JsonReader',\n    alias : 'reader.json',\n\n    config: {\n        /**\n         * @cfg {String} [record=null]\n         * The optional location within the JSON response that the record data itself can be found at. See the\n         * JsonReader intro docs for more details. This is not often needed.\n         */\n        record: null,\n\n        /**\n         * @cfg {Boolean} [useSimpleAccessors=false]\n         * True to ensure that field names/mappings are treated as literals when reading values. Defalts to false. For\n         * example, by default, using the mapping \"foo.bar.baz\" will try and read a property foo from the root, then a\n         * property bar from foo, then a property baz from bar. Setting the simple accessors to true will read the\n         * property with the name \"foo.bar.baz\" direct from the root object.\n         */\n        useSimpleAccessors: false\n    },\n\n    objectRe: /[\\[\\.]/,\n\n    //inherit docs\n    getResponseData: function(response) {\n        var responseText = response;\n\n        // Handle an XMLHttpRequest object\n        if (response && response.responseText) {\n            responseText = response.responseText;\n        }\n\n        // Handle the case where data has already been decoded\n        if (typeof responseText !== 'string') {\n            return responseText;\n        }\n\n        var data;\n        try {\n            data = Ext.decode(responseText);\n        }\n        catch (ex) {\n            /**\n             * @event exception Fires whenever the reader is unable to parse a response.\n             * @param {Ext.data.reader.Xml} reader A reference to this reader\n             * @param {XMLHttpRequest} response The XMLHttpRequest response object.\n             * @param {String} error The error message.\n             */\n            this.fireEvent('exception', this, response, 'Unable to parse the JSON returned by the server: ' + ex.toString());\n            Ext.Logger.warn('Unable to parse the JSON returned by the server: ' + ex.toString());\n        }\n        if (!data) {\n            this.fireEvent('exception', this, response, 'JSON object not found');\n\n            Ext.Logger.error('JSON object not found');\n        }\n\n        return data;\n    },\n\n    // inherit docs\n    buildExtractors: function() {\n        var me = this,\n            root = me.getRootProperty();\n\n        me.callParent(arguments);\n\n        if (root) {\n            me.rootAccessor = me.createAccessor(root);\n        } else {\n            delete me.rootAccessor;\n        }\n    },\n\n    /**\n     * We create this method because root is now a config so getRoot is already defined, but in the old\n     * data package getRoot was passed a data argument and it would return the data inside of the root\n     * property. This method handles both cases.\n     * @param data (Optional)\n     * @return {String/Object} Returns the config root value if this method was called without passing\n     * data. Else it returns the object in the data bound to the root.\n     * @private\n     */\n    getRoot: function(data) {\n        var fieldsCollection = this.getModel().getFields();\n\n        /*\n         * We check here whether the fields are dirty since the last read.\n         * This works around an issue when a Model is used for both a Tree and another\n         * source, because the tree decorates the model with extra fields and it causes\n         * issues because the readers aren't notified.\n         */\n        if (fieldsCollection.isDirty) {\n            this.buildExtractors(true);\n            delete fieldsCollection.isDirty;\n        }\n\n        if (this.rootAccessor) {\n            return this.rootAccessor.call(this, data);\n        } else {\n            return data;\n        }\n    },\n\n    /**\n     * @private\n     * We're just preparing the data for the superclass by pulling out the record objects we want. If a {@link #record}\n     * was specified we have to pull those out of the larger JSON object, which is most of what this function is doing\n     * @param {Object} root The JSON root node\n     * @return {Ext.data.Model[]} The records\n     */\n    extractData: function(root) {\n        var recordName = this.getRecord(),\n            data = [],\n            length, i;\n\n        if (recordName) {\n            length = root.length;\n\n            if (!length && Ext.isObject(root)) {\n                length = 1;\n                root = [root];\n            }\n\n            for (i = 0; i < length; i++) {\n                data[i] = root[i][recordName];\n            }\n        } else {\n            data = root;\n        }\n        return this.callParent([data]);\n    },\n\n    /**\n     * @private\n     * Returns an accessor function for the given property string. Gives support for properties such as the following:\n     * 'someProperty'\n     * 'some.property'\n     * 'some[\"property\"]'\n     * This is used by buildExtractors to create optimized extractor functions when casting raw data into model instances.\n     */\n    createAccessor: function() {\n        var re = /[\\[\\.]/;\n\n        return function(expr) {\n            if (Ext.isEmpty(expr)) {\n                return Ext.emptyFn;\n            }\n            if (Ext.isFunction(expr)) {\n                return expr;\n            }\n            if (this.getUseSimpleAccessors() !== true) {\n                var i = String(expr).search(re);\n                if (i >= 0) {\n                    return Ext.functionFactory('obj', 'var value; try {value = obj' + (i > 0 ? '.' : '') + expr + '} catch(e) {}; return value;');\n                }\n            }\n            return function(obj) {\n                return obj[expr];\n            };\n        };\n    }(),\n\n    /**\n     * @private\n     * Returns an accessor expression for the passed Field. Gives support for properties such as the following:\n     * 'someProperty'\n     * 'some.property'\n     * 'some[\"property\"]'\n     * This is used by buildExtractors to create optimized on extractor function which converts raw data into model instances.\n     */\n    createFieldAccessExpression: function(field, fieldVarName, dataName) {\n        var me     = this,\n            re     = me.objectRe,\n            hasMap = (field.getMapping() !== null),\n            map    = hasMap ? field.getMapping() : field.getName(),\n            result, operatorSearch;\n\n        if (typeof map === 'function') {\n            result = fieldVarName + '.getMapping()(' + dataName + ', this)';\n        }\n        else if (me.getUseSimpleAccessors() === true || ((operatorSearch = String(map).search(re)) < 0)) {\n            if (!hasMap || isNaN(map)) {\n                // If we don't provide a mapping, we may have a field name that is numeric\n                map = '\"' + map + '\"';\n            }\n            result = dataName + \"[\" + map + \"]\";\n        }\n        else {\n            result = dataName + (operatorSearch > 0 ? '.' : '') + map;\n        }\n\n        return result;\n    }\n});\n\n/**\n * @author Ed Spencer\n * @aside guide proxies\n *\n * Proxies are used by {@link Ext.data.Store Stores} to handle the loading and saving of {@link Ext.data.Model Model}\n * data. Usually developers will not need to create or interact with proxies directly.\n *\n * # Types of Proxy\n *\n * There are two main types of Proxy - {@link Ext.data.proxy.Client Client} and {@link Ext.data.proxy.Server Server}.\n * The Client proxies save their data locally and include the following subclasses:\n *\n * - {@link Ext.data.proxy.LocalStorage LocalStorageProxy} - saves its data to localStorage if the browser supports it\n * - {@link Ext.data.proxy.Memory MemoryProxy} - holds data in memory only, any data is lost when the page is refreshed\n *\n * The Server proxies save their data by sending requests to some remote server. These proxies include:\n *\n * - {@link Ext.data.proxy.Ajax Ajax} - sends requests to a server on the same domain\n * - {@link Ext.data.proxy.JsonP JsonP} - uses JSON-P to send requests to a server on a different domain\n *\n * Proxies operate on the principle that all operations performed are either Create, Read, Update or Delete. These four\n * operations are mapped to the methods {@link #create}, {@link #read}, {@link #update} and {@link #destroy}\n * respectively. Each Proxy subclass implements these functions.\n *\n * The CRUD methods each expect an {@link Ext.data.Operation Operation} object as the sole argument. The Operation\n * encapsulates information about the action the Store wishes to perform, the {@link Ext.data.Model model} instances\n * that are to be modified, etc. See the {@link Ext.data.Operation Operation} documentation for more details. Each CRUD\n * method also accepts a callback function to be called asynchronously on completion.\n *\n * Proxies also support batching of Operations via a {@link Ext.data.Batch batch} object, invoked by the {@link #batch}\n * method.\n */\nExt.define('Ext.data.proxy.Proxy', {\n    extend: 'Ext.Evented',\n\n    alias: 'proxy.proxy',\n\n    alternateClassName: ['Ext.data.DataProxy', 'Ext.data.Proxy'],\n\n    requires: [\n        'Ext.data.reader.Json',\n        'Ext.data.writer.Json',\n        'Ext.data.Batch',\n        'Ext.data.Operation'\n    ],\n\n    config: {\n        /**\n         * @cfg {String} batchOrder\n         * Comma-separated ordering 'create', 'update' and 'destroy' actions when batching. Override this to set a different\n         * order for the batched CRUD actions to be executed in. Defaults to 'create,update,destroy'.\n         * @accessor\n         */\n        batchOrder: 'create,update,destroy',\n\n        /**\n         * @cfg {Boolean} batchActions\n         * True to batch actions of a particular type when synchronizing the store. Defaults to true.\n         * @accessor\n         */\n        batchActions: true,\n\n        /**\n         * @cfg {String/Ext.data.Model} model\n         * The name of the Model to tie to this Proxy. Can be either the string name of the Model, or a reference to the\n         * Model constructor. Required.\n         * @accessor\n         */\n        model: null,\n\n        /**\n         * @cfg {Object/String/Ext.data.reader.Reader} reader\n         * The Ext.data.reader.Reader to use to decode the server's response or data read from client. This can either be a\n         * Reader instance, a config object or just a valid Reader type name (e.g. 'json', 'xml').\n         * @accessor\n         */\n        reader: {\n            type: 'json'\n        },\n\n        /**\n         * @cfg {Object/String/Ext.data.writer.Writer} writer\n         * The Ext.data.writer.Writer to use to encode any request sent to the server or saved to client. This can either be\n         * a Writer instance, a config object or just a valid Writer type name (e.g. 'json', 'xml').\n         * @accessor\n         */\n        writer: {\n            type: 'json'\n        }\n    },\n\n    isProxy: true,\n\n    applyModel: function(model) {\n        if (typeof model == 'string') {\n            model = Ext.data.ModelManager.getModel(model);\n\n            if (!model) {\n                Ext.Logger.error('Model with name ' + arguments[0] + ' doesnt exist.');\n            }\n        }\n\n        if (model && !model.prototype.isModel && Ext.isObject(model)) {\n            model = Ext.data.ModelManager.registerType(model.storeId || model.id || Ext.id(), model);\n        }\n\n        return model;\n    },\n\n    updateModel: function(model) {\n        if (model) {\n            var reader = this.getReader();\n            if (reader && !reader.getModel()) {\n                reader.setModel(model);\n            }\n        }\n    },\n\n    applyReader: function(reader, currentReader) {\n        return Ext.factory(reader, Ext.data.Reader, currentReader, 'reader');\n    },\n\n    updateReader: function(reader) {\n        if (reader) {\n            var model = this.getModel();\n            if (!model) {\n                model = reader.getModel();\n                if (model) {\n                    this.setModel(model);\n                }\n            } else {\n                reader.setModel(model);\n            }\n\n            if (reader.onMetaChange) {\n                 reader.onMetaChange = Ext.Function.createSequence(reader.onMetaChange, this.onMetaChange, this);\n            }\n        }\n    },\n\n    onMetaChange: function(data) {\n        var model = this.getReader().getModel();\n        if (!this.getModel() && model) {\n            this.setModel(model);\n        }\n\n        /**\n         * @event metachange\n         * Fires whenever the server has sent back new metadata to reconfigure the Reader.\n         * @param {Ext.data.Proxy} this\n         * @param {Object} data The metadata sent back from the server\n         */\n        this.fireEvent('metachange', this, data);\n    },\n\n    applyWriter: function(writer, currentWriter) {\n        return Ext.factory(writer, Ext.data.Writer, currentWriter, 'writer');\n    },\n\n    /**\n     * Performs the given create operation. If you override this method in a custom Proxy, remember to always call the provided\n     * callback method when you are done with your operation.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    create: Ext.emptyFn,\n\n    /**\n     * Performs the given read operation. If you override this method in a custom Proxy, remember to always call the provided\n     * callback method when you are done with your operation.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    read: Ext.emptyFn,\n\n    /**\n     * Performs the given update operation. If you override this method in a custom Proxy, remember to always call the provided\n     * callback method when you are done with your operation.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    update: Ext.emptyFn,\n\n    /**\n     * Performs the given destroy operation. If you override this method in a custom Proxy, remember to always call the provided\n     * callback method when you are done with your operation.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    destroy: Ext.emptyFn,\n\n    onDestroy: function() {\n        Ext.destroy(this.getReader(), this.getWriter());\n    },\n\n    /**\n     * Performs a batch of {@link Ext.data.Operation Operations}, in the order specified by {@link #batchOrder}. Used\n     * internally by {@link Ext.data.Store}'s {@link Ext.data.Store#sync sync} method. Example usage:\n     *\n     *     myProxy.batch({\n     *         create : [myModel1, myModel2],\n     *         update : [myModel3],\n     *         destroy: [myModel4, myModel5]\n     *     });\n     *\n     * Where the myModel* above are {@link Ext.data.Model Model} instances - in this case 1 and 2 are new instances and\n     * have not been saved before, 3 has been saved previously but needs to be updated, and 4 and 5 have already been\n     * saved but should now be destroyed.\n     *\n     * @param {Object} options Object containing one or more properties supported by the batch method:\n     *\n     * @param {Object} options.operations Object containing the Model instances to act upon, keyed by action name\n     *\n     * @param {Object} [options.listeners] Event listeners object passed straight through to the Batch -\n     * see {@link Ext.data.Batch} for details\n     *\n     * @param {Ext.data.Batch/Object} [options.batch] A {@link Ext.data.Batch} object (or batch config to apply\n     * to the created batch). If unspecified a default batch will be auto-created.\n     *\n     * @param {Function} [options.callback] The function to be called upon completion of processing the batch.\n     * The callback is called regardless of success or failure and is passed the following parameters:\n     * @param {Ext.data.Batch} options.callback.batch The {@link Ext.data.Batch batch} that was processed,\n     * containing all operations in their current state after processing\n     * @param {Object} options.callback.options The options argument that was originally passed into batch\n     *\n     * @param {Function} [options.success] The function to be called upon successful completion of the batch. The\n     * success function is called only if no exceptions were reported in any operations. If one or more exceptions\n     * occurred then the `failure` function will be called instead. The success function is called\n     * with the following parameters:\n     * @param {Ext.data.Batch} options.success.batch The {@link Ext.data.Batch batch} that was processed,\n     * containing all operations in their current state after processing\n     * @param {Object} options.success.options The options argument that was originally passed into batch\n     *\n     * @param {Function} [options.failure] The function to be called upon unsuccessful completion of the batch. The\n     * failure function is called when one or more operations returns an exception during processing (even if some\n     * operations were also successful). The failure function is called with the following parameters:\n     * @param {Ext.data.Batch} options.failure.batch The {@link Ext.data.Batch batch} that was processed,\n     * containing all operations in their current state after processing\n     * @param {Object} options.failure.options The options argument that was originally passed into batch\n     *\n     * @param {Object} [options.scope] The scope in which to execute any callbacks (i.e. the `this` object inside\n     * the callback, success and/or failure functions). Defaults to the proxy.\n     *\n     * @return {Ext.data.Batch} The newly created Batch\n     */\n    batch: function(options, /* deprecated */listeners) {\n        var me = this,\n            useBatch = me.getBatchActions(),\n            model = this.getModel(),\n            batch,\n            records;\n\n        if (options.operations === undefined) {\n            // the old-style (operations, listeners) signature was called\n            // so convert to the single options argument syntax\n            options = {\n                operations: options,\n                batch: {\n                    listeners: listeners\n                }\n            };\n\n            Ext.Logger.deprecate('Passes old-style signature to Proxy.batch (operations, listeners). Please convert to single options argument syntax.');\n        }\n\n        if (options.batch) {\n             if (options.batch.isBatch) {\n                 options.batch.setProxy(me);\n             } else {\n                 options.batch.proxy = me;\n             }\n        } else {\n             options.batch = {\n                 proxy: me,\n                 listeners: options.listeners || {}\n             };\n        }\n\n        if (!batch) {\n            batch = new Ext.data.Batch(options.batch);\n        }\n\n        batch.on('complete', Ext.bind(me.onBatchComplete, me, [options], 0));\n\n        Ext.each(me.getBatchOrder().split(','), function(action) {\n             records = options.operations[action];\n             if (records) {\n                 if (useBatch) {\n                     batch.add(new Ext.data.Operation({\n                         action: action,\n                         records: records,\n                         model: model\n                     }));\n                 } else {\n                     Ext.each(records, function(record) {\n                         batch.add(new Ext.data.Operation({\n                             action : action,\n                             records: [record],\n                             model: model\n                         }));\n                     });\n                 }\n             }\n        }, me);\n\n        batch.start();\n        return batch;\n    },\n\n    /**\n      * @private\n      * The internal callback that the proxy uses to call any specified user callbacks after completion of a batch\n      */\n    onBatchComplete: function(batchOptions, batch) {\n         var scope = batchOptions.scope || this;\n\n         if (batch.hasException) {\n             if (Ext.isFunction(batchOptions.failure)) {\n                 Ext.callback(batchOptions.failure, scope, [batch, batchOptions]);\n             }\n         } else if (Ext.isFunction(batchOptions.success)) {\n             Ext.callback(batchOptions.success, scope, [batch, batchOptions]);\n         }\n\n         if (Ext.isFunction(batchOptions.callback)) {\n             Ext.callback(batchOptions.callback, scope, [batch, batchOptions]);\n         }\n    }\n\n    ,onClassExtended: function(cls, data) {\n        var prototype = this.prototype,\n            defaultConfig = prototype.config,\n            config = data.config || {},\n            key;\n\n        // Convert deprecated properties in application into a config object\n        for (key in defaultConfig) {\n            if (key != \"control\" && key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.warn(key + ' is deprecated as a property directly on the ' + this.$className + ' prototype. Please put it inside the config object.');\n            }\n        }\n        data.config = config;\n    }\n}, function() {\n    // Ext.data2.proxy.ProxyMgr.registerType('proxy', this);\n\n    //backwards compatibility\n    // Ext.data.DataProxy = this;\n    // Ext.deprecate('platform', '2.0', function() {\n    //     Ext.data2.DataProxy = this;\n    // }, this);\n});\n\n/**\n * @author Ed Spencer\n *\n * ServerProxy is a superclass of {@link Ext.data.proxy.JsonP JsonPProxy} and {@link Ext.data.proxy.Ajax AjaxProxy}, and\n * would not usually be used directly.\n * @private\n */\nExt.define('Ext.data.proxy.Server', {\n    extend: 'Ext.data.proxy.Proxy',\n    alias : 'proxy.server',\n    alternateClassName: 'Ext.data.ServerProxy',\n    requires  : ['Ext.data.Request'],\n\n    config: {\n        /**\n         * @cfg {String} url\n         * The URL from which to request the data object.\n         */\n        url: null,\n\n        /**\n         * @cfg {String} pageParam\n         * The name of the 'page' parameter to send in a request. Defaults to 'page'. Set this to false if you don't\n         * want to send a page parameter.\n         */\n        pageParam: 'page',\n\n        /**\n         * @cfg {String} startParam\n         * The name of the 'start' parameter to send in a request. Defaults to 'start'. Set this to false if you don't\n         * want to send a start parameter.\n         */\n        startParam: 'start',\n\n        /**\n         * @cfg {String} limitParam\n         * The name of the 'limit' parameter to send in a request. Defaults to 'limit'. Set this to false if you don't\n         * want to send a limit parameter.\n         */\n        limitParam: 'limit',\n\n        /**\n         * @cfg {String} groupParam\n         * The name of the 'group' parameter to send in a request. Defaults to 'group'. Set this to false if you don't\n         * want to send a group parameter.\n         */\n        groupParam: 'group',\n\n        /**\n         * @cfg {String} sortParam\n         * The name of the 'sort' parameter to send in a request. Defaults to 'sort'. Set this to undefined if you don't\n         * want to send a sort parameter.\n         */\n        sortParam: 'sort',\n\n        /**\n         * @cfg {String} filterParam\n         * The name of the 'filter' parameter to send in a request. Defaults to 'filter'. Set this to undefined if you don't\n         * want to send a filter parameter.\n         */\n        filterParam: 'filter',\n\n        /**\n         * @cfg {String} directionParam\n         * The name of the direction parameter to send in a request. **This is only used when simpleSortMode is set to\n         * true.** Defaults to 'dir'.\n         */\n        directionParam: 'dir',\n\n        /**\n         * @cfg {Boolean} enablePagingParams This can be set to false if you want to prevent the paging params to be\n         * sent along with the requests made by this proxy.\n         */\n        enablePagingParams: true,\n\n        /**\n         * @cfg {Boolean} simpleSortMode\n         * Enabling simpleSortMode in conjunction with remoteSort will only send one sort property and a direction when a\n         * remote sort is requested. The directionParam and sortParam will be sent with the property name and either 'ASC'\n         * or 'DESC'.\n         */\n        simpleSortMode: false,\n\n        /**\n         * @cfg {Boolean} noCache\n         * Disable caching by adding a unique parameter name to the request. Set to false to allow caching. Defaults to true.\n         */\n        noCache : true,\n\n        /**\n         * @cfg {String} cacheString\n         * The name of the cache param added to the url when using noCache. Defaults to \"_dc\".\n         */\n        cacheString: \"_dc\",\n\n        /**\n         * @cfg {Number} timeout\n         * The number of milliseconds to wait for a response. Defaults to 30000 milliseconds (30 seconds).\n         */\n        timeout : 30000,\n\n        /**\n         * @cfg {Object} api\n         * Specific urls to call on CRUD action methods \"create\", \"read\", \"update\" and \"destroy\". Defaults to:\n         *\n         *     api: {\n         *         create  : undefined,\n         *         read    : undefined,\n         *         update  : undefined,\n         *         destroy : undefined\n         *     }\n         *\n         * The url is built based upon the action being executed [create|read|update|destroy] using the commensurate\n         * {@link #api} property, or if undefined default to the configured\n         * {@link Ext.data.Store}.{@link Ext.data.proxy.Server#url url}.\n         *\n         * For example:\n         *\n         *     api: {\n         *         create  : '/controller/new',\n         *         read    : '/controller/load',\n         *         update  : '/controller/update',\n         *         destroy : '/controller/destroy_action'\n         *     }\n         *\n         * If the specific URL for a given CRUD action is undefined, the CRUD action request will be directed to the\n         * configured {@link Ext.data.proxy.Server#url url}.\n         */\n        api: {\n            create  : undefined,\n            read    : undefined,\n            update  : undefined,\n            destroy : undefined\n        },\n\n        /**\n         * @cfg {Object} extraParams\n         * Extra parameters that will be included on every request. Individual requests with params of the same name\n         * will override these params when they are in conflict.\n         */\n        extraParams: {}\n    },\n\n    constructor: function(config) {\n        config = config || {};\n        if (config.nocache !== undefined) {\n            config.noCache = config.nocache;\n            Ext.Logger.warn('nocache configuration on Ext.data.proxy.Server has been deprecated. Please use noCache.');\n        }\n        this.callParent([config]);\n    },\n\n    //in a ServerProxy all four CRUD operations are executed in the same manner, so we delegate to doRequest in each case\n    create: function() {\n        return this.doRequest.apply(this, arguments);\n    },\n\n    read: function() {\n        return this.doRequest.apply(this, arguments);\n    },\n\n    update: function() {\n        return this.doRequest.apply(this, arguments);\n    },\n\n    destroy: function() {\n        return this.doRequest.apply(this, arguments);\n    },\n\n    /**\n     * Sets a value in the underlying {@link #extraParams}.\n     * @param {String} name The key for the new value\n     * @param {Object} value The value\n     */\n    setExtraParam: function(name, value) {\n        this.getExtraParams()[name] = value;\n    },\n\n    /**\n     * Creates and returns an Ext.data.Request object based on the options passed by the {@link Ext.data.Store Store}\n     * that this Proxy is attached to.\n     * @param {Ext.data.Operation} operation The {@link Ext.data.Operation Operation} object to execute\n     * @return {Ext.data.Request} The request object\n     */\n    buildRequest: function(operation) {\n        var me = this,\n            params = Ext.applyIf(operation.getParams() || {}, me.getExtraParams() || {}),\n            request;\n\n        //copy any sorters, filters etc into the params so they can be sent over the wire\n        params = Ext.applyIf(params, me.getParams(operation));\n\n        request = Ext.create('Ext.data.Request', {\n            params   : params,\n            action   : operation.getAction(),\n            records  : operation.getRecords(),\n            url      : operation.getUrl(),\n            operation: operation,\n            proxy    : me\n        });\n\n        request.setUrl(me.buildUrl(request));\n        operation.setRequest(request);\n\n        return request;\n    },\n\n    /**\n     * This method handles the processing of the response and is usually overridden by subclasses to\n     * do additional processing.\n     * @param {Boolean} success Wether or not this request was successful\n     * @param {Ext.data.Operation} operation The operation we made this request for\n     * @param {Ext.data.Request} request The request that was made\n     * @param {Object} response The response that we got\n     * @param {Function} callback The callback to be fired onces the response is processed\n     * @param {Object} scope The scope in which we call the callback\n     * @protected\n     */\n    processResponse: function(success, operation, request, response, callback, scope) {\n        var me = this,\n            action = operation.getAction(),\n            reader, resultSet;\n\n        if (success === true) {\n            reader = me.getReader();\n\n            try {\n                resultSet = reader.process(response);\n            } catch(e) {\n                operation.setException(e.message);\n\n                me.fireEvent('exception', this, response, operation);\n                return;\n            }\n\n            // This could happen if the model was configured using metaData\n            if (!operation.getModel()) {\n                operation.setModel(this.getModel());\n            }\n\n            if (operation.process(action, resultSet, request, response) === false) {\n                this.fireEvent('exception', this, response, operation);\n            }\n        } else {\n            me.setException(operation, response);\n            /**\n             * @event exception\n             * Fires when the server returns an exception\n             * @param {Ext.data.proxy.Proxy} this\n             * @param {Object} response The response from the AJAX request\n             * @param {Ext.data.Operation} operation The operation that triggered request\n             */\n            me.fireEvent('exception', this, response, operation);\n        }\n\n        //this callback is the one that was passed to the 'read' or 'write' function above\n        if (typeof callback == 'function') {\n            callback.call(scope || me, operation);\n        }\n\n        me.afterRequest(request, success);\n    },\n\n    /**\n     * Sets up an exception on the operation\n     * @private\n     * @param {Ext.data.Operation} operation The operation\n     * @param {Object} response The response\n     */\n    setException: function(operation, response) {\n        operation.setException({\n            status: response.status,\n            statusText: response.statusText\n        });\n    },\n\n    /**\n     * Encode any values being sent to the server. Can be overridden in subclasses.\n     * @private\n     * @param {Array} value An array of sorters/filters.\n     * @return {Object} The encoded value\n     */\n    applyEncoding: function(value) {\n        return Ext.encode(value);\n    },\n\n    /**\n     * Encodes the array of {@link Ext.util.Sorter} objects into a string to be sent in the request url. By default,\n     * this simply JSON-encodes the sorter data\n     * @param {Ext.util.Sorter[]} sorters The array of {@link Ext.util.Sorter Sorter} objects\n     * @return {String} The encoded sorters\n     */\n    encodeSorters: function(sorters) {\n        var min = [],\n            length = sorters.length,\n            i = 0;\n\n        for (; i < length; i++) {\n            min[i] = {\n                property : sorters[i].getProperty(),\n                direction: sorters[i].getDirection()\n            };\n        }\n        return this.applyEncoding(min);\n\n    },\n\n    /**\n     * Encodes the array of {@link Ext.util.Filter} objects into a string to be sent in the request url. By default,\n     * this simply JSON-encodes the filter data\n     * @param {Ext.util.Filter[]} filters The array of {@link Ext.util.Filter Filter} objects\n     * @return {String} The encoded filters\n     */\n    encodeFilters: function(filters) {\n        var min = [],\n            length = filters.length,\n            i = 0;\n\n        for (; i < length; i++) {\n            min[i] = {\n                property: filters[i].getProperty(),\n                value   : filters[i].getValue()\n            };\n        }\n        return this.applyEncoding(min);\n    },\n\n    /**\n     * @private\n     * Copy any sorters, filters etc into the params so they can be sent over the wire\n     */\n    getParams: function(operation) {\n        var me = this,\n            params = {},\n            grouper = operation.getGrouper(),\n            sorters = operation.getSorters(),\n            filters = operation.getFilters(),\n            page = operation.getPage(),\n            start = operation.getStart(),\n            limit = operation.getLimit(),\n\n            simpleSortMode = me.getSimpleSortMode(),\n\n            pageParam = me.getPageParam(),\n            startParam = me.getStartParam(),\n            limitParam = me.getLimitParam(),\n            groupParam = me.getGroupParam(),\n            sortParam = me.getSortParam(),\n            filterParam = me.getFilterParam(),\n            directionParam = me.getDirectionParam();\n\n        if (me.getEnablePagingParams()) {\n            if (pageParam && page !== null) {\n                params[pageParam] = page;\n            }\n\n            if (startParam && start !== null) {\n                params[startParam] = start;\n            }\n\n            if (limitParam && limit !== null) {\n                params[limitParam] = limit;\n            }\n        }\n\n        if (groupParam && grouper) {\n            // Grouper is a subclass of sorter, so we can just use the sorter method\n            params[groupParam] = me.encodeSorters([grouper]);\n        }\n\n        if (sortParam && sorters && sorters.length > 0) {\n            if (simpleSortMode) {\n                params[sortParam] = sorters[0].getProperty();\n                params[directionParam] = sorters[0].getDirection();\n            } else {\n                params[sortParam] = me.encodeSorters(sorters);\n            }\n        }\n\n        if (filterParam && filters && filters.length > 0) {\n            params[filterParam] = me.encodeFilters(filters);\n        }\n\n        return params;\n    },\n\n    /**\n     * Generates a url based on a given Ext.data.Request object. By default, ServerProxy's buildUrl will add the\n     * cache-buster param to the end of the url. Subclasses may need to perform additional modifications to the url.\n     * @param {Ext.data.Request} request The request object\n     * @return {String} The url\n     */\n    buildUrl: function(request) {\n        var me = this,\n            url = me.getUrl(request);\n\n        if (!url) {\n            Ext.Logger.error(\"You are using a ServerProxy but have not supplied it with a url.\");\n        }\n\n        if (me.getNoCache()) {\n            url = Ext.urlAppend(url, Ext.String.format(\"{0}={1}\", me.getCacheString(), Ext.Date.now()));\n        }\n\n        return url;\n    },\n\n    /**\n     * Get the url for the request taking into account the order of priority,\n     * - The request\n     * - The api\n     * - The url\n     * @private\n     * @param {Ext.data.Request} request The request\n     * @return {String} The url\n     */\n    getUrl: function(request) {\n        return request ? request.getUrl() || this.getApi()[request.getAction()] || this._url : this._url;\n    },\n\n    /**\n     * In ServerProxy subclasses, the {@link #create}, {@link #read}, {@link #update} and {@link #destroy} methods all\n     * pass through to doRequest. Each ServerProxy subclass must implement the doRequest method - see {@link\n     * Ext.data.proxy.JsonP} and {@link Ext.data.proxy.Ajax} for examples. This method carries the same signature as\n     * each of the methods that delegate to it.\n     *\n     * @param {Ext.data.Operation} operation The Ext.data.Operation object\n     * @param {Function} callback The callback function to call when the Operation has completed\n     * @param {Object} scope The scope in which to execute the callback\n     * @protected\n     * @template\n     */\n    doRequest: function(operation, callback, scope) {\n        Ext.Logger.error(\"The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details\");\n    },\n\n    /**\n     * Optional callback function which can be used to clean up after a request has been completed.\n     * @param {Ext.data.Request} request The Request object\n     * @param {Boolean} success True if the request was successful\n     * @method\n     */\n    afterRequest: Ext.emptyFn\n});\n\n/**\n * @author Ed Spencer\n * @aside guide proxies\n *\n * The JsonP proxy is useful when you need to load data from a domain other than the one your application is running on. If\n * your application is running on http://domainA.com it cannot use {@link Ext.data.proxy.Ajax Ajax} to load its data\n * from http://domainB.com because cross-domain ajax requests are prohibited by the browser.\n *\n * We can get around this using a JsonP proxy. JsonP proxy injects a `<script>` tag into the DOM whenever an AJAX request\n * would usually be made. Let's say we want to load data from http://domainB.com/users - the script tag that would be\n * injected might look like this:\n *\n *     <script src=\"http://domainB.com/users?callback=someCallback\"></script>\n *\n * When we inject the tag above, the browser makes a request to that url and includes the response as if it was any\n * other type of JavaScript include. By passing a callback in the url above, we're telling domainB's server that we want\n * to be notified when the result comes in and that it should call our callback function with the data it sends back. So\n * long as the server formats the response to look like this, everything will work:\n *\n *     someCallback({\n *         users: [\n *             {\n *                 id: 1,\n *                 name: \"Ed Spencer\",\n *                 email: \"ed@sencha.com\"\n *             }\n *         ]\n *     });\n *\n * As soon as the script finishes loading, the 'someCallback' function that we passed in the url is called with the JSON\n * object that the server returned.\n *\n * JsonP proxy takes care of all of this automatically. It formats the url you pass, adding the callback parameter\n * automatically. It even creates a temporary callback function, waits for it to be called and then puts the data into\n * the Proxy making it look just like you loaded it through a normal {@link Ext.data.proxy.Ajax AjaxProxy}. Here's how\n * we might set that up:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['id', 'name', 'email']\n *         }\n *     });\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'jsonp',\n *             url : 'http://domainB.com/users'\n *         }\n *     });\n *\n *     store.load();\n *\n * That's all we need to do - JsonP proxy takes care of the rest. In this case the Proxy will have injected a script tag\n * like this:\n *\n *     <script src=\"http://domainB.com/users?callback=callback1\"></script>\n *\n * # Customization\n *\n * This script tag can be customized using the {@link #callbackKey} configuration. For example:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'jsonp',\n *             url : 'http://domainB.com/users',\n *             callbackKey: 'theCallbackFunction'\n *         }\n *     });\n *\n *     store.load();\n *\n * Would inject a script tag like this:\n *\n *     <script src=\"http://domainB.com/users?theCallbackFunction=callback1\"></script>\n *\n * # Implementing on the server side\n *\n * The remote server side needs to be configured to return data in this format. Here are suggestions for how you might\n * achieve this using Java, PHP and ASP.net:\n *\n * Java:\n *\n *     boolean jsonP = false;\n *     String cb = request.getParameter(\"callback\");\n *     if (cb != null) {\n *         jsonP = true;\n *         response.setContentType(\"text/javascript\");\n *     } else {\n *         response.setContentType(\"application/x-json\");\n *     }\n *     Writer out = response.getWriter();\n *     if (jsonP) {\n *         out.write(cb + \"(\");\n *     }\n *     out.print(dataBlock.toJsonString());\n *     if (jsonP) {\n *         out.write(\");\");\n *     }\n *\n * PHP:\n *\n *     $callback = $_REQUEST['callback'];\n *\n *     // Create the output object.\n *     $output = array('a' => 'Apple', 'b' => 'Banana');\n *\n *     //start output\n *     if ($callback) {\n *         header('Content-Type: text/javascript');\n *         echo $callback . '(' . json_encode($output) . ');';\n *     } else {\n *         header('Content-Type: application/x-json');\n *         echo json_encode($output);\n *     }\n *\n * ASP.net:\n *\n *     String jsonString = \"{success: true}\";\n *     String cb = Request.Params.Get(\"callback\");\n *     String responseString = \"\";\n *     if (!String.IsNullOrEmpty(cb)) {\n *         responseString = cb + \"(\" + jsonString + \")\";\n *     } else {\n *         responseString = jsonString;\n *     }\n *     Response.Write(responseString);\n */\nExt.define('Ext.data.proxy.JsonP', {\n    extend: 'Ext.data.proxy.Server',\n    alternateClassName: 'Ext.data.ScriptTagProxy',\n    alias: ['proxy.jsonp', 'proxy.scripttag'],\n    requires: ['Ext.data.JsonP'],\n\n    config: {\n        defaultWriterType: 'base',\n\n        /**\n         * @cfg {String} callbackKey\n         * See {@link Ext.data.JsonP#callbackKey}.\n         * @accessor\n         */\n        callbackKey : 'callback',\n\n        /**\n         * @cfg {String} recordParam\n         * The param name to use when passing records to the server (e.g. 'records=someEncodedRecordString'). Defaults to\n         * 'records'\n         * @accessor\n         */\n        recordParam: 'records',\n\n        /**\n         * @cfg {Boolean} autoAppendParams\n         * True to automatically append the request's params to the generated url. Defaults to true\n         * @accessor\n         */\n        autoAppendParams: true\n    },\n\n    /**\n     * Performs the read request to the remote domain. JsonP proxy does not actually create an Ajax request,\n     * instead we write out a `<script>` tag based on the configuration of the internal Ext.data.Request object\n     * @param {Ext.data.Operation} operation The {@link Ext.data.Operation Operation} object to execute\n     * @param {Function} callback A callback function to execute when the Operation has been completed\n     * @param {Object} scope The scope to execute the callback in\n     * @protected\n     */\n    doRequest: function(operation, callback, scope) {\n        var action = operation.getAction();\n        if (action !== 'read') {\n            Ext.Logger.error('JsonP proxies can only be used to read data.');\n        }\n\n        //generate the unique IDs for this request\n        var me      = this,\n            request = me.buildRequest(operation),\n            params  = request.getParams();\n\n        // apply JsonP proxy-specific attributes to the Request\n        request.setConfig({\n            callbackKey: me.getCallbackKey(),\n            timeout: me.getTimeout(),\n            scope: me,\n            callback: me.createRequestCallback(request, operation, callback, scope)\n        });\n\n        // Prevent doubling up because the params are already added to the url in buildUrl\n        if (me.getAutoAppendParams()) {\n            request.setParams({});\n        }\n\n        request.setJsonP(Ext.data.JsonP.request(request.getCurrentConfig()));\n\n        // Set the params back once we have made the request though\n        request.setParams(params);\n\n        operation.setStarted();\n\n        me.lastRequest = request;\n\n        return request;\n    },\n\n    /**\n     * @private\n     * Creates and returns the function that is called when the request has completed. The returned function\n     * should accept a Response object, which contains the response to be read by the configured Reader.\n     * The third argument is the callback that should be called after the request has been completed and the Reader has decoded\n     * the response. This callback will typically be the callback passed by a store, e.g. in proxy.read(operation, theCallback, scope)\n     * theCallback refers to the callback argument received by this function.\n     * See {@link #doRequest} for details.\n     * @param {Ext.data.Request} request The Request object\n     * @param {Ext.data.Operation} operation The Operation being executed\n     * @param {Function} callback The callback function to be called when the request completes. This is usually the callback\n     * passed to doRequest\n     * @param {Object} scope The scope in which to execute the callback function\n     * @return {Function} The callback function\n     */\n    createRequestCallback: function(request, operation, callback, scope) {\n        var me = this;\n\n        return function(success, response, errorType) {\n            delete me.lastRequest;\n            me.processResponse(success, operation, request, response, callback, scope);\n        };\n    },\n\n    // inherit docs\n    setException: function(operation, response) {\n        operation.setException(operation.getRequest().getJsonP().errorType);\n    },\n\n\n    /**\n     * Generates a url based on a given Ext.data.Request object. Adds the params and callback function name to the url\n     * @param {Ext.data.Request} request The request object\n     * @return {String} The url\n     */\n    buildUrl: function(request) {\n        var me      = this,\n            url     = me.callParent(arguments),\n            params  = Ext.apply({}, request.getParams()),\n            filters = params.filters,\n            records,\n            filter, i, value;\n\n        delete params.filters;\n\n        if (me.getAutoAppendParams()) {\n            url = Ext.urlAppend(url, Ext.Object.toQueryString(params));\n        }\n\n        if (filters && filters.length) {\n            for (i = 0; i < filters.length; i++) {\n                filter = filters[i];\n                value = filter.getValue();\n                if (value) {\n                    url = Ext.urlAppend(url, filter.getProperty() + \"=\" + value);\n                }\n            }\n        }\n\n        return url;\n    },\n\n    //inherit docs\n    destroy: function() {\n        this.abort();\n        this.callParent(arguments);\n    },\n\n    /**\n     * Aborts the current server request if one is currently running\n     */\n    abort: function() {\n        var lastRequest = this.lastRequest;\n        if (lastRequest) {\n            Ext.data.JsonP.abort(lastRequest.getJsonP());\n        }\n    }\n});\n\n/**\n * @author Ed Spencer\n * @aside guide proxies\n *\n * AjaxProxy is one of the most widely-used ways of getting data into your application. It uses AJAX\n * requests to load data from the server, usually to be placed into a {@link Ext.data.Store Store}.\n * Let's take a look at a typical setup. Here we're going to set up a Store that has an AjaxProxy.\n * To prepare, we'll also set up a {@link Ext.data.Model Model}:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['id', 'name', 'email']\n *         }\n *     });\n *\n *     // The Store contains the AjaxProxy as an inline configuration\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'ajax',\n *             url : 'users.json'\n *         }\n *     });\n *\n *     store.load();\n *\n * Our example is going to load user data into a Store, so we start off by defining a\n * {@link Ext.data.Model Model} with the fields that we expect the server to return. Next we set up\n * the Store itself, along with a {@link Ext.data.Store#proxy proxy} configuration. This\n * configuration was automatically turned into an Ext.data.proxy.Ajax instance, with the url we\n * specified being passed into AjaxProxy's constructor. It's as if we'd done this:\n *\n *     Ext.create('Ext.data.proxy.Ajax', {\n *         config: {\n *             url: 'users.json',\n *             model: 'User',\n *             reader: 'json'\n *         }\n *     });\n *\n * A couple of extra configurations appeared here - {@link #model} and {@link #reader}. These are\n * set by default when we create the proxy via the Store - the Store already knows about the Model,\n * and Proxy's default {@link Ext.data.reader.Reader Reader} is {@link Ext.data.reader.Json JsonReader}.\n *\n * Now when we call store.load(), the AjaxProxy springs into action, making a request to the url we\n * configured ('users.json' in this case). As we're performing a read, it sends a GET request to\n * that url (see {@link #actionMethods} to customize this - by default any kind of read will be sent\n * as a GET request and any kind of write will be sent as a POST request).\n *\n * ## Limitations\n *\n * AjaxProxy cannot be used to retrieve data from other domains. If your application is running on\n * http://domainA.com it cannot load data from http://domainB.com because browsers have a built-in\n * security policy that prohibits domains talking to each other via AJAX.\n *\n * If you need to read data from another domain and can't set up a proxy server (some software that\n * runs on your own domain's web server and transparently forwards requests to http://domainB.com,\n * making it look like they actually came from http://domainA.com), you can use\n * {@link Ext.data.proxy.JsonP} and a technique known as JSON-P (JSON with Padding), which can help\n * you get around the problem so long as the server on http://domainB.com is set up to support\n * JSON-P responses. See {@link Ext.data.proxy.JsonP JsonPProxy}'s introduction docs for more details.\n *\n * ## Readers and Writers\n *\n * AjaxProxy can be configured to use any type of {@link Ext.data.reader.Reader Reader} to decode\n * the server's response. If no Reader is supplied, AjaxProxy will default to using a\n * {@link Ext.data.reader.Json JsonReader}. Reader configuration can be passed in as a simple\n * object, which the Proxy automatically turns into a {@link Ext.data.reader.Reader Reader} instance:\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         config: {\n *             model: 'User',\n *             reader: {\n *                 type: 'xml',\n *                 root: 'users'\n *             }\n *         }\n *     });\n *\n *     proxy.getReader(); //returns an {@link Ext.data.reader.Xml XmlReader} instance based on the config we supplied\n *\n * ## Url generation\n *\n * AjaxProxy automatically inserts any sorting, filtering, paging and grouping options into the url\n * it generates for each request. These are controlled with the following configuration options:\n *\n * - {@link #pageParam} - controls how the page number is sent to the server (see also\n *   {@link #startParam} and {@link #limitParam})\n * - {@link #sortParam} - controls how sort information is sent to the server\n * - {@link #groupParam} - controls how grouping information is sent to the server\n * - {@link #filterParam} - controls how filter information is sent to the server\n *\n * Each request sent by AjaxProxy is described by an {@link Ext.data.Operation Operation}. To see\n * how we can customize the generated urls, let's say we're loading the Proxy with the following\n * Operation:\n *\n *     var operation = Ext.create('Ext.data.Operation', {\n *         action: 'read',\n *         page  : 2\n *     });\n *\n * Now we'll issue the request for this Operation by calling {@link #read}:\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         url: '/users'\n *     });\n *\n *     proxy.read(operation); // GET /users?page=2\n *\n * Easy enough - the Proxy just copied the page property from the Operation. We can customize how\n * this page data is sent to the server:\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         url: '/users',\n *         pagePage: 'pageNumber'\n *     });\n *\n *     proxy.read(operation); // GET /users?pageNumber=2\n *\n * Alternatively, our Operation could have been configured to send start and limit parameters\n * instead of page:\n *\n *     var operation = Ext.create('Ext.data.Operation', {\n *         action: 'read',\n *         start : 50,\n *         limit : 25\n *     });\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         url: '/users'\n *     });\n *\n *     proxy.read(operation); // GET /users?start=50&limit;=25\n *\n * Again we can customize this url:\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         url: '/users',\n *         startParam: 'startIndex',\n *         limitParam: 'limitIndex'\n *     });\n *\n *     proxy.read(operation); // GET /users?startIndex=50&limitIndex;=25\n *\n * AjaxProxy will also send sort and filter information to the server. Let's take a look at how this\n * looks with a more expressive Operation object:\n *\n *     var operation = Ext.create('Ext.data.Operation', {\n *         action: 'read',\n *         sorters: [\n *             Ext.create('Ext.util.Sorter', {\n *                 property : 'name',\n *                 direction: 'ASC'\n *             }),\n *             Ext.create('Ext.util.Sorter', {\n *                 property : 'age',\n *                 direction: 'DESC'\n *             })\n *         ],\n *         filters: [\n *             Ext.create('Ext.util.Filter', {\n *                 property: 'eyeColor',\n *                 value   : 'brown'\n *             })\n *         ]\n *     });\n *\n * This is the type of object that is generated internally when loading a {@link Ext.data.Store Store}\n * with sorters and filters defined. By default the AjaxProxy will JSON encode the sorters and\n * filters, resulting in something like this (note that the url is escaped before sending the\n * request, but is left unescaped here for clarity):\n *\n *     var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *         url: '/users'\n *     });\n *\n *     proxy.read(operation); // GET /users?sort=[{\"property\":\"name\",\"direction\":\"ASC\"},{\"property\":\"age\",\"direction\":\"DESC\"}]&filter;=[{\"property\":\"eyeColor\",\"value\":\"brown\"}]\n *\n * We can again customize how this is created by supplying a few configuration options. Let's say\n * our server is set up to receive sorting information is a format like \"sortBy=name#ASC,age#DESC\".\n * We can configure AjaxProxy to provide that format like this:\n *\n *      var proxy = Ext.create('Ext.data.proxy.Ajax', {\n *          url: '/users',\n *          sortParam: 'sortBy',\n *          filterParam: 'filterBy',\n *\n *          // our custom implementation of sorter encoding - turns our sorters into \"name#ASC,age#DESC\"\n *          encodeSorters: function(sorters) {\n *              var length   = sorters.length,\n *                  sortStrs = [],\n *                  sorter, i;\n *\n *              for (i = 0; i < length; i++) {\n *                  sorter = sorters[i];\n *\n *                  sortStrs[i] = sorter.property + '#' + sorter.direction\n *              }\n *\n *              return sortStrs.join(\",\");\n *          }\n *      });\n *\n *      proxy.read(operation); // GET /users?sortBy=name#ASC,age#DESC&filterBy;=[{\"property\":\"eyeColor\",\"value\":\"brown\"}]\n *\n * We can also provide a custom {@link #encodeFilters} function to encode our filters.\n *\n * @constructor\n * Note that if this HttpProxy is being used by a {@link Ext.data.Store Store}, then the Store's\n * call to {@link Ext.data.Store#method-load load} will override any specified callback and params\n * options. In this case, use the {@link Ext.data.Store Store}'s events to modify parameters, or\n * react to loading events.\n *\n * @param {Object} config (optional) Config object.\n * If an options parameter is passed, the singleton {@link Ext.Ajax} object will be used to\n * make the request.\n */\nExt.define('Ext.data.proxy.Ajax', {\n    extend: 'Ext.data.proxy.Server',\n\n    requires: ['Ext.util.MixedCollection', 'Ext.Ajax'],\n    alias: 'proxy.ajax',\n    alternateClassName: ['Ext.data.HttpProxy', 'Ext.data.AjaxProxy'],\n\n    config: {\n        /**\n         * @property {Object} actionMethods\n         * Mapping of action name to HTTP request method. In the basic AjaxProxy these are set to\n         * 'GET' for 'read' actions and 'POST' for 'create', 'update' and 'destroy' actions.\n         * The {@link Ext.data.proxy.Rest} maps these to the correct RESTful methods.\n         */\n        actionMethods: {\n            create : 'POST',\n            read   : 'GET',\n            update : 'POST',\n            destroy: 'POST'\n        },\n\n        /**\n         * @cfg {Object} headers\n         * Any headers to add to the Ajax request. Defaults to undefined.\n         */\n        headers: {},\n\n        /**\n         * @cfg {Boolean} withCredentials\n         * This configuration is sometimes necessary when using cross-origin resource sharing.\n         * @accessor\n         */\n        withCredentials: false\n    },\n\n    /**\n     * Performs Ajax request.\n     * @protected\n     */\n    doRequest: function(operation, callback, scope) {\n        var writer  = this.getWriter(),\n            request = this.buildRequest(operation);\n\n        request.setConfig({\n            headers        : this.getHeaders(),\n            timeout        : this.getTimeout(),\n            method         : this.getMethod(request),\n            callback       : this.createRequestCallback(request, operation, callback, scope),\n            scope          : this\n        });\n\n        if (operation.getWithCredentials() || this.getWithCredentials()) {\n            request.setWithCredentials(true);\n        }\n\n        // We now always have the writer prepare the request\n        request = writer.write(request);\n\n        Ext.Ajax.request(request.getCurrentConfig());\n\n        return request;\n    },\n\n    /**\n     * Returns the HTTP method name for a given request. By default this returns based on a lookup on\n     * {@link #actionMethods}.\n     * @param {Ext.data.Request} request The request object\n     * @return {String} The HTTP method to use (should be one of 'GET', 'POST', 'PUT' or 'DELETE')\n     */\n    getMethod: function(request) {\n        return this.getActionMethods()[request.getAction()];\n    },\n\n    /**\n     * @private\n     * @param {Ext.data.Request} request The Request object\n     * @param {Ext.data.Operation} operation The Operation being executed\n     * @param {Function} callback The callback function to be called when the request completes.\n     *        This is usually the callback passed to doRequest\n     * @param {Object} scope The scope in which to execute the callback function\n     * @return {Function} The callback function\n     */\n    createRequestCallback: function(request, operation, callback, scope) {\n        var me = this;\n\n        return function(options, success, response) {\n            me.processResponse(success, operation, request, response, callback, scope);\n        };\n    }\n});\n\n/**\n * @author Ed Spencer\n * @aside guide models\n *\n * A Model represents some object that your application manages. For example, one might define a Model for Users,\n * Products, Cars, or any other real-world object that we want to model in the system. Models are registered via the\n * {@link Ext.data.ModelManager model manager}, and are used by {@link Ext.data.Store stores}, which are in turn used by many\n * of the data-bound components in Ext.\n *\n * Models are defined as a set of fields and any arbitrary methods and properties relevant to the model. For example:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: [\n *                 {name: 'name',  type: 'string'},\n *                 {name: 'age',   type: 'int'},\n *                 {name: 'phone', type: 'string'},\n *                 {name: 'alive', type: 'boolean', defaultValue: true}\n *             ]\n *         },\n *\n *         changeName: function() {\n *             var oldName = this.get('name'),\n *                 newName = oldName + \" The Barbarian\";\n *\n *             this.set('name', newName);\n *         }\n *     });\n *\n * The fields array is turned into a {@link Ext.util.MixedCollection MixedCollection} automatically by the {@link\n * Ext.data.ModelManager ModelManager}, and all other functions and properties are copied to the new Model's prototype.\n *\n * Now we can create instances of our User model and call any model logic we defined:\n *\n *     var user = Ext.create('User', {\n *         name : 'Conan',\n *         age  : 24,\n *         phone: '555-555-5555'\n *     });\n *\n *     user.changeName();\n *     user.get('name'); //returns \"Conan The Barbarian\"\n *\n * # Validations\n *\n * Models have built-in support for validations, which are executed against the validator functions in {@link\n * Ext.data.validations} ({@link Ext.data.validations see all validation functions}). Validations are easy to add to\n * models:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: [\n *                 {name: 'name',     type: 'string'},\n *                 {name: 'age',      type: 'int'},\n *                 {name: 'phone',    type: 'string'},\n *                 {name: 'gender',   type: 'string'},\n *                 {name: 'username', type: 'string'},\n *                 {name: 'alive',    type: 'boolean', defaultValue: true}\n *             ],\n *\n *             validations: [\n *                 {type: 'presence',  field: 'age'},\n *                 {type: 'length',    field: 'name',     min: 2},\n *                 {type: 'inclusion', field: 'gender',   list: ['Male', 'Female']},\n *                 {type: 'exclusion', field: 'username', list: ['Admin', 'Operator']},\n *                 {type: 'format',    field: 'username', matcher: /([a-z]+)[0-9]{2,3}/}\n *             ]\n *         }\n *     });\n *\n * The validations can be run by simply calling the {@link #validate} function, which returns a {@link Ext.data.Errors}\n * object:\n *\n *     var instance = Ext.create('User', {\n *         name: 'Ed',\n *         gender: 'Male',\n *         username: 'edspencer'\n *     });\n *\n *     var errors = instance.validate();\n *\n * # Associations\n *\n * Models can have associations with other Models via {@link Ext.data.association.HasOne},\n * {@link Ext.data.association.BelongsTo belongsTo} and {@link Ext.data.association.HasMany hasMany} associations.\n * For example, let's say we're writing a blog administration application which deals with Users, Posts and Comments.\n * We can express the relationships between these models like this:\n *\n *     Ext.define('Post', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id', 'user_id'],\n *             belongsTo: 'User',\n *             hasMany  : {model: 'Comment', name: 'comments'}\n *         }\n *     });\n *\n *     Ext.define('Comment', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id', 'user_id', 'post_id'],\n *             belongsTo: 'Post'\n *         }\n *     });\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id'],\n *             hasMany: [\n *                 'Post',\n *                 {model: 'Comment', name: 'comments'}\n *             ]\n *         }\n *     });\n *\n * See the docs for {@link Ext.data.association.HasOne}, {@link Ext.data.association.BelongsTo} and\n * {@link Ext.data.association.HasMany} for details on the usage and configuration of associations.\n * Note that associations can also be specified like this:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id'],\n *             associations: [\n *                 {type: 'hasMany', model: 'Post',    name: 'posts'},\n *                 {type: 'hasMany', model: 'Comment', name: 'comments'}\n *             ]\n *         }\n *     });\n *\n * # Using a Proxy\n *\n * Models are great for representing types of data and relationships, but sooner or later we're going to want to load or\n * save that data somewhere. All loading and saving of data is handled via a {@link Ext.data.proxy.Proxy Proxy}, which\n * can be set directly on the Model:\n *\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *\n *         config: {\n *             fields: ['id', 'name', 'email'],\n *             proxy: {\n *                 type: 'rest',\n *                 url : '/users'\n *             }\n *         }\n *     });\n *\n * Here we've set up a {@link Ext.data.proxy.Rest Rest Proxy}, which knows how to load and save data to and from a\n * RESTful backend. Let's see how this works:\n *\n *     var user = Ext.create('User', {name: 'Ed Spencer', email: 'ed@sencha.com'});\n *\n *     user.save(); //POST /users\n *\n * Calling {@link #save} on the new Model instance tells the configured RestProxy that we wish to persist this Model's\n * data onto our server. RestProxy figures out that this Model hasn't been saved before because it doesn't have an id,\n * and performs the appropriate action - in this case issuing a POST request to the url we configured (/users). We\n * configure any Proxy on any Model and always follow this API - see {@link Ext.data.proxy.Proxy} for a full list.\n *\n * Loading data via the Proxy is equally easy:\n *\n *     //get a reference to the User model class\n *     var User = Ext.ModelManager.getModel('User');\n *\n *     //Uses the configured RestProxy to make a GET request to /users/123\n *     User.load(123, {\n *         success: function(user) {\n *             console.log(user.getId()); //logs 123\n *         }\n *     });\n *\n * Models can also be updated and destroyed easily:\n *\n *     //the user Model we loaded in the last snippet:\n *     user.set('name', 'Edward Spencer');\n *\n *     //tells the Proxy to save the Model. In this case it will perform a PUT request to /users/123 as this Model already has an id\n *     user.save({\n *         success: function() {\n *             console.log('The User was updated');\n *         }\n *     });\n *\n *     //tells the Proxy to destroy the Model. Performs a DELETE request to /users/123\n *     user.erase({\n *         success: function() {\n *             console.log('The User was destroyed!');\n *         }\n *     });\n *\n * # Usage in Stores\n *\n * It is very common to want to load a set of Model instances to be displayed and manipulated in the UI. We do this by\n * creating a {@link Ext.data.Store Store}:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User'\n *     });\n *\n *     //uses the Proxy we set up on Model to load the Store data\n *     store.load();\n *\n * A Store is just a collection of Model instances - usually loaded from a server somewhere. Store can also maintain a\n * set of added, updated and removed Model instances to be synchronized with the server via the Proxy. See the {@link\n * Ext.data.Store Store docs} for more information on Stores.\n *\n * @constructor\n * Creates new Model instance.\n * @param {Object} data An object containing keys corresponding to this model's fields, and their associated values\n * @param {Number} id (optional) Unique ID to assign to this model instance\n */\nExt.define('Ext.data.Model', {\n    alternateClassName: 'Ext.data.Record',\n\n    mixins: {\n        observable: 'Ext.mixin.Observable'\n    },\n\n    /**\n     * Provides an easy way to quickly determine if a given class is a Model\n     * @property isModel\n     * @type Boolean\n     * @private\n     */\n    isModel: true,\n\n    requires: [\n        'Ext.util.Collection',\n        'Ext.data.Field',\n        'Ext.data.identifier.Simple',\n        'Ext.data.ModelManager',\n        'Ext.data.proxy.Ajax',\n        'Ext.data.association.HasMany',\n        'Ext.data.association.BelongsTo',\n        'Ext.data.association.HasOne',\n        'Ext.data.Errors'\n    ],\n\n    config: {\n        /**\n         * @cfg {String} idProperty\n         * The name of the field treated as this Model's unique id. Defaults to 'id'. Note that this field\n         * needs to have a type of 'auto'. Setting the field type to anything else will be undone by the\n         * framework. This is because new records that are created without an id, will have one generated.\n         * This generated id is a string.\n         */\n        idProperty: 'id',\n\n        data: null,\n\n        /**\n         * @cfg {Object[]/String[]} fields\n         * The field definitions for all instances of this Model. **Note:** this does not set the *values* of each\n         * field on an instance, it sets the collection of fields itself. Sample usage:\n         *\n         *     Ext.define('MyApp.model.User', {\n         *         extend: 'Ext.data.Model',\n         *\n         *         config: {\n         *             fields: [\n         *                 'id',\n         *                 {name: 'age', type: 'int'},\n         *                 {name: 'taxRate', type: 'float'}\n         *             ]\n         *         }\n         *     });\n         * @accessor\n         */\n        fields: undefined,\n\n        /**\n         * @cfg {Object[]} validations\n         * An array of {@link Ext.data.Validations validations} for this model.\n         */\n        validations: null,\n\n        /**\n         * @cfg {Object[]} associations\n         * An array of {@link Ext.data.association.Association associations} for this model.\n         */\n        associations: null,\n\n        /**\n         * @cfg {String/Object/String[]/Object[]} hasMany\n         * One or more {@link Ext.data.association.HasMany HasMany associations} for this model.\n         */\n        hasMany: null,\n\n        /**\n         * @cfg {String/Object/String[]/Object[]} hasOne\n         * One or more {@link Ext.data.association.HasOne HasOne associations} for this model.\n         */\n        hasOne: null,\n\n        /**\n         * @cfg {String/Object/String[]/Object[]} belongsTo\n         * One or more {@link Ext.data.association.BelongsTo BelongsTo associations} for this model.\n         */\n        belongsTo: null,\n\n        /**\n         * @cfg {Object/Ext.data.Proxy} proxy\n         * The string type of the default Model Proxy. Defaults to null.\n         * @accessor\n         */\n        proxy: null,\n\n\n        /**\n         * @cfg {Object/String} identifier\n         * The identifier strategy used when creating new instances of this Model that don't have an id defined.\n         * By default this uses the simple identifier strategy that generates id's like 'ext-record-12'. If you are\n         * saving these records in localstorage using a LocalStorage proxy you need to ensure that this identifier\n         * strategy is set to something that always generates unique id's. We provide one strategy by default that\n         * generates these unique id's which is the uuid strategy.\n         */\n        identifier: {\n            type: 'simple'\n        },\n\n        /**\n         * @cfg {String} clientIdProperty\n         * The name of a property that is used for submitting this Model's unique client-side identifier\n         * to the server when multiple phantom records are saved as part of the same {@link Ext.data.Operation Operation}.\n         * In such a case, the server response should include the client id for each record\n         * so that the server response data can be used to update the client-side records if necessary.\n         * This property cannot have the same name as any of this Model's fields.\n         * Defaults to 'clientId'.\n         * @accessor\n         */\n        clientIdProperty: 'clientId',\n\n        /**\n         * @method getIsErased Returns true if the record has been erased on the server.\n         */\n        isErased: false\n    },\n\n    staticConfigs: [\n        'idProperty',\n        'fields',\n        'validations',\n        'associations',\n        'hasMany',\n        'hasOne',\n        'belongsTo',\n        'clientIdProperty',\n        'identifier',\n        'proxy'\n    ],\n\n    statics: {\n        EDIT   : 'edit',\n        REJECT : 'reject',\n        COMMIT : 'commit',\n\n        cache: {},\n\n        generateProxyMethod: function(name) {\n            return function() {\n                var prototype = this.prototype;\n\n                return prototype[name].apply(prototype, arguments);\n            };\n        },\n\n        generateCacheId: function(record, id) {\n            var modelName;\n\n            if (record && record.isModel) {\n                modelName = record.modelName;\n                if (id === undefined) {\n                    id = record.getId();\n                }\n            } else {\n                modelName = record;\n            }\n\n            return modelName.replace(/\\./g, '-').toLowerCase() + '-' + id;\n        }\n    },\n\n    inheritableStatics: {\n        /**\n         * Asynchronously loads a model instance by id. Sample usage:\n         *\n         *     MyApp.User = Ext.define('User', {\n         *         extend: 'Ext.data.Model',\n         *         fields: [\n         *             {name: 'id', type: 'int'},\n         *             {name: 'name', type: 'string'}\n         *         ]\n         *     });\n         *\n         *     MyApp.User.load(10, {\n         *         scope: this,\n         *         failure: function(record, operation) {\n         *             //do something if the load failed\n         *         },\n         *         success: function(record, operation) {\n         *             //do something if the load succeeded\n         *         },\n         *         callback: function(record, operation) {\n         *             //do something whether the load succeeded or failed\n         *         }\n         *     });\n         *\n         * @param {Number} id The id of the model to load\n         * @param {Object} config (optional) config object containing success, failure and callback functions, plus\n         * optional scope\n         * @static\n         * @inheritable\n         */\n        load: function(id, config, scope) {\n            var proxy = this.getProxy(),\n                idProperty = this.getIdProperty(),\n                record = null,\n                params = {},\n                callback, operation;\n\n            scope = scope || (config && config.scope) || this;\n            if (Ext.isFunction(config)) {\n                config = {\n                    callback: config,\n                    scope: scope\n                };\n            }\n\n            params[idProperty] = id;\n            config = Ext.apply({}, config);\n            config = Ext.applyIf(config, {\n                action: 'read',\n                params: params,\n                model: this\n            });\n\n            operation  = Ext.create('Ext.data.Operation', config);\n\n            if (!proxy) {\n                Ext.Logger.error('You are trying to load a model that doesn\\'t have a Proxy specified');\n            }\n\n            callback = function(operation) {\n                if (operation.wasSuccessful()) {\n                    record = operation.getRecords()[0];\n                    Ext.callback(config.success, scope, [record, operation]);\n                } else {\n                    Ext.callback(config.failure, scope, [record, operation]);\n                }\n                Ext.callback(config.callback, scope, [record, operation]);\n            };\n\n            proxy.read(operation, callback, this);\n        }\n    },\n\n    /**\n     * @property {Boolean} editing\n     * Internal flag used to track whether or not the model instance is currently being edited. Read-only.\n     */\n    editing : false,\n\n    /**\n     * @property {Boolean} dirty\n     * True if this Record has been modified. Read-only.\n     */\n    dirty : false,\n\n    /**\n     * @property {Boolean} phantom\n     * True when the record does not yet exist in a server-side database (see {@link #setDirty}).\n     * Any record which has a real database pk set as its id property is NOT a phantom -- it's real.\n     */\n    phantom : false,\n\n    constructor: function(data, id, raw, convertedData) {\n        var me = this,\n            cached = null,\n            idProperty = this.getIdProperty();\n\n        /**\n         * @property {Object} modified key/value pairs of all fields whose values have changed.\n         * The value is the original value for the field.\n         */\n        me.modified = {};\n\n        /**\n         * @property {Object} raw The raw data used to create this model if created via a reader.\n         */\n        me.raw = raw || data || {};\n\n        /**\n         * @property {Array} stores\n         * An array of {@link Ext.data.Store} objects that this record is bound to.\n         */\n        me.stores = [];\n\n        data = data || convertedData || {};\n\n        // We begin by checking if an id is passed to the constructor. If this is the case we override\n        // any possible id value that was passed in the data.\n        if (id || id === 0) {\n            // Lets skip using set here since it's so much faster\n            data[idProperty] = me.internalId = id;\n        }\n\n        id = data[idProperty];\n        if (id || id === 0) {\n            cached = Ext.data.Model.cache[Ext.data.Model.generateCacheId(this, id)];\n            if (cached) {\n                return cached.mergeData(convertedData || data || {});\n            }\n        }\n\n        if (convertedData) {\n            me.setConvertedData(data);\n        } else {\n            me.setData(data);\n        }\n\n        // If it does not have an id at this point, we generate it using the id strategy. This means\n        // that we will treat this record as a phantom record from now on\n        id = me.data[idProperty];\n        if (!id && id !== 0) {\n            me.data[idProperty] = me.internalId = me.id = me.getIdentifier().generate(me);\n            me.phantom = true;\n\n            if (this.associations.length) {\n                this.handleInlineAssociationData(data);\n            }\n        } else {\n            me.id = me.getIdentifier().generate(me);\n        }\n\n        Ext.data.Model.cache[Ext.data.Model.generateCacheId(me)] = me;\n\n        if (this.init && typeof this.init == 'function') {\n            this.init();\n        }\n    },\n\n    /**\n     * Private function that is used when you create a record that already exists in the model cache.\n     * In this case we loop over each field, and apply any data to the current instance that is not already\n     * marked as being dirty on that instance.\n     * @param data\n     * @private\n     */\n    mergeData: function(rawData) {\n        var me = this,\n            fields = me.getFields().items,\n            ln = fields.length,\n            data = me.data,\n            i, field, fieldName, value, convert;\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            fieldName = field.getName();\n            convert = field.getConvert();\n            value = rawData[fieldName];\n\n            if (value !== undefined && !me.isModified(fieldName)) {\n                if (convert) {\n                    value = convert.call(field, value, me);\n                }\n\n                data[fieldName] = value;\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * This method is used to set the data for this Record instance.\n     * Note that the existing data is removed. If a field is not specified\n     * in the passed data it will use the field's default value. If a convert\n     * method is specified for the field it will be called on the value.\n     * @param rawData\n     * @return {Ext.data.Model} this This Record\n     */\n    setData: function(rawData) {\n        var fields = this.fields.items,\n            ln = fields.length,\n            isArray = Ext.isArray(rawData),\n            data = this._data = this.data = {},\n            i, field, name, value, convert, id;\n\n        if (!rawData) {\n            return this;\n        }\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            name = field.getName();\n            convert = field.getConvert();\n\n            if (isArray) {\n                value = rawData[i];\n            }\n            else {\n                value = rawData[name];\n                if (typeof value == 'undefined') {\n                    value = field.getDefaultValue();\n                }\n            }\n\n            if (convert) {\n                value = convert.call(field, value, this);\n            }\n\n            data[name] = value;\n        }\n\n        id = this.getId();\n        if (this.associations.length && (id || id === 0)) {\n            this.handleInlineAssociationData(rawData);\n        }\n\n        return this;\n    },\n\n    handleInlineAssociationData: function(data) {\n        var associations = this.associations.items,\n            ln = associations.length,\n            i, association, associationData, reader, proxy, associationKey;\n\n        for (i = 0; i < ln; i++) {\n            association = associations[i];\n            associationKey = association.getAssociationKey();\n            associationData = data[associationKey];\n\n            if (associationData) {\n                reader = association.getReader();\n                if (!reader) {\n                    proxy = association.getAssociatedModel().getProxy();\n                    // if the associated model has a Reader already, use that, otherwise attempt to create a sensible one\n                    if (proxy) {\n                        reader = proxy.getReader();\n                    } else {\n                        reader = new Ext.data.JsonReader({\n                            model: association.getAssociatedModel()\n                        });\n                    }\n                }\n                association.read(this, reader, associationData);\n            }\n        }\n    },\n\n    /**\n     * Sets the model instance's id field to the given id.\n     * @param {Number/String} id The new id\n     */\n    setId: function(id) {\n        var currentId = this.getId();\n\n        // Lets use the direct property instead of getter here\n        this.set(this.getIdProperty(), id);\n\n        // We don't update the this.id since we don't want to break listeners that already\n        // exist on the record instance.\n        this.internalId = id;\n\n        delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(this, currentId)];\n        Ext.data.Model.cache[Ext.data.Model.generateCacheId(this)] = this;\n    },\n\n    /**\n     * Returns the unique ID allocated to this model instance as defined by {@link #idProperty}.\n     * @return {Number/String} The id\n     */\n    getId: function() {\n        // Lets use the direct property instead of getter here\n        return this.get(this.getIdProperty());\n    },\n\n    /**\n     * This sets the data directly without converting and applying default values.\n     * This method is used when a Record gets instantiated by a Reader. Only use\n     * this when you are sure you are passing correctly converted data.\n     * @param data\n     * @return this This Record\n     */\n    setConvertedData: function(data) {\n        this._data = this.data = data;\n        return this;\n    },\n\n    /**\n     * Returns the value of the given field\n     * @param {String} fieldName The field to fetch the value for\n     * @return {Object} The value\n     */\n    get: function(fieldName) {\n        return this.data[fieldName];\n    },\n\n    /**\n     * Sets the given field to the given value, marks the instance as dirty\n     * @param {String/Object} fieldName The field to set, or an object containing key/value pairs\n     * @param {Object} value The value to set\n     */\n    set: function(fieldName, value) {\n        var me = this,\n            // We are using the fields map since it saves lots of function calls\n            fieldMap = me.fields.map,\n            modified = me.modified,\n            notEditing = !me.editing,\n            associations = me.associations.items,\n            modifiedCount = 0,\n            modifiedFieldNames = [],\n            field, key, i, currentValue, ln, convert;\n\n        /*\n         * If we're passed an object, iterate over that object. NOTE: we pull out fields with a convert function and\n         * set those last so that all other possible data is set before the convert function is called\n         */\n        if (arguments.length == 1) {\n            for (key in fieldName) {\n                if (fieldName.hasOwnProperty(key)) {\n                    //here we check for the custom convert function. Note that if a field doesn't have a convert function,\n                    //we default it to its type's convert function, so we have to check that here. This feels rather dirty.\n                    field = fieldMap[key];\n                    if (field && field.hasCustomConvert()) {\n                        modifiedFieldNames.push(key);\n                        continue;\n                    }\n\n                    if (!modifiedCount && notEditing) {\n                        me.beginEdit();\n                    }\n                    ++modifiedCount;\n                    me.set(key, fieldName[key]);\n                }\n            }\n\n            ln = modifiedFieldNames.length;\n            if (ln) {\n                if (!modifiedCount && notEditing) {\n                    me.beginEdit();\n                }\n                modifiedCount += ln;\n                for (i = 0; i < ln; i++) {\n                    field = modifiedFieldNames[i];\n                    me.set(field, fieldName[field]);\n                }\n            }\n\n            if (notEditing && modifiedCount) {\n                me.endEdit(false, modifiedFieldNames);\n            }\n        } else {\n            field = fieldMap[fieldName];\n            convert = field && field.getConvert();\n            if (convert) {\n                value = convert.call(field, value, me);\n            }\n\n            currentValue = me.data[fieldName];\n            me.data[fieldName] = value;\n\n            if (field && !me.isEqual(currentValue, value)) {\n                if (modified.hasOwnProperty(fieldName)) {\n                    if (me.isEqual(modified[fieldName], value)) {\n                        // the original value in me.modified equals the new value, so the\n                        // field is no longer modified\n                        delete modified[fieldName];\n                        // we might have removed the last modified field, so check to see if\n                        // there are any modified fields remaining and correct me.dirty:\n                        me.dirty = false;\n                        for (key in modified) {\n                            if (modified.hasOwnProperty(key)) {\n                                me.dirty = true;\n                                break;\n                            }\n                        }\n                    }\n                } else {\n                    me.dirty = true;\n                    // We only go one level back?\n                    modified[fieldName] = currentValue;\n                }\n            }\n\n            if (notEditing) {\n                me.afterEdit([fieldName], modified);\n            }\n        }\n    },\n\n    /**\n     * Checks if two values are equal, taking into account certain\n     * special factors, for example dates.\n     * @private\n     * @param {Object} a The first value\n     * @param {Object} b The second value\n     * @return {Boolean} True if the values are equal\n     */\n    isEqual: function(a, b){\n        if (Ext.isDate(a) && Ext.isDate(b)) {\n            return a.getTime() === b.getTime();\n        }\n        return a === b;\n    },\n\n    /**\n     * Begins an edit. While in edit mode, no events (e.g.. the `update` event) are relayed to the containing store.\n     * When an edit has begun, it must be followed by either {@link #endEdit} or {@link #cancelEdit}.\n     */\n    beginEdit: function() {\n        var me = this;\n        if (!me.editing) {\n            me.editing      = true;\n\n            // We save the current states of dirty, data and modified so that when we\n            // cancel the edit, we can put it back to this state\n            me.dirtySave    = me.dirty;\n            me.dataSave     = Ext.apply({}, me.data);\n            me.modifiedSave = Ext.apply({}, me.modified);\n        }\n    },\n\n    /**\n     * Cancels all changes made in the current edit operation.\n     */\n    cancelEdit: function() {\n        var me = this;\n        if (me.editing) {\n            me.editing = false;\n\n            // Reset the modified state, nothing changed since the edit began\n            me.modified = me.modifiedSave;\n            me.data = me.dataSave;\n            me.dirty = me.dirtySave;\n\n            // Delete the saved states\n            delete me.modifiedSave;\n            delete me.dataSave;\n            delete me.dirtySave;\n        }\n    },\n\n    /**\n     * Ends an edit. If any data was modified, the containing store is notified (ie, the store's `update` event will\n     * fire).\n     * @param {Boolean} silent True to not notify the store of the change\n     * @param {String[]} modifiedFieldNames Array of field names changed during edit.\n     */\n    endEdit: function(silent, modifiedFieldNames) {\n        var me = this;\n\n        if (me.editing) {\n            me.editing = false;\n\n            if (silent !== true && (me.changedWhileEditing())) {\n                me.afterEdit(modifiedFieldNames || Ext.Object.getKeys(this.modified), this.modified);\n            }\n\n            delete me.modifiedSave;\n            delete me.dataSave;\n            delete me.dirtySave;\n        }\n    },\n\n    /**\n     * Checks if the underlying data has changed during an edit. This doesn't necessarily\n     * mean the record is dirty, however we still need to notify the store since it may need\n     * to update any views.\n     * @private\n     * @return {Boolean} True if the underlying data has changed during an edit.\n     */\n    changedWhileEditing: function() {\n        var me = this,\n            saved = me.dataSave,\n            data = me.data,\n            key;\n\n        for (key in data) {\n            if (data.hasOwnProperty(key)) {\n                if (!me.isEqual(data[key], saved[key])) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * Gets a hash of only the fields that have been modified since this Model was created or commited.\n     * @return {Object}\n     */\n    getChanges : function() {\n        var modified = this.modified,\n            changes  = {},\n            field;\n\n        for (field in modified) {\n            if (modified.hasOwnProperty(field)) {\n                changes[field] = this.get(field);\n            }\n        }\n\n        return changes;\n    },\n\n    /**\n     * Returns true if the passed field name has been `{@link #modified}` since the load or last commit.\n     * @param {String} fieldName {@link Ext.data.Field#name}\n     * @return {Boolean}\n     */\n    isModified : function(fieldName) {\n        return this.modified.hasOwnProperty(fieldName);\n    },\n\n    /**\n     * Saves the model instance using the configured proxy.\n     *\n     * @param {Object/Function} options Options to pass to the proxy. Config object for {@link Ext.data.Operation}.\n     * If you pass a function, this will automatically become the callback method. For convenience the config\n     * object may also contain `success` and `failure` methods in addition to `callback` - they will all be invoked\n     * with the Model and Operation as arguments.\n     * @param {Object} scope The scope to run your callback method in. This is only used if you passed a function\n     * as the first argument.\n     * @return {Ext.data.Model} The Model instance\n     */\n    save: function(options, scope) {\n        var me     = this,\n            action = me.phantom ? 'create' : 'update',\n            proxy  = me.getProxy(),\n            operation,\n            callback;\n\n        if (!proxy) {\n            Ext.Logger.error('You are trying to save a model instance that doesn\\'t have a Proxy specified');\n        }\n\n        options = options || {};\n        scope = scope || me;\n\n        if (Ext.isFunction(options)) {\n            options = {\n                callback: options,\n                scope: scope\n            };\n        }\n\n        Ext.applyIf(options, {\n            records: [me],\n            action : action,\n            model: me.self\n        });\n\n        operation = Ext.create('Ext.data.Operation', options);\n\n        callback = function(operation) {\n            if (operation.wasSuccessful()) {\n                Ext.callback(options.success, scope, [me, operation]);\n            } else {\n                Ext.callback(options.failure, scope, [me, operation]);\n            }\n\n            Ext.callback(options.callback, scope, [me, operation]);\n        };\n\n        proxy[action](operation, callback, me);\n\n        return me;\n    },\n\n    /**\n     * Destroys the record using the configured proxy. This will create a 'destroy' operation.\n     * Note that this doesn't destroy this instance after the server comes back with a response.\n     * It will however call afterErase on any Stores it is joined to. Stores by default will\n     * automatically remove this instance from their data collection.\n     *\n     * @param {Object/Function} options Options to pass to the proxy. Config object for {@link Ext.data.Operation}.\n     * If you pass a function, this will automatically become the callback method. For convenience the config\n     * object may also contain `success` and `failure` methods in addition to `callback` - they will all be invoked\n     * with the Model and Operation as arguments.\n     * @param {Object} scope The scope to run your callback method in. This is only used if you passed a function\n     * as the first argument.\n     * @return {Ext.data.Model} The Model instance\n     */\n    erase: function(options, scope) {\n        var me     = this,\n            proxy  = this.getProxy(),\n            operation,\n            callback;\n\n        if (!proxy) {\n            Ext.Logger.error('You are trying to erase a model instance that doesn\\'t have a Proxy specified');\n        }\n\n        options = options || {};\n        scope = scope || me;\n\n        if (Ext.isFunction(options)) {\n            options = {\n                callback: options,\n                scope: scope\n            };\n        }\n\n        Ext.applyIf(options, {\n            records: [me],\n            action : 'destroy',\n            model: this.self\n        });\n\n        operation = Ext.create('Ext.data.Operation', options);\n\n        callback = function(operation) {\n            if (operation.wasSuccessful()) {\n                Ext.callback(options.success, scope, [me, operation]);\n            } else {\n                Ext.callback(options.failure, scope, [me, operation]);\n            }\n\n            Ext.callback(options.callback, scope, [me, operation]);\n        };\n\n        proxy.destroy(operation, callback, me);\n\n        return me;\n    },\n\n    /**\n     * Usually called by the {@link Ext.data.Store} to which this model instance has been {@link #join joined}. Rejects\n     * all changes made to the model instance since either creation, or the last commit operation. Modified fields are\n     * reverted to their original values.\n     *\n     * Developers should subscribe to the {@link Ext.data.Store#update} event to have their code notified of reject\n     * operations.\n     *\n     * @param {Boolean} silent (optional) True to skip notification of the owning store of the change.\n     * Defaults to false.\n     */\n    reject: function(silent) {\n        var me = this,\n            modified = me.modified,\n            field;\n\n        for (field in modified) {\n            if (modified.hasOwnProperty(field)) {\n                if (typeof modified[field] != \"function\") {\n                    me.data[field] = modified[field];\n                }\n            }\n        }\n\n        me.dirty = false;\n        me.editing = false;\n        me.modified = {};\n\n        if (silent !== true) {\n            me.afterReject();\n        }\n    },\n\n    /**\n     * Usually called by the {@link Ext.data.Store} which owns the model instance. Commits all changes made to the\n     * instance since either creation or the last commit operation.\n     *\n     * Developers should subscribe to the {@link Ext.data.Store#update} event to have their code notified of commit\n     * operations.\n     *\n     * @param {Boolean} silent (optional) True to skip notification of the owning store of the change.\n     * Defaults to false.\n     */\n    commit: function(silent) {\n        var me = this,\n            modified = this.modified;\n\n        me.phantom = me.dirty = me.editing = false;\n        me.modified = {};\n\n        if (silent !== true) {\n            me.afterCommit(modified);\n        }\n    },\n\n    /**\n     * @private\n     * If this Model instance has been {@link #join joined} to a {@link Ext.data.Store store}, the store's\n     * afterEdit method is called\n     * @param {String[]} modifiedFieldNames Array of field names changed during edit.\n     */\n    afterEdit : function(modifiedFieldNames, modified) {\n        this.notifyStores('afterEdit', modifiedFieldNames, modified);\n    },\n\n    /**\n     * @private\n     * If this Model instance has been {@link #join joined} to a {@link Ext.data.Store store}, the store's\n     * afterReject method is called\n     */\n    afterReject : function() {\n        this.notifyStores(\"afterReject\");\n    },\n\n    /**\n     * @private\n     * If this Model instance has been {@link #join joined} to a {@link Ext.data.Store store}, the store's\n     * afterCommit method is called\n     */\n    afterCommit: function(modified) {\n        this.notifyStores('afterCommit', Ext.Object.getKeys(modified || {}), modified);\n    },\n\n    /**\n     * @private\n     * Helper function used by afterEdit, afterReject and afterCommit. Calls the given method on the\n     * {@link Ext.data.Store store} that this instance has {@link #join joined}, if any. The store function\n     * will always be called with the model instance as its single argument.\n     * @param {String} fn The function to call on the store\n     */\n    notifyStores: function(fn) {\n        var args = Ext.Array.clone(arguments),\n            stores = this.stores,\n            ln = stores.length,\n            i, store;\n\n        args[0] = this;\n        for (i = 0; i < ln; ++i) {\n            store = stores[i];\n            if (store !== undefined && typeof store[fn] == \"function\") {\n                store[fn].apply(store, args);\n            }\n        }\n    },\n\n    /**\n     * Creates a copy (clone) of this Model instance.\n     *\n     * @param {String} id A new id. If you don't specify this a new id will be generated for you.\n     * To generate a phantom instance with a new id use:\n     *\n     *     var rec = record.copy(); // clone the record with a new id\n     *\n     * @return {Ext.data.Model}\n     */\n    copy: function(newId) {\n        var me = this,\n            idProperty = me.getIdProperty(),\n            raw = Ext.apply({}, me.raw),\n            data = Ext.apply({}, me.data);\n\n        delete raw[idProperty];\n        delete data[idProperty];\n\n        return new me.self(null, newId, raw, data);\n    },\n\n    /**\n     * Returns an object containing the data set on this record. This method also allows you to\n     * retrieve all the associated data. Note that if you should always use this method if you\n     * need all the associated data, since the data property on the record instance is not\n     * ensured to be updated at all times.\n     * @param {Boolean} includeAssociated True to include the associated data.\n     * @return {Object} The data\n     */\n    getData: function(includeAssociated) {\n        var data = this.data;\n\n        if (includeAssociated === true) {\n            Ext.apply(data, this.getAssociatedData());\n        }\n\n        return data;\n    },\n\n    /**\n     * Gets all of the data from this Models *loaded* associations. It does this recursively - for example if we have a\n     * User which hasMany Orders, and each Order hasMany OrderItems, it will return an object like this:\n     *\n     *     {\n     *         orders: [\n     *             {\n     *                 id: 123,\n     *                 status: 'shipped',\n     *                 orderItems: [\n     *                     ...\n     *                 ]\n     *             }\n     *         ]\n     *     }\n     *\n     * @return {Object} The nested data set for the Model's loaded associations\n     */\n    getAssociatedData: function() {\n        return this.prepareAssociatedData(this, [], null);\n    },\n\n    /**\n     * @private\n     * This complex-looking method takes a given Model instance and returns an object containing all data from\n     * all of that Model's *loaded* associations. See {@link #getAssociatedData}\n     * @param {Ext.data.Model} record The Model instance\n     * @param {String[]} ids PRIVATE. The set of Model instance internalIds that have already been loaded\n     * @param {String} associationType (optional) The name of the type of association to limit to.\n     * @return {Object} The nested data set for the Model's loaded associations\n     */\n    prepareAssociatedData: function(record, ids, associationType) {\n        //we keep track of all of the internalIds of the models that we have loaded so far in here\n        var associations     = record.associations.items,\n            associationCount = associations.length,\n            associationData  = {},\n            associatedStore, associationName, associatedRecords, associatedRecord,\n            associatedRecordCount, association, id, i, j, type, allow;\n\n        for (i = 0; i < associationCount; i++) {\n            association = associations[i];\n            associationName = association.getName();\n            type = association.getType();\n            allow = true;\n\n            if (associationType) {\n                allow = type == associationType;\n            }\n\n            if (allow && type.toLowerCase() == 'hasmany') {\n                //this is the hasMany store filled with the associated data\n                associatedStore = record[association.getStoreName()];\n\n                //we will use this to contain each associated record's data\n                associationData[associationName] = [];\n\n                //if it's loaded, put it into the association data\n                if (associatedStore && associatedStore.getCount() > 0) {\n                    associatedRecords = associatedStore.data.items;\n                    associatedRecordCount = associatedRecords.length;\n\n                    //now we're finally iterating over the records in the association. We do this recursively\n                    for (j = 0; j < associatedRecordCount; j++) {\n                        associatedRecord = associatedRecords[j];\n                        // Use the id, since it is prefixed with the model name, guaranteed to be unique\n                        id = associatedRecord.id;\n\n                        //when we load the associations for a specific model instance we add it to the set of loaded ids so that\n                        //we don't load it twice. If we don't do this, we can fall into endless recursive loading failures.\n                        if (Ext.Array.indexOf(ids, id) == -1) {\n                            ids.push(id);\n\n                            associationData[associationName][j] = associatedRecord.getData();\n                            Ext.apply(associationData[associationName][j], this.prepareAssociatedData(associatedRecord, ids, associationType));\n                        }\n                    }\n                }\n            } else if (allow && (type.toLowerCase() == 'belongsto' || type.toLowerCase() == 'hasone')) {\n                associatedRecord = record[association.getInstanceName()];\n                if (associatedRecord !== undefined) {\n                    id = associatedRecord.id;\n                    if (Ext.Array.indexOf(ids, id) === -1) {\n                        ids.push(id);\n                        associationData[associationName] = associatedRecord.getData();\n                        Ext.apply(associationData[associationName], this.prepareAssociatedData(associatedRecord, ids, associationType));\n                    }\n                }\n            }\n        }\n\n        return associationData;\n    },\n\n    /**\n     * By joining this model to an instance of a class, this model will automatically try to\n     * call certain template methods on that instance (afterEdit, afterCommit, afterErase).\n     * For example, a Store calls join and unjoin whenever you add or remove a record to it's data collection.\n     * This way a Store can get notified of any changes made to this record.\n     * This functionality is usually only required when creating custom components.\n     * @param {Ext.data.Store} store The store to which this model has been added.\n     */\n    join: function(store) {\n        Ext.Array.include(this.stores, store);\n    },\n\n    /**\n     * This unjoins this record from an instance of a class. Look at the documentation for {@link #join}\n     * for more information about joining records to class instances.\n     * @param {Ext.data.Store} store The store from which this model has been removed.\n     */\n    unjoin: function(store) {\n        Ext.Array.remove(this.stores, store);\n    },\n\n    /**\n     * Marks this **Record** as `{@link #dirty}`. This method is used interally when adding `{@link #phantom}` records\n     * to a {@link Ext.data.proxy.Server#writer writer enabled store}.\n     *\n     * Marking a record `{@link #dirty}` causes the phantom to be returned by {@link Ext.data.Store#getUpdatedRecords}\n     * where it will have a create action composed for it during {@link Ext.data.Model#save model save} operations.\n     */\n    setDirty : function() {\n        var me = this,\n            name;\n\n        me.dirty = true;\n\n        me.fields.each(function(field) {\n            if (field.getPersist()) {\n                name = field.getName();\n                me.modified[name] = me.get(name);\n            }\n        });\n    },\n\n    /**\n     * Validates the current data against all of its configured {@link #cfg-validations}.\n     * @return {Ext.data.Errors} The errors object\n     */\n    validate: function() {\n        var errors      = Ext.create('Ext.data.Errors'),\n            validations = this.getValidations().items,\n            validators  = Ext.data.Validations,\n            length, validation, field, valid, type, i;\n\n        if (validations) {\n            length = validations.length;\n\n            for (i = 0; i < length; i++) {\n                validation = validations[i];\n                field = validation.field || validation.name;\n                type  = validation.type;\n                valid = validators[type](validation, this.get(field));\n\n                if (!valid) {\n                    errors.add(Ext.create('Ext.data.Error', {\n                        field  : field,\n                        message: validation.message || validators.getMessage(type)\n                    }));\n                }\n            }\n        }\n\n        return errors;\n    },\n\n    /**\n     * Checks if the model is valid. See {@link #validate}.\n     * @return {Boolean} True if the model is valid.\n     */\n    isValid: function(){\n        return this.validate().isValid();\n    },\n\n    /**\n     * Returns a url-suitable string for this model instance. By default this just returns the name of the Model class\n     * followed by the instance ID - for example an instance of MyApp.model.User with ID 123 will return 'user/123'.\n     * @return {String} The url string for this model instance\n     */\n    toUrl: function() {\n        var pieces = this.$className.split('.'),\n            name   = pieces[pieces.length - 1].toLowerCase();\n\n        return name + '/' + this.getId();\n    },\n\n    /**\n     * Destroys this model instance. Note that this doesn't do a 'destroy' operation. If you want to destroy\n     * the record in your localstorage or on the server you should use the {@link #erase} method.\n     */\n    destroy: function() {\n        var me = this;\n        me.notifyStores('afterErase', me);\n        delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(me)];\n        me.raw = me.stores = me.modified = null;\n        me.callParent(arguments);\n    },\n\n    markDirty : function() {\n        if (Ext.isDefined(Ext.Logger)) {\n            Ext.Logger.deprecate('Ext.data.Model: markDirty has been deprecated. Use setDirty instead.');\n        }\n        return this.setDirty.apply(this, arguments);\n    },\n\n    applyProxy: function(proxy, currentProxy) {\n        return Ext.factory(proxy, Ext.data.Proxy, currentProxy, 'proxy');\n    },\n\n    updateProxy: function(proxy) {\n        if (proxy) {\n            proxy.setModel(this.self);\n        }\n    },\n\n    applyAssociations: function(associations) {\n        if (associations) {\n            this.addAssociations(associations, 'hasMany');\n        }\n    },\n\n    applyBelongsTo: function(belongsTo) {\n        if (belongsTo) {\n            this.addAssociations(belongsTo, 'belongsTo');\n        }\n    },\n\n    applyHasMany: function(hasMany) {\n        if (hasMany) {\n            this.addAssociations(hasMany, 'hasMany');\n        }\n    },\n\n    applyHasOne: function(hasOne) {\n        if (hasOne) {\n            this.addAssociations(hasOne, 'hasOne');\n        }\n    },\n\n    addAssociations: function(associations, defaultType) {\n        var ln, i, association,\n            name = this.self.modelName,\n            associationsCollection = this.self.associations,\n            onCreatedFn;\n\n        associations = Ext.Array.from(associations);\n\n        for (i = 0, ln = associations.length; i < ln; i++) {\n            association = associations[i];\n            if (!Ext.isObject(association)) {\n                association = {model: association};\n            }\n\n            Ext.applyIf(association, {\n                type: defaultType,\n                ownerModel: name,\n                associatedModel: association.model\n            });\n\n            delete association.model;\n\n            onCreatedFn = Ext.Function.bind(function(associationName) {\n                associationsCollection.add(Ext.data.association.Association.create(this));\n            }, association);\n\n            Ext.ClassManager.onCreated(onCreatedFn, this, (typeof association.associatedModel === 'string') ? association.associatedModel : Ext.getClassName(association.associatedModel));\n        }\n    },\n\n    applyValidations: function(validations) {\n        if (validations) {\n            if (!Ext.isArray(validations)) {\n                validations = [validations];\n            }\n            this.addValidations(validations);\n        }\n    },\n\n    addValidations: function(validations) {\n        this.self.validations.addAll(validations);\n    },\n\n    /**\n     * @method setFields\n     * Updates the collection of Fields that all instances of this Model use. **Does not** update field values in a Model\n     * instance (use {@link #set} for that), instead this updates which fields are available on the Model class. This\n     * is normally used when creating or updating Model definitions dynamically, for example if you allow your users to\n     * define their own Models and save the fields configuration to a database, this method allows you to change those\n     * fields later.\n     */\n\n    applyFields: function(fields) {\n        var superFields = this.superclass.fields;\n        if (superFields) {\n            fields = superFields.items.concat(fields || []);\n        }\n        return fields || [];\n    },\n\n    updateFields: function(fields) {\n        var ln = fields.length,\n            me = this,\n            prototype = me.self.prototype,\n            idProperty = this.getIdProperty(),\n            idField, fieldsCollection, field, i;\n\n        /**\n         * @property {Ext.util.MixedCollection} fields\n         * The fields defined on this model.\n         */\n        fieldsCollection = me._fields = me.fields = new Ext.util.Collection(prototype.getFieldName);\n\n        for (i = 0; i < ln; i++) {\n            field = fields[i];\n            if (!field.isField) {\n                field = new Ext.data.Field(fields[i]);\n            }\n            fieldsCollection.add(field);\n        }\n\n        // We want every Model to have an id property field\n        idField = fieldsCollection.get(idProperty);\n        if (!idField) {\n            fieldsCollection.add(new Ext.data.Field(idProperty));\n        } else {\n            idField.setType('auto');\n        }\n\n        fieldsCollection.addSorter(prototype.sortConvertFields);\n    },\n\n    applyIdentifier: function(identifier) {\n        if (typeof identifier === 'string') {\n            identifier = {\n                type: identifier\n            };\n        }\n        return Ext.factory(identifier, Ext.data.identifier.Simple, this.getIdentifier(), 'data.identifier');\n    },\n\n    /**\n     * This method is used by the fields collection to retrieve the key for a field\n     * based on it's name.\n     * @param field\n     * @private\n     */\n    getFieldName: function(field) {\n        return field.getName();\n    },\n\n    /**\n     * This method is being used to sort the fields based on their convert method. If\n     * a field has a custom convert method, we ensure its more to the bottom of the collection.\n     * @param field1\n     * @param field2\n     * @private\n     */\n    sortConvertFields: function(field1, field2) {\n        var f1SpecialConvert = field1.hasCustomConvert(),\n            f2SpecialConvert = field2.hasCustomConvert();\n\n        if (f1SpecialConvert && !f2SpecialConvert) {\n            return 1;\n        }\n        if (!f1SpecialConvert && f2SpecialConvert) {\n            return -1;\n        }\n        return 0;\n    },\n\n    /**\n     * @private\n     */\n    onClassExtended: function(cls, data, hooks) {\n        var onBeforeClassCreated = hooks.onBeforeCreated,\n            Model = this,\n            prototype = Model.prototype,\n            configNameCache = Ext.Class.configNameCache,\n            staticConfigs = prototype.staticConfigs.concat(data.staticConfigs || []),\n            defaultConfig = prototype.config,\n            config = data.config || {},\n            key;\n\n        // Convert old properties in data into a config object\n        if (data.idgen || config.idgen) {\n            config.identifier = data.idgen || config.idgen;\n            Ext.Logger.deprecate('idgen is deprecated as a property. Please put it inside the config object' +\n                ' under the new \"identifier\" configuration');\n        }\n\n        for (key in defaultConfig) {\n            if (key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the Model prototype. ' +\n                    'Please put it inside the config object.');\n            }\n        }\n        data.config = config;\n\n        hooks.onBeforeCreated = function(cls, data) {\n            var dependencies = [],\n                prototype = cls.prototype,\n                statics = {},\n                config = prototype.config,\n                staticConfigsLn = staticConfigs.length,\n                copyMethods = ['set', 'get'],\n                copyMethodsLn = copyMethods.length,\n                associations = config.associations || [],\n                name = Ext.getClassName(cls),\n                key, methodName, i, j, ln;\n\n            // Create static setters and getters for each config option\n            for (i = 0; i < staticConfigsLn; i++) {\n                key = staticConfigs[i];\n\n                for (j = 0; j < copyMethodsLn; j++) {\n                    methodName = configNameCache[key][copyMethods[j]];\n                    if (methodName in prototype) {\n                        statics[methodName] = Model.generateProxyMethod(methodName);\n                    }\n                }\n            }\n\n            cls.addStatics(statics);\n\n            // Save modelName on class and its prototype\n            cls.modelName = name;\n            prototype.modelName = name;\n\n            // Take out dependencies on other associations and the proxy type\n            if (config.belongsTo) {\n                dependencies.push('association.belongsto');\n            }\n            if (config.hasMany) {\n                dependencies.push('association.hasmany');\n            }\n            if (config.hasOne) {\n                dependencies.push('association.hasone');\n            }\n\n            for (i = 0,ln = associations.length; i < ln; ++i) {\n                dependencies.push('association.' + associations[i].type.toLowerCase());\n            }\n\n            if (config.proxy) {\n                if (typeof config.proxy === 'string') {\n                    dependencies.push('proxy.' + config.proxy);\n                }\n                else if (typeof config.proxy.type === 'string') {\n                    dependencies.push('proxy.' + config.proxy.type);\n                }\n            }\n\n            if (config.validations) {\n                dependencies.push('Ext.data.Validations');\n            }\n\n            Ext.require(dependencies, function() {\n                Ext.Function.interceptBefore(hooks, 'onCreated', function() {\n                    Ext.data.ModelManager.registerType(name, cls);\n\n                    var superCls = cls.prototype.superclass;\n\n                    /**\n                     * @property {Ext.util.Collection} associations\n                     * The associations defined on this model.\n                     */\n                    cls.prototype.associations = cls.associations = cls.prototype._associations = (superCls && superCls.associations)\n                        ? superCls.associations.clone()\n                        : new Ext.util.Collection(function(association) {\n                            return association.getName();\n                        });\n\n                    /**\n                     * @property {Ext.util.Collection} validations\n                     * The validations defined on this model.\n                     */\n                    cls.prototype.validations = cls.validations = cls.prototype._validations = (superCls && superCls.validations)\n                        ? superCls.validations.clone()\n                        : new Ext.util.Collection(function(validation) {\n                            return validation.field ? (validation.field + '-' + validation.type) : (validation.name + '-' + validation.type);\n                        });\n\n                    cls.prototype = Ext.Object.chain(cls.prototype);\n                    cls.prototype.initConfig.call(cls.prototype, config);\n\n                    delete cls.prototype.initConfig;\n                });\n\n                onBeforeClassCreated.call(Model, cls, data, hooks);\n            });\n        };\n    }\n});\n\nExt.define(\"B2B.model.FavoriteBeer\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		identifier:'uuid',\n		fields: [\n			{ name: 'idFavorite', type: 'int' },\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'beerName', type: 'string' },\n		]\n	}\n});\n/**\n * @author Ed Spencer\n *\n * Base class for any client-side storage. Used as a superclass for {@link Ext.data.proxy.Memory Memory} and\n * {@link Ext.data.proxy.WebStorage Web Storage} proxies. Do not use directly, use one of the subclasses instead.\n * @private\n */\nExt.define('Ext.data.proxy.Client', {\n    extend: 'Ext.data.proxy.Proxy',\n    alternateClassName: 'Ext.proxy.ClientProxy',\n\n    /**\n     * Abstract function that must be implemented by each ClientProxy subclass. This should purge all record data\n     * from the client side storage, as well as removing any supporting data (such as lists of record IDs)\n     */\n    clear: function() {\n        Ext.Logger.error(\"The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.\");\n    }\n});\n\n/**\n * @author Ed Spencer\n * @aside guide proxies\n *\n * In-memory proxy. This proxy simply uses a local variable for data storage/retrieval, so its contents are lost on\n * every page refresh.\n *\n * Usually this Proxy isn't used directly, serving instead as a helper to a {@link Ext.data.Store Store} where a reader\n * is required to load data. For example, say we have a Store for a User model and have some inline data we want to\n * load, but this data isn't in quite the right format: we can use a MemoryProxy with a JsonReader to read it into our\n * Store:\n *\n *     //this is the model we will be using in the store\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 {name: 'id',    type: 'int'},\n *                 {name: 'name',  type: 'string'},\n *                 {name: 'phone', type: 'string', mapping: 'phoneNumber'}\n *             ]\n *         }\n *     });\n *\n *     //this data does not line up to our model fields - the phone field is called phoneNumber\n *     var data = {\n *         users: [\n *             {\n *                 id: 1,\n *                 name: 'Ed Spencer',\n *                 phoneNumber: '555 1234'\n *             },\n *             {\n *                 id: 2,\n *                 name: 'Abe Elias',\n *                 phoneNumber: '666 1234'\n *             }\n *         ]\n *     };\n *\n *     //note how we set the 'root' in the reader to match the data structure above\n *     var store = Ext.create('Ext.data.Store', {\n *         autoLoad: true,\n *         model: 'User',\n *         data : data,\n *         proxy: {\n *             type: 'memory',\n *             reader: {\n *                 type: 'json',\n *                 root: 'users'\n *             }\n *         }\n *     });\n */\nExt.define('Ext.data.proxy.Memory', {\n    extend: 'Ext.data.proxy.Client',\n    alias: 'proxy.memory',\n    alternateClassName: 'Ext.data.MemoryProxy',\n\n    isMemoryProxy: true,\n\n    config: {\n        /**\n         * @cfg {Object} data\n         * Optional data to pass to configured Reader.\n         */\n        data: []\n    },\n\n    /**\n     * @private\n     * Fake processing function to commit the records, set the current operation\n     * to successful and call the callback if provided. This function is shared\n     * by the create, update and destroy methods to perform the bare minimum\n     * processing required for the proxy to register a result from the action.\n     */\n    finishOperation: function(operation, callback, scope) {\n        if (operation) {\n            var i = 0,\n                recs = operation.getRecords(),\n                len = recs.length;\n\n            for (i; i < len; i++) {\n                recs[i].commit();\n            }\n            operation.setSuccessful();\n\n            Ext.callback(callback, scope || this, [operation]);\n        }\n    },\n\n    /**\n     * Currently this is a hard-coded method that simply commits any records and sets the operation to successful,\n     * then calls the callback function, if provided. It is essentially mocking a server call in memory, but since\n     * there is no real back end in this case there's not much else to do. This method can be easily overridden to\n     * implement more complex logic if needed.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether\n     * successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    create: function() {\n        this.finishOperation.apply(this, arguments);\n    },\n\n    /**\n     * Currently this is a hard-coded method that simply commits any records and sets the operation to successful,\n     * then calls the callback function, if provided. It is essentially mocking a server call in memory, but since\n     * there is no real back end in this case there's not much else to do. This method can be easily overridden to\n     * implement more complex logic if needed.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether\n     * successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    update: function() {\n        this.finishOperation.apply(this, arguments);\n    },\n\n    /**\n     * Currently this is a hard-coded method that simply commits any records and sets the operation to successful,\n     * then calls the callback function, if provided. It is essentially mocking a server call in memory, but since\n     * there is no real back end in this case there's not much else to do. This method can be easily overridden to\n     * implement more complex logic if needed.\n     * @param {Ext.data.Operation} operation The Operation to perform\n     * @param {Function} callback Callback function to be called when the Operation has completed (whether\n     * successful or not)\n     * @param {Object} scope Scope to execute the callback function in\n     * @method\n     */\n    destroy: function() {\n        this.finishOperation.apply(this, arguments);\n    },\n\n    /**\n     * Reads data from the configured {@link #data} object. Uses the Proxy's {@link #reader}, if present.\n     * @param {Ext.data.Operation} operation The read Operation\n     * @param {Function} callback The callback to call when reading has completed\n     * @param {Object} scope The scope to call the callback function in\n     */\n    read: function(operation, callback, scope) {\n        var me     = this,\n            reader = me.getReader();\n\n        if (operation.process('read', reader.process(me.getData())) === false) {\n            this.fireEvent('exception', this, null, operation);\n        }\n\n        Ext.callback(callback, scope || me, [operation]);\n    },\n\n    clear: Ext.emptyFn\n});\n\n/**\n * @author Ed Spencer\n * @aside guide stores\n *\n * The Store class encapsulates a client side cache of {@link Ext.data.Model Model} objects. Stores load\n * data via a {@link Ext.data.proxy.Proxy Proxy}, and also provide functions for {@link #sort sorting},\n * {@link #filter filtering} and querying the {@link Ext.data.Model model} instances contained within it.\n *\n * Creating a Store is easy - we just tell it the Model and the Proxy to use to load and save its data:\n *\n *     // Set up a {@link Ext.data.Model model} to use in our Store\n *     Ext.define('User', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: [\n *                 {name: 'firstName', type: 'string'},\n *                 {name: 'lastName',  type: 'string'},\n *                 {name: 'age',       type: 'int'},\n *                 {name: 'eyeColor',  type: 'string'}\n *             ]\n *         }\n *     });\n *\n *     var myStore = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         proxy: {\n *             type: 'ajax',\n *             url : '/users.json',\n *             reader: {\n *                 type: 'json',\n *                 rootProperty: 'users'\n *             }\n *         },\n *         autoLoad: true\n *     });\n *\n * In the example above we configured an AJAX proxy to load data from the url '/users.json'. We told our Proxy\n * to use a {@link Ext.data.reader.Json JsonReader} to parse the response from the server into Model object -\n * {@link Ext.data.reader.Json see the docs on JsonReader} for details.\n *\n * ## Inline data\n *\n * Stores can also load data inline. Internally, Store converts each of the objects we pass in as {@link #cfg-data}\n * into Model instances:\n *\n *     Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         data : [\n *             {firstName: 'Ed',    lastName: 'Spencer'},\n *             {firstName: 'Tommy', lastName: 'Maintz'},\n *             {firstName: 'Aaron', lastName: 'Conran'},\n *             {firstName: 'Jamie', lastName: 'Avins'}\n *         ]\n *     });\n *\n * Loading inline data using the method above is great if the data is in the correct format already (e.g. it doesn't need\n * to be processed by a {@link Ext.data.reader.Reader reader}). If your inline data requires processing to decode the data structure,\n * use a {@link Ext.data.proxy.Memory MemoryProxy} instead (see the {@link Ext.data.proxy.Memory MemoryProxy} docs for an example).\n *\n * Additional data can also be loaded locally using {@link #method-add}.\n *\n * ## Loading Nested Data\n *\n * Applications often need to load sets of associated data - for example a CRM system might load a User and her Orders.\n * Instead of issuing an AJAX request for the User and a series of additional AJAX requests for each Order, we can load a nested dataset\n * and allow the Reader to automatically populate the associated models. Below is a brief example, see the {@link Ext.data.reader.Reader} intro\n * docs for a full explanation:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         autoLoad: true,\n *         model: \"User\",\n *         proxy: {\n *             type: 'ajax',\n *             url : 'users.json',\n *             reader: {\n *                 type: 'json',\n *                 rootProperty: 'users'\n *             }\n *         }\n *     });\n *\n * Which would consume a response like this:\n *\n *     {\n *         \"users\": [\n *             {\n *                 \"id\": 1,\n *                 \"name\": \"Ed\",\n *                 \"orders\": [\n *                     {\n *                         \"id\": 10,\n *                         \"total\": 10.76,\n *                         \"status\": \"invoiced\"\n *                     },\n *                     {\n *                         \"id\": 11,\n *                         \"total\": 13.45,\n *                         \"status\": \"shipped\"\n *                     }\n *                 ]\n *             }\n *         ]\n *     }\n *\n * See the {@link Ext.data.reader.Reader} intro docs for a full explanation.\n *\n * ## Filtering and Sorting\n *\n * Stores can be sorted and filtered - in both cases either remotely or locally. The {@link #sorters} and {@link #filters} are\n * held inside {@link Ext.util.MixedCollection MixedCollection} instances to make them easy to manage. Usually it is sufficient to\n * either just specify sorters and filters in the Store configuration or call {@link #sort} or {@link #filter}:\n *\n *     var store = Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         sorters: [\n *             {\n *                 property : 'age',\n *                 direction: 'DESC'\n *             },\n *             {\n *                 property : 'firstName',\n *                 direction: 'ASC'\n *             }\n *         ],\n *\n *         filters: [\n *             {\n *                 property: 'firstName',\n *                 value   : /Ed/\n *             }\n *         ]\n *     });\n *\n * The new Store will keep the configured sorters and filters in the MixedCollection instances mentioned above. By default, sorting\n * and filtering are both performed locally by the Store - see {@link #remoteSort} and {@link #remoteFilter} to allow the server to\n * perform these operations instead.\n *\n * Filtering and sorting after the Store has been instantiated is also easy. Calling {@link #filter} adds another filter to the Store\n * and automatically filters the dataset (calling {@link #filter} with no arguments simply re-applies all existing filters). Note that by\n * default your sorters are automatically reapplied if using local sorting.\n *\n     store.filter('eyeColor', 'Brown');\n *\n * Change the sorting at any time by calling {@link #sort}:\n *\n     store.sort('height', 'ASC');\n *\n * Note that all existing sorters will be removed in favor of the new sorter data (if {@link #sort} is called with no arguments,\n * the existing sorters are just reapplied instead of being removed). To keep existing sorters and add new ones, just add them\n * to the MixedCollection:\n *\n *     store.sorters.add(new Ext.util.Sorter({\n *         property : 'shoeSize',\n *         direction: 'ASC'\n *     }));\n *\n *     store.sort();\n *\n * ## Registering with StoreManager\n *\n * Any Store that is instantiated with a {@link #storeId} will automatically be registed with the {@link Ext.data.StoreManager StoreManager}.\n * This makes it easy to reuse the same store in multiple views:\n *\n *     //this store can be used several times\n *     Ext.create('Ext.data.Store', {\n *         model: 'User',\n *         storeId: 'usersStore'\n *     });\n *\n *     new Ext.List({\n *         store: 'usersStore',\n *\n *         //other config goes here\n *     });\n *\n *     new Ext.view.View({\n *         store: 'usersStore',\n *\n *         //other config goes here\n *     });\n *\n * ## Further Reading\n *\n * Stores are backed up by an ecosystem of classes that enables their operation. To gain a full understanding of these\n * pieces and how they fit together, see:\n *\n *  - {@link Ext.data.proxy.Proxy Proxy} - overview of what Proxies are and how they are used\n *  - {@link Ext.data.Model Model} - the core class in the data package\n *  - {@link Ext.data.reader.Reader Reader} - used by any subclass of {@link Ext.data.proxy.Server ServerProxy} to read a response\n */\nExt.define('Ext.data.Store', {\n    alias: 'store.store',\n\n    extend: 'Ext.Evented',\n\n    requires: [\n        'Ext.util.Collection',\n        'Ext.data.Operation',\n        'Ext.data.proxy.Memory',\n        'Ext.data.Model',\n        'Ext.data.StoreManager',\n        'Ext.util.Grouper'\n    ],\n\n    /**\n     * @event addrecords\n     * Fired when one or more new Model instances have been added to this Store. You should listen\n     * for this event if you have to update a representation of the records in this store in your UI.\n     * If you need the indices of the records that were added please use the store.indexOf(record) method.\n     * @param {Ext.data.Store} store The store\n     * @param {Ext.data.Model[]} records The Model instances that were added\n     */\n\n    /**\n     * @event removerecords\n     * Fired when one or more Model instances have been removed from this Store. You should listen\n     * for this event if you have to update a representation of the records in this store in your UI.\n     * @param {Ext.data.Store} store The Store object\n     * @param {Ext.data.Model[]} records The Model instances that was removed\n     * @param {Number[]} indices The indices of the records that were removed. These indices already\n     * take into account any potential earlier records that you remove. This means that if you loop\n     * over the records, you can get its current index in your data representation from this array.\n     */\n\n    /**\n     * @event updaterecord\n     * Fires when a Model instance has been updated\n     * @param {Ext.data.Store} this\n     * @param {Ext.data.Model} record The Model instance that was updated\n     * @param {Number} newIndex If the update changed the index of the record (due to sorting for example), then\n     * this gives you the new index in the store.\n     * @param {Number} oldIndex If the update changed the index of the record (due to sorting for example), then\n     * this gives you the old index in the store.\n     * @param {Array} modifiedFieldNames An array containing the field names that have been modified since the\n     * record was committed or created\n     * @param {Object} modifiedValues An object where each key represents a field name that had it's value modified,\n     * and where the value represents the old value for that field. To get the new value in a listener\n     * you should use the {@link Ext.data.Model#get get} method.\n     */\n\n    /**\n     * @event update\n     * @inheritdoc Ext.data.Store#updaterecord\n     * @removed 2.0 Listen to #updaterecord instead.\n     */\n\n    /**\n     * @event refresh\n     * Fires whenever the records in the Store have changed in a way that your representation of the records\n     * need to be entirely refreshed.\n     * @param {Ext.data.Store} this The data store\n     * @param {Ext.util.Collection} data The data collection containing all the records\n     */\n\n    /**\n     * @event beforeload\n     * Fires before a request is made for a new data object. If the beforeload handler returns false the load\n     * action will be canceled. Note that you should not listen for this event in order to refresh the\n     * data view. Use the {@link #refresh} event for this instead.\n     * @param {Ext.data.Store} store This Store\n     * @param {Ext.data.Operation} operation The Ext.data.Operation object that will be passed to the Proxy to\n     * load the Store\n     */\n\n    /**\n     * @event load\n     * Fires whenever records have been loaded into the store. Note that you should not listen\n     * for this event in order to refresh the data view. Use the {@link #refresh} event for this instead.\n     * @param {Ext.data.Store} this\n     * @param {Ext.util.Grouper[]} records An array of records\n     * @param {Boolean} successful True if the operation was successful.\n     * @param {Ext.data.Operation} operation The associated operation\n     */\n\n    /**\n     * @event write\n     * Fires whenever a successful write has been made via the configured {@link #proxy Proxy}\n     * @param {Ext.data.Store} store This Store\n     * @param {Ext.data.Operation} operation The {@link Ext.data.Operation Operation} object that was used in\n     * the write\n     */\n\n    /**\n     * @event beforesync\n     * Fired before a call to {@link #sync} is executed. Return false from any listener to cancel the synv\n     * @param {Object} options Hash of all records to be synchronized, broken down into create, update and destroy\n     */\n\n    /**\n     * @event clear\n     * Fired after the {@link #removeAll} method is called. Note that you should not listen for this event in order\n     * to refresh the data view. Use the {@link #refresh} event for this instead.\n     * @param {Ext.data.Store} this\n     */\n\n    statics: {\n        create: function(store) {\n            if (!store.isStore) {\n                if (!store.type) {\n                    store.type = 'store';\n                }\n                store = Ext.createByAlias('store.' + store.type, store);\n            }\n            return store;\n        }\n    },\n\n    isStore: true,\n\n    config: {\n        /**\n         * @cfg {String} storeId\n         * Unique identifier for this store. If present, this Store will be registered with the {@link Ext.data.StoreManager},\n         * making it easy to reuse elsewhere.\n         * @accessor\n         */\n        storeId: undefined,\n\n        /**\n         * @cfg {Object[]/Ext.data.Model[]} data\n         * Array of Model instances or data objects to load locally. See \"Inline data\" above for details.\n         * @accessor\n         */\n        data: null,\n\n        /**\n         * @cfg {Boolean/Object} autoLoad\n         * If data is not specified, and if autoLoad is true or an Object, this store's load method is automatically called\n         * after creation. If the value of autoLoad is an Object, this Object will be passed to the store's load method.\n         * Defaults to false.\n         * @accessor\n         */\n        autoLoad: null,\n\n        /**\n         * @cfg {Boolean} autoSync\n         * True to automatically sync the Store with its Proxy after every edit to one of its Records. Defaults to false.\n         * @accessor\n         */\n        autoSync: false,\n\n        /**\n         * @cfg {String} model\n         * Name of the {@link Ext.data.Model Model} associated with this store.\n         * The string is used as an argument for {@link Ext.ModelManager#getModel}.\n         * @accessor\n         */\n        model: undefined,\n\n        /**\n         * @cfg {String/Ext.data.proxy.Proxy/Object} proxy The Proxy to use for this Store. This can be either a string, a config\n         * object or a Proxy instance - see {@link #setProxy} for details.\n         * @accessor\n         */\n        proxy: undefined,\n\n        /**\n         * @cfg {Object[]} fields\n         * This may be used in place of specifying a {@link #model} configuration. The fields should be a\n         * set of {@link Ext.data.Field} configuration objects. The store will automatically create a {@link Ext.data.Model}\n         * with these fields. In general this configuration option should be avoided, it exists for the purposes of\n         * backwards compatibility. For anything more complicated, such as specifying a particular id property or\n         * associations, a {@link Ext.data.Model} should be defined and specified for the {@link #model}\n         * config.\n         * @accessor\n         */\n        fields: null,\n\n        /**\n         * @cfg {Boolean} remoteSort\n         * True to defer any sorting operation to the server. If false, sorting is done locally on the client. Defaults to <tt>false</tt>.\n         *\n         * If this is set to `true`, you will have to manually call the {@link #method-load} method after you {@link #method-sort}, to retrieve the sorted\n         * data from the server.\n         * @accessor\n         */\n        remoteSort: false,\n\n        /**\n         * @cfg {Boolean} remoteFilter\n         * True to defer any filtering operation to the server. If false, filtering is done locally on the client. Defaults to `false`.\n         *\n         * If this is set to `true`, you will have to manually call the {@link #method-load} method after you {@link #method-filter} to retrieve the filtered\n         * data from the server.\n         * @accessor\n         */\n        remoteFilter: false,\n\n        /**\n         * @cfg {Boolean} remoteGroup\n         * True to defer any grouping operation to the server. If false, grouping is done locally on the client. Defaults to <tt>false</tt>\n         * @accessor\n         */\n        remoteGroup: false,\n\n        /**\n         * @cfg {Object[]} filters\n         * Array of {@link Ext.util.Filter Filters} for this store. This configuration is handled by the\n         * {@link Ext.mixin.Filterable Filterable} mixin of the {@link Ext.util.Collection data} collection.\n         * @accessor\n         */\n        filters: null,\n\n        /**\n         * @cfg {Object[]} sorters\n         * Array of {@link Ext.util.Sorter Sorters} for this store. This configuration is handled by the\n         * {@link Ext.mixin.Sortable Sortable} mixin of the {@link Ext.util.Collection data} collection.\n         * See also the {@link #sort} method.\n         * @accessor\n         */\n        sorters: null,\n\n        /**\n         * @cfg {Object[]} grouper\n         * A configuration object for this Store's {@link Ext.util.Grouper grouper}.\n         *\n         * For example, to group a store's items by the first letter of the last name:\n         *\n         *     Ext.define('People', {\n         *         extend: 'Ext.data.Store',\n         *\n         *         config: {\n         *             fields: ['first_name', 'last_name'],\n         *\n         *             grouper: {\n         *                 groupFn: function(record) {\n         *                     return record.get('last_name').substr(0, 1);\n         *                 },\n         *                 sortProperty: 'last_name'\n         *             }\n         *         }\n         *     });\n         *\n         * @accessor\n         */\n        grouper: null,\n\n        /**\n         * @cfg {String} groupField\n         * The (optional) field by which to group data in the store. Internally, grouping is very similar to sorting - the\n         * groupField and {@link #groupDir} are injected as the first sorter (see {@link #sort}). Stores support a single\n         * level of grouping, and groups can be fetched via the {@link #getGroups} method.\n         * @accessor\n         */\n        groupField: null,\n\n        /**\n         * @cfg {String} groupDir\n         * The direction in which sorting should be applied when grouping. If you specify a grouper by using the {@link #groupField}\n         * configuration, this will automatically default to \"ASC\" - the other supported value is \"DESC\"\n         * @accessor\n         */\n        groupDir: null,\n\n        /**\n         * @cfg {Function} getGroupString This function will be passed to the {@link #grouper} configuration as it's groupFn.\n         * Note that this configuration is deprecated and grouper: {groupFn: yourFunction}} is preferred.\n         * @deprecated\n         * @accessor\n         */\n        getGroupString: null,\n\n        /**\n         * @cfg {Number} pageSize\n         * The number of records considered to form a 'page'. This is used to power the built-in\n         * paging using the nextPage and previousPage functions. Defaults to 25.\n         * @accessor\n         */\n        pageSize: 25,\n\n        /**\n         * @cfg {Number} totalCount The total number of records in the full dataset, as indicated by a server. If the\n         * server-side dataset contains 5000 records but only returns pages of 50 at a time, totalCount will be set to\n         * 5000 and {@link #getCount} will return 50\n         */\n        totalCount: null,\n\n        /**\n         * @cfg {Boolean} clearOnPageLoad True to empty the store when loading another page via {@link #loadPage},\n         * {@link #nextPage} or {@link #previousPage} (defaults to true). Setting to false keeps existing records, allowing\n         * large data sets to be loaded one page at a time but rendered all together.\n         * @accessor\n         */\n        clearOnPageLoad: true,\n\n        modelDefaults: {},\n\n        /**\n         * @cfg {Boolean} autoDestroy This is a private configuration used in the framework whether this Store\n         * can be destroyed.\n         * @private\n         */\n        autoDestroy: false,\n\n        /**\n         * @cfg {Boolean} syncRemovedRecords This configuration allows you to disable the synchronization of\n         * removed records on this Store. By default, when you call removeAll or remove, records will be added\n         * to an internal removed array. When you then sync the Store, we send a destroy request for these records.\n         * If you don't want this to happen, you can set this configuration to false.\n         */\n        syncRemovedRecords: true,\n\n        /**\n         * @cfg {Boolean} destroyRemovedRecords This configuation allows you to prevent destroying record\n         * instances when they are removed from this store and are not in any other store.\n         */\n        destroyRemovedRecords: true\n    },\n\n    /**\n     * @property {Number} currentPage\n     * The page that the Store has most recently loaded (see {@link #loadPage})\n     */\n    currentPage: 1,\n\n    constructor: function(config) {\n        config = config || {};\n\n        this.data = this._data = this.createDataCollection();\n\n        this.data.setSortRoot('data');\n        this.data.setFilterRoot('data');\n\n        this.removed = [];\n\n        if (config.id && !config.storeId) {\n            config.storeId = config.id;\n            delete config.id;\n        }\n\n        if (config.hasOwnProperty('sortOnLoad')) {\n            Ext.Logger.deprecate(\n                '[Ext.data.Store] sortOnLoad is always activated in Sencha Touch 2 so your Store is always fully ' +\n                'sorted after loading. The only expection is if you are using remoteSort and change sorting after ' +\n                'the Store as loaded, in which case you need to call store.load() to fetch the sorted data from the server.'\n            );\n        }\n\n        if (config.hasOwnProperty('filterOnLoad')) {\n            Ext.Logger.deprecate(\n                '[Ext.data.Store] filterOnLoad is always activated in Sencha Touch 2 so your Store is always fully ' +\n                'sorted after loading. The only expection is if you are using remoteFilter and change filtering after ' +\n                'the Store as loaded, in which case you need to call store.load() to fetch the filtered data from the server.'\n            );\n        }\n\n        if (config.hasOwnProperty('sortOnFilter')) {\n            Ext.Logger.deprecate(\n                '[Ext.data.Store] sortOnFilter is deprecated and is always effectively true when sorting and filtering locally'\n            );\n        }\n\n        this.initConfig(config);\n    },\n\n    createDataCollection: function() {\n        return new Ext.util.Collection(function(record) {\n            return record.getId();\n        });\n    },\n\n    applyStoreId: function(storeId) {\n        if (storeId === undefined || storeId === null) {\n            storeId = this.getUniqueId();\n        }\n        return storeId;\n    },\n\n    updateStoreId: function(storeId, oldStoreId) {\n        if (oldStoreId) {\n            Ext.data.StoreManager.unregister(this);\n        }\n        if (storeId) {\n            Ext.data.StoreManager.register(this);\n        }\n    },\n\n    applyModel: function(model) {\n        if (typeof model == 'string') {\n            var registeredModel = Ext.data.ModelManager.getModel(model);\n            if (!registeredModel) {\n                Ext.Logger.error('Model with name \"' + model + '\" does not exist.');\n            }\n            model = registeredModel;\n        }\n\n        if (model && !model.prototype.isModel && Ext.isObject(model)) {\n            model = Ext.data.ModelManager.registerType(model.storeId || model.id || Ext.id(), model);\n        }\n\n        if (!model) {\n            var fields = this.getFields(),\n                data = this.config.data;\n\n            if (!fields && data && data.length) {\n                fields = Ext.Object.getKeys(data[0]);\n            }\n\n            if (fields) {\n                model = Ext.define('Ext.data.Store.ImplicitModel-' + (this.getStoreId() || Ext.id()), {\n                    extend: 'Ext.data.Model',\n                    config: {\n                        fields: fields,\n                        proxy: this.getProxy()\n                    }\n                });\n\n                this.implicitModel = true;\n            }\n        }\n        if (!model && this.getProxy()) {\n            model = this.getProxy().getModel();\n        }\n\n        if (!model) {\n            Ext.Logger.warn('Unless you define your model through metadata, a store needs to have a model defined on either itself or on its proxy');\n        }\n\n        return model;\n    },\n\n    updateModel: function(model) {\n        var proxy = this.getProxy();\n\n        if (proxy && !proxy.getModel()) {\n            proxy.setModel(model);\n        }\n    },\n\n    applyProxy: function(proxy, currentProxy) {\n        proxy = Ext.factory(proxy, Ext.data.Proxy, currentProxy, 'proxy');\n\n        if (!proxy && this.getModel()) {\n            proxy = this.getModel().getProxy();\n        }\n\n        if (!proxy) {\n            proxy = new Ext.data.proxy.Memory({\n                model: this.getModel()\n            });\n        }\n\n        if (proxy.isMemoryProxy) {\n            this.setSyncRemovedRecords(false);\n        }\n\n        return proxy;\n    },\n\n    updateProxy: function(proxy) {\n        if (proxy) {\n            if (!proxy.getModel()) {\n                proxy.setModel(this.getModel());\n            }\n            proxy.on('metachange', this.onMetaChange, this);\n        }\n    },\n\n    /**\n     * We are using applyData so that we can return nothing and prevent the this.data\n     * property to be overridden.\n     * @param data\n     */\n    applyData: function(data) {\n        var me = this,\n            proxy;\n        if (data) {\n            proxy = me.getProxy();\n            if (proxy instanceof Ext.data.proxy.Memory) {\n                proxy.setData(data);\n                me.load();\n            } else {\n                // We make it silent because we don't want to fire a refresh event\n                me.removeAll(true);\n\n                // This means we have to fire a clear event though\n                me.fireEvent('clear', me);\n\n                // We don't want to fire addrecords event since we will be firing\n                // a refresh event later which will already take care of updating\n                // any views bound to this store\n                me.suspendEvents();\n                me.add(data);\n                me.resumeEvents();\n\n                // We set this to true so isAutoLoading to try\n                me.dataLoaded = true;\n            }\n        } else {\n            me.removeAll(true);\n\n            // This means we have to fire a clear event though\n            me.fireEvent('clear', me);\n        }\n\n        me.fireEvent('refresh', me, me.data);\n    },\n\n    clearData: function() {\n        this.setData(null);\n    },\n\n    addData: function(data) {\n        var reader = this.getProxy().getReader(),\n            resultSet = reader.read(data),\n            records = resultSet.getRecords();\n\n        this.add(records);\n    },\n\n    updateAutoLoad: function(autoLoad) {\n        var proxy = this.getProxy();\n        if (autoLoad && (proxy && !proxy.isMemoryProxy)) {\n            this.load(Ext.isObject(autoLoad) ? autoLoad : null);\n        }\n    },\n\n    /**\n     * Returns true if the Store is set to autoLoad or is a type which loads upon instantiation.\n     * @return {Boolean}\n     */\n    isAutoLoading: function() {\n        var proxy = this.getProxy();\n        return (this.getAutoLoad() || (proxy && proxy.isMemoryProxy) || this.dataLoaded);\n    },\n\n    updateGroupField: function(groupField) {\n        var grouper = this.getGrouper();\n        if (groupField) {\n            if (!grouper) {\n                this.setGrouper({\n                    property: groupField,\n                    direction: this.getGroupDir() || 'ASC'\n                });\n            } else {\n                grouper.setProperty(groupField);\n            }\n        } else if (grouper) {\n            this.setGrouper(null);\n        }\n    },\n\n    updateGroupDir: function(groupDir) {\n        var grouper = this.getGrouper();\n        if (grouper) {\n            grouper.setDirection(groupDir);\n        }\n    },\n\n    applyGetGroupString: function(getGroupStringFn) {\n        var grouper = this.getGrouper();\n        if (getGroupStringFn) {\n            Ext.Logger.warn('Specifying getGroupString on a store has been deprecated. Please use grouper: {groupFn: yourFunction}');\n\n            if (grouper) {\n                grouper.setGroupFn(getGroupStringFn);\n            } else {\n                this.setGrouper({\n                    groupFn: getGroupStringFn\n                });\n            }\n        } else if (grouper) {\n            this.setGrouper(null);\n        }\n    },\n\n    applyGrouper: function(grouper) {\n        if (typeof grouper == 'string') {\n            grouper = {\n                property: grouper\n            };\n        }\n        else if (typeof grouper == 'function') {\n            grouper = {\n                groupFn: grouper\n            };\n        }\n\n        grouper = Ext.factory(grouper, Ext.util.Grouper, this.getGrouper());\n        return grouper;\n    },\n\n    updateGrouper: function(grouper, oldGrouper) {\n        var data = this.data;\n        if (oldGrouper) {\n            data.removeSorter(oldGrouper);\n            if (!grouper) {\n                data.getSorters().removeSorter('isGrouper');\n            }\n        }\n        if (grouper) {\n            data.insertSorter(0, grouper);\n            if (!oldGrouper) {\n                data.getSorters().addSorter({\n                    direction: 'DESC',\n                    property: 'isGrouper',\n                    transform: function(value) {\n                        return (value === true) ? 1 : -1;\n                    }\n                });\n            }\n        }\n    },\n\n    /**\n     * This method tells you if this store has a grouper defined on it.\n     * @return {Boolean} true if this store has a grouper defined.\n     */\n    isGrouped: function() {\n        return !!this.getGrouped();\n    },\n\n    updateSorters: function(sorters) {\n        var grouper = this.getGrouper(),\n            data = this.data,\n            autoSort = data.getAutoSort();\n\n        // While we remove/add sorters we don't want to automatically sort because we still need\n        // to apply any field sortTypes as transforms on the Sorters after we have added them.\n        data.setAutoSort(false);\n\n        data.setSorters(sorters);\n        if (grouper) {\n            data.insertSorter(0, grouper);\n        }\n\n        this.updateSortTypes();\n\n        // Now we put back autoSort on the Collection to the value it had before. If it was\n        // auto sorted, setting this back will cause it to sort right away.\n        data.setAutoSort(autoSort);\n    },\n\n    updateSortTypes: function() {\n        var model = this.getModel(),\n            fields = model && model.getFields(),\n            data = this.data;\n\n        // We loop over each sorter and set it's transform method to the every field's sortType.\n        if (fields) {\n            data.getSorters().each(function(sorter) {\n                var property = sorter.getProperty(),\n                    field;\n\n                if (!sorter.isGrouper && property && !sorter.getTransform()) {\n                    field = fields.get(property);\n                    if (field) {\n                        sorter.setTransform(field.getSortType());\n                    }\n                }\n            });\n        }\n    },\n\n    updateFilters: function(filters) {\n        this.data.setFilters(filters);\n    },\n\n    /**\n     * Adds Model instance to the Store. This method accepts either:\n     *\n     * - An array of Model instances or Model configuration objects.\n     * - Any number of Model instance or Model configuration object arguments.\n     *\n     * The new Model instances will be added at the end of the existing collection.\n     *\n     * Sample usage:\n     *\n     *     myStore.add({some: 'data2'}, {some: 'other data2'});\n     *\n     * @param {Ext.data.Model[]/Ext.data.Model...} model An array of Model instances\n     * or Model configuration objects, or variable number of Model instance or config arguments.\n     * @return {Ext.data.Model[]} The model instances that were added\n     */\n    add: function(records) {\n        //accept both a single-argument array of records, or any number of record arguments\n        if (!Ext.isArray(records)) {\n            records = Array.prototype.slice.apply(arguments);\n        }\n\n        return this.insert(this.data.length, records);\n    },\n\n    /**\n     * Inserts Model instances into the Store at the given index and fires the {@link #add} event.\n     * See also <code>{@link #add}</code>.\n     * @param {Number} index The start index at which to insert the passed Records.\n     * @param {Ext.data.Model[]} records An Array of Ext.data.Model objects to add to the cache.\n     */\n    insert: function(index, records) {\n        if (!Ext.isArray(records)) {\n            records = Array.prototype.slice.call(arguments, 1);\n        }\n\n        var me = this,\n            sync = false,\n            data = this.data,\n            ln = records.length,\n            Model = this.getModel(),\n            modelDefaults = me.getModelDefaults(),\n            added = false,\n            i, record;\n\n        records = records.slice();\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            if (!record.isModel) {\n                record = new Model(record);\n            }\n            // If we are adding a record that is already an instance which was still in the\n            // removed array, then we remove it from the removed array\n            else if (this.removed.indexOf(record) != -1) {\n                Ext.Array.remove(this.removed, record);\n            }\n\n            record.set(modelDefaults);\n            record.join(me);\n\n            records[i] = record;\n\n            // If this is a newly created record, then we might want to sync it later\n            sync = sync || (record.phantom === true);\n        }\n\n        // Now we insert all these records in one go to the collection. Saves many function\n        // calls to data.insert. Does however create two loops over the records we are adding.\n        if (records.length === 1) {\n            added = data.insert(index, records[0]);\n            if (added) {\n                added = [added];\n            }\n        } else {\n            added = data.insertAll(index, records);\n        }\n\n        if (added) {\n            me.fireEvent('addrecords', me, added);\n        }\n\n        if (me.getAutoSync() && sync) {\n            me.sync();\n        }\n\n        return records;\n    },\n\n    /**\n     * Removes the given record from the Store, firing the 'removerecords' event passing all the instances that are removed.\n     * @param {Ext.data.Model/Ext.data.Model[]} records Model instance or array of instances to remove\n     */\n    remove: function (records) {\n        if (records.isModel) {\n            records = [records];\n        }\n\n        var me = this,\n            sync = false,\n            i = 0,\n            autoSync = this.getAutoSync(),\n            syncRemovedRecords = me.getSyncRemovedRecords(),\n            destroyRemovedRecords = this.getDestroyRemovedRecords(),\n            ln = records.length,\n            indices = [],\n            removed = [],\n            isPhantom,\n            items = me.data.items,\n            record, index, j;\n\n        for (; i < ln; i++) {\n            record = records[i];\n\n            if (me.data.contains(record)) {\n                isPhantom = (record.phantom === true);\n\n                index = items.indexOf(record);\n                if (index !== -1) {\n                    removed.push(record);\n                    indices.push(index);\n                }\n\n                record.unjoin(me);\n                me.data.remove(record);\n\n                if (destroyRemovedRecords && !syncRemovedRecords && !record.stores.length) {\n                    record.destroy();\n                }\n                else if (!isPhantom && syncRemovedRecords) {\n                    // don't push phantom records onto removed\n                    me.removed.push(record);\n                }\n\n                sync = sync || !isPhantom;\n            }\n        }\n\n        me.fireEvent('removerecords', me, removed, indices);\n\n        if (autoSync && sync) {\n            me.sync();\n        }\n    },\n\n    /**\n     * Removes the model instance at the given index\n     * @param {Number} index The record index\n     */\n    removeAt: function(index) {\n        var record = this.getAt(index);\n\n        if (record) {\n            this.remove(record);\n        }\n    },\n\n    /**\n     * Remove all items from the store.\n     * @param {Boolean} silent Prevent the `clear` event from being fired.\n     */\n    removeAll: function(silent) {\n        if (silent !== true) {\n            this.fireAction('clear', [this], 'doRemoveAll');\n        } else {\n            this.doRemoveAll.call(this, true);\n        }\n    },\n\n    doRemoveAll: function (silent) {\n        var me = this,\n            destroyRemovedRecords = this.getDestroyRemovedRecords(),\n            syncRemovedRecords = this.getSyncRemovedRecords(),\n            records = me.data.all.slice(),\n            ln = records.length,\n            i, record;\n\n        for (i = 0; i < ln; i++) {\n            record = records[i];\n            record.unjoin(me);\n\n            if (destroyRemovedRecords && !syncRemovedRecords && !record.stores.length) {\n                record.destroy();\n            }\n            else if (record.phantom !== true && syncRemovedRecords) {\n                me.removed.push(record);\n            }\n        }\n\n        me.data.clear();\n\n        if (silent !== true) {\n            me.fireEvent('refresh', me, me.data);\n        }\n\n        if (me.getAutoSync()) {\n            this.sync();\n        }\n    },\n\n    /**\n     * Calls the specified function for each of the {@link Ext.data.Model Records} in the cache.\n     * @param {Function} fn The function to call. The {@link Ext.data.Model Record} is passed as the first parameter.\n     * Returning <tt>false</tt> aborts and exits the iteration.\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed.\n     * Defaults to the current {@link Ext.data.Model Record} in the iteration.\n     */\n    each: function(fn, scope) {\n        this.data.each(fn, scope);\n    },\n\n    /**\n     * Gets the number of cached records. Note that filtered records are not included in this count\n     * If using paging, this may not be the total size of the dataset.\n     * @return {Number} The number of Records in the Store's cache.\n     */\n    getCount: function() {\n        return this.data.items.length || 0;\n    },\n\n    /**\n     * Gets the number of all cached records including the ones currently filtered\n     * If using paging, this may not be the total size of the dataset.\n     * @return {Number} The number of all Records in the Store's cache.\n     */\n    getAllCount: function () {\n        return this.data.all.length || 0;\n    },\n\n    /**\n     * Get the Record at the specified index.\n     * @param {Number} index The index of the Record to find.\n     * @return {Ext.data.Model} The Record at the passed index. Returns undefined if not found.\n     */\n    getAt: function(index) {\n        return this.data.getAt(index);\n    },\n\n    /**\n     * Returns a range of Records between specified indices.\n     * @param {Number} startIndex (optional) The starting index (defaults to 0)\n     * @param {Number} endIndex (optional) The ending index (defaults to the last Record in the Store)\n     * @return {Ext.data.Model[]} An array of Records\n     */\n    getRange: function(start, end) {\n        return this.data.getRange(start, end);\n    },\n\n    /**\n     * Get the Record with the specified id.\n     * @param {String} id The id of the Record to find.\n     * @return {Ext.data.Model} The Record with the passed id. Returns undefined if not found.\n     */\n    getById: function(id) {\n        return this.data.findBy(function(record) {\n            return record.getId() == id;\n        });\n    },\n\n    /**\n     * Get the index within the cache of the passed Record.\n     * @param {Ext.data.Model} record The Ext.data.Model object to find.\n     * @return {Number} The index of the passed Record. Returns -1 if not found.\n     */\n    indexOf: function(record) {\n        return this.data.indexOf(record);\n    },\n\n    /**\n     * Get the index within the cache of the Record with the passed id.\n     * @param {String} id The id of the Record to find.\n     * @return {Number} The index of the Record. Returns -1 if not found.\n     */\n    indexOfId: function(id) {\n        return this.data.indexOfKey(id);\n    },\n\n    /**\n     * @private\n     * A model instance should call this method on the Store it has been {@link Ext.data.Model#join joined} to.\n     * @param {Ext.data.Model} record The model instance that was edited\n     * @param {String[]} modifiedFieldNames Array of field names changed during edit.\n     */\n    afterEdit: function(record, modifiedFieldNames, modified) {\n        var me = this,\n            data = me.data,\n            currentId = modified[record.getIdProperty()] || record.getId(),\n            currentIndex = data.keys.indexOf(currentId),\n            newIndex;\n\n        if (currentIndex === -1 && data.map[currentId] === undefined) {\n            return;\n        }\n\n        if (me.getAutoSync()) {\n            me.sync();\n        }\n\n        if (currentId !== record.getId()) {\n            data.replace(currentId, record);\n        } else {\n            data.replace(record);\n        }\n\n        newIndex = data.indexOf(record);\n        if (currentIndex === -1 && newIndex !== -1) {\n            me.fireEvent('addrecords', me, [record]);\n        }\n        else if (currentIndex !== -1 && newIndex === -1) {\n            me.fireEvent('removerecords', me, [record], [currentIndex]);\n        }\n        else if (newIndex !== -1) {\n            me.fireEvent('updaterecord', me, record, newIndex, currentIndex, modifiedFieldNames, modified);\n        }\n    },\n\n    /**\n     * @private\n     * A model instance should call this method on the Store it has been {@link Ext.data.Model#join joined} to..\n     * @param {Ext.data.Model} record The model instance that was edited\n     */\n    afterReject: function(record) {\n        var index = this.data.indexOf(record);\n        this.fireEvent('updaterecord', this, record, index, index, [], {});\n    },\n\n    /**\n     * @private\n     * A model instance should call this method on the Store it has been {@link Ext.data.Model#join joined} to.\n     * @param {Ext.data.Model} record The model instance that was edited\n     */\n    afterCommit: function(record, modifiedFieldNames, modified) {\n        var me = this,\n            data = me.data,\n            currentId = modified[record.getIdProperty()] || record.getId(),\n            currentIndex = data.keys.indexOf(currentId),\n            newIndex;\n\n        if (currentIndex === -1 && data.map[currentId] === undefined) {\n            return;\n        }\n\n        if (currentId !== record.getId()) {\n            data.replace(currentId, record);\n        } else {\n            data.replace(record);\n        }\n\n        newIndex = data.indexOf(record);\n        if (currentIndex === -1 && newIndex !== -1) {\n            me.fireEvent('addrecords', me, [record]);\n        }\n        else if (currentIndex !== -1 && newIndex === -1) {\n            me.fireEvent('removerecords', me, [record], [currentIndex]);\n        }\n        else if (newIndex !== -1) {\n            me.fireEvent('updaterecord', me, record, newIndex, currentIndex, modifiedFieldNames, modified);\n        }\n    },\n\n    /**\n     * This gets called by a record after is gets erased from the server.\n     * @param record\n     * @private\n     */\n    afterErase: function(record) {\n        var me = this,\n            data = me.data,\n            index = data.indexOf(record);\n\n        if (index !== -1) {\n            data.remove(record);\n            me.fireEvent('removerecords', me, [record], [index]);\n        }\n    },\n\n    updateRemoteFilter: function(remoteFilter) {\n        this.data.setAutoFilter(!remoteFilter);\n    },\n\n    updateRemoteSort: function(remoteSort) {\n        this.data.setAutoSort(!remoteSort);\n    },\n\n    /**\n     * Sorts the data in the Store by one or more of its properties. Example usage:\n     *\n     *     // sort by a single field\n     *     myStore.sort('myField', 'DESC');\n     *\n     *     // sorting by multiple fields\n     *     myStore.sort([\n     *         {\n     *             property : 'age',\n     *             direction: 'ASC'\n     *         },\n     *         {\n     *             property : 'name',\n     *             direction: 'DESC'\n     *         }\n     *     ]);\n     *\n     * Internally, Store converts the passed arguments into an array of {@link Ext.util.Sorter} instances, and delegates\n     * the actual sorting to its internal {@link Ext.util.Collection}.\n     *\n     * When passing a single string argument to sort, Store maintains a ASC/DESC toggler per field, so this code:\n     *\n     *     store.sort('myField');\n     *     store.sort('myField');\n     *\n     * is equivalent to this code:\n     *\n     *     store.sort('myField', 'ASC');\n     *     store.sort('myField', 'DESC');\n     *\n     * because Store handles the toggling automatically.\n     *\n     * If the {@link #remoteSort} configuration has been set to true, you will have to manually call the {@link #method-load}\n     * method after you sort to retrieve the sorted data from the server.\n     *\n     * @param {String/Ext.util.Sorter[]} sorters Either a string name of one of the fields in this Store's configured\n     * {@link Ext.data.Model Model}, or an array of sorter configurations.\n     * @param {String} defaultDirection The default overall direction to sort the data by. Defaults to \"ASC\".\n     * @param {String} where (Optional) This can be either 'prepend' or 'append'. If you leave this undefined\n     * it will clear the current sorters.\n     */\n    sort: function(sorters, defaultDirection, where) {\n        var data = this.data,\n            grouper = this.getGrouper(),\n            autoSort = data.getAutoSort();\n\n        if (sorters) {\n            // While we are adding sorters we dont want to sort right away\n            // since we need to update sortTypes on the sorters.\n            data.setAutoSort(false);\n            if (typeof where === 'string') {\n                if (where == 'prepend') {\n                    data.insertSorters(grouper ? 1 : 0, sorters, defaultDirection);\n                } else {\n                    data.addSorters(sorters, defaultDirection);\n                }\n            } else {\n                data.setSorters(null);\n                if (grouper) {\n                    data.addSorters(grouper);\n                }\n                data.addSorters(sorters, defaultDirection);\n            }\n            this.updateSortTypes();\n            // Setting back autoSort to true (if it was like that before) will\n            // instantly sort the data again.\n            data.setAutoSort(autoSort);\n        }\n\n        if (!this.getRemoteSort()) {\n            // If we havent added any new sorters we have to manually call sort\n            if (!sorters) {\n                this.data.sort();\n            }\n\n            this.fireEvent('sort', this, this.data, this.data.getSorters());\n            if (data.length) {\n                this.fireEvent('refresh', this, this.data);\n            }\n        }\n    },\n\n    /**\n     * Filters the loaded set of records by a given set of filters.\n     *\n     * Filtering by single field:\n     *\n     *     store.filter(\"email\", /\\.com$/);\n     *\n     * Using multiple filters:\n     *\n     *     store.filter([\n     *         {property: \"email\", value: /\\.com$/},\n     *         {filterFn: function(item) { return item.get(\"age\") > 10; }}\n     *     ]);\n     *\n     * Using Ext.util.Filter instances instead of config objects\n     * (note that we need to specify the {@link Ext.util.Filter#root root} config option in this case):\n     *\n     *     store.filter([\n     *         Ext.create('Ext.util.Filter', {property: \"email\", value: /\\.com$/, root: 'data'}),\n     *         Ext.create('Ext.util.Filter', {filterFn: function(item) { return item.get(\"age\") > 10; }, root: 'data'})\n     *     ]);\n     *\n     * If the {@link #remoteFilter} configuration has been set to true, you will have to manually call the {@link #method-load}\n     * method after you filter to retrieve the filtered data from the server.\n     *\n     * @param {Object[]/Ext.util.Filter[]/String} filters The set of filters to apply to the data.\n     * These are stored internally on the store, but the filtering itself is done on the Store's\n     * {@link Ext.util.MixedCollection MixedCollection}. See MixedCollection's\n     * {@link Ext.util.MixedCollection#filter filter} method for filter syntax.\n     * Alternatively, pass in a property string.\n     * @param {String} [value] value to filter by (only if using a property string as the first argument).\n     * @param {Boolean} [anyMatch=false] True to allow any match, false to anchor regex beginning with `^`.\n     * @param {Boolean} [caseSensitive=false] True to make the filtering regex case sensitive.\n     */\n    filter: function(property, value, anyMatch, caseSensitive) {\n        var data = this.data,\n            filter = property ? ((Ext.isFunction(property) || property.isFilter) ? property : {\n                property     : property,\n                value        : value,\n                anyMatch     : anyMatch,\n                caseSensitive: caseSensitive,\n                // By setting the id we ensure there is only one filter active\n                // at a time for this property.\n                id           : property\n            }) : null;\n\n        if (this.getRemoteFilter()) {\n            if (property) {\n                if (Ext.isString(property)) {\n                    data.addFilters(filter);\n                }\n                else if (Ext.isArray(property) || property.isFilter) {\n                    data.addFilters(property);\n                }\n            }\n        } else {\n            data.filter(filter);\n            this.fireEvent('filter', this, data, data.getFilters());\n            this.fireEvent('refresh', this, data);\n        }\n    },\n\n    /**\n     * Filter by a function. The specified function will be called for each\n     * Record in this Store. If the function returns <tt>true</tt> the Record is included,\n     * otherwise it is filtered out.\n     * @param {Function} fn The function to be called. It will be passed the following parameters:<ul>\n     * <li><b>record</b> : Ext.data.Model<p class=\"sub-desc\">The {@link Ext.data.Model record}\n     * to test for filtering. Access field values using {@link Ext.data.Model#get}.</p></li>\n     * <li><b>id</b> : Object<p class=\"sub-desc\">The ID of the Record passed.</p></li>\n     * </ul>\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to this Store.\n     */\n    filterBy: function(fn, scope) {\n        var me = this,\n            data = me.data,\n            ln = data.length;\n\n        data.filter({\n            filterFn: fn,\n            scope: scope\n        });\n\n        this.fireEvent('filter', this, data, data.getFilters());\n\n        if (data.length !== ln) {\n            this.fireEvent('refresh', this, data);\n        }\n    },\n\n    /**\n     * Query the cached records in this Store using a filtering function. The specified function\n     * will be called with each record in this Store. If the function returns <tt>true</tt> the record is\n     * included in the results.\n     * @param {Function} fn The function to be called. It will be passed the following parameters:<ul>\n     * <li><b>record</b> : Ext.data.Model<p class=\"sub-desc\">The {@link Ext.data.Model record}\n     * to test for filtering. Access field values using {@link Ext.data.Model#get}.</p></li>\n     * <li><b>id</b> : Object<p class=\"sub-desc\">The ID of the Record passed.</p></li>\n     * </ul>\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to this Store.\n     * @return {Ext.util.MixedCollection} Returns an Ext.util.MixedCollection of the matched records\n     **/\n    queryBy: function(fn, scope) {\n        return this.data.filterBy(fn, scope || this);\n    },\n\n    /**\n     * Reverts to a view of the Record cache with no filtering applied.\n     * @param {Boolean} [suppressEvent=false] True to clear silently without firing the `refresh` event.\n     */\n    clearFilter: function(suppressEvent) {\n        var ln = this.data.length;\n        if (suppressEvent) {\n            this.suspendEvents();\n        }\n        this.data.setFilters(null);\n        if (suppressEvent) {\n            this.resumeEvents();\n        } else if (ln !== this.data.length) {\n            this.fireEvent('refresh', this, this.data);\n        }\n    },\n\n    /**\n     * Returns true if this store is currently filtered\n     * @return {Boolean}\n     */\n    isFiltered: function() {\n        return this.data.filtered;\n    },\n\n    getSorters: function() {\n        var sorters = this.data.getSorters();\n        return (sorters) ? sorters.items : [];\n    },\n\n    getFilters: function() {\n        var filters = this.data.getFilters();\n        return (filters) ? filters.items : [];\n    },\n\n    /**\n     * Returns an array containing the result of applying the grouper to the records in this store. See {@link #groupField},\n     * {@link #groupDir} and {@link #grouper}. Example for a store containing records with a color field:\n     *\n     *     var myStore = Ext.create('Ext.data.Store', {\n     *         groupField: 'color',\n     *         groupDir  : 'DESC'\n     *     });\n     *\n     *     myStore.getGroups(); //returns:\n     *     [\n     *        {\n     *            name: 'yellow',\n     *            children: [\n     *                //all records where the color field is 'yellow'\n     *            ]\n     *        },\n     *        {\n     *            name: 'red',\n     *            children: [\n     *                //all records where the color field is 'red'\n     *            ]\n     *        }\n     *     ]\n     *\n     * @param {String} groupName (Optional) Pass in an optional groupName argument to access a specific group as defined by {@link #grouper}\n     * @return {Object/Object[]} The grouped data\n     */\n    getGroups: function(requestGroupString) {\n        var records = this.data.items,\n            length = records.length,\n            grouper = this.getGrouper(),\n            groups = [],\n            pointers = {},\n            record,\n            groupStr,\n            group,\n            i;\n\n        if (!grouper) {\n            Ext.Logger.error('Trying to get groups for a store that has no grouper');\n        }\n\n        for (i = 0; i < length; i++) {\n            record = records[i];\n            groupStr = grouper.getGroupString(record);\n            group = pointers[groupStr];\n\n            if (group === undefined) {\n                group = {\n                    name: groupStr,\n                    children: []\n                };\n\n                groups.push(group);\n                pointers[groupStr] = group;\n            }\n\n            group.children.push(record);\n        }\n\n        return requestGroupString ? pointers[requestGroupString] : groups;\n    },\n\n    getGroupString: function(record) {\n        var grouper = this.getGrouper();\n        if (grouper) {\n            return grouper.getGroupString(record);\n        }\n        return null;\n    },\n\n    /**\n     * Finds the index of the first matching Record in this store by a specific field value.\n     * @param {String} fieldName The name of the Record field to test.\n     * @param {String/RegExp} value Either a string that the field value\n     * should begin with, or a RegExp to test against the field.\n     * @param {Number} startIndex (optional) The index to start searching at\n     * @param {Boolean} anyMatch (optional) True to match any part of the string, not just the beginning\n     * @param {Boolean} caseSensitive (optional) True for case sensitive comparison\n     * @param {Boolean} exactMatch (optional) True to force exact match (^ and $ characters added to the regex). Defaults to false.\n     * @return {Number} The matched index or -1\n     */\n    find: function(fieldName, value, startIndex, anyMatch, caseSensitive, exactMatch) {\n        var filter = Ext.create('Ext.util.Filter', {\n            property: fieldName,\n            value: value,\n            anyMatch: anyMatch,\n            caseSensitive: caseSensitive,\n            exactMatch: exactMatch,\n            root: 'data'\n        });\n        return this.data.findIndexBy(filter.getFilterFn(), null, startIndex);\n    },\n\n    /**\n     * Finds the first matching Record in this store by a specific field value.\n     * @param {String} fieldName The name of the Record field to test.\n     * @param {String/RegExp} value Either a string that the field value\n     * should begin with, or a RegExp to test against the field.\n     * @param {Number} startIndex (optional) The index to start searching at\n     * @param {Boolean} anyMatch (optional) True to match any part of the string, not just the beginning\n     * @param {Boolean} caseSensitive (optional) True for case sensitive comparison\n     * @param {Boolean} exactMatch (optional) True to force exact match (^ and $ characters added to the regex). Defaults to false.\n     * @return {Ext.data.Model} The matched record or null\n     */\n    findRecord: function() {\n        var me = this,\n            index = me.find.apply(me, arguments);\n        return index !== -1 ? me.getAt(index) : null;\n    },\n\n    /**\n     * Finds the index of the first matching Record in this store by a specific field value.\n     * @param {String} fieldName The name of the Record field to test.\n     * @param {Object} value The value to match the field against.\n     * @param {Number} startIndex (optional) The index to start searching at\n     * @return {Number} The matched index or -1\n     */\n    findExact: function(fieldName, value, startIndex) {\n        return this.data.findIndexBy(function(record) {\n            return record.get(fieldName) === value;\n        }, this, startIndex);\n    },\n\n    /**\n     * Find the index of the first matching Record in this Store by a function.\n     * If the function returns <tt>true</tt> it is considered a match.\n     * @param {Function} fn The function to be called. It will be passed the following parameters:<ul>\n     * <li><b>record</b> : Ext.data.Model<p class=\"sub-desc\">The {@link Ext.data.Model record}\n     * to test for filtering. Access field values using {@link Ext.data.Model#get}.</p></li>\n     * <li><b>id</b> : Object<p class=\"sub-desc\">The ID of the Record passed.</p></li>\n     * </ul>\n     * @param {Object} scope (optional) The scope (<code>this</code> reference) in which the function is executed. Defaults to this Store.\n     * @param {Number} startIndex (optional) The index to start searching at\n     * @return {Number} The matched index or -1\n     */\n    findBy: function(fn, scope, startIndex) {\n        return this.data.findIndexBy(fn, scope, startIndex);\n    },\n\n    /**\n     * Loads data into the Store via the configured {@link #proxy}. This uses the Proxy to make an\n     * asynchronous call to whatever storage backend the Proxy uses, automatically adding the retrieved\n     * instances into the Store and calling an optional callback if required. Example usage:\n     *\n     *     store.load({\n     *         callback: function(records, operation, success) {\n     *             // the {@link Ext.data.Operation operation} object contains all of the details of the load operation\n     *             console.log(records);\n     *         },\n     *         scope: this\n     *     });\n     *\n     * If only the callback and scope options need to be specified, then one can call it simply like so:\n     *\n     *     store.load(function(records, operation, success) {\n     *         console.log('loaded records');\n     *     }, this);\n     *\n     * @param {Object/Function} [options] config object, passed into the Ext.data.Operation object before loading.\n     * @param {Object} [scope] Scope for the function.\n     */\n    load: function(options, scope) {\n        var me = this,\n            operation,\n            currentPage = me.currentPage,\n            pageSize = me.getPageSize();\n\n        options = options || {};\n\n        if (Ext.isFunction(options)) {\n            options = {\n                callback: options,\n                scope: scope || this\n            };\n        }\n\n        if (me.getRemoteSort()) {\n            options.sorters = options.sorters || this.getSorters();\n        }\n\n        if (me.getRemoteFilter()) {\n            options.filters = options.filters || this.getFilters();\n        }\n\n        if (me.getRemoteGroup()) {\n            options.grouper = options.grouper || this.getGrouper();\n        }\n\n        Ext.applyIf(options, {\n            page: currentPage,\n            start: (currentPage - 1) * pageSize,\n            limit: pageSize,\n            addRecords: false,\n            action: 'read',\n            model: this.getModel()\n        });\n\n        operation = Ext.create('Ext.data.Operation', options);\n\n        if (me.fireEvent('beforeload', me, operation) !== false) {\n            me.loading = true;\n            me.getProxy().read(operation, me.onProxyLoad, me);\n        }\n\n        return me;\n    },\n\n    /**\n     * Returns true if the Store is currently performing a load operation\n     * @return {Boolean} True if the Store is currently loading\n     */\n    isLoading: function() {\n        return Boolean(this.loading);\n    },\n\n    /**\n     * Returns true if the Store has been loaded.\n     * @return {Boolean} True if the Store has been loaded\n     */\n    isLoaded: function() {\n        return Boolean(this.loaded);\n    },\n\n    /**\n     * Synchronizes the Store with its Proxy. This asks the Proxy to batch together any new, updated\n     * and deleted records in the store, updating the Store's internal representation of the records\n     * as each operation completes.\n     */\n    sync: function() {\n        var me = this,\n            operations = {},\n            toCreate = me.getNewRecords(),\n            toUpdate = me.getUpdatedRecords(),\n            toDestroy = me.getRemovedRecords(),\n            needsSync = false;\n\n        if (toCreate.length > 0) {\n            operations.create = toCreate;\n            needsSync = true;\n        }\n\n        if (toUpdate.length > 0) {\n            operations.update = toUpdate;\n            needsSync = true;\n        }\n\n        if (toDestroy.length > 0) {\n            operations.destroy = toDestroy;\n            needsSync = true;\n        }\n\n        if (needsSync && me.fireEvent('beforesync', this, operations) !== false) {\n            me.getProxy().batch({\n                operations: operations,\n                listeners: me.getBatchListeners()\n            });\n        }\n\n        return {\n            added: toCreate,\n            updated: toUpdate,\n            removed: toDestroy\n        };\n    },\n\n    /**\n     * Convenience function for getting the first model instance in the store\n     * @return {Ext.data.Model/undefined} The first model instance in the store, or undefined\n     */\n    first: function() {\n        return this.data.first();\n    },\n\n    /**\n     * Convenience function for getting the last model instance in the store\n     * @return {Ext.data.Model/undefined} The last model instance in the store, or undefined\n     */\n    last: function() {\n        return this.data.last();\n    },\n\n    /**\n     * Sums the value of <tt>property</tt> for each {@link Ext.data.Model record} between <tt>start</tt>\n     * and <tt>end</tt> and returns the result.\n     * @param {String} field The field in each record\n     * @return {Number} The sum\n     */\n    sum: function(field) {\n        var total = 0,\n            i = 0,\n            records = this.data.items,\n            len = records.length;\n\n        for (; i < len; ++i) {\n            total += records[i].get(field);\n        }\n\n        return total;\n    },\n\n    /**\n     * Gets the minimum value in the store.\n     * @param {String} field The field in each record\n     * @return {Object} The minimum value, if no items exist, undefined.\n     */\n    min: function(field) {\n        var i = 1,\n            records = this.data.items,\n            len = records.length,\n            value, min;\n\n        if (len > 0) {\n            min = records[0].get(field);\n        }\n\n        for (; i < len; ++i) {\n            value = records[i].get(field);\n            if (value < min) {\n                min = value;\n            }\n        }\n        return min;\n    },\n\n    /**\n     * Gets the maximum value in the store.\n     * @param {String} field The field in each record\n     * @return {Object} The maximum value, if no items exist, undefined.\n     */\n    max: function(field) {\n        var i = 1,\n            records = this.data.items,\n            len = records.length,\n            value,\n            max;\n\n        if (len > 0) {\n            max = records[0].get(field);\n        }\n\n        for (; i < len; ++i) {\n            value = records[i].get(field);\n            if (value > max) {\n                max = value;\n            }\n        }\n        return max;\n    },\n\n    /**\n     * Gets the average value in the store.\n     * @param {String} field The field in each record you want to get the average for.\n     * @return {Object} The average value, if no items exist, 0.\n     */\n    average: function(field) {\n        var i = 0,\n            records = this.data.items,\n            len = records.length,\n            sum = 0;\n\n        if (records.length > 0) {\n            for (; i < len; ++i) {\n                sum += records[i].get(field);\n            }\n            return sum / len;\n        }\n        return 0;\n    },\n\n    /**\n     * @private\n     * Returns an object which is passed in as the listeners argument to proxy.batch inside this.sync.\n     * This is broken out into a separate function to allow for customisation of the listeners\n     * @return {Object} The listeners object\n     */\n    getBatchListeners: function() {\n        return {\n            scope: this,\n            exception: this.onBatchException,\n            complete: this.onBatchComplete\n        };\n    },\n\n    /**\n     * @private\n     * Attached as the 'complete' event listener to a proxy's Batch object. Iterates over the batch operations\n     * and updates the Store's internal data MixedCollection.\n     */\n    onBatchComplete: function(batch) {\n        var me = this,\n            operations = batch.operations,\n            length = operations.length,\n            i;\n\n        for (i = 0; i < length; i++) {\n            me.onProxyWrite(operations[i]);\n        }\n    },\n\n    onBatchException: function(batch, operation) {\n        // //decide what to do... could continue with the next operation\n        // batch.start();\n        //\n        // //or retry the last operation\n        // batch.retry();\n    },\n\n    /**\n     * @private\n     * Called internally when a Proxy has completed a load request\n     */\n    onProxyLoad: function(operation) {\n        var me = this,\n            records = operation.getRecords(),\n            resultSet = operation.getResultSet(),\n            successful = operation.wasSuccessful();\n\n        if (resultSet) {\n            me.setTotalCount(resultSet.getTotal());\n        }\n\n        if (successful) {\n            this.fireAction('datarefresh', [this, this.data, operation], 'doDataRefresh');\n        }\n\n        me.loaded = true;\n        me.loading = false;\n        me.fireEvent('load', this, records, successful, operation);\n\n        //this is a callback that would have been passed to the 'read' function and is optional\n        Ext.callback(operation.getCallback(), operation.getScope() || me, [records, operation, successful]);\n    },\n\n    doDataRefresh: function(store, data, operation) {\n        var records = operation.getRecords(),\n            me = this,\n            destroyRemovedRecords = me.getDestroyRemovedRecords(),\n            syncRemovedRecords = me.getSyncRemovedRecords(),\n            currentRecords = data.all.slice(),\n            removed = me.removed,\n            ln = currentRecords.length,\n            i, record;\n\n        if (operation.getAddRecords() !== true) {\n            for (i = 0; i < ln; i++) {\n                record = currentRecords[i];\n                record.unjoin(me);\n\n                // If the record we are removing is not part of the records we are about to add to the store then handle\n                // the destroying or removing of the record to avoid memory leaks.\n                if (records.indexOf(record) === -1) {\n                    if (syncRemovedRecords && record.phantom !== true) {\n                        removed.push(record);\n                    }\n                    else if (destroyRemovedRecords && !syncRemovedRecords && !record.stores.length) {\n                        record.destroy();\n                    }\n                }\n            }\n            data.clear();\n            // This means we have to fire a clear event though\n            me.fireEvent('clear', me);\n        }\n\n        if (records && records.length) {\n            // Now lets add the records without firing an addrecords event\n            me.suspendEvents();\n            me.add(records);\n            me.resumeEvents();\n        }\n\n        me.fireEvent('refresh', me, data);\n    },\n\n    /**\n     * @private\n     * Callback for any write Operation over the Proxy. Updates the Store's MixedCollection to reflect\n     * the updates provided by the Proxy\n     */\n    onProxyWrite: function(operation) {\n        var me = this,\n            success = operation.wasSuccessful(),\n            records = operation.getRecords();\n\n        switch (operation.getAction()) {\n            case 'create':\n                me.onCreateRecords(records, operation, success);\n                break;\n            case 'update':\n                me.onUpdateRecords(records, operation, success);\n                break;\n            case 'destroy':\n                me.onDestroyRecords(records, operation, success);\n                break;\n        }\n\n        if (success) {\n            me.fireEvent('write', me, operation);\n        }\n        //this is a callback that would have been passed to the 'create', 'update' or 'destroy' function and is optional\n        Ext.callback(operation.getCallback(), operation.getScope() || me, [records, operation, success]);\n    },\n\n    // These methods are now just template methods since updating the records etc is all taken care of\n    // by the operation itself.\n    onCreateRecords: function(records, operation, success) {},\n    onUpdateRecords: function(records, operation, success) {},\n\n    onDestroyRecords: function(records, operation, success) {\n        this.removed = [];\n    },\n\n    onMetaChange: function(data) {\n        var model = this.getProxy().getModel();\n        if (!this.getModel() && model) {\n            this.setModel(model);\n        }\n\n        /**\n         * @event metachange\n         * Fires whenever the server has sent back new metadata to reconfigure the Reader.\n         * @param {Ext.data.Store} this\n         * @param {Object} data The metadata sent back from the server\n         */\n        this.fireEvent('metachange', this, data);\n    },\n\n    /**\n     * Returns all Model instances that are either currently a phantom (e.g. have no id), or have an ID but have not\n     * yet been saved on this Store (this happens when adding a non-phantom record from another Store into this one).\n     * @return {Ext.data.Model[]} The Model instances.\n     */\n    getNewRecords: function() {\n        return this.data.filterBy(function(item) {\n            // only want phantom records that are valid\n            return item.phantom === true && item.isValid();\n        }).items;\n    },\n\n    /**\n     * Returns all Model instances that have been updated in the Store but not yet synchronized with the Proxy.\n     * @return {Ext.data.Model[]} The updated Model instances.\n     */\n    getUpdatedRecords: function() {\n        return this.data.filterBy(function(item) {\n            // only want dirty records, not phantoms that are valid\n            return item.dirty === true && item.phantom !== true && item.isValid();\n        }).items;\n    },\n\n    /**\n     * Returns any records that have been removed from the store but not yet destroyed on the proxy.\n     * @return {Ext.data.Model[]} The removed Model instances\n     */\n    getRemovedRecords: function() {\n        return this.removed;\n    },\n\n    // PAGING METHODS\n    /**\n     * Loads a given 'page' of data by setting the start and limit values appropriately. Internally this just causes a normal\n     * load operation, passing in calculated 'start' and 'limit' params\n     * @param {Number} page The number of the page to load\n     * @param {Object} options See options for {@link #method-load}\n     */\n    loadPage: function(page, options, scope) {\n        if (typeof options === 'function') {\n            options = {\n                callback: options,\n                scope: scope || this\n            };\n\n        }\n        var me = this,\n            pageSize = me.getPageSize(),\n            clearOnPageLoad = me.getClearOnPageLoad();\n\n        options = Ext.apply({}, options);\n\n        me.currentPage = page;\n\n        me.load(Ext.applyIf(options, {\n            page: page,\n            start: (page - 1) * pageSize,\n            limit: pageSize,\n            addRecords: !clearOnPageLoad\n        }));\n    },\n\n    /**\n     * Loads the next 'page' in the current data set\n     * @param {Object} options See options for {@link #method-load}\n     */\n    nextPage: function(options) {\n        this.loadPage(this.currentPage + 1, options);\n    },\n\n    /**\n     * Loads the previous 'page' in the current data set\n     * @param {Object} options See options for {@link #method-load}\n     */\n    previousPage: function(options) {\n        this.loadPage(this.currentPage - 1, options);\n    }\n\n    ,onClassExtended: function(cls, data) {\n        var prototype = this.prototype,\n            defaultConfig = prototype.config,\n            config = data.config || {},\n            key;\n\n        // Convert deprecated properties in application into a config object\n        for (key in defaultConfig) {\n            if (key != \"control\" && key in data) {\n                config[key] = data[key];\n                delete data[key];\n                Ext.Logger.deprecate(key + ' is deprecated as a property directly on the ' + this.$className +\n                    ' prototype. Please put it inside the config object.');\n            }\n        }\n\n        data.config = config;\n    }\n}, function() {\n    /**\n     * Loads an array of data straight into the Store\n     * @param {Ext.data.Model[]/Object[]} data Array of data to load. Any non-model instances will be cast into model instances first\n     * @param {Boolean} append True to add the records to the existing records in the store, false to remove the old ones first\n     * @deprecated 2.0 Please use #add or #setData instead.\n     * @method loadData\n     */\n    this.override({\n        loadData: function(data, append) {\n            Ext.Logger.deprecate(\"loadData is deprecated, please use either add or setData\");\n            if (append) {\n                this.add(data);\n            } else {\n                this.setData(data);\n            }\n        },\n\n        //@private\n        doAddListener: function(name, fn, scope, options, order) {\n            switch(name) {\n                case 'update':\n                    Ext.Logger.warn('The update event on Store has been removed. Please use the updaterecord event from now on.');\n                    return this;\n                case 'add':\n                    Ext.Logger.warn('The add event on Store has been removed. Please use the addrecords event from now on.');\n                    return this;\n                case 'remove':\n                    Ext.Logger.warn('The remove event on Store has been removed. Please use the removerecords event from now on.');\n                    return this;\n                case 'datachanged':\n                    Ext.Logger.warn('The datachanged event on Store has been removed. Please use the refresh event from now on.');\n                    return this;\n                break;\n            }\n\n            return this.callParent(arguments);\n        }\n    });\n\n    /**\n     * @member Ext.data.Store\n     * @method loadRecords\n     * @inheritdoc Ext.data.Store#add\n     * @deprecated 2.0.0 Please use {@link #add} instead.\n     */\n    Ext.deprecateMethod(this, 'loadRecords', 'add', \"Ext.data.Store#loadRecords has been deprecated. Please use the add method.\");\n\n});\n\nExt.define(\"B2B.store.Activities_Ajax\", {\n    extend: \"Ext.data.Store\",\n    id: \"Activities_Ajax\",\n    config: {\n        model: \"B2B.model.Activity\",\n        proxy: {\n            type:'ajax',\n            url:'json/mock_activitylist.json',\n            //type:'jsonp',\n            //url:'http://localhost:8080/birrettaservice/rest/bserv/listMyActivity_jsonp',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            },\n            extraParams:{\n                id_user:'user-5'\n            }\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Activities Store Callback\");\n            },\n            load:function(el,records, successful){\n                HH.log(\"* Loaded: Activities_Ajax, copying to Local\");\n                var store_local = Ext.getStore('Activities_Local');\n\n                /* Copying to Localstorage */\n                store_local.removeAll();\n                store_local.getProxy().clear();\n                this.each(function(record) {\n                    store_local.add(record.data);\n                });\n                store_local.sync();\n                this.removeAll();\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Beers_Ajax\", {\n    extend: \"Ext.data.Store\",\n    requires: \"Ext.data.proxy.JsonP\",\n    id: \"Beers_Ajax\",\n    config: {\n        model: \"B2B.model.Beer\",\n        proxy: {\n            // Mock for Development \n            type:'ajax',\n            url:'json/mock_beerlist.json',\n            //type:'jsonp',\n            //url:'http://localhost:8080/birrettaservice/rest/bserv/listBeer_jsonp',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            }\n        },\n        autoLoad: true,\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Beers Store Callback\");\n            },\n            load:function(el,records, successful){ \n                HH.log(\"* Loaded: Store.Beer_Ajax\");\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Friends_Ajax\", {\n    extend: \"Ext.data.Store\",\n    id: \"Friends_Ajax\",\n    config: {\n        model: \"B2B.model.Friend\",\n        sorters: 'displayName',\n        proxy: {\n            type:'ajax',\n            url:'json/mock_friendlist.json',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            },\n            extraParams:{\n                username: 'test'\n            }\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                HH.log(\"Friends Store Callback\");\n            },\n            load:function(el,records, successful){ \n                HH.log(\"* Loaded: Store.Friends_Ajax, copying to Local\");\n                var store_local = Ext.getStore('Friends_Local');\n\n                /* Copying to localstorage */\n                store_local.removeAll();\n                store_local.getProxy().clear();\n                this.each(function(record) {\n                    store_local.add(record.data);\n                });\n                store_local.sync();\n                this.removeAll();\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Profile_Ajax\", {\n	extend: \"Ext.data.Store\",\n	id:\"Profile_Ajax\",\n	config: {\n		model: \"B2B.model.User\",\n		proxy:{\n			type:'ajax',\n			url:'json/mock_user.json',\n			reader:{\n				type:'json',\n				rootProperty: 'response.body.list',\n				successProperty: 'response.status.success',\n				totalProperty: 'response.status.count',\n				messageProperty: 'response.status.msg'\n			},\n		},\n		autoload: false,\n		listeners: {\n			exception:function(proxy, response, orientation){\n					console.error('Failure Notification', response.responseText);\n					goingTo.step3(\"Nevermind We will use the LS\");\n			},\n			load: function(el,records, successful){\n				HH.log(\"* Loaded: Store.Profile_Ajax, copying to Local\");\n\n				var store_local = Ext.getStore('Profile_Local'),\n					toBeer = false,\n					toFriend = false,\n					toNotify = false;\n\n				/* has something changed? Then we flag to load the whole resxs */\n				if(store_local.getCount > 0){\n					localJSON  = store_local.first().data;\n					remoteJSON = el.first().data;\n					HH.log(\"---> Step: Calculating if other Stores need refresh\");\n					toBeer = (localJSON.hash_beerlist !== remoteJSON.hash_beerlist);\n					toFriend = (localJSON.hash_friendlist !== remoteJSON.hash_friendlist);\n					toNotify = (localJSON.hash_notificationlist !== remoteJSON.hash_notificationlist);\n				}\n\n				/* We copy from memory to localstorage */\n				store_local.removeAll();\n				store_local.getProxy().clear();\n				this.each(function(record) {\n					store_local.add(record.data);\n				});\n				store_local.sync();\n				this.removeAll();\n\n				/* see resources/js/hh */\n				goingTo.step3(\"Load: App Defaults from Store.Profile_Local\", toBeer, toFriend, toNotify);\n			}\n\n		}\n	},\n\n});\n\nExt.define(\"B2B.store.Places_Ajax\", {\n    extend: \"Ext.data.Store\",\n    id: \"Places_Ajax\",\n    config: {\n        model: \"B2B.model.Place\",\n        proxy: {\n            type:'ajax',\n            url:'json/mock_placelist.json',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            }\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                HH.log(\"Beers Store Callback\");\n            },\n            load:function(el,records, successful){ \n                HH.log(\"* Loaded: Store.Places_Ajax\");\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Drinks_Ajax\", {\n	extend: \"Ext.data.Store\",\n	requires: \"Ext.data.proxy.JsonP\",\n	id: \"Drinks_Ajax\",\n	config: {\n		model: \"B2B.model.Drink\",\n		proxy: {\n			// Mock for Development\n			type:'ajax',\n			url:'json/mock_drinklist.json',\n			//type:'jsonp',\n			//url:'http://192.168.1.161:8080/birrettaservice/rest/bserv/listBeer_jsonp',\n			reader: {\n				type:'json',\n				rootProperty: 'response.body.list',\n				successProperty: 'response.status.success',\n				totalProperty: 'response.status.count',\n				messageProperty: 'response.status.msg'\n			}\n		},\n		autoLoad: true,\n		listeners:{\n			exception:function(proxy, response, orientation){\n				console.error('Failure Notification', response.responseText);\n				Ext.Msg.alert('Loading failed', response.statusText);\n			},\n			callback: function(success,response){\n				HH.log(\"Beers Store Callback\");\n			},\n			load:function(el,records, successful){\n				HH.log(\"* Loaded: Store.Drinks_Ajax, copying to Local\");\n				var store_local = Ext.getStore('Drinks_Local'),\n					image = HH.default_user48,\n					userdata = el.first(),\n					lastDrink = Ext.getCmp(\"lastdrink\"),\n					beerName = \"\", placeName = \"\", div = \"\";\n\n				if (lastDrink) {\n					beerName = (userdata.data.beerName ? userdata.data.beerName : \"\");\n					placeName = (userdata.data.placeName ? userdata.data.placeName : \"\");\n\n					lastDrink.setHtml(\n						[\n						'<div class=\"lastdrink\">',\n						'<img class=\"avatar_medium\" src=\"'+image+'\" width=\"48\" height=\"48\" >',\n						'<div class=\"small-list-when\"> 2 min fa</div>',\n						'<div class=\"medium-list-text\">Your lastest drink was a <strong>' + beerName + '</strong>, at <strong>' + placeName + '</strong></div>',\n						'</div>'\n						].join(\"\")\n					);\n				}\n				/* Copying to localstorage */\n				store_local.removeAll();\n				store_local.getProxy().clear();\n				this.each(function(record) {\n					store_local.add(record.data);\n				});\n				store_local.sync();\n				this.removeAll();\n			}\n		}\n	}\n\n});\n\nExt.define(\"B2B.store.Activities_User_Ajax\", {\n    extend: \"Ext.data.Store\",\n    id: \"Activities_User_Ajax\",\n    config: {\n        model: \"B2B.model.Activity\",\n        proxy: {\n            type:'ajax',\n            url:'json/mock_activityuser.json',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            },\n            extraParams:{\n                username:'test'\n            }\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Activities Store Callback\");\n            },\n            load: function(el,records, successful){\n                HH.log(\"* Loaded: Activities_User_Ajax\");\n \n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Notifications_Local\", {\n    extend: \"Ext.data.Store\",\n    id: \"Notifications_Local\",\n    config: {\n        model: \"B2B.model.Notification\",\n        proxy: {\n            type:'localstorage'\n        },\n        autoload: true,\n        autosync: true,\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                HH.log(\"Friends Store Callback\");\n            },\n            load:function(el,records, successful){ \n              HH.log(\"* Loaded: Store.Notification_Local\");\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Feedback_Ajax\", {\n	extend: \"Ext.data.Store\",\n	id: \"Feedback_Ajax\",\n	config: {\n		model: \"B2B.model.Feedback\",\n		proxy: {\n			// Mock for Development\n			type:'ajax',\n			url:'json/mock_feedbacklist.json',\n			//type:'jsonp',\n			//url:'http://192.168.1.161:8080/birrettaservice/rest/bserv/listBeer_jsonp',\n			reader: {\n				type:'json',\n				rootProperty: 'response.body.list',\n				successProperty: 'response.status.success',\n				totalProperty: 'response.status.count',\n				messageProperty: 'response.status.msg'\n			},\n			extraParams:{\n                target:''\n            }\n		},\n		//autoLoad: true,\n		autosync: true,\n		listeners:{\n			exception:function(proxy, response, orientation){\n				console.error('Failure Notification', response.responseText);\n				Ext.Msg.alert('Loading failed', response.statusText);\n			},\n			callback: function(success,response){\n				console.log(\"Feedback Store Callback\");\n			},\n			load:function(el,records, successful){\n				HH.log(\"* Loaded: Store.Feedback_Ajax\");\n\n			}\n		}\n	}\n\n});\n\nExt.define(\"B2B.store.Badges_Ajax\", {\n	extend: \"Ext.data.Store\",\n	id: \"Badges_Ajax\",\n	config: {\n		model: \"B2B.model.Badge\",\n		proxy: {\n			type:'ajax',\n			url:'json/mock_badgelist.json',\n			reader: {\n				type:'json',\n				rootProperty: 'response.body.list',\n				successProperty: 'response.status.success',\n				totalProperty: 'response.status.count',\n				messageProperty: 'response.status.msg'\n			}\n		},\n		autoLoad: true,\n		listeners:{\n			exception:function(proxy, response, orientation){\n				console.error('Failure Badge', response.responseText);\n				Ext.Msg.alert('Loading failed', response.statusText);\n			},\n			callback: function(success,response){\n				HH.log(\"Badges Store Callback\");\n			},\n			load:function(el,records, successful){\n				HH.log(\"* Loaded: Store.Badges_Ajax\");\n			}\n		}\n	}\n});\n\nExt.define(\"B2B.store.DrinkInCheckIn_Ajax\", {\n    extend: \"Ext.data.Store\",\n    requires: \"Ext.data.proxy.JsonP\",\n    id: \"DrinkInCheckIn_Ajax\",\n    config: {\n        model: \"B2B.model.Drink\",\n        proxy: {\n            // Mock for Development \n            type:'ajax',\n            url:'json/mock_drinkincheckinlist.json',\n           // type:'jsonp',\n           // url:'http://localhost:8080/birrettaservice/rest/bserv/listBeer_jsonp',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            }\n        },\n        //autoLoad: true,\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Beers Store Callback\");\n            },\n            load:function(el,records, successful){ \n                HH.log(\"* Loaded: Store.DrinkinCheckIn_Ajax\");\n\n\n            }\n        }\n    }\n    \n});\n\n/**\n *  {@link Ext.ux.slidenavigation.View} is a subclass of {@link Ext.Container}\n *  that provides a sliding main view with an underlying navigation list.  The\n *  concept was inspired by Facebook's mobile app.\n *\n *  @author Weston Nielson <wnielson@github>\n */\nExt.define('Ext.ux.slidenavigation.SlideNavigation', {\n    extend: 'Ext.Container',\n    \n    requires: [\n        'Ext.Button',\n        'Ext.Container',\n        'Ext.Function',\n        'Ext.ModelManager',\n        'Ext.Toolbar',\n        'Ext.data.Model',\n        'Ext.data.Store',\n        'Ext.dataview.List',\n    ],\n    \n    xtype: 'slidenavigationview',\n    setTitle:function(title){\n        // HH TODO\n    },\n    config: {\n        /**\n         * @cfg {Object} list Configuration for the navigation list\n         */\n        list: {\n            width: 250,\n            maxDrag: null,\n            itemTpl: '{title}',\n            grouped: true,\n            items: [{\n                xtype: 'toolbar',\n                id: 'sliderToolbar',\n                docked: 'top',\n                ui: 'light'\n            }]\n        },\n        \n        /**\n         * @cfg {Object} container Configuration for the container\n         */\n        container: {},\n\n        /**\n         * @cfg {Array} items An array of items to put into the navigation list.\n         * The items can either be Ext components or special objects with a \"handler\"\n         * key, which should be a function to execute when selected.  Additionally, you\n         * can define the order of the items by defining an 'order' parameter.\n         */        \n        items: [],\n        \n        /**\n         * @cfg {Object} groups Mapping of group name to order.  For example,\n         * say you have defined two groups; \"Group 1\" and \"Group 2\".  By default\n         * these will be presented in the list in that order, since\n         * 'Group 1' > 'Group 2'.  This option allows you to change the ordering,\n         * like so:\n         *\n         *  groups: {\n         *    'Group 1': 2\n         *    'Group 2': 1\n         *  }\n         *\n         *  You should use integers, starting with 1, as the ordering value.\n         *  By default groups are ordered by their name.\n         */\n        groups: {},\n        \n        /**\n         * @cfg {Object} defaults An object of default values to apply to any Ext\n         * components created from those listed in ``items``.\n         */\n        defaults: {\n            layout: 'card'\n        },\n        \n        /**\n         * @cfg {String} slideSelector Class selector of object (or parent)\n         * of which dragging should be allowed.  Defaults to the entire container.\n         * For example, this could be set to something like 'x-toolbar' to restrict\n         * dragging only to a toolbar.\n         */\n        slideSelector: '',\n        \n        /**\n         * @cfg {Integer} slideDuration Number of miliseconds to animate the sliding\n         * of the container when \"flicked\".  By default the animation is disable on\n         * Android.\n         */\n        slideDuration: Ext.os.is.Android ? 0 : 100,\n        \n        /**\n         * @cfg {Integer} selectSlideDuration Number of miliseconds to animate the sliding\n         * of the container when list item is selected (if closeOnSelect = true). The default\n         * value here of 300 gives a much nicer feel.  By default the animation is disable on\n         * Android.\n         */\n        selectSlideDuration: Ext.os.is.Android ? 0 : 300,\n        \n        /**\n         * @cfg {Boolean} closeOnSelect Whether or not to automatically close the container\n         * when an item in the list is selected.  Default is true.\n         */\n        closeOnSelect: true\n    },\n        \n    initConfig: function() {\n        var me = this;\n        \n        me._indexCount = 0;\n        \n        /**\n         *  Create the store.\n         */\n        me.store = Ext.create('Ext.data.Store', {\n            model: me.getModel(),\n            sorters: 'order',\n            grouper: {\n                property: 'group',\n                sortProperty: 'groupOrder'\n            }\n        });\n        \n        /**\n         *  Add the items into the list.\n         */\n        me.addItems(me.config.items || []);\n        delete me.config.items;\n        \n        me.callParent(arguments);\n        \n        /**\n         *  This stores the instances of the components created.\n         *  TODO: Support 'autoDestroy'.\n         *  @private\n         */\n        me._cache = {};\n        \n        /**\n         *  Default config values used for creating a slideButton.\n         */\n        me.slideButtonDefaults = {\n            xtype: 'button',\n            iconMask: true,\n            iconCls: 'more',\n            name: 'slidebutton',\n            listeners: {\n                release: me.toggleContainer,\n                scope: me\n            },\n            /**\n             *  To add the button into a toolbar, you can add the following\n             *  to any item in your navigation list.\n             */\n            //selector: ['toolbar']\n        };\n        \n        //me.config = Ext.merge({}, me.config, config || {});\n        //return me.callParent(arguments);\n    },\n            \n    initialize: function() {\n        this.callParent();\n        \n        this.addCls('x-slidenavigation');\n        \n        this.list = this.createNavigationList();\n        this.container = this.createContainer();\n        \n        this.add([\n            this.list,\n            this.container\n        ]);\n        \n        // TODO: Make this optional, perhaps by defining\n        // \"selected: true\" in the items list\n        this.list.select(0);\n    },\n    \n    /**\n     *  Adds an array of items (or a single item) into the list.\n     */\n    addItems: function(items) {\n        var me = this,\n            items = Ext.isArray(items) ? items : [items],\n            groups = me.config.groups;\n        \n        Ext.each(items, function(item, index) {\n            if (!Ext.isDefined(item.index)) {\n                item.index = me._indexCount;\n                me._indexCount++;\n            }\n            me.store.add(item);\n        });\n    },\n    \n    /**\n     *  Creates a button that can toggle the navigation menu.  For an example\n     *  config, see ``slideButtonDefaults``.\n     */\n    createSlideButton: function(el, config) {\n        var me = this,\n            parent = el.down(config.selector);\n        \n        if (parent) {\n            return parent.add(Ext.merge(me.slideButtonDefaults, config));\n        }\n        \n        return false;\n    },\n    \n    /**\n     * Called when an item in the list is tapped.\n     */\n    onSelect: function(list, item, eOpts) {\n        var me = this,\n            store = list.getStore(),\n            index = item.raw.index,\n            container = me.container;\n        \n        if (me._cache[index] == undefined) {\n            //container = this.down('container[cls=\"x-slidenavigation-container\"]');\n            \n            // If the object has a handler defined, then we don't need to\n            // create an Ext object\n            if (Ext.isFunction(item.raw.handler)) {\n                me._cache[index] = item.raw.handler;\n            } else {\n                me._cache[index] = container.add(Ext.merge(me.config.defaults, item.raw));\n\n                // Add a button for controlling the slide, if desired\n                if ((item.raw.slideButton || false)) {\n                    me.createSlideButton(me._cache[index], item.raw.slideButton);\n                }\n            }\n        }\n        \n        if (Ext.isFunction(this._cache[index])) {\n            this._cache[index]();\n        } else {\n            container.setActiveItem(this._cache[index]);\n        }\n        \n        if (this.config.closeOnSelect) {\n            this.closeContainer(this.config.selectSlideDuration);\n        }\n    },\n    \n    onContainerDrag: function(draggable, e, offset, eOpts) {\n        if (offset.x < 1) {\n            this.setClosed(true);\n        } else {\n            this.setClosed(false);\n        }\n    },\n    \n    onContainerDragstart: function(draggable, e, offset, eOpts) {\n        if (this.config.slideSelector == false) {\n            return false;\n        }\n        \n        if (this.config.slideSelector) {\n            node = e.target;\n            while (node = node.parentNode) {\n                if (node.className && node.className.indexOf(this.config.slideSelector) > -1) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        return false;\n    },\n    \n    onContainerDragend: function(draggable, e, eOpts) {\n        var velocity  = Math.abs(e.deltaX / e.deltaTime),\n            direction = (e.deltaX > 0) ? \"right\" : \"left\",\n            offset    = Ext.clone(draggable.offset),\n            threshold = parseInt(this.config.list.width * .70);\n        \n        switch (direction) {\n            case \"right\":\n                offset.x = (velocity > 0.75 || offset.x > threshold) ? this.config.list.minDrag : 0;\n                /* HH, replaced offset.x = (velocity > 0.75 || offset.x > threshold) ? this.config.list.width : 0; */\n                break;\n            case \"left\":\n                offset.x = (velocity > 0.75 || offset.x < threshold) ? 0 : this.config.list.minDrag;\n                /* HH, replaced offset.x = (velocity > 0.75 || offset.x < threshold) ? 0 : this.config.list.width; */\n                break;\n        }\n        \n        this.moveContainer(offset.x);\n    },\n    \n    /**\n     * Registers the model with Ext.ModelManager, if it hasn't been\n     * already, and returns the name of the model for use in the store.\n     */\n    getModel: function() {\n        var model = 'SlideNavigationPanelItem',\n            groups = this.config.groups;\n        \n        if (!Ext.ModelManager.get(model)) {\n            Ext.define(model, {\n                extend: 'Ext.data.Model',\n                config: {\n                    idProperty: 'index',\n                    fields: [\n                        'index', 'title', 'group',\n                        {\n                            name: 'order',\n                            defaultValue: 1\n                        },{\n                            name: 'groupOrder',\n                            convert: function(value, record) {\n                                // By default we group and order by group name.\n                                group = record.get('group');\n                                return groups[group] || group;\n                            }\n                        }\n                    ]\n                }\n            });\n        }\n        \n        return model;\n    },\n    \n    /**\n     *  Closes the container.  See ``moveContainer`` for more details.\n     */\n    closeContainer: function(duration) {\n        var duration = duration || this.config.slideDuration;\n        this.moveContainer(0, duration);\n    },\n    \n    /**\n     *  Opens the container.  See ``moveContainer`` for more details.\n     */\n    openContainer: function(duration) {\n        var duration = duration || this.config.slideDuration;\n        this.container.addCls('open');\n        this.moveContainer(this.config.list.minDrag, duration);\n        /* HH, replaced this.moveContainer(this.config.list.width, duration); */\n    },\n    \n    toggleContainer: function(duration) {\n        var duration = Ext.isNumber(duration) ? duration : this.config.slideDuration;\n        if (this.isClosed()) {\n            this.openContainer(duration);\n        } else {\n            this.closeContainer(duration);\n        }\n    },\n    \n    /**\n     *  Moves the container to a specified ``offsetX`` pixels.  Positive\n     *  integer values move the container that many pixels from the left edge\n     *  of the window.  If ``duration`` is provided, it should be an integer\n     *  number of milliseconds to animate the slide effect.  If no duration is\n     *  provided, the default in ``config.slideDuration`` is used.\n     */\n    moveContainer: function(offsetX, duration) {\n        var duration = duration || this.config.slideDuration,\n            draggable = this.container.draggableBehavior.draggable;\n        \n        draggable.setOffset(offsetX, 0, {\n            duration: duration\n        });\n    },\n    \n    /**\n     *  Returns true if the container is closed, false otherwise.  This is a\n     *  computed value based off the current offset position of the container.\n     */\n    isClosed: function() {\n        return (this.container.draggableBehavior.draggable.offset.x == 0);\n    },\n    \n    /**\n     *  Sets the container as being closed.  This shouldn't ever be called\n     *  directly as it is automatically called by the ``translatable``\n     *  \"animationend\" event after the container has stopped moving.  All this\n     *  really does is set the CSS class for the container.\n     */\n    setClosed: function(closed) {\n        /**\n         *  TODO: Consider some way to mask/disable certain elements when\n         *        the container is opened.  The code commented-out below\n         *        'works' but I think there is a better way to approach this.\n         */\n         \n        if (closed) {\n            this.container.removeCls('open');\n            \n            /*\n            Ext.each(this.container.getActiveItem().getItems().items, function(item) {\n                if (item.maskOnSlide) {\n                    item.setMasked(false);\n                }\n            });\n            */\n        } else {\n            this.container.addCls('open');\n            /*\n            Ext.each(this.container.getActiveItem().getItems().items, function(item) {\n                if (item.maskOnSlide) {\n                    item.setMasked(true);\n                }\n            });\n            */\n        }\n    },\n    \n    /**\n     * Generates a new Ext.dataview.List object to be used for displaying\n     * the navigation items.\n     */\n    createNavigationList: function(store) {\n        return Ext.create('Ext.dataview.List', Ext.merge({}, this.config.list, {\n            store: this.store,\n            docked: 'left',\n            cls: 'x-slidenavigation-list',\n            style: 'position: absolute; top: 0; left: 0; height: 100%;' +\n                   'width: 100% !important; z-index: 2',\n            listeners: {\n                select: this.onSelect,\n                scope: this\n            }\n        }));\n    },\n    \n    /**\n     *  Generates and returns the Ext.Container to be used for displaying\n     *  content.  This is the \"slideable\" container that is positioned above\n     *  the navigation list.\n     */\n    createContainer: function() {\n        return Ext.create('Ext.Container', Ext.merge({}, this.config.container, {\n            docked: 'left',\n            cls: 'x-slidenavigation-container',\n            style: 'width: 100%; height: 100%; position: absolute; opacity: 1; z-index: 5',\n            docked: 'left',\n            layout: 'card',\n            draggable: {\n                direction: 'horizontal',\n                constraint: {\n                    min: { x: 0, y: 0 },\n                    max: { x: this.config.list.maxDrag || Math.max(screen.width, screen.height), y: 0 }\n                },\n                listeners: {\n                    dragstart: {\n                        fn: this.onContainerDragstart,\n                        order: 'before',\n                        scope: this\n                    },\n                    drag: Ext.Function.createThrottled(this.onContainerDrag, 100, this),\n                    dragend: this.onContainerDragend,\n                    scope: this\n                },\n                translatable: {\n                    listeners: {\n                        animationend: function(translatable, b, c) {\n                            // Remove the class when the animation is finished, but only\n                            // if we're \"closed\"\n                            this.setClosed(this.isClosed());\n                        },\n                        scope: this // The \"x-slidenavigation\" container\n                    }\n                }\n            }\n        }));\n    },\n    \n    /**\n     *  Override the default method so that we actually return the active item in the list,\n     *  otherwise this will always return the same thing (the main container, not the\n     *  selected item).\n     *\n     */\n    getActiveItem: function() {\n        var selection = this.list.getSelection();\n        if (selection) {\n            return selection[0];\n        }\n    }\n});\nExt.define(\"B2B.view._App_Slider\", {\n    extend: 'Ext.ux.slidenavigation.SlideNavigation',\n    xtype: 'appslidercontainer',\n    id: 'appslidercontainer',\n    requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar',\n        'Ext.event.publisher.Dom'\n    ],\n    \n    config: {\n        fullscreen: true,\n        slideSelector: 'slidableToolbar',\n        selectSlideDuration: 200,\n        list: {\n            minDrag: 200,\n            maxDrag: 400,\n            width: 400,\n            items: [{\n                xtype: 'toolbar',\n                docked: 'top',\n                ui: 'plain',\n                id: 'slider_toolbar',                  \n                title: {\n                    //title: i18n.app.PANEL_NAVIGATION,\n                    title: '<img id=\"slider_logo\" src=\"resources/img/logopin_text_black_small.png\" width=\"160px\">',\n                    //centered: true,\n                    width: 200,\n                    left: 0\n                }\n            }]\n            \n        },\n        groups: {\n            'Profile': 1,\n            'News': 2,\n            'Privacy': 3\n        },\n        defaults: {\n            xtype: 'container'\n        },\n        items: [\n            {\n                title: '<div class=\"nav_slidemenu_profile\">'+i18n.app.PANEL_CLAIM+'</div>',\n                slideButton: {\n                    selector: 'titlebar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'action'\n                },\n                items: [\n                    {\n                        xtype: 'appcontainer' \n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_WHATSNEW,\n                group: 'News',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'action'\n                },\n                items: [\n                    {\n                        xtype: 'viewwhatsnew'\n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_TERMS,\n                group: 'Privacy',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list',\n                    ui: 'action'\n                },\n                items: [\n                    {\n                        xtype: 'viewterms'\n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_ABOUTUS ,\n                group: 'Privacy',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'action'\n                },\n                items: [\n                    {\n                        xtype: 'viewaboutus'\n                    }\n                ]\n            }\n        ]\n    }\n});\nExt.define(\"B2B.view._appcontainer\", {\n	extend: 'Ext.tab.Panel',\n	xtype: 'appcontainer',\n	requires: [\n		'Ext.ux.slidenavigation.SlideNavigation',\n		'Ext.ux.toolbarspinner.TSpinner',\n		'Ext.device.Camera'\n	],\n	config: {\n		activeTab: 0,\n		layout: {\n			animation: {\n				type: null\n			}\n		},\n		tabBar: {\n			layout: {\n				pack: 'center',\n				align: 'center'\n			},\n			docked: 'bottom',\n			scrollable: false\n		},\n		items: [\n			{\n				xtype: 'activity'\n			},\n			{\n				xtype: 'beer'\n			},\n			{\n				xtype: 'friendlistcontainerpanel'\n			},\n			{\n				xtype: 'userprofile'\n			}/*,\n			{\n				xtype: 'cameracontainerpanel'\n			}*/\n		]\n	},\n	initialize: function(){\n\n		this.callParent(arguments);\n\n		var logo = {\n			xtype: 'image',\n			src: 'resources/img/logo_text_black_small.png',\n			height: 28,\n			width: 144,\n			align: 'left'\n		}\n\n		var notificationbutton = {\n			iconCls: 'chat4',\n			ui: 'plain',\n			id: 'notificationbutton',\n			handler: this.onGotoNotificationButtonTap,\n			scope: this,\n			align: 'left'\n		};\n\n		var toolbarSpinner =  {\n			xtype : 'tbarspinner',\n			id: 'tbarspinner',\n			align : 'right',\n			hidden: true\n		};\n\n		var gotoCheckInButton = {\n			iconCls: 'locate',\n			ui: 'plain',\n			id: 'jump_2_checkin_btn',\n			handler: this.onGotoCheckInButtonTap,\n			scope: this,\n			align: 'right'\n		};\n\n		var titleBar = {\n			xtype: 'titlebar',\n			docked: 'top',\n			id: 'MainTitlebar',\n			cls: 'slidableToolbar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				//logo,\n				notificationbutton,\n				toolbarSpinner,\n				gotoCheckInButton\n			]\n		};\n\n		var notificationBar = {\n			xtype: 'notificationbar',\n			id: 'notificationBar',\n			hidden: true\n		}\n		this.add([ titleBar, notificationBar ]);\n	},\n	onGotoCheckInButtonTap: function(){\n		this.fireEvent(\"gotoCheckInCommand\", this);\n	},\n	onGotoNotificationButtonTap: function(){\n		this.fireEvent(\"notificationShowCommand\", this);\n	}\n\n});\n\n/**\n * @private\n *\n * A general {@link Ext.picker.Picker} slot class.  Slots are used to organize multiple scrollable slots into\n * a single {@link Ext.picker.Picker}.\n *\n *     {\n *         name : 'limit_speed',\n *         title: 'Speed Limit',\n *         data : [\n *             {text: '50 KB/s', value: 50},\n *             {text: '100 KB/s', value: 100},\n *             {text: '200 KB/s', value: 200},\n *             {text: '300 KB/s', value: 300}\n *         ]\n *     }\n *\n * See the {@link Ext.picker.Picker} documentation on how to use slots.\n */\nExt.define('Ext.picker.Slot', {\n    extend: 'Ext.dataview.DataView',\n    xtype : 'pickerslot',\n    alternateClassName: 'Ext.Picker.Slot',\n    requires: [\n        'Ext.XTemplate',\n        'Ext.data.Store',\n        'Ext.Component',\n        'Ext.data.StoreManager'\n    ],\n\n    /**\n     * @event slotpick\n     * Fires whenever an slot is picked\n     * @param {Ext.picker.Slot} this\n     * @param {Mixed} value The value of the pick\n     * @param {HTMLElement} node The node element of the pick\n     */\n\n    isSlot: true,\n\n    config: {\n        /**\n         * @cfg {String} title\n         * The title to use for this slot. Null for no title\n         * @accessor\n         */\n        title: null,\n\n        /**\n         * @private\n         * @cfg {Boolean} showTitle\n         * @accessor\n         */\n        showTitle: true,\n\n        /**\n         * @private\n         * @cfg {String} cls\n         * The main component class\n         * @accessor\n         */\n        cls: Ext.baseCSSPrefix + 'picker-slot',\n\n        /**\n         * @cfg {String} name\n         * The name of this slot. This config option is required.\n         * @accessor\n         */\n        name: null,\n\n        /**\n         * @cfg {Number} value The value of this slot\n         * @accessor\n         */\n        value: null,\n\n        /**\n         * @cfg {Number} flex\n         * @accessor\n         * @private\n         */\n        flex: 1,\n\n        /**\n         * @cfg {String} align\n         * The horizontal alignment of the slot's contents. Valid values are \"left\", \"center\",\n         * and \"right\". Defaults to \"left\".\n         * @accessor\n         */\n        align: 'left',\n\n        /**\n         * @cfg {String} displayField\n         * The display field in the store.\n         * Defaults to 'text'.\n         * @accessor\n         */\n        displayField: 'text',\n\n        /**\n         * @cfg {String} valueField\n         * The value field in the store.\n         * Defaults to 'value'.\n         * @accessor\n         */\n        valueField: 'value',\n\n        /**\n         * @cfg {Object} scrollable\n         * @accessor\n         * @hide\n         */\n        scrollable: {\n            direction: 'vertical',\n            indicators: false,\n            momentumEasing: {\n                minVelocity: 2\n            },\n            slotSnapEasing: {\n                duration: 100\n            }\n        }\n    },\n\n    constructor: function() {\n        /**\n         * @property selectedIndex\n         * @type Number\n         * The current selectedIndex of the picker slot\n         * @private\n         */\n        this.selectedIndex = 0;\n\n        /**\n         * @property picker\n         * @type Ext.picker.Picker\n         * A reference to the owner Picker\n         * @private\n         */\n\n        this.callParent(arguments);\n    },\n\n    /**\n     * Sets the title for this dataview by creating element\n     */\n    applyTitle: function(title) {\n        //check if the title isnt defined\n        if (title) {\n            //create a new title element\n            title = Ext.create('Ext.Component', {\n                cls: Ext.baseCSSPrefix + 'picker-slot-title',\n                docked      : 'top',\n                html        : title\n            });\n        }\n\n        return title;\n    },\n\n    updateTitle: function(newTitle, oldTitle) {\n        if (newTitle) {\n            this.add(newTitle);\n            this.setupBar();\n        }\n\n        if (oldTitle) {\n            this.remove(oldTitle);\n        }\n    },\n\n    updateShowTitle: function(showTitle) {\n        var title = this.getTitle();\n        if (title) {\n            title[showTitle ? 'show' : 'hide']();\n\n            this.setupBar();\n        }\n    },\n\n    updateDisplayField: function(newDisplayField) {\n        this.setItemTpl('<div class=\"' + Ext.baseCSSPrefix + 'picker-item {cls} <tpl if=\"extra\">' + Ext.baseCSSPrefix + 'picker-invalid</tpl>\">{' + newDisplayField + '}</div>');\n    },\n\n    /**\n     * Updates the {@link #align} configuration\n     */\n    updateAlign: function(newAlign, oldAlign) {\n        var element = this.element;\n        element.addCls(Ext.baseCSSPrefix + 'picker-' + newAlign);\n        element.removeCls(Ext.baseCSSPrefix + 'picker-' + oldAlign);\n    },\n\n    /**\n     * Looks at the {@link #data} configuration and turns it into {@link #store}\n     */\n    applyData: function(data) {\n        var parsedData = [],\n            ln = data && data.length,\n            i, item, obj;\n\n        if (data && Ext.isArray(data) && ln) {\n            for (i = 0; i < ln; i++) {\n                item = data[i];\n                obj = {};\n                if (Ext.isArray(item)) {\n                    obj[this.valueField] = item[0];\n                    obj[this.displayField] = item[1];\n                }\n                else if (Ext.isString(item)) {\n                    obj[this.valueField] = item;\n                    obj[this.displayField] = item;\n                }\n                else if (Ext.isObject(item)) {\n                    obj = item;\n                }\n                parsedData.push(obj);\n            }\n        }\n\n        return data;\n    },\n\n    updateData: function(data) {\n        this.setStore(Ext.create('Ext.data.Store', {\n            fields: ['text', 'value'],\n            data : data\n        }));\n    },\n\n    // @private\n    initialize: function() {\n        this.callParent();\n\n        var scroller = this.getScrollable().getScroller();\n\n        this.on({\n            scope: this,\n            painted: 'onPainted',\n            itemtap: 'doItemTap'\n        });\n\n        scroller.on({\n            scope: this,\n            scrollend: 'onScrollEnd'\n        });\n    },\n\n    // @private\n    onPainted: function() {\n        this.setupBar();\n    },\n\n    /**\n     * Returns an instance of the owner picker\n     * @private\n     */\n    getPicker: function() {\n        if (!this.picker) {\n            this.picker = this.getParent();\n        }\n\n        return this.picker;\n    },\n\n    // @private\n    setupBar: function() {\n        if (!this.rendered) {\n            //if the component isnt rendered yet, there is no point in calculating the padding just eyt\n            return;\n        }\n\n        var element = this.element,\n            innerElement = this.innerElement,\n            picker = this.getPicker(),\n            bar = picker.bar,\n            value = this.getValue(),\n            showTitle = this.getShowTitle(),\n            title = this.getTitle(),\n            scrollable = this.getScrollable(),\n            scroller = scrollable.getScroller(),\n            titleHeight = 0,\n            barHeight, padding;\n\n        barHeight = bar.getHeight();\n\n        if (showTitle && title) {\n            titleHeight = title.element.getHeight();\n        }\n\n        padding = Math.ceil((element.getHeight() - titleHeight - barHeight) / 2);\n\n        innerElement.setStyle({\n            padding: padding + 'px 0 ' + (padding) + 'px'\n        });\n\n        scroller.refresh();\n        scroller.setSlotSnapSize(barHeight);\n\n        this.setValue(value);\n    },\n\n    // @private\n    doItemTap: function(list, index, item, e) {\n        var me = this;\n        me.selectedIndex = index;\n        me.selectedNode = item;\n        me.scrollToItem(item, true);\n\n        me.fireEvent('slotpick', me, me.getValue(true), me.selectedNode);\n    },\n\n    // @private\n    scrollToItem: function(item, animated) {\n        var y = item.getY(),\n            parentEl = item.parent(),\n            parentY = parentEl.getY(),\n            scrollView = this.getScrollable(),\n            scroller = scrollView.getScroller(),\n            difference;\n\n        difference = y - parentY;\n\n        scroller.scrollTo(0, difference, animated);\n    },\n\n    // @private\n    onScrollEnd: function(scroller, x, y) {\n        var me = this,\n            index = Math.round(y / me.picker.bar.getHeight()),\n            viewItems = me.getViewItems(),\n            item = viewItems[index];\n\n        if (item) {\n            me.selectedIndex = index;\n            me.selectedNode = item;\n\n            me.fireEvent('slotpick', me, me.getValue(), me.selectedNode);\n        }\n    },\n\n    /**\n     * Returns the vlaue of this slot\n     * @private\n     */\n    getValue: function(useDom) {\n        var store = this.getStore(),\n            record, value;\n\n        if (!store) {\n            return;\n        }\n\n        if (!this.rendered || !useDom) {\n            return this._value;\n        }\n\n        //if the value is ever false, that means we do not want to return anything\n        if (this._value === false) {\n            return null;\n        }\n\n        record = store.getAt(this.selectedIndex);\n\n        value = record ? record.get(this.getValueField()) : null;\n//        this._value = value;\n\n        return value;\n    },\n\n    /**\n     * Sets the value of this slot\n     * @private\n     */\n    setValue: function(value) {\n        if (!Ext.isDefined(value)) {\n            return;\n        }\n\n        if (!this.rendered || !value) {\n            //we don't want to call this until the slot has been rendered\n            this._value = value;\n            return;\n        }\n\n        var store = this.getStore(),\n            viewItems = this.getViewItems(),\n            valueField = this.getValueField(),\n            index, item;\n\n        index = store.find(valueField, value);\n        if (index != -1) {\n            item = Ext.get(viewItems[index]);\n\n            this.selectedIndex = index;\n            this.scrollToItem(item);\n\n            this._value = value;\n        }\n    },\n\n    /**\n     * Sets the value of this slot\n     * @private\n     */\n    setValueAnimated: function(value) {\n        if (!value) {\n            return;\n        }\n\n        if (!this.rendered) {\n            //we don't want to call this until the slot has been rendered\n            this._value = value;\n            return;\n        }\n\n        var store = this.getStore(),\n            viewItems = this.getViewItems(),\n            valueField = this.getValueField(),\n            index, item;\n\n        index = store.find(valueField, value);\n        if (index != -1) {\n            item = Ext.get(viewItems[index]);\n\n            this.selectedIndex = index;\n            this.scrollToItem(item, {\n                duration: 100\n            });\n\n            this._value = value;\n        }\n    }\n});\n\n/**\nA general picker class. {@link Ext.picker.Slot}s are used to organize multiple scrollable slots into a single picker. {@link #slots} is\nthe only necessary configuration.\n\nThe {@link #slots} configuration with a few key values:\n\n - **name:** The name of the slot (will be the key when using {@link #getValues} in this {@link Ext.picker.Picker})\n - **title:** The title of this slot (if {@link #useTitles} is set to true)\n - **data/store:** The data or store to use for this slot.\n\nRemember, {@link Ext.picker.Slot} class extends from {@link Ext.dataview.DataView}.\n\n## Examples\n\n    @example miniphone preview\n    var picker = Ext.create('Ext.Picker', {\n        slots: [\n            {\n                name : 'limit_speed',\n                title: 'Speed',\n                data : [\n                    {text: '50 KB/s', value: 50},\n                    {text: '100 KB/s', value: 100},\n                    {text: '200 KB/s', value: 200},\n                    {text: '300 KB/s', value: 300}\n                ]\n            }\n        ]\n    });\n    Ext.Viewport.add(picker);\n    picker.show();\n\nYou can also customize the top toolbar on the {@link Ext.picker.Picker} by changing the {@link #doneButton} and {@link #cancelButton} configurations:\n\n    @example miniphone preview\n    var picker = Ext.create('Ext.Picker', {\n        doneButton: 'I\\'m done!',\n        cancelButton: false,\n        slots: [\n            {\n                name : 'limit_speed',\n                title: 'Speed',\n                data : [\n                    {text: '50 KB/s', value: 50},\n                    {text: '100 KB/s', value: 100},\n                    {text: '200 KB/s', value: 200},\n                    {text: '300 KB/s', value: 300}\n                ]\n            }\n        ]\n    });\n    Ext.Viewport.add(picker);\n    picker.show();\n\nOr by passing a custom {@link #toolbar} configuration:\n\n    @example miniphone preview\n    var picker = Ext.create('Ext.Picker', {\n        doneButton: false,\n        cancelButton: false,\n        toolbar: {\n            ui: 'light',\n            title: 'My Picker!'\n        },\n        slots: [\n            {\n                name : 'limit_speed',\n                title: 'Speed',\n                data : [\n                    {text: '50 KB/s', value: 50},\n                    {text: '100 KB/s', value: 100},\n                    {text: '200 KB/s', value: 200},\n                    {text: '300 KB/s', value: 300}\n                ]\n            }\n        ]\n    });\n    Ext.Viewport.add(picker);\n    picker.show();\n */\nExt.define('Ext.picker.Picker', {\n    extend: 'Ext.Sheet',\n    alias : 'widget.picker',\n    alternateClassName: 'Ext.Picker',\n    requires: ['Ext.picker.Slot', 'Ext.Toolbar', 'Ext.data.Model'],\n\n    isPicker: true,\n\n    /**\n     * @event pick\n     * Fired when a slot has been picked\n     * @param {Ext.Picker} this This Picker\n     * @param {Object} The values of this picker's slots, in {name:'value'} format\n     * @param {Ext.Picker.Slot} slot An instance of Ext.Picker.Slot that has been picked\n     */\n\n    /**\n     * @event change\n     * Fired when the value of this picker has changed the Done button has been pressed.\n     * @param {Ext.picker.Picker} this This Picker\n     * @param {Object} value The values of this picker's slots, in {name:'value'} format\n     */\n\n    /**\n     * @event cancel\n     * Fired when the cancel button is tapped and the values are reverted back to\n     * what they were\n     * @param {Ext.Picker} this This Picker\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        cls: Ext.baseCSSPrefix + 'picker',\n\n        /**\n         * @cfg {String/Mixed} doneButton\n         * Can be either:<ul>\n         * <li>A {String} text to be used on the Done button</li>\n         * <li>An {Object} as config for {@link Ext.Button}</li>\n         * <li>false or null to hide it</li></ul>\n         * @accessor\n         */\n        doneButton: true,\n\n        /**\n         * @cfg {String/Mixed} cancelButton\n         * Can be either:<ul>\n         * <li>A {String} text to be used on the Cancel button</li>\n         * <li>An {Object} as config for {@link Ext.Button}</li>\n         * <li>false or null to hide it</li></ul>\n         * @accessor\n         */\n        cancelButton: true,\n\n        /**\n         * @cfg {Boolean} useTitles\n         * Generate a title header for each individual slot and use\n         * the title configuration of the slot.\n         * @accessor\n         */\n        useTitles: false,\n\n        /**\n         * @cfg {Array} slots\n         * An array of slot configurations.\n         * <ul>\n         *  <li>name - {String} - Name of the slot</li>\n         *  <li>data - {Array} - An array of text/value pairs in the format {text: 'myKey', value: 'myValue'}</li>\n         *  <li>title - {String} - Title of the slot. This is used in conjunction with useTitles: true.</li>\n         * </ul>\n         * @accessor\n         */\n        slots: null,\n\n        /**\n         * @cfg {String/Number} value The value to initialize the picker with\n         * @accessor\n         */\n        value: null,\n\n        /**\n         * @cfg {Number} height\n         * The height of the picker.\n         * @accessor\n         */\n        height: 220,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        layout: {\n            type : 'hbox',\n            align: 'stretch'\n        },\n\n        /**\n         * @cfg\n         * @hide\n         */\n        centered: false,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        left : 0,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        right: 0,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        bottom: 0,\n\n        // @private\n        defaultType: 'pickerslot',\n\n        /**\n         * @cfg {Ext.TitleBar/Ext.Toolbar/Object} toolbar\n         * The toolbar which contains the {@link #doneButton} and {@link #cancelButton} buttons.\n         * You can override this if you wish, and add your own configurations. Just ensure that you take into account\n         * the {@link #doneButton} and {@link #cancelButton} configurations.\n         *\n         * The default xtype is a {@link Ext.TitleBar}:\n         *\n         *     toolbar: {\n         *         items: [\n         *             {\n         *                 xtype: 'button',\n         *                 text: 'Left',\n         *                 align: 'left'\n         *             },\n         *             {\n         *                 xtype: 'button',\n         *                 text: 'Right',\n         *                 align: 'left'\n         *             }\n         *         ]\n         *     }\n         *\n         * Or to use a {@link Ext.Toolbar instead}:\n         *\n         *     toolbar: {\n         *         xtype: 'toolbar',\n         *         items: [\n         *             {\n         *                 xtype: 'button',\n         *                 text: 'Left'\n         *             },\n         *             {\n         *                 xtype: 'button',\n         *                 text: 'Left Two'\n         *             }\n         *         ]\n         *     }\n         *\n         * @accessor\n         */\n        toolbar: true\n    },\n\n    initElement: function() {\n        this.callParent(arguments);\n\n        var me = this,\n            clsPrefix = Ext.baseCSSPrefix,\n            innerElement = this.innerElement;\n\n        //insert the mask, and the picker bar\n        this.mask = innerElement.createChild({\n            cls: clsPrefix + 'picker-mask'\n        });\n\n        this.bar = this.mask.createChild({\n            cls: clsPrefix + 'picker-bar'\n        });\n\n        me.on({\n            scope   : this,\n            delegate: 'pickerslot',\n            slotpick: 'onSlotPick'\n        });\n\n        me.on({\n            scope: this,\n            show: 'onShow'\n        });\n    },\n\n    /**\n     * @private\n     */\n    applyToolbar: function(config) {\n        if (config === true) {\n            config = {};\n        }\n\n        Ext.applyIf(config, {\n            docked: 'top'\n        });\n\n        return Ext.factory(config, 'Ext.TitleBar', this.getToolbar());\n    },\n\n    /**\n     * @private\n     */\n    updateToolbar: function(newToolbar, oldToolbar) {\n        if (newToolbar) {\n            this.add(newToolbar);\n        }\n\n        if (oldToolbar) {\n            this.remove(oldToolbar);\n        }\n    },\n\n    /**\n     * Updates the {@link #doneButton} configuration. Will change it into a button when appropriate, or just update the text if needed.\n     */\n    applyDoneButton: function(config) {\n        if (config) {\n            if (Ext.isBoolean(config)) {\n                config = {};\n            }\n\n            if (typeof config == \"string\") {\n                config = {\n                    text: config\n                };\n            }\n\n            Ext.applyIf(config, {\n                ui: 'action',\n                align: 'right',\n                text: 'Done'\n            });\n        }\n\n        return Ext.factory(config, 'Ext.Button', this.getDoneButton());\n    },\n\n    updateDoneButton: function(newDoneButton, oldDoneButton) {\n        var toolbar = this.getToolbar();\n\n        if (newDoneButton) {\n            toolbar.add(newDoneButton);\n            newDoneButton.on('tap', this.onDoneButtonTap, this);\n        } else if (oldDoneButton) {\n            toolbar.remove(oldDoneButton);\n        }\n    },\n\n    /**\n     * Updates the {@link #cancelButton} configuration. Will change it into a button when appropriate, or just update the text if needed.\n     */\n    applyCancelButton: function(config) {\n        if (config) {\n            if (Ext.isBoolean(config)) {\n                config = {};\n            }\n\n            if (typeof config == \"string\") {\n                config = {\n                    text: config\n                };\n            }\n\n            Ext.applyIf(config, {\n                align: 'left',\n                text: 'Cancel'\n            });\n        }\n\n        return Ext.factory(config, 'Ext.Button', this.getCancelButton());\n    },\n\n    updateCancelButton: function(newCancelButton, oldCancelButton) {\n        var toolbar = this.getToolbar();\n\n        if (newCancelButton) {\n            toolbar.add(newCancelButton);\n            newCancelButton.on('tap', this.onCancelButtonTap, this);\n        } else if (oldCancelButton) {\n            toolbar.remove(oldCancelButton);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateUseTitles: function(useTitles) {\n        var innerItems = this.getInnerItems(),\n            ln = innerItems.length,\n            cls = Ext.baseCSSPrefix + 'use-titles',\n            i, innerItem;\n\n        //add a cls onto the picker\n        if (useTitles) {\n            this.addCls(cls);\n        } else {\n            this.removeCls(cls);\n        }\n\n        //show the titme on each of the slots\n        for (i = 0; i < ln; i++) {\n            innerItem = innerItems[i];\n\n            if (innerItem.isSlot) {\n                innerItem.setShowTitle(useTitles);\n            }\n        }\n    },\n\n    applySlots: function(slots) {\n        //loop through each of the slots and add a referece to this picker\n        if (slots) {\n            var ln = slots.length,\n                i;\n\n            for (i = 0; i < ln; i++) {\n                slots[i].picker = this;\n            }\n        }\n\n        return slots;\n    },\n\n    /**\n     * Adds any new {@link #slots} to this picker, and removes existing {@link #slots}\n     * @private\n     */\n    updateSlots: function(newSlots) {\n        var bcss = Ext.baseCSSPrefix,\n            innerItems;\n\n        this.removeAll();\n\n        if (newSlots) {\n            this.add(newSlots);\n        }\n\n        innerItems = this.getInnerItems();\n        if (innerItems.length > 0) {\n            innerItems[0].addCls(bcss + 'first');\n            innerItems[innerItems.length - 1].addCls(bcss + 'last');\n        }\n\n        this.updateUseTitles(this.getUseTitles());\n    },\n\n    /**\n     * @private\n     * Called when the done button has been tapped.\n     */\n    onDoneButtonTap: function() {\n        var oldValue = this._value,\n            newValue = this.getValue(true);\n\n        if (newValue != oldValue) {\n            this.fireEvent('change', this, newValue);\n        }\n\n        this.hide();\n    },\n\n    /**\n     * @private\n     * Called when the cancel button has been tapped.\n     */\n    onCancelButtonTap: function() {\n        this.fireEvent('cancel', this);\n        this.hide();\n    },\n\n    /**\n     * @private\n     * Called when a slot has been picked.\n     */\n    onSlotPick: function(slot) {\n        this.fireEvent('pick', this, this.getValue(true), slot);\n    },\n\n    onShow: function() {\n        if (!this.isHidden()) {\n            this.setValue(this._value);\n        }\n    },\n\n    /**\n     * Sets the values of the pickers slots\n     * @param {Object} values The values in a {name:'value'} format\n     * @param {Boolean} animated True to animate setting the values\n     * @return {Ext.Picker} this This picker\n     */\n    setValue: function(values, animated) {\n        var me = this,\n            slots = me.getInnerItems(),\n            ln = slots.length,\n            key, slot, loopSlot, i, value;\n\n        if (!values) {\n            values = {};\n            for (i = 0; i < ln; i++) {\n                //set the value to false so the slot will return null when getValue is called\n                values[slots[i].config.name] = null;\n            }\n        }\n\n        for (key in values) {\n            value = values[key];\n            for (i = 0; i < slots.length; i++) {\n                loopSlot = slots[i];\n                if (loopSlot.config.name == key) {\n                    slot = loopSlot;\n                    break;\n                }\n            }\n\n            if (slot) {\n                if (animated) {\n                    slot.setValueAnimated(value);\n                } else {\n                    slot.setValue(value);\n                }\n            }\n        }\n\n        me._values = me._value = values;\n\n        return me;\n    },\n\n    setValueAnimated: function(values) {\n        this.setValue(values, true);\n    },\n\n    /**\n     * Returns the values of each of the pickers slots\n     * @return {Object} The values of the pickers slots\n     */\n    getValue: function(useDom) {\n        var values = {},\n            items = this.getItems().items,\n            ln = items.length,\n            item, i;\n\n        if (useDom) {\n            for (i = 0; i < ln; i++) {\n                item = items[i];\n                if (item && item.isSlot) {\n                    values[item.getName()] = item.getValue(useDom);\n                }\n            }\n\n            this._values = values;\n        }\n\n        return this._values;\n    },\n\n    /**\n     * Returns the values of eaach of the pickers slots\n     * @return {Object} The values of the pickers slots\n     */\n    getValues: function() {\n        return this.getValue();\n    },\n\n    destroy: function() {\n        this.callParent();\n        Ext.destroy(this.mask, this.bar);\n    }\n}, function() {\n    /**\n     * @member Ext.picker.Picker\n     * @cfg {String} activeCls\n     * CSS class to be applied to individual list items when they have been chosen.\n     * @removed 2.0.0\n     */\n    Ext.deprecateProperty(this, 'activeCls', null, \"Ext.picker.Picker.activeCls has been removed\");\n\n    /**\n     * @method getCard\n     * @inheritdoc Ext.picker.Picker#getActiveItem\n     * @deprecated 2.0.0 Please use {@link #getActiveItem} instead\n     */\n    Ext.deprecateClassMethod(this, 'getCard', 'getActiveItem');\n\n    /**\n     * @method setCard\n     * @inheritdoc Ext.picker.Picker#setActiveItem\n     * @deprecated 2.0.0 Please use {@link #setActiveItem} instead\n     */\n    Ext.deprecateClassMethod(this, 'setCard', 'setActiveItem');\n});\n\n\nExt.define('B2B.view.Camera_Picker', {\n	extend: 'Ext.picker.Picker',\n	xtype: 'camerapicker',\n	autoDestroy: true,\n	config: {\n		slots: [\n			{\n				name : 'camera_source',\n				title : 'Select source',\n				data : [\n					{text: i18n.app.PICKER_CAMERA, value:true},\n					{text: i18n.app.PICKER_LIBRARY, value:false}\n				]\n			}\n		],\n		listeners: {\n			change: function (picker, value, oldValue) {\n				var eventName = \"openLibraryCommand\";\n				if (value.camera_source) {\n					eventName = \"openCameraCommand\";\n				}\n\n				this.fireEvent(eventName, this);\n			},\n			cancel: function (picker) {}\n		}\n	},\n	initialize: function(){\n		this.callParent(arguments);\n	}\n});\n/**\n * @aside guide forms\n *\n * Simple Select field wrapper. Example usage:\n *\n *     @example\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 title: 'Select',\n *                 items: [\n *                     {\n *                         xtype: 'selectfield',\n *                         label: 'Choose one',\n *                         options: [\n *                             {text: 'First Option',  value: 'first'},\n *                             {text: 'Second Option', value: 'second'},\n *                             {text: 'Third Option',  value: 'third'}\n *                         ]\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n */\nExt.define('Ext.field.Select', {\n    extend: 'Ext.field.Text',\n    xtype: 'selectfield',\n    alternateClassName: 'Ext.form.Select',\n    requires: [\n        'Ext.Panel',\n        'Ext.picker.Picker',\n        'Ext.data.Store',\n        'Ext.data.StoreManager',\n        'Ext.dataview.List'\n    ],\n\n    /**\n     * @event change\n     * Fires when an option selection has changed\n     * @param {Ext.field.Select} this\n     * @param {Mixed} newValue The new value\n     * @param {Mixed} oldValue The old value\n     */\n\n    config: {\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        ui: 'select',\n\n        /**\n         * @cfg {Boolean} useClearIcon\n         * @hide\n         */\n\n        /**\n         * @cfg {String/Number} valueField The underlying {@link Ext.data.Field#name data value name} (or numeric Array index) to bind to this\n         * Select control. (defaults to 'value')\n         * @accessor\n         */\n        valueField: 'value',\n\n        /**\n         * @cfg {String/Number} displayField The underlying {@link Ext.data.Field#name data value name} (or numeric Array index) to bind to this\n         * Select control. This resolved value is the visibly rendered value of the available selection options.\n         * (defaults to 'text')\n         * @accessor\n         */\n        displayField: 'text',\n\n        /**\n         * @cfg {Ext.data.Store} store (Optional) store instance used to provide selection options data.\n         * @accessor\n         */\n        store: null,\n\n        /**\n         * @cfg {Array} options (Optional) An array of select options.\n    <pre><code>\n        [\n            {text: 'First Option',  value: 'first'},\n            {text: 'Second Option', value: 'second'},\n            {text: 'Third Option',  value: 'third'}\n        ]\n    </code></pre>\n         * Note: option object member names should correspond with defined {@link #valueField valueField} and {@link #displayField displayField} values.\n         * This config will be ignore if a {@link #store store} instance is provided\n         * @accessor\n         */\n        options: null,\n\n        /**\n         * @cfg {String} hiddenName Specify a hiddenName if you're using the {@link Ext.form.Panel#standardSubmit standardSubmit} option.\n         * This name will be used to post the underlying value of the select to the server.\n         * @accessor\n         */\n        hiddenName: null,\n\n        /**\n         * @cfg {Object} component\n         * @accessor\n         * @hide\n         */\n        component: {\n            useMask: true\n        },\n\n        /**\n         * @cfg {Boolean} clearIcon\n         * @hide\n         * @accessor\n         */\n        clearIcon: false,\n\n        /**\n         * @cfg {String/Boolean} usePicker\n         * `true` if you want this component to always use a {@link Ext.picker.Picker}.\n         * `false` if you want it to use a popup overlay {@link Ext.List}.\n         * `auto` if you want to show a {@link Ext.picker.Picker} only on phones.\n         */\n        usePicker: 'auto',\n\n        /**\n         * @cfg {Object} defaultPhonePickerConfig\n         * The default configuration for the picker component when you are on a phone\n         */\n        defaultPhonePickerConfig: null,\n\n        /**\n         * @cfg {Object} defaultTabletPickerConfig\n         * The default configuration for the picker component when you are on a tablet\n         */\n        defaultTabletPickerConfig: null,\n\n        /**\n         * @cfg\n         * @inheritdoc\n         */\n        name: 'picker'\n    },\n\n    // @private\n    initialize: function() {\n        var me = this,\n            component = me.getComponent();\n\n        me.callParent();\n\n        component.on({\n            scope: me,\n            masktap: 'onMaskTap'\n        });\n\n        component.input.dom.disabled = true;\n    },\n\n    /**\n     * @private\n     */\n    updateDefaultPhonePickerConfig: function(newConfig) {\n        var picker = this.picker;\n        if (picker) {\n            picker.setConfig(newConfig);\n        }\n    },\n\n    /**\n     * @private\n     */\n    updateDefaultTabletPickerConfig: function(newConfig) {\n        var listPanel = this.listPanel;\n        if (listPanel) {\n            listPanel.setConfig(newConfig);\n        }\n    },\n\n    /**\n     * @private\n     * Checks if the value is `auto`. If it is, it only uses the picker if the current device type\n     * is a phone.\n     */\n    applyUsePicker: function(usePicker) {\n        if (usePicker == \"auto\") {\n            usePicker = (Ext.os.deviceType == 'Phone');\n        }\n\n        return Boolean(usePicker);\n    },\n\n    syncEmptyCls: Ext.emptyFn,\n\n    /**\n     * @private\n     */\n    applyValue: function(value) {\n        var record = value,\n            index, store;\n\n        //we call this so that the options configruation gets intiailized, so that a store exists, and we can\n        //find the correct value\n        this.getOptions();\n\n        store = this.getStore();\n\n        if ((value && !value.isModel) && store) {\n            index = store.find(this.getValueField(), value, null, null, null, true);\n\n            if (index == -1) {\n                index = store.find(this.getDisplayField(), value, null, null, null, true);\n            }\n\n            record = store.getAt(index);\n        }\n\n        return record;\n    },\n\n    updateValue: function(newValue, oldValue) {\n        this.previousRecord = oldValue;\n        this.record = newValue;\n\n        this.callParent([(newValue && newValue.isModel) ? newValue.get(this.getDisplayField()) : '']);\n    },\n\n    getValue: function() {\n        var record = this.record;\n        return (record && record.isModel) ? record.get(this.getValueField()) : null;\n    },\n\n    /**\n     * Returns the current selected {@link Ext.data.Model record} instance selected in this field.\n     * @return {Ext.data.Model} the record.\n     */\n    getRecord: function() {\n        return this.record;\n    },\n\n    // @private\n    getPhonePicker: function() {\n        var config = this.getDefaultPhonePickerConfig();\n\n        if (!this.picker) {\n            this.picker = Ext.create('Ext.picker.Picker', Ext.apply({\n                slots: [{\n                    align       : 'center',\n                    name        : this.getName(),\n                    valueField  : this.getValueField(),\n                    displayField: this.getDisplayField(),\n                    value       : this.getValue(),\n                    store       : this.getStore()\n                }],\n                listeners: {\n                    change: this.onPickerChange,\n                    scope: this\n                }\n            }, config));\n        }\n\n        return this.picker;\n    },\n\n    // @private\n    getTabletPicker: function() {\n        var config = this.getDefaultTabletPickerConfig();\n\n        if (!this.listPanel) {\n            this.listPanel = Ext.create('Ext.Panel', Ext.apply({\n                centered: true,\n                modal: true,\n                cls: Ext.baseCSSPrefix + 'select-overlay',\n                layout: 'fit',\n                hideOnMaskTap: true,\n                items: {\n                    xtype: 'list',\n                    store: this.getStore(),\n                    itemTpl: '<span class=\"x-list-label\">{' + this.getDisplayField() + ':htmlEncode}</span>',\n                    listeners: {\n                        select : this.onListSelect,\n                        itemtap: this.onListTap,\n                        scope  : this\n                    }\n                }\n            }, config));\n        }\n\n        return this.listPanel;\n    },\n\n    // @private\n    onMaskTap: function() {\n        if (this.getDisabled()) {\n            return false;\n        }\n\n        this.showPicker();\n\n        return false;\n    },\n\n    /**\n     * Shows the picker for the select field, whether that is a {@link Ext.picker.Picker} or a simple\n     * {@link Ext.List list}.\n     */\n    showPicker: function() {\n        var store = this.getStore();\n        //check if the store is empty, if it is, return\n        if (!store || store.getCount() === 0) {\n            return;\n        }\n\n        if (this.getReadOnly()) {\n            return;\n        }\n\n        this.isFocused = true;\n\n        //hide the keyboard\n        //the causes https://sencha.jira.com/browse/TOUCH-1679\n        // Ext.Viewport.hideKeyboard();\n\n        if (this.getUsePicker()) {\n            var picker = this.getPhonePicker(),\n                name   = this.getName(),\n                value  = {};\n\n            value[name] = this.record.get(this.getValueField());\n            picker.setValue(value);\n            if (!picker.getParent()) {\n                Ext.Viewport.add(picker);\n            }\n            picker.show();\n        } else {\n            var listPanel = this.getTabletPicker(),\n                list = listPanel.down('list'),\n                store = list.getStore(),\n                index = store.find(this.getValueField(), this.getValue(), null, null, null, true),\n                record = store.getAt((index == -1) ? 0 : index);\n\n            if (!listPanel.getParent()) {\n                Ext.Viewport.add(listPanel);\n            }\n\n            listPanel.showBy(this.getComponent());\n            list.select(record, null, true);\n        }\n    },\n\n    // @private\n    onListSelect: function(item, record) {\n        var me = this;\n        if (record) {\n            me.setValue(record);\n        }\n    },\n\n    onListTap: function() {\n        this.listPanel.hide({\n            type : 'fade',\n            out  : true,\n            scope: this\n        });\n    },\n\n    // @private\n    onPickerChange: function(picker, value) {\n        var me = this,\n            newValue = value[me.getName()],\n            store = me.getStore(),\n            index = store.find(me.getValueField(), newValue, null, null, null, true),\n            record = store.getAt(index);\n\n        me.setValue(record);\n    },\n\n    onChange: function(component, newValue, oldValue) {\n        var me = this,\n            store = me.getStore(),\n            index = (store) ? store.find(me.getDisplayField(), oldValue) : -1,\n            valueField = me.getValueField(),\n            record = (store) ? store.getAt(index) : null,\n            oldValue = (record) ? record.get(valueField) : null;\n\n        me.fireEvent('change', me, me.getValue(), oldValue);\n    },\n\n    /**\n     * Updates the underlying &lt;options&gt; list with new values.\n     * @param {Array} options An array of options configurations to insert or append.\n<pre><code>\nselectBox.setOptions(\n    [   {text: 'First Option',  value: 'first'},\n        {text: 'Second Option', value: 'second'},\n        {text: 'Third Option',  value: 'third'}\n    ]).setValue('third');\n</code></pre>\n     * Note: option object member names should correspond with defined {@link #valueField valueField} and\n     * {@link #displayField displayField} values.\n     * @return {Ext.field.Select} this\n     */\n    updateOptions: function(newOptions) {\n        var store = this.getStore();\n\n        if (!store) {\n            this.setStore(true);\n            store = this._store;\n        }\n\n        if (!newOptions) {\n            store.clearData();\n        }\n        else {\n            store.setData(newOptions);\n            this.onStoreDataChanged(store);\n        }\n    },\n\n    applyStore: function(store) {\n        if (store === true) {\n            store = Ext.create('Ext.data.Store', {\n                fields: [this.getValueField(), this.getDisplayField()]\n            });\n        }\n\n        if (store) {\n            store = Ext.data.StoreManager.lookup(store);\n\n            store.on({\n                scope: this,\n                addrecords: this.onStoreDataChanged,\n                removerecords: this.onStoreDataChanged,\n                updaterecord: this.onStoreDataChanged,\n                refresh: this.onStoreDataChanged\n            });\n        }\n\n        return store;\n    },\n\n    updateStore: function(newStore) {\n        if (newStore) {\n            this.onStoreDataChanged(newStore);\n        }\n    },\n\n    /**\n     * Called when the internal {@link #store}'s data has changed\n     */\n    onStoreDataChanged: function(store) {\n        var initialConfig = this.getInitialConfig(),\n            value = this.getValue();\n\n        if (Ext.isDefined(value)) {\n            this.updateValue(this.applyValue(value));\n        }\n\n        if (this.getValue() === null) {\n            if (initialConfig.hasOwnProperty('value')) {\n                this.setValue(initialConfig.value);\n            }\n\n            if (this.getValue() === null) {\n                if (store.getCount() > 0) {\n                    this.setValue(store.getAt(0));\n                }\n            }\n        }\n    },\n\n    /**\n     * @private\n     */\n    doSetDisabled: function(disabled) {\n        Ext.Component.prototype.doSetDisabled.apply(this, arguments);\n    },\n\n    /**\n     * @private\n     */\n    setDisabled: function() {\n        Ext.Component.prototype.setDisabled.apply(this, arguments);\n    },\n\n    /**\n     * Resets the Select field to the value of the first record in the store.\n     * @return {Ext.field.Select} this\n     */\n    reset: function() {\n        var store = this.getStore(),\n            record = (this.originalValue) ? this.originalValue : store.getAt(0);\n\n        if (store && record) {\n            this.setValue(record);\n        }\n\n        return this;\n    },\n\n    onFocus: function(e) {\n        this.fireEvent('focus', this, e);\n\n        this.isFocused = true;\n\n        this.showPicker();\n    },\n\n    destroy: function() {\n        this.callParent(arguments);\n        Ext.destroy(this.listPanel, this.picker, this.hiddenField);\n    }\n});\n\nExt.define('B2B.view.Activity_List_Detail', {\n	extend: 'Ext.form.Panel',\n	id: 'ActivityDetail',\n	xtype: 'activitylistdetail',\n	requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar',\n        'Ext.field.Select'\n    ],\n	config: {\n		title: i18n.app.PANEL_ACTIVITYDETAIL,\n		iconCls: 'add'\n	},\n	initialize: function(){\n\n    	this.callParent(arguments);\n\n    	var backActivityDetailButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'activitylistdetailbackbutton',\n			handler: this.onActivityDetailBackButtonTap,\n			scope: this\n		};\n\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				backActivityDetailButton\n			]\n		};\n		this.add([toolbar]);\n    },\n	onActivityDetailBackButtonTap: function(){\n		this.fireEvent(\"backActivityDetailCommand\", this);\n	}\n});\nExt.define('B2B.view.Beer_Add_Form', {\n	extend: 'Ext.form.Panel',\n	id: 'BeerAddForm',\n	xtype: 'beeraddform',\n	requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar',\n        'Ext.field.Select'\n    ],\n	config: {\n		title: i18n.app.PANEL_ADDBEER,\n		iconCls: 'add',\n		submitOnAction: true,\n		defaults: {\n			labelAlign: 'left',\n			labelWidth: '50%',\n			labelHeight: '50%'\n		},\n		items: [\n			{\n				xtype: 'textfield',\n				name: 'name',\n				cls: 'beer_form_textfield',\n				placeHolder: i18n.app.HINT_BEERCHOOSENAME,\n				//label: i18n.app.LABEL_BEERNAME,\n				required: true\n			},\n			{\n				xtype: 'textfield',\n				name: 'brewery',\n				cls: 'beer_form_textfield',\n				placeHolder: i18n.app.HINT_BEERCHOOSEBREWERY,\n				//label: i18n.app.LABEL_BEERBREWERY,\n				required: true\n			},\n			{\n				xtype: 'selectfield',\n				name: \"beerstyle\",\n				id: \"selectfieldbeerstyle\",\n				cls: 'beer_form_selectfield',\n				placeHolder: i18n.app.HINT_BEERCHOOSESTYLE,\n				//label: i18n.app.LABEL_BEERSTYLE,\n				options: i18n.beerstyles\n			},\n			{\n				xtype: 'selectfield',\n				name: \"grad\",\n				id: \"selectfieldgrad\",\n				cls: 'beer_form_selectfield',\n				//label: i18n.app.LABEL_BEERGRAD,\n				placeHolder: i18n.app.HINT_BEERCHOOSEGRAD,\n				store: null,\n				options: i18n.beergrads\n			},\n			{\n				xtype: 'selectfield',\n				name: \"nationality\",\n				id: \"selectfieldnationality\",\n				cls: 'beer_form_selectfield',\n				//label: i18n.app.FORM_NATIONALITY,\n				placeHolder: i18n.app.HINT_BEERCHOOSENATIONALITY,\n				//options: i18n.countries\n			},\n			{\n				xtype: 'textareafield',\n				name: 'description',\n				cls: 'beer_form_textfield',\n				//label: i18n.app.LABEL_BEERDESCRIPTION,\n				placeHolder: i18n.app.HINT_BEERCHOOSEDESCRIPTION,\n			}\n		]\n	},\n	initialize: function(){\n\n    	this.callParent(arguments);\n\n    	var backBeerButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'beer_back_btn',\n			handler: this.onBeerBackButtonTap,\n			scope: this\n		};\n\n		var saveBeerButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_SAVE,\n			ui: 'action',\n			id: 'beer_save_btn',\n			handler: this.onBeerSaveButtonTap,\n			scope: this\n		};\n\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			title: i18n.app.PANEL_ADDBEERPANEL,\n			docked: 'top',\n			items: [\n				backBeerButton,\n				{\n					xtype: 'spacer'\n				},\n				saveBeerButton\n			]\n		};\n\n		this.add([toolbar]);\n		Ext.getCmp(\"selectfieldnationality\").setOptions(i18n.countries);\n\n    },\n	onBeerSaveButtonTap: function(){\n		this.fireEvent(\"beerSaveCommand\", this);\n	},\n	onBeerBackButtonTap: function(){\n		this.fireEvent(\"beerBackCommand\", this);\n	}\n});\nExt.define('B2B.view.Beer_Detail', {\n	extend: 'Ext.form.Panel',\n	id: 'BeerDetail',\n	xtype: 'beerdetailpanel',\n	requires: [\n		'Ext.Container',\n		'Ext.MessageBox',\n		'Ext.Panel',\n		'Ext.Toolbar',\n		'Ext.field.Select'\n	],\n	config: {\n		title: i18n.app.PANEL_BEERDETAIL,\n		iconCls: 'add'\n	},\n	initialize: function(){\n\n		this.callParent(arguments);\n\n		var backBeerDetailButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'beerdetail_back_btn',\n			handler: this.onBeerDetailBackButtonTap,\n			scope: this\n		},\n		reportBeerButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BEERREPORT,\n			ui: 'action',\n			id: 'beer_report_btn',\n			handler: this.onBeerReportButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				backBeerDetailButton,\n				{ xtype: 'spacer' },\n				reportBeerButton\n			]\n		},\n		reportBeerButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BEERREPORT,\n			ui: 'action',\n			id: 'beer_report_btn',\n			handler: this.onBeerReportButtonTap,\n			scope: this\n		},\n		addBeerFavoriteButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_ADDBEERFAVORITE,\n			ui: 'action',\n			id: 'favorites_addbeer_btn',\n			handler: this.onFavoritesAddBeerButtonTap,\n			scope: this,\n			//docked: 'bottom'\n		},\n		container = {\n			xtype: 'container',\n			html: this.getStringHTMLFromValues(this.jsonData.data)\n		}\n		this.add([toolbar, container, addBeerFavoriteButton]);\n\n	},\n	getStringHTMLFromValues: function(info){\n		var value = '';\n\n		if (info.image !== null && info.image !== '') {\n		value += '<img id=\"beer_thumbnail\" src=\"' + info.image +'\" /><hr />';\n		}\n\n		value += '<p>' + i18n.app.LABEL_BEERNAME + ': <span>' + _.titleize(info.name) + '</span></p>';\n		if(info.brewery) value+= '<p>' + i18n.app.LABEL_BEERBREWERY + ': <span>' + _.titleize(info.brewery) + '</span></p>';\n		if(info.beerstyle) value += '<p>' + i18n.app.LABEL_BEERSTYLE + ': <span>' + utils.getBeerStyleFromCode(parseInt(info.beerstyle)) + '</span></p>';\n		if(info.beertype) value += '<p>' + i18n.app.LABEL_BEERTYPE + ': <span>' + utils.getBeerTypeFromCode(parseInt(info.beertype)) + '</span></p>';\n		if(info.grad) value += '<p>' + i18n.app.LABEL_BEERGRAD + ': <span>' + info.grad + '</span></p>';\n		if(info.nationality) value += '<p>' + i18n.app.LABEL_BEERNATIONALITY + ': <span>' + utils.getCountryFromCode(info.nationality) + '</span></p>';\n		if(info.description) value += '<p>' + i18n.app.LABEL_BEERDESCRIPTION + ': <span>' + info.description + '</span></p>';\n		return value;\n	},\n	onBeerReportButtonTap: function(){\n		this.fireEvent(\"reportBeerCommand\", this);\n	},\n	onFavoritesAddBeerButtonTap: function(){\n		this.fireEvent(\"addFavoriteBeerCommand\", this, this.jsonData.data);\n	},\n	onBeerDetailBackButtonTap: function(){\n		this.fireEvent(\"backBeerDetailCommand\", this);\n	}\n});\n\n\nExt.define('B2B.view.Place_Detail', {\n	extend: 'Ext.form.Panel',\n	id: 'PlaceDetail',\n	xtype: 'placedetailpanel',\n	requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar',\n        'Ext.field.Select',\n        'Ext.ux.starrating.StarRating'\n    ],\n	config: {\n		title: i18n.app.PANEL_PLACE,\n		iconCls: 'add',\n		layout: 'vbox'\n	},\n	initialize: function(){\n		this.callParent(arguments);\n    	var jsonData = this.jsonData,\n	    	getStringHTMLFromValues = function(){\n				var value = \"\";\n\n				if (!_.isEmpty(jsonData.image)) {\n				   value += '<img class=\"avatar_medium\" src=\"' + jsonData.image +'\" />';\n				}else{\n					value += '<img class=\"avatar_medium\" src=\"' + HH.default_user64 +'\" />';\n				}\n\n				value += \"<h1>\"+jsonData.placeName+\"</p>\";\n				value += \"<p>\"+jsonData.url+\"</p>\";\n				value += \"<p>\"+jsonData.category+\"</p>\";\n				return value;\n			},\n			backPlaceDetailButton = {\n				xtype: \"button\",\n				text: i18n.app.BTN_BACK,\n				ui: 'back',\n				id: 'placedetail_back_btn',\n				handler: this.onPlaceDetailBackButtonTap,\n				scope: this\n			},\n		    toolbar = {\n				xtype: 'toolbar',\n				cls: 'sub_titlebar',\n				docked: 'top',\n				items: [\n					backPlaceDetailButton/*,\n					{ xtype: 'spacer' },\n					reportBeerButton*/\n				]\n			},\n			content = {\n				xtype: 'container',\n				id: 'placeDetailContent',\n				html: getStringHTMLFromValues(jsonData),\n				flex: 1\n			},\n			rating = {\n				xtype: 'starrating',\n				itemsCount : 10,\n				label : '',\n				value: 5,\n				valueCls: 'x-starrating-value',\n				itemCls : 'x-starrating',\n				itemHoverCls : 'x-starrating-hover',\n				height: 40\n			};\n\n		this.add([toolbar, content, rating, { xtype: 'spacer' }]);\n\n	},\n	/*\n	onPlaceReportButtonTap: function(){\n		this.fireEvent(\"reportPlaceCommand\", this);\n	},*/\n	onPlaceDetailBackButtonTap: function(){\n		this.fireEvent(\"backPlaceDetailCommand\", this);\n	},\n	onSelectBeerButtonTap: function(){\n		this.fireEvent(\"selectBeerDrinkCommand\", this);\n	},\n	onDrinkInButtonTap: function(){\n		this.fireEvent(\"onDrinkInCommand\", this);\n	}\n});\nExt.define('B2B.view.Favorites_List_Container', {\n	extend: 'Ext.form.Panel',\n	id: 'favoritespanel',\n	xtype: 'favoritespanel',\n	requires: [\n		'Ext.Container',\n		'Ext.MessageBox',\n		'Ext.Panel',\n		'Ext.Toolbar',\n		'Ext.field.Select'\n	],\n	config: {\n		title: i18n.app.PANEL_FAVORITESPANEL,\n		iconCls: 'add',\n		layout: 'vbox'\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var backFavoritesButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'favorites_back_btn',\n			handler: this.onFavoritesBackButtonTap,\n			scope: this\n		},\n		jumptoBeerButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_ADDFAVORITE,\n			ui: 'action',\n			id: 'favorites_add_btn',\n			handler: this.onFavoritesAddButtonTap,\n			scope: this,\n			docked: 'bottom'\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				backFavoritesButton\n			]\n		},\n		favoritesList = {\n			xtype: \"favoriteslistcomponent\",\n			store: Ext.getStore(\"FavoriteBeers_Local\"),\n			flex: 1\n		},\n		container = {\n			xtype: 'panel',\n			flex: 1,\n			layout: {\n				type: 'vbox'\n			},\n			items: [\n				favoritesList,\n				jumptoBeerButton\n			]\n		};\n\n		this.add([toolbar, /*favoritesList,*/ container]);\n\n	},\n	onFavoritesBackButtonTap: function(){\n		this.fireEvent(\"backFavoritesCommand\", this);\n	},\n	onFavoritesAddButtonTap: function(){\n		this.fireEvent(\"jumptoBeerCommand\", this);\n	}\n});\nExt.define('B2B.view.Friend_Finder', {\n	extend: 'Ext.form.Panel',\n	id: 'FriendFinder',\n	xtype: 'friendfinderpanel',\n	requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar',\n        'Ext.field.Select'\n    ],\n	config: {\n		title: i18n.app.PANEL_FRIENDFINDER,\n		iconCls: 'add',\n		items: [\n		]\n	},\n	initialize: function(){\n\n    	this.callParent(arguments);\n\n    	var backFriendFinderButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'friendfinder_back_btn',\n			handler: this.onFriendFinderBackButtonTap,\n			scope: this\n		};\n\n		var toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				backFriendFinderButton,\n			]\n		};\n		this.add([toolbar]);\n\n    },\n	onFriendFinderBackButtonTap: function(){\n		this.fireEvent(\"backFriendFinderCommand\", this);\n	}\n});\nExt.define('B2B.view.Friend_Detail', {\n	extend: 'Ext.form.Panel',\n	id: 'FriendDetail',\n	xtype: 'frienddetailpanel',\n	requires: [\n		'Ext.Container',\n		'Ext.MessageBox',\n		'Ext.Panel',\n		'Ext.Toolbar',\n		'Ext.field.Select'\n	],\n	config: {\n		title: i18n.app.PANEL_FRIENDDETAIL,\n		iconCls: 'add',\n		items: [\n		]\n	},\n	initialize: function(){\n		this.callParent(arguments);\n\n		var backFriendDetailButton = {\n			xtype: \"button\",\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'frienddetail_back_btn',\n			handler: this.onFriendDetailBackButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			cls: 'sub_titlebar',\n			docked: 'top',\n			items: [\n				backFriendDetailButton\n			]\n		},\n		deleteProfileButton = {\n			text: i18n.app.BTN_REMOVE,\n			ui: 'action',\n			id: 'delete_profile_btn',\n			handler: this.onDeleteProfileButtonTap,\n			scope: this\n		},\n		html = this.getStringHTMLFromValues(this.jsonData.data);\n\n		this.add([toolbar, deleteProfileButton]);\n		this.setHtml([html]);\n	},\n	getStringHTMLFromValues: function(info){\n		var value = '';\n\n		if (_.isEmpty(info.image)) {\n			value += '<img class=\"avatar_small\" src=\"' + HH.default_user64 +'\" width=\"200\" height=\"200\" />';\n		}\n		value += '<div class=\"profile-detail\">';\n		value += '<p>' + i18n.app.HTML_NAME + ': <b>' + info.firstName + '</b></p>';\n		value += '<p>' + i18n.app.HTML_SURNAME + ': <b>' + info.lastName + '</b></p>';\n		value += '<p>' + i18n.app.HTML_ALIAS + ': <b>' + info.displayName + '</b></p>';\n		value += '<hr />';\n		value += '<p>' + i18n.app.HTML_EMAIL + ': <b>' + info.email + '</b></p>';\n		value += '<hr />';\n		value += '<p>' + i18n.app.HTML_NFRIENDS + ': <b>' + info.counter_friends + '</b></p>';\n		value += '<p>' + i18n.app.HTML_CHECKINS + ': <b>' + info.counter_checkIns + '</b></p>';\n		value += '<p>' + i18n.app.HTML_BADGES + ': <b>' + info.counter_badges + '</b></p>';\n		value += '</div>';\n		return value;\n	},\n	onFriendDetailBackButtonTap: function(){\n		this.fireEvent(\"backFriendDetailCommand\", this);\n	},\n	onFriendRemoveBackButtonTap: function(){\n		this.fireEvent(\"removeFriendDetailCommand\", this);\n	}\n});\n/**\nA date picker component which shows a Date Picker on the screen. This class extends from {@link Ext.picker.Picker}\nand {@link Ext.Sheet} so it is a popup.\n\nThis component has no required configurations.\n\n## Examples\n\n    @example miniphone preview\n    var datePicker = Ext.create('Ext.picker.Date');\n    Ext.Viewport.add(datePicker);\n    datePicker.show();\n\nYou may want to adjust the {@link #yearFrom} and {@link #yearTo} properties:\n\n    @example miniphone preview\n    var datePicker = Ext.create('Ext.picker.Date', {\n        yearFrom: 2000,\n        yearTo  : 2015\n    });\n    Ext.Viewport.add(datePicker);\n    datePicker.show();\n\nYou can set the value of the {@link Ext.picker.Date} to the current date using `new Date()`:\n\n    @example miniphone preview\n    var datePicker = Ext.create('Ext.picker.Date', {\n        value: new Date()\n    });\n    Ext.Viewport.add(datePicker);\n    datePicker.show();\n\nAnd you can hide the titles from each of the slots by using the {@link #useTitles} configuration:\n\n    @example miniphone preview\n    var datePicker = Ext.create('Ext.picker.Date', {\n        useTitles: false\n    });\n    Ext.Viewport.add(datePicker);\n    datePicker.show();\n\n */\nExt.define('Ext.picker.Date', {\n    extend: 'Ext.picker.Picker',\n    xtype: 'datepicker',\n    alternateClassName: 'Ext.DatePicker',\n    requires: ['Ext.DateExtras'],\n\n    /**\n     * @event change\n     * Fired when the value of this picker has changed and the done button is pressed.\n     * @param {Ext.picker.Date} this This Picker\n     * @param {Date} value The date value\n     */\n\n    config: {\n        /**\n         * @cfg {Number} yearFrom\n         * The start year for the date picker.\n         * @accessor\n         */\n        yearFrom: 1980,\n\n        /**\n         * @cfg {Number} yearTo\n         * The last year for the date picker.\n         * @default the current year (new Date().getFullYear())\n         * @accessor\n         */\n        yearTo: new Date().getFullYear(),\n\n        /**\n         * @cfg {String} monthText\n         * The label to show for the month column.\n         * @accessor\n         */\n        monthText: 'Month',\n\n        /**\n         * @cfg {String} dayText\n         * The label to show for the day column.\n         * @accessor\n         */\n        dayText: 'Day',\n\n        /**\n         * @cfg {String} yearText\n         * The label to show for the year column.\n         * @accessor\n         */\n        yearText: 'Year',\n\n        /**\n         * @cfg {Array} slotOrder\n         * An array of strings that specifies the order of the slots.\n         * @accessor\n         */\n        slotOrder: ['month', 'day', 'year']\n\n        /**\n         * @cfg {Object/Date} value\n         * Default value for the field and the internal {@link Ext.picker.Date} component. Accepts an object of 'year',\n         * 'month' and 'day' values, all of which should be numbers, or a {@link Date}.\n         *\n         * Examples:\n         * {year: 1989, day: 1, month: 5} = 1st May 1989.\n         * new Date() = current date\n         * @accessor\n         */\n\n        /**\n         * @cfg {Array} slots\n         * @hide\n         * @accessor\n         */\n    },\n\n    initialize: function() {\n        this.callParent();\n\n        this.on({\n            scope: this,\n            delegate: '> slot',\n            slotpick: this.onSlotPick\n        });\n    },\n\n    setValue: function(value, animated) {\n        if (Ext.isDate(value)) {\n            value = {\n                day  : value.getDate(),\n                month: value.getMonth() + 1,\n                year : value.getFullYear()\n            };\n        }\n\n        this.callParent([value, animated]);\n    },\n\n    getValue: function(useDom) {\n        var values = {},\n            items = this.getItems().items,\n            ln = items.length,\n            daysInMonth, day, month, year, item, i;\n\n        for (i = 0; i < ln; i++) {\n            item = items[i];\n            if (item instanceof Ext.picker.Slot) {\n                values[item.getName()] = item.getValue(useDom);\n            }\n        }\n\n        //if all the slots return null, we should not reutrn a date\n        if (values.year === null && values.month === null && values.day === null) {\n            return null;\n        }\n\n        year = Ext.isNumber(values.year) ? values.year : 1;\n        month = Ext.isNumber(values.month) ? values.month : 1;\n        day = Ext.isNumber(values.day) ? values.day : 1;\n\n        if (month && year && month && day) {\n            daysInMonth = this.getDaysInMonth(month, year);\n        }\n        day = (daysInMonth) ? Math.min(day, daysInMonth): day;\n\n        return new Date(year, month - 1, day);\n    },\n\n    /**\n     * Updates the yearFrom configuration\n     */\n    updateYearFrom: function() {\n        if (this.initialized) {\n            this.createSlots();\n        }\n    },\n\n    /**\n     * Updates the yearTo configuration\n     */\n    updateYearTo: function() {\n        if (this.initialized) {\n            this.createSlots();\n        }\n    },\n\n    /**\n     * Updates the monthText configuration\n     */\n    updateMonthText: function(newMonthText, oldMonthText) {\n        var innerItems = this.getInnerItems,\n            ln = innerItems.length,\n            item, i;\n\n        //loop through each of the current items and set the title on the correct slice\n        if (this.initialized) {\n            for (i = 0; i < ln; i++) {\n                item = innerItems[i];\n\n                if ((typeof item.title == \"string\" && item.title == oldMonthText) || (item.title.html == oldMonthText)) {\n                    item.setTitle(newMonthText);\n                }\n            }\n        }\n    },\n\n    /**\n     * Updates the dayText configuraton\n     */\n    updateDayText: function(newDayText, oldDayText) {\n        var innerItems = this.getInnerItems,\n            ln = innerItems.length,\n            item, i;\n\n        //loop through each of the current items and set the title on the correct slice\n        if (this.initialized) {\n            for (i = 0; i < ln; i++) {\n                item = innerItems[i];\n\n                if ((typeof item.title == \"string\" && item.title == oldDayText) || (item.title.html == oldDayText)) {\n                    item.setTitle(newDayText);\n                }\n            }\n        }\n    },\n\n    /**\n     * Updates the yearText configuration\n     */\n    updateYearText: function(yearText) {\n        var innerItems = this.getInnerItems,\n            ln = innerItems.length,\n            item, i;\n\n        //loop through each of the current items and set the title on the correct slice\n        if (this.initialized) {\n            for (i = 0; i < ln; i++) {\n                item = innerItems[i];\n\n                if (item.title == this.yearText) {\n                    item.setTitle(yearText);\n                }\n            }\n        }\n    },\n\n    // @private\n    constructor: function() {\n        this.callParent(arguments);\n        this.createSlots();\n    },\n\n    /**\n     * Generates all slots for all years specified by this component, and then sets them on the component\n     * @private\n     */\n    createSlots: function() {\n        var me        = this,\n            slotOrder = this.getSlotOrder(),\n            yearsFrom = me.getYearFrom(),\n            yearsTo   = me.getYearTo(),\n            years     = [],\n            days      = [],\n            months    = [],\n            ln, tmp, i,\n            daysInMonth;\n\n        // swap values if user mixes them up.\n        if (yearsFrom > yearsTo) {\n            tmp = yearsFrom;\n            yearsFrom = yearsTo;\n            yearsTo = tmp;\n        }\n\n        for (i = yearsFrom; i <= yearsTo; i++) {\n            years.push({\n                text: i,\n                value: i\n            });\n        }\n\n        daysInMonth = this.getDaysInMonth(1, new Date().getFullYear());\n\n        for (i = 0; i < daysInMonth; i++) {\n            days.push({\n                text: i + 1,\n                value: i + 1\n            });\n        }\n\n        for (i = 0, ln = Ext.Date.monthNames.length; i < ln; i++) {\n            months.push({\n                text: Ext.Date.monthNames[i],\n                value: i + 1\n            });\n        }\n\n        var slots = [];\n\n        slotOrder.forEach(function(item) {\n            slots.push(this.createSlot(item, days, months, years));\n        }, this);\n\n        me.setSlots(slots);\n    },\n\n    /**\n     * Returns a slot config for a specified date.\n     * @private\n     */\n    createSlot: function(name, days, months, years) {\n        switch (name) {\n            case 'year':\n                return {\n                    name: 'year',\n                    align: 'center',\n                    data: years,\n                    title: this.getYearText(),\n                    flex: 3\n                };\n            case 'month':\n                return {\n                    name: name,\n                    align: 'right',\n                    data: months,\n                    title: this.getMonthText(),\n                    flex: 4\n                };\n            case 'day':\n                return {\n                    name: 'day',\n                    align: 'center',\n                    data: days,\n                    title: this.getDayText(),\n                    flex: 2\n                };\n        }\n    },\n\n    onSlotPick: function() {\n        var value = this.getValue(true),\n            slot = this.getDaySlot(),\n            year = value.getFullYear(),\n            month = value.getMonth(),\n            days = [],\n            daysInMonth, i;\n\n        if (!value || !Ext.isDate(value) || !slot) {\n            return;\n        }\n\n        //get the new days of the month for this new date\n        daysInMonth = this.getDaysInMonth(month + 1, year);\n        for (i = 0; i < daysInMonth; i++) {\n            days.push({\n                text: i + 1,\n                value: i + 1\n            });\n        }\n\n        // We dont need to update the slot days unless it has changed\n        if (slot.getData().length == days.length) {\n            return;\n        }\n\n        // Now we have the correct amounnt of days for the day slot, lets update it\n        var store = slot.getStore(),\n            viewItems = slot.getViewItems(),\n            valueField = slot.getValueField(),\n            index, item;\n\n        slot.setData(days);\n\n        index = store.find(valueField, value.getDate());\n        if (index == -1) {\n            return;\n        }\n\n        item = Ext.get(viewItems[index]);\n\n        slot.selectedIndex = index;\n        slot.scrollToItem(item);\n\n//        slot._value = value;\n    },\n\n    getDaySlot: function() {\n        var innerItems = this.getInnerItems(),\n            ln = innerItems.length,\n            i, slot;\n\n        if (this.daySlot) {\n            return this.daySlot;\n        }\n\n        for (i = 0; i < ln; i++) {\n            slot = innerItems[i];\n            if (slot.isSlot && slot.getName() == \"day\") {\n                this.daySlot = slot;\n                return slot;\n            }\n        }\n\n        return null;\n    },\n\n    // @private\n    getDaysInMonth: function(month, year) {\n        var daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n        return month == 2 && this.isLeapYear(year) ? 29 : daysInMonth[month-1];\n    },\n\n    // @private\n    isLeapYear: function(year) {\n        return !!((year & 3) === 0 && (year % 100 || (year % 400 === 0 && year)));\n    },\n\n    onDoneButtonTap: function() {\n        var oldValue = this._value,\n            newValue = this.getValue(true),\n            testValue = newValue;\n\n        if (Ext.isDate(newValue)) {\n            testValue = newValue.toDateString();\n        }\n        if (Ext.isDate(oldValue)) {\n            oldValue = oldValue.toDateString();\n        }\n\n        if (testValue != oldValue) {\n            this.fireEvent('change', this, newValue);\n        }\n\n        this.hide();\n    }\n});\n\n/**\n * @aside guide forms\n *\n * This is a specialized field which shows a {@link Ext.picker.Date} when tapped. If it has a predefined value,\n * or a value is selected in the {@link Ext.picker.Date}, it will be displayed like a normal {@link Ext.field.Text}\n * (but not selectable/changable).\n *\n *     Ext.create('Ext.field.DatePicker', {\n *         label: 'Birthday',\n *         value: new Date()\n *     });\n *\n * {@link Ext.field.DatePicker} fields are very simple to implement, and have no required configurations.\n *\n * ## Examples\n *\n * It can be very useful to set a default {@link #value} configuration on {@link Ext.field.DatePicker} fields. In\n * this example, we set the {@link #value} to be the current date. You can also use the {@link #setValue} method to\n * update the value at any time.\n *\n *     @example miniphone preview\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 items: [\n *                     {\n *                         xtype: 'datepickerfield',\n *                         label: 'Birthday',\n *                         name: 'birthday',\n *                         value: new Date()\n *                     }\n *                 ]\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 docked: 'bottom',\n *                 items: [\n *                     { xtype: 'spacer' },\n *                     {\n *                         text: 'setValue',\n *                         handler: function() {\n *                             var datePickerField = Ext.ComponentQuery.query('datepickerfield')[0];\n *\n *                             var randomNumber = function(from, to) {\n *                                 return Math.floor(Math.random() * (to - from + 1) + from);\n *                             };\n *\n *                             datePickerField.setValue({\n *                                 month: randomNumber(0, 11),\n *                                 day  : randomNumber(0, 28),\n *                                 year : randomNumber(1980, 2011)\n *                             });\n *                         }\n *                     },\n *                     { xtype: 'spacer' }\n *                 ]\n *             }\n *         ]\n *     });\n *\n * When you need to retrieve the date from the {@link Ext.field.DatePicker}, you can either use the {@link #getValue} or\n * {@link #getFormattedValue} methods:\n *\n *     @example preview\n *     Ext.create('Ext.form.Panel', {\n *         fullscreen: true,\n *         items: [\n *             {\n *                 xtype: 'fieldset',\n *                 items: [\n *                     {\n *                         xtype: 'datepickerfield',\n *                         label: 'Birthday',\n *                         name: 'birthday',\n *                         value: new Date()\n *                     }\n *                 ]\n *             },\n *             {\n *                 xtype: 'toolbar',\n *                 docked: 'bottom',\n *                 items: [\n *                     {\n *                         text: 'getValue',\n *                         handler: function() {\n *                             var datePickerField = Ext.ComponentQuery.query('datepickerfield')[0];\n *                             Ext.Msg.alert(null, datePickerField.getValue());\n *                         }\n *                     },\n *                     { xtype: 'spacer' },\n *                     {\n *                         text: 'getFormattedValue',\n *                         handler: function() {\n *                             var datePickerField = Ext.ComponentQuery.query('datepickerfield')[0];\n *                             Ext.Msg.alert(null, datePickerField.getFormattedValue());\n *                         }\n *                     }\n *                 ]\n *             }\n *         ]\n *     });\n *\n *\n */\nExt.define('Ext.field.DatePicker', {\n    extend: 'Ext.field.Text',\n    alternateClassName: 'Ext.form.DatePicker',\n    xtype: 'datepickerfield',\n    requires: [\n        'Ext.picker.Date',\n        'Ext.DateExtras'\n    ],\n\n    /**\n     * @event change\n     * Fires when a date is selected\n     * @param {Ext.field.DatePicker} this\n     * @param {Date} date The new date\n     */\n\n    config: {\n        ui: 'select',\n\n        /**\n         * @cfg {Object/Ext.picker.Date} picker\n         * An object that is used when creating the internal {@link Ext.picker.Date} component or a direct instance of {@link Ext.picker.Date}\n         * Defaults to true\n         * @accessor\n         */\n        picker: true,\n\n        /**\n         * @cfg {Boolean}\n         * @hide\n         * @accessor\n         */\n        clearIcon: false,\n\n        /**\n         * @cfg {Object/Date} value\n         * Default value for the field and the internal {@link Ext.picker.Date} component. Accepts an object of 'year',\n         * 'month' and 'day' values, all of which should be numbers, or a {@link Date}.\n         *\n         * Example: {year: 1989, day: 1, month: 5} = 1st May 1989 or new Date()\n         * @accessor\n         */\n\n        /**\n         * @cfg {Boolean} destroyPickerOnHide\n         * Whether or not to destroy the picker widget on hide. This save memory if it's not used frequently,\n         * but increase delay time on the next show due to re-instantiation. Defaults to false\n         * @accessor\n         */\n        destroyPickerOnHide: false,\n\n        /**\n         * @cfg {String} dateFormat The format to be used when displaying the date in this field.\n         * Accepts any valid date format. You can view formats over in the {@link Ext.Date} documentation.\n         * Defaults to `Ext.util.Format.defaultDateFormat`.\n         */\n        dateFormat: null,\n\n        /**\n         * @cfg {Object}\n         * @hide\n         */\n        component: {\n            useMask: true\n        }\n    },\n\n    initialize: function() {\n        this.callParent();\n\n        this.getComponent().on({\n            scope: this,\n            masktap: 'onMaskTap'\n        });\n\n        this.getComponent().input.dom.disabled = true;\n    },\n\n    syncEmptyCls: Ext.emptyFn,\n\n    applyValue: function(value) {\n        if (!Ext.isDate(value) && !Ext.isObject(value)) {\n            return null;\n        }\n\n        if (Ext.isObject(value)) {\n            return new Date(value.year, value.month - 1, value.day);\n        }\n\n        return value;\n    },\n\n    updateValue: function(newValue) {\n        var picker = this._picker;\n        if (picker && picker.isPicker) {\n            picker.setValue(newValue);\n        }\n\n        // Ext.Date.format expects a Date\n        if (newValue !== null) {\n            this.getComponent().setValue(Ext.Date.format(newValue, this.getDateFormat() || Ext.util.Format.defaultDateFormat));\n        } else {\n            this.getComponent().setValue('');\n        }\n\n        if (this._picker && this._picker instanceof Ext.picker.Date) {\n            this._picker.setValue(newValue);\n        }\n    },\n\n    /**\n     * Updates the date format in the field.\n     * @private\n     */\n    updateDateFormat: function(newDateFormat, oldDateFormat) {\n        var value = this.getValue();\n        if (newDateFormat != oldDateFormat && Ext.isDate(value)) {\n            this.getComponent().setValue(Ext.Date.format(value, newDateFormat || Ext.util.Format.defaultDateFormat));\n        }\n    },\n\n    /**\n     * Returns the {@link Date} value of this field.\n     * If you wanted a formated date\n     * @return {Date} The date selected\n     */\n    getValue: function() {\n        if (this._picker && this._picker instanceof Ext.picker.Date) {\n            return this._picker.getValue();\n        }\n\n        return this._value;\n    },\n\n    /**\n     * Returns the value of the field formatted using the specified format. If it is not specified, it will default to\n     * {@link #dateFormat} and then {@link Ext.util.Format#defaultDateFormat}.\n     * @param {String} format The format to be returned\n     * @return {String} The formatted date\n     */\n    getFormattedValue: function(format) {\n        var value = this.getValue();\n        return (Ext.isDate(value)) ? Ext.Date.format(value, format || this.getDateFormat() || Ext.util.Format.defaultDateFormat) : value;\n    },\n\n    applyPicker: function(picker, pickerInstance) {\n        if (pickerInstance && pickerInstance.isPicker) {\n            picker = pickerInstance.setConfig(picker);\n        }\n\n        return picker;\n    },\n\n    getPicker: function() {\n        var picker = this._picker,\n            value = this.getValue();\n\n        if (picker && !picker.isPicker) {\n            picker = Ext.factory(picker, Ext.picker.Date);\n            if (value != null) {\n                picker.setValue(value);\n            }\n        }\n\n        picker.on({\n            scope: this,\n            change: 'onPickerChange',\n            hide  : 'onPickerHide'\n        });\n        Ext.Viewport.add(picker);\n        this._picker = picker;\n\n        return picker;\n    },\n\n    /**\n     * @private\n     * Listener to the tap event of the mask element. Shows the internal DatePicker component when the button has been tapped.\n     */\n    onMaskTap: function() {\n        if (this.getDisabled()) {\n            return false;\n        }\n\n        if (this.getReadOnly()) {\n            return false;\n        }\n\n        this.getPicker().show();\n\n        return false;\n    },\n\n    /**\n     * Called when the picker changes its value\n     * @param {Ext.picker.Date} picker The date picker\n     * @param {Object} value The new value from the date picker\n     * @private\n     */\n    onPickerChange: function(picker, value) {\n        var me = this;\n\n        me.setValue(value);\n        me.fireEvent('change', me, me.getValue());\n    },\n\n    /**\n     * Destroys the picker when it is hidden, if\n     * {@link Ext.field.DatePicker#destroyPickerOnHide destroyPickerOnHide} is set to true\n     * @private\n     */\n    onPickerHide: function() {\n        var picker = this.getPicker();\n        if (this.getDestroyPickerOnHide() && picker) {\n            picker.destroy();\n            this._picker = true;\n        }\n    },\n\n    reset: function() {\n        this.setValue(this.originalValue);\n    },\n\n    // @private\n    destroy: function() {\n        var picker = this._picker;\n\n        if (picker && picker.isPicker) {\n            picker.destroy();\n        }\n\n        this.callParent(arguments);\n    }\n}, function() {\n    this.override({\n        getValue: function(format) {\n            if (format) {\n                Ext.Logger.deprecate(\"format argument of the getValue method is deprecated, please use getFormattedValue instead\", this);\n                return this.getFormattedValue(format);\n            }\n            return this.callOverridden();\n        }\n    });\n\n    /**\n     * @method getDatePicker\n     * @inheritdoc Ext.field.DatePicker#getPicker\n     * @deprecated 2.0.0 Please use #getPicker instead\n     */\n    Ext.deprecateMethod(this, 'getDatePicker', 'getPicker');\n});\n\nExt.define('B2B.view.User_Form', {\n	extend: 'Ext.form.Panel',\n	xtype: 'userform',\n	id: 'userform',\n	requires: [\n		'Ext.form.FieldSet',\n		'Ext.field.Hidden',\n		'Ext.field.DatePicker',\n		'Ext.field.Select',\n		'Ext.field.Toggle',\n		'Ext.Img',\n		'Ext.ActionSheet'\n	],\n	config: {\n		title: i18n.app.PANEL_PROFILEEDIT,\n		iconCls: 'settings6',\n		url: '/cippa.php',\n		items: [\n			{\n				xtype: 'panel',\n				layout:{\n					type:'hbox',\n					align: 'strech'\n				},\n				defaults:{flex:'1'},\n				items: [\n					{\n						xtype: 'image',\n						name: 'image',\n						id : 'ProfileImage',\n						// TODO AVATAR IMAGE\n						src: HH.default_user64,\n						width: 64,\n						margin: 10,\n						mode: 'element',\n						listeners: {\n							tap: function (img, evt) {\n								if(!this.actions){\n									this.actions = Ext.Viewport.add(\n										{\n											xtype: 'actionsheet',\n											items: [\n												{\n													text: i18n.app.BTN_CHOOSEPICTURE,\n													scope: this,\n													ui: 'confirm',\n													handler: function(){\n														Ext.getCmp(\"userform\").fireEvent(\"chooseProfilePictureCommand\", this, Ext.getCmp(\"ProfileImage\"));\n														this.actions.hide();\n													}\n												},\n												{\n													text: i18n.app.BTN_REMOVEPICTURE,\n													scope: this,\n													ui: 'decline',\n													handler: function(){\n														Ext.getCmp(\"ProfileImage\").setSrc(HH.default_user64);\n														this.actions.hide();\n													}\n												},\n												{\n													text: i18n.app.BTN_CANCEL,\n													scope: this,\n													handler: function(){\n														this.actions.hide();\n													}\n												}\n											]\n										}\n									);\n								}\n								this.actions.show();\n							}\n						}\n					},\n					{\n						xtype: 'fieldset',\n						title: i18n.app.FORM_ACCOUNT,\n						instructions: i18n.app.HINT_DISPLAYNAME,\n						flex: 1,\n						items: [\n							{\n								xtype: 'hiddenfield',\n								name: 'idUser'\n							},\n							{\n								xtype: 'hiddenfield',\n								name: 'pwdHash'\n							},\n							{\n								xtype: 'hiddenfield',\n								name: 'role'\n							},\n							{\n								xtype: 'hiddenfield',\n								name: 'status'\n							},\n							{\n								xtype: 'textfield',\n								name: 'username',\n								label: i18n.app.FORM_USERNAME,\n								disabled: true\n							},\n							{\n								xtype: 'textfield',\n								name: 'email',\n								label: i18n.app.FORM_EMAIL,\n								disabled: true\n							},\n							{\n								xtype: 'textfield',\n								name: 'displayName',\n								label: i18n.app.FORM_DISPLAYNAME\n							}\n						]\n					}\n				]\n			},\n			{\n				xtype: 'fieldset',\n				title: i18n.app.FORM_PROFILE,\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'firstName',\n						label: i18n.app.FORM_FIRSTNAME,\n						placeHolder: i18n.app.HINT_CHOOSEFIRSTNAME,\n					},\n					{\n						xtype: 'textfield',\n						name: 'lastName',\n						label: i18n.app.FORM_LASTNAME,\n					},\n					{\n						xtype: 'textfield',\n						name: 'description',\n						label: i18n.app.FORM_DESCRIPTION,\n					},\n					{\n						xtype: 'datepickerfield',\n						destroyPickerOnHide: true,\n						name: 'birthDay',\n						label: i18n.app.FORM_BIRTHDATE,\n						placeHolder: i18n.app.HINT_CHOOSEBIRTHDATE,\n						yearFrom: 1940\n					},\n					{\n						xtype: 'selectfield',\n						name: \"gender\",\n						label: i18n.app.FORM_GENDER,\n						placeHolder: i18n.app.HINT_CHOOSEGENDER,\n						options: [\n							{\n								text: i18n.app.LABEL_UNDISCLOSED,\n								value: 0\n							},\n							{\n								text: i18n.app.LABEL_MALE,\n								value: 1\n							},\n							{\n								text: i18n.app.LABEL_FEMALE,\n								value: 2\n							}\n						]\n					},\n					{\n						xtype: 'selectfield',\n						name: \"nationality\",\n						cls: \"nation\",\n						label: i18n.app.FORM_NATIONALITY,\n						placeHolder: i18n.app.HINT_CHOOSENATIONALITY,\n						options: i18n.countries\n					}\n				]\n			},\n			{\n				xtype: \"fieldset\",\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'activatedOn',\n						id: 'activatedOnField',\n						label: i18n.app.FORM_ACTIVATEDON,\n						disabled: true\n					},\n					{\n						xtype: 'textfield',\n						name: 'lastLoginOn',\n						id: 'lastLoginOnField',\n						label: i18n.app.FORM_LASTLOGINON,\n						disabled: true\n					}\n				]\n			}\n		]\n	},\n	initialize: function(){\n\n		this.callParent(arguments);\n\n		var saveProfileButton = {\n			text: i18n.app.BTN_SAVE,\n			ui: 'action',\n			id: 'save_profile_btn',\n			handler: this.onSaveProfileButtonTap,\n			scope: this\n		},\n		backProfileButton = {\n			text: i18n.app.BTN_BACK,\n			ui: 'back',\n			id: 'back_profile_btn',\n			handler: this.onBackProfileButtonTap,\n			scope: this\n		},\n		toolbar = {\n			xtype: 'toolbar',\n			docked: 'top',\n			cls: 'sub_titlebar',\n			title: i18n.app.PANEL_PROFILEEDIT,\n			id: 'ProfileFormTitlebar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				backProfileButton,\n				{ xtype: 'spacer' },\n				saveProfileButton\n			]\n		};\n\n		this.add([toolbar]);\n	},\n	onSaveProfileButtonTap: function(){\n		this.fireEvent(\"saveProfileCommand\", this);\n	},\n	onBackProfileButtonTap: function(){\n		this.fireEvent(\"backProfileCommand\", this);\n	}\n});\n/**\n * @author Ed Spencer\n *\n * WebStorageProxy is simply a superclass for the {@link Ext.data.proxy.LocalStorage LocalStorage} proxy. It uses the\n * new HTML5 key/value client-side storage objects to save {@link Ext.data.Model model instances} for offline use.\n * @private\n */\nExt.define('Ext.data.proxy.WebStorage', {\n    extend: 'Ext.data.proxy.Client',\n    alternateClassName: 'Ext.data.WebStorageProxy',\n\n    requires: 'Ext.Date',\n\n    config: {\n        /**\n         * @cfg {String} id\n         * The unique ID used as the key in which all record data are stored in the local storage object.\n         */\n        id: undefined,\n\n        // WebStorage proxies dont use readers and writers\n        reader: null,\n        writer: null\n    },\n\n    /**\n     * Creates the proxy, throws an error if local storage is not supported in the current browser.\n     * @param {Object} config (optional) Config object.\n     */\n    constructor: function(config) {\n        this.callParent(arguments);\n\n        /**\n         * @property {Object} cache\n         * Cached map of records already retrieved by this Proxy. Ensures that the same instance is always retrieved.\n         */\n        this.cache = {};\n\n        if (this.getStorageObject() === undefined) {\n            Ext.Logger.error(\"Local Storage is not supported in this browser, please use another type of data proxy\");\n        }\n    },\n\n    updateModel: function(model) {\n        if (!this.getId()) {\n            this.setId(model.modelName);\n        }\n    },\n\n    //inherit docs\n    create: function(operation, callback, scope) {\n        var records = operation.getRecords(),\n            length  = records.length,\n            ids     = this.getIds(),\n            id, record, i;\n\n        operation.setStarted();\n\n        for (i = 0; i < length; i++) {\n            record = records[i];\n            if (!this.getModel().getIdentifier().isUnique) {\n                Ext.Logger.warn('Your identifier generation strategy for the model does not ensure unique id\\'s. Please use the UUID strategy, or implement your own identifier strategy with the flag isUnique.');\n\n            }\n            id = record.getId();\n\n            this.setRecord(record);\n            ids.push(id);\n        }\n\n        this.setIds(ids);\n\n        operation.setCompleted();\n        operation.setSuccessful();\n\n        if (typeof callback == 'function') {\n            callback.call(scope || this, operation);\n        }\n    },\n\n    //inherit docs\n    read: function(operation, callback, scope) {\n        var records    = [],\n            ids        = this.getIds(),\n            model      = this.getModel(),\n            idProperty = model.getIdProperty(),\n            params     = operation.getParams() || {},\n            length     = ids.length,\n            i, record;\n\n        //read a single record\n        if (params[idProperty] !== undefined) {\n            record = this.getRecord(params[idProperty]);\n            if (record) {\n                records.push(record);\n                operation.setSuccessful();\n            }\n        } else {\n            for (i = 0; i < length; i++) {\n                records.push(this.getRecord(ids[i]));\n            }\n            operation.setSuccessful();\n        }\n\n        operation.setCompleted();\n\n        operation.setResultSet(Ext.create('Ext.data.ResultSet', {\n            records: records,\n            total  : records.length,\n            loaded : true\n        }));\n        operation.setRecords(records);\n\n        if (typeof callback == 'function') {\n            callback.call(scope || this, operation);\n        }\n    },\n\n    //inherit docs\n    update: function(operation, callback, scope) {\n        var records = operation.getRecords(),\n            length  = records.length,\n            ids     = this.getIds(),\n            record, id, i;\n\n        operation.setStarted();\n\n        for (i = 0; i < length; i++) {\n            record = records[i];\n            this.setRecord(record);\n\n            //we need to update the set of ids here because it's possible that a non-phantom record was added\n            //to this proxy - in which case the record's id would never have been added via the normal 'create' call\n            id = record.getId();\n            if (id !== undefined && Ext.Array.indexOf(ids, id) == -1) {\n                ids.push(id);\n            }\n        }\n        this.setIds(ids);\n\n        operation.setCompleted();\n        operation.setSuccessful();\n\n        if (typeof callback == 'function') {\n            callback.call(scope || this, operation);\n        }\n    },\n\n    //inherit\n    destroy: function(operation, callback, scope) {\n        var records = operation.getRecords(),\n            length  = records.length,\n            ids     = this.getIds(),\n\n            //newIds is a copy of ids, from which we remove the destroyed records\n            newIds  = [].concat(ids),\n            i;\n\n        for (i = 0; i < length; i++) {\n            Ext.Array.remove(newIds, records[i].getId());\n            this.removeRecord(records[i], false);\n        }\n\n        this.setIds(newIds);\n\n        operation.setCompleted();\n        operation.setSuccessful();\n\n        if (typeof callback == 'function') {\n            callback.call(scope || this, operation);\n        }\n    },\n\n    /**\n     * @private\n     * Fetches a model instance from the Proxy by ID. Runs each field's decode function (if present) to decode the data.\n     * @param {String} id The record's unique ID\n     * @return {Ext.data.Model} The model instance or undefined if the record did not exist in the storage.\n     */\n    getRecord: function(id) {\n        if (this.cache[id] === undefined) {\n            var recordKey = this.getRecordKey(id),\n                item = this.getStorageObject().getItem(recordKey),\n                data    = {},\n                Model   = this.getModel(),\n                fields  = Model.getFields().items,\n                length  = fields.length,\n                i, field, name, record, rawData, dateFormat;\n\n            if (!item) {\n                return;\n            }\n\n            rawData = Ext.decode(item);\n\n            for (i = 0; i < length; i++) {\n                field = fields[i];\n                name  = field.getName();\n\n                if (typeof field.getDecode() == 'function') {\n                    data[name] = field.getDecode()(rawData[name]);\n                } else {\n                    if (field.getType().type == 'date') {\n                        dateFormat = field.getDateFormat();\n                        if (dateFormat) {\n                            data[name] = Ext.Date.parse(rawData[name], dateFormat);\n                        } else {\n                            data[name] = new Date(rawData[name]);\n                        }\n                    } else {\n                        data[name] = rawData[name];\n                    }\n                }\n            }\n\n            record = new Model(data, id);\n            this.cache[id] = record;\n        }\n\n        return this.cache[id];\n    },\n\n    /**\n     * Saves the given record in the Proxy. Runs each field's encode function (if present) to encode the data.\n     * @param {Ext.data.Model} record The model instance\n     * @param {String} [id] The id to save the record under (defaults to the value of the record's getId() function)\n     */\n    setRecord: function(record, id) {\n        if (id) {\n            record.setId(id);\n        } else {\n            id = record.getId();\n        }\n\n        var me = this,\n            rawData = record.getData(),\n            data    = {},\n            Model   = me.getModel(),\n            fields  = Model.getFields().items,\n            length  = fields.length,\n            i = 0,\n            field, name, obj, key, dateFormat;\n\n        for (; i < length; i++) {\n            field = fields[i];\n            name  = field.getName();\n\n            if (typeof field.getEncode() == 'function') {\n                data[name] = field.getEncode()(rawData[name], record);\n            } else {\n                if (field.getType().type == 'date' && Ext.isDate(rawData[name])) {\n                    dateFormat = field.getDateFormat();\n                    if (dateFormat) {\n                        data[name] = Ext.Date.format(rawData[name], dateFormat);\n                    } else {\n                        data[name] = rawData[name].getTime();\n                    }\n                } else {\n                    data[name] = rawData[name];\n                }\n            }\n        }\n\n        obj = me.getStorageObject();\n        key = me.getRecordKey(id);\n\n        //keep the cache up to date\n        me.cache[id] = record;\n\n        //iPad bug requires that we remove the item before setting it\n        obj.removeItem(key);\n        obj.setItem(key, Ext.encode(data));\n\n        record.commit();\n    },\n\n    /**\n     * @private\n     * Physically removes a given record from the local storage. Used internally by {@link #destroy}, which you should\n     * use instead because it updates the list of currently-stored record ids\n     * @param {String/Number/Ext.data.Model} id The id of the record to remove, or an Ext.data.Model instance\n     */\n    removeRecord: function(id, updateIds) {\n        var me = this,\n            ids;\n\n        if (id.isModel) {\n            id = id.getId();\n        }\n\n        if (updateIds !== false) {\n            ids = me.getIds();\n            Ext.Array.remove(ids, id);\n            me.setIds(ids);\n        }\n\n        me.getStorageObject().removeItem(me.getRecordKey(id));\n    },\n\n    /**\n     * @private\n     * Given the id of a record, returns a unique string based on that id and the id of this proxy. This is used when\n     * storing data in the local storage object and should prevent naming collisions.\n     * @param {String/Number/Ext.data.Model} id The record id, or a Model instance\n     * @return {String} The unique key for this record\n     */\n    getRecordKey: function(id) {\n        if (id.isModel) {\n            id = id.getId();\n        }\n\n        return Ext.String.format(\"{0}-{1}\", this.getId(), id);\n    },\n\n    /**\n     * @private\n     * Returns the unique key used to store the current record counter for this proxy. This is used internally when\n     * realizing models (creating them when they used to be phantoms), in order to give each model instance a unique id.\n     * @return {String} The counter key\n     */\n    getRecordCounterKey: function() {\n        return Ext.String.format(\"{0}-counter\", this.getId());\n    },\n\n    /**\n     * @private\n     * Returns the array of record IDs stored in this Proxy\n     * @return {Number[]} The record IDs. Each is cast as a Number\n     */\n    getIds: function() {\n        var ids    = (this.getStorageObject().getItem(this.getId()) || \"\").split(\",\"),\n            length = ids.length,\n            i;\n\n        if (length == 1 && ids[0] === \"\") {\n            ids = [];\n        }\n\n        return ids;\n    },\n\n    /**\n     * @private\n     * Saves the array of ids representing the set of all records in the Proxy\n     * @param {Number[]} ids The ids to set\n     */\n    setIds: function(ids) {\n        var obj = this.getStorageObject(),\n            str = ids.join(\",\"),\n            id  = this.getId(),\n            key = this.getRecordCounterKey();\n\n        obj.removeItem(id);\n\n        if (Ext.isEmpty(str)) {\n            obj.removeItem(key);\n        } else {\n            obj.setItem(id, str);\n        }\n    },\n\n    /**\n     * @private\n     * Sets up the Proxy by claiming the key in the storage object that corresponds to the unique id of this Proxy. Called\n     * automatically by the constructor, this should not need to be called again unless {@link #clear} has been called.\n     */\n    initialize: function() {\n        this.callParent(arguments);\n        var storageObject = this.getStorageObject();\n        storageObject.setItem(this.getId(), storageObject.getItem(this.getId()) || \"\");\n    },\n\n    /**\n     * Destroys all records stored in the proxy and removes all keys and values used to support the proxy from the\n     * storage object.\n     */\n    clear: function() {\n        var obj = this.getStorageObject(),\n            ids = this.getIds(),\n            len = ids.length,\n            i;\n\n        //remove all the records\n        for (i = 0; i < len; i++) {\n            this.removeRecord(ids[i]);\n        }\n\n        //remove the supporting objects\n        obj.removeItem(this.getRecordCounterKey());\n        obj.removeItem(this.getId());\n    },\n\n    /**\n     * @private\n     * Abstract function which should return the storage object that data will be saved to. This must be implemented\n     * in each subclass.\n     * @return {Object} The storage object\n     */\n    getStorageObject: function() {\n        Ext.Logger.error(\"The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass\");\n    }\n});\n\n/**\n * @author Ed Spencer\n * @aside guide proxies\n *\n * The LocalStorageProxy uses the new HTML5 localStorage API to save {@link Ext.data.Model Model} data locally on the\n * client browser. HTML5 localStorage is a key-value store (e.g. cannot save complex objects like JSON), so\n * LocalStorageProxy automatically serializes and deserializes data when saving and retrieving it.\n *\n * localStorage is extremely useful for saving user-specific information without needing to build server-side\n * infrastructure to support it. Let's imagine we're writing a Twitter search application and want to save the user's\n * searches locally so they can easily perform a saved search again later. We'd start by creating a Search model:\n *\n *     Ext.define('Search', {\n *         extend: 'Ext.data.Model',\n *         config: {\n *             fields: ['id', 'query'],\n *             proxy: {\n *                 type: 'localstorage',\n *                 id  : 'twitter-Searches'\n *             }\n *         }\n *     });\n *\n * Our Search model contains just two fields - id and query - plus a Proxy definition. The only configuration we need to\n * pass to the LocalStorage proxy is an {@link #id}. This is important as it separates the Model data in this Proxy from\n * all others. The localStorage API puts all data into a single shared namespace, so by setting an id we enable\n * LocalStorageProxy to manage the saved Search data.\n *\n * Saving our data into localStorage is easy and would usually be done with a {@link Ext.data.Store Store}:\n *\n *     //our Store automatically picks up the LocalStorageProxy defined on the Search model\n *     var store = Ext.create('Ext.data.Store', {\n *         model: \"Search\"\n *     });\n *\n *     //loads any existing Search data from localStorage\n *     store.load();\n *\n *     //now add some Searches\n *     store.add({query: 'Sencha Touch'});\n *     store.add({query: 'Ext JS'});\n *\n *     //finally, save our Search data to localStorage\n *     store.sync();\n *\n * The LocalStorageProxy automatically gives our new Searches an id when we call store.sync(). It encodes the Model data\n * and places it into localStorage. We can also save directly to localStorage, bypassing the Store altogether:\n *\n *     var search = Ext.create('Search', {query: 'Sencha Animator'});\n *\n *     //uses the configured LocalStorageProxy to save the new Search to localStorage\n *     search.save();\n *\n * # Limitations\n *\n * If this proxy is used in a browser where local storage is not supported, the constructor will throw an error. A local\n * storage proxy requires a unique ID which is used as a key in which all record data are stored in the local storage\n * object.\n *\n * It's important to supply this unique ID as it cannot be reliably determined otherwise. If no id is provided but the\n * attached store has a storeId, the storeId will be used. If neither option is presented the proxy will throw an error.\n */\nExt.define('Ext.data.proxy.LocalStorage', {\n    extend: 'Ext.data.proxy.WebStorage',\n    alias: 'proxy.localstorage',\n    alternateClassName: 'Ext.data.LocalStorageProxy',\n\n    //inherit docs\n    getStorageObject: function() {\n        return window.localStorage;\n    }\n});\n\nExt.define(\"B2B.store.Notifications_Ajax\", {\n    extend: \"Ext.data.Store\",\n    id: \"Notifications_Ajax\",\n    requires: \"Ext.data.proxy.LocalStorage\",\n    config: {\n        model: \"B2B.model.Notification\",\n        proxy: {\n            type:'ajax',\n            url:'json/mock_notificationlist.json',\n            reader: {\n                type:'json',\n                rootProperty: 'response.body.list',\n                successProperty: 'response.status.success',\n                totalProperty: 'response.status.count',\n                messageProperty: 'response.status.msg'\n            },\n            extraParams:{\n                username: 'test'\n            }\n        },\n        autoload: true,\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Friends Store Callback\");\n            },\n            load:function(el,records, successful){ \n                HH.log(\"* Loaded: Store.Notification_Ajax, copying to Local\");\n                var store_local = Ext.getStore('Notifications_Local');\n\n                /* Copying to localstorage */\n                store_local.removeAll();\n                store_local.getProxy().clear();\n                this.each(function(record) {\n                    store_local.add(record.data);\n                });\n                store_local.sync();\n                this.removeAll();\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Activities_Local\", {\n    extend: \"Ext.data.Store\",\n    id: \"Activities_Local\",\n    requires: \"Ext.data.proxy.LocalStorage\",\n    config: {\n        model: \"B2B.model.Activity\",\n        proxy: {\n            type:'localstorage',\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Activities Store Callback\");\n            },\n            load:function(el,records, successful){\n               HH.log(\"* Loaded: Store.Activity_Local\");\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Friends_Local\", {\n    extend: \"Ext.data.Store\",\n    id: \"Friends_Local\",\n    requires: \"Ext.data.proxy.LocalStorage\",\n    config: {\n        autoload: true,\n        autosync: true,\n        model: \"B2B.model.Friend\",\n        sorters: 'displayName',\n        grouper: function(record){\n            return (record.get('displayName')[0]).toUpperCase();\n        },\n        proxy: {\n            type:'localstorage'\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                console.log(\"Friends Store Callback\");\n            },\n            load:function(el,records, successful){ \n               HH.log(\"* Loaded: Store.Friend_Local\");\n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.Profile_Local\", {\n    extend: \"Ext.data.Store\",\n    id:\"Profile_Local\",\n    requires: \"Ext.data.proxy.LocalStorage\",\n    config: {\n        autoLoad: true,\n        autoSync: true,\n        model: \"B2B.model.User\",\n        proxy:{\n            type:'localstorage'\n        },\n        listeners: {\n            exception:function(proxy, response, orientation){\n                    console.error('Failure Notification', response.responseText);\n                    Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            load:function(el,records, successful){\n                HH.log(\"* Loaded: Store.Profile_Local\");\n            }\n            \n        }\n    },\n\n});\n\nExt.define(\"B2B.store.Drinks_Local\", {\n    extend: \"Ext.data.Store\",\n    id: \"Drinks_Local\",\n    requires: \"Ext.data.proxy.LocalStorage\",\n    config: {\n        autoload: true,\n        autosync: true,\n        model: \"B2B.model.Drink\",\n        proxy: {\n            type:'localstorage',\n        },\n        listeners:{\n            exception:function(proxy, response, orientation){\n                console.error('Failure Notification', response.responseText);\n                Ext.Msg.alert('Loading failed', response.statusText);\n            },\n            callback: function(success,response){\n                HH.log(\"Beers Store Callback\");\n            },\n            load:function(el,records, successful){ \n \n            }\n        }\n    }\n    \n});\n\nExt.define(\"B2B.store.FavoriteBeers_Local\", {\n	extend: \"Ext.data.Store\",\n	id:\"FavoriteBeers_Local\",\n	requires: \"Ext.data.proxy.LocalStorage\",\n	config: {\n		autoLoad: true,\n		autoSync: true,\n		model: \"B2B.model.FavoriteBeer\",\n		proxy:{\n			type:'localstorage'\n		},\n		listeners: {\n			exception:function(proxy, response, orientation){\n					console.error('Failure Notification', response.responseText);\n					Ext.Msg.alert('Loading failed', response.statusText);\n			},\n			load:function(el,records, successful){\n				HH.log(\"* Loaded: Store.FavoriteBeers_Local\");\n			}\n		}\n	}\n});\n\n/**\n * @author Ed Spencer\n * @aside guide models\n *\n * This singleton contains a set of validation functions that can be used to validate any type of data. They are most\n * often used in {@link Ext.data.Model Models}, where they are automatically set up and executed.\n */\nExt.define('Ext.data.Validations', {\n    alternateClassName: 'Ext.data.validations',\n\n    singleton: true,\n\n    config: {\n        /**\n         * @property {String} presenceMessage\n         * The default error message used when a presence validation fails.\n         */\n        presenceMessage: 'must be present',\n\n        /**\n         * @property {String} lengthMessage\n         * The default error message used when a length validation fails.\n         */\n        lengthMessage: 'is the wrong length',\n\n        /**\n         * @property {Boolean} formatMessage\n         * The default error message used when a format validation fails.\n         */\n        formatMessage: 'is the wrong format',\n\n        /**\n         * @property {String} inclusionMessage\n         * The default error message used when an inclusion validation fails.\n         */\n        inclusionMessage: 'is not included in the list of acceptable values',\n\n        /**\n         * @property {String} exclusionMessage\n         * The default error message used when an exclusion validation fails.\n         */\n        exclusionMessage: 'is not an acceptable value',\n\n        /**\n         * @property {String} emailMessage\n         * The default error message used when an email validation fails\n         */\n        emailMessage: 'is not a valid email address'\n    },\n\n    constructor: function(config) {\n        this.initConfig(config);\n    },\n\n    /**\n     * Returns the configured error message for any of the validation types.\n     * @param {String} type The type of validation you want to get the error message for.\n     */\n    getMessage: function(type) {\n        var getterFn = this['get' + type[0].toUpperCase() + type.slice(1) + 'Message'];\n        if (getterFn) {\n            return getterFn.call(this);\n        }\n        return '';\n    },\n\n    /**\n     * The regular expression used to validate email addresses\n     * @property emailRe\n     * @type RegExp\n     */\n    emailRe: /^\\s*[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\@[\\w\\-\\+_]+\\.[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\s*$/,\n\n    /**\n     * Validates that the given value is present.\n     * For example:\n     *\n     *     validations: [{type: 'presence', field: 'age'}]\n     *\n     * @param {Object} config Config object\n     * @param {Object} value The value to validate\n     * @return {Boolean} True if validation passed\n     */\n    presence: function(config, value) {\n        if (arguments.length === 1) {\n            value = config;\n        }\n        return !!value || value === 0;\n    },\n\n    /**\n     * Returns true if the given value is between the configured min and max values.\n     * For example:\n     *\n     *     validations: [{type: 'length', field: 'name', min: 2}]\n     *\n     * @param {Object} config Config object\n     * @param {String} value The value to validate\n     * @return {Boolean} True if the value passes validation\n     */\n    length: function(config, value) {\n        if (value === undefined || value === null) {\n            return false;\n        }\n\n        var length = value.length,\n            min    = config.min,\n            max    = config.max;\n\n        if ((min && length < min) || (max && length > max)) {\n            return false;\n        } else {\n            return true;\n        }\n    },\n\n    /**\n     * Validates that an email string is in the correct format\n     * @param {Object} config Config object\n     * @param {String} email The email address\n     * @return {Boolean} True if the value passes validation\n     */\n    email: function(config, email) {\n        return Ext.data.validations.emailRe.test(email);\n    },\n\n    /**\n     * Returns true if the given value passes validation against the configured `matcher` regex.\n     * For example:\n     *\n     *     validations: [{type: 'format', field: 'username', matcher: /([a-z]+)[0-9]{2,3}/}]\n     *\n     * @param {Object} config Config object\n     * @param {String} value The value to validate\n     * @return {Boolean} True if the value passes the format validation\n     */\n    format: function(config, value) {\n        if (value === undefined || value === null) {\n            value = '';\n        }\n        return !!(config.matcher && config.matcher.test(value));\n    },\n\n    /**\n     * Validates that the given value is present in the configured `list`.\n     * For example:\n     *\n     *     validations: [{type: 'inclusion', field: 'gender', list: ['Male', 'Female']}]\n     *\n     * @param {Object} config Config object\n     * @param {String} value The value to validate\n     * @return {Boolean} True if the value is present in the list\n     */\n    inclusion: function(config, value) {\n        return config.list && Ext.Array.indexOf(config.list,value) != -1;\n    },\n\n    /**\n     * Validates that the given value is present in the configured `list`.\n     * For example:\n     *\n     *     validations: [{type: 'exclusion', field: 'username', list: ['Admin', 'Operator']}]\n     *\n     * @param {Object} config Config object\n     * @param {String} value The value to validate\n     * @return {Boolean} True if the value is not present in the list\n     */\n    exclusion: function(config, value) {\n        return config.list && Ext.Array.indexOf(config.list,value) == -1;\n    }\n});\n\nExt.define(\"B2B.model.User\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n	//	idProperty: 'idUser',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idUser', type: 'string' },\n			{ name: 'username', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'firstName', type: 'string' },\n			{ name: 'lastName', type: 'string' },\n			{ name: 'description', type: 'string' },\n			{ name: 'email', type: 'email' },\n			{ name: 'gender', type: 'int', defaultValue: 0},\n			{ name: 'nationality', type: 'string' },\n			{ name: 'birthDate', type: 'date', dateformat: 'c' },\n			{ name: 'avatar', type: 'string', defaultValue: 'resources/images/defaultAvatar.jpg'},\n			{ name: 'shareFacebook', type: 'boolean', defaultValue: false},\n			{ name: 'shareTwitter', type: 'boolean', defaultValue: false},\n			{ name: 'enableNotification', type: 'boolean', defaultValue: false},\n			{ name: 'role', type: 'int' },\n			{ name: 'status', type: 'int' },\n			{ name: 'pwdHash', type: 'string' },\n			{ name: 'activatedOn', type: 'date', dateformat: 'c' },\n			{ name: 'lastLoginOn', type: 'date', dateformat: 'c' },\n			{ name: 'favorites', type: 'string', defaultValue: ''},\n			{ name: 'liked', type: 'string', defaultValue: '' },\n			{ name: 'counterCheckIns', type: 'int', defaultValue: 0 },\n			{ name: 'counterFriends', type: 'int', defaultValue: 0 },\n			{ name: 'counterBadges', type: 'int', defaultValue: 0},\n			{ name: 'hashBeerlist', type: 'string'},\n			{ name: 'hashFriendlist', type: 'string'},\n			{ name: 'hashNotificationlist', type: 'string'}\n		],\n		validations: [\n			{ type: 'presence', field: 'displayName'}\n		]\n	}\n});\nExt.define(\"B2B.model.Friend\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		//idProperty: 'idUser',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idUser', type: 'string' },\n			{ name: 'username', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'firstName', type: 'string' },\n			{ name: 'lastName', type: 'string' },\n			{ name: 'description', type: 'string' },\n			{ name: 'email', type: 'email' },\n			{ name: 'gender', type: 'int', defaultValue: 0},\n			{ name: 'nationality', type: 'string' },\n			{ name: 'birthDate', type: 'date', dateformat: 'c' },\n			{ name: 'avatar', type: 'string', defaultValue: 'resources/images/defaultAvatar.jpg'},\n			{ name: 'role', type: 'int' },\n			{ name: 'status', type: 'int' },\n			{ name: 'activatedOn', type: 'date', dateformat: 'c' },\n			{ name: 'lastLoginOn', type: 'date', dateformat: 'c' },\n			{ name: 'badges', type: 'string', defaultValue: ''},\n			{ name: 'favorites', type: 'string', defaultValue: ''},\n			{ name: 'liked', type: 'string', defaultValue: '' },\n			{ name: 'counterCheckIns', type: 'int', defaultValue: 0 },\n			{ name: 'counterFriends', type: 'int', defaultValue: 0 },\n			{ name: 'counterBadges', type: 'int', defaultValue: 0},\n		],\n		validations: [\n			{ type: 'presence', field: 'displayName'}\n		]\n	}\n});\nExt.define(\"B2B.model.Beer\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		//idProperty: 'idBeer',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'idUser', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'name', type: 'string' },\n			{ name: 'brewery', type: 'string' },\n			{ name: 'nationality', type: 'string' },\n			{ name: 'beertype', type: 'string' },\n			{ name: 'beerstyle', type: 'string' },\n			{ name: 'grad', type: 'float' },\n			{ name: 'image', type: 'string' },\n			{ name: 'status', type: 'int' },\n			{ name: 'insertedOn', type: 'date', dateformat: 'c' },\n			{ name: 'param1', type: 'int', defaultValue: 1  },\n			{ name: 'param2', type: 'int', defaultValue: 1 },\n			{ name: 'param3', type: 'int', defaultValue: 1 }\n		],\n		validations: [\n		//	{ type: 'presence', field: 'idBeer'}\n		]\n	}\n});\nExt.define(\"B2B.model.Drink\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		identifier:'uuid',\n		fields: [\n			{ name: 'idDrink', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'idUser', type: 'string' },\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'beerName', type: 'string' },\n			{ name: 'idPlace', type: 'string' },\n			{ name: 'placeName', type: 'string' },\n			{ name: 'image', type: 'string' },\n			{ name: 'rate', type: 'int' },\n			{ name: 'rate2', type: 'int' },\n			{ name: 'rate3', type: 'int' },\n			{ name: 'insertedOn', type: 'date', dateformat: 'c' }\n		],\n		validations: [\n			{ type: 'presence', field: 'idDrink'}\n		]\n	}\n});\nExt.define(\"B2B.model.Activity\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		//idProperty: 'idActivity',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idActivity', type: 'string' },\n			{ name: 'image', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'idUser', type: 'string' },\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'idPlace', type: 'string' },\n			{ name: 'idFriend', type: 'string' },\n			{ name: 'beerName', type: 'string' },\n			{ name: 'placeName', type: 'string' },\n			{ name: 'friendName', type: 'string' },\n			{ name: 'jumpTo', type: 'string' },\n			{ name: 'type', type: 'int' },\n			{ name: 'status', type: 'int' },\n			{ name: 'like', type: 'int' },\n			{ name: 'date', type: 'date', dateformat: 'c' }\n		],\n		validations: [\n		//	{ type: 'presence', field: 'id'}\n		]\n	}\n});\nExt.define(\"B2B.model.Notification\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n	//	idProperty: 'idNotification',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idNotification', type: 'string' },\n			{ name: 'image', type: 'string' },\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'beerName', type: 'string' },\n			{ name: 'idFriend', type: 'string' },\n			{ name: 'friendName', type: 'string' },\n			{ name: 'idPlace', type: 'string' },\n			{ name: 'placeName', type: 'string' },\n			{ name: 'targetName', type: 'string' },\n			{ name: 'type', type: 'int' },\n			{ name: 'jumpTo', type: 'string' },\n			{ name: 'status', type: 'int' },\n			{ name: 'insertedOn', type: 'date', dateformat: 'c' },\n		],\n		validations: [\n			{ type: 'presence', field: 'idNotification'}\n		]\n	}\n});\nExt.define(\"B2B.model.Place\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		//idProperty: 'idPlace',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idPlace', type: 'string' },\n			{ name: 'placeName', type: 'string' },\n			{ name: 'image', type: 'string' },\n			{ name: 'lat', type: 'string' },\n			{ name: 'lng', type: 'string' },\n			{ name: 'url', type: 'string' },\n			{ name: 'drinkedIn', type: 'int' },\n			{ name: 'category', type: 'string' },\n		],\n		validations: [\n			{ type: 'presence', field: 'idPlace'}\n		]\n	}\n});\nExt.define(\"B2B.model.BeerSingle\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		//idProperty: 'idBeer',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idBeer', type: 'string' },\n			{ name: 'name', type: 'string' }\n			\n		],\n		validations: [\n		//	{ type: 'presence', field: 'idBeer'}\n		]\n	}\n});\nExt.define(\"B2B.model.Feedback\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n	//	idProperty: 'idFeedback',\n		identifier:'uuid',\n		fields: [\n			{ name: 'idFeedback', type: 'string' },\n			{ name: 'rate', type: 'int' },\n			{ name: 'rate2', type: 'int' },\n			{ name: 'rate3', type: 'int' },\n			{ name: 'comment', type: 'string' },\n			{ name: 'idUser', type: 'string' },\n			{ name: 'displayName', type: 'string' },\n			{ name: 'idTarget', type: 'string' },\n			{ name: 'targetName', type: 'string' },\n			{ name: 'type', type: 'string' },\n			{ name: 'like', type: 'int' },\n			{ name: 'insertedOn', type: 'date', dateformat: 'c' },\n		],\n		validations: [\n			{ type: 'presence', field: 'idFeedback'}\n		]\n	}\n});\nExt.define(\"B2B.model.Badge\", {\n	extend: \"Ext.data.Model\",\n	requires:'Ext.data.identifier.Uuid',\n	config: {\n		identifier:'uuid',\n		fields: [\n			{ name: 'idBadge', type: 'string' },\n			{ name: 'title', type: 'string' },\n			{ name: 'description', type: 'string' },\n			{ name: 'imageUrl', type: 'string' },\n			{ name: 'active', type: 'boolean' }\n		],\n		validations: [\n			{ type: 'presence', field: 'idBadge'}\n		]\n	}\n});\n/**\n * @author Ed Spencer\n * @aside guide stores\n *\n * Small helper class to make creating {@link Ext.data.Store}s from Array data easier. An ArrayStore will be\n * automatically configured with a {@link Ext.data.reader.Array}.\n *\n * A store configuration would be something like:\n *\n *     var store = Ext.create('Ext.data.ArrayStore', {\n *         // store configs\n *         autoDestroy: true,\n *         storeId: 'myStore',\n *         // reader configs\n *         idIndex: 0,\n *         fields: [\n *            'company',\n *            {name: 'price', type: 'float'},\n *            {name: 'change', type: 'float'},\n *            {name: 'pctChange', type: 'float'},\n *            {name: 'lastChange', type: 'date', dateFormat: 'n/j h:ia'}\n *         ]\n *     });\n *\n * This store is configured to consume a returned object of the form:\n *\n *     var myData = [\n *         ['3m Co',71.72,0.02,0.03,'9/1 12:00am'],\n *         ['Alcoa Inc',29.01,0.42,1.47,'9/1 12:00am'],\n *         ['Boeing Co.',75.43,0.53,0.71,'9/1 12:00am'],\n *         ['Hewlett-Packard Co.',36.53,-0.03,-0.08,'9/1 12:00am'],\n *         ['Wal-Mart Stores, Inc.',45.45,0.73,1.63,'9/1 12:00am']\n *     ];\n *\n * An object literal of this form could also be used as the {@link #data} config option.\n *\n * **Note:** Although not listed here, this class accepts all of the configuration options of\n * **{@link Ext.data.reader.Array ArrayReader}**.\n */\nExt.define('Ext.data.ArrayStore', {\n    extend: 'Ext.data.Store',\n    alias: 'store.array',\n    uses: ['Ext.data.reader.Array'],\n\n    config: {\n        proxy: {\n            type: 'memory',\n            reader: 'array'\n        }\n    },\n\n    loadData: function(data, append) {\n//        if (this.expandData === true) {\n//            var r = [],\n//                i = 0,\n//                ln = data.length;\n//\n//            for (; i < ln; i++) {\n//                r[r.length] = [data[i]];\n//            }\n//\n//            data = r;\n//        }\n\n        this.callParent([data, append]);\n    }\n}, function() {\n    // backwards compat\n    Ext.data.SimpleStore = Ext.data.ArrayStore;\n    // Ext.reg('simplestore', Ext.data.SimpleStore);\n});\n\n/**\n * @author Ed Spencer\n * @class Ext.data.reader.Array\n *\n * <p>Data reader class to create an Array of {@link Ext.data.Model} objects from an Array.\n * Each element of that Array represents a row of data fields. The\n * fields are pulled into a Record object using as a subscript, the <code>mapping</code> property\n * of the field definition if it exists, or the field's ordinal position in the definition.</p>\n *\n * <p><u>Example code:</u></p>\n *\n<pre><code>\nEmployee = Ext.define('Employee', {\n    extend: 'Ext.data.Model',\n    config: {\n        fields: [\n            'id',\n            {name: 'name', mapping: 1},         // \"mapping\" only needed if an \"id\" field is present which\n            {name: 'occupation', mapping: 2}    // precludes using the ordinal position as the index.\n        ]\n    }\n});\n\nvar myReader = new Ext.data.reader.Array({\n    model: 'Employee'\n}, Employee);\n</code></pre>\n *\n * <p>This would consume an Array like this:</p>\n *\n<pre><code>\n[ [1, 'Bill', 'Gardener'], [2, 'Ben', 'Horticulturalist'] ]\n</code></pre>\n *\n * @constructor\n * Create a new ArrayReader\n * @param {Object} meta Metadata configuration options.\n */\nExt.define('Ext.data.reader.Array', {\n    extend: 'Ext.data.reader.Json',\n    alternateClassName: 'Ext.data.ArrayReader',\n    alias : 'reader.array',\n\n    // For Array Reader, methods in the base which use these properties must not see the defaults\n    config: {\n        totalProperty: undefined,\n        successProperty: undefined\n    },\n\n    /**\n     * @private\n     * Returns an accessor expression for the passed Field from an Array using either the Field's mapping, or\n     * its ordinal position in the fields collsction as the index.\n     * This is used by buildExtractors to create optimized on extractor function which converts raw data into model instances.\n     */\n    createFieldAccessExpression: function(field, fieldVarName, dataName) {\n        var me     = this,\n            mapping = field.getMapping(),\n            index  = (mapping == null) ? me.getModel().getFields().indexOf(field) : mapping,\n            result;\n\n        if (typeof index === 'function') {\n            result = fieldVarName + '.getMapping()(' + dataName + ', this)';\n        } else {\n            if (isNaN(index)) {\n                index = '\"' + index + '\"';\n            }\n            result = dataName + \"[\" + index + \"]\";\n        }\n        return result;\n    }\n});\n\n",
			"file": "all-classes.js",
			"file_size": 2046940,
			"file_write_time": 129909097981183844,
			"settings":
			{
				"buffer_size": 1982626,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "/*\nCopyright(c) 2012 Company Name\n*/\nExt.define(\"Ext.event.ListenerStack\",{currentOrder:\"current\",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(h,j,k,e){var a=this.lateBindingMap,g=this.getAll(e),f=g.length,b,d,c;if(typeof h==\"string\"&&j.isIdentifiable){c=j.getId();b=a[c];if(b){if(b[h]){return false}else{b[h]=true}}else{a[c]=b={};b[h]=true}}else{if(f>0){while(f--){d=g[f];if(d.fn===h&&d.scope===j){d.options=k;return false}}}}d=this.create(h,j,k,e);if(k&&k.prepend){delete k.prepend;g.unshift(d)}else{g.push(d)}this.length++;return true},getAt:function(b,a){return this.getAll(a)[b]},getAll:function(a){if(!a){a=this.currentOrder}return this.listeners[a]},count:function(a){return this.getAll(a).length},create:function(d,c,b,a){return{stack:this,fn:d,firingFn:false,boundFn:false,isLateBinding:typeof d==\"string\",scope:c,options:b||{},order:a}},remove:function(h,j,e){var g=this.getAll(e),f=g.length,b=false,a=this.lateBindingMap,d,c;if(f>0){while(f--){d=g[f];if(d.fn===h&&d.scope===j){g.splice(f,1);b=true;this.length--;if(typeof h==\"string\"&&j.isIdentifiable){c=j.getId();if(a[c]&&a[c][h]){delete a[c][h]}}break}}}return b}});Ext.define(\"Ext.event.Controller\",{isFiring:false,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.setInfo(a);return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(h,e){var n=this.listenerStacks,m=this.firingListeners,d=this.firingArguments,k=m.push,g=n.length,j,l,c,o,a=false,b=false,f;m.length=0;if(e){if(e.order!==\"after\"){a=true}else{b=true}}if(g===1){j=n[0].listeners;l=j.before;c=j.current;o=j.after;if(l.length>0){k.apply(m,l)}if(a){k.call(m,e)}if(c.length>0){k.apply(m,c)}if(b){k.call(m,e)}if(o.length>0){k.apply(m,o)}}else{for(f=0;f<g;f++){l=n[f].listeners.before;if(l.length>0){k.apply(m,l)}}if(a){k.call(m,e)}for(f=0;f<g;f++){c=n[f].listeners.current;if(c.length>0){k.apply(m,c)}}if(b){k.call(m,e)}for(f=0;f<g;f++){o=n[f].listeners.after;if(o.length>0){k.apply(m,o)}}}if(m.length===0){return this}if(!h){h=[]}d.length=0;d.push.apply(d,h);d.push(null,this);this.doFire();return this},doFire:function(){var k=this.firingListeners,c=this.firingArguments,g=c.length-2,d,f,b,o,h,n,a,j,l,e,m;this.isPausing=false;this.isPaused=false;this.isStopped=false;this.isFiring=true;for(d=0,f=k.length;d<f;d++){b=k[d];o=b.options;h=b.fn;n=b.firingFn;a=b.boundFn;j=b.isLateBinding;l=b.scope;if(j&&a&&a!==l[h]){a=false;n=false}if(!a){if(j){a=l[h];if(!a){continue}}else{a=h}b.boundFn=a}if(!n){n=a;if(o.buffer){n=Ext.Function.createBuffered(n,o.buffer,l)}if(o.delay){n=Ext.Function.createDelayed(n,o.delay,l)}b.firingFn=n}c[g]=o;e=c;if(o.args){e=o.args.concat(e)}if(o.single===true){b.stack.remove(h,l,b.order)}m=n.apply(l,e);if(m===false){this.stop()}if(this.isStopped){break}if(this.isPausing){this.isPaused=true;k.splice(0,d+1);return}}this.isFiring=false;this.listenerStacks=null;k.length=0;c.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=false;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=false;this.doFire()}if(a){a.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=true;if(a){this.connectingController=null;a.stop()}this.isFiring=false;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=true;if(a){a.pause()}return this}});Ext.define(\"Ext.event.publisher.Publisher\",{targetType:\"\",idSelectorRegex:/^#([\\w\\-]+)$/i,constructor:function(){var b=this.handledEvents,a,c,e,d;a=this.handledEventsMap={};for(c=0,e=b.length;c<e;c++){d=b[c];a[d]=true}this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b[\"*\"]||a===\"*\"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return false},unsubscribe:function(){return false},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return false},getTargetType:function(){return this.targetType},dispatch:function(c,a,b){this.dispatcher.doDispatchEvent(this.targetType,c,a,b)}});Ext.define(\"Ext.event.Event\",{alternateClassName:\"Ext.EventObject\",isStopped:false,set:function(a,b){if(arguments.length===1&&typeof a!=\"string\"){var c=a;for(a in c){if(c.hasOwnProperty(a)){this[a]=c[a]}}}else{this[a]=c[a]}},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){this.isStopped=true;return this}});Ext.define(\"Ext.event.Dispatcher\",{requires:[\"Ext.event.ListenerStack\",\"Ext.event.Controller\"],statics:{getInstance:function(){if(!this.instance){this.instance=new this()}return this.instance},setInstance:function(a){this.instance=a;return this}},config:{publishers:{}},wildcard:\"*\",constructor:function(a){this.listenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(e,g,c,b){var d=this.listenerStacks,f=d[e],a;b=Boolean(b);if(!f){if(b){d[e]=f={}}else{return null}}f=f[g];if(!f){if(b){d[e][g]=f={}}else{return null}}a=f[c];if(!a){if(b){f[c]=a=new Ext.event.ListenerStack()}else{return null}}return a},getController:function(d,f,c,b){var a=this.controller,e={targetType:d,target:f,eventName:c};if(!a){this.controller=a=new Ext.event.Controller()}if(a.isFiring){a=new Ext.event.Controller()}a.setInfo(e);if(b&&a!==b){a.connect(b)}return a},applyPublishers:function(c){var a,b;this.publishersCache={};for(a in c){if(c.hasOwnProperty(a)){b=c[a];this.registerPublisher(b)}}return c},registerPublisher:function(b){var a=this.activePublishers,c=b.getTargetType(),d=a[c];if(!d){a[c]=d=[]}d.push(b);b.setDispatcher(this);return this},getCachedActivePublishers:function(c,b){var a=this.publishersCache,d;if((d=a[c])&&(d=d[b])){return d}return null},cacheActivePublishers:function(c,b,d){var a=this.publishersCache;if(!a[c]){a[c]={}}a[c][b]=d;return d},getActivePublishers:function(f,b){var g,a,c,e,d;if((g=this.getCachedActivePublishers(f,b))){return g}a=this.activePublishers[f];if(a){g=[];for(c=0,e=a.length;c<e;c++){d=a[c];if(d.handles(b)){g.push(d)}}}else{g=this.noActivePublishers}return this.cacheActivePublishers(f,b,g)},hasListener:function(c,d,b){var a=this.getListenerStack(c,d,b);if(a){return a.count()>0}return false},addListener:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].subscribe(e,a)}}return this.doAddListener.apply(this,arguments)},doAddListener:function(g,h,c,f,e,d,a){var b=this.getListenerStack(g,h,c,true);return b.add(f,e,d,a)},removeListener:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].unsubscribe(e,a)}}return this.doRemoveListener.apply(this,arguments)},doRemoveListener:function(f,g,c,e,d,a){var b=this.getListenerStack(f,g,c);if(b===null){return false}return b.remove(e,d,a)},clearListeners:function(a,e,d){var j=this.listenerStacks,f=arguments.length,b,h,c,g;if(f===3){if(j[a]&&j[a][e]){this.removeListener(a,e,d);delete j[a][e][d]}}else{if(f===2){if(j[a]){b=j[a][e];if(b){for(d in b){if(b.hasOwnProperty(d)){h=this.getActivePublishers(a,d);for(c=0,f=h.length;c<f;c++){h[c].unsubscribe(e,d,true)}}}delete j[a][e]}}}else{if(f===1){h=this.activePublishers[a];for(c=0,f=h.length;c<f;c++){h[c].unsubscribeAll()}delete j[a]}else{h=this.activePublishers;for(a in h){if(h.hasOwnProperty(a)){g=h[a];for(c=0,f=g.length;c<f;c++){g[c].unsubscribeAll()}}}delete this.listenerStacks;this.listenerStacks={}}}}return this},dispatchEvent:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].notify(e,a)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,g,f,i,c,b){var h=this.getListenerStack(a,g,f),d=this.getWildcardListenerStacks(a,g,f),e;if((h===null||h.length==0)){if(d.length==0&&!c){return}}else{d.push(h)}e=this.getController(a,g,f,b);e.setListenerStacks(d);e.fire(i,c);return !e.isInterrupted()},getWildcardListenerStacks:function(g,h,d){var f=[],b=this.wildcard,c=d!==b,e=h!==b,a;if(c&&(a=this.getListenerStack(g,h,b))){f.push(a)}if(e&&(a=this.getListenerStack(g,b,d))){f.push(a)}return f}});Ext.define(\"Ext.event.Dom\",{extend:\"Ext.event.Event\",constructor:function(a){var c=a.target,b;if(c&&c.nodeType!==1){c=c.parentNode}b=a.changedTouches;if(b){b=b[0];this.pageX=b.pageX;this.pageY=b.pageY}else{this.pageX=a.pageX;this.pageY=a.pageY}this.browserEvent=this.event=a;this.target=this.delegatedTarget=c;this.type=a.type;this.timeStamp=this.time=a.timeStamp;if(typeof this.time!=\"number\"){this.time=new Date(this.time).getTime()}return this},stopEvent:function(){this.preventDefault();return this.callParent()},preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.browserEvent.pageX},getPageY:function(){return this.browserEvent.pageY},getXY:function(){if(!this.xy){this.xy=[this.getPageX(),this.getPageY()]}return this.xy},getTarget:function(b,c,a){if(arguments.length===0){return this.delegatedTarget}return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.time},setDelegatedTarget:function(a){this.delegatedTarget=a},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn}});Ext.define(\"Ext.event.publisher.Dom\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.env.Browser\",\"Ext.Element\",\"Ext.event.Dom\"],targetType:\"element\",idOrClassSelectorRegex:/^([#|\\.])([\\w\\-]+)$/,handledEvents:[\"click\",\"focus\",\"blur\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\",\"mouseout\",\"keyup\",\"keydown\",\"keypress\",\"submit\",\"transitionend\",\"animationstart\",\"animationend\"],classNameSplitRegex:/\\s+/,SELECTOR_ALL:\"*\",constructor:function(){var f=this.getHandledEvents(),e={},b,c,a,d;this.doBubbleEventsMap={click:true,submit:true,mousedown:true,mousemove:true,mouseup:true,mouseover:true,mouseout:true,transitionend:true};this.onEvent=Ext.Function.bind(this.onEvent,this);for(b=0,c=f.length;b<c;b++){a=f[b];d=this.getVendorEventName(a);e[d]=a;this.attachListener(d)}this.eventNameMap=e;return this.callParent()},getSubscribers:function(a){var c=this.subscribers,b=c[a];if(!b){b=c[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return b},getVendorEventName:function(a){if(a===\"transitionend\"){a=Ext.browser.getVendorProperyName(\"transitionEnd\")}else{if(a===\"animationstart\"){a=Ext.browser.getVendorProperyName(\"animationStart\")}else{if(a===\"animationend\"){a=Ext.browser.getVendorProperyName(\"animationEnd\")}}}return a},attachListener:function(a){document.addEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},removeListener:function(a){document.removeEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},doesEventBubble:function(a){return !!this.doBubbleEventsMap[a]},subscribe:function(g,f){if(!this.handles(f)){return false}var e=g.match(this.idOrClassSelectorRegex),a=this.getSubscribers(f),c=a.id,d=a.className,b=a.selector,h,i;if(e!==null){h=e[1];i=e[2];if(h===\"#\"){if(c.hasOwnProperty(i)){c[i]++;return true}c[i]=1;c.$length++}else{if(d.hasOwnProperty(i)){d[i]++;return true}d[i]=1;d.$length++}}else{if(g===this.SELECTOR_ALL){a.all++}else{if(b.hasOwnProperty(g)){b[g]++;return true}b[g]=1;b.push(g)}}a.$length++;return true},unsubscribe:function(g,f,j){if(!this.handles(f)){return false}var e=g.match(this.idOrClassSelectorRegex),a=this.getSubscribers(f),c=a.id,d=a.className,b=a.selector,h,i;j=Boolean(j);if(e!==null){h=e[1];i=e[2];if(h===\"#\"){if(!c.hasOwnProperty(i)||(!j&&--c[i]>0)){return true}delete c[i];c.$length--}else{if(!d.hasOwnProperty(i)||(!j&&--d[i]>0)){return true}delete d[i];d.$length--}}else{if(g===this.SELECTOR_ALL){if(j){a.all=0}else{a.all--}}else{if(!b.hasOwnProperty(g)||(!j&&--b[g]>0)){return true}delete b[g];Ext.Array.remove(b,g)}}a.$length--;return true},getElementTarget:function(a){if(a.nodeType!==1){a=a.parentNode;if(!a||a.nodeType!==1){return null}}return a},getBubblingTargets:function(b){var a=[];if(!b){return a}do{a[a.length]=b;b=b.parentNode}while(b&&b.nodeType===1);return a},dispatch:function(c,a,b){b.push(b[0].target);this.callParent(arguments)},publish:function(b,a,c){var d=this.getSubscribers(b),e;if(d.$length===0||!this.doPublish(d,b,a,c)){e=this.getSubscribers(\"*\");if(e.$length>0){this.doPublish(e,b,a,c)}}return this},doPublish:function(f,h,x,u){var r=f.id,g=f.className,b=f.selector,p=r.$length>0,a=g.$length>0,l=b.length>0,o=f.all>0,y={},e=[u],q=false,m=this.classNameSplitRegex,v,k,t,d,z,n,c,w,s;for(v=0,k=x.length;v<k;v++){z=x[v];u.setDelegatedTarget(z);if(p){n=z.id;if(n){if(r.hasOwnProperty(n)){q=true;this.dispatch(\"#\"+n,h,e)}}}if(a){c=z.className;if(c){w=c.split(m);for(t=0,d=w.length;t<d;t++){c=w[t];if(!y[c]){y[c]=true;if(g.hasOwnProperty(c)){q=true;this.dispatch(\".\"+c,h,e)}}}}}if(u.isStopped){return q}}if(o&&!q){u.setDelegatedTarget(u.browserEvent.target);q=true;this.dispatch(this.SELECTOR_ALL,h,e);if(u.isStopped){return q}}if(l){for(t=0,d=x.length;t<d;t++){z=x[t];for(v=0,k=b.length;v<k;v++){s=b[v];if(this.matchesSelector(z,s)){u.setDelegatedTarget(z);q=true;this.dispatch(s,h,e)}if(u.isStopped){return q}}}}return q},matchesSelector:function(b,a){if(\"webkitMatchesSelector\" in b){return b.webkitMatchesSelector(a)}return Ext.DomQuery.is(b,a)},onEvent:function(d){var b=this.eventNameMap[d.type];if(!b||this.getSubscribersCount(b)===0){return}var c=this.getElementTarget(d.target),a;if(!c){return}if(this.doesEventBubble(b)){a=this.getBubblingTargets(c)}else{a=[c]}this.publish(b,a,new Ext.event.Dom(d))},hasSubscriber:function(f,a){if(!this.handles(a)){return false}var b=f.match(this.idOrClassSelectorRegex),e=this.getSubscribers(a),c,d;if(b!==null){c=b[1];d=b[2];if(c===\"#\"){return e.id.hasOwnProperty(d)}else{return e.className.hasOwnProperty(d)}}else{return(e.selector.hasOwnProperty(f)&&Ext.Array.indexOf(e.selector,f)!==-1)}return false},getSubscribersCount:function(a){if(!this.handles(a)){return 0}return this.getSubscribers(a).$length+this.getSubscribers(\"*\").$length}});Ext.define(\"Ext.util.Point\",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(b){var a=b.changedTouches,c=(a&&a.length>0)?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,b){if(typeof a==\"undefined\"){a=0}if(typeof b==\"undefined\"){b=0}this.x=a;this.y=b;return this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return\"Point[\"+this.x+\",\"+this.y+\"]\"},equals:function(a){return(this.x===a.x&&this.y===a.y)},isCloseTo:function(c,b){if(typeof b==\"number\"){b={x:b};b.y=b.x}var a=c.x,f=c.y,e=b.x,d=b.y;return(this.x<=a+e&&this.x>=a-e&&this.y<=f+d&&this.y>=f-d)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(a,b){this.x+=a;this.y+=b;return this},roundedEquals:function(a){return(Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y))},getDistanceTo:function(b){var c=this.x-b.x,a=this.y-b.y;return Math.sqrt(c*c+a*a)},getAngleTo:function(b){var c=this.x-b.x,a=this.y-b.y;return Math.atan2(a,c)*this.radianToDegreeConstant}});Ext.define(\"Ext.event.Touch\",{extend:\"Ext.event.Dom\",requires:[\"Ext.util.Point\"],constructor:function(a,b){if(b){this.set(b)}this.touchesMap={};this.changedTouches=this.cloneTouches(a.changedTouches);this.touches=this.cloneTouches(a.touches);this.targetTouches=this.cloneTouches(a.targetTouches);return this.callParent([a])},clone:function(){return new this.self(this)},setTargets:function(a){this.doSetTargets(this.changedTouches,a);this.doSetTargets(this.touches,a);this.doSetTargets(this.targetTouches,a)},doSetTargets:function(f,d){var c,e,g,b,a;for(c=0,e=f.length;c<e;c++){g=f[c];b=g.identifier;a=d[b];if(a){g.targets=a}}},cloneTouches:function(f){var e=this.touchesMap,h=[],d=null,b,c,g,a;for(b=0,c=f.length;b<c;b++){g=f[b];a=g.identifier;if(d!==null&&a===d){a++}d=a;if(!e[a]){e[a]={pageX:g.pageX,pageY:g.pageY,identifier:a,target:g.target,timeStamp:g.timeStamp,point:Ext.util.Point.fromTouch(g),targets:g.targets}}h[b]=e[a]}return h}});Ext.define(\"Ext.event.publisher.TouchGesture\",{extend:\"Ext.event.publisher.Dom\",requires:[\"Ext.util.Point\",\"Ext.event.Touch\"],handledEvents:[\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\"],moveEventName:\"touchmove\",config:{moveThrottle:1,buffering:{enabled:false,interval:10},recognizers:{}},currentTouchesCount:0,constructor:function(a){this.processEvents=Ext.Function.bind(this.processEvents,this);this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd};this.eventToRecognizerMap={};this.activeRecognizers=[];this.currentRecognizers=[];this.currentTargets={};this.currentTouches={};this.buffer=[];this.initConfig(a);return this.callParent()},applyBuffering:function(a){if(a.enabled===true){this.bufferTimer=setInterval(this.processEvents,a.interval)}else{clearInterval(this.bufferTimer)}return a},applyRecognizers:function(b){var c,a;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a){this.registerRecognizer(a)}}}return b},handles:function(a){return this.callParent(arguments)||this.eventToRecognizerMap.hasOwnProperty(a)},doesEventBubble:function(){return true},eventLogs:[],onEvent:function(b){var a=this.getBuffering();b=new Ext.event.Touch(b);if(a.enabled){this.buffer.push(b)}else{this.processEvent(b)}},processEvents:function(){var a=this.buffer,f=a.length,d=[],c,e,b;if(f>0){c=a.slice(0);a.length=0;for(b=0;b<f;b++){e=c[b];if(e.type===this.moveEventName){d.push(e)}else{if(d.length>0){this.processEvent(this.mergeEvents(d));d.length=0}this.processEvent(e)}}if(d.length>0){this.processEvent(this.mergeEvents(d));d.length=0}}},mergeEvents:function(c){var b=[],f=c.length,a,e,d;d=c[f-1];if(f===1){return d}for(a=0;a<f;a++){e=c[a];b.push(e.changedTouches)}d.changedTouches=this.mergeTouchLists(b);return d},mergeTouchLists:function(l){var e={},h=[],d,k,a,b,f,c,g;for(d=0,k=l.length;d<k;d++){a=l[d];for(b=0,f=a.length;b<f;b++){c=a[b];g=c.identifier;e[g]=c}}for(g in e){if(e.hasOwnProperty(g)){h.push(e[g])}}return h},registerRecognizer:function(a){var g=this.eventToRecognizerMap,e=this.activeRecognizers,c=a.getHandledEvents(),d,f,b;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);for(d=0,f=c.length;d<f;d++){b=c[d];g[b]=a}e.push(a);return this},onRecognized:function(f,h,d,a){var k=[],j=d.length,g,c,b;if(j===1){return this.publish(f,d[0].targets,h,a)}for(c=0;c<j;c++){b=d[c];k.push(b.targets)}g=this.getCommonTargets(k);this.publish(f,g,h,a)},publish:function(b,a,c,d){c.set(d);return this.callParent([b,a,c])},getCommonTargets:function(a){var h=a[0],f=a.length;if(f===1){return h}var d=[],e=1,g,b,c;while(true){g=h[h.length-e];if(!g){return d}for(c=1;c<f;c++){b=a[c];if(b[b.length-e]!==g){return d}}d.unshift(g);e++}return d},invokeRecognizers:function(c,g){var b=this.activeRecognizers,f=b.length,d,a;if(c===\"onStart\"){for(d=0;d<f;d++){b[d].isActive=true}}for(d=0;d<f;d++){a=b[d];if(a.isActive&&a[c].call(a,g)===false){a.isActive=false}}},getActiveRecognizers:function(){return this.activeRecognizers},processEvent:function(a){this.eventProcessors[a.type].call(this,a)},onTouchStart:function(k){var m=this.currentTargets,g=this.currentTouches,o=this.currentTouchesCount,n=k.changedTouches,f=k.touches,h=f.length,a={},l=n.length,d,c,j,b;o+=l;if(o>h){for(d=0;d<h;d++){c=f[d];j=c.identifier;a[j]=true}for(j in g){if(g.hasOwnProperty(j)){if(!a[j]){o--;b=k.clone();c=g[j];c.targets=this.getBubblingTargets(this.getElementTarget(c.target));b.changedTouches=[c];this.onTouchEnd(b)}}}if(o>h){return}}for(d=0;d<l;d++){c=n[d];j=c.identifier;if(!g.hasOwnProperty(j)){this.currentTouchesCount++}g[j]=c;m[j]=this.getBubblingTargets(this.getElementTarget(c.target))}k.setTargets(m);for(d=0;d<l;d++){c=n[d];this.publish(\"touchstart\",c.targets,k,{touch:c})}if(!this.isStarted){this.isStarted=true;this.invokeRecognizers(\"onStart\",k)}this.invokeRecognizers(\"onTouchStart\",k)},onTouchMove:function(j){if(!this.isStarted){return}var l=this.currentTargets,g=this.currentTouches,c=this.getMoveThrottle(),m=j.changedTouches,b=0,f,k,d,n,a,h;j.setTargets(l);for(f=0,k=m.length;f<k;f++){d=m[f];h=d.identifier;n=d.point;a=g[h].point;if(c&&n.isCloseTo(a,c)){b++;continue}g[h]=d;this.publish(\"touchmove\",d.targets,j,{touch:d})}if(b<k){this.invokeRecognizers(\"onTouchMove\",j)}},onTouchEnd:function(d){if(!this.isStarted){return}var h=this.currentTargets,c=this.currentTouches,k=d.changedTouches,g=k.length,j,f,b,a;d.setTargets(h);this.currentTouchesCount-=g;j=(this.currentTouchesCount===0);if(j){this.isStarted=false}for(b=0;b<g;b++){a=k[b];f=a.identifier;delete c[f];delete h[f];this.publish(\"touchend\",a.targets,d,{touch:a})}this.invokeRecognizers(\"onTouchEnd\",d);if(j){this.invokeRecognizers(\"onEnd\",d)}}},function(){if(!Ext.feature.has.Touch){this.override({moveEventName:\"mousemove\",map:{mouseToTouch:{mousedown:\"touchstart\",mousemove:\"touchmove\",mouseup:\"touchend\"},touchToMouse:{touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\"}},attachListener:function(a){a=this.map.touchToMouse[a];if(!a){return}return this.callOverridden([a])},lastEventType:null,onEvent:function(d){if(\"button\" in d&&d.button!==0){return}var c=d.type,b=[d];if(c===\"mousedown\"&&this.lastEventType&&this.lastEventType!==\"mouseup\"){var a=document.createEvent(\"MouseEvent\");a.initMouseEvent(\"mouseup\",d.bubbles,d.cancelable,document.defaultView,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.metaKey,d.button,d.relatedTarget);this.onEvent(a)}if(c!==\"mousemove\"){this.lastEventType=c}d.identifier=1;d.touches=(c!==\"mouseup\")?b:[];d.targetTouches=(c!==\"mouseup\")?b:[];d.changedTouches=b;return this.callOverridden([d])},processEvent:function(a){this.eventProcessors[this.map.mouseToTouch[a.type]].call(this,a)}})}});Ext.define(\"Ext.event.recognizer.Recognizer\",{mixins:[\"Ext.mixin.Identifiable\"],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){this.getOnFailed().apply(this.getCallbackScope(),arguments);return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}});Ext.define(\"Ext.event.recognizer.Touch\",{extend:\"Ext.event.recognizer.Recognizer\",onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn});Ext.define(\"Ext.event.recognizer.SingleTouch\",{extend:\"Ext.event.recognizer.Touch\",inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(a){if(a.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}}});Ext.define(\"Ext.event.recognizer.Drag\",{extend:\"Ext.event.recognizer.SingleTouch\",isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:[\"dragstart\",\"drag\",\"dragend\"],onTouchStart:function(b){var c,a;if(this.callParent(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.onTouchEnd(this.lastMoveEvent)}return false}this.startTouches=c=b.changedTouches;this.startTouch=a=c[0];this.startPoint=a.point},onTouchMove:function(d){var c=d.changedTouches,f=c[0],a=f.point,b=d.time;if(this.lastPoint){this.previousPoint=this.lastPoint}if(this.lastTime){this.previousTime=this.lastTime}this.lastTime=b;this.lastPoint=a;this.lastMoveEvent=d;if(!this.isStarted){this.isStarted=true;this.startTime=b;this.previousTime=b;this.previousPoint=this.startPoint;this.fire(\"dragstart\",d,this.startTouches,this.getInfo(d,this.startTouch))}else{this.fire(\"drag\",d,c,this.getInfo(d,f))}},onTouchEnd:function(c){if(this.isStarted){var b=c.changedTouches,d=b[0],a=d.point;this.isStarted=false;this.lastPoint=a;this.fire(\"dragend\",c,b,this.getInfo(c,d));this.startTime=0;this.previousTime=0;this.lastTime=0;this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},getInfo:function(j,i){var d=j.time,a=this.startPoint,f=this.previousPoint,b=this.startTime,k=this.previousTime,l=this.lastPoint,h=l.x-a.x,g=l.y-a.y,c={touch:i,startX:a.x,startY:a.y,previousX:f.x,previousY:f.y,pageX:l.x,pageY:l.y,deltaX:h,deltaY:g,absDeltaX:Math.abs(h),absDeltaY:Math.abs(g),previousDeltaX:l.x-f.x,previousDeltaY:l.y-f.y,time:d,startTime:b,previousTime:k,deltaTime:d-b,previousDeltaTime:d-k};return c}});Ext.define(\"Ext.event.recognizer.Tap\",{handledEvents:[\"tap\"],extend:\"Ext.event.recognizer.SingleTouch\",onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var b=a.changedTouches[0];this.fire(\"tap\",a,[b])}},function(){this.override({handledEvents:[\"tap\",\"tapstart\",\"tapcancel\"],onTouchStart:function(a){if(this.callOverridden(arguments)===false){return false}this.fire(\"tapstart\",a,[a.changedTouches[0]])},onTouchMove:function(a){this.fire(\"tapcancel\",a,[a.changedTouches[0]]);return this.callOverridden(arguments)}})});Ext.define(\"Ext.event.recognizer.DoubleTap\",{extend:\"Ext.event.recognizer.SingleTouch\",config:{maxDuration:300},handledEvents:[\"singletap\",\"doubletap\"],singleTapTimer:null,onTouchStart:function(a){if(this.callParent(arguments)===false){return false}this.startTime=a.time;clearTimeout(this.singleTapTimer)},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(g){var c=this,b=this.getMaxDuration(),h=g.changedTouches[0],f=g.time,a=this.lastTapTime,d;this.lastTapTime=f;if(a){d=f-a;if(d<=b){this.lastTapTime=0;this.fire(\"doubletap\",g,[h],{touch:h,duration:d});return}}if(f-this.startTime>b){this.fireSingleTap(g,h)}else{this.singleTapTimer=setTimeout(function(){c.fireSingleTap(g,h)},b)}},fireSingleTap:function(a,b){this.fire(\"singletap\",a,[b],{touch:b})}});Ext.define(\"Ext.event.recognizer.LongPress\",{extend:\"Ext.event.recognizer.SingleTouch\",inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1000},handledEvents:[\"longpress\"],fireLongPress:function(a){var b=a.changedTouches[0];this.fire(\"longpress\",a,[b],{touch:b,duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(b){var a=this;if(this.callParent(arguments)===false){return false}this.isLongPress=false;this.timer=setTimeout(function(){a.fireLongPress(b)},this.getMinDuration())},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:[\"longpress\",\"taphold\"],fire:function(a){if(a===\"longpress\"){var b=Array.prototype.slice.call(arguments);b[0]=\"taphold\";this.fire.apply(this,b)}return this.callOverridden(arguments)}})});Ext.define(\"Ext.event.recognizer.Swipe\",{extend:\"Ext.event.recognizer.SingleTouch\",handledEvents:[\"swipe\"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.startTime=a.time;this.isHorizontal=true;this.isVertical=true;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(f){var h=f.changedTouches[0],b=h.pageX,g=h.pageY,c=Math.abs(b-this.startX),a=Math.abs(g-this.startY),d=f.time;if(d-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isVertical&&c>this.getMaxOffset()){this.isVertical=false}if(this.isHorizontal&&a>this.getMaxOffset()){this.isHorizontal=false}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(i){if(this.onTouchMove(i)===false){return false}var h=i.changedTouches[0],l=h.pageX,j=h.pageY,g=l-this.startX,f=j-this.startY,c=Math.abs(g),b=Math.abs(f),m=this.getMinDistance(),d=i.time-this.startTime,k,a;if(this.isVertical&&b<m){this.isVertical=false}if(this.isHorizontal&&c<m){this.isHorizontal=false}if(this.isHorizontal){k=(g<0)?\"left\":\"right\";a=c}else{if(this.isVertical){k=(f<0)?\"up\":\"down\";a=b}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.fire(\"swipe\",i,[h],{touch:h,direction:k,distance:a,duration:d})}});Ext.define(\"Ext.event.recognizer.HorizontalSwipe\",{extend:\"Ext.event.recognizer.Swipe\",handledEvents:[\"swipe\"],onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.startTime=a.time;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(f){var h=f.changedTouches[0],g=h.pageY,a=Math.abs(g-this.startY),d=f.time,c=this.getMaxDuration(),b=this.getMaxOffset();if(d-this.startTime>c){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(a>b){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(f){if(this.onTouchMove(f)!==false){var i=f.changedTouches[0],a=i.pageX,b=a-this.startX,h=Math.abs(b),d=f.time-this.startTime,g=this.getMinDistance(),c;if(h<g){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}c=(b<0)?\"left\":\"right\";this.fire(\"swipe\",f,[i],{touch:i,direction:c,distance:h,duration:d})}}});Ext.define(\"Ext.event.recognizer.MultiTouch\",{extend:\"Ext.event.recognizer.Touch\",requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(d){var a=this.requiredTouchesCount,c=d.touches,b=c.length;if(b===a){this.start(d)}else{if(b>a){this.end(d)}}},onTouchEnd:function(a){this.end(a)},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(a){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this.fireEnd(a)}}}});Ext.define(\"Ext.event.recognizer.Pinch\",{extend:\"Ext.event.recognizer.MultiTouch\",requiredTouchesCount:2,handledEvents:[\"pinchstart\",\"pinch\",\"pinchend\"],startDistance:0,lastTouches:null,onTouchMove:function(c){if(!this.isTracking){return}var b=Array.prototype.slice.call(c.touches),d,a,f;d=b[0].point;a=b[1].point;f=d.getDistanceTo(a);if(f===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=f;this.fire(\"pinchstart\",c,b,{touches:b,distance:f,scale:1})}else{this.fire(\"pinch\",c,b,{touches:b,distance:f,scale:f/this.startDistance})}this.lastTouches=b},fireEnd:function(a){this.fire(\"pinchend\",a,this.lastTouches)},fail:function(){return this.callParent(arguments)}});Ext.define(\"Ext.event.recognizer.Rotate\",{extend:\"Ext.event.recognizer.MultiTouch\",requiredTouchesCount:2,handledEvents:[\"rotatestart\",\"rotate\",\"rotateend\"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(h){if(!this.isTracking){return}var g=Array.prototype.slice.call(h.touches),b=this.lastAngle,d,f,c,a,i,j;d=g[0].point;f=g[1].point;c=d.getAngleTo(f);if(b!==null){j=Math.abs(b-c);a=c+360;i=c-360;if(Math.abs(a-b)<j){c=a}else{if(Math.abs(i-b)<j){c=i}}}this.lastAngle=c;if(!this.isStarted){this.isStarted=true;this.startAngle=c;this.fire(\"rotatestart\",h,g,{touches:g,angle:c,rotation:0})}else{this.fire(\"rotate\",h,g,{touches:g,angle:c,rotation:c-this.startAngle})}this.lastTouches=g},fireEnd:function(a){this.lastAngle=null;this.fire(\"rotateend\",a,this.lastTouches)}});Ext.define(\"Ext.ComponentQuery\",{singleton:true,uses:[\"Ext.ComponentManager\"]},function(){var g=this,j=[\"var r = [],\",\"i = 0,\",\"it = items,\",\"l = it.length,\",\"c;\",\"for (; i < l; i++) {\",\"c = it[i];\",\"if (c.{0}) {\",\"r.push(c);\",\"}\",\"}\",\"return r;\"].join(\"\"),e=function(o,n){return n.method.apply(this,[o].concat(n.args))},a=function(p,t){var n=[],q=0,s=p.length,r,o=t!==\">\";for(;q<s;q++){r=p[q];if(r.getRefItems){n=n.concat(r.getRefItems(o))}}return n},f=function(o){var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];while(!!(q=(q.ownerCt||q.floatParent))){n.push(q)}}return n},l=function(o,t,s){if(t===\"*\"){return o.slice()}else{var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];if(q.isXType(t,s)){n.push(q)}}return n}},i=function(o,r){var t=Ext.Array,n=[],p=0,s=o.length,q;for(;p<s;p++){q=o[p];if(q.el?q.el.hasCls(r):t.contains(q.initCls(),r)){n.push(q)}}return n},m=function(r,u,o,t){var w=[],q=0,n=r.length,v,s,p;for(;q<n;q++){v=r[q];s=Ext.Class.getConfigNameMap(u).get;if(v[s]){p=v[s]();if(!t?!!p:(String(p)===t)){w.push(v)}}else{if(v.config&&v.config[u]){if(!t?!!v.config[u]:(String(v.config[u])===t)){w.push(v)}}else{if(!t?!!v[u]:(String(v[u])===t)){w.push(v)}}}}return w},d=function(o,s){var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];if(q.getId()===s||q.getItemId()===s){n.push(q)}}return n},k=function(n,o,p){return g.pseudos[o](n,p)},h=/^(\\s?([>\\^])\\s?|\\s|$)/,c=/^(#)?([\\w\\-]+|\\*)(?:\\((true|false)\\))?/,b=[{re:/^\\.([\\w\\-]+)(?:\\((true|false)\\))?/,method:l},{re:/^(?:[\\[](?:@)?([\\w\\-]+)\\s?(?:(=|.=)\\s?['\"]?(.*?)[\"']?)?[\\]])/,method:m},{re:/^#([\\w\\-]+)/,method:d},{re:/^\\:([\\w\\-]+)(?:\\(((?:\\{[^\\}]+\\})|(?:(?!\\{)[^\\s>\\/]*?(?!\\})))\\))?/,method:k},{re:/^(?:\\{([^\\}]+)\\})/,method:j}];g.Query=Ext.extend(Object,{constructor:function(n){n=n||{};Ext.apply(this,n)},execute:function(o){var q=this.operations,r=0,s=q.length,p,n;if(!o){n=Ext.ComponentManager.all.getArray()}else{if(Ext.isArray(o)){n=o}}for(;r<s;r++){p=q[r];if(p.mode===\"^\"){n=f(n||[o])}else{if(p.mode){n=a(n||[o],p.mode)}else{n=e(n||a([o]),p)}}if(r===s-1){return n}}return[]},is:function(p){var o=this.operations,s=Ext.isArray(p)?p:[p],n=s.length,t=o[o.length-1],r,q;s=e(s,t);if(s.length===n){if(o.length>1){for(q=0,r=s.length;q<r;q++){if(Ext.Array.indexOf(this.execute(),s[q])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(t,n){var u=Ext.ComponentQuery,r=0,s=t.length,q=[],p=-1,o;for(;r<s;++r){o=t[r];if(!u.is(o,n)){q[++p]=o}}return q}},query:function(o,v){var w=o.split(\",\"),n=w.length,p=0,q=[],x=[],u={},s,r,t;for(;p<n;p++){o=Ext.String.trim(w[p]);s=this.parse(o);q=q.concat(s.execute(v))}if(n>1){r=q.length;for(p=0;p<r;p++){t=q[p];if(!u[t.id]){x.push(t);u[t.id]=true}}q=x}return q},is:function(o,n){if(!n){return true}var p=this.cache[n];if(!p){this.cache[n]=p=this.parse(n)}return p.is(o)},parse:function(q){var o=[],p=b.length,u,r,v,w,x,s,t,n;while(q&&u!==q){u=q;r=q.match(c);if(r){v=r[1];if(v===\"#\"){o.push({method:d,args:[Ext.String.trim(r[2])]})}else{if(v===\".\"){o.push({method:i,args:[Ext.String.trim(r[2])]})}else{o.push({method:l,args:[Ext.String.trim(r[2]),Boolean(r[3])]})}}q=q.replace(r[0],\"\")}while(!(w=q.match(h))){for(s=0;q&&s<p;s++){t=b[s];x=q.match(t.re);n=t.method;if(x){o.push({method:Ext.isString(t.method)?Ext.functionFactory(\"items\",Ext.String.format.apply(Ext.String,[n].concat(x.slice(1)))):t.method,args:x.slice(1)});q=q.replace(x[0],\"\");break}if(s===(p-1)){Ext.Error.raise('Invalid ComponentQuery selector: \"'+arguments[0]+'\"')}}}if(w[1]){o.push({mode:w[2]||w[1]});q=q.replace(w[0],\"\")}}return new g.Query({operations:o})}})});Ext.define(\"Ext.ComponentManager\",{alternateClassName:\"Ext.ComponentMgr\",singleton:true,constructor:function(){var a={};this.all={map:a,getArray:function(){var b=[],c;for(c in a){b.push(a[c])}return b}};this.map=a},register:function(a){var b=a.getId();if(this.map[b]){Ext.Logger.warn(\"Registering a component with a id (`\"+b+\"`) which has already been used. Please ensure the existing component has been destroyed (`Ext.Component#destroy()`.\")}this.map[a.getId()]=a},unregister:function(a){delete this.map[a.getId()]},isRegistered:function(a){return this.map[a]!==undefined},get:function(a){return this.map[a]},create:function(a,c){if(a.isComponent){return a}else{if(Ext.isString(a)){return Ext.createByAlias(\"widget.\"+a)}else{var b=a.xtype||c;return Ext.createByAlias(\"widget.\"+b,a)}}},registerType:Ext.emptyFn});Ext.define(\"Ext.mixin.Mixin\",{onClassExtended:function(b,e){var a=e.mixinConfig,d,f,c;if(a){d=b.superclass.mixinConfig;if(d){a=e.mixinConfig=Ext.merge({},d,a)}e.mixinId=a.id;f=a.beforeHooks;c=a.hooks||a.afterHooks;if(f||c){Ext.Function.interceptBefore(e,\"onClassMixedIn\",function(h){var g=this.prototype;if(f){Ext.Object.each(f,function(j,i){h.override(i,function(){if(g[j].apply(this,arguments)!==false){return this.callOverridden(arguments)}})})}if(c){Ext.Object.each(c,function(j,i){h.override(i,function(){var k=this.callOverridden(arguments);g[j].apply(this,arguments);return k})})}})}}}});Ext.define(\"Ext.behavior.Behavior\",{constructor:function(a){this.component=a;a.on(\"destroy\",\"onComponentDestroy\",this)},onComponentDestroy:Ext.emptyFn});Ext.define(\"Ext.mixin.Observable\",{requires:[\"Ext.event.Dispatcher\"],extend:\"Ext.mixin.Mixin\",mixins:[\"Ext.mixin.Identifiable\"],mixinConfig:{id:\"observable\",hooks:{destroy:\"destroy\"}},alternateClassName:\"Ext.util.Observable\",isObservable:true,observableType:\"observable\",validIdRegex:/^([\\w\\-]+)$/,observableIdPrefix:\"#\",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,config:{listeners:null,bubbleEvents:null},constructor:function(a){this.initConfig(a)},applyListeners:function(a){if(a){this.addListener(a)}},applyBubbleEvents:function(a){if(a){this.enableBubble(a)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId){var a=this.getUniqueId();if(!a.match(this.validIdRegex)){Ext.Logger.error(\"Invalid unique id of '\"+a+\"' for this object\",this)}this.observableId=this.observableIdPrefix+a;this.getObservableId=this.getOptimizedObservableId}return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){if(!this.eventDispatcher){this.eventDispatcher=Ext.event.Dispatcher.getInstance();this.getEventDispatcher=this.getOptimizedEventDispatcher;this.getListeners();this.getBubbleEvents()}return this.eventDispatcher},getManagedListeners:function(c,b){var d=c.getUniqueId(),a=this.managedListeners;if(!a){this.managedListeners=a={}}if(!a[d]){a[d]={};c.doAddListener(\"destroy\",\"clearManagedListeners\",this,{single:true,args:[c]})}if(!a[d][b]){a[d][b]=[]}return a[d][b]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a){a=this.usedSelectors=[];a.$map={}}return a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireAction:function(c,e,g,f,d,a){var b=typeof g,h;if(e===undefined){e=[]}if(b!=\"undefined\"){h={fn:g,isLateBinding:b==\"string\",scope:f||this,options:d||{},order:a}}return this.doFireEvent(c,e,h)},doFireEvent:function(b,c,e,a){if(this.eventFiringSuspended){return}var f=this.getObservableId(),d=this.getEventDispatcher();return d.dispatchEvent(this.observableType,f,b,c,e,a)},doAddListener:function(a,i,k,l,c){var e=(k&&k!==this&&k.isIdentifiable),b=this.getUsedSelectors(),f=b.$map,d=this.getObservableId(),g,j,h;if(!l){l={}}if(!k){k=this}if(l.delegate){h=l.delegate;d+=\" \"+h}if(!(d in f)){f[d]=true;b.push(d)}g=this.addDispatcherListener(d,a,i,k,l,c);if(g&&e){j=this.getManagedListeners(k,a);j.push({delegate:h,scope:k,fn:i,order:c})}return g},addDispatcherListener:function(b,d,f,e,c,a){return this.getEventDispatcher().addListener(this.observableType,b,d,f,e,c,a)},doRemoveListener:function(b,k,m,n,d){var g=(m&&m!==this&&m.isIdentifiable),e=this.getObservableId(),a,l,f,h,c,j;if(n&&n.delegate){j=n.delegate;e+=\" \"+j}if(!m){m=this}a=this.removeDispatcherListener(e,b,k,m,d);if(a&&g){l=this.getManagedListeners(m,b);for(f=0,h=l.length;f<h;f++){c=l[f];if(c.fn===k&&c.scope===m&&c.delegate===j&&c.order===d){l.splice(f,1);break}}}return a},removeDispatcherListener:function(b,c,e,d,a){return this.getEventDispatcher().removeListener(this.observableType,b,c,e,d,a)},clearManagedListeners:function(d){var j=this.managedListeners,a,c,h,f,e,g,b,k;if(!j){return this}if(d){if(typeof d!=\"string\"){a=d.getUniqueId()}else{a=d}c=j[a];for(f in c){if(c.hasOwnProperty(f)){h=c[f];for(e=0,g=h.length;e<g;e++){b=h[e];k={};if(b.delegate){k.delegate=b.delegate}if(this.doRemoveListener(f,b.fn,b.scope,k,b.order)){e--;g--}}}}delete j[a];return this}for(a in j){if(j.hasOwnProperty(a)){this.clearManagedListeners(a)}}},changeListener:function(l,h,n,p,q,d){var b,m,g,j,a,o,f,k,c,e;if(typeof n!=\"undefined\"){if(typeof h!=\"string\"){for(f=0,k=h.length;f<k;f++){a=h[f];l.call(this,a,n,p,q,d)}return this}l.call(this,h,n,p,q,d)}else{if(Ext.isArray(h)){m=h;for(f=0,k=m.length;f<k;f++){c=m[f];l.call(this,c.event,c.fn,c.scope,c,c.order)}}else{g=this.listenerOptionsRegex;q=h;b=[];m=[];j={};for(a in q){o=q[a];if(a===\"scope\"){p=o;continue}else{if(a===\"order\"){d=o;continue}}if(!g.test(a)){e=typeof o;if(e!=\"string\"&&e!=\"function\"){l.call(this,a,o.fn,o.scope||p,o,o.order||d);continue}b.push(a);m.push(o)}else{j[a]=o}}for(f=0,k=b.length;f<k;f++){l.call(this,b[f],m[f],p,j,d)}}}},addListener:function(b,e,d,c,a){return this.changeListener(this.doAddListener,b,e,d,c,a)},addBeforeListener:function(a,d,c,b){return this.addListener(a,d,c,b,\"before\")},addAfterListener:function(a,d,c,b){return this.addListener(a,d,c,b,\"after\")},removeListener:function(b,e,d,c,a){return this.changeListener(this.doRemoveListener,b,e,d,c,a)},removeBeforeListener:function(a,d,c,b){return this.removeListener(a,d,c,b,\"before\")},removeAfterListener:function(a,d,c,b){return this.removeListener(a,d,c,b,\"after\")},clearListeners:function(){var e=this.getUsedSelectors(),c=this.getEventDispatcher(),b,d,a;for(b=0,d=e.length;b<d;b++){a=e[b];c.clearListeners(this.observableType,a)}},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},suspendEvents:function(a){this.eventFiringSuspended=true},resumeEvents:function(){this.eventFiringSuspended=false},relayEvents:function(b,d,g){var c,f,e,a;if(typeof g==\"undefined\"){g=\"\"}if(typeof d==\"string\"){d=[d]}if(Ext.isArray(d)){for(c=0,f=d.length;c<f;c++){e=d[c];a=g+e;b.addListener(e,this.createEventRelayer(a),this)}}else{for(e in d){if(d.hasOwnProperty(e)){a=g+d[e];b.addListener(e,this.createEventRelayer(a),this)}}}return this},relayEvent:function(e,f,h,i,a){var g=typeof f,c=e[e.length-1],d=c.getInfo().eventName,b;e=Array.prototype.slice.call(e,0,-2);e[0]=this;if(g!=\"undefined\"){b={fn:f,scope:h||this,options:i||{},order:a,isLateBinding:g==\"string\"}}return this.doFireEvent(d,e,b,c)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(d){var a=this.isBubblingEnabled,c,e,b;if(!a){a=this.isBubblingEnabled={}}if(typeof d==\"string\"){d=Ext.Array.clone(arguments)}for(c=0,e=d.length;c<e;c++){b=d[c];if(!a[b]){a[b]=true;this.addListener(b,this.createEventBubbler(b),this)}}},createEventBubbler:function(a){return function b(){var c=(\"getBubbleTarget\" in this)?this.getBubbleTarget():null;if(c&&c!==this&&c.isObservable){c.fireAction(a,Array.prototype.slice.call(arguments,0,-2),b,c,null,\"after\")}}},getBubbleTarget:function(){return false},destroy:function(){if(this.observableId){this.fireEvent(\"destroy\",this);this.clearListeners();this.clearManagedListeners()}},addEvents:Ext.emptyFn},function(){this.createAlias({on:\"addListener\",un:\"removeListener\",onBefore:\"addBeforeListener\",onAfter:\"addAfterListener\",unBefore:\"removeBeforeListener\",unAfter:\"removeAfterListener\"});Ext.deprecateClassMethod(this,\"addEvents\",function(){},\"addEvents() is deprecated. It's no longer needed to add events before firing\");Ext.deprecateClassMethod(this,\"addManagedListener\",function(c,a,e,d,b){return c.addListener(a,e,d,b)},\"addManagedListener() / mon() is deprecated, simply use addListener() / on(). All listeners are now automatically managed where necessary.\");Ext.deprecateClassMethod(this,\"removeManagedListener\",function(b,a,d,c){return b.removeListener(a,d,c)},\"removeManagedListener() / mun() is deprecated, simply use removeListener() / un(). All listeners are now automatically managed where necessary.\");this.createAlias({mon:\"addManagedListener\",mun:\"removeManagedListener\"})});Ext.define(\"Ext.XTemplateParser\",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(n){var o=this,l=n.length,c={elseif:\"elif\"},j=o.topRe,b=o.actionsRe,k,p,r,f,q,g,a,e,d,h,i;o.level=0;o.stack=p=[];for(k=0;k<l;k=h){j.lastIndex=k;f=j.exec(n);if(!f){o.doText(n.substring(k,l));break}d=f.index;h=j.lastIndex;if(k<d){o.doText(n.substring(k,d))}if(f[1]){h=n.indexOf(\"%}\",d+2);o.doEval(n.substring(d+2,h));h+=2}else{if(f[2]){h=n.indexOf(\"]}\",d+2);o.doExpr(n.substring(d+2,h));h+=2}else{if(f[3]){o.doTag(f[3])}else{if(f[4]){i=null;while((e=b.exec(f[4]))!==null){r=e[2]||e[3];if(r){r=Ext.String.htmlDecode(r);q=e[1];q=c[q]||q;i=i||{};g=i[q];if(typeof g==\"string\"){i[q]=[g,r]}else{if(g){i[q].push(r)}else{i[q]=r}}}}if(!i){if(o.elseRe.test(f[4])){o.doElse()}else{if(o.defaultRe.test(f[4])){o.doDefault()}else{o.doTpl();p.push({type:\"tpl\"})}}}else{if(i[\"if\"]){o.doIf(i[\"if\"],i);p.push({type:\"if\"})}else{if(i[\"switch\"]){o.doSwitch(i[\"switch\"],i);p.push({type:\"switch\"})}else{if(i[\"case\"]){o.doCase(i[\"case\"],i)}else{if(i.elif){o.doElseIf(i.elif,i)}else{if(i[\"for\"]){++o.level;o.doFor(i[\"for\"],i);p.push({type:\"for\",actions:i})}else{if(i.exec){o.doExec(i.exec,i);p.push({type:\"exec\",actions:i})}}}}}}}}else{a=p.pop();o.doEnd(a.type,a.actions);if(a.type==\"for\"){--o.level}}}}}}},topRe:/(?:(\\{\\%)|(\\{\\[)|\\{([^{}]*)\\})|(?:<tpl([^>]*)\\>)|(?:<\\/tpl>)/g,actionsRe:/\\s*(elif|elseif|if|for|exec|switch|case|eval)\\s*\\=\\s*(?:(?:[\"]([^\"]*)[\"])|(?:[']([^']*)[']))\\s*/g,defaultRe:/^\\s*default\\s*$/,elseRe:/^\\s*else\\s*$/});Ext.define(\"Ext.fx.easing.Abstract\",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define(\"Ext.mixin.Traversable\",{extend:\"Ext.mixin.Mixin\",mixinConfig:{id:\"traversable\"},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){var b=[],a=this.getParent();while(a){b.push(a);a=a.getParent()}return b},getAncestorIds:function(){var b=[],a=this.getParent();while(a){b.push(a.getId());a=a.getParent()}return b}});Ext.define(\"Ext.Evented\",{alternateClassName:\"Ext.EventedBase\",mixins:[\"Ext.mixin.Observable\"],statics:{generateSetter:function(e){var c=e.internal,b=e.apply,a=e.changeEvent,d=e.doSet;return function(h){var i=this.initialized,g=this[c],f=this[b];if(f){h=f.call(this,h,g);if(typeof h==\"undefined\"){return this}}g=this[c];if(h!==g){if(i){this.fireAction(a,[this,h,g],this.doSet,this,{nameMap:e})}else{this[c]=h;this[d].call(this,h,g)}}return this}}},initialized:false,constructor:function(a){this.initialConfig=a;this.initialize()},initialize:function(){this.initConfig(this.initialConfig);this.initialized=true},doSet:function(c,d,b,a){var e=a.nameMap;c[e.internal]=d;c[e.doSet].call(this,d,b)},onClassExtended:function(a,e){if(!e.hasOwnProperty(\"eventedConfig\")){return}var d=Ext.Class,c=e.config,g=e.eventedConfig,b,f;e.config=(c)?Ext.applyIf(c,g):g;for(b in g){if(g.hasOwnProperty(b)){f=d.getConfigNameMap(b);e[f.set]=this.generateSetter(f)}}}});Ext.define(\"Ext.AbstractComponent\",{extend:\"Ext.Evented\",onClassExtended:function(b,f){if(!f.hasOwnProperty(\"cachedConfig\")){return}var g=b.prototype,c=f.config,e=f.cachedConfig,d=g.cachedConfigList,i=g.hasCachedConfig,a,h;delete f.cachedConfig;g.cachedConfigList=d=(d)?d.slice():[];g.hasCachedConfig=i=(i)?Ext.Object.chain(i):{};if(!c){f.config=c={}}for(a in e){if(e.hasOwnProperty(a)){h=e[a];if(!i[a]){i[a]=true;d.push(a)}c[a]=h}}},getElementConfig:Ext.emptyFn,referenceAttributeName:\"reference\",referenceSelector:\"[reference]\",addReferenceNode:function(a,b){Ext.Object.defineProperty(this,a,{get:function(){var c;delete this[a];this[a]=c=new Ext.Element(b);return c},configurable:true})},initElement:function(){var k=this.self.prototype,n=this.getId(),s=[],g=true,x=this.referenceAttributeName,p=false,e,v,b,o,t,d,l,c,f,j,w,m,a,q,h,y,u,r;if(k.hasOwnProperty(\"renderTemplate\")){e=this.renderTemplate.cloneNode(true);v=e.firstChild}else{g=false;p=true;e=document.createDocumentFragment();v=Ext.Element.create(this.getElementConfig(),true);e.appendChild(v)}o=e.querySelectorAll(this.referenceSelector);for(t=0,d=o.length;t<d;t++){l=o[t];c=l.getAttribute(x);if(g){l.removeAttribute(x)}if(c==\"element\"){l.id=n;this.element=b=new Ext.Element(l)}else{this.addReferenceNode(c,l)}s.push(c)}this.referenceList=s;if(!this.innerElement){this.innerElement=b}if(v===b.dom){this.renderElement=b}else{this.addReferenceNode(\"renderElement\",v)}if(p){f=Ext.Class.configNameCache;j=this.config;w=this.cachedConfigList;m=this.initConfigList;a=this.initConfigMap;q=[];for(t=0,d=w.length;t<d;t++){y=w[t];u=f[y];if(a[y]){a[y]=false;Ext.Array.remove(m,y)}if(j[y]!==null){q.push(y);this[u.get]=this[u.initGet]}}for(t=0,d=q.length;t<d;t++){y=q[t];u=f[y];r=u.internal;this[r]=null;this[u.set].call(this,j[y]);delete this[u.get];k[r]=this[r]}v=this.renderElement.dom;k.renderTemplate=e=document.createDocumentFragment();e.appendChild(v.cloneNode(true));h=e.querySelectorAll(\"[id]\");for(t=0,d=h.length;t<d;t++){b=h[t];b.removeAttribute(\"id\")}for(t=0,d=s.length;t<d;t++){c=s[t];this[c].dom.removeAttribute(\"reference\")}}return this}});Ext.define(\"Ext.XTemplateCompiler\",{extend:\"Ext.XTemplateParser\",useEval:Ext.isGecko,useFormat:true,propNameRe:/^[\\w\\d\\$]*$/,compile:function(a){var c=this,b=c.generate(a);return c.useEval?c.evalTpl(b):(new Function(\"Ext\",b))(Ext)},generate:function(a){var c=this;c.body=[\"var c0=values, p0=parent, n0=xcount, i0=xindex;\\n\"];c.funcs=[\"var fm=Ext.util.Format;\"];c.switches=[];c.parse(a);c.funcs.push((c.useEval?\"$=\":\"return\")+\" function (\"+c.fnArgs+\") {\",c.body.join(\"\"),\"}\");var b=c.funcs.join(\"\\n\");return b},doText:function(a){a=a.replace(this.aposRe,\"\\\\'\");a=a.replace(this.newLineRe,\"\\\\n\");this.body.push(\"out.push('\",a,\"')\\n\")},doExpr:function(a){this.body.push(\"out.push(String(\",a,\"))\\n\")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push(\"} else {\\n\")},doEval:function(a){this.body.push(a,\"\\n\")},doIf:function(b,c){var a=this;if(a.propNameRe.test(b)){a.body.push(\"if (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"if (\",a.addFn(b),a.callFn,\") {\\n\")}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(a.propNameRe.test(b)){a.body.push(\"} else if (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"} else if (\",a.addFn(b),a.callFn,\") {\\n\")}if(c.exec){a.doExec(c.exec)}},doSwitch:function(b){var a=this;if(a.propNameRe.test(b)){a.body.push(\"switch (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"switch (\",a.addFn(b),a.callFn,\") {\\n\")}a.switches.push(0)},doCase:function(e){var d=this,c=Ext.isArray(e)?e:[e],f=d.switches.length-1,a,b;if(d.switches[f]){d.body.push(\"break;\\n\")}else{d.switches[f]++}for(b=0,f=c.length;b<f;++b){a=d.intRe.exec(c[b]);c[b]=a?a[1]:(\"'\"+c[b].replace(d.aposRe,\"\\\\'\")+\"'\")}d.body.push(\"case \",c.join(\": case \"),\":\\n\")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push(\"break;\\n\")}else{a.switches[b]++}a.body.push(\"default:\\n\")},doEnd:function(b,d){var c=this,a=c.level-1;if(b==\"for\"){if(d.exec){c.doExec(d.exec)}c.body.push(\"}\\n\");c.body.push(\"parent=p\",a,\";values=r\",a+1,\";xcount=n\",a,\";xindex=i\",a,\"\\n\")}else{if(b==\"if\"||b==\"switch\"){c.body.push(\"}\\n\")}}},doFor:function(e,f){var d=this,c=d.addFn(e),b=d.level,a=b-1;d.body.push(\"var c\",b,\"=\",c,d.callFn,\", a\",b,\"=Ext.isArray(c\",b,\"),p\",b,\"=(parent=c\",a,\"),r\",b,\"=values\\n\",\"for (var i\",b,\"=0,n\",b,\"=a\",b,\"?c\",b,\".length:(c\",b,\"?1:0), xcount=n\",b,\";i\",b,\"<n\"+b+\";++i\",b,\"){\\n\",\"values=a\",b,\"?c\",b,\"[i\",b,\"]:c\",b,\"\\n\",\"xindex=i\",b,\"+1\\n\")},doExec:function(c,d){var b=this,a=\"f\"+b.funcs.length;b.funcs.push(\"function \"+a+\"(\"+b.fnArgs+\") {\",\" try { with(values) {\",\"  \"+c,\" }} catch(e) {}\",\"}\");b.body.push(a+b.callFn+\"\\n\")},addFn:function(a){var c=this,b=\"f\"+c.funcs.length;if(a===\".\"){c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" return values\",\"}\")}else{if(a===\"..\"){c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" return parent\",\"}\")}else{c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" try { with(values) {\",\"  return(\"+a+\")\",\" }} catch(e) {}\",\"}\")}}return b},parseTag:function(b){var a=this.tagRe.exec(b),e=a[1],g=a[2],d=a[3],f=a[4],c;if(e==\".\"){c='Ext.Array.indexOf([\"string\", \"number\", \"boolean\"], typeof values) > -1 || Ext.isDate(values) ? values : \"\"'}else{if(e==\"#\"){c=\"xindex\"}else{if(e.substr(0,7)==\"parent.\"){c=e}else{if((e.indexOf(\".\")!==-1)&&(e.indexOf(\"-\")===-1)){c=\"values.\"+e}else{c=\"values['\"+e+\"']\"}}}}if(f){c=\"(\"+c+f+\")\"}if(g&&this.useFormat){d=d?\",\"+d:\"\";if(g.substr(0,5)!=\"this.\"){g=\"fm.\"+g+\"(\"}else{g+=\"(\"}}else{d=\"\";g=\"(\"+c+\" === undefined ? '' : \"}return g+c+d+\")\"},evalTpl:function($){eval($);return $},newLineRe:/\\r\\n|\\r|\\n/g,aposRe:/[']/g,intRe:/^\\s*(\\d+)\\s*$/,tagRe:/([\\w-\\.\\#]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?(\\s?[\\+\\-\\*\\/]\\s?[\\d\\.\\+\\-\\*\\/\\(\\)]+)?/},function(){var a=this.prototype;a.fnArgs=\"out,values,parent,xindex,xcount\";a.callFn=\".call(this,\"+a.fnArgs+\")\"});(function(){function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\\{(\\d+)\\}/g,function(e,f){return c[f]})}Ext.DateExtras={now:Date.now||function(){return +new Date()},getElapsed:function(d,c){return Math.abs(d-(c||new Date()))},useStrict:false,formatCodeToRegex:function(d,c){var e=a.parseCodes[d];if(e){e=typeof e==\"function\"?e():e;a.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||\"{0}\"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(d)}},parseFunctions:{MS:function(d,c){var e=new RegExp(\"\\\\/Date\\\\(([-+])?(\\\\d+)(?:[+-]\\\\d{4})?\\\\)\\\\/\");var f=(d||\"\").match(e);return f?new Date(((f[1]||\"\")+f[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return\"\\\\/Date(\"+this.getTime()+\")\\\\/\"}},y2kYear:50,MILLI:\"ms\",SECOND:\"s\",MINUTE:\"mi\",HOUR:\"h\",DAY:\"d\",MONTH:\"mo\",YEAR:\"y\",defaults:{},dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:\"m/d/Y\",getShortMonthName:function(c){return a.monthNames[c].substring(0,3)},getShortDayName:function(c){return a.dayNames[c].substring(0,3)},getMonthNumber:function(c){return a.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatCodes:{d:\"Ext.String.leftPad(this.getDate(), 2, '0')\",D:\"Ext.Date.getShortDayName(this.getDay())\",j:\"this.getDate()\",l:\"Ext.Date.dayNames[this.getDay()]\",N:\"(this.getDay() ? this.getDay() : 7)\",S:\"Ext.Date.getSuffix(this)\",w:\"this.getDay()\",z:\"Ext.Date.getDayOfYear(this)\",W:\"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')\",F:\"Ext.Date.monthNames[this.getMonth()]\",m:\"Ext.String.leftPad(this.getMonth() + 1, 2, '0')\",M:\"Ext.Date.getShortMonthName(this.getMonth())\",n:\"(this.getMonth() + 1)\",t:\"Ext.Date.getDaysInMonth(this)\",L:\"(Ext.Date.isLeapYear(this) ? 1 : 0)\",o:\"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))\",Y:\"Ext.String.leftPad(this.getFullYear(), 4, '0')\",y:\"('' + this.getFullYear()).substring(2, 4)\",a:\"(this.getHours() < 12 ? 'am' : 'pm')\",A:\"(this.getHours() < 12 ? 'AM' : 'PM')\",g:\"((this.getHours() % 12) ? this.getHours() % 12 : 12)\",G:\"this.getHours()\",h:\"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')\",H:\"Ext.String.leftPad(this.getHours(), 2, '0')\",i:\"Ext.String.leftPad(this.getMinutes(), 2, '0')\",s:\"Ext.String.leftPad(this.getSeconds(), 2, '0')\",u:\"Ext.String.leftPad(this.getMilliseconds(), 3, '0')\",O:\"Ext.Date.getGMTOffset(this)\",P:\"Ext.Date.getGMTOffset(this, true)\",T:\"Ext.Date.getTimezone(this)\",Z:\"(this.getTimezoneOffset() * -60)\",c:function(){for(var j=\"Y-m-dTH:i:sP\",g=[],f=0,d=j.length;f<d;++f){var h=j.charAt(f);g.push(h==\"T\"?\"'T'\":a.getFormatCode(h))}return g.join(\" + \")},U:\"Math.round(this.getTime() / 1000)\"},isValid:function(n,c,l,j,f,g,e){j=j||0;f=f||0;g=g||0;e=e||0;var k=a.add(new Date(n<100?100:n,c-1,l,j,f,g,e),a.YEAR,n<100?n-100:0);return n==k.getFullYear()&&c==k.getMonth()+1&&l==k.getDate()&&j==k.getHours()&&f==k.getMinutes()&&g==k.getSeconds()&&e==k.getMilliseconds()},parse:function(d,f,c){var e=a.parseFunctions;if(e[f]==null){a.createParser(f)}return e[f](d,Ext.isDefined(c)?c:a.useStrict)},parseDate:function(d,e,c){return a.parse(d,e,c)},getFormatCode:function(d){var c=a.formatCodes[d];if(c){c=typeof c==\"function\"?c():c;a.formatCodes[d]=c}return c||(\"'\"+Ext.String.escape(d)+\"'\")},createFormat:function(g){var f=[],c=false,e=\"\";for(var d=0;d<g.length;++d){e=g.charAt(d);if(!c&&e==\"\\\\\"){c=true}else{if(c){c=false;f.push(\"'\"+Ext.String.escape(e)+\"'\")}else{f.push(a.getFormatCode(e))}}}a.formatFunctions[g]=Ext.functionFactory(\"return \"+f.join(\"+\"))},createParser:(function(){var c=[\"var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\",\"def = Ext.Date.defaults,\",\"results = String(input).match(Ext.Date.parseRegexes[{0}]);\",\"if(results){\",\"{1}\",\"if(u != null){\",\"v = new Date(u * 1000);\",\"}else{\",\"dt = Ext.Date.clearTime(new Date);\",\"y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));\",\"m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));\",\"d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));\",\"h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));\",\"i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));\",\"s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));\",\"ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));\",\"if(z >= 0 && y >= 0){\",\"v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\"v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);\",\"}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){\",\"v = null;\",\"}else{\",\"v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\"}\",\"}\",\"}\",\"if(v){\",\"if(zz != null){\",\"v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\",\"}else if(o){\",\"v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\",\"}\",\"}\",\"return v;\"].join(\"\\n\");return function(l){var e=a.parseRegexes.length,m=1,f=[],k=[],j=false,d=\"\";for(var h=0;h<l.length;++h){d=l.charAt(h);if(!j&&d==\"\\\\\"){j=true}else{if(j){j=false;k.push(Ext.String.escape(d))}else{var g=a.formatCodeToRegex(d,m);m+=g.g;k.push(g.s);if(g.g&&g.c){f.push(g.c)}}}}a.parseRegexes[e]=new RegExp(\"^\"+k.join(\"\")+\"$\",\"i\");a.parseFunctions[l]=Ext.functionFactory(\"input\",\"strict\",b(c,e,f.join(\"\")))}})(),parseCodes:{d:{g:1,c:\"d = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},j:{g:1,c:\"d = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,2})\"},D:function(){for(var c=[],d=0;d<7;c.push(a.getShortDayName(d)),++d){}return{g:0,c:null,s:\"(?:\"+c.join(\"|\")+\")\"}},l:function(){return{g:0,c:null,s:\"(?:\"+a.dayNames.join(\"|\")+\")\"}},N:{g:0,c:null,s:\"[1-7]\"},S:{g:0,c:null,s:\"(?:st|nd|rd|th)\"},w:{g:0,c:null,s:\"[0-6]\"},z:{g:1,c:\"z = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,3})\"},W:{g:0,c:null,s:\"(?:\\\\d{2})\"},F:function(){return{g:1,c:\"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\\n\",s:\"(\"+a.monthNames.join(\"|\")+\")\"}},M:function(){for(var c=[],d=0;d<12;c.push(a.getShortMonthName(d)),++d){}return Ext.applyIf({s:\"(\"+c.join(\"|\")+\")\"},a.formatCodeToRegex(\"F\"))},m:{g:1,c:\"m = parseInt(results[{0}], 10) - 1;\\n\",s:\"(\\\\d{2})\"},n:{g:1,c:\"m = parseInt(results[{0}], 10) - 1;\\n\",s:\"(\\\\d{1,2})\"},t:{g:0,c:null,s:\"(?:\\\\d{2})\"},L:{g:0,c:null,s:\"(?:1|0)\"},o:function(){return a.formatCodeToRegex(\"Y\")},Y:{g:1,c:\"y = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{4})\"},y:{g:1,c:\"var ty = parseInt(results[{0}], 10);\\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\\n\",s:\"(\\\\d{1,2})\"},a:{g:1,c:\"if (/(am)/i.test(results[{0}])) {\\nif (!h || h == 12) { h = 0; }\\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",s:\"(am|pm|AM|PM)\"},A:{g:1,c:\"if (/(am)/i.test(results[{0}])) {\\nif (!h || h == 12) { h = 0; }\\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",s:\"(AM|PM|am|pm)\"},g:function(){return a.formatCodeToRegex(\"G\")},G:{g:1,c:\"h = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,2})\"},h:function(){return a.formatCodeToRegex(\"H\")},H:{g:1,c:\"h = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},i:{g:1,c:\"i = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},s:{g:1,c:\"s = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},u:{g:1,c:\"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\",s:\"(\\\\d+)\"},O:{g:1,c:[\"o = results[{0}];\",\"var sn = o.substring(0,1),\",\"hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\",\"mn = o.substring(3,5) % 60;\",\"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\"].join(\"\\n\"),s:\"([+-]\\\\d{4})\"},P:{g:1,c:[\"o = results[{0}];\",\"var sn = o.substring(0,1),\",\"hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\",\"mn = o.substring(4,6) % 60;\",\"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\"].join(\"\\n\"),s:\"([+-]\\\\d{2}:\\\\d{2})\"},T:{g:0,c:null,s:\"[A-Z]{1,4}\"},Z:{g:1,c:\"zz = results[{0}] * 1;\\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\\n\",s:\"([+-]?\\\\d{1,5})\"},c:function(){var e=[],c=[a.formatCodeToRegex(\"Y\",1),a.formatCodeToRegex(\"m\",2),a.formatCodeToRegex(\"d\",3),a.formatCodeToRegex(\"h\",4),a.formatCodeToRegex(\"i\",5),a.formatCodeToRegex(\"s\",6),{c:\"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\"},{c:[\"if(results[8]) {\",\"if(results[8] == 'Z'){\",\"zz = 0;\",\"}else if (results[8].indexOf(':') > -1){\",a.formatCodeToRegex(\"P\",8).c,\"}else{\",a.formatCodeToRegex(\"O\",8).c,\"}\",\"}\"].join(\"\\n\")}];for(var f=0,d=c.length;f<d;++f){e.push(c[f].c)}return{g:1,c:e.join(\"\"),s:[c[0].s,\"(?:\",\"-\",c[1].s,\"(?:\",\"-\",c[2].s,\"(?:\",\"(?:T| )?\",c[3].s,\":\",c[4].s,\"(?::\",c[5].s,\")?\",\"(?:(?:\\\\.|,)(\\\\d+))?\",\"(Z|(?:[-+]\\\\d{2}(?::)?\\\\d{2}))?\",\")?\",\")?\",\")?\"].join(\"\")}},U:{g:1,c:\"u = parseInt(results[{0}], 10);\\n\",s:\"(-?\\\\d+)\"}},dateFormat:function(c,d){return a.format(c,d)},format:function(d,e){if(a.formatFunctions[e]==null){a.createFormat(e)}var c=a.formatFunctions[e].call(d);return c+\"\"},getTimezone:function(c){return c.toString().replace(/^.* (?:\\((.*)\\)|([A-Z]{1,4})(?:[\\-+][0-9]{4})?(?: -?\\d+)?)$/,\"$1$2\").replace(/[^A-Z]/g,\"\")},getGMTOffset:function(c,d){var e=c.getTimezoneOffset();return(e>0?\"-\":\"+\")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,\"0\")+(d?\":\":\"\")+Ext.String.leftPad(Math.abs(e%60),2,\"0\")},getDayOfYear:function(f){var e=0,h=Ext.Date.clone(f),c=f.getMonth(),g;for(g=0,h.setDate(1),h.setMonth(0);g<c;h.setMonth(++g)){e+=a.getDaysInMonth(h)}return e+f.getDate()-1},getWeekOfYear:(function(){var c=86400000,d=7*c;return function(f){var g=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()+3)/c,e=Math.floor(g/7),h=new Date(e*d).getUTCFullYear();return e-Math.floor(Date.UTC(h,0,7)/d)+1}})(),isLeapYear:function(c){var d=c.getFullYear();return !!((d&3)==0&&(d%100||(d%400==0&&d)))},getFirstDayOfMonth:function(d){var c=(d.getDay()-(d.getDate()-1))%7;return(c<0)?(c+7):c},getLastDayOfMonth:function(c){return a.getLastDateOfMonth(c).getDay()},getFirstDateOfMonth:function(c){return new Date(c.getFullYear(),c.getMonth(),1)},getLastDateOfMonth:function(c){return new Date(c.getFullYear(),c.getMonth(),a.getDaysInMonth(c))},getDaysInMonth:(function(){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return function(e){var d=e.getMonth();return d==1&&a.isLeapYear(e)?29:c[d]}})(),getSuffix:function(c){switch(c.getDate()){case 1:case 21:case 31:return\"st\";case 2:case 22:return\"nd\";case 3:case 23:return\"rd\";default:return\"th\"}},clone:function(c){return new Date(c.getTime())},isDST:function(c){return new Date(c.getFullYear(),0,1).getTimezoneOffset()!=c.getTimezoneOffset()},clearTime:function(e,i){if(i){return Ext.Date.clearTime(Ext.Date.clone(e))}var g=e.getDate();e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(e.getDate()!=g){for(var f=1,h=a.add(e,Ext.Date.HOUR,f);h.getDate()!=g;f++,h=a.add(e,Ext.Date.HOUR,f)){}e.setDate(g);e.setHours(h.getHours())}return e},add:function(g,f,h){var i=Ext.Date.clone(g),c=Ext.Date;if(!f||h===0){return i}switch(f.toLowerCase()){case Ext.Date.MILLI:i.setMilliseconds(i.getMilliseconds()+h);break;case Ext.Date.SECOND:i.setSeconds(i.getSeconds()+h);break;case Ext.Date.MINUTE:i.setMinutes(i.getMinutes()+h);break;case Ext.Date.HOUR:i.setHours(i.getHours()+h);break;case Ext.Date.DAY:i.setDate(i.getDate()+h);break;case Ext.Date.MONTH:var e=g.getDate();if(e>28){e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(g),\"mo\",h)).getDate())}i.setDate(e);i.setMonth(g.getMonth()+h);break;case Ext.Date.YEAR:i.setFullYear(g.getFullYear()+h);break}return i},between:function(d,f,c){var e=d.getTime();return f.getTime()<=e&&e<=c.getTime()}};var a=Ext.DateExtras;Ext.apply(Ext.Date,a);Ext.apply(Ext.util.Date,a)})();Ext.define(\"Ext.util.Format\",{requires:[\"Ext.DateExtras\"],singleton:true,defaultDateFormat:\"m/d/Y\",escapeRe:/('|\\\\)/g,trimRe:/^[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+|[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+$/g,formatRe:/\\{(\\d+)\\}/g,escapeRegexRe:/([-.*+?^${}()|[\\]\\/\\\\])/g,dashesRe:/-/g,iso8601TestRe:/\\d\\dT\\d\\d/,iso8601SplitRe:/[- :T\\.Z\\+]/,ellipsis:function(c,a,d){if(c&&c.length>a){if(d){var e=c.substr(0,a-2),b=Math.max(e.lastIndexOf(\" \"),e.lastIndexOf(\".\"),e.lastIndexOf(\"!\"),e.lastIndexOf(\"?\"));if(b!=-1&&b>=(a-15)){return e.substr(0,b)+\"...\"}}return c.substr(0,a-3)+\"...\"}return c},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,\"\\\\$1\")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,\"\\\\$1\")},toggle:function(b,c,a){return b==c?a:c},trim:function(a){return a.replace(Ext.util.Format.trimRe,\"\")},leftPad:function(d,b,c){var a=String(d);c=c||\" \";while(a.length<b){a=c+a}return a},format:function(b){var a=Ext.toArray(arguments,1);return b.replace(Ext.util.Format.formatRe,function(c,d){return a[d]})},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,\"&amp;\").replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,\">\").replace(/&lt;/g,\"<\").replace(/&quot;/g,'\"').replace(/&amp;/g,\"&\")},date:function(b,c){var a=b;if(!b){return\"\"}if(!Ext.isDate(b)){a=new Date(Date.parse(b));if(isNaN(a)){if(this.iso8601TestRe.test(b)){a=b.split(this.iso8601SplitRe);a=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])}if(isNaN(a)){a=new Date(Date.parse(b.replace(this.dashesRe,\"/\")));if(isNaN(a)){Ext.Logger.error(\"Cannot parse the passed value \"+b+\" into a valid date\")}}}b=a}return Ext.Date.format(b,c||Ext.util.Format.defaultDateFormat)}});Ext.define(\"Ext.Template\",{requires:[\"Ext.dom.Helper\",\"Ext.util.Format\"],inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||\"\")}},constructor:function(d){var f=this,b=arguments,a=[],c=0,e=b.length,g;f.initialConfig={};if(e>1){for(;c<e;c++){g=b[c];if(typeof g==\"object\"){Ext.apply(f.initialConfig,g);Ext.apply(f,g)}else{a.push(g)}}d=a.join(\"\")}else{if(Ext.isArray(d)){a.push(d.join(\"\"))}else{a.push(d)}}f.html=a.join(\"\");if(f.compiled){f.compile()}},isTemplate:true,disableFormats:false,re:/\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?\\}/g,apply:function(a){var g=this,d=g.disableFormats!==true,f=Ext.util.Format,c=g,b;if(g.compiled){return g.compiled(a).join(\"\")}function e(h,j,k,i){if(k&&d){if(i){i=[a[j]].concat(Ext.functionFactory(\"return [\"+i+\"];\")())}else{i=[a[j]]}if(k.substr(0,5)==\"this.\"){return c[k.substr(5)].apply(c,i)}else{return f[k].apply(f,i)}}else{return a[j]!==undefined?a[j]:\"\"}}b=g.html.replace(g.re,e);return b},applyOut:function(a,b){var c=this;if(c.compiled){b.push.apply(b,c.compiled(a))}else{b.push(c.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compileARe:/\\\\/g,compileBRe:/(\\r\\n|\\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?\",\"+args:\"\";if(format.substr(0,5)!=\"this.\"){format=\"fm.\"+format+\"(\"}else{format=\"this.\"+format.substr(5)+\"(\"}}else{args=\"\";format=\"(values['\"+name+\"'] == undefined ? '' : \"}return\"',\"+format+\"values['\"+name+\"']\"+args+\") ,'\"}bodyReturn=me.html.replace(me.compileARe,\"\\\\\\\\\").replace(me.compileBRe,\"\\\\n\").replace(me.compileCRe,\"\\\\'\").replace(me.re,fn);body=\"this.compiled = function(values){ return ['\"+bodyReturn+\"'];};\";eval(body);return me},insertFirst:function(b,a,c){return this.doInsert(\"afterBegin\",b,a,c)},insertBefore:function(b,a,c){return this.doInsert(\"beforeBegin\",b,a,c)},insertAfter:function(b,a,c){return this.doInsert(\"afterEnd\",b,a,c)},append:function(b,a,c){return this.doInsert(\"beforeEnd\",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.apply(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.apply(a);return c?Ext.get(b.firstChild,true):b.firstChild}});Ext.define(\"Ext.XTemplate\",{extend:\"Ext.Template\",requires:\"Ext.XTemplateCompiler\",apply:function(a){return this.applyOut(a,[]).join(\"\")},applyOut:function(a,b){var d=this,c;if(!d.fn){c=new Ext.XTemplateCompiler({useFormat:d.disableFormats!==true});d.fn=c.compile(d.html)}try{d.fn.call(d,b,a,{},1,1)}catch(f){Ext.Logger.error(f.message)}return b},compile:function(){return this},statics:{getTpl:function(a,c){var b=a[c],d;if(b&&!b.isTemplate){b=Ext.ClassManager.dynInstantiate(\"Ext.XTemplate\",b);if(a.hasOwnProperty(c)){a[c]=b}else{for(d=a.self.prototype;d;d=d.superclass){if(d.hasOwnProperty(c)){d[c]=b;break}}}}return b||null}}});Ext.define(\"Ext.util.SizeMonitor\",{extend:\"Ext.Evented\",config:{element:null,detectorCls:Ext.baseCSSPrefix+\"size-change-detector\",callback:Ext.emptyFn,scope:null,args:[]},constructor:function(d){this.initConfig(d);this.doFireSizeChangeEvent=Ext.Function.bind(this.doFireSizeChangeEvent,this);var g=this,e=this.getElement().dom,b=this.getDetectorCls(),c=Ext.Element.create({classList:[b,b+\"-expand\"],children:[{}]},true),h=Ext.Element.create({classList:[b,b+\"-shrink\"],children:[{}]},true),a=function(i){g.onDetectorScroll(\"expand\",i)},f=function(i){g.onDetectorScroll(\"shrink\",i)};e.appendChild(c);e.appendChild(h);this.detectors={expand:c,shrink:h};this.position={expand:{left:0,top:0},shrink:{left:0,top:0}};this.listeners={expand:a,shrink:f};this.refresh();c.addEventListener(\"scroll\",a,true);h.addEventListener(\"scroll\",f,true)},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){a.on(\"destroy\",\"destroy\",this)},refreshPosition:function(b){var e=this.detectors[b],a=this.position[b],d,c;a.left=d=e.scrollWidth-e.offsetWidth;a.top=c=e.scrollHeight-e.offsetHeight;e.scrollLeft=d;e.scrollTop=c},refresh:function(){this.refreshPosition(\"expand\");this.refreshPosition(\"shrink\")},onDetectorScroll:function(b){var c=this.detectors[b],a=this.position[b];if(c.scrollLeft!==a.left||c.scrollTop!==a.top){this.refresh();this.fireSizeChangeEvent()}},fireSizeChangeEvent:function(){clearTimeout(this.sizeChangeThrottleTimer);this.sizeChangeThrottleTimer=setTimeout(this.doFireSizeChangeEvent,1)},doFireSizeChangeEvent:function(){this.getCallback().apply(this.getScope(),this.getArgs())},destroyDetector:function(a){var c=this.detectors[a],b=this.listeners[a];c.removeEventListener(\"scroll\",b,true);Ext.removeNode(c)},destroy:function(){this.callParent(arguments);this.destroyDetector(\"expand\");this.destroyDetector(\"shrink\");delete this.listeners;delete this.detectors}});Ext.define(\"Ext.fx.easing.Linear\",{extend:\"Ext.fx.easing.Abstract\",alias:\"easing.linear\",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();if(a>b){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((a/b)*this.distance)}}});Ext.define(\"Ext.util.translatable.Abstract\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.easing.Linear\"],config:{element:null,easing:null,easingX:null,easingY:null,fps:60},constructor:function(a){var b;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.x=0;this.y=0;this.activeEasingX=null;this.activeEasingY=null;this.initialConfig=a;if(a&&a.element){b=a.element;this.setElement(b)}},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initConfig(this.initialConfig);this.refresh()},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,\"easing\")},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateFps:function(a){this.animationInterval=1000/a},doTranslate:function(a,b){if(typeof a==\"number\"){this.x=a}if(typeof b==\"number\"){this.y=b}return this},translate:function(a,c,b){if(!this.getElement().dom){return}if(Ext.isObject(a)){throw new Error()}this.stopAnimation();if(b){return this.translateAnimated(a,c,b)}return this.doTranslate(a,c)},animate:function(b,a){this.activeEasingX=b;this.activeEasingY=a;this.isAnimating=true;this.animationTimer=setInterval(this.doAnimationFrame,this.animationInterval);this.fireEvent(\"animationstart\",this,this.x,this.y);return this},translateAnimated:function(b,g,e){if(Ext.isObject(b)){throw new Error()}if(!Ext.isObject(e)){e={}}var d=Ext.Date.now(),f=e.easing,c=(typeof b==\"number\")?(e.easingX||this.getEasingX()||f||true):null,a=(typeof g==\"number\")?(e.easingY||this.getEasingY()||f||true):null;if(c){c=this.factoryEasing(c);c.setStartTime(d);c.setStartValue(this.x);c.setEndValue(b);if(\"duration\" in e){c.setDuration(e.duration)}}if(a){a=this.factoryEasing(a);a.setStartTime(d);a.setStartValue(this.y);a.setEndValue(g);if(\"duration\" in e){a.setDuration(e.duration)}}return this.animate(c,a)},doAnimationFrame:function(){var c=this.activeEasingX,b=this.activeEasingY,d=this.getElement(),a,e;if(!this.isAnimating||!d.dom){return}if(c===null&&b===null){this.stopAnimation();return}if(c!==null){this.x=a=Math.round(c.getValue());if(c.isEnded){this.activeEasingX=null;this.fireEvent(\"axisanimationend\",this,\"x\",a)}}else{a=this.x}if(b!==null){this.y=e=Math.round(b.getValue());if(b.isEnded){this.activeEasingY=null;this.fireEvent(\"axisanimationend\",this,\"y\",e)}}else{e=this.y}this.doTranslate(a,e);this.fireEvent(\"animationframe\",this,a,e)},stopAnimation:function(){if(!this.isAnimating){return}this.activeEasingX=null;this.activeEasingY=null;this.isAnimating=false;clearInterval(this.animationTimer);this.fireEvent(\"animationend\",this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)}});Ext.define(\"Ext.util.translatable.CssTransform\",{extend:\"Ext.util.translatable.Abstract\",doTranslate:function(a,c){var b=this.getElement().dom.style;if(typeof a!=\"number\"){a=this.x}if(typeof c!=\"number\"){c=this.y}b.webkitTransform=\"translate3d(\"+a+\"px, \"+c+\"px, 0px)\";return this.callParent(arguments)},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed){a.dom.style.webkitTransform=null}this.callParent(arguments)}});Ext.define(\"Ext.util.translatable.ScrollPosition\",{extend:\"Ext.util.translatable.Abstract\",wrapperWidth:0,wrapperHeight:0,baseCls:\"x-translatable\",config:{useWrapper:true},getWrapper:function(){var e=this.wrapper,c=this.baseCls,b=this.getElement(),d,a;if(!e){a=b.getParent();if(!a){return null}if(this.getUseWrapper()){e=b.wrap({className:c+\"-wrapper\"},true)}else{e=a.dom}e.appendChild(Ext.Element.create({className:c+\"-stretcher\"},true));this.nestedStretcher=d=Ext.Element.create({className:c+\"-nested-stretcher\"},true);b.appendChild(d);b.addCls(c);a.addCls(c+\"-container\");this.container=a;this.wrapper=e;this.refresh()}return e},doTranslate:function(a,c){var b=this.getWrapper();if(b){if(typeof a==\"number\"){b.scrollLeft=this.wrapperWidth-a}if(typeof c==\"number\"){b.scrollTop=this.wrapperHeight-c}}return this.callParent(arguments)},refresh:function(){var a=this.getWrapper();if(a){this.wrapperWidth=a.offsetWidth;this.wrapperHeight=a.offsetHeight;this.callParent(arguments)}},destroy:function(){var b=this.getElement(),a=this.baseCls;if(this.wrapper){if(this.getUseWrapper()){b.unwrap()}this.container.removeCls(a+\"-container\");b.removeCls(a);b.removeChild(this.nestedStretcher)}this.callParent(arguments)}});Ext.define(\"Ext.util.Translatable\",{requires:[\"Ext.util.translatable.CssTransform\",\"Ext.util.translatable.ScrollPosition\"],constructor:function(a){var c=Ext.util.translatable,e=c.CssTransform,d=c.ScrollPosition,b;if(typeof a==\"object\"&&\"translationMethod\" in a){if(a.translationMethod===\"scrollposition\"){b=d}else{if(a.translationMethod===\"csstransform\"){b=e}}}if(!b){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){b=d}else{b=e}}return new b(a)}});Ext.define(\"Ext.behavior.Translatable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.util.Translatable\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.translatable.refresh()},setConfig:function(c){var a=this.translatable,b=this.component;if(c){if(!a){this.translatable=a=new Ext.util.Translatable(c);a.setElement(b.renderElement);a.on(\"destroy\",\"onTranslatableDestroy\",this);if(b.isPainted()){this.onComponentPainted(b)}b.on(this.listeners)}else{if(Ext.isObject(c)){a.setConfig(c)}}}else{if(a){a.destroy()}}return this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){var a=this.component;delete this.translatable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.translatable;if(a){a.destroy()}}});Ext.define(\"Ext.util.Draggable\",{isDraggable:true,mixins:[\"Ext.mixin.Observable\"],requires:[\"Ext.util.SizeMonitor\",\"Ext.util.Translatable\"],config:{cls:Ext.baseCSSPrefix+\"draggable\",draggingCls:Ext.baseCSSPrefix+\"dragging\",element:null,constraint:\"container\",disabled:null,direction:\"both\",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:\"both\",DIRECTION_VERTICAL:\"vertical\",DIRECTION_HORIZONTAL:\"horizontal\",defaultConstraint:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}},sizeMonitor:null,containerSizeMonitor:null,constructor:function(a){var b;this.extraConstraint={};this.initialConfig=a;this.offset={x:0,y:0};this.listeners={dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this};if(a&&a.element){b=a.element;delete a.element;this.setElement(b)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){a.on(this.listeners);this.sizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.initConfig(this.initialConfig)},updateInitialOffset:function(b){if(typeof b==\"number\"){b={x:b,y:b}}var c=this.offset,a,d;c.x=a=b.x;c.y=d=b.y;this.getTranslatable().doTranslate(a,d)},updateCls:function(a){this.getElement().addCls(a)},applyTranslatable:function(a,b){a=Ext.factory(a,Ext.util.Translatable,b);a.setElement(this.getElement());return a},setExtraConstraint:function(a){this.extraConstraint=a||{};this.refreshConstraint();return this},addExtraConstraint:function(a){Ext.merge(this.extraConstraint,a);this.refreshConstraint();return this},applyConstraint:function(a){this.currentConstraint=a;if(!a){a=this.defaultConstraint}if(a===\"container\"){return Ext.merge(this.getContainerConstraint(),this.extraConstraint)}return Ext.merge({},this.extraConstraint,a)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var b=this.getContainer(),c=this.getElement();if(!b||!c.dom){return this.defaultConstraint}var h=c.dom,g=b.dom,d=h.offsetWidth,a=h.offsetHeight,f=g.offsetWidth,e=g.offsetHeight;return{min:{x:0,y:0},max:{x:f-d,y:e-a}}},getContainer:function(){var a=this.container;if(!a){a=this.getElement().getParent();if(a){this.containerSizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.container=a;a.on(\"destroy\",\"onContainerDestroy\",this)}}return a},onContainerDestroy:function(){delete this.container;delete this.containerSizeMonitor},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(a){var b=this.getDirection();if(a===\"x\"){return(b===this.DIRECTION_BOTH||b===this.DIRECTION_HORIZONTAL)}return(b===this.DIRECTION_BOTH||b===this.DIRECTION_VERTICAL)},onDragStart:function(a){if(this.getDisabled()){return false}var b=this.offset;this.fireAction(\"dragstart\",[this,a,b.x,b.y],this.initDragStart)},initDragStart:function(b,c,a,d){this.dragStartOffset={x:a,y:d};this.isDragging=true;this.getElement().addCls(this.getDraggingCls())},onDrag:function(b){if(!this.isDragging){return}var a=this.dragStartOffset;this.fireAction(\"drag\",[this,b,a.x+b.deltaX,a.y+b.deltaY],this.doDrag)},doDrag:function(b,c,a,d){b.setOffset(a,d)},onDragEnd:function(a){if(!this.isDragging){return}this.onDrag(a);this.isDragging=false;this.getElement().removeCls(this.getDraggingCls());this.fireEvent(\"dragend\",this,a,this.offset.x,this.offset.y)},setOffset:function(i,h,b){var f=this.offset,a=this.getConstraint(),e=a.min,c=a.max,d=Math.min,g=Math.max;if(this.isAxisEnabled(\"x\")&&typeof i==\"number\"){i=d(g(i,e.x),c.x)}else{i=f.x}if(this.isAxisEnabled(\"y\")&&typeof h==\"number\"){h=d(g(h,e.y),c.y)}else{h=f.y}f.x=i;f.y=h;this.getTranslatable().translate(i,h,b)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var a=this.offset;this.setOffset(a.x,a.y)},doRefresh:function(){this.refreshConstraint();this.getTranslatable().refresh();this.refreshOffset()},refresh:function(){if(this.sizeMonitor){this.sizeMonitor.refresh()}if(this.containerSizeMonitor){this.containerSizeMonitor.refresh()}this.doRefresh()},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled(true)},destroy:function(){var a=this.getTranslatable();Ext.destroy(this.containerSizeMonitor,this.sizeMonitor);delete this.sizeMonitor;delete this.containerSizeMonitor;var b=this.getElement();if(b&&!b.isDestroyed){b.removeCls(this.getCls())}this.detachListeners();if(a){a.destroy()}}},function(){this.override({constructor:function(a){if(a&&a.constrain){Ext.Logger.deprecate(\"'constrain' config is deprecated, please use 'contraint' instead\");a.contraint=a.constrain;delete a.constrain}return this.callOverridden(arguments)}})});Ext.define(\"Ext.behavior.Draggable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.util.Draggable\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.draggable.refresh()},setConfig:function(c){var a=this.draggable,b=this.component;if(c){if(!a){b.setTranslatable(true);this.draggable=a=new Ext.util.Draggable(c);a.setTranslatable(b.getTranslatable());a.setElement(b.renderElement);a.on(\"destroy\",\"onDraggableDestroy\",this);if(b.isPainted()){this.onComponentPainted(b)}b.on(this.listeners)}else{if(Ext.isObject(c)){a.setConfig(c)}}}else{if(a){a.destroy()}}return this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){var a=this.component;delete this.draggable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.draggable;if(a){a.destroy()}}});(function(a){Ext.define(\"Ext.Component\",{extend:\"Ext.AbstractComponent\",alternateClassName:\"Ext.lib.Component\",mixins:[\"Ext.mixin.Traversable\"],requires:[\"Ext.ComponentManager\",\"Ext.XTemplate\",\"Ext.dom.Element\",\"Ext.behavior.Translatable\",\"Ext.behavior.Draggable\"],xtype:\"component\",observableType:\"component\",cachedConfig:{baseCls:null,cls:null,floatingCls:null,hiddenCls:a+\"item-hidden\",ui:null,margin:null,padding:null,border:null,styleHtmlCls:a+\"html\",styleHtmlContent:null},eventedConfig:{left:null,top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:\"overwrite\",data:null,disabledCls:a+\"item-disabled\",contentEl:null,itemId:undefined,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,alignmentRegex:/^([a-z]+)-([a-z]+)(\\?)?$/,isComponent:true,floating:false,rendered:false,dockPositions:{top:true,right:true,bottom:true,left:true},innerElement:null,element:null,template:[],constructor:function(c){var d=this,b=d.config,e;d.onInitializedListeners=[];d.initialConfig=c;if(c!==undefined&&\"id\" in c){e=c.id}else{if(\"id\" in b){e=b.id}else{e=d.getId()}}d.id=e;d.setId(e);Ext.ComponentManager.register(d);d.initElement();d.initConfig(d.initialConfig);d.initialize();d.triggerInitialized();if(d.config.fullscreen){d.fireEvent(\"fullscreen\",d)}d.fireEvent(\"initialize\",d)},beforeInitConfig:function(b){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:\"element\",children:this.getTemplate()}},triggerInitialized:function(){var c=this.onInitializedListeners,d=c.length,e,b;if(!this.initialized){this.initialized=true;if(d>0){for(b=0;b<d;b++){e=c[b];e.fn.call(e.scope,this)}c.length=0}}},onInitialized:function(d,c){var b=this.onInitializedListeners;if(!c){c=this}if(this.initialized){d.call(c,this)}else{b.push({fn:d,scope:c})}},renderTo:function(b,d){var f=this.renderElement.dom,e=Ext.getDom(b),c=Ext.getDom(d);if(e){if(c){e.insertBefore(f,c)}else{e.appendChild(f)}this.setRendered(Boolean(f.offsetParent))}},setParent:function(c){var b=this.parent;if(c&&b&&b!==c){b.remove(this,false)}this.parent=c;return this},applyPlugins:function(b){var d,c,e;if(!b){return b}b=[].concat(b);for(c=0,d=b.length;c<d;c++){e=b[c];if(Ext.isObject(e)&&e.ptype){Ext.Logger.deprecate(\"Using a ptype is now deprecated, please use type instead\",1);e.type=e.ptype}b[c]=Ext.factory(e,\"Ext.plugin.Plugin\",null,\"plugin\")}return b},updatePlugins:function(e,b){var d,c;if(e){for(c=0,d=e.length;c<d;c++){e[c].init(this)}}if(b){for(c=0,d=b.length;c<d;c++){Ext.destroy(b[c])}}},updateRenderTo:function(b){this.renderTo(b)},updateStyle:function(b){this.element.applyStyles(b)},updateBorder:function(b){this.element.setBorder(b)},updatePadding:function(b){this.innerElement.setPadding(b)},updateMargin:function(b){this.element.setMargin(b)},updateUi:function(b,d){var c=this.getBaseCls();if(c){if(d){this.element.removeCls(d,c)}if(b){this.element.addCls(b,c)}}},applyBaseCls:function(b){return b||a+this.xtype},updateBaseCls:function(b,c){var d=this,e=d.getUi();if(b){this.element.addCls(b);if(e){this.element.addCls(b,null,e)}}if(c){this.element.removeCls(c);if(e){this.element.removeCls(c,null,e)}}},addCls:function(b,h,j){var e=this.getCls(),g=(e)?e.slice():[],f,d,c;h=h||\"\";j=j||\"\";if(typeof b==\"string\"){b=[b]}f=b.length;if(!g.length&&h===\"\"&&j===\"\"){g=b}else{for(d=0;d<f;d++){c=h+b[d]+j;if(g.indexOf(c)==-1){g.push(c)}}}this.setCls(g)},removeCls:function(b,g,h){var d=this.getCls(),f=(d)?d.slice():[],e,c;g=g||\"\";h=h||\"\";if(typeof b==\"string\"){f=Ext.Array.remove(f,g+b+h)}else{e=b.length;for(c=0;c<e;c++){f=Ext.Array.remove(f,g+b[c]+h)}}this.setCls(f)},replaceCls:function(e,j,d,h){var k=this.getCls(),f=(k)?k.slice():[],g,c,b;d=d||\"\";h=h||\"\";if(typeof e==\"string\"){f=Ext.Array.remove(f,d+e+h)}else{if(e){g=e.length;for(c=0;c<g;c++){f=Ext.Array.remove(f,d+e[c]+h)}}}if(typeof j==\"string\"){f.push(d+j+h)}else{if(j){g=j.length;if(!f.length&&d===\"\"&&h===\"\"){f=j}else{for(c=0;c<g;c++){b=d+j[c]+h;if(f.indexOf(b)==-1){f.push(b)}}}}}this.setCls(f)},applyCls:function(b){if(typeof b==\"string\"){b=[b]}if(!b||!b.length){b=null}return b},updateCls:function(c,b){if(b!=c&&this.element){this.element.replaceCls(b,c)}},updateStyleHtmlCls:function(d,b){var e=this.innerHtmlElement,c=this.innerElement;if(this.getStyleHtmlContent()&&b){if(e){e.replaceCls(b,d)}else{c.replaceCls(b,d)}}},applyStyleHtmlContent:function(b){return Boolean(b)},updateStyleHtmlContent:function(d){var b=this.getStyleHtmlCls(),c=this.innerElement,e=this.innerHtmlElement;if(d){if(e){e.addCls(b)}else{c.addCls(b)}}else{if(e){e.removeCls(b)}else{c.addCls(b)}}},applyContentEl:function(b){if(b){return Ext.get(b)}},updateContentEl:function(b,c){if(c){c.hide();Ext.getBody().append(c)}if(b){this.setHtml(b.dom);b.show()}},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},isInnerItem:function(){var b=this;return !b.isCentered()&&!b.isFloating()&&!b.isDocked()},filterPositionValue:function(b){if(b===\"\"||b===\"auto\"){b=null}return b},applyTop:function(b){return this.filterPositionValue(b)},applyRight:function(b){return this.filterPositionValue(b)},applyBottom:function(b){return this.filterPositionValue(b)},applyLeft:function(b){return this.filterPositionValue(b)},doSetTop:function(b){this.updateFloating();this.element.setTop(b)},doSetRight:function(b){this.updateFloating();this.element.setRight(b)},doSetBottom:function(b){this.updateFloating();this.element.setBottom(b)},doSetLeft:function(b){this.updateFloating();this.element.setLeft(b)},doSetWidth:function(b){this.element.setWidth(b)},doSetHeight:function(b){this.element.setHeight(b)},doSetMinWidth:function(b){this.element.setMinWidth(b)},doSetMinHeight:function(b){this.element.setMinHeight(b)},doSetMaxWidth:function(b){this.element.setMaxWidth(b)},doSetMaxHeight:function(b){this.element.setMaxHeight(b)},applyCentered:function(b){b=Boolean(b);if(b){if(this.isFloating()){this.resetFloating()}if(this.isDocked()){this.setDocked(false)}}return b},doSetCentered:Ext.emptyFn,applyDocked:function(b){if(!b){return null}if(!this.dockPositions[b]){Ext.Logger.error(\"Invalid docking position of '\"+b+\"', must be either 'top', 'right', 'bottom', 'left' or `null` (for no docking)\",this);return}if(this.isFloating()){this.resetFloating()}if(this.isCentered()){this.setCentered(false)}return b},doSetDocked:Ext.emptyFn,resetFloating:function(){this.setTop(null);this.setRight(null);this.setBottom(null);this.setLeft(null)},updateFloating:function(){var c=true,b=this.getFloatingCls();if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null){c=false}if(c!==this.floating){if(c){if(this.isCentered()){this.setCentered(false)}if(this.isDocked()){this.setDocked(false)}if(b){this.addCls(b)}}else{if(b){this.removeCls(b)}}this.floating=c;this.fireEvent(\"floatingchange\",this,c)}},updateFloatingCls:function(b,c){if(this.isFloating()){this.replaceCls(c,b)}},applyDisabled:function(b){return Boolean(b)},doSetDisabled:function(b){this.element[b?\"addCls\":\"removeCls\"](this.getDisabledCls())},updateDisabledCls:function(b,c){if(this.isDisabled()){this.element.replaceCls(c,b)}},disable:function(){this.setDisabled(true)},enable:function(){this.setDisabled(false)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(b){if(b!==null){b=Number(b);if(isNaN(b)){b=null}}return b},updateZIndex:function(c){var b=this.element.dom.style;if(c!==null){b.setProperty(\"z-index\",c,\"important\")}else{b.removeProperty(\"z-index\")}},getInnerHtmlElement:function(){var b=this.innerHtmlElement,c=this.getStyleHtmlCls();if(!b||!b.dom||!b.dom.parentNode){this.innerHtmlElement=b=this.innerElement.createChild({cls:\"x-innerhtml \"});if(this.getStyleHtmlContent()){this.innerHtmlElement.addCls(c);this.innerElement.removeCls(c)}}return b},updateHtml:function(b){var c=this.getInnerHtmlElement();if(Ext.isElement(b)){c.setHtml(\"\");c.append(b)}else{c.setHtml(b)}},applyHidden:function(b){return Boolean(b)},doSetHidden:function(c){var b=this.renderElement;if(b.isDestroyed){return}if(c){b.hide()}else{b.show()}if(this.element){this.element[c?\"addCls\":\"removeCls\"](this.getHiddenCls())}this.fireEvent(c?\"hide\":\"show\",this)},updateHiddenCls:function(b,c){if(this.isHidden()){this.element.replaceCls(c,b)}},isHidden:function(){return this.getHidden()},hide:function(b){if(!this.getHidden()){if(b===undefined||(b&&b.isComponent)){b=this.getHideAnimation()}if(b){if(b===true){b=\"fadeOut\"}this.onBefore({hiddenchange:\"animateFn\",scope:this,single:true,args:[b]})}this.setHidden(true)}return this},show:function(c){var b=this.getHidden();if(b||b===null){if(c===true){c=\"fadeIn\"}else{if(c===undefined||(c&&c.isComponent)){c=this.getShowAnimation()}}if(c){this.onBefore({hiddenchange:\"animateFn\",scope:this,single:true,args:[c]})}this.setHidden(false)}return this},animateFn:function(g,e,h,d,c,b){if(g&&(!h||(h&&this.isPainted()))){var f=new Ext.fx.Animation(g);f.setElement(e.element);if(h){f.setOnEnd(function(){b.resume()});b.pause()}Ext.Animator.run(f)}},setVisibility:function(b){this.renderElement.setVisibility(b)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(b){return(Ext.isObject(b)&&b.isTemplate)?b:new Ext.XTemplate(b)},applyData:function(b){if(Ext.isObject(b)){return Ext.apply({},b)}return b},updateData:function(d){var e=this;if(d){var c=e.getTpl(),b=e.getTplWriteMode();if(c){c[b](e.getInnerHtmlElement(),d)}this.fireEvent(\"updatedata\",e,d)}},applyRecord:function(b){if(b&&Ext.isObject(b)&&b.isModel){return b}return null},updateRecord:function(c,b){var d=this;if(b){b.unjoin(d)}if(!c){d.updateData(\"\")}else{c.join(d);d.updateData(c.getData(true))}},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},applyItemId:function(b){return b||this.getId()},isXType:function(c,b){if(b){return this.xtypes.indexOf(c)!=-1}return Boolean(this.xtypesMap[c])},getXTypes:function(){return this.xtypesChain.join(\"/\")},getDraggableBehavior:function(){var b=this.draggableBehavior;if(!b){b=this.draggableBehavior=new Ext.behavior.Draggable(this)}return b},applyDraggable:function(b){this.getDraggableBehavior().setConfig(b)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var b=this.translatableBehavior;if(!b){b=this.translatableBehavior=new Ext.behavior.Translatable(this)}return b},applyTranslatable:function(b){this.getTranslatableBehavior().setConfig(b)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(c,e,d){var b,f;if(c===\"x\"){b=e}else{f=e}return this.translate(b,f,d)},translate:function(){var b=this.getTranslatable();if(!b){this.setTranslatable(true);b=this.getTranslatable()}b.translate.apply(b,arguments)},setRendered:function(c){var b=this.rendered;if(c!==b){this.rendered=c;return true}return false},setSize:function(c,b){if(c!=undefined){this.setWidth(c)}if(b!=undefined){this.setHeight(b)}},doAddListener:function(d,f,e,c,b){if(c&&\"element\" in c){if(this.referenceList.indexOf(c.element)===-1){Ext.Logger.error(\"Adding event listener with an invalid element reference of '\"+c.element+\"' for this component. Available values are: '\"+this.referenceList.join(\"', '\")+\"'\",this)}this[c.element].doAddListener(d,f,e||this,c,b)}return this.callParent(arguments)},doRemoveListener:function(d,f,e,c,b){if(c&&\"element\" in c){if(this.referenceList.indexOf(c.element)===-1){Ext.Logger.error(\"Removing event listener with an invalid element reference of '\"+c.element+\"' for this component. Available values are: '\"+this.referenceList.join('\", \"')+\"'\",this)}this[c.element].doRemoveListener(d,f,e||this,c,b)}return this.callParent(arguments)},showBy:function(d,f){var c=Ext.Array.from(arguments);var b=Ext.Viewport,e=this.getParent();this.setVisibility(false);if(e!==b){b.add(this)}this.show();this.on(\"erased\",\"onShowByErased\",this,{single:true});b.on(\"resize\",\"refreshShowBy\",this,{args:[d,f]});this.currentShowByArgs=c;this.alignTo(d,f);this.setVisibility(true)},refreshShowBy:function(b,c){this.alignTo(b,c)},onShowByErased:function(){Ext.Viewport.un(\"resize\",\"refreshShowBy\",this)},alignTo:function(o,j){var f=o.isComponent?o.renderElement:o,c=this.renderElement,q=f.getPageBox(),B=this.getParent().element.getPageBox(),n=c.getPageBox(),y=q.height,p=q.width,t=n.height,v=n.width;B.bottom-=5;B.height-=10;B.left+=5;B.right-=5;B.top+=5;B.width-=10;if(!j||j===\"auto\"){if(B.bottom-q.bottom<t){if(q.top-B.top<t){if(q.left-B.left<v){j=\"cl-cr?\"}else{j=\"cr-cl?\"}}else{j=\"bc-tc?\"}}else{j=\"tc-bc?\"}}var b=j.match(this.alignmentRegex);if(!b){Ext.Logger.error(\"Invalid alignment value of '\"+j+\"'\")}var w=b[1].split(\"\"),d=b[2].split(\"\"),z=(b[3]===\"?\"),i=w[0],u=w[1]||i,m=d[0],l=d[1]||m,r=q.top,e=q.left,k=y/2,g=p/2,h=v/2,s=t/2,x,A;switch(i){case\"t\":switch(m){case\"c\":r+=k;break;case\"b\":r+=y}break;case\"b\":switch(m){case\"c\":r-=(t-k);break;case\"t\":r-=t;break;case\"b\":r-=t-y}break;case\"c\":switch(m){case\"t\":r-=s;break;case\"c\":r-=(s-k);break;case\"b\":r-=(s-y)}break}switch(u){case\"l\":switch(l){case\"c\":e+=k;break;case\"r\":e+=p}break;case\"r\":switch(l){case\"r\":e-=(v-p);break;case\"c\":e-=(v-h);break;case\"l\":e-=v}break;case\"c\":switch(l){case\"l\":e-=h;break;case\"c\":e-=(h-g);break;case\"r\":e-=(h-p)}break}if(z){x=(B.left+B.width)-v;A=(B.top+B.height)-t;e=Math.max(B.left,Math.min(x,e));r=Math.max(B.top,Math.min(A,r))}this.setLeft(e);this.setTop(r)},up:function(c){var b=this.parent;if(c){for(;b;b=b.parent){if(Ext.ComponentQuery.is(b,c)){return b}}}return b},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var e=this.getParent(),c=this.referenceList,d,f,b;Ext.destroy(this.getTranslatable(),this.getPlugins());if(e){e.remove(this,false)}for(d=0,f=c.length;d<f;d++){b=c[d];this[b].destroy();delete this[b]}Ext.destroy(this.innerHtmlElement);this.setRecord(null);Ext.ComponentManager.unregister(this);this.callParent()},onClassExtended:function(c,g){var e=this,b=e.prototype.config,d=g.config||{},f;for(f in b){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+' is deprecated as a property directly on the Component. Please put it inside the config object, and retrieve it using \"this.config.'+f+'\"')}}g.config=d}},function(){var b=Ext.emptyFn;this.override({constructor:function(d){var c;if(d){if(d.enabled){Ext.Logger.deprecate(\"'enabled' config is deprecated, please use 'disabled' config instead\",this);d.disabled=!d.enabled}if((d.scroll||this.config.scroll||this.scrollable||this.config.scrollable)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able to scroll a component. Please use a Ext.Container instead.\",this);delete d.scrollable;delete d.scroll}if((d.hideOnMaskTap||this.config.hideOnMaskTap)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able use hideOnMaskTap on a component. Please use a Ext.Container instead.\",this);delete d.hideOnMaskTap}if((d.modal||this.config.modal)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able use modal on a component. Please use a Ext.Container instead.\",this);delete d.modal}if(d.dock){Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");d.docked=d.dock;delete d.dock}if(d.enterAnimation){Ext.Logger.deprecate(\"'enterAnimation' config for Components is deprecated, please use 'showAnimation' instead\");d.showAnimation=d.enterAnimation;delete d.enterAnimation}if(d.exitAnimation){Ext.Logger.deprecate(\"'exitAnimation' config for Components is deprecated, please use 'hideAnimation' instead\");d.hideAnimation=d.exitAnimation;delete d.exitAnimation}if(d.componentCls){Ext.Logger.deprecate(\"'componentCls' config is deprecated, please use 'cls' config instead\",this);d.cls=d.componentCls}if(d.floating){Ext.Logger.deprecate(\"'floating' config is deprecated, please set 'left', 'right', 'top' or 'bottom' config instead\",this);d.left=d.left||0}for(c in d){if(d.hasOwnProperty(c)&&c!==\"xtype\"&&c!==\"xclass\"&&!this.hasConfig(c)){this[c]=d[c]}}if(d.layoutOnOrientationChange){Ext.Logger.deprecate(\"'layoutOnOrientationChange' has been fully removed and no longer used\");delete d.layoutOnOrientationChange}if(d.monitorOrientation){Ext.Logger.deprecate(\"'monitorOrientation' has been removed. If you need to monitor the orientaiton, please use the 'resize' event.\");delete d.monitorOrientation}if(d.stopMaskTapEvent){Ext.Logger.deprecate(\"'stopMaskTapEvent' has been removed.\");delete d.stopMaskTapEvent}}this.callParent(arguments);if(this.onRender!==b){Ext.Logger.deprecate(\"onRender() is deprecated, please put your code inside initialize() instead\",this);this.onRender()}if(this.afterRender!==b){Ext.Logger.deprecate(\"afterRender() is deprecated, please put your code inside initialize() instead\",this);this.afterRender()}if(this.initEvents!==b){Ext.Logger.deprecate(\"initEvents() is deprecated, please put your code inside initialize() instead\",this);this.initEvents()}if(this.initComponent!==b){Ext.Logger.deprecate(\"initComponent() is deprecated, please put your code inside initialize() instead\",this);this.initComponent()}if(this.setOrientation!==b){Ext.Logger.deprecate(\"setOrientation() is deprecated\",this);this.setOrientation()}},onRender:b,afterRender:b,initEvents:b,initComponent:b,setOrientation:b,show:function(){if(this.renderElement.dom){var c=this.renderElement.dom.parentNode;if(c&&c.nodeType==11){Ext.Logger.deprecate(\"Call show() on a component that doesn't currently belong to any container. Please add it to the the Viewport first, i.e: Ext.Viewport.add(component);\",this);Ext.Viewport.add(this)}}return this.callParent(arguments)},doAddListener:function(e,g,f,d,c){switch(e){case\"render\":Ext.Logger.warn(\"The render event on Components is deprecated. Please use the painted event. Please refer to: http://bit.ly/xgv3K1 for more details.\",this);return this;break}return this.callParent(arguments)},addListener:function(c){if(arguments.length===1&&Ext.isObject(c)&&((\"el\" in c)||(\"body\" in c))){Ext.Logger.error(\"Adding component element listeners using the old format is no longer supported. Please refer to: http://bit.ly/xHCyfa for more details.\",this)}return this.callParent(arguments)},getEl:function(){Ext.Logger.deprecate(\"getEl() is deprecated, please access the Component's element from the 'element' property instead\",this);return this.renderElement},setFloating:function(d){var c=this.isFloating();if(d&&!c){this.setTop(0)}else{if(c){this.resetFloating()}}},setScrollable:function(){Ext.Logger.deprecate(\"Ext.Component cannot be scrollable. Please use Ext.Container#setScrollable on a Ext.Container.\",this);return false}});Ext.deprecateClassMembers(this,{el:\"element\",body:\"element\",outer:\"renderElement\",ownerCt:\"parent\",update:\"setHtml\"})})})(Ext.baseCSSPrefix);Ext.define(\"Ext.event.publisher.ComponentDelegation\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.Component\",\"Ext.ComponentQuery\"],targetType:\"component\",optimizedSelectorRegex:/^#([\\w\\-]+)((?:[\\s]*)>(?:[\\s]*)|(?:\\s*))([\\w\\-]+)$/i,handledEvents:[\"*\"],getSubscribers:function(b,a){var d=this.subscribers,c=d[b];if(!c&&a){c=d[b]={type:{$length:0},selector:[],$length:0}}return c},subscribe:function(g,f){if(this.idSelectorRegex.test(g)){return false}var e=g.match(this.optimizedSelectorRegex),a=this.getSubscribers(f,true),k=a.type,c=a.selector,d,i,j,b,h;if(e!==null){d=e[1];i=e[2].indexOf(\">\")===-1;j=e[3];b=k[j];if(!b){k[j]=b={descendents:{$length:0},children:{$length:0},$length:0}}h=i?b.descendents:b.children;if(h.hasOwnProperty(d)){h[d]++;return true}h[d]=1;h.$length++;b.$length++;k.$length++}else{if(c.hasOwnProperty(g)){c[g]++;return true}c[g]=1;c.push(g)}a.$length++;return true},unsubscribe:function(g,f,k){var a=this.getSubscribers(f);if(!a){return false}var e=g.match(this.optimizedSelectorRegex),l=a.type,c=a.selector,d,i,j,b,h;k=Boolean(k);if(e!==null){d=e[1];i=e[2].indexOf(\">\")===-1;j=e[3];b=l[j];if(!b){return true}h=i?b.descendents:b.children;if(!h.hasOwnProperty(d)||(!k&&--h[d]>0)){return true}delete h[d];h.$length--;b.$length--;l.$length--}else{if(!c.hasOwnProperty(g)||(!k&&--c[g]>0)){return true}delete c[g];Ext.Array.remove(c,g)}if(--a.$length===0){delete this.subscribers[f]}return true},notify:function(d,a){var c=this.getSubscribers(a),e,b;if(!c||c.$length===0){return false}e=d.substr(1);b=Ext.ComponentManager.get(e);if(b){this.dispatcher.doAddListener(this.targetType,d,a,\"publish\",this,{args:[a,b]},\"before\")}},matchesSelector:function(b,a){return Ext.ComponentQuery.is(b,a)},dispatch:function(d,b,c,a){this.dispatcher.doDispatchEvent(this.targetType,d,b,c,null,a)},publish:function(g,k){var e=this.getSubscribers(g);if(!e){return}var p=arguments[arguments.length-1],o=e.type,b=e.selector,d=Array.prototype.slice.call(arguments,2,-2),l=k.xtypesChain,s,n,t,a,m,v,r,u,h,f,q,c;for(u=0,h=l.length;u<h;u++){f=l[u];e=o[f];if(e&&e.$length>0){s=e.descendents;if(s.$length>0){if(!a){a=k.getAncestorIds()}for(q=0,c=a.length;q<c;q++){m=a[q];if(s.hasOwnProperty(m)){this.dispatch(\"#\"+m+\" \"+f,g,d,p)}}}n=e.children;if(n.$length>0){if(!t){if(a){t=a[0]}else{v=k.getParent();if(v){t=v.getId()}}}if(t){if(n.hasOwnProperty(t)){this.dispatch(\"#\"+t+\" > \"+f,g,d,p)}}}}}h=b.length;if(h>0){for(u=0;u<h;u++){r=b[u];if(this.matchesSelector(k,r)){this.dispatch(r,g,d,p)}}}}});Ext.define(\"Ext.event.publisher.ComponentPaint\",{extend:\"Ext.event.publisher.Publisher\",targetType:\"component\",handledEvents:[\"painted\",\"erased\"],eventNames:{painted:\"painted\",erased:\"erased\"},constructor:function(){this.callParent(arguments);this.hiddenQueue={};this.renderedQueue={}},getSubscribers:function(b,a){var c=this.subscribers;if(!c.hasOwnProperty(b)){if(!a){return null}c[b]={$length:0}}return c[b]},setDispatcher:function(a){var b=this.targetType;a.doAddListener(b,\"*\",\"renderedchange\",\"onBeforeComponentRenderedChange\",this,null,\"before\");a.doAddListener(b,\"*\",\"hiddenchange\",\"onBeforeComponentHiddenChange\",this,null,\"before\");a.doAddListener(b,\"*\",\"renderedchange\",\"onComponentRenderedChange\",this,null,\"after\");a.doAddListener(b,\"*\",\"hiddenchange\",\"onComponentHiddenChange\",this,null,\"after\");return this.callParent(arguments)},subscribe:function(d,a){var b=d.match(this.idSelectorRegex),c,e;if(!b){return false}e=b[1];c=this.getSubscribers(a,true);if(c.hasOwnProperty(e)){c[e]++;return true}c[e]=1;c.$length++;return true},unsubscribe:function(e,a,c){var b=e.match(this.idSelectorRegex),d,f;if(!b||!(d=this.getSubscribers(a))){return false}f=b[1];if(!d.hasOwnProperty(f)||(!c&&--d[f]>0)){return true}delete d[f];if(--d.$length===0){delete this.subscribers[a]}return true},onBeforeComponentRenderedChange:function(b,d,g){var f=this.eventNames,c=g?f.painted:f.erased,e=this.getSubscribers(c),a;if(e&&e.$length>0){this.renderedQueue[d.getId()]=a=[];this.publish(e,d,c,a)}},onBeforeComponentHiddenChange:function(c,d){var f=this.eventNames,b=d?f.erased:f.painted,e=this.getSubscribers(b),a;if(e&&e.$length>0){this.hiddenQueue[c.getId()]=a=[];this.publish(e,c,b,a)}},onComponentRenderedChange:function(b,c){var d=this.renderedQueue,e=c.getId(),a;if(!d.hasOwnProperty(e)){return}a=d[e];delete d[e];if(a.length>0){this.dispatchQueue(a)}},onComponentHiddenChange:function(c){var b=this.hiddenQueue,d=c.getId(),a;if(!b.hasOwnProperty(d)){return}a=b[d];delete b[d];if(a.length>0){this.dispatchQueue(a)}},dispatchQueue:function(g){var l=this.dispatcher,a=this.targetType,b=this.eventNames,e=g.slice(),f=e.length,c,k,h,d,j;g.length=0;if(f>0){for(c=0;c<f;c++){k=e[c];h=k.component;d=k.eventName;j=h.isPainted();if((d===b.painted&&j)||d===b.erased&&!j){l.doDispatchEvent(a,\"#\"+k.id,d,[h])}}e.length=0}},publish:function(a,k,f,j){var c=k.getId(),b=false,d,h,e,g,l;if(a[c]){d=this.eventNames;l=k.isPainted();if((f===d.painted&&!l)||f===d.erased&&l){b=true}else{return this}}if(k.isContainer){h=k.getItems().items;for(e=0,g=h.length;e<g;e++){this.publish(a,h[e],f,j)}}else{if(k.isDecorator){this.publish(a,k.getComponent(),f,j)}}if(b){j.push({id:c,eventName:f,component:k})}}});Ext.define(\"Ext.event.publisher.ComponentSize\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.ComponentManager\",\"Ext.util.SizeMonitor\"],targetType:\"component\",handledEvents:[\"resize\"],constructor:function(){this.callParent(arguments);this.sizeMonitors={}},subscribe:function(g){var c=g.match(this.idSelectorRegex),f=this.subscribers,a=this.sizeMonitors,d=this.dispatcher,e=this.targetType,b;if(!c){return false}if(!f.hasOwnProperty(g)){f[g]=0;d.addListener(e,g,\"painted\",\"onComponentPainted\",this,null,\"before\");b=Ext.ComponentManager.get(c[1]);if(!b){Ext.Logger.error(\"Adding a listener to the 'resize' event of a non-existing component\")}a[g]=new Ext.util.SizeMonitor({element:b.element,callback:this.onComponentSizeChange,scope:this,args:[this,g]})}f[g]++;return true},unsubscribe:function(h,b,e){var c=h.match(this.idSelectorRegex),g=this.subscribers,d=this.dispatcher,f=this.targetType,a=this.sizeMonitors;if(!c){return false}if(!g.hasOwnProperty(h)||(!e&&--g[h]>0)){return true}a[h].destroy();delete a[h];d.removeListener(f,h,\"painted\",\"onComponentPainted\",this,\"before\");delete g[h];return true},onComponentPainted:function(b){var c=b.getObservableId(),a=this.sizeMonitors[c];a.refresh()},onComponentSizeChange:function(a,b){this.dispatcher.doDispatchEvent(this.targetType,b,\"resize\",[a])}});Ext.define(\"Ext.log.Base\",{config:{},constructor:function(a){this.initConfig(a);return this}});(function(){var a=Ext.define(\"Ext.log.Logger\",{extend:\"Ext.log.Base\",statics:{defaultPriority:\"info\",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:true,minPriority:\"deprecate\",writers:{}},log:function(m,k,c){if(!this.getEnabled()){return this}var h=a,n=h.priorities,j=n[k],d=this.log.caller,l=\"\",e=this.getWriters(),b,f,g;if(!k){k=\"info\"}if(n[this.getMinPriority()]>j){return this}if(!c){c=1}if(Ext.isArray(m)){m=m.join(\" \")}else{m=String(m)}if(typeof c==\"number\"){f=c;do{f--;d=d.caller;if(!d){break}if(!g){g=d.caller}if(f<=0&&d.displayName){break}}while(d!==g);l=Ext.getDisplayName(d)}else{d=d.caller;l=Ext.getDisplayName(c)+\"#\"+d.$name}b={time:Ext.Date.now(),priority:j,priorityName:k,message:m,caller:d,callerDisplayName:l};for(f in e){if(e.hasOwnProperty(f)){e[f].write(Ext.merge({},b))}}return this}},function(){Ext.Object.each(this.priorities,function(b){this.override(b,function(c,d){if(!d){d=1}if(typeof d==\"number\"){d+=1}this.log(c,b,d)})},this)})})();Ext.define(\"Ext.log.formatter.Formatter\",{extend:\"Ext.log.Base\",config:{messageFormat:\"{message}\"},format:function(a){return this.substitute(this.getMessageFormat(),a)},substitute:function(b,d){var a,c;for(a in d){if(d.hasOwnProperty(a)){c=d[a];b=b.replace(new RegExp(\"\\\\{\"+a+\"\\\\}\",\"g\"),c)}}return b}});Ext.define(\"Ext.log.writer.Writer\",{extend:\"Ext.log.Base\",requires:[\"Ext.log.formatter.Formatter\"],config:{formatter:null,filters:{}},constructor:function(){this.activeFilters=[];return this.callParent(arguments)},updateFilters:function(c){var d=this.activeFilters,a,b;d.length=0;for(a in c){if(c.hasOwnProperty(a)){b=c[a];d.push(b)}}},write:function(f){var e=this.activeFilters,b=this.getFormatter(),a,d,c;for(a=0,d=e.length;a<d;a++){c=e[a];if(!e[a].accept(f)){return this}}if(b){f.message=b.format(f)}this.doWrite(f);return this},doWrite:Ext.emptyFn});Ext.define(\"Ext.log.writer.Console\",{extend:\"Ext.log.writer.Writer\",config:{throwOnErrors:true,throwOnWarnings:false},doWrite:function(d){var c=d.message,b=d.priorityName,a;if(b===\"error\"&&this.getThrowOnErrors()){throw new Error(c)}if(typeof console!==\"undefined\"){a=b;if(a===\"deprecate\"){a=\"warn\"}if(a===\"warn\"&&this.getThrowOnWarnings()){throw new Error(c)}if(!(a in console)){a=\"log\"}console[a](c)}}});Ext.define(\"Ext.log.formatter.Default\",{extend:\"Ext.log.formatter.Formatter\",config:{messageFormat:\"[{priorityName}][{callerDisplayName}] {message}\"},format:function(a){var a=Ext.merge({},a,{priorityName:a.priorityName.toUpperCase()});return this.callParent([a])}});Ext.define(\"Ext.fx.State\",{isAnimatable:{\"background-color\":true,\"background-image\":true,\"background-position\":true,\"border-bottom-color\":true,\"border-bottom-width\":true,\"border-color\":true,\"border-left-color\":true,\"border-left-width\":true,\"border-right-color\":true,\"border-right-width\":true,\"border-spacing\":true,\"border-top-color\":true,\"border-top-width\":true,\"border-width\":true,bottom:true,color:true,crop:true,\"font-size\":true,\"font-weight\":true,height:true,left:true,\"letter-spacing\":true,\"line-height\":true,\"margin-bottom\":true,\"margin-left\":true,\"margin-right\":true,\"margin-top\":true,\"max-height\":true,\"max-width\":true,\"min-height\":true,\"min-width\":true,opacity:true,\"outline-color\":true,\"outline-offset\":true,\"outline-width\":true,\"padding-bottom\":true,\"padding-left\":true,\"padding-right\":true,\"padding-top\":true,right:true,\"text-indent\":true,\"text-shadow\":true,top:true,\"vertical-align\":true,visibility:true,width:true,\"word-spacing\":true,\"z-index\":true,zoom:true,transform:true},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=a;return this},clear:function(){return this.setRaw({})},setTransform:function(c,g){var f=this.data,a=Ext.isArray(g),b=f.transform,e,d;if(!b){b=f.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof c==\"string\"){switch(c){case\"translate\":if(a){e=g.length;if(e==0){break}b.translateX=g[0];if(e==1){break}b.translateY=g[1];if(e==2){break}b.translateZ=g[2]}else{b.translateX=g}break;case\"rotate\":if(a){e=g.length;if(e==0){break}b.rotateX=g[0];if(e==1){break}b.rotateY=g[1];if(e==2){break}b.rotateZ=g[2]}else{b.rotate=g}break;case\"scale\":if(a){e=g.length;if(e==0){break}b.scaleX=g[0];if(e==1){break}b.scaleY=g[1];if(e==2){break}b.scaleZ=g[2]}else{b.scaleX=g;b.scaleY=g}break;case\"skew\":if(a){e=g.length;if(e==0){break}b.skewX=g[0];if(e==1){break}b.skewY=g[1]}else{b.skewX=g}break;default:b[c]=g}}else{for(d in c){if(c.hasOwnProperty(d)){g=c[d];this.setTransform(d,g)}}}},set:function(a,d){var c=this.data,b;if(typeof a!=\"string\"){for(b in a){d=a[b];if(b===\"transform\"){this.setTransform(d)}else{c[b]=d}}}else{if(a===\"transform\"){this.setTransform(d)}else{c[a]=d}}return this},unset:function(a){var b=this.data;if(b.hasOwnProperty(a)){delete b[a]}return this},getData:function(){return this.data}});Ext.define(\"Ext.fx.animation.Abstract\",{extend:\"Ext.Evented\",isAnimation:true,requires:[\"Ext.fx.State\"],config:{name:\"\",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:\"linear\",iteration:1,direction:\"normal\",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:\"0%\",STATE_TO:\"100%\",DIRECTION_UP:\"up\",DIRECTION_DOWN:\"down\",DIRECTION_LEFT:\"left\",DIRECTION_RIGHT:\"right\",stateNameRegex:/^(?:[\\d\\.]+)%$/,constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a){return Ext.factory(a,Ext.fx.State,b)}},applyAfter:function(b,a){if(b){return Ext.factory(b,Ext.fx.State,a)}},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var c=this.stateNameRegex,b;for(b in a){if(c.test(b)){this.setState(b,a[b])}}return this},getStates:function(){return this.states},stop:function(){this.fireEvent(\"stop\",this)},destroy:function(){this.stop();this.callParent()},setState:function(b,d){var a=this.getStates(),c;c=Ext.factory(d,Ext.fx.State,a[b]);if(c){a[b]=c}else{if(b===this.STATE_TO){Ext.Logger.error(\"Setting and invalid '100%' / 'to' state of: \"+d)}}return this},getState:function(a){return this.getStates()[a]},getData:function(){var k=this.getStates(),e={},g=this.getBefore(),c=this.getAfter(),h=k[this.STATE_FROM],i=k[this.STATE_TO],j=h.getData(),f=i.getData(),d,b,a;for(b in k){if(k.hasOwnProperty(b)){a=k[b];d=a.getData();e[b]=d}}if(Ext.os.is.Android2){e[\"0.0001%\"]=j}return{before:g?g.getData():{},after:c?c.getData():{},states:e,from:j,to:f,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});Ext.define(\"Ext.fx.animation.Slide\",{extend:\"Ext.fx.animation.Abstract\",alternateClassName:\"Ext.fx.animation.SlideIn\",alias:[\"animation.slide\",\"animation.slideIn\"],config:{direction:\"left\",out:false,offset:0,easing:\"auto\",containerBox:\"auto\",elementBox:\"auto\",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:\"down\",down:\"up\",left:\"right\",right:\"left\"},applyEasing:function(a){if(a===\"auto\"){return\"ease-\"+((this.getOut())?\"in\":\"out\")}return a},getContainerBox:function(){var a=this._containerBox;if(a===\"auto\"){a=this.getElement().getParent().getPageBox()}return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(a===\"auto\"){a=this.getElement().getPageBox()}return a},getData:function(){var p=this.getElementBox(),c=this.getContainerBox(),g=p?p:c,n=this.getFrom(),o=this.getTo(),f=this.getOut(),e=this.getOffset(),m=this.getDirection(),b=this.getUseCssTransform(),h=this.getReverse(),d=0,a=0,l,j,k,i;if(h){m=this.reverseDirectionMap[m]}switch(m){case this.DIRECTION_UP:if(f){a=c.top-g.top-g.height-e}else{a=c.bottom-g.bottom+g.height+e}break;case this.DIRECTION_DOWN:if(f){a=c.bottom-g.bottom+g.height+e}else{a=c.top-g.height-g.top-e}break;case this.DIRECTION_RIGHT:if(f){d=c.right-g.right+g.width+e}else{d=c.left-g.left-g.width-e}break;case this.DIRECTION_LEFT:if(f){d=c.left-g.left-g.width-e}else{d=c.right-g.right+g.width+e}break}l=(f)?0:d;j=(f)?0:a;if(b){n.setTransform({translateX:l,translateY:j})}else{n.set(\"left\",l);n.set(\"top\",j)}k=(f)?d:0;i=(f)?a:0;if(b){o.setTransform({translateX:k,translateY:i})}else{o.set(\"left\",k);o.set(\"top\",i)}return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.SlideOut\",{extend:\"Ext.fx.animation.Slide\",alias:[\"animation.slideOut\"],config:{out:true}});Ext.define(\"Ext.fx.animation.Fade\",{extend:\"Ext.fx.animation.Abstract\",alternateClassName:\"Ext.fx.animation.FadeIn\",alias:[\"animation.fade\",\"animation.fadeIn\"],config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var c=this.getTo(),b=this.getFrom();if(a){b.set(\"opacity\",1);c.set(\"opacity\",0)}else{b.set(\"opacity\",0);c.set(\"opacity\",1)}}});Ext.define(\"Ext.fx.animation.FadeOut\",{extend:\"Ext.fx.animation.Fade\",alias:\"animation.fadeOut\",config:{out:true,before:{}}});Ext.define(\"Ext.fx.animation.Flip\",{extend:\"Ext.fx.animation.Abstract\",alias:\"animation.flip\",config:{easing:\"ease-in\",direction:\"right\",half:false,out:null},getData:function(){var h=this.getFrom(),i=this.getTo(),g=this.getDirection(),b=this.getOut(),l=this.getHalf(),c=(l)?90:180,e=1,a=1,k=0,j=0,f=0,d=0;if(b){a=0.8}else{e=0.8}switch(g){case this.DIRECTION_UP:if(b){f=c}else{k=-c}break;case this.DIRECTION_DOWN:if(b){f=-c}else{k=c}break;case this.DIRECTION_RIGHT:if(b){d=-c}else{j=c}break;case this.DIRECTION_LEFT:if(b){d=-c}else{j=c}break}h.setTransform({rotateX:k,rotateY:j,scale:e});i.setTransform({rotateX:f,rotateY:d,scale:a});return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.Pop\",{extend:\"Ext.fx.animation.Abstract\",alias:[\"animation.pop\",\"animation.popIn\"],alternateClassName:\"Ext.fx.animation.PopIn\",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var c=this.getTo(),b=this.getFrom(),a=this.getOut();if(a){b.set(\"opacity\",1);b.setTransform({scale:1});c.set(\"opacity\",0);c.setTransform({scale:0})}else{b.set(\"opacity\",0);b.setTransform({scale:0});c.set(\"opacity\",1);c.setTransform({scale:1})}return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.PopOut\",{extend:\"Ext.fx.animation.Pop\",alias:\"animation.popOut\",config:{out:true,before:{}}});Ext.define(\"Ext.fx.Animation\",{requires:[\"Ext.fx.animation.Slide\",\"Ext.fx.animation.SlideOut\",\"Ext.fx.animation.Fade\",\"Ext.fx.animation.FadeOut\",\"Ext.fx.animation.Flip\",\"Ext.fx.animation.Pop\",\"Ext.fx.animation.PopOut\"],constructor:function(b){var a=Ext.fx.animation.Abstract,c;if(typeof b==\"string\"){c=b;b={}}else{if(b&&b.type){c=b.type}}if(c){if(Ext.os.is.Android2){if(c==\"pop\"){c=\"fade\"}if(c==\"popIn\"){c=\"fadeIn\"}if(c==\"popOut\"){c=\"fadeOut\"}}a=Ext.ClassManager.getByAlias(\"animation.\"+c);if(!a){Ext.Logger.error(\"Invalid animation type of: '\"+c+\"'\")}}return Ext.factory(b,a)}});Ext.define(\"Ext.fx.runner.Css\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.Animation\"],prefixedProperties:{transform:true,\"transform-origin\":true,perspective:true,\"transform-style\":true,transition:true,\"transition-property\":true,\"transition-duration\":true,\"transition-timing-function\":true,\"transition-delay\":true,animation:true,\"animation-name\":true,\"animation-duration\":true,\"animation-iteration-count\":true,\"animation-direction\":true,\"animation-timing-function\":true,\"animation-delay\":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,\"max-height\":true,\"max-width\":true,\"min-height\":true,\"min-width\":true,\"margin-bottom\":true,\"margin-left\":true,\"margin-right\":true,\"margin-top\":true,\"padding-bottom\":true,\"padding-left\":true,\"padding-right\":true,\"padding-top\":true,\"border-bottom-width\":true,\"border-left-width\":true,\"border-right-width\":true,\"border-spacing\":true,\"border-top-width\":true,\"border-width\":true,\"outline-width\":true,\"letter-spacing\":true,\"line-height\":true,\"text-indent\":true,\"word-spacing\":true,\"font-size\":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{\"transition-duration\":true,\"transition-delay\":true,\"animation-duration\":true,\"animation-delay\":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:\"px\",DEFAULT_UNIT_ANGLE:\"deg\",DEFAULT_UNIT_DURATION:\"ms\",formattedNameCache:{},constructor:function(){var a=Ext.feature.has.Css3dTransforms;if(a){this.transformMethods=[\"translateX\",\"translateY\",\"translateZ\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"skewX\",\"skewY\",\"scaleX\",\"scaleY\",\"scaleZ\"]}else{this.transformMethods=[\"translateX\",\"translateY\",\"rotate\",\"skewX\",\"skewY\",\"scaleX\",\"scaleY\"]}this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var c=this.styleSheet,a,b;if(!c){a=document.createElement(\"style\");a.type=\"text/css\";(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(a);b=document.styleSheets;this.styleSheet=c=b[b.length-1]}return c},applyRules:function(i){var g=this.getStyleSheet(),k=this.ruleStylesCache,j=g.cssRules,c,e,h,b,d,a,f;for(c in i){e=i[c];h=k[c];if(h===undefined){d=j.length;g.insertRule(c+\"{}\",d);h=k[c]=j.item(d).style}b=h.$cache;if(!b){b=h.$cache={}}for(a in e){f=this.formatValue(e[a],a);a=this.formatName(a);if(b[a]!==f){b[a]=f;if(f===null){h.removeProperty(a)}else{h.setProperty(a,f,\"important\")}}}}return this},applyStyles:function(d){var g,c,f,b,a,e;for(g in d){c=document.getElementById(g);if(!c){return this}f=c.style;b=d[g];for(a in b){e=this.formatValue(b[a],a);a=this.formatName(a);if(e===null){f.removeProperty(a)}else{f.setProperty(a,e,\"important\")}}}return this},formatName:function(b){var a=this.formattedNameCache,c=a[b];if(!c){if(this.prefixedProperties[b]){c=this.vendorPrefix+b}else{c=b}a[b]=c}return c},formatValue:function(j,b){var g=typeof j,l=this.DEFAULT_UNIT_LENGTH,e,a,d,f,c,k,h;if(g==\"string\"){if(this.lengthProperties[b]){h=j.match(this.lengthUnitRegex)[1];if(h.length>0){if(h!==l){Ext.Logger.error(\"Length unit: '\"+h+\"' in value: '\"+j+\"' of property: '\"+b+\"' is not valid for animation. Only 'px' is allowed\")}}else{return j+l}}return j}else{if(g==\"number\"){if(j==0){return\"0\"}if(this.lengthProperties[b]){return j+l}if(this.angleProperties[b]){return j+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[b]){return j+this.DEFAULT_UNIT_DURATION}}else{if(b===\"transform\"){e=this.transformMethods;c=[];for(d=0,f=e.length;d<f;d++){a=e[d];c.push(a+\"(\"+this.formatValue(j[a],a)+\")\")}return c.join(\" \")}else{if(Ext.isArray(j)){k=[];for(d=0,f=j.length;d<f;d++){k.push(this.formatValue(j[d],b))}return(k.length>0)?k.join(\", \"):\"none\"}}}}return j}});Ext.define(\"Ext.fx.runner.CssTransition\",{extend:\"Ext.fx.runner.Css\",listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;this.getEventDispatcher().addListener(\"element\",\"*\",\"transitionend\",\"onTransitionEnd\",this)},onTransitionEnd:function(b){var a=b.target,c=a.id;if(c&&this.runningAnimationsData.hasOwnProperty(c)){this.refreshRunningAnimationsData(Ext.get(a),[b.browserEvent.propertyName])}},onAnimationEnd:function(g,f,d,j,n){var c=g.getId(),k=this.runningAnimationsData[c],o={},m={},b,h,e,l,a;d.un(\"stop\",\"onAnimationStop\",this);if(k){b=k.nameMap}o[c]=m;if(f.onBeforeEnd){f.onBeforeEnd.call(f.scope||this,g,j)}d.fireEvent(\"animationbeforeend\",d,g,j);this.fireEvent(\"animationbeforeend\",this,d,g,j);if(n||(!j&&!f.preserveEndState)){h=f.toPropertyNames;for(e=0,l=h.length;e<l;e++){a=h[e];if(b&&!b.hasOwnProperty(a)){m[a]=null}}}if(f.after){Ext.merge(m,f.after)}this.applyStyles(o);if(f.onEnd){f.onEnd.call(f.scope||this,g,j)}d.fireEvent(\"animationend\",d,g,j);this.fireEvent(\"animationend\",this,d,g,j)},onAllAnimationsEnd:function(b){var c=b.getId(),a={};delete this.runningAnimationsData[c];a[c]={\"transition-property\":null,\"transition-duration\":null,\"transition-timing-function\":null,\"transition-delay\":null};this.applyStyles(a);this.fireEvent(\"animationallend\",this,b)},hasRunningAnimations:function(a){var c=a.getId(),b=this.runningAnimationsData;return b.hasOwnProperty(c)&&b[c].sessions.length>0},refreshRunningAnimationsData:function(d,k,t,p){var g=d.getId(),q=this.runningAnimationsData,a=q[g];if(!a){return}var m=a.nameMap,s=a.nameList,b=a.sessions,f,h,e,u,l,c,r,o,n=false;t=Boolean(t);p=Boolean(p);if(!b){return this}f=b.length;if(f===0){return this}if(p){a.nameMap={};s.length=0;for(l=0;l<f;l++){c=b[l];this.onAnimationEnd(d,c.data,c.animation,t,p)}b.length=0}else{for(l=0;l<f;l++){c=b[l];r=c.map;o=c.list;for(h=0,e=k.length;h<e;h++){u=k[h];if(r[u]){delete r[u];Ext.Array.remove(o,u);c.length--;if(--m[u]==0){delete m[u];Ext.Array.remove(s,u)}}}if(c.length==0){b.splice(l,1);l--;f--;n=true;this.onAnimationEnd(d,c.data,c.animation,t)}}}if(!p&&!t&&b.length==0&&n){this.onAllAnimationsEnd(d)}},getRunningData:function(b){var a=this.runningAnimationsData;if(!a.hasOwnProperty(b)){a[b]={nameMap:{},nameList:[],sessions:[]}}return a[b]},getTestElement:function(){var c=this.testElement,b,d,a;if(!c){b=document.createElement(\"iframe\");a=b.style;a.setProperty(\"visibility\",\"hidden\",\"important\");a.setProperty(\"width\",\"0px\",\"important\");a.setProperty(\"height\",\"0px\",\"important\");a.setProperty(\"position\",\"absolute\",\"important\");a.setProperty(\"border\",\"0px\",\"important\");a.setProperty(\"zIndex\",\"-1000\",\"important\");document.body.appendChild(b);d=b.contentDocument;d.open();d.writeln(\"</body>\");d.close();this.testElement=c=d.createElement(\"div\");c.style.setProperty(\"position\",\"absolute\",\"!important\");d.body.appendChild(c);this.testElementComputedStyle=window.getComputedStyle(c)}return c},getCssStyleValue:function(b,e){var d=this.getTestElement(),a=this.testElementComputedStyle,c=d.style;c.setProperty(b,e);e=a.getPropertyValue(b);c.removeProperty(b);return e},run:function(p){var F=this,h=this.lengthProperties,x={},E={},G={},d,s,y,e,u,I,v,q,r,a,A,z,o,B,l,t,g,C,H,k,f,w,n,c,D,b,m;if(!this.listenersAttached){this.attachListeners()}p=Ext.Array.from(p);for(A=0,o=p.length;A<o;A++){B=p[A];B=Ext.factory(B,Ext.fx.Animation);d=B.getElement();g=window.getComputedStyle(d.dom);s=d.getId();G=Ext.merge({},B.getData());if(B.onBeforeStart){B.onBeforeStart.call(B.scope||this,d)}B.fireEvent(\"animationstart\",B);this.fireEvent(\"animationstart\",this,B);G[s]=G;u=G.before;y=G.from;e=G.to;G.fromPropertyNames=I=[];G.toPropertyNames=v=[];for(H in e){if(e.hasOwnProperty(H)){e[H]=k=this.formatValue(e[H],H);C=this.formatName(H);n=h.hasOwnProperty(H);if(!n){k=this.getCssStyleValue(C,k)}if(y.hasOwnProperty(H)){y[H]=w=this.formatValue(y[H],H);if(!n){w=this.getCssStyleValue(C,w)}if(k!==w){I.push(C);v.push(C)}}else{f=g.getPropertyValue(C);if(k!==f){v.push(C)}}}}l=v.length;if(l===0){this.onAnimationEnd(d,G,B);continue}a=this.getRunningData(s);b=a.sessions;if(b.length>0){this.refreshRunningAnimationsData(d,Ext.Array.merge(I,v),true,G.replacePrevious)}c=a.nameMap;D=a.nameList;t={};for(z=0;z<l;z++){H=v[z];t[H]=true;if(!c.hasOwnProperty(H)){c[H]=1;D.push(H)}else{c[H]++}}m={element:d,map:t,list:v.slice(),length:l,data:G,animation:B};b.push(m);B.on(\"stop\",\"onAnimationStop\",this);x[s]=y=Ext.apply(Ext.Object.chain(u),y);if(D.length>0){I=Ext.Array.difference(D,I);v=Ext.Array.merge(I,v);y[\"transition-property\"]=I}E[s]=e=Ext.Object.chain(e);e[\"transition-property\"]=v;e[\"transition-duration\"]=G.duration;e[\"transition-timing-function\"]=G.easing;e[\"transition-delay\"]=G.delay;B.startTime=Date.now()}r=this.$className;this.applyStyles(x);q=function(i){if(i.data===r&&i.source===window){window.removeEventListener(\"message\",q,false);F.applyStyles(E)}};window.addEventListener(\"message\",q,false);window.postMessage(r,\"*\")},onAnimationStop:function(d){var f=this.runningAnimationsData,h,a,g,b,c,e;for(h in f){if(f.hasOwnProperty(h)){a=f[h];g=a.sessions;for(b=0,c=g.length;b<c;b++){e=g[b];if(e.animation===d){this.refreshRunningAnimationsData(e.element,e.list.slice(),true)}}}}}});Ext.define(\"Ext.fx.Runner\",{requires:[\"Ext.fx.runner.CssTransition\"],constructor:function(){return new Ext.fx.runner.CssTransition()}});Ext.define(\"Ext.Mask\",{extend:\"Ext.Component\",xtype:\"mask\",config:{baseCls:Ext.baseCSSPrefix+\"mask\",transparent:false,top:0,left:0,right:0,bottom:0},initialize:function(){this.callParent();this.on({painted:\"onPainted\",erased:\"onErased\"})},onPainted:function(){this.element.on(\"*\",\"onEvent\",this)},onErased:function(){this.element.un(\"*\",\"onEvent\",this)},onEvent:function(b){var a=arguments[arguments.length-1];if(a.info.eventName===\"tap\"){this.fireEvent(\"tap\",this,b);return false}if(b&&b.stopEvent){b.stopEvent()}return false},updateTransparent:function(a){this[a?\"addCls\":\"removeCls\"](this.getBaseCls()+\"-transparent\")}});(function(a){Ext.define(\"Ext.layout.Default\",{extend:\"Ext.Evented\",alternateClassName:[\"Ext.layout.AutoContainerLayout\",\"Ext.layout.ContainerLayout\"],alias:[\"layout.auto\",\"layout.default\"],isLayout:true,hasDockedItemsCls:a+\"hasdocked\",centeredItemCls:a+\"centered\",floatingItemCls:a+\"floating\",dockingWrapperCls:a+\"docking\",dockingInnerCls:a+\"docking-inner\",maskCls:a+\"mask\",positionMap:{top:\"start\",left:\"start\",bottom:\"end\",right:\"end\"},positionDirectionMap:{top:\"vertical\",bottom:\"vertical\",left:\"horizontal\",right:\"horizontal\"},DIRECTION_VERTICAL:\"vertical\",DIRECTION_HORIZONTAL:\"horizontal\",POSITION_START:\"start\",POSITION_END:\"end\",config:{animation:null},constructor:function(b,c){this.container=b;this.innerItems=[];this.centeringWrappers={};this.initConfig(c)},reapply:Ext.emptyFn,unapply:Ext.emptyFn,onItemAdd:function(){this.doItemAdd.apply(this,arguments)},onItemRemove:function(){this.doItemRemove.apply(this,arguments)},onItemMove:function(){this.doItemMove.apply(this,arguments)},onItemCenteredChange:function(){this.doItemCenteredChange.apply(this,arguments)},onItemFloatingChange:function(){this.doItemFloatingChange.apply(this,arguments)},onItemDockedChange:function(){this.doItemDockedChange.apply(this,arguments)},doItemAdd:function(c,b){var d=c.getDocked();if(d!==null){this.dockItem(c,d)}else{if(c.isCentered()){this.centerItem(c,b)}else{this.insertItem(c,b)}}if(c.isFloating()){this.onItemFloatingChange(c,true)}},doItemRemove:function(b){if(b.isDocked()){this.undockItem(b)}else{if(b.isCentered()){this.uncenterItem(b)}}if(b.getTranslatable()){b.setTranslatable(false)}Ext.Array.remove(this.innerItems,b);Ext.fly(b.renderElement).destroy()},doItemMove:function(c,d,b){if(c.isCentered()){c.setZIndex((d+1)*2)}else{if(c.isFloating()){c.setZIndex((d+1)*2)}this.insertItem(c,d)}},doItemCenteredChange:function(c,b){if(b){this.centerItem(c)}else{this.uncenterItem(c)}},doItemFloatingChange:function(d,e){var c=d.element,b=this.floatingItemCls;if(e){if(d.getZIndex()===null){d.setZIndex((this.container.indexOf(d)+1)*2)}c.addCls(b)}else{d.setZIndex(null);c.removeCls(b)}},doItemDockedChange:function(b,d,c){if(c){this.undockItem(b,c)}if(d){this.dockItem(b,d)}},centerItem:function(b){this.insertItem(b,0);if(b.getZIndex()===null){b.setZIndex((this.container.indexOf(b)+1)*2)}this.createCenteringWrapper(b);b.element.addCls(this.floatingItemCls)},uncenterItem:function(b){this.destroyCenteringWrapper(b);b.setZIndex(null);this.insertItem(b,this.container.indexOf(b));b.element.removeCls(this.floatingItemCls)},dockItem:function(f,b){var c=this.container,g=f.renderElement,e=f.element,d=this.dockingInnerElement;if(!d){c.setUseBodyElement(true);this.dockingInnerElement=d=c.bodyElement}this.getDockingWrapper(b);if(this.positionMap[b]===this.POSITION_START){g.insertBefore(d)}else{g.insertAfter(d)}e.addCls(a+\"docked-\"+b)},undockItem:function(b,c){this.insertItem(b,this.container.indexOf(b));b.element.removeCls(a+\"docked-\"+c)},getDockingWrapper:function(b){var e=this.currentDockingDirection,d=this.positionDirectionMap[b],c=this.dockingWrapper;if(e!==d){this.currentDockingDirection=d;this.dockingWrapper=c=this.createDockingWrapper(d)}return c},createDockingWrapper:function(b){return this.dockingInnerElement.wrap({classList:[this.dockingWrapperCls+\"-\"+b]},true)},createCenteringWrapper:function(c){var f=c.getId(),d=this.centeringWrappers,b=c.renderElement,e;d[f]=e=b.wrap({className:this.centeredItemCls});return e},destroyCenteringWrapper:function(c){var f=c.getId(),d=this.centeringWrappers,b=c.renderElement,e=d[f];b.unwrap();e.destroy();delete d[f];return this},getInnerItemsContainer:function(){return this.container.innerElement},insertItem:function(k,g){var d=this.container,j=d.getItems().items,e=this.innerItems,c=this.getInnerItemsContainer().dom,i=k.renderElement.dom,h,f,b;if(d.has(k)){Ext.Array.remove(e,k)}if(typeof g==\"number\"){h=j[g];if(h===k){h=j[++g]}while(h&&(h.isCentered()||h.isDocked())){h=j[++g]}if(h){b=e.indexOf(h);if(b!==-1){while(h&&(h.isCentered()||h.isDocked())){h=e[++b]}if(h){e.splice(b,0,k);f=h.renderElement.dom;c.insertBefore(i,f);return this}}}}e.push(k);c.appendChild(i);return this}})})(Ext.baseCSSPrefix);Ext.define(\"Ext.layout.AbstractBox\",{extend:\"Ext.layout.Default\",config:{align:\"stretch\",pack:null},flexItemCls:Ext.baseCSSPrefix+\"layout-box-item\",positionMap:{middle:\"center\",left:\"start\",top:\"start\",right:\"end\",bottom:\"end\"},constructor:function(a){this.callParent(arguments);a.innerElement.addCls(this.cls);a.on(this.sizeChangeEventName,\"onItemSizeChange\",this,{delegate:\"> component\"})},reapply:function(){this.container.innerElement.addCls(this.cls);this.updatePack(this.getPack());this.updateAlign(this.getAlign())},unapply:function(){this.container.innerElement.removeCls(this.cls);this.updatePack(null);this.updateAlign(null)},doItemAdd:function(d,b){this.callParent(arguments);if(d.isInnerItem()){var c=d.getConfig(this.sizePropertyName),a=d.config;if(!c&&(\"flex\" in a)){this.setItemFlex(d,a.flex)}}},doItemRemove:function(a){if(a.isInnerItem()){this.setItemFlex(a,null)}this.callParent(arguments)},onItemSizeChange:function(a){this.setItemFlex(a,null)},doItemCenteredChange:function(b,a){if(a){this.setItemFlex(b,null)}this.callParent(arguments)},doItemFloatingChange:function(a,b){if(b){this.setItemFlex(a,null)}this.callParent(arguments)},doItemDockedChange:function(a,b){if(b){this.setItemFlex(a,null)}this.callParent(arguments)},redrawContainer:function(){var a=this.container,b=a.renderElement.dom.parentNode;if(b&&b.nodeType!==11){a.innerElement.redraw()}},setItemFlex:function(c,a){var b=c.element,d=this.flexItemCls;if(a){b.addCls(d)}else{if(b.hasCls(d)){this.redrawContainer();b.removeCls(d)}}b.dom.style.webkitBoxFlex=a},convertPosition:function(a){if(this.positionMap.hasOwnProperty(a)){return this.positionMap[a]}return a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(a){this.container.innerElement.dom.style.webkitBoxAlign=a},applyPack:function(a){return this.convertPosition(a)},updatePack:function(a){this.container.innerElement.dom.style.webkitBoxPack=a}});Ext.define(\"Ext.util.Filter\",{isFilter:true,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:false,exactMatch:false,caseSensitive:false,root:null,id:undefined,scope:null},applyId:function(a){if(!a){if(this.getProperty()){a=this.getProperty()+\"-\"+String(this.getValue())}if(!a){a=Ext.id(null,\"ext-filter-\")}}return a},constructor:function(a){this.initConfig(a)},applyFilterFn:function(b){if(b===Ext.emptyFn){b=this.getInitialConfig(\"filter\");if(b){return b}var a=this.getValue();if(!this.getProperty()&&!a&&a!==0){Ext.Logger.error(\"A Filter requires either a property and value, or a filterFn to be set\");return Ext.emptyFn}else{return this.createFilterFn()}}return b},createFilterFn:function(){var a=this,b=a.createValueMatcher();return function(d){var c=a.getRoot(),e=a.getProperty();if(c){d=d[c]}return b.test(d[e])}},createValueMatcher:function(){var d=this,e=d.getValue(),f=d.getAnyMatch(),c=d.getExactMatch(),a=d.getCaseSensitive(),b=Ext.String.escapeRegex;if(e===null||e===undefined||!e.exec){e=String(e);if(f===true){e=b(e)}else{e=\"^\"+b(e);if(c===true){e+=\"$\"}}e=new RegExp(e,a?\"\":\"i\")}return e}});Ext.define(\"Ext.util.Sorter\",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:\"ASC\",id:undefined},constructor:function(a){this.initConfig(a)},applySorterFn:function(a){if(!a&&!this.getProperty()){Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\")}return a},applyProperty:function(a){if(!a&&!this.getSorterFn()){Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\")}return a},applyId:function(a){if(!a){a=this.getProperty();if(!a){a=Ext.id(null,\"ext-sorter-\")}}return a},createSortFunction:function(b){var c=this,a=c.getDirection().toUpperCase()==\"DESC\"?-1:1;return function(e,d){return a*b.call(c,e,d)}},defaultSortFn:function(e,c){var g=this,f=g._transform,b=g._root,d,a,h=g._property;if(b!==null){e=e[b];c=c[b]}d=e[h];a=c[h];if(f){d=f(d);a=f(a)}return d>a?1:(d<a?-1:0)},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),\"ASC\",\"DESC\"))}});Ext.define(\"Ext.fx.easing.EaseOut\",{extend:\"Ext.fx.easing.Linear\",alias:\"easing.ease-out\",config:{exponent:4,duration:1500},getValue:function(){var f=Ext.Date.now()-this.getStartTime(),d=this.getDuration(),b=this.getStartValue(),h=this.getEndValue(),a=this.distance,c=f/d,g=1-c,e=1-Math.pow(g,this.getExponent()),i=b+(e*a);if(f>=d){this.isEnded=true;return h}return i}});Ext.define(\"Ext.fx.layout.card.Abstract\",{extend:\"Ext.Evented\",isAnimation:true,config:{direction:\"left\",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();if(a){a.onBefore(\"activeitemchange\",\"onActiveItemChange\",this)}},disable:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore(\"activeitemchange\",\"onActiveItemChange\",this)}},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore(\"activeitemchange\",\"onActiveItemChange\",this)}this.setLayout(null)}});Ext.define(\"Ext.fx.easing.Momentum\",{extend:\"Ext.fx.easing.Abstract\",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-(b/10));this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define(\"Ext.fx.easing.Bounce\",{extend:\"Ext.fx.easing.Abstract\",config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),c=(b/this.getAcceleration()),a=c*Math.pow(Math.E,-this.getSpringTension()*c);return this.getStartValue()+(this.getStartVelocity()*a)}});Ext.define(\"Ext.scroll.indicator.Abstract\",{extend:\"Ext.Component\",config:{baseCls:\"x-scroll-indicator\",axis:\"x\",value:0,length:null,hidden:true,ui:\"dark\"},cachedConfig:{ratio:1,barCls:\"x-scroll-bar\",active:true},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:\"barElement\",children:[this.callParent()]}},applyRatio:function(a){if(isNaN(a)){a=1}return a},refresh:function(){var f=this.barElement,e=f.dom,c=this.getRatio(),b=this.getAxis(),a=(b===\"x\")?e.offsetWidth:e.offsetHeight,d=a*c;this.barLength=a;this.gapLength=a-d;this.setLength(d);this.updateValue(this.getValue())},updateBarCls:function(a){this.barElement.addCls(a)},updateAxis:function(a){this.element.addCls(this.getBaseCls(),null,a);this.barElement.addCls(this.getBarCls(),null,a)},updateValue:function(a){this.setOffset(this.gapLength*a)},updateActive:function(a){this.barElement[a?\"addCls\":\"removeCls\"](\"active\")},doSetHidden:function(a){var b=this.element.dom.style;if(a){b.opacity=\"0\"}else{b.opacity=\"\"}},updateLength:function(c){var b=this.getAxis(),a=this.element;if(b===\"x\"){a.setWidth(c)}else{a.setHeight(c)}},setOffset:function(c){var b=this.getAxis(),a=this.element;if(b===\"x\"){a.setLeft(c)}else{a.setTop(c)}}});Ext.define(\"Ext.LoadMask\",{extend:\"Ext.Mask\",xtype:\"loadmask\",config:{message:\"Loading...\",messageCls:Ext.baseCSSPrefix+\"mask-message\",indicator:true,listeners:{painted:\"onPainted\",erased:\"onErased\"}},getTemplate:function(){var a=Ext.baseCSSPrefix;return[{reference:\"innerElement\",cls:a+\"mask-inner\",children:[{reference:\"indicatorElement\",cls:a+\"loading-spinner-outer\",children:[{cls:a+\"loading-spinner\",children:[{tag:\"span\",cls:a+\"loading-top\"},{tag:\"span\",cls:a+\"loading-right\"},{tag:\"span\",cls:a+\"loading-bottom\"},{tag:\"span\",cls:a+\"loading-left\"}]}]},{reference:\"messageElement\"}]}]},updateMessage:function(a){this.messageElement.setHtml(a)},updateMessageCls:function(b,a){this.messageElement.replaceCls(a,b)},updateIndicator:function(a){this[a?\"removeCls\":\"addCls\"](Ext.baseCSSPrefix+\"indicator-hidden\")},onPainted:function(){this.getParent().on({scope:this,resize:this.refreshPosition});this.refreshPosition()},onErased:function(){this.getParent().un({scope:this,resize:this.refreshPosition})},refreshPosition:function(){var c=this.getParent(),d=c.getScrollable(),a=(d)?d.getScroller():null,f=(a)?a.position:{x:0,y:0},e=c.element.getSize(),b=this.element.getSize();this.innerElement.setStyle({marginTop:Math.round(e.height-b.height+(f.y*2))+\"px\",marginLeft:Math.round(e.width-b.width+f.x)+\"px\"})}},function(){this.override({constructor:function(b,a){if(typeof a!==\"undefined\"){b=a;Ext.Logger.deprecate(\"You no longer need to pass an element to create a Ext.LoadMask. It is a component and can be shown using the Ext.Container.masked configuration.\",this)}if(b){if(b.hasOwnProperty(\"msg\")){b.message=b.msg;Ext.Logger.deprecate(\"'msg' config is deprecated, please use 'message' config instead\",this);delete b.msg}if(b.hasOwnProperty(\"msgCls\")){b.messageCls=b.msgCls;Ext.Logger.deprecate(\"'msgCls' config is deprecated, please use 'messageCls' config instead\",this);delete b.msgCls}if(b.hasOwnProperty(\"store\")){Ext.Logger.deprecate(\"'store' config has been removed. You can no longer bind a store to a Ext.LoadMask\",this);delete b.store}}this.callParent([b])},bindStore:function(){Ext.Logger.deprecate(\"You can no longer bind a store to a Ext.LoadMask\",this)}})});Ext.define(\"Ext.layout.Fit\",{extend:\"Ext.layout.Default\",alternateClassName:\"Ext.layout.FitLayout\",alias:\"layout.fit\",cls:Ext.baseCSSPrefix+\"layout-fit\",itemCls:Ext.baseCSSPrefix+\"layout-fit-item\",constructor:function(a){this.callParent(arguments);this.apply()},apply:function(){this.container.innerElement.addCls(this.cls)},reapply:function(){this.apply()},unapply:function(){this.container.innerElement.removeCls(this.cls)},doItemAdd:function(b,a){if(b.isInnerItem()){b.addCls(this.itemCls)}this.callParent(arguments)},doItemRemove:function(a){if(a.isInnerItem()){a.removeCls(this.itemCls)}this.callParent(arguments)}});Ext.define(\"Ext.layout.HBox\",{extend:\"Ext.layout.AbstractBox\",alternateClassName:\"Ext.layout.HBoxLayout\",alias:\"layout.hbox\",sizePropertyName:\"width\",sizeChangeEventName:\"widthchange\",cls:Ext.baseCSSPrefix+\"layout-hbox\"});Ext.define(\"Ext.layout.VBox\",{extend:\"Ext.layout.AbstractBox\",alternateClassName:\"Ext.layout.VBoxLayout\",alias:\"layout.vbox\",sizePropertyName:\"height\",sizeChangeEventName:\"heightchange\",cls:Ext.baseCSSPrefix+\"layout-vbox\"});Ext.define(\"Ext.util.AbstractMixedCollection\",{requires:[\"Ext.util.Filter\"],mixins:{observable:\"Ext.mixin.Observable\"},constructor:function(b,a){var c=this;c.items=[];c.map={};c.keys=[];c.length=0;c.allowFunctions=b===true;if(a){c.getKey=a}c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(b,e){var d=this,f=e,c=b,a;if(arguments.length==1){f=c;c=d.getKey(f)}if(typeof c!=\"undefined\"&&c!==null){a=d.map[c];if(typeof a!=\"undefined\"){return d.replace(c,f)}d.map[c]=f}d.length++;d.items.push(f);d.keys.push(c);d.fireEvent(\"add\",d.length-1,f,c);return f},getKey:function(a){return a.id},replace:function(c,e){var d=this,a,b;if(arguments.length==1){e=arguments[0];c=d.getKey(e)}a=d.map[c];if(typeof c==\"undefined\"||c===null||typeof a==\"undefined\"){return d.add(c,e)}b=d.indexOfKey(c);d.items[b]=e;d.map[c]=e;d.fireEvent(\"replace\",c,a,e);return e},addAll:function(f){var e=this,d=0,b,a,c;if(arguments.length>1||Ext.isArray(f)){b=arguments.length>1?arguments:f;for(a=b.length;d<a;d++){e.add(b[d])}}else{for(c in f){if(f.hasOwnProperty(c)){if(e.allowFunctions||typeof f[c]!=\"function\"){e.add(c,f[c])}}}}},each:function(e,d){var b=[].concat(this.items),c=0,a=b.length,f;for(;c<a;c++){f=b[c];if(e.call(d||f,f,c,a)===false){break}}},eachKey:function(e,d){var f=this.keys,b=this.items,c=0,a=f.length;for(;c<a;c++){e.call(d||window,f[c],b[c],c,a)}},findBy:function(e,d){var f=this.keys,b=this.items,c=0,a=b.length;for(;c<a;c++){if(e.call(d||window,b[c],f[c])){return b[c]}}return null},insert:function(a,b,e){var d=this,c=b,f=e;if(arguments.length==2){f=c;c=d.getKey(f)}if(d.containsKey(c)){d.suspendEvents();d.removeAtKey(c);d.resumeEvents()}if(a>=d.length){return d.add(c,f)}d.length++;Ext.Array.splice(d.items,a,0,f);if(typeof c!=\"undefined\"&&c!==null){d.map[c]=f}Ext.Array.splice(d.keys,a,0,c);d.fireEvent(\"add\",a,f,c);return f},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(b){this.remove(b)},this);return this},removeAt:function(a){var c=this,d,b;if(a<c.length&&a>=0){c.length--;d=c.items[a];Ext.Array.erase(c.items,a,1);b=c.keys[a];if(typeof b!=\"undefined\"){delete c.map[b]}Ext.Array.erase(c.keys,a,1);c.fireEvent(\"remove\",d,b);return d}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(b){var d=this,a=d.map[b],c=a!==undefined?a:(typeof b==\"number\")?d.items[b]:undefined;return typeof c!=\"function\"||d.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!=\"undefined\"},clear:function(){var a=this;a.length=0;a.items=[];a.keys=[];a.map={};a.fireEvent(\"clear\")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(g,b,h,a){var c=this.extractValues(g,b),f=c.length,e=0,d;h=h||0;a=(a||a===0)?a:f-1;for(d=h;d<=a;d++){e+=c[d]}return e},collect:function(j,e,g){var k=this.extractValues(j,e),a=k.length,b={},c=[],h,f,d;for(d=0;d<a;d++){h=k[d];f=String(h);if((g||!Ext.isEmpty(h))&&!b[f]){b[f]=true;c.push(h)}}return c},extractValues:function(c,a){var b=this.items;if(a){b=Ext.Array.pluck(b,a)}return Ext.Array.pluck(b,c)},getRange:function(f,a){var e=this,c=e.items,b=[],d;if(c.length<1){return b}f=f||0;a=Math.min(typeof a==\"undefined\"?e.length-1:a,e.length-1);if(f<=a){for(d=f;d<=a;d++){b[b.length]=c[d]}}else{for(d=f;d>=a;d--){b[b.length]=c[d]}}return b},filter:function(d,c,f,a){var b=[],e;if(Ext.isString(d)){b.push(Ext.create(\"Ext.util.Filter\",{property:d,value:c,anyMatch:f,caseSensitive:a}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){b=b.concat(d)}}e=function(g){var m=true,n=b.length,h;for(h=0;h<n;h++){var l=b[h],k=l.getFilterFn(),j=l.getScope();m=m&&k.call(j,g)}return m};return this.filterBy(e)},filterBy:function(e,d){var h=this,a=new this.self(),g=h.keys,b=h.items,f=b.length,c;a.getKey=h.getKey;for(c=0;c<f;c++){if(e.call(d||h,b[c],g[c])){a.add(g[c],b[c])}}return a},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(f){return f&&b.test(f[c])},null,e)},findIndexBy:function(e,d,h){var g=this,f=g.keys,b=g.items,c=h||0,a=b.length;for(;c<a;c++){if(e.call(d||g,b[c],f[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.String.escapeRegex;c=String(c);if(e===true){c=d(c)}else{c=\"^\"+d(c);if(b===true){c+=\"$\"}}c=new RegExp(c,a?\"\":\"i\")}return c},clone:function(){var e=this,f=new this.self(),d=e.keys,b=e.items,c=0,a=b.length;for(;c<a;c++){f.add(d[c],b[c])}f.getKey=e.getKey;return f}});Ext.define(\"Ext.util.Sortable\",{isSortable:true,defaultSortDirection:\"ASC\",requires:[\"Ext.util.Sorter\"],initSortable:function(){var a=this,b=a.sorters;a.sorters=Ext.create(\"Ext.util.AbstractMixedCollection\",false,function(c){return c.id||c.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(g,f,c,e){var d=this,h,b,a;if(Ext.isArray(g)){e=c;c=f;a=g}else{if(Ext.isObject(g)){e=c;c=f;a=[g]}else{if(Ext.isString(g)){h=d.sorters.get(g);if(!h){h={property:g,direction:f};a=[h]}else{if(f===undefined){h.toggle()}else{h.setDirection(f)}}}}}if(a&&a.length){a=d.decodeSorters(a);if(Ext.isString(c)){if(c===\"prepend\"){g=d.sorters.clone().items;d.sorters.clear();d.sorters.addAll(a);d.sorters.addAll(g)}else{d.sorters.addAll(a)}}else{d.sorters.clear();d.sorters.addAll(a)}if(e!==false){d.onBeforeSort(a)}}if(e!==false){g=d.sorters.items;if(g.length){b=function(l,k){var j=g[0].sort(l,k),n=g.length,m;for(m=1;m<n;m++){j=j||g[m].sort.call(this,l,k)}return j};d.doSort(b)}}return g},onBeforeSort:Ext.emptyFn,decodeSorters:function(f){if(!Ext.isArray(f)){if(f===undefined){f=[]}else{f=[f]}}var d=f.length,g=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null,e,b,c;for(c=0;c<d;c++){b=f[c];if(!(b instanceof g)){if(Ext.isString(b)){b={property:b}}Ext.applyIf(b,{root:this.sortRoot,direction:\"ASC\"});if(b.fn){b.sorterFn=b.fn}if(typeof b==\"function\"){b={sorterFn:b}}if(a&&!b.transform){e=a.get(b.property);b.transform=e?e.sortType:undefined}f[c]=Ext.create(\"Ext.util.Sorter\",b)}}return f},getSorters:function(){return this.sorters.items}});Ext.define(\"Ext.util.MixedCollection\",{extend:\"Ext.util.AbstractMixedCollection\",mixins:{sortable:\"Ext.util.Sortable\"},constructor:function(){var a=this;a.callParent(arguments);a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(k,a,j){var h=this,d,e,b=String(a).toUpperCase()==\"DESC\"?-1:1,g=[],l=h.keys,f=h.items;j=j||function(i,c){return i-c};for(d=0,e=f.length;d<e;d++){g[g.length]={key:l[d],value:f[d],index:d}}Ext.Array.sort(g,function(i,c){var m=j(i[k],c[k])*b;if(m===0){m=(i.index<c.index?-1:1)}return m});for(d=0,e=g.length;d<e;d++){f[d]=g[d].value;l[d]=g[d].key}h.fireEvent(\"sort\",h)},sortBy:function(c){var g=this,b=g.items,f=g.keys,e=b.length,a=[],d;for(d=0;d<e;d++){a[d]={key:f[d],value:b[d],index:d}}Ext.Array.sort(a,function(i,h){var j=c(i.value,h.value);if(j===0){j=(i.index<h.index?-1:1)}return j});for(d=0;d<e;d++){b[d]=a[d].value;f[d]=a[d].key}g.fireEvent(\"sort\",g,b,f)},reorder:function(d){var g=this,b=g.items,c=0,f=b.length,a=[],e=[],h;g.suspendEvents();for(h in d){a[d[h]]=b[h]}for(c=0;c<f;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<f;c++){if(a[c]==undefined){a[c]=e.shift()}}g.clear();g.addAll(a);g.resumeEvents();g.fireEvent(\"sort\",g)},sortByKey:function(a,b){this._sort(\"key\",a,b||function(d,c){var f=String(d).toUpperCase(),e=String(c).toUpperCase();return f>e?1:(f<e?-1:0)})}});Ext.define(\"Ext.ItemCollection\",{extend:\"Ext.util.MixedCollection\",getKey:function(a){return a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}});Ext.define(\"Ext.fx.layout.card.Scroll\",{extend:\"Ext.fx.layout.card.Abstract\",requires:[\"Ext.fx.easing.Linear\"],alias:\"fx.layout.card.scroll\",config:{duration:150},constructor:function(a){this.initConfig(a);this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this)},getEasing:function(){var a=this.easing;if(!a){this.easing=a=new Ext.fx.easing.Linear()}return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,d,l,m,c){var i=this.getDirection(),g=this.getEasing(),k,e,b,h,j,f;if(d&&l){if(this.isAnimating){this.stopAnimation()}k=this.getLayout().container.innerElement;h=k.getWidth();j=k.getHeight();e=d.renderElement;b=l.renderElement;this.oldItem=l;this.newItem=d;this.currentEventController=c;this.containerElement=k;this.isReverse=f=this.getReverse();d.show();if(i==\"right\"){i=\"left\";this.isReverse=f=!f}else{if(i==\"down\"){i=\"up\";this.isReverse=f=!f}}if(i==\"left\"){if(f){g.setConfig({startValue:h,endValue:0});k.dom.scrollLeft=h;b.setLeft(h)}else{g.setConfig({startValue:0,endValue:h});e.setLeft(h)}}else{if(f){g.setConfig({startValue:j,endValue:0});k.dom.scrollTop=j;b.setTop(j)}else{g.setConfig({startValue:0,endValue:j});e.setTop(j)}}this.startAnimation();c.pause()}},startAnimation:function(){this.isAnimating=true;this.getEasing().setStartTime(Date.now());this.timer=setInterval(this.doAnimationFrame,20);this.doAnimationFrame()},doAnimationFrame:function(){var d=this.getEasing(),c=this.getDirection(),a=\"scrollTop\",b;if(c==\"left\"||c==\"right\"){a=\"scrollLeft\"}if(d.isEnded){this.stopAnimation()}else{b=d.getValue();this.containerElement.dom[a]=b}},stopAnimation:function(){var c=this,e=c.getDirection(),a=\"setTop\",d=c.oldItem,b=c.newItem;if(e==\"left\"||e==\"right\"){a=\"setLeft\"}c.currentEventController.resume();if(c.isReverse&&d&&d.renderElement&&d.renderElement.dom){d.renderElement[a](null)}else{if(b&&b.renderElement&&b.renderElement.dom){b.renderElement[a](null)}}clearInterval(c.timer);c.isAnimating=false;c.fireEvent(\"animationend\",c)}});Ext.define(\"Ext.fx.easing.BoundMomentum\",{extend:\"Ext.fx.easing.Abstract\",requires:[\"Ext.fx.easing.Momentum\",\"Ext.fx.easing.Bounce\"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),j=this.getBounce(),e=a.getStartVelocity(),f=e>0?1:-1,g=this.getMinMomentumValue(),d=this.getMaxMomentumValue(),c=(f==1)?d:g,h=this.lastValue,i,b;if(e===0){return this.getStartValue()}if(!this.isOutOfBound){i=a.getValue();b=a.getVelocity();if(Math.abs(b)<this.getMinVelocity()){this.isEnded=true}if(i>=g&&i<=d){return i}this.isOutOfBound=true;j.setStartTime(Ext.Date.now()).setStartVelocity(b).setStartValue(c)}i=j.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(h!==null){if((f==1&&i<h)||(f==-1&&i>h)){this.isBouncingBack=true}}}else{if(Math.round(i)==c){this.isEnded=true}}}this.lastValue=i;return i}});Ext.define(\"Ext.scroll.Scroller\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.easing.BoundMomentum\",\"Ext.fx.easing.EaseOut\",\"Ext.util.SizeMonitor\",\"Ext.util.Translatable\"],config:{element:null,direction:\"auto\",translationMethod:\"auto\",fps:\"auto\",disabled:null,directionLock:false,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:\"auto\",containerScrollSize:\"auto\",size:\"auto\",autoRefresh:true,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150}},cls:Ext.baseCSSPrefix+\"scroll-scroller\",containerCls:Ext.baseCSSPrefix+\"scroll-container\",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,constructor:function(a){var b=a&&a.element;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.stopAnimation=Ext.Function.bind(this.stopAnimation,this);this.listeners={scope:this,touchstart:\"onTouchStart\",touchend:\"onTouchEnd\",dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\"};this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.size={x:0,y:0};this.position={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:false,y:false};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.initialConfig=a;if(b){this.setElement(b)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initialize();a.addCls(this.cls);if(!this.getDisabled()){this.attachListeneners()}this.onConfigUpdate([\"containerSize\",\"size\"],\"refreshMaxPosition\");this.on(\"maxpositionchange\",\"snapToBoundary\");this.on(\"minpositionchange\",\"snapToBoundary\");return this},getTranslatable:function(){if(!this.hasOwnProperty(\"translatable\")){var a=this.getBounceEasing();this.translatable=new Ext.util.Translatable({translationMethod:this.getTranslationMethod(),element:this.getElement(),easingX:a.x,easingY:a.y,useWrapper:false,listeners:{animationframe:\"onAnimationFrame\",animationend:\"onAnimationEnd\",axisanimationend:\"onAxisAnimationEnd\",scope:this}})}return this.translatable},updateFps:function(a){if(a!==\"auto\"){this.getTranslatable().setFps(a)}},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){if(a){this.detachListeners()}else{this.attachListeneners()}},updateInitialOffset:function(c){if(typeof c==\"number\"){c={x:c,y:c}}var b=this.position,a,d;b.x=a=c.x;b.y=d=c.y;this.getTranslatable().doTranslate(-a,-d)},applyDirection:function(a){var e=this.getMinPosition(),d=this.getMaxPosition(),c,b;this.givenDirection=a;if(a===\"auto\"){c=d.x>e.x;b=d.y>e.y;if(c&&b){a=\"both\"}else{if(c){a=\"horizontal\"}else{a=\"vertical\"}}}return a},updateDirection:function(b){var a=this.isAxisEnabledFlags;a.x=(b===\"both\"||b===\"horizontal\");a.y=(b===\"both\"||b===\"vertical\")},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(b){var a=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},applyBounceEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},applySlotSnapEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},getMinPosition:function(){var a=this.minPosition;if(!a){this.minPosition=a={x:0,y:0};this.fireEvent(\"minpositionchange\",this,a)}return a},getMaxPosition:function(){var c=this.maxPosition,a,b;if(!c){a=this.getSize();b=this.getContainerSize();this.maxPosition=c={x:Math.max(0,a.x-b.x),y:Math.max(0,a.y-b.y)};this.fireEvent(\"maxpositionchange\",this,c)}return c},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(b){var c=this.getContainer().dom,a,d;if(!c){return}this.givenContainerSize=b;if(b===\"auto\"){a=c.offsetWidth;d=c.offsetHeight}else{a=b.x;d=b.y}return{x:a,y:d}},applySize:function(b){var c=this.getElement().dom,a,d;if(!c){return}this.givenSize=b;if(b===\"auto\"){a=c.offsetWidth;d=c.offsetHeight}else{a=b.x;d=b.y}return{x:a,y:d}},applyContainerScrollSize:function(b){var c=this.getContainer().dom,a,d;if(!c){return}this.givenContainerScrollSize=b;if(b===\"auto\"){a=c.scrollWidth;d=c.scrollHeight}else{a=b.x;d=b.y}return{x:a,y:d}},updateAutoRefresh:function(b){var c=Ext.util.SizeMonitor,a;if(b){this.sizeMonitors={element:new c({element:this.getElement(),callback:this.doRefresh,scope:this}),container:new c({element:this.getContainer(),callback:this.doRefresh,scope:this})}}else{a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}}},applySlotSnapSize:function(a){if(typeof a==\"number\"){return{x:a,y:a}}return a},applySlotSnapOffset:function(a){if(typeof a==\"number\"){return{x:a,y:a}}return a},getContainer:function(){var a=this.container;if(!a){this.container=a=this.getElement().getParent();if(!a){Ext.Logger.error(\"Making an element scrollable that doesn't have any container\")}a.addCls(this.containerCls)}return a},doRefresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setContainerScrollSize(this.givenContainerScrollSize);this.setDirection(this.givenDirection);this.fireEvent(\"refresh\",this)},refresh:function(){var a=this.sizeMonitors;if(a){a.element.refresh();a.container.refresh()}this.doRefresh();return this},scrollTo:function(c,h,g){if(typeof c!=\"number\"&&arguments.length===1){Ext.Logger.deprecate(\"Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead\",this);h=c.y;c=c.x}var b=this.getTranslatable(),a=this.position,d=false,f,e;if(this.isAxisEnabled(\"x\")){if(typeof c!=\"number\"){c=a.x}else{if(a.x!==c){a.x=c;d=true}}f=-c}if(this.isAxisEnabled(\"y\")){if(typeof h!=\"number\"){h=a.y}else{if(a.y!==h){a.y=h;d=true}}e=-h}if(d){if(g!==undefined){b.translateAnimated(f,e,g)}else{this.fireEvent(\"scroll\",this,a.x,a.y);b.doTranslate(f,e)}}return this},scrollToTop:function(b){var a=this.getInitialOffset();return this.scrollTo(a.x,a.y,b)},scrollToEnd:function(a){return this.scrollTo(0,this.getSize().y-this.getContainerSize().y,a)},scrollBy:function(b,d,c){var a=this.position;b=(typeof b==\"number\")?b+a.x:null;d=(typeof d==\"number\")?d+a.y:null;return this.scrollTo(b,d,c)},onTouchStart:function(){this.isTouching=true;this.stopAnimation()},onTouchEnd:function(){var a=this.position;this.isTouching=false;if(!this.isDragging&&this.snapToSlot()){this.fireEvent(\"scrollstart\",this,a.x,a.y)}},onDragStart:function(l){var o=this.getDirection(),g=l.absDeltaX,f=l.absDeltaY,j=this.getDirectionLock(),i=this.startPosition,d=this.flickStartPosition,k=this.flickStartTime,h=this.lastDragPosition,c=this.position,b=this.dragDirection,n=c.x,m=c.y,a=Ext.Date.now();this.isDragging=true;if(j&&o!==\"both\"){if((o===\"horizontal\"&&g>f)||(o===\"vertical\"&&f>g)){l.stopPropagation()}else{this.isDragging=false;return}}h.x=n;h.y=m;d.x=n;d.y=m;i.x=n;i.y=m;k.x=a;k.y=a;b.x=0;b.y=0;this.dragStartTime=a;this.isDragging=true;this.fireEvent(\"scrollstart\",this,n,m)},onAxisDrag:function(i,q){if(!this.isAxisEnabled(i)){return}var h=this.flickStartPosition,l=this.flickStartTime,j=this.lastDragPosition,e=this.dragDirection,g=this.position[i],k=this.getMinPosition()[i],o=this.getMaxPosition()[i],d=this.startPosition[i],p=j[i],n=d-q,c=e[i],m=this.getOutOfBoundRestrictFactor(),f=this.getStartMomentumResetTime(),b=Ext.Date.now(),a;if(n<k){n*=m}else{if(n>o){a=n-o;n=o+a*m}}if(n>p){e[i]=1}else{if(n<p){e[i]=-1}}if((c!==0&&(e[i]!==c))||(b-l[i])>f){h[i]=g;l[i]=b}j[i]=n},onDrag:function(b){if(!this.isDragging){return}var a=this.lastDragPosition;this.onAxisDrag(\"x\",b.deltaX);this.onAxisDrag(\"y\",b.deltaY);this.scrollTo(a.x,a.y)},onDragEnd:function(c){var b,a;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(c);this.isDragging=false;b=this.getAnimationEasing(\"x\");a=this.getAnimationEasing(\"y\");if(b||a){this.getTranslatable().animate(b,a)}else{this.onScrollEnd()}},getAnimationEasing:function(g){if(!this.isAxisEnabled(g)){return null}var e=this.position[g],f=this.flickStartPosition[g],k=this.flickStartTime[g],c=this.getMinPosition()[g],j=this.getMaxPosition()[g],a=this.getMaxAbsoluteVelocity(),d=null,b=this.dragEndTime,l,i,h;if(e<c){d=c}else{if(e>j){d=j}}if(d!==null){l=this.getBounceEasing()[g];l.setConfig({startTime:b,startValue:-e,endValue:-d});return l}h=b-k;if(h===0){return null}i=(e-f)/(b-k);if(i===0){return null}if(i<-a){i=-a}else{if(i>a){i=a}}l=this.getMomentumEasing()[g];l.setConfig({startTime:b,startValue:-e,startVelocity:-i,minMomentumValue:-j,maxMomentumValue:0});return l},onAnimationFrame:function(c,b,d){var a=this.position;a.x=-b;a.y=-d;this.fireEvent(\"scroll\",this,a.x,a.y)},onAxisAnimationEnd:function(a){},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;if(this.isTouching||!this.snapToSlot()){this.fireEvent(\"scrollend\",this,a.x,a.y)}},snapToSlot:function(){var b=this.getSnapPosition(\"x\"),a=this.getSnapPosition(\"y\"),c=this.getSlotSnapEasing();if(b!==null||a!==null){this.scrollTo(b,a,{easingX:c.x,easingY:c.y});return true}return false},getSnapPosition:function(c){var g=this.getSlotSnapSize()[c],d=null,a,f,e,b;if(g!==0&&this.isAxisEnabled(c)){a=this.position[c];f=this.getSlotSnapOffset()[c];e=this.getMaxPosition()[c];b=(a-f)%g;if(b!==0){if(Math.abs(b)>g/2){d=a+((b>0)?g-b:b-g);if(d>e){d=a-b}}else{d=a-b}}}return d},snapToBoundary:function(){var g=this.position,c=this.getMinPosition(),f=this.getMaxPosition(),e=c.x,d=c.y,b=f.x,a=f.y,i=Math.round(g.x),h=Math.round(g.y);if(i<e){i=e}else{if(i>b){i=b}}if(h<d){h=d}else{if(h>a){h=a}}this.scrollTo(i,h)},destroy:function(){var b=this.getElement(),a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}if(b&&!b.isDestroyed){b.removeCls(this.cls);this.getContainer().removeCls(this.containerCls)}Ext.destroy(this.translatable);this.callParent(arguments)}},function(){this.override({constructor:function(b){var d,e,a,g,c,f;if(!b){b={}}if(typeof b==\"string\"){b={direction:b}}if(arguments.length==2){Ext.Logger.deprecate(\"Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead\");d=b;b=arguments[1];if(!b){b={}}b.element=d}if(b.hasOwnProperty(\"acceleration\")){e=b.acceleration;delete b.acceleration;Ext.Logger.deprecate(\"'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead\");Ext.merge(b,{momentumEasing:{momentum:{acceleration:e},bounce:{acceleration:e}}})}if(b.hasOwnProperty(\"snap\")){b.slotSnapOffset=b.snap;Ext.Logger.deprecate(\"'snap' config is deprecated, please use the 'slotSnapOffset' config instead\")}if(b.hasOwnProperty(\"friction\")){g=b.friction;delete b.friction;Ext.Logger.deprecate(\"'friction' config is deprecated, set momentumEasing.momentum.friction config instead\");Ext.merge(b,{momentumEasing:{momentum:{friction:g}}})}if(b.hasOwnProperty(\"springTension\")){c=b.springTension;delete b.springTension;Ext.Logger.deprecate(\"'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead\");Ext.merge(b,{momentumEasing:{momentum:{springTension:c}}})}if(b.hasOwnProperty(\"minVelocityForAnimation\")){f=b.minVelocityForAnimation;delete b.minVelocityForAnimation;Ext.Logger.deprecate(\"'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead\");Ext.merge(b,{momentumEasing:{minVelocity:f}})}this.callOverridden(arguments)},scrollToAnimated:function(a,c,b){Ext.Logger.deprecate(\"scrollToAnimated() is deprecated, please use scrollTo() and pass 'animation' as the third argument instead\");return this.scrollTo.apply(this,arguments)},scrollBy:function(a,c,b){if(Ext.isObject(a)){Ext.Logger.deprecate(\"calling scrollBy() with an object of x and y properties is no longer supported. Please pass x and y values as two separate arguments instead\");c=a.y;a=a.x}return this.callOverridden([a,c,b])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})});Ext.define(\"Ext.scroll.indicator.Default\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"default\"},setOffset:function(c){var b=this.getAxis(),a=this.element.dom.style;if(b===\"x\"){a.webkitTransform=\"translate3d(\"+c+\"px, 0, 0)\"}else{a.webkitTransform=\"translate3d(0, \"+c+\"px, 0)\"}},applyLength:function(a){return Math.round(Math.max(0,a))},updateValue:function(f){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,g,a;if(f<=0){g=0;this.updateLength(this.applyLength(d+f*b))}else{if(f>=1){a=Math.round((f-1)*b);e=this.applyLength(d-a);a=d-e;this.updateLength(e);g=c+a}else{g=c*f}}this.setOffset(g)}});Ext.define(\"Ext.scroll.indicator.ScrollPosition\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"scrollposition\"},getElementConfig:function(){var a=this.callParent(arguments);a.children.unshift({className:\"x-scroll-bar-stretcher\"});return a},updateValue:function(a){if(this.gapLength===0){if(a>1){a=a-1}this.setOffset(this.barLength*a)}else{this.setOffset(this.gapLength*a)}},setLength:function(e){var c=this.getAxis(),a=this.barLength,d=this.barElement.dom,b=this.element;this.callParent(arguments);if(c===\"x\"){d.scrollLeft=a;b.setLeft(a)}else{d.scrollTop=a;b.setTop(a)}},setOffset:function(d){var b=this.getAxis(),a=this.barLength,c=this.barElement.dom;d=a-d;if(b===\"x\"){c.scrollLeft=d}else{c.scrollTop=d}}});Ext.define(\"Ext.scroll.indicator.CssTransform\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"csstransform\"},getElementConfig:function(){var a=this.callParent();a.children[0].children=[{reference:\"startElement\"},{reference:\"middleElement\"},{reference:\"endElement\"}];return a},refresh:function(){var d=this.getAxis(),c=this.startElement.dom,a=this.endElement.dom,e=this.middleElement,b,f;if(d===\"x\"){b=c.offsetWidth;f=a.offsetWidth;e.setLeft(b)}else{b=c.offsetHeight;f=a.offsetHeight;e.setTop(b)}this.startElementLength=b;this.endElementLength=f;this.minLength=b+f;this.callParent()},applyLength:function(a){return Math.round(Math.max(this.minLength,a))},updateLength:function(c){var b=this.getAxis(),a=this.endElement.dom.style,e=this.middleElement.dom.style,d=this.endElementLength,g=c-d,f=g-this.startElementLength;if(b===\"x\"){a.webkitTransform=\"translate3d(\"+g+\"px, 0, 0)\";e.webkitTransform=\"translate3d(0, 0, 0) scaleX(\"+f+\")\"}else{a.webkitTransform=\"translate3d(0, \"+g+\"px, 0)\";e.webkitTransform=\"translate3d(0, 0, 0) scaleY(\"+f+\")\"}},updateValue:function(f){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,g,a;if(f<=0){g=0;this.updateLength(this.applyLength(d+f*b))}else{if(f>=1){a=Math.round((f-1)*b);e=this.applyLength(d-a);a=d-e;this.updateLength(e);g=c+a}else{g=c*f}}this.setOffset(g)},setOffset:function(c){var a=this.getAxis(),b=this.element.dom.style;c=Math.round(c);if(a===\"x\"){b.webkitTransform=\"translate3d(\"+c+\"px, 0, 0)\"}else{b.webkitTransform=\"translate3d(0, \"+c+\"px, 0)\"}}});Ext.define(\"Ext.scroll.Indicator\",{requires:[\"Ext.scroll.indicator.Default\",\"Ext.scroll.indicator.ScrollPosition\",\"Ext.scroll.indicator.CssTransform\"],alternateClassName:\"Ext.util.Indicator\",constructor:function(a){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){return new Ext.scroll.indicator.ScrollPosition(a)}else{if(Ext.os.is.iOS){return new Ext.scroll.indicator.CssTransform(a)}else{return new Ext.scroll.indicator.Default(a)}}}});Ext.define(\"Ext.scroll.View\",{extend:\"Ext.Evented\",alternateClassName:\"Ext.util.ScrollView\",requires:[\"Ext.scroll.Scroller\",\"Ext.scroll.Indicator\"],config:{indicatorsUi:\"dark\",element:null,scroller:{},indicators:{x:{axis:\"x\"},y:{axis:\"y\"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+\"scroll-view\"},processConfig:function(c){if(!c){return null}if(typeof c==\"string\"){c={direction:c}}c=Ext.merge({},c);var a=c.scroller,b;if(!a){c.scroller=a={}}for(b in c){if(c.hasOwnProperty(b)){if(!this.hasConfig(b)){a[b]=c[b];delete c[b]}}}return c},constructor:function(a){a=this.processConfig(a);this.useIndicators={x:true,y:true};this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this);this.initConfig(a)},setConfig:function(a){return this.callParent([this.processConfig(a)])},updateIndicatorsUi:function(a){var b=this.getIndicators();b.x.setUi(a);b.y.setUi(a)},applyScroller:function(a,b){return Ext.factory(a,Ext.scroll.Scroller,b)},applyIndicators:function(b,d){var a=Ext.scroll.Indicator,c=this.useIndicators;if(!b){b={}}if(!b.x){c.x=false;b.x={}}if(!b.y){c.y=false;b.y={}}return{x:Ext.factory(b.x,a,d&&d.x),y:Ext.factory(b.y,a,d&&d.y)}},updateIndicators:function(a){this.indicatorsGrid=Ext.Element.create({className:\"x-scroll-bar-grid-wrapper\",children:[{className:\"x-scroll-bar-grid\",children:[{children:[{},{children:[a.y.barElement]}]},{children:[{children:[a.x.barElement]},{}]}]}]})},updateScroller:function(a){a.on({scope:this,scrollstart:\"onScrollStart\",scroll:\"onScroll\",scrollend:\"onScrollEnd\",refresh:\"refreshIndicators\"})},isAxisEnabled:function(a){return this.getScroller().isAxisEnabled(a)&&this.useIndicators[a]},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(c){var b=c.getFirstChild().getFirstChild(),a=this.getScroller();c.addCls(this.getCls());c.insertFirst(this.indicatorsGrid);a.setElement(b);this.refreshIndicators();return this},showIndicators:function(){var a=this.getIndicators();if(this.hasOwnProperty(\"indicatorsHidingTimer\")){clearTimeout(this.indicatorsHidingTimer);delete this.indicatorsHidingTimer}if(this.isAxisEnabled(\"x\")){a.x.show()}if(this.isAxisEnabled(\"y\")){a.y.show()}},hideIndicators:function(){var a=this.getIndicatorsHidingDelay();if(a>0){this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,a)}else{this.doHideIndicators()}},doHideIndicators:function(){var a=this.getIndicators();if(this.isAxisEnabled(\"x\")){a.x.hide()}if(this.isAxisEnabled(\"y\")){a.y.hide()}},onScrollStart:function(){this.onScroll.apply(this,arguments);this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(b,a,c){this.setIndicatorValue(\"x\",a);this.setIndicatorValue(\"y\",c);if(this.isBenchmarking){this.framesCount++}},isBenchmarking:false,framesCount:0,getCurrentFps:function(){var a=Date.now(),b;if(!this.isBenchmarking){this.isBenchmarking=true;b=0}else{b=Math.round(this.framesCount*1000/(a-this.framesCountStartTime))}this.framesCountStartTime=a;this.framesCount=0;return b},setIndicatorValue:function(b,f){if(!this.isAxisEnabled(b)){return this}var a=this.getScroller(),c=a.getMaxPosition()[b],e=a.getContainerSize()[b],d;if(c===0){d=f/e;if(f>=0){d+=1}}else{if(f>c){d=1+((f-c)/e)}else{if(f<0){d=f/e}else{d=f/c}}}this.getIndicators()[b].setValue(d)},refreshIndicator:function(d){if(!this.isAxisEnabled(d)){return this}var a=this.getScroller(),b=this.getIndicators()[d],e=a.getContainerSize()[d],f=a.getSize()[d],c=e/f;b.setRatio(c);b.refresh()},refresh:function(){return this.getScroller().refresh()},refreshIndicators:function(){var a=this.getIndicators();a.x.setActive(this.isAxisEnabled(\"x\"));a.y.setActive(this.isAxisEnabled(\"y\"));this.refreshIndicator(\"x\");this.refreshIndicator(\"y\")},destroy:function(){var a=this.getElement(),b=this.getIndicators();if(a&&!a.isDestroyed){a.removeCls(this.getCls())}b.x.destroy();b.y.destroy();Ext.destroy(this.getScroller(),this.indicatorsGrid);delete this.indicatorsGrid;this.callParent(arguments)}});Ext.define(\"Ext.behavior.Scrollable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.scroll.View\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(d){var b=this.scrollView,c=this.component,e,a;if(d){if(!b){this.scrollView=b=new Ext.scroll.View(d);b.on(\"destroy\",\"onScrollViewDestroy\",this);c.setUseBodyElement(true);this.scrollerElement=a=c.innerElement;this.scrollContainer=a.wrap();this.scrollViewElement=e=c.bodyElement;b.setElement(e);if(c.isPainted()){this.onComponentPainted(c)}c.on(this.listeners)}else{if(Ext.isString(d)||Ext.isObject(d)){b.setConfig(d)}}}else{if(b){b.destroy()}}return this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var b=this.component,a=this.scrollerElement;if(!a.isDestroyed){this.scrollerElement.unwrap()}this.scrollContainer.destroy();b.un(this.listeners);delete this.scrollerElement;delete this.scrollView;delete this.scrollContainer},onComponentDestroy:function(){var a=this.scrollView;if(a){a.destroy()}}});Ext.define(\"Ext.fx.layout.card.Style\",{extend:\"Ext.fx.layout.card.Abstract\",requires:[\"Ext.fx.Animation\"],config:{inAnimation:{before:{visibility:null},preserveEndState:false,replacePrevious:true},outAnimation:{preserveEndState:false,replacePrevious:true}},constructor:function(b){var c,a;this.initConfig(b);this.endAnimationCounter=0;c=this.getInAnimation();a=this.getOutAnimation();c.on(\"animationend\",\"incrementEnd\",this);a.on(\"animationend\",\"incrementEnd\",this)},updateDirection:function(a){this.getInAnimation().setDirection(a);this.getOutAnimation().setDirection(a)},updateDuration:function(a){this.getInAnimation().setDuration(a);this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)},incrementEnd:function(){this.endAnimationCounter++;if(this.endAnimationCounter>1){this.endAnimationCounter=0;this.fireEvent(\"animationend\",this)}},applyInAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},applyOutAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,e,h,i,d){var b=this.getInAnimation(),g=this.getOutAnimation(),f,c;if(e&&h&&h.isPainted()){f=e.renderElement;c=h.renderElement;b.setElement(f);g.setElement(c);g.setOnBeforeEnd(function(j,k){if(k||Ext.Animator.hasRunningAnimations(j)){d.firingArguments[1]=null;d.firingArguments[2]=null}});g.setOnEnd(function(){d.resume()});f.dom.style.setProperty(\"visibility\",\"hidden\",\"!important\");e.show();Ext.Animator.run([g,b]);d.pause()}}});Ext.define(\"Ext.fx.layout.card.Slide\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.slide\",config:{inAnimation:{type:\"slide\",easing:\"ease-out\"},outAnimation:{type:\"slide\",easing:\"ease-out\",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Cover\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.cover\",config:{reverse:null,inAnimation:{before:{\"z-index\":100},after:{\"z-index\":0},type:\"slide\",easing:\"ease-out\"},outAnimation:{easing:\"ease-out\",from:{opacity:0.99},to:{opacity:1},out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Reveal\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.reveal\",config:{inAnimation:{easing:\"ease-out\",from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{\"z-index\":100},after:{\"z-index\":0},type:\"slide\",easing:\"ease-out\",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Fade\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.fade\",config:{reverse:null,inAnimation:{type:\"fade\",easing:\"ease-out\"},outAnimation:{type:\"fade\",easing:\"ease-out\",out:true}}});Ext.define(\"Ext.fx.layout.card.Flip\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.flip\",config:{duration:500,inAnimation:{type:\"flip\",half:true,easing:\"ease-out\",before:{\"backface-visibility\":\"hidden\"},after:{\"backface-visibility\":null}},outAnimation:{type:\"flip\",half:true,easing:\"ease-in\",before:{\"backface-visibility\":\"hidden\"},after:{\"backface-visibility\":null},out:true}},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c);b.setDuration(c);a.setDuration(c)}});Ext.define(\"Ext.fx.layout.card.Pop\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.pop\",config:{duration:500,inAnimation:{type:\"pop\",easing:\"ease-out\"},outAnimation:{type:\"pop\",easing:\"ease-in\",out:true}},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c);b.setDuration(c);a.setDuration(c)}});Ext.define(\"Ext.fx.layout.Card\",{requires:[\"Ext.fx.layout.card.Slide\",\"Ext.fx.layout.card.Cover\",\"Ext.fx.layout.card.Reveal\",\"Ext.fx.layout.card.Fade\",\"Ext.fx.layout.card.Flip\",\"Ext.fx.layout.card.Pop\",\"Ext.fx.layout.card.Scroll\"],constructor:function(b){var a=Ext.fx.layout.card.Abstract,c;if(!b){return null}if(typeof b==\"string\"){c=b;b={}}else{if(b.type){c=b.type}}b.elementBox=false;if(c){if(Ext.os.is.Android2){if(c!=\"fade\"){c=\"scroll\"}}else{if(c===\"slide\"&&Ext.browser.is.ChromeMobile){c=\"scroll\"}}a=Ext.ClassManager.getByAlias(\"fx.layout.card.\"+c);if(!a){Ext.Logger.error(\"Unknown card animation type: '\"+c+\"'\")}}return Ext.factory(b,a)}});Ext.define(\"Ext.layout.Card\",{extend:\"Ext.layout.Fit\",alternateClassName:\"Ext.layout.CardLayout\",isCard:true,requires:[\"Ext.fx.layout.Card\"],alias:\"layout.card\",cls:Ext.baseCSSPrefix+\"layout-card\",itemCls:Ext.baseCSSPrefix+\"layout-card-item\",constructor:function(){this.callParent(arguments);this.container.onInitialized(this.onContainerInitialized,this)},applyAnimation:function(a){return new Ext.fx.layout.Card(a)},updateAnimation:function(b,a){if(b&&b.isAnimation){b.setLayout(this)}if(a){a.destroy()}},doItemAdd:function(b,a){if(b.isInnerItem()){b.hide()}this.callParent(arguments)},getInnerItemsContainer:function(){var a=this.innerItemsContainer;if(!a){this.innerItemsContainer=a=Ext.Element.create({className:this.cls+\"-container\"});this.container.innerElement.append(a)}return a},doItemRemove:function(c,a,b){this.callParent(arguments);if(!b&&c.isInnerItem()){c.show()}},onContainerInitialized:function(a){var b=a.getActiveItem();if(b){b.show()}a.on(\"activeitemchange\",\"onContainerActiveItemChange\",this)},onContainerActiveItemChange:function(a){this.relayEvent(arguments,\"doActiveItemChange\")},doActiveItemChange:function(b,c,a){if(a){a.hide()}if(c){c.show()}},doItemDockedChange:function(b,c){var a=b.element;if(c){a.removeCls(this.itemCls)}else{a.addCls(this.itemCls)}this.callParent(arguments)}});Ext.define(\"Ext.layout.Layout\",{requires:[\"Ext.layout.Fit\",\"Ext.layout.Card\",\"Ext.layout.HBox\",\"Ext.layout.VBox\"],constructor:function(a,b){var c=Ext.layout.Default,d,e;if(typeof b==\"string\"){d=b;b={}}else{if(\"type\" in b){d=b.type}}if(d){c=Ext.ClassManager.getByAlias(\"layout.\"+d);if(!c){Ext.Logger.error(\"Unknown layout type of: '\"+d+\"'\")}}return new c(a,b)}});Ext.define(\"Ext.Container\",{extend:\"Ext.Component\",alternateClassName:\"Ext.lib.Container\",requires:[\"Ext.layout.Layout\",\"Ext.ItemCollection\",\"Ext.behavior.Scrollable\",\"Ext.Mask\"],xtype:\"container\",eventedConfig:{activeItem:0},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:true,defaultType:null,scrollable:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:true,delegateListeners:{delegate:\"> component\",centeredchange:\"onItemCenteredChange\",dockedchange:\"onItemDockedChange\",floatingchange:\"onItemFloatingChange\"},constructor:function(a){var b=this;b._items=b.items=new Ext.ItemCollection();b.innerItems=[];b.onItemAdd=b.onFirstItemAdd;b.callParent(arguments)},getElementConfig:function(){return{reference:\"element\",className:\"x-container\",children:[{reference:\"innerElement\",className:\"x-inner\"}]}},applyMasked:function(a,b){b=Ext.factory(a,Ext.Mask,b);if(b){this.add(b)}return b},mask:function(a){this.setMasked(a||true)},unmask:function(){this.setMasked(false)},applyModal:function(a,b){if(!a&&!b){return}return Ext.factory(a,Ext.Mask,b)},updateModal:function(c,a){var b={painted:\"refreshModalMask\",erased:\"destroyModalMask\"};if(c){this.on(b);c.on(\"destroy\",\"onModalDestroy\",this);if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&!this.getCentered()){Ext.Logger.warn(\"You have specified a modal config on a container that is neither centered nor has any positioning information.  Setting to top and left to 0 to compensate.\");this.setTop(0);this.setLeft(0)}if(this.isPainted()){this.refreshModalMask()}}else{if(a){a.un(\"destroy\",\"onModalDestroy\",this);this.un(b)}}},onModalDestroy:function(){this.setModal(null)},refreshModalMask:function(){var b=this.getModal(),a=this.getParent();if(!this.painted){this.painted=true;if(b){a.insertBefore(b,this);b.setZIndex(this.getZIndex()-1);if(this.getHideOnMaskTap()){b.on(\"tap\",\"hide\",this,{single:true})}}}},destroyModalMask:function(){var b=this.getModal(),a=this.getParent();if(this.painted){this.painted=false;if(b){b.un(\"tap\",\"hide\",this);a.remove(b,false)}}},updateZIndex:function(b){var a=this.getModal();this.callParent(arguments);if(a){a.setZIndex(b-1)}},updateBaseCls:function(a,b){var c=this,d=c.getUi();if(a){this.element.addCls(a);this.innerElement.addCls(a,null,\"inner\");if(d){this.element.addCls(a,null,d)}}if(b){this.element.removeCls(b);this.innerElement.removeCls(a,null,\"inner\");if(d){this.element.removeCls(b,null,d)}}},updateUseBodyElement:function(a){if(a){this.bodyElement=this.innerElement.wrap({cls:\"x-body\"});this.referenceList.push(\"bodyElement\")}},applyItems:function(a,b){if(a){this.getDefaultType();this.getDefaults();if(this.initialized&&b.length>0){this.removeAll()}this.add(a)}},applyControl:function(c){var a,b,e,d;for(a in c){d=c[a];for(b in d){e=d[b];if(Ext.isObject(e)){e.delegate=a}}d.delegate=a;this.addListener(d)}return c},onFirstItemAdd:function(){delete this.onItemAdd;this.setLayout(new Ext.layout.Layout(this,this.getLayout()||\"default\"));if(this.innerHtmlElement&&!this.getHtml()){this.innerHtmlElement.destroy();delete this.innerHtmlElement}this.on(this.delegateListeners);return this.onItemAdd.apply(this,arguments)},updateLayout:function(b,a){if(a&&a.isLayout){Ext.Logger.error(\"Replacing a layout after one has already been initialized is not currently supported.\")}},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias(\"widget.\"+a);if(!this.defaultItemClass){Ext.Logger.error(\"Invalid defaultType of: '\"+a+\"', must be a valid component xtype\")}},applyDefaults:function(a){if(a){this.factoryItem=this.factoryItemWithDefaults;return a}},factoryItem:function(a){if(!a){Ext.Logger.error(\"Invalid item given: \"+a+\", must be either the config object to factory a new item, or an existing component instance\")}return Ext.factory(a,this.defaultItemClass)},factoryItemWithDefaults:function(c){if(!c){Ext.Logger.error(\"Invalid item given: \"+c+\", must be either the config object to factory a new item, or an existing component instance\")}var b=this,d=b.getDefaults(),a;if(!d){return Ext.factory(c,b.defaultItemClass)}if(c.isComponent){a=c;if(d&&c.isInnerItem()&&!b.has(a)){a.setConfig(d,true)}}else{if(d&&!c.ignoreDefaults){if(!(c.hasOwnProperty(\"left\")&&c.hasOwnProperty(\"right\")&&c.hasOwnProperty(\"top\")&&c.hasOwnProperty(\"bottom\")&&c.hasOwnProperty(\"docked\")&&c.hasOwnProperty(\"centered\"))){c=Ext.mergeIf({},c,d)}}a=Ext.factory(c,b.defaultItemClass)}return a},add:function(a){var e=this,b,d,c,f;a=Ext.Array.from(a);d=a.length;for(b=0;b<d;b++){c=e.factoryItem(a[b]);this.doAdd(c);if(!f&&!this.getActiveItem()&&this.innerItems.length>0&&c.isInnerItem()){f=c}}if(f){this.setActiveItem(f)}return c},doAdd:function(d){var c=this,a=c.getItems(),b;if(!a.has(d)){b=a.length;a.add(d);if(d.isInnerItem()){c.insertInner(d)}d.setParent(c);c.onItemAdd(d,b)}},remove:function(d,b){var c=this,a=c.indexOf(d),e=c.getInnerItems();if(b===undefined){b=c.getAutoDestroy()}if(a!==-1){if(!c.removingAll&&e.length>1&&d===c.getActiveItem()){c.on({activeitemchange:\"doRemove\",scope:c,single:true,order:\"after\",args:[d,a,b]});c.doResetActiveItem(e.indexOf(d))}else{c.doRemove(d,a,b);if(e.length===0){c.setActiveItem(null)}}}return c},doResetActiveItem:function(a){if(a===0){this.setActiveItem(1)}else{this.setActiveItem(0)}},doRemove:function(d,a,b){var c=this;c.items.remove(d);if(d.isInnerItem()){c.removeInner(d)}c.onItemRemove(d,a,b);d.setParent(null);if(b){d.destroy()}},removeAll:function(c,f){var a=this.items,e=a.length,b=0,d;if(c===undefined){c=this.getAutoDestroy()}f=Boolean(f);this.removingAll=true;for(;b<e;b++){d=a.getAt(b);if(d&&(f||d.isInnerItem())){this.doRemove(d,b,c);b--;e--}}this.removingAll=false;return this},getAt:function(a){return this.items.getAt(a)},removeAt:function(a){var b=this.getAt(a);if(b){this.remove(b)}return this},removeInnerAt:function(a){var b=this.getInnerItems()[a];if(b){this.remove(b)}return this},has:function(a){return this.getItems().indexOf(a)!=-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!=-1},indexOf:function(a){return this.getItems().indexOf(a)},insertInner:function(d,b){var a=this.getItems().items,f=this.innerItems,g=f.indexOf(d),c=-1,e;if(g!==-1){f.splice(g,1)}if(typeof b==\"number\"){do{e=a[++b]}while(e&&!e.isInnerItem());if(e){c=f.indexOf(e);f.splice(c,0,d)}}if(c===-1){f.push(d);c=f.length-1}if(g!==-1){this.onInnerItemMove(d,c,g)}return this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){Ext.Array.remove(this.innerItems,a);return this},insert:function(a,d){var c=this,b;if(Ext.isArray(d)){for(b=d.length-1;b>=0;b--){c.insert(a,d[b])}return c}d=this.factoryItem(d);this.doInsert(a,d);return d},doInsert:function(d,f){var e=this,b=e.items,c=b.length,a,g;g=f.isInnerItem();if(d>c){d=c}if(b[d-1]===f){return e}a=e.indexOf(f);if(a!==-1){if(a<d){d-=1}b.removeAt(a)}else{f.setParent(e)}b.insert(d,f);if(g){e.insertInner(f,d)}if(a!==-1){e.onItemMove(f,d,a)}else{e.onItemAdd(f,d)}},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,a)},insertBefore:function(c,a){var b=this.indexOf(a);if(b!==-1){this.insert(b,c)}return this},insertAfter:function(c,a){var b=this.indexOf(a);if(b!==-1){this.insert(b+1,c)}return this},onItemAdd:function(b,a){this.doItemLayoutAdd(b,a);if(this.initialized){this.fireEvent(\"add\",this,b,a)}},doItemLayoutAdd:function(c,a){var b=this.getLayout();if(this.isRendered()&&c.setRendered(true)){c.fireAction(\"renderedchange\",[this,c,true],\"onItemAdd\",b,{args:[c,a]})}else{b.onItemAdd(c,a)}},onItemRemove:function(b,a){this.doItemLayoutRemove(b,a);this.fireEvent(\"remove\",this,b,a)},doItemLayoutRemove:function(c,a){var b=this.getLayout();if(this.isRendered()&&c.setRendered(false)){c.fireAction(\"renderedchange\",[this,c,false],\"onItemRemove\",b,{args:[c,a,undefined]})}else{b.onItemRemove(c,a)}},onItemMove:function(b,c,a){if(b.isDocked()){b.setDocked(null)}this.doItemLayoutMove(b,c,a);this.fireEvent(\"move\",this,b,c,a)},doItemLayoutMove:function(b,c,a){this.getLayout().onItemMove(b,c,a)},onItemCenteredChange:function(b,a){if(!b.isFloating()&&!b.isDocked()){if(a){this.removeInner(b)}else{this.insertInner(b,this.indexOf(b))}}this.getLayout().onItemCenteredChange(b,a)},onItemFloatingChange:function(a,b){if(!a.isCentered()&&!a.isDocked()){if(b){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemFloatingChange(a,b)},onItemDockedChange:function(a,c,b){if(!a.isCentered()&&!a.isFloating()){if(c){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemDockedChange(a,c,b)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var a=this.getItems().items,c=[],e=a.length,d,b;for(b=0;b<e;b++){d=a[b];if(d.isDocked()){c.push(d)}}return c},applyActiveItem:function(c,a){var b=this.getInnerItems();this.getItems();if(!c&&b.length===0){return 0}else{if(typeof c==\"number\"){c=Math.max(0,Math.min(c,b.length-1));c=b[c];if(c){return c}else{if(a){return null}}}else{if(c){if(!c.isComponent){c=this.factoryItem(c)}if(!c.isInnerItem()){Ext.Logger.error(\"Setting activeItem to be a non-inner item\")}if(!this.has(c)){this.add(c)}return c}}}},animateActiveItem:function(d,c){var b=this.getLayout(),a;if(this.activeItemAnimation){this.activeItemAnimation.destroy()}this.activeItemAnimation=c=new Ext.fx.layout.Card(c);if(c&&b.isCard){c.setLayout(b);a=b.getAnimation();if(a){a.disable();c.on(\"animationend\",function(){a.enable();c.destroy()},this)}}return this.setActiveItem(d)},doSetActiveItem:function(b,a){if(a){a.fireEvent(\"deactivate\",a,this,b)}if(b){b.fireEvent(\"activate\",b,this,a)}},setRendered:function(d){if(this.callParent(arguments)){var a=this.items.items,b,c;for(b=0,c=a.length;b<c;b++){a[b].setRendered(d)}return true}return false},getScrollableBehavior:function(){var a=this.scrollableBehavior;if(!a){a=this.scrollableBehavior=new Ext.behavior.Scrollable(this)}return a},applyScrollable:function(a){this.getScrollableBehavior().setConfig(a)},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(a){var b=this.getItems().items.slice(),e=b.length,c,d;if(a){for(c=0;c<e;c++){d=b[c];if(d.getRefItems){b=b.concat(d.getRefItems(true))}}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.getItems().get(a)},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var c=this.getDockedItems(),e=c.length,d,b;if(Ext.isNumber(a)){return c[a]}for(b=0;b<e;b++){d=c[b];if(d.id==a){return d}}return false},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query(\"> \"+a)[0]||null},down:function(a){return this.query(a)[0]||null},onClassExtended:function(b,a){if(\"onAdd\" in a||\"onRemove\" in a){throw new Error(\"[\"+b.$className+\"] 'onAdd()' and 'onRemove()' methods no longer exist in Ext.Container, please use 'onItemAdd()' and 'onItemRemove()' instead }\")}},destroy:function(){var a=this.getModal();if(a){a.destroy()}this.removeAll(true,true);Ext.destroy(this.getScrollable(),this.bodyElement);this.callParent()}},function(){this.addMember(\"defaultItemClass\",this);Ext.deprecateClassMethod(this,\"addAll\",\"add\");Ext.deprecateClassMethod(this,\"removeDocked\",\"remove\");this.override({constructor:function(a){a=a||{};var c=a.dockedItems,b,e,d;if(a.scroll){Ext.Logger.deprecate(\"'scroll' config is deprecated, please use 'scrollable' instead.\",this);a.scrollable=a.scroll;delete a.scroll}this.callParent(arguments);if(c){Ext.Logger.deprecate(\"'dockedItems' config is deprecated, please add all docked items inside the 'items' config with a 'docked' property indicating the docking position instead, i.e { /*...*/ docked: 'top' /*...*/ }\");c=Ext.Array.from(c);for(b=0,e=c.length;b<e;b++){d=c[b];if(\"dock\" in d){Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");d.docked=d.dock}}this.add(c)}},add:function(){var a=arguments;if(a.length>1){if(typeof a[0]==\"number\"){Ext.Logger.deprecate(\"add(index, item) method signature is deprecated, please use insert(index, item) instead\");return this.insert(a[0],a[1])}Ext.Logger.deprecate(\"Passing items as multiple arguments is deprecated, please use one single array of items instead\");a=[Array.prototype.slice.call(a)]}return this.callParent(a)},doAdd:function(c){var d=c.getDocked(),b=c.overlay,a;if(b&&d){Ext.Logger.deprecate(\"'overlay' config is deprecated on docked items, please set the top/left/right/bottom configurations instead.\",this);if(d==\"top\"){a={top:0,bottom:\"auto\",left:0,right:0}}else{if(d==\"bottom\"){a={top:null,bottom:0,left:0,right:0}}}if(a){c.setDocked(false);c.setTop(a.top);c.setBottom(a.bottom);c.setLeft(a.left);c.setRight(a.right)}}return this.callOverridden(arguments)},applyDefaults:function(a){if(typeof a==\"function\"){Ext.Logger.deprecate(\"Passing a function as 'defaults' is deprecated. To add custom logics when 'defaults' is applied to each item, have your own factoryItem() method in your sub-class instead\")}return this.callParent(arguments)},factoryItemWithDefaults:function(b){var d=this.getDefaults(),c,a;if(typeof d==\"function\"){c=d.call(this,b)}if(typeof b==\"string\"){Ext.Logger.deprecate(\"Passing a string id of item ('\"+b+\"') is deprecated, please pass a reference to that item instead\");b=Ext.getCmp(b)}if(c){this._defaults=c}a=this.callParent([b]);if(c){this._defaults=d}return a},applyMasked:function(a){if(Ext.isObject(a)&&!a.isInstance&&\"message\" in a&&!(\"xtype\" in a)&&!(\"xclass\" in a)){a.xtype=\"loadmask\";Ext.Logger.deprecate(\"Using a 'message' config without specify an 'xtype' or 'xclass' will no longer implicitly set 'xtype' to 'loadmask'. Please set that explicitly.\")}return this.callOverridden(arguments)}});Ext.deprecateClassMethod(this,\"setMask\",\"setMasked\")});Ext.define(\"Ext.viewport.Default\",{extend:\"Ext.Container\",xtype:\"viewport\",PORTRAIT:\"portrait\",LANDSCAPE:\"landscape\",requires:[\"Ext.LoadMask\"],config:{autoMaximize:false,autoBlurInput:true,preventPanning:true,preventZooming:false,autoRender:true,layout:\"card\",width:\"100%\",height:\"100%\"},isReady:false,isViewport:true,isMaximizing:false,id:\"ext-viewport\",isInputRegex:/^(input|textarea|select|a)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+\"fullscreen\",constructor:function(a){var b=Ext.Function.bind;this.doPreventPanning=b(this.doPreventPanning,this);this.doPreventZooming=b(this.doPreventZooming,this);this.doBlurInput=b(this.doBlurInput,this);this.maximizeOnEvents=[\"ready\",\"orientationchange\"];this.orientation=this.determineOrientation();this.windowWidth=this.getWindowWidth();this.windowHeight=this.getWindowHeight();this.windowOuterHeight=this.getWindowOuterHeight();if(!this.stretchHeights){this.stretchHeights={}}this.callParent([a]);if(this.supportsOrientation()){this.addWindowListener(\"orientationchange\",b(this.onOrientationChange,this))}else{this.addWindowListener(\"resize\",b(this.onResize,this))}document.addEventListener(\"focus\",b(this.onElementFocus,this),true);document.addEventListener(\"blur\",b(this.onElementBlur,this),true);Ext.onDocumentReady(this.onDomReady,this);this.on(\"ready\",this.onReady,this,{single:true});this.getEventDispatcher().addListener(\"component\",\"*\",\"fullscreen\",\"onItemFullscreenChange\",this);return this},onDomReady:function(){this.isReady=true;this.updateSize();this.fireEvent(\"ready\",this)},onReady:function(){if(this.getAutoRender()){this.render()}},onElementFocus:function(a){this.focusedElement=a.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var a=Ext.getBody(),b=Ext.baseCSSPrefix,h=[],d=Ext.os,g=d.name.toLowerCase(),f=Ext.browser.name.toLowerCase(),e=d.version.getMajor(),c=this.getOrientation();this.renderTo(a);h.push(b+d.deviceType.toLowerCase());if(d.is.iPad){h.push(b+\"ipad\")}h.push(b+g);h.push(b+f);if(e){h.push(b+g+\"-\"+e)}if(d.is.BlackBerry){h.push(b+\"bb\")}if(Ext.browser.is.Standalone){h.push(b+\"standalone\")}h.push(b+c);a.addCls(h)}},applyAutoBlurInput:function(a){var b=(Ext.feature.has.Touch)?\"touchstart\":\"mousedown\";if(a){this.addWindowListener(b,this.doBlurInput,false)}else{this.removeWindowListener(b,this.doBlurInput,false)}return a},applyAutoMaximize:function(a){if(Ext.browser.is.WebView){a=false}if(a){this.on(\"ready\",\"doAutoMaximizeOnReady\",this,{single:true});this.on(\"orientationchange\",\"doAutoMaximizeOnOrientationChange\",this)}else{this.un(\"ready\",\"doAutoMaximizeOnReady\",this);this.un(\"orientationchange\",\"doAutoMaximizeOnOrientationChange\",this)}return a},applyPreventPanning:function(a){if(a){this.addWindowListener(\"touchmove\",this.doPreventPanning,false)}else{this.removeWindowListener(\"touchmove\",this.doPreventPanning,false)}return a},applyPreventZooming:function(a){var b=(Ext.feature.has.Touch)?\"touchstart\":\"mousedown\";if(a){this.addWindowListener(b,this.doPreventZooming,false)}else{this.removeWindowListener(b,this.doPreventZooming,false)}return a},doAutoMaximizeOnReady:function(){var a=arguments[arguments.length-1];a.pause();this.isMaximizing=true;this.on(\"maximize\",function(){this.isMaximizing=false;this.updateSize();a.resume();this.fireEvent(\"ready\",this)},this,{single:true});this.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=arguments[arguments.length-1],b=a.firingArguments;a.pause();this.isMaximizing=true;this.on(\"maximize\",function(){this.isMaximizing=false;this.updateSize();b[1]=this.windowWidth;b[2]=this.windowHeight;a.resume()},this,{single:true});this.maximize()},doBlurInput:function(b){var a=b.target,c=this.focusedElement;if(c&&!this.isInputRegex.test(a.tagName)){delete this.focusedElement;c.blur()}},doPreventPanning:function(a){a.preventDefault()},doPreventZooming:function(b){if(\"button\" in b&&b.button!==0){return}var a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)){b.preventDefault()}},addWindowListener:function(b,c,a){window.addEventListener(b,c,Boolean(a))},removeWindowListener:function(b,c,a){window.removeEventListener(b,c,Boolean(a))},doAddListener:function(a,d,c,b){if(a===\"ready\"&&this.isReady&&!this.isMaximizing){d.call(c);return this}this.mixins.observable.doAddListener.apply(this,arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var c=this.windowWidth,f=this.windowHeight,e=this.getWindowWidth(),a=this.getWindowHeight(),d=this.getOrientation(),b=this.determineOrientation();if((c!==e||f!==a)&&d!==b){this.fireOrientationChangeEvent(b,d)}},onOrientationChange:function(){var b=this.getOrientation(),a=this.determineOrientation();if(a!==b){this.fireOrientationChangeEvent(a,b)}},fireOrientationChangeEvent:function(b,c){var a=Ext.baseCSSPrefix;Ext.getBody().replaceCls(a+c,a+b);this.orientation=b;this.updateSize();this.fireEvent(\"orientationchange\",this,b,this.windowWidth,this.windowHeight)},updateSize:function(b,a){this.windowWidth=b!==undefined?b:this.getWindowWidth();this.windowHeight=a!==undefined?a:this.getWindowHeight();return this},waitUntil:function(h,e,g,a,f){if(!a){a=50}if(!f){f=2000}var c=this,b=0;setTimeout(function d(){b+=a;if(h.call(c)===true){if(e){e.call(c)}}else{if(b>=f){if(g){g.call(c)}}else{setTimeout(d,a)}}},a)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize();this.fireEvent(\"maximize\",this)},doSetHeight:function(a){Ext.getBody().setHeight(a);this.callParent(arguments)},doSetWidth:function(a){Ext.getBody().setWidth(a);this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var b=this.PORTRAIT,a=this.LANDSCAPE;if(this.supportsOrientation()){if(this.getWindowOrientation()%180===0){return b}return a}else{if(this.getWindowHeight()>=this.getWindowWidth()){return b}return a}},onItemFullscreenChange:function(a){a.addCls(this.fullscreenItemCls);this.add(a)}});Ext.define(\"Ext.viewport.Ios\",{extend:\"Ext.viewport.Default\",isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===true},constructor:function(){this.callParent(arguments);if(this.getAutoMaximize()&&!this.isFullscreen()){this.addWindowListener(\"touchstart\",Ext.Function.bind(this.onTouchStart,this))}},maximize:function(){if(this.isFullscreen()){return this.callParent()}var c=this.stretchHeights,b=this.orientation,d=this.getWindowHeight(),a=c[b];if(window.scrollY>0){this.scrollToTop();if(!a){c[b]=a=this.getWindowHeight()}this.setHeight(a);this.fireMaximizeEvent()}else{if(!a){a=this.getScreenHeight()}this.setHeight(a);this.waitUntil(function(){this.scrollToTop();return d!==this.getWindowHeight()},function(){if(!c[b]){a=c[b]=this.getWindowHeight();this.setHeight(a)}this.fireMaximizeEvent()},function(){Ext.Logger.error(\"Timeout waiting for window.innerHeight to change\",this);a=c[b]=this.getWindowHeight();this.setHeight(a);this.fireMaximizeEvent()},50,1000)}},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?\"height\":\"width\"]},onElementFocus:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){clearTimeout(this.scrollToTopTimer)}this.callParent(arguments)},onElementBlur:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){this.scrollToTopTimer=setTimeout(this.scrollToTop,500)}this.callParent(arguments)},onTouchStart:function(){if(this.focusedElement===null){this.scrollToTop()}},scrollToTop:function(){window.scrollTo(0,0)}},function(){if(!Ext.os.is.iOS){return}if(Ext.os.version.lt(\"3.2\")){this.override({constructor:function(){var a=this.stretchHeights={};a[this.PORTRAIT]=416;a[this.LANDSCAPE]=268;return this.callOverridden(arguments)}})}if(Ext.os.version.lt(\"5\")){this.override({fieldMaskClsTest:\"-field-mask\",doPreventZooming:function(b){var a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)&&a.className.indexOf(this.fieldMaskClsTest)==-1){b.preventDefault()}}})}if(Ext.os.is.iPad){this.override({isFullscreen:function(){return true}})}});Ext.define(\"Ext.viewport.Android\",{extend:\"Ext.viewport.Default\",constructor:function(){this.on(\"orientationchange\",\"doFireOrientationChangeEvent\",this,{prepend:true});this.on(\"orientationchange\",\"hideKeyboardIfNeeded\",this,{prepend:true});return this.callParent(arguments)},getDummyInput:function(){var a=this.dummyInput,c=this.focusedElement,b=Ext.fly(c).getPageBox();if(!a){this.dummyInput=a=document.createElement(\"input\");a.style.position=\"absolute\";a.style.opacity=\"0\";document.body.appendChild(a)}a.style.left=b.left+\"px\";a.style.top=b.top+\"px\";a.style.display=\"\";return a},doBlurInput:function(c){var b=c.target,d=this.focusedElement,a;if(d&&!this.isInputRegex.test(b.tagName)){a=this.getDummyInput();delete this.focusedElement;a.focus();setTimeout(function(){a.style.display=\"none\"},100)}},hideKeyboardIfNeeded:function(){var a=arguments[arguments.length-1],b=this.focusedElement;if(b){delete this.focusedElement;a.pause();if(Ext.os.version.lt(\"4\")){b.style.display=\"none\"}else{b.blur()}setTimeout(function(){b.style.display=\"\";a.resume()},1000)}},doFireOrientationChangeEvent:function(){var a=arguments[arguments.length-1];this.orientationChanging=true;a.pause();this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight();this.updateSize();a.firingArguments[1]=this.windowWidth;a.firingArguments[2]=this.windowHeight;a.resume();this.orientationChanging=false},function(){Ext.Logger.error(\"Timeout waiting for viewport's outerHeight to change before firing orientationchange\",this)});return this},applyAutoMaximize:function(a){a=this.callParent(arguments);this.on(\"add\",\"fixSize\",this,{single:true});if(!a){this.on(\"ready\",\"fixSize\",this,{single:true});this.onAfter(\"orientationchange\",\"doFixSize\",this)}else{this.un(\"ready\",\"fixSize\",this);this.unAfter(\"orientationchange\",\"doFixSize\",this)}},fixSize:function(){this.doFixSize()},doFixSize:function(){this.setHeight(this.getWindowHeight())},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var c=this.stretchHeights,b=this.orientation,a;a=c[b];if(!a){c[b]=a=this.getActualWindowOuterHeight()}if(!this.addressBarHeight){this.addressBarHeight=a-this.getWindowHeight()}this.setHeight(a);var d=Ext.Function.bind(this.isHeightMaximized,this,[a]);this.scrollToTop();this.waitUntil(d,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a}},function(){if(!Ext.os.is.Android){return}var a=Ext.os.version,b=Ext.browser.userAgent,c=/(htc|desire|incredible|ADR6300)/i.test(b)&&a.lt(\"2.3\");if(c){this.override({constructor:function(d){if(!d){d={}}d.autoMaximize=false;this.watchDogTick=Ext.Function.bind(this.watchDogTick,this);setInterval(this.watchDogTick,1000);return this.callParent([d])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var e=Ext.Date.now(),f=this.watchDogLastTick,d=e-f;if(d>=2000){return}return this.callParent(arguments)},doPreventZooming:function(){var e=Ext.Date.now(),f=this.watchDogLastTick,d=e-f;if(d>=2000){return}return this.callParent(arguments)}})}if(a.match(\"2\")){this.override({onReady:function(){this.addWindowListener(\"resize\",Ext.Function.bind(this.onWindowResize,this));this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var e=this.windowWidth,g=this.windowHeight,f=this.getWindowWidth(),d=this.getWindowHeight();if(this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&e===f&&d<g&&((d>=g-this.addressBarHeight)||!this.focusedElement)){this.scrollToTop()}},fixSize:function(){var d=this.getOrientation(),f=window.outerHeight,g=window.outerWidth,e;if(d===\"landscape\"&&(f<g)||d===\"portrait\"&&(f>=g)){e=this.getActualWindowOuterHeight()}else{e=this.getWindowHeight()}this.waitUntil(function(){return e>this.getWindowHeight()},this.doFixSize,this.doFixSize,50,1000)}})}else{if(a.gtEq(\"3.1\")){this.override({isHeightMaximized:function(d){this.scrollToTop();return this.getWindowHeight()===d-1}})}else{if(a.match(\"3\")){this.override({isHeightMaximized:function(){this.scrollToTop();return true}})}}}if(a.gtEq(\"4\")){this.override({doBlurInput:Ext.emptyFn})}});Ext.define(\"Ext.viewport.Viewport\",{requires:[\"Ext.viewport.Ios\",\"Ext.viewport.Android\"],constructor:function(b){var c=Ext.os.name,d,a;switch(c){case\"Android\":d=\"Android\";break;case\"iOS\":d=\"Ios\";break;default:d=\"Default\"}a=Ext.create(\"Ext.viewport.\"+d,b);return a}});Ext.define(\"Ext.app.Controller\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.call(this,a)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(a){return this.getApplication().redirectTo(a)},execute:function(b,a){b.setBeforeFilters(this.getBefore()[b.getAction()]);b.execute()},applyBefore:function(e){var d,a,c,b;for(a in e){d=Ext.Array.from(e[a]);c=d.length;for(b=0;b<c;b++){d[b]=this[d[b]]}e[a]=d}return e},applyControl:function(a){this.control(a,this);return a},applyRefs:function(a){if(Ext.isArray(a)){Ext.Logger.deprecate(\"In Sencha Touch 2 the refs config accepts an object but you have passed it an array.\")}this.ref(a);return a},applyRoutes:function(a){var f=this instanceof Ext.app.Application?this:this.getApplication(),c=f.getRouter(),b,e,d;for(e in a){b=a[e];d={controller:this.$className};if(Ext.isString(b)){d.action=b}else{Ext.apply(d,b)}c.connect(e,d)}return a},applyStores:function(a){return this.getFullyQualified(a,\"store\")},applyModels:function(a){return this.getFullyQualified(a,\"model\")},applyViews:function(a){return this.getFullyQualified(a,\"view\")},getFullyQualified:function(b,e){var f=b.length,a=this.getApplication().getName(),c,d;for(d=0;d<f;d++){c=b[d];if(Ext.isString(c)&&(Ext.Loader.getPrefix(c)===\"\"||c===a)){b[d]=a+\".\"+e+\".\"+c}}return b},control:function(a){this.getApplication().control(a,this)},ref:function(b){var e,c,a,d;for(e in b){a=b[e];c=\"get\"+Ext.String.capitalize(e);if(!this[c]){if(Ext.isString(b[e])){d={ref:e,selector:a}}else{d=b[e]}this[c]=Ext.Function.pass(this.getRef,[e,d],this)}this.references=this.references||[];this.references.push(e.toLowerCase())}},getRef:function(d,e,a){this.refCache=this.refCache||{};e=e||{};a=a||{};Ext.apply(e,a);if(e.forceCreate){return Ext.ComponentManager.create(e,\"component\")}var c=this,b=c.refCache[d];if(!b){c.refCache[d]=b=Ext.ComponentQuery.query(e.selector)[0];if(!b&&e.autoCreate){c.refCache[d]=b=Ext.ComponentManager.create(e,\"component\")}if(b){b.on(\"destroy\",function(){c.refCache[d]=null})}}return b},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},onClassExtended:function(p,e){var k=this.prototype,f=k.config,c=e.config||{},j=e.refs,a={},n=e.stores,o=e.views,l=Ext.String.format,d,m,b,g,h;for(m in f){if(m in e&&m!=\"control\"){if(m==\"refs\"){for(g=0;g<j.length;g++){d=j[g];a[d.ref]=d}c.refs=a}else{c[m]=e[m]}delete e[m];Ext.Logger.deprecate(m+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}if(n){b=n.length;c.stores=n;Ext.Logger.deprecate(\"'stores' is deprecated as a property directly on the \"+this.$className+\" prototype. Please move it to Ext.application({ stores: ... }) instead\");for(g=0;g<b;g++){h=l(\"get{0}Store\",Ext.String.capitalize(n[g]));k[h]=function(i){return function(){return Ext.StoreManager.lookup(i)}}(n[g])}}if(o){b=o.length;c.views=o;Ext.Logger.deprecate(\"'views' is deprecated as a property directly on the \"+this.$className+\" prototype. Please move it to Ext.application({ views: ... }) instead\");for(g=0;g<b;g++){h=l(\"get{0}View\",o[g]);k[h]=function(i){return function(){return Ext.ClassManager.classes[l(\"{0}.view.{1}\",this.getApplication().getName(),i)]}}(o[g])}}e.config=c},getModel:function(b){Ext.Logger.deprecate(\"getModel() is deprecated and considered bad practice - please just use the Model name instead (e.g. MyApp.model.User vs this.getModel('User'))\");var a=this.getApplication().getName(),c=Ext.ClassManager.classes;return c[a+\".model.\"+b]},getController:function(b,a){Ext.Logger.deprecate(\"Ext.app.Controller#getController is deprecated and considered bad practice - please use this.getApplication().getController('someController') instead\");return this.getApplication().getController(b,a)}},function(){Ext.regController=function(b,a){Ext.apply(a,{extend:\"Ext.app.Controller\"});Ext.Logger.deprecate(\"[Ext.app.Controller] Ext.regController is deprecated, please use Ext.define to define a Controller as with any other class. For more information see the Touch 1.x -> 2.x migration guide\");Ext.define(\"controller.\"+b,a)}});Ext.define(\"Ext.app.History\",{mixins:[\"Ext.mixin.Observable\"],config:{actions:[],updateUrl:true,token:\"\"},constructor:function(a){if(Ext.feature.has.History){window.addEventListener(\"hashchange\",Ext.bind(this.detectStateChange,this))}else{setInterval(Ext.bind(this.detectStateChange,this),50)}this.initConfig(a)},add:function(c,a){this.getActions().push(Ext.factory(c,Ext.app.Action));var b=c.getUrl();if(this.getUpdateUrl()){this.setToken(b);window.location.hash=b}if(a!==true){this.fireEvent(\"change\",b)}this.setToken(b)},back:function(){this.getActions().pop().run()},applyToken:function(a){return a[0]==\"#\"?a.substr(1):a},detectStateChange:function(){var b=this.applyToken(window.location.hash),a=this.getToken();if(b!=a){this.onStateChange();this.setToken(b)}},onStateChange:function(){this.fireEvent(\"change\",window.location.hash.substr(1))}});Ext.define(\"Ext.app.Profile\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{namespace:\"auto\",name:\"auto\",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return false},launch:Ext.emptyFn,applyNamespace:function(a){if(a==\"auto\"){a=this.getName()}return a.toLowerCase()},applyName:function(a){if(a==\"auto\"){var b=this.$className.split(\".\");a=b[b.length-1]}return a},getDependencies:function(){var c=[],g=Ext.String.format,b=this.getApplication().getName(),d=this.getNamespace(),f={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},e,h,a;for(e in f){h=[];Ext.each(f[e],function(i){if(Ext.isString(i)){if(Ext.isString(i)&&(Ext.Loader.getPrefix(i)===\"\"||i===b)){i=b+\".\"+e+\".\"+d+\".\"+i}h.push(i);c.push(i)}},this);f[e]=h}f.all=c;return f}});Ext.define(\"Ext.app.Action\",{config:{scope:null,application:null,controller:null,action:null,args:[],url:undefined,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(a){this.initConfig(a);this.getUrl()},execute:function(){this.resume()},resume:function(){var b=this.getCurrentFilterIndex()+1,c=this.getBeforeFilters(),a=this.getController(),d=c[b];if(d){this.setCurrentFilterIndex(b);d.call(a,this)}else{a[this.getAction()].apply(a,this.getArgs())}},applyUrl:function(a){if(a===null||a===undefined){a=this.urlEncode()}return a},applyController:function(a){var c=this.getApplication(),b=c.getCurrentProfile();if(Ext.isString(a)){a=c.getController(a,b?b.getNamespace():null)}return a},urlEncode:function(){var a=this.getController(),b;if(a instanceof Ext.app.Controller){b=a.$className.split(\".\");a=b[b.length-1]}return a+\"/\"+this.getAction()}});Ext.define(\"Ext.app.Route\",{config:{conditions:{},url:null,controller:null,action:null,initialized:false},constructor:function(a){this.initConfig(a)},recognize:function(b){if(!this.getInitialized()){this.initialize()}if(this.recognizes(b)){var c=this.matchesFor(b),a=b.match(this.matcherRegex);a.shift();return Ext.applyIf(c,{controller:this.getController(),action:this.getAction(),historyUrl:b,args:a})}},initialize:function(){this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\\_]*)/g);this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(this.getUrl());this.setInitialized(true)},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(b){var f={},e=this.paramsInMatchString,a=b.match(this.matcherRegex),d=e.length,c;a.shift();for(c=0;c<d;c++){f[e[c].replace(\":\",\"\")]=a[c]}return f},argsFor:function(c){var b=[],f=this.paramsInMatchString,a=c.match(this.matcherRegex),e=f.length,d;a.shift();for(d=0;d<e;d++){b.push(f[d].replace(\":\",\"\"));params[f[d].replace(\":\",\"\")]=a[d]}return params},urlFor:function(b){var a=this.getUrl();for(var c in b){a=a.replace(\":\"+c,b[c])}return a},createMatcherRegex:function(a){var e=this.paramsInMatchString,d=e.length,b,c,f;for(b=0;b<d;b++){c=this.getConditions()[e[b]];f=Ext.util.Format.format(\"({0})\",c||\"[%a-zA-Z0-9-\\\\_\\\\s,]+\");a=a.replace(new RegExp(e[b]),f)}return new RegExp(\"^\"+a+\"$\")}});Ext.define(\"Ext.app.Router\",{requires:[\"Ext.app.Route\"],config:{routes:[],defaults:{action:\"index\"}},constructor:function(a){this.initConfig(a)},connect:function(b,c){c=Ext.apply({url:b},c||{},this.getDefaults());var a=Ext.create(\"Ext.app.Route\",c);this.getRoutes().push(a);return a},recognize:function(c){var b=this.getRoutes(),e=b.length,d,a;for(d=0;d<e;d++){a=b[d].recognize(c);if(a!==undefined){return a}}return undefined},draw:function(a){a.call(this,this)},clear:function(){this.setRoutes([])}},function(){Ext.Router={};var a=[];Ext.Router.setAppInstance=function(b){Ext.Router.appInstance=b;if(a.length>0){Ext.each(a,Ext.Router.draw)}};Ext.Router.draw=function(b){Ext.Logger.deprecate(\"Ext.Router.map is deprecated, please define your routes inline inside each Controller. Please see the 1.x -> 2.x migration guide for more details.\");var d=Ext.Router.appInstance,c;if(d){c=d.getRouter();b(c)}else{a.push(b)}}});Ext.define(\"Ext.app.Application\",{extend:\"Ext.app.Controller\",requires:[\"Ext.app.History\",\"Ext.app.Profile\",\"Ext.app.Router\",\"Ext.app.Action\"],config:{profiles:[],controllers:[],history:{},name:null,appFolder:\"app\",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:true,requires:[]},constructor:function(a){a=a||{};Ext.applyIf(a,{application:this});this.initConfig(a);for(var b in a){this[b]=a[b]}if(a.autoCreateViewport){Ext.Logger.deprecate('[Ext.app.Application] autoCreateViewport has been deprecated in Sencha Touch 2. Please implement a launch function on your Application instead and use Ext.create(\"MyApp.view.Main\") to create your initial UI.')}Ext.Loader.setConfig({enabled:true});Ext.require(this.getRequires(),function(){if(this.getEnableLoader()!==false){Ext.require(this.getProfiles(),this.onProfilesLoaded,this)}},this)},dispatch:function(e,d){e=e||{};Ext.applyIf(e,{application:this});e=Ext.factory(e,Ext.app.Action);if(e){var c=this.getCurrentProfile(),b=c?c.getNamespace():undefined,a=this.getController(e.getController(),b);if(a){if(d!==false){this.getHistory().add(e,true)}a.execute(e)}}},redirectTo:function(c){if(Ext.data&&Ext.data.Model&&c instanceof Ext.data.Model){var a=c;c=a.toUrl()}var b=this.getRouter().recognize(c);if(b){b.url=c;if(a){b.data={};b.data.record=a}return this.dispatch(b)}},control:function(h,d){d=d||this;var i=this.getEventDispatcher(),g=(d)?d.getRefs():{},c,e,b,f,a;for(c in h){if(h.hasOwnProperty(c)){f=h[c];a=g[c];if(a){c=a.selector||a}for(e in f){b=f[e];if(Ext.isString(b)){b=d[b]}i.addListener(\"component\",c,e,b,d)}}}},getController:function(b,d){var f=this.getControllerInstances(),a=this.getName(),e=Ext.String.format,c;if(b instanceof Ext.app.Controller){return b}if(f[b]){return f[b]}else{c=e(\"{0}.controller.{1}\",a,b);d=e(\"{0}.controller.{1}.{2}\",a,d,b);return f[d]||f[c]}},onProfilesLoaded:function(){var b=this.getProfiles(),e=b.length,g=[],d=this.gatherDependencies(),f,c,a;for(c=0;c<e;c++){g[c]=Ext.create(b[c],{application:this});a=g[c].getDependencies();d=d.concat(a.all);if(g[c].isActive()&&!f){f=g[c];this.setCurrentProfile(f);this.setControllers(this.getControllers().concat(a.controller));this.setModels(this.getModels().concat(a.model));this.setViews(this.getViews().concat(a.view));this.setStores(this.getStores().concat(a.store))}}this.setProfileInstances(g);Ext.require(d,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var g=this.getControllerInstances(),f=[],c=[],e,b,a,d;for(d in g){b=g[d];a=b.getStores();c=c.concat(a);f=f.concat(b.getModels().concat(b.getViews()).concat(a))}this.setStores(this.getStores().concat(c));Ext.require(f,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var c=this,b=this.getCurrentProfile(),e=this.getLaunch(),d,a;this.instantiateStores();Ext.app.Application.appInstance=this;if(Ext.Router){Ext.Router.setAppInstance(this)}d=this.getControllerInstances();for(a in d){d[a].init(this)}if(b){b.launch()}e.call(c);for(a in d){if(d[a]&&!(d[a] instanceof Ext.app.Controller)){Ext.Logger.warn(\"The controller '\"+a+\"' doesn't have a launch method. Are you sure it extends from Ext.app.Controller?\")}else{d[a].launch(this)}}c.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var a=this.getModels().concat(this.getViews()).concat(this.getControllers());Ext.each(this.getStores(),function(b){if(Ext.isString(b)){a.push(b)}},this);return a},instantiateStores:function(){var b=this.getStores(),f=b.length,c,a,d,g,e;for(e=0;e<f;e++){c=b[e];if(Ext.data&&Ext.data.Store&&!(c instanceof Ext.data.Store)){if(Ext.isString(c)){d=c;a=Ext.ClassManager.classes[c];c={xclass:c};if(a.prototype.defaultConfig.storeId===undefined){g=d.split(\".\");c.id=g[g.length-1]}}b[e]=Ext.factory(c,Ext.data.Store)}}this.setStores(b)},instantiateControllers:function(){var e=this.getControllers(),d={},c=e.length,a,b;for(b=0;b<c;b++){a=e[b];d[a]=Ext.create(a,{application:this})}return this.setControllerInstances(d)},applyControllers:function(a){return this.getFullyQualified(a,\"controller\")},applyProfiles:function(a){return this.getFullyQualified(a,\"profile\")},applyName:function(a){var b;if(a&&a.match(/ /g)){b=a;a=a.replace(/ /g,\"\");Ext.Logger.warn('Attempting to create an application with a name which contains whitespace (\"'+b+'\"). Renamed to \"'+a+'\".')}return a},updateName:function(a){Ext.ClassManager.setNamespace(a+\".app\",this);if(!Ext.Loader.config.paths[a]){Ext.Loader.setPath(a,this.getAppFolder())}},applyRouter:function(a){return Ext.factory(a,Ext.app.Router,this.getRouter())},applyHistory:function(a){var b=Ext.factory(a,Ext.app.History,this.getHistory());b.on(\"change\",this.onHistoryChange,this);return b},onHistoryChange:function(a){this.dispatch(this.getRouter().recognize(a),false)}},function(){Ext.regApplication=function(b){Ext.Logger.deprecate(\"[Ext.app.Application] Ext.regApplication() is deprecated, please replace it with Ext.application()\");var a=b.name,c=Ext.String.format;Ext.ns(a,c(\"{0}.controllers\",a),c(\"{0}.models\",a),c(\"{0}.views\",a));Ext.application(b)};Ext.define(\"Ext.data.ProxyMgr\",{singleton:true,registerType:function(b,a){Ext.Logger.deprecate('Ext.data.ProxyMgr no longer exists - instead of calling Ext.data.ProxyMgr.registerType just update your custom Proxy class to set alias: \"proxy.'+b+'\"');Ext.ClassManager.setAlias(a,\"proxy.\"+b)}});Ext.reg=function(b,a){Ext.Logger.deprecate('Ext.reg is deprecated, please set xtype: \"'+b+'\" directly in your subclass instead');Ext.ClassManager.setAlias(a,b)};Ext.redirect=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate(\"[Ext.app.Application] Ext.redirect is deprecated, please use YourApp.redirectTo instead\");if(a){a.redirectTo.apply(a,arguments)}};Ext.dispatch=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate(\"[Ext.app.Application] Ext.dispatch is deprecated, please use YourApp.dispatch instead\");if(a){a.dispatch.apply(a,arguments)}}});Ext.define(\"B2B.view.User\",{extend:\"Ext.Container\",xtype:\"userprofile\",id:\"userprofile\",config:{title:i18n.app.PANEL_ABOUTME,iconCls:\"user\",scrollable:false,layout:\"card\"},initialize:function(){this.callParent(arguments);var k={text:i18n.app.BTN_PRIVACY,ui:\"action\",id:\"privacy_profile_btn\",handler:this.onPrivacyProfileButtonTap,scope:this},a={text:i18n.app.BTN_SETTINGS,ui:\"action\",id:\"settings_profile_btn\",handler:this.onSettingsProfileButtonTap,scope:this},i={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",id:\"AboutTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[k,{xtype:\"spacer\"},a]},j={id:\"profile_btn\",xtype:\"button\",ui:\"action\",icon:\"image.png\",margin:\"10 0 10 0\",text:i18n.app.BTN_PROFILE,badgeText:i18n.app.BTN_PROFILE,flex:1,html:['<img class=\"avatar_medium\" height=\"48\" width=\"48\" src=\"'+HH.default_user48+'\" />','<div class=\"profile_right\"><p id=\"profile_username\"></p></div>'].join(\"\"),handler:this.onProfileButtonTap,scope:this},l={id:\"badges_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_BADGES,flex:1,handler:this.onBadgesButtonTap,scope:this},c={id:\"drinklist_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_DRINKLIST,flex:1,handler:this.onDrinkListButtonTap,scope:this},m={xtype:\"button\",id:\"myactivity_btn\",ui:\"action\",text:i18n.app.BTN_MYACTIVITY,flex:1,handler:this.onMyActivityButtonTap,scope:this},d={id:\"favorites_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_FAVORITES,flex:1,handler:this.onFavoritesButtonTap,scope:this},b={xtype:\"panel\",flex:1,padding:\"0 0 10 0\",layout:{type:\"hbox\"},items:[l,d]},h={xtype:\"panel\",flex:1,padding:\"0 0 30 0\",layout:{type:\"hbox\"},items:[c,m]},g={xtype:\"panel\",flex:1,layout:{type:\"vbox\"},items:[i,j,b,h]},f={xtype:\"userpreferencesform\"},e={xtype:\"userprofileprivacyform\"};this.add([g,f,e]);this.setActiveItem(0)},onEditProfileButtonTap:function(){this.fireEvent(\"editProfileCommand\",this)},onPrivacyProfileButtonTap:function(){this.fireEvent(\"privacyProfileCommand\",this)},onSettingsProfileButtonTap:function(){this.fireEvent(\"settingsProfileCommand\",this)},onProfileButtonTap:function(){this.fireEvent(\"editProfileCommand\",this)},onBadgesButtonTap:function(){this.fireEvent(\"badgesProfileCommand\",this)},onDrinkListButtonTap:function(){Ext.Msg.alert(\"To Be Implemented\")},onMyActivityButtonTap:function(){Ext.Msg.alert(\"To Be Implemented\")},onFavoritesButtonTap:function(){this.fireEvent(\"favoritesProfileCommand\",this)},refreshProfileData:function(){this.fireEvent(\"reloadProfileCommand\",this)}});Ext.define(\"B2B.view.Component_NotificationBar\",{extend:\"Ext.Container\",xtype:\"notificationbar\",config:{cls:\"notificationbar\",docked:\"top\",height:30,html:[\"test\"].join(\"\")}});Ext.define(\"B2B.view.Camera_Container\",{extend:\"Ext.Container\",xtype:\"cameracontainerpanel\",config:{title:i18n.app.LABEL_CAMERA,iconCls:\"photo1\",styleHtmlContent:true,scrollable:true,layout:\"vbox\"},initialize:function(d,c){this.callParent(arguments);var e=[{xtype:\"image\",id:\"PhotoView\",src:\"\",flex:1},{xtype:\"button\",text:i18n.app.BTN_PHOTO,ui:\"action\",id:\"takephoto_btn\",handler:this.onTakePhotoButtonTap,scope:this,height:50}];this.add(e)},onTakePhotoButtonTap:function(){this.fireEvent(\"takePhotoCommand\",this,Ext.getCmp(\"PhotoView\"))}});Ext.define(\"B2B.controller._App\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",},control:{app:{initialize:\"onInitialize\"}}},onInitialize:function(){},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller._Login\",{extend:\"Ext.app.Controller\",config:{refs:{login:\"#BTN_login\",app:\"_app\"},control:{login:{loginCommand:\"onLoginCommand\"}}},onLoginCommand:function(){var b=Ext.getCmp(\"loginform_username\").getValue();var a=Ext.getCmp(\"loginform_password\").getValue();HH.log(\"XXX TODO: _Login Validation\",true);Ext.Ajax.request({url:\"http://localhost:8081/birrettaservice/rest/bserv/login\",method:\"POST\",defaultHeaders:{\"Content-Type\":\"application/json; charset=iso-8859-1\"},params:{username:b,password:a},timeout:10000,failure:function(c){HH.log(\"---> Step: AUTH Success\");goingTo.step2(\"Loading Store.Profile_Ajax\");HH.log(\"---> Step: Clear app, loading _App\");Ext.Viewport.removeAll(true,true);Ext.Viewport.add(Ext.create(\"B2B.view._App\"))},failure_:function(){alert(\"Could not connect to server.\")}})},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Friends\",{extend:\"Ext.app.Controller\",config:{refs:{friendListContainer:\"friendlistcontainerpanel\",friendDetail:\"frienddetailpanel\",friendFinder:\"friendfinderpanel\",app:\"_app\"},control:{friendListContainer:{searchFriendCommand:\"onSearchFriend\",viewFriendDetailCommand:\"onViewFriendDetail\"},friendDetail:{removeFriendDetailCommand:\"onRemoveFriend\",backFriendDetailCommand:\"onBackFriendDetail\"},friendFinder:{backFriendFinderCommand:\"onBackFriendDetail\"},friendlistcomponent:{itemtap:\"onViewFriendDetail\"}}},onSearchFriend:function(){this.getApp().push({xtype:\"friendfinderpanel\"})},onRemoveFriend:function(){var a=function(){this.getApp().pop()};confirm(i18n.app.DIALOG_YOUSURE,a)},onViewFriendDetail:function(f,d,i,e){setTimeout(function(){f.deselect(d)},500);var h=Ext.getStore(\"Friends_Local\");var g=h.getAt(h.findExact(\"id\",e.data.id));this.getApp().push({xtype:\"frienddetailpanel\",jsonData:g})},onBackFriendDetail:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Activities\",{extend:\"Ext.app.Controller\",config:{refs:{activitylist:\"activitylist\",activity:\"activity\",activityDetail:\"activitylistdetail\",app:\"_app\"},control:{activity:{viewActivityDetailCommand:\"onViewActivityDetail\"},activityDetail:{backActivityDetailCommand:\"onBackActivityDetail\"},activitylist:{itemtap:\"onViewActivityDetail\"}}},onViewActivityDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=e.data;this.getApp().push({xtype:\"activitylistdetail\",jsonData:g})},onBackActivityDetail:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Profiles\",{extend:\"Ext.app.Controller\",config:{refs:{profile:\"userprofile\",profileForm:\"userform\",app:\"_app\"},control:{profile:{editProfileCommand:\"onShowProfileForm\",reloadProfileCommand:\"onReloadProfile\",settingsProfileCommand:\"onShowSettings\",privacyProfileCommand:\"onShowPrivacy\"},profileForm:{saveProfileCommand:\"onSaveProfile\",backProfileCommand:\"onBackProfile\"}}},onShowProfileForm:function(){this.getApp().push({xtype:\"userform\"});var a=this.getProfileForm();a.reset();a.setRecord(Ext.getStore(\"Profile_Local\").first())},onSaveProfile:function(){Ext.Msg.alert(\"Saved!\");this.getApp().pop()},onBackProfile:function(){this.getApp().pop()},onShowPrivacy:function(){var a=Ext.getCmp(\"userprofile\");a.animateActiveItem(2,{type:\"slide\",direction:\"up\"})},onShowSettings:function(b){var c=Ext.getCmp(\"userprofile\");c.animateActiveItem(1,{type:\"slide\",direction:\"up\"})},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Beers\",{extend:\"Ext.app.Controller\",config:{refs:{beerSearchComponent:\"beersearch\",beerSelectContainer:\"beerlistselectcontainerpanel\",beerSelectSearchComponent:\"beerlistselectsearchcomponent\",beerList:\"beer\",beerForm:\"beeraddform\",beerDetail:\"beerdetailpanel\",beerlist:\"beerlist\",beerlistselectcomponent:\"beerlistselect\",beerlistselectcomponent:\"beerlistselectcomponent\",spinner:\"tbarspinner\",app:\"_app\"},control:{beerSearchComponent:{beerAddCommand:\"onShowBeerForm\"},beerSelectSearchComponent:{beerAddCommand:\"onShowBeerForm\"},beerForm:{beerSaveCommand:\"onSaveBeer\",beerBackCommand:\"onBackBeer\"},beerDetail:{reportBeerCommand:\"onReportBeer\",beerEditCommand:\"onEditBeer\",backBeerDetailCommand:\"onBackBeerDetail\",addFavoriteBeerCommand:\"onAddFavoriteBeer\"},beerList:{viewBeerDetailCommand:\"onViewBeerDetail\"},beerlist:{itemtap:\"onViewBeerDetail\"},beerlistselectcomponent:{itemtap:\"onSelectBeer\"},beerSelectContainer:{backBeerSelectCommand:\"onBackBeerSelect\"}}},onShowBeerForm:function(){var b=Ext.create(\"B2B.model.Beer\",{});this.getApp().push({xtype:\"beeraddform\"});var a=this.getBeerForm();a.setRecord(b)},onSaveBeer:function(){var b=this.getSpinner();if(b.isHidden()){b.show()}var a=this.getBeerForm();a.submit({url:\"http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer\",method:\"POST\",success:function(){alert(\"form submitted successfully!\");if(!b.isHidden()){b.hide()}this.getBeerForm().reset();this.getApp().pop()},failure:function(c,d){alert(\"PUPPA\");if(!b.isHidden()){b.hide()}}});Ext.util.JSONP.request({params:a.getValues,url:\"http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer\",callbackKey:\"callback\",scope:\"this\",method:\"POST\",success:function(c){console.log(c.responseText);if(!b.isHidden()){b.hide()}},failure:function(c){console.log(c.responseText);if(!b.isHidden()){b.hide()}}})},onBackBeer:function(){this.getBeerForm().reset();this.getApp().pop()},onBackBeerSelect:function(){this.getApp().pop()},onViewBeerDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=Ext.getStore(\"Beers_Ajax\");this.getApp().push({xtype:\"beerdetailpanel\",jsonData:e})},onBackBeerDetail:function(){this.getApp().pop()},onAddFavoriteBeer:function(b,d){var e=Ext.create(\"B2B.model.FavoriteBeer\",{idBeer:d.idBeer,beerName:d.name});var c=Ext.getStore(\"FavoriteBeers_Local\");c.add(e);HH.log(\"-- Added Beer \"+d.name+\" to store (now \"+c.getCount()+\" items)\")},onSelectBeer:function(){},onEditBeer:function(){Ext.Msg.alert(\"TODO: Event EditBeer Received, Next release\")},onDeleteBeer:function(){Ext.Msg.alert(\"TODO: DeleteBeer Not Implemented\")},onReportBeer:function(b){if(!b.actions){b.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:i18n.app.BTN_BEERREPORTXL,scope:this,ui:\"decline\",handler:function(){alert(i18n.app.DIALOG_BEERREPORTED);b.actions.hide()}},{text:i18n.app.BTN_BEERSUGGESTEDIT,scope:this,handler:function(){HH.log(b.jsonData);b.actions.hide();var c=Ext.create(\"B2B.model.Beer\",{});this.getApp().push({xtype:\"beeraddform\"});var a=this.getBeerForm();a.setRecord(c)}},{text:i18n.app.BTN_CANCEL,scope:this,handler:function(){b.actions.hide()}}]})}b.actions.show()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Drinks\",{extend:\"Ext.app.Controller\",config:{refs:{checkInPanel:\"drinkaroundmepanel\",appContainer:\"appcontainer\",app:\"_app\"},control:{checkInPanel:{checkInDetailCommand:\"onCheckInDetail\",refreshAroundCommand:\"onCheckInRefreshAround\",backCheckCommand:\"onCheckBack\"},appContainer:{gotoCheckInCommand:\"onGotoCheckIn\",}}},onGotoCheckIn:function(){this.getApp().push({xtype:\"drinkaroundmepanel\"})},onCheckIn:function(){Ext.Msg.alert(\"Check In!\");this.getApp().pop()},onCheckBack:function(){this.getApp().pop()},onCheckInRefreshAround:function(){Ext.Msg.alert(\"To Be Implemented\")},onShow:function(){console.log(\"TODO: Refresh on Show\")},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Notifications\",{extend:\"Ext.app.Controller\",config:{refs:{notificationContainer:\"notificationlistcontainerpanel\",notificationList:\"notificationlistcomponent\",appContainer:\"appcontainer\",app:\"_app\"},control:{appContainer:{notificationShowCommand:\"onNotificationShow\"},notificationContainer:{notificationReadAllCommand:\"onNotificationReadAll\",notificationBackCommand:\"onNotificationBack\"},notificationList:{itemtap:\"onNotificationRead\"}}},onNotificationShow:function(){this.getApp().push({xtype:\"notificationlistcontainerpanel\"})},onNotificationRead:function(f,d,g,e){setTimeout(function(){f.deselect(d)},500);console.error(\"TODO: Notification Read\")},onNotificationReadAll:function(){console.error(\"TODO: Notification Read All\")},onNotificationBack:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Preferences\",{extend:\"Ext.app.Controller\",id:\"Preferences\",config:{refs:{privacyForm:\"userprofileprivacyform\",preferencesForm:\"userpreferencesform\",appContainer:\"appcontainer\",app:\"_app\"},control:{preferencesForm:{showPreferencesCommand:\"onShowPreferencesForm\",savePreferencesCommand:\"onSavePreferences\",cancelCommand:\"onCancel\",toggleTwitterCommand:\"onChangeTwitter\",toggleFacebookCommand:\"onChangeFacebook\"},privacyForm:{cancelCommand:\"onCancel\"}}},onInitialize:function(){this.onChangeTwitter(null,Ext.getStore(\"Profile\").first().data.shareTwitter);this.onChangeFacebook(null,Ext.getStore(\"Profile\").first().data.shareFacebook)},onShowPreferencesForm:function(){var a=this.getPreferencesForm();a.reset();a.setRecord(Ext.getStore(\"Profile_Ajax\").first())},onChangeTwitter:function(b,d){if(d){var c={xtype:\"fieldset\",id:\"fieldset_twitter\",title:i18n.app.PANEL_TWITTER,items:[{xtype:\"textfield\",name:\"username_twitter\",label:i18n.app.FORM_USERNAME},{xtype:\"passwordfield\",name:\"password_twitter\",label:i18n.app.FORM_PASSWORD}]};Ext.getCmp(\"userpreferencesform\").add(c)}else{Ext.getCmp(\"userpreferencesform\").remove(Ext.getCmp(\"fieldset_twitter\"),true)}},onChangeFacebook:function(b,d){if(d){var c={xtype:\"fieldset\",id:\"fieldset_facebook\",title:i18n.app.PANEL_FACEBOOK,items:[{xtype:\"textfield\",name:\"username_password\",label:i18n.app.FORM_USERNAME},{xtype:\"passwordfield\",name:\"password_password\",label:i18n.app.FORM_PASSWORD}]};Ext.getCmp(\"userpreferencesform\").add(c)}else{Ext.getCmp(\"userpreferencesform\").remove(Ext.getCmp(\"fieldset_facebook\"),true)}},onSavePreferences:function(){this.closePanel()},onCancel:function(){this.closePanel()},closePanel:function(){var a=Ext.getCmp(\"userprofile\");a.animateActiveItem(0,{type:\"slide\",direction:\"down\"})},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Privacy\",{extend:\"Ext.app.Controller\",config:{refs:{userprofileprivacyform:\"#BTN_removeData\",appContainer:\"appcontainer\",app:\"_app\"},control:{userprofileprivacyform:{privacyRemoveDataCommand:\"onRemoveDataCommand\",privacyLogoutCommand:\"onLogOutCommand\"}}},onRemoveDataCommand:function(){var a=window.confirm(utils.__(i18n.app.DIALOG_YOUSUREREMOVEDATA));if(a){Ext.getStore(\"Activities_Ajax\").removeAll();Ext.getStore(\"Activities_Local\").removeAll();Ext.getStore(\"Beers_Ajax\").removeAll();Ext.getStore(\"Friends_Ajax\").removeAll();Ext.getStore(\"Friends_Local\").removeAll();Ext.getStore(\"Notifications_Ajax\").removeAll();Ext.getStore(\"Notifications_Local\").removeAll();Ext.getStore(\"Places_Ajax\").removeAll();Ext.getStore(\"Drinks_Ajax\").removeAll();Ext.getStore(\"Drinks_Local\").removeAll();Ext.getStore(\"Profile_Ajax\").removeAll();Ext.getStore(\"Profile_Local\").removeAll();window.location.reload()}},onLogOutCommand:function(){var a=function(){Ext.Msg.alert(\"LogOut Mock\")};Ext.Msg.confirm(i18n.app.PANEL_LOGOUT,utils.__(i18n.app.DIALOG_YOUSURELOGUT),a);Ext.getStore(\"Profile_Ajax\").removeAll();Ext.getStore(\"Profile_Local\").removeAll();window.location.reload()},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Places\",{extend:\"Ext.app.Controller\",config:{refs:{mapContainer:\"drinkaroundmepanel\",placeDetail:\"placedetailpanel\",appContainer:\"appcontainer\",app:\"_app\"},control:{mapContainer:{reloadCommand:\"onReloadCommand\"},placeDetail:{backPlaceDetailCommand:\"onBackPlace\",selectBeerDrinkCommand:\"onSelectBeerDrink\",onDrinkInCommand:\"onDrinkIn\"},placelistcomponent:{itemtap:\"onViewPlaceDetail\"}}},onReloadCommand:function(){HH.log(\"TODO: Map Reload Mock\")},onBackPlace:function(){this.getApp().pop()},onViewPlaceDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=e.data;this.getApp().push({xtype:\"placedetailpanel\",jsonData:g})},onSelectBeerDrink:function(){this.getApp().push({xtype:\"beerlistselectcontainerpanel\",})},onDrinkIn:function(){this.getApp().pop()},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Feedbacks\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",},control:{app:{}}},onCommentSubmit:function(){},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Camera\",{extend:\"Ext.app.Controller\",xtype:\"camera\",config:{refs:{app:\"_app\",userform:\"userform\",cameracontainerpanel:\"cameracontainerpanel\",camerapicker:\"camerapicker\"},control:{cameracontainerpanel:{takePhotoCommand:\"takePhoto\"},camerapicker:{openCameraCommand:\"openCamera\",openLibraryCommand:\"openLibrary\"},userform:{chooseProfilePictureCommand:\"onChooseProfilePictureCommand\"}}},onChooseProfilePictureCommand:function(b,a){this.takePhoto(b,a)},takePhoto:function(b,a){this.imageView=a;if(this.isDevice){if(this.isCameraAvailable){this.getApp().push({xtype:\"camerapicker\"})}else{this.openLibrary()}}else{Ext.Msg.alert(i18n.app.COMMON_ATTENTION,i18n.app.LABEL_CAMERA_NOT_AVAILABLE)}},openLibrary:function(){this.captureFromCamera(false)},openCamera:function(){this.captureFromCamera(true)},captureFromCamera:function(b){var a=this.imageView;this.camera.capture({success:function(c){if(a){a.setSrc(c)}},failure:function(c){console.log(\"[Camera] Error capture: \"+c)},quality:75,destination:\"file\",source:(b?\"camera\":\"library\")})},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments);this.isDevice=(Ext.browser.is.WebView&&(Ext.os.is(\"Android\")||Ext.os.is(\"iOS\")));this.isCameraAvailable=true;if(!this.camera){this.camera=Ext.device.Camera}}});Ext.define(\"B2B.controller.Badges\",{extend:\"Ext.app.Controller\",config:{refs:{profile:\"userprofile\",badgeListContainer:\"badgelistcontainerpanel\",badgeList:\"badgelistcomponent\",badgeDetail:\"badgedetailpanel\",app:\"_app\"},control:{profile:{badgesProfileCommand:\"onShowBadgesList\"},badgeListContainer:{backToProfileCommand:\"popCurrentView\"},badgeList:{itemtap:\"onViewBadgeDetail\",select:\"onSelectItem\"},badgeDetail:{backBadgesCommand:\"popCurrentView\"}}},onShowBadgesList:function(){this.getApp().push({xtype:\"badgelistcontainerpanel\"})},popCurrentView:function(){this.getApp().pop()},onViewBadgeDetail:function(e,c,d,b,a){setTimeout(function(){e.deselect(c)},500);if(b.data.active){this.getApp().push({xtype:\"badgedetailpanel\",jsonData:b.data})}},onSelectItem:function(c,b,a){return b.data.active},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Favorites\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",profilePanel:\"userprofile\",favoritesPanel:\"favoritespanel\"},control:{app:{},profilePanel:{favoritesProfileCommand:\"onFavoritesOpen\"},favoritesPanel:{jumptoBeerCommand:\"onJumpToBeer\",backFavoritesCommand:\"onFavoritesBack\"},}},onFavoritesOpen:function(){this.getApp().push({xtype:\"favoritespanel\"})},onFavoritesBack:function(){this.getApp().pop()},onJumpToBeer:function(){this.getApp().pop();var a=Ext.Viewport.down(\"appcontainer\");a.setActiveItem(1)},init:function(){this.callParent(arguments)}});Ext.define(\"Ext.ux.toolbarspinner.TSpinner\",{extend:\"Ext.Component\",xtype:\"tbarspinner\",config:{style:\"font-size: 60%;\",align:\"right\",html:['<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\"].join(\"\")},});Ext.define(\"Ext.Img\",{extend:\"Ext.Component\",xtype:[\"image\",\"img\"],config:{src:null,baseCls:Ext.baseCSSPrefix+\"img\",mode:\"background\"},beforeInitialize:function(){var a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)},initialize:function(){var a=this;a.callParent();a.relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hide:function(){this.callParent();this.hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show:function(){this.callParent();if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode:function(a){if(a===\"background\"){if(this.imageElement){this.imageElement.destroy();delete this.imageElement;this.updateSrc(this.getSrc())}}else{this.imageElement=this.element.createChild({tag:\"img\"})}},onTap:function(a){this.fireEvent(\"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);this.callParent(arguments)},doSetHeight:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(arguments)},destroy:function(){this.detachListeners();Ext.destroy(this.imageObject);delete this.imageObject;this.callParent()}});Ext.define(\"Ext.plugin.PullRefresh\",{extend:\"Ext.Component\",alias:\"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">Last Updated: <span>{lastUpdated:date(\"m/d/Y h:iA\")}</span></div>',\"</div>\",\"</div>\"].join(\"\")},isRefreshing:false,currentViewState:\"\",initialize:function(){this.callParent();this.on({painted:\"onPainted\",scope:this})},init:function(f){var d=this,b=f.getStore(),e=d.getPullTpl(),c=d.element,a=f.getScrollable().getScroller();d.setList(f);d.lastUpdated=new Date();f.insert(0,d);if(b){if(b.isAutoLoading()){f.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){f.setLoadingText(null)}}})}}e.overwrite(c,{message:d.getPullRefreshText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated > span\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a;a=Ext.create(\"Ext.data.Operation\",{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPullTpl:function(a){return(Ext.isObject(a)&&a.isTemplate)?a:new Ext.XTemplate(a)},onBounceTop:function(d){var b=this,c=b.getList(),a=c.getScrollable().getScroller();if(!b.isReleased){if(!b.isRefreshing&&-d>=b.pullHeight+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-d<b.pullHeight+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\"))}});Ext.define(\"Ext.data.identifier.Simple\",{alias:\"data.identifier.simple\",statics:{AUTO_ID:1},config:{prefix:\"ext-record-\"},constructor:function(a){this.initConfig(a)},generate:function(a){return this._prefix+this.self.AUTO_ID++}});Ext.define(\"Ext.Button\",{extend:\"Ext.Component\",xtype:\"button\",cachedConfig:{pressedCls:Ext.baseCSSPrefix+\"button-pressing\",badgeCls:Ext.baseCSSPrefix+\"badge\",hasBadgeCls:Ext.baseCSSPrefix+\"hasbadge\",labelCls:Ext.baseCSSPrefix+\"button-label\",iconMaskCls:Ext.baseCSSPrefix+\"icon-mask\",iconCls:null},config:{badgeText:null,text:null,icon:null,iconAlign:\"left\",pressedDelay:0,iconMask:null,handler:null,scope:null,autoEvent:null,ui:\"normal\",baseCls:Ext.baseCSSPrefix+\"button\"},template:[{tag:\"span\",reference:\"badgeElement\",hidden:true},{tag:\"span\",className:Ext.baseCSSPrefix+\"button-icon\",reference:\"iconElement\",hidden:true},{tag:\"span\",reference:\"textElement\",hidden:true}],initialize:function(){this.callParent();this.element.on({scope:this,tap:\"onTap\",touchstart:\"onPress\",touchend:\"onRelease\"})},updateBadgeText:function(c){var a=this.element,b=this.badgeElement;if(c){b.show();b.setText(c)}else{b.hide()}a[(c)?\"addCls\":\"removeCls\"](this.getHasBadgeCls())},updateText:function(b){var a=this.textElement;if(a){if(b){a.show();a.setHtml(b)}else{a.hide()}}},updateHtml:function(b){var a=this.textElement;if(b){a.show();a.setHtml(b)}else{a.hide()}},updateBadgeCls:function(b,a){this.badgeElement.replaceCls(a,b)},updateHasBadgeCls:function(b,c){var a=this.element;if(a.hasCls(c)){a.replaceCls(c,b)}},updateLabelCls:function(b,a){this.textElement.replaceCls(a,b)},updatePressedCls:function(b,c){var a=this.element;if(a.hasCls(c)){a.replaceCls(c,b)}},updateIcon:function(b){var c=this,a=c.iconElement;if(b){c.showIconElement();a.setStyle(\"background-image\",b?\"url(\"+b+\")\":\"\");c.refreshIconAlign();c.refreshIconMask()}else{c.hideIconElement();c.setIconAlign(false)}},updateIconCls:function(c,a){var d=this,b=d.iconElement;if(c){d.showIconElement();b.replaceCls(a,c);d.refreshIconAlign();d.refreshIconMask()}else{d.hideIconElement();d.setIconAlign(false)}},updateIconAlign:function(d,c){var b=this.element,a=Ext.baseCSSPrefix+\"iconalign-\";if(!this.getText()){d=\"center\"}b.removeCls(a+\"center\");b.removeCls(a+c);if(this.getIcon()||this.getIconCls()){b.addCls(a+d)}},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},updateIconMaskCls:function(c,b){var a=this.iconElement;if(this.getIconMask()){a.replaceCls(b,c)}},updateIconMask:function(a){this.iconElement[a?\"addCls\":\"removeCls\"](this.getIconMaskCls())},refreshIconMask:function(){this.updateIconMask(this.getIconMask())},applyAutoEvent:function(b){var a=this;if(typeof b==\"string\"){b={name:b,scope:a.scope||a}}return b},updateAutoEvent:function(c){var a=c.name,b=c.scope;this.setHandler(function(){b.fireEvent(a,b,this)});this.setScope(b)},hideIconElement:function(){this.iconElement.hide()},showIconElement:function(){this.iconElement.show()},applyUi:function(a){if(a&&Ext.isString(a)){var b=a.split(\"-\");if(b&&(b[1]==\"back\"||b[1]==\"forward\")){return b}}return a},getUi:function(){var a=this._ui;if(Ext.isArray(a)){return a.join(\"-\")}return a},applyPressedDelay:function(a){if(Ext.isNumber(a)){return a}return(a)?100:0},onPress:function(){var c=this,a=c.element,d=c.getPressedDelay(),b=c.getPressedCls();if(!c.getDisabled()){if(d>0){c.pressedTimeout=setTimeout(function(){delete c.pressedTimeout;if(a){a.addCls(b)}},d)}else{a.addCls(b)}}},onRelease:function(a){this.fireAction(\"release\",[this,a],\"doRelease\")},doRelease:function(a,b){if(!a.getDisabled()){if(a.hasOwnProperty(\"pressedTimeout\")){clearTimeout(a.pressedTimeout);delete a.pressedTimeout}else{a.element.removeCls(a.getPressedCls())}}},onTap:function(a){if(this.getDisabled()){return false}this.fireAction(\"tap\",[this,a],\"doTap\")},doTap:function(c,d){var b=c.getHandler(),a=c.getScope()||c;if(!b){return}if(typeof b==\"string\"){b=a[b]}d.preventDefault();b.apply(a,arguments)}},function(){Ext.deprecateClassMethod(this,\"setBadge\",\"setBadgeText\");Ext.deprecateClassMethod(this,\"setIconClass\",\"setIconCls\");this.override({constructor:function(a){if(a){if(a.hasOwnProperty(\"badge\")){Ext.Logger.deprecate(\"'badge' config is deprecated, please use 'badgeText' config instead\",this);a.badgeText=a.badge}}this.callParent([a])}})});Ext.define(\"Ext.util.LineSegment\",{requires:[\"Ext.util.Point\"],constructor:function(b,a){var c=Ext.util.Point;this.point1=c.from(b);this.point2=c.from(a)},intersects:function(l){var o=this.point1,m=this.point2,i=l.point1,f=l.point2,c=o.x,b=m.x,a=i.x,q=f.x,p=o.y,n=m.y,k=i.y,h=f.y,g=(c-b)*(k-h)-(p-n)*(a-q),j,e;if(g==0){return null}j=((a-q)*(c*n-p*b)-(c-b)*(a*h-k*q))/g;e=((k-h)*(c*n-p*b)-(p-n)*(a*h-k*q))/g;if(j<Math.min(c,b)||j>Math.max(c,b)||j<Math.min(a,q)||j>Math.max(a,q)||e<Math.min(p,n)||e>Math.max(p,n)||e<Math.min(k,h)||e>Math.max(k,h)){return null}return new Ext.util.Point(j,e)},toString:function(){return this.point1.toString()+\" \"+this.point2.toString()}});Ext.define(\"Ext.Title\",{extend:\"Ext.Component\",xtype:\"title\",config:{baseCls:\"x-title\",title:\"\"},updateTitle:function(a){this.setHtml(a)}});Ext.define(\"Ext.Spacer\",{extend:\"Ext.Component\",alias:\"widget.spacer\",config:{},constructor:function(a){a=a||{};if(!a.width){a.flex=1}this.callParent([a])}});Ext.define(\"Ext.dataview.IndexBar\",{extend:\"Ext.Component\",alternateClassName:\"Ext.IndexBar\",config:{baseCls:Ext.baseCSSPrefix+\"indexbar\",direction:\"vertical\",letters:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],ui:\"alphabet\",listPrefix:null},itemCls:Ext.baseCSSPrefix+\"\",updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(b+\"-\"+c,b+\"-\"+a)},getElementConfig:function(){return{reference:\"wrapper\",classList:[\"x-centered\",\"x-indexbar-wrapper\"],children:[this.callParent()]}},updateLetters:function(c){this.innerElement.setHtml(\"\");if(c){var b=c.length,a;for(a=0;a<b;a++){this.innerElement.createChild({html:c[a]})}}},updateListPrefix:function(a){if(a&&a.length){this.innerElement.createChild({html:a},0)}},initialize:function(){this.callParent();this.innerElement.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(b,a){b.stopPropagation();this.innerElement.addCls(this.getBaseCls()+\"-pressed\");this.pageBox=this.innerElement.getPageBox();this.onTouchMove(b)},onTouchEnd:function(b,a){this.innerElement.removeCls(this.getBaseCls()+\"-pressed\")},onTouchMove:function(c){var a=Ext.util.Point.fromEvent(c),b,d=this.pageBox;if(!d){d=this.pageBox=this.el.getPageBox()}if(this.getDirection()===\"vertical\"){if(a.y>d.bottom||a.y<d.top){return}b=Ext.Element.fromPoint(d.left+(d.width/2),a.y)}else{if(a.x>d.right||a.x<d.left){return}b=Ext.Element.fromPoint(a.x,d.top+(d.height/2))}if(b){this.fireEvent(\"index\",this,b.dom.innerHTML,b)}},destroy:function(){var c=this,d=Array.prototype.slice.call(c.innerElement.dom.childNodes),b=d.length,a=0;for(;a<b;a++){Ext.removeNode(d[a])}this.callParent()}},function(){Ext.deprecateMethod(this,\"isHorizontal\",null,\"Ext.dataview.IndexBar.isHorizontal() has been removed\");Ext.deprecateMethod(this,\"isVertical\",null,\"Ext.dataview.IndexBar.isVertical() has been removed\");Ext.deprecateMethod(this,\"refresh\",null,\"Ext.dataview.IndexBar.refresh() has been removed\");Ext.deprecateProperty(this,\"alphabet\",null,\"Ext.dataview.IndexBar.alphabet has been removed\");Ext.deprecateProperty(this,\"itemSelector\",null,\"Ext.dataview.IndexBar.itemSelector has been removed\");Ext.deprecateProperty(this,\"store\",null,\"Ext.dataview.IndexBar.store has been removed\")});Ext.define(\"Ext.dataview.ListItemHeader\",{extend:\"Ext.Component\",xtype:\"listitemheader\",config:{baseCls:Ext.baseCSSPrefix+\"list-header\",docked:\"top\"}});Ext.define(\"Ext.util.Geolocation\",{extend:\"Ext.Evented\",alternateClassName:[\"Ext.util.GeoLocation\"],config:{autoUpdate:true,frequency:10000,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:false,timeout:Infinity,maximumAge:0,provider:undefined},updateMaximumAge:function(){if(this.watchOperation){this.updateWatchOperation()}},updateTimeout:function(){if(this.watchOperation){this.updateWatchOperation()}},updateAllowHighAccuracy:function(){if(this.watchOperation){this.updateWatchOperation()}},applyProvider:function(a){if(Ext.feature.has.Geolocation){if(!a){if(navigator&&navigator.geolocation){a=navigator.geolocation}else{if(window.google){a=google.gears.factory.create(\"beta.geolocation\")}}}}else{this.fireEvent(\"locationerror\",this,false,false,true,\"This device does not support Geolocation.\")}return a},updateAutoUpdate:function(a,b){var c=this,f=c.getProvider();if(b&&f){clearInterval(c.watchOperationId);c.watchOperationId=null}if(a){if(!f){c.fireEvent(\"locationerror\",c,false,false,true,null);return}try{c.updateWatchOperation()}catch(d){c.fireEvent(\"locationerror\",c,false,false,true,d.message)}}},updateWatchOperation:function(){var a=this,b=a.getProvider();if(a.watchOperationId){clearInterval(a.watchOperationId)}function c(){b.getCurrentPosition(Ext.bind(a.fireUpdate,a),Ext.bind(a.fireError,a),a.parseOptions())}c();a.watchOperationId=setInterval(c,this.getFrequency())},updateLocation:function(h,a,c){var b=this,g=b.getProvider();var f=function(i,e){if(e){b.fireError(e)}else{b.fireEvent(\"locationerror\",b,false,false,true,i)}if(h){h.call(a||b,null,b)}};if(!g){f(null);return}try{g.getCurrentPosition(function(e){b.fireUpdate(e);if(h){h.call(a||b,b,b)}},function(e){f(null,e)},c||b.parseOptions())}catch(d){f(d.message)}},fireUpdate:function(a){var b=this,c=a.coords;this.position=a;b.setConfig({timestamp:a.timestamp,latitude:c.latitude,longitude:c.longitude,accuracy:c.accuracy,altitude:c.altitude,altitudeAccuracy:c.altitudeAccuracy,heading:c.heading,speed:c.speed});b.fireEvent(\"locationupdate\",b)},fireError:function(a){var b=a.code;this.fireEvent(\"locationerror\",this,b==a.TIMEOUT,b==a.PERMISSION_DENIED,b==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var b=this.getTimeout(),a={maximumAge:this.getMaximumAge(),allowHighAccuracy:this.getAllowHighAccuracy()};if(b!==Infinity){a.timeout=b}return a},destroy:function(){this.setAutoUpdate(false)}});Ext.define(\"Ext.carousel.Indicator\",{extend:\"Ext.Component\",xtype:\"carouselindicator\",alternateClassName:\"Ext.Carousel.Indicator\",config:{baseCls:Ext.baseCSSPrefix+\"carousel-indicator\",direction:\"horizontal\"},initialize:function(){this.callParent();this.indicators=[];this.element.on({tap:\"onTap\",scope:this})},updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(c,a,b);if(a===\"horizontal\"){this.setBottom(0);this.setRight(null)}else{this.setRight(0);this.setBottom(null)}},addIndicator:function(){this.indicators.push(this.element.createChild({tag:\"span\"}))},removeIndicator:function(){var a=this.indicators;if(a.length>0){a.pop().destroy()}},setActiveIndex:function(b){var e=this.indicators,d=this.activeIndex,a=e[d],f=e[b],c=this.getBaseCls();if(a){a.removeCls(c,null,\"active\")}if(f){f.addCls(c,null,\"active\")}this.activeIndex=b;return this},onTap:function(f){var g=f.touch,a=this.element.getPageBox(),d=a.left+(a.width/2),b=a.top+(a.height/2),c=this.getDirection();if((c===\"horizontal\"&&g.pageX>=d)||(c===\"vertical\"&&g.pageY>=b)){this.fireEvent(\"next\",this)}else{this.fireEvent(\"previous\",this)}},destroy:function(){var d=this.indicators,b,c,a;for(b=0,c=d.length;b<c;b++){a=d[b];a.destroy()}d.length=0;this.callParent()}});Ext.define(\"Ext.data.Operation\",{config:{synchronous:true,action:null,filters:null,sorters:null,grouper:null,start:null,limit:null,batch:null,callback:null,scope:null,resultSet:null,records:null,request:null,response:null,withCredentials:null,params:null,url:null,page:null,node:null,model:undefined,addRecords:false},started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(a){this.initConfig(a)},applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}if(!a){Ext.Logger.warn(\"Unless you define your model using metadata, an Operation needs to have a model defined.\")}return a},getRecords:function(){var a=this.getResultSet();return this._records||(a?a.getRecords():[])},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return this.getAction()!=\"read\"},process:function(d,b,c,a){if(b.getSuccess()!==false){this.setResponse(a);this.setResultSet(b);this.setCompleted();this.setSuccessful()}else{return false}return this[\"process\"+Ext.String.capitalize(d)].call(this,b,c,a)},processRead:function(d){var b=d.getRecords(),g=[],f=this.getModel(),e=b.length,c,a;for(c=0;c<e;c++){a=b[c];g.push(new f(a.data,a.id,a.node))}this.setRecords(g);return true},processCreate:function(e){var c=e.getRecords(),b=this.getRecords(),f=c.length,d,a,g;for(d=0;d<f;d++){g=c[d];if(g.clientId===null&&b.length==1&&c.length==1){a=b[d]}else{a=this.findCurrentRecord(g.clientId)}if(a){this.updateRecord(a,g)}else{Ext.Logger.warn(\"Unable to match the record that came back from the server.\")}}return true},processUpdate:function(e){var c=e.getRecords(),b=this.getRecords(),f=c.length,d,a,g;for(d=0;d<f;d++){g=c[d];a=b[d];if(a){this.updateRecord(a,g)}else{Ext.Logger.warn(\"Unable to match the updated record that came back from the server.\")}}return true},processDestroy:function(d){var b=d.getRecords(),e=b.length,c,a,f;for(c=0;c<e;c++){f=b[c];a=this.findCurrentRecord(f.id);if(a){a.setIsErased(true);a.notifyStores(\"afterErase\",a)}else{Ext.Logger.warn(\"Unable to match the destroyed record that came back from the server.\")}}},findCurrentRecord:function(a){var c=this.getRecords(),e=c.length,d,b;for(d=0;d<e;d++){b=c[d];if(b.getId()===a){return b}}},updateRecord:function(b,d){var a=d.data,c=d.id;b.beginEdit();b.set(a);if(c!==null){b.setId(c)}b.endEdit(true);b.commit()}},function(){Ext.deprecateProperty(this,\"group\",\"grouper\")});Ext.define(\"Ext.util.Grouper\",{extend:\"Ext.util.Sorter\",isGrouper:true,config:{groupFn:null,sortProperty:null,sorterFn:function(d,c){var e=this.getSortProperty(),g,b,f,a;g=this.getGroupFn();b=g.call(this,d);f=g.call(this,c);if(e){if(b!==f){return this.defaultSortFn.call(this,d,c)}else{return 0}}return(b>f)?1:((b<f)?-1:0)}},defaultSortFn:function(e,c){var g=this,f=g._transform,b=g._root,d,a,h=g._sortProperty;if(b!==null){e=e[b];c=c[b]}d=e[h];a=c[h];if(f){d=f(d);a=f(a)}return d>a?1:(d<a?-1:0)},updateProperty:function(a){this.setGroupFn(this.standardGroupFn)},standardGroupFn:function(b){var a=this.getRoot(),d=this.getProperty(),c=b;if(a){c=b[a]}return c[d]},getGroupString:function(a){var b=this.getGroupFn().call(this,a);return typeof b!=\"undefined\"?b.toString():\"\"}});Ext.define(\"Ext.data.JsonP\",{alternateClassName:\"Ext.util.JSONP\",singleton:true,statics:{requestCount:0,requests:{}},timeout:30000,disableCaching:true,disableCachingParam:\"_dc\",callbackKey:\"callback\",request:function(m){m=Ext.apply({},m);if(!m.url){Ext.Logger.error(\"A url must be specified for a JSONP request.\")}var i=this,d=Ext.isDefined(m.disableCaching)?m.disableCaching:i.disableCaching,g=m.disableCachingParam||i.disableCachingParam,c=++i.statics().requestCount,k=m.callbackName||\"callback\"+c,h=m.callbackKey||i.callbackKey,l=Ext.isDefined(m.timeout)?m.timeout:i.timeout,e=Ext.apply({},m.params),b=m.url,a=Ext.isSandboxed?Ext.getUniqueGlobalNamespace():\"Ext\",f,j;e[h]=a+\".data.JsonP.\"+k;if(d){e[g]=new Date().getTime()}j=i.createScript(b,e,m);i.statics().requests[c]=f={url:b,params:e,script:j,id:c,scope:m.scope,success:m.success,failure:m.failure,callback:m.callback,callbackKey:h,callbackName:k};if(l>0){f.timeout=setTimeout(Ext.bind(i.handleTimeout,i,[f]),l)}i.setupErrorHandling(f);i[k]=Ext.bind(i.handleResponse,i,[f],true);i.loadScript(f);return f},abort:function(b){var c=this.statics().requests,a;if(b){if(!b.id){b=c[b]}this.abort(b)}else{for(a in c){if(c.hasOwnProperty(a)){this.abort(c[a])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType=\"abort\";this.handleResponse(null,a)},handleError:function(a){a.errorType=\"error\";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType=\"timeout\";this.handleResponse(null,a)},handleResponse:function(a,b){var c=true;if(b.timeout){clearTimeout(b.timeout)}delete this[b.callbackName];delete this.statics()[b.id];this.cleanupErrorHandling(b);Ext.fly(b.script).destroy();if(b.errorType){c=false;Ext.callback(b.failure,b.scope,[b.errorType,b])}else{Ext.callback(b.success,b.scope,[a,b])}Ext.callback(b.callback,b.scope,[c,a,b.errorType,b])},createScript:function(c,d,b){var a=document.createElement(\"script\");a.setAttribute(\"src\",Ext.urlAppend(c,Ext.Object.toQueryString(d)));a.setAttribute(\"async\",true);a.setAttribute(\"type\",\"text/javascript\");return a},loadScript:function(a){Ext.getHead().appendChild(a.script)}});Ext.define(\"Ext.mixin.Sortable\",{extend:\"Ext.mixin.Mixin\",requires:[\"Ext.util.Sorter\"],mixinConfig:{id:\"sortable\"},config:{sorters:null,defaultSortDirection:\"ASC\",sortRoot:null},dirtySortFn:false,sortFn:null,sorted:false,applySorters:function(a,b){if(!b){b=this.createSortersCollection()}b.clear();this.sorted=false;if(a){this.addSorters(a)}return b},createSortersCollection:function(){this._sorters=Ext.create(\"Ext.util.Collection\",function(a){return a.getId()});return this._sorters},addSorter:function(b,a){this.addSorters([b],a)},addSorters:function(c,a){var b=this.getSorters();return this.insertSorters(b?b.length:0,c,a)},insertSorter:function(a,c,b){return this.insertSorters(a,[c],b)},insertSorters:function(e,h,a){if(!Ext.isArray(h)){h=[h]}var f=h.length,j=a||this.getDefaultSortDirection(),c=this.getSortRoot(),k=this.getSorters(),l=[],g,b,m,d;if(!k){k=this.createSortersCollection()}for(b=0;b<f;b++){m=h[b];g={direction:j,root:c};if(typeof m===\"string\"){d=k.get(m);if(!d){g.property=m}else{if(a){d.setDirection(a)}else{d.toggle()}continue}}else{if(Ext.isFunction(m)){g.sorterFn=m}else{if(Ext.isObject(m)){if(!m.isSorter){if(m.fn){m.sorterFn=m.fn;delete m.fn}g=Ext.apply(g,m)}else{l.push(m);if(!m.getRoot()){m.setRoot(c)}continue}}else{Ext.Logger.warn(\"Invalid sorter specified:\",m)}}}m=Ext.create(\"Ext.util.Sorter\",g);l.push(m)}for(b=0,f=l.length;b<f;b++){k.insert(e+b,l[b])}this.dirtySortFn=true;if(k.length){this.sorted=true}return k},removeSorter:function(a){return this.removeSorters([a])},removeSorters:function(d){if(!Ext.isArray(d)){d=[d]}var b=d.length,c=this.getSorters(),a,e;for(a=0;a<b;a++){e=d[a];if(typeof e===\"string\"){c.removeAtKey(e)}else{if(typeof e===\"function\"){c.each(function(f){if(f.getSorterFn()===e){c.remove(f)}})}else{if(e.isSorter){c.remove(e)}}}}if(!c.length){this.sorted=false}},updateSortFn:function(){var a=this.getSorters().items;this.sortFn=function(d,c){var f=a.length,b,e;for(e=0;e<f;e++){b=a[e].sort.call(this,d,c);if(b!==0){break}}return b};this.dirtySortFn=false;return this.sortFn},getSortFn:function(){if(this.dirtySortFn){return this.updateSortFn()}return this.sortFn},sort:function(a){Ext.Array.sort(a,this.getSortFn());return a},findInsertionIndex:function(b,e,g){var h=0,a=b.length-1,d=g||this.getSortFn(),c,f;while(h<=a){c=(h+a)>>1;f=d(e,b[c]);if(f>=0){h=c+1}else{if(f<0){a=c-1}}}return h}});Ext.define(\"Ext.mixin.Filterable\",{extend:\"Ext.mixin.Mixin\",requires:[\"Ext.util.Filter\"],mixinConfig:{id:\"filterable\"},config:{filters:null,filterRoot:null},dirtyFilterFn:false,filterFn:null,filtered:false,applyFilters:function(a,b){if(!b){b=this.createFiltersCollection()}b.clear();this.filtered=false;this.dirtyFilterFn=true;if(a){this.addFilters(a)}return b},createFiltersCollection:function(){this._filters=Ext.create(\"Ext.util.Collection\",function(a){return a.getId()});return this._filters},addFilter:function(a){this.addFilters([a])},addFilters:function(b){var a=this.getFilters();return this.insertFilters(a?a.length:0,b)},insertFilter:function(a,b){return this.insertFilters(a,[b])},insertFilters:function(h,c){if(!Ext.isArray(c)){c=[c]}var j=c.length,a=this.getFilterRoot(),d=this.getFilters(),e=[],f,g,b;if(!d){d=this.createFiltersCollection()}for(g=0;g<j;g++){b=c[g];f={root:a};if(Ext.isFunction(b)){f.filterFn=b}else{if(Ext.isObject(b)){if(!b.isFilter){if(b.fn){b.filterFn=b.fn;delete b.fn}f=Ext.apply(f,b)}else{e.push(b);if(!b.getRoot()){b.setRoot(a)}continue}}else{Ext.Logger.warn(\"Invalid filter specified:\",b)}}b=Ext.create(\"Ext.util.Filter\",f);e.push(b)}for(g=0,j=e.length;g<j;g++){d.insert(h+g,e[g])}this.dirtyFilterFn=true;if(d.length){this.filtered=true}return d},removeFilters:function(e){if(!Ext.isArray(e)){e=[e]}var d=e.length,c=this.getFilters(),a,b;for(a=0;a<d;a++){b=e[a];if(typeof b===\"string\"){c.each(function(f){if(f.getProperty()===b){c.remove(f)}})}else{if(typeof b===\"function\"){c.each(function(f){if(f.getFilterFn()===b){c.remove(f)}})}else{if(b.isFilter){c.remove(b)}else{if(b.property!==undefined&&b.value!==undefined){c.each(function(f){if(f.getProperty()===b.property&&f.getValue()===b.value){c.remove(f)}})}}}}}if(!c.length){this.filtered=false}},updateFilterFn:function(){var a=this.getFilters().items;this.filterFn=function(h){var f=true,g=a.length,b;for(b=0;b<g;b++){var e=a[b],d=e.getFilterFn(),c=e.getScope()||this;f=f&&d.call(c,h)}return f};this.dirtyFilterFn=false;return this.filterFn},filter:function(a){return this.getFilters().length?Ext.Array.filter(a,this.getFilterFn()):a},isFiltered:function(a){return this.getFilters().length?!this.getFilterFn()(a):false},getFilterFn:function(){if(this.dirtyFilterFn){return this.updateFilterFn()}return this.filterFn}});Ext.define(\"Ext.data.SortTypes\",{singleton:true,stripTagsRE:/<\\/?[^>]+>/gi,none:function(a){return a},asText:function(a){return String(a).replace(this.stripTagsRE,\"\")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,\"\")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){a=parseFloat(String(a).replace(/,/g,\"\"));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(/,/g,\"\"),10);return isNaN(a)?0:a}});Ext.define(\"Ext.util.Inflector\",{singleton:true,plurals:[[(/(quiz)$/i),\"$1zes\"],[(/^(ox)$/i),\"$1en\"],[(/([m|l])ouse$/i),\"$1ice\"],[(/(matr|vert|ind)ix|ex$/i),\"$1ices\"],[(/(x|ch|ss|sh)$/i),\"$1es\"],[(/([^aeiouy]|qu)y$/i),\"$1ies\"],[(/(hive)$/i),\"$1s\"],[(/(?:([^f])fe|([lr])f)$/i),\"$1$2ves\"],[(/sis$/i),\"ses\"],[(/([ti])um$/i),\"$1a\"],[(/(buffal|tomat|potat)o$/i),\"$1oes\"],[(/(bu)s$/i),\"$1ses\"],[(/(alias|status|sex)$/i),\"$1es\"],[(/(octop|vir)us$/i),\"$1i\"],[(/(ax|test)is$/i),\"$1es\"],[(/^person$/),\"people\"],[(/^man$/),\"men\"],[(/^(child)$/),\"$1ren\"],[(/s$/i),\"s\"],[(/$/),\"s\"]],singulars:[[(/(quiz)zes$/i),\"$1\"],[(/(matr)ices$/i),\"$1ix\"],[(/(vert|ind)ices$/i),\"$1ex\"],[(/^(ox)en/i),\"$1\"],[(/(alias|status)es$/i),\"$1\"],[(/(octop|vir)i$/i),\"$1us\"],[(/(cris|ax|test)es$/i),\"$1is\"],[(/(shoe)s$/i),\"$1\"],[(/(o)es$/i),\"$1\"],[(/(bus)es$/i),\"$1\"],[(/([m|l])ice$/i),\"$1ouse\"],[(/(x|ch|ss|sh)es$/i),\"$1\"],[(/(m)ovies$/i),\"$1ovie\"],[(/(s)eries$/i),\"$1eries\"],[(/([^aeiouy]|qu)ies$/i),\"$1y\"],[(/([lr])ves$/i),\"$1f\"],[(/(tive)s$/i),\"$1\"],[(/(hive)s$/i),\"$1\"],[(/([^f])ves$/i),\"$1fe\"],[(/(^analy)ses$/i),\"$1sis\"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),\"$1$2sis\"],[(/([ti])a$/i),\"$1um\"],[(/(n)ews$/i),\"$1ews\"],[(/people$/i),\"person\"],[(/s$/i),\"\"]],uncountable:[\"sheep\",\"fish\",\"series\",\"species\",\"money\",\"rice\",\"information\",\"equipment\",\"grass\",\"mud\",\"offspring\",\"deer\",\"means\"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(f){if(this.isTransnumeral(f)){return f}var e=this.plurals,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},singularize:function(f){if(this.isTransnumeral(f)){return f}var e=this.singulars,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(d){var b=parseInt(d,10),c=b%10,a=b%100;if(11<=a&&a<=13){return d+\"th\"}else{switch(c){case 1:return d+\"st\";case 2:return d+\"nd\";case 3:return d+\"rd\";default:return d+\"th\"}}}},function(){var b={alumnus:\"alumni\",cactus:\"cacti\",focus:\"foci\",nucleus:\"nuclei\",radius:\"radii\",stimulus:\"stimuli\",ellipsis:\"ellipses\",paralysis:\"paralyses\",oasis:\"oases\",appendix:\"appendices\",index:\"indexes\",beau:\"beaux\",bureau:\"bureaux\",tableau:\"tableaux\",woman:\"women\",child:\"children\",man:\"men\",corpus:\"corpora\",criterion:\"criteria\",curriculum:\"curricula\",genus:\"genera\",memorandum:\"memoranda\",phenomenon:\"phenomena\",foot:\"feet\",goose:\"geese\",tooth:\"teeth\",antenna:\"antennae\",formula:\"formulae\",nebula:\"nebulae\",vertebra:\"vertebrae\",vita:\"vitae\"},a;for(a in b){this.plural(a,b[a]);this.singular(b[a],a)}});Ext.define(\"Ext.data.Error\",{config:{field:null,message:\"\"},constructor:function(a){this.initConfig(a)}});Ext.define(\"Ext.data.Connection\",{mixins:{observable:\"Ext.mixin.Observable\"},statics:{requestId:0},config:{url:null,async:true,method:null,username:\"\",password:\"\",disableCaching:true,disableCachingParam:\"_dc\",timeout:30000,extraParams:null,defaultHeaders:null,useDefaultHeader:true,defaultPostHeader:\"application/x-www-form-urlencoded; charset=UTF-8\",useDefaultXhrHeader:true,defaultXhrHeader:\"XMLHttpRequest\",autoAbort:false},textAreaRe:/textarea/i,multiPartRe:/multipart\\/form-data/i,lineBreakRe:/\\r\\n/g,constructor:function(a){this.initConfig(a);this.requests={}},request:function(j){j=j||{};var f=this,i=j.scope||window,e=j.username||f.getUsername(),g=j.password||f.getPassword()||\"\",b,c,d,a,h;if(f.fireEvent(\"beforerequest\",f,j)!==false){c=f.setOptions(j,i);if(this.isFormUpload(j)===true){this.upload(j.form,c.url,c.data,j);return null}if(j.autoAbort===true||f.getAutoAbort()){f.abort()}h=this.getXhrInstance();b=j.async!==false?(j.async||f.getAsync()):false;if(e){h.open(c.method,c.url,b,e,g)}else{h.open(c.method,c.url,b)}a=f.setupHeaders(h,j,c.data,c.params);d={id:++this.self.requestId,xhr:h,headers:a,options:j,async:b,timeout:setTimeout(function(){d.timedout=true;f.abort(d)},j.timeout||f.getTimeout())};f.requests[d.id]=d;if(b){h.onreadystatechange=Ext.Function.bind(f.onStateChange,f,[d])}h.send(c.data);if(!b){return this.onComplete(d)}return d}else{Ext.callback(j.callback,j.scope,[j,undefined,undefined]);return null}},upload:function(e,c,i,k){e=Ext.getDom(e);k=k||{};var d=Ext.id(),g=document.createElement(\"iframe\"),j=[],h=\"multipart/form-data\",f={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},b=function(l,m){a=document.createElement(\"input\");Ext.fly(a).set({type:\"hidden\",value:m,name:l});e.appendChild(a);j.push(a)},a;Ext.fly(g).set({id:d,name:d,cls:Ext.baseCSSPrefix+\"hide-display\",src:Ext.SSL_SECURE_URL});document.body.appendChild(g);if(document.frames){document.frames[d].name=d}Ext.fly(e).set({target:d,method:\"POST\",enctype:h,encoding:h,action:c||f.action});if(i){Ext.iterate(Ext.Object.fromQueryString(i),function(l,m){if(Ext.isArray(m)){Ext.each(m,function(n){b(l,n)})}else{b(l,m)}})}Ext.fly(g).on(\"load\",Ext.Function.bind(this.onUploadComplete,this,[g,k]),null,{single:true});e.submit();Ext.fly(e).set(f);Ext.each(j,function(l){Ext.removeNode(l)})},onUploadComplete:function(h,b){var c=this,a={responseText:\"\",responseXML:null},g,f;try{g=h.contentWindow.document||h.contentDocument||window.frames[id].document;if(g){if(g.body){if(this.textAreaRe.test((f=g.body.firstChild||{}).tagName)){a.responseText=f.value}else{a.responseText=g.body.innerHTML}}a.responseXML=g.XMLDocument||g}}catch(d){}c.fireEvent(\"requestcomplete\",c,a,b);Ext.callback(b.success,b.scope,[a,b]);Ext.callback(b.callback,b.scope,[b,true,a]);setTimeout(function(){Ext.removeNode(h)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return(a.isUpload||(this.multiPartRe).test(b.getAttribute(\"enctype\")))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(k,j){var h=this,e=k.params||{},g=h.getExtraParams(),d=k.urlParams,c=k.url||h.getUrl(),i=k.jsonData,b,a,f;if(Ext.isFunction(e)){e=e.call(j,k)}if(Ext.isFunction(c)){c=c.call(j,k)}c=this.setupUrl(k,c);if(!c){Ext.Logger.error(\"No URL specified\")}f=k.rawData||k.xmlData||i||null;if(i&&!Ext.isPrimitive(i)){f=Ext.encode(f)}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}e=e+((g)?((e)?\"&\":\"\")+g:\"\");d=Ext.isObject(d)?Ext.Object.toQueryString(d):d;e=this.setupParams(k,e);b=(k.method||h.getMethod()||((e||f)?\"POST\":\"GET\")).toUpperCase();this.setupMethod(k,b);a=k.disableCaching!==false?(k.disableCaching||h.getDisableCaching()):false;if(b===\"GET\"&&a){c=Ext.urlAppend(c,(k.disableCachingParam||h.getDisableCachingParam())+\"=\"+(new Date().getTime()))}if((b==\"GET\"||f)&&e){c=Ext.urlAppend(c,e);e=null}if(d){c=Ext.urlAppend(c,d)}return{url:c,method:b,data:f||e||null}},setupUrl:function(b,a){var c=this.getForm(b);if(c){a=a||c.action}return a},setupParams:function(a,d){var c=this.getForm(a),b;if(c&&!this.isFormUpload(a)){b=Ext.Element.serializeForm(c);d=d?(d+\"&\"+b):b}return d},setupMethod:function(a,b){if(this.isFormUpload(a)){return\"POST\"}return b},setupHeaders:function(l,m,d,c){var h=this,b=Ext.apply({},m.headers||{},h.getDefaultHeaders()||{}),k=h.getDefaultPostHeader(),i=m.jsonData,a=m.xmlData,j,f;if(!b[\"Content-Type\"]&&(d||c)){if(d){if(m.rawData){k=\"text/plain\"}else{if(a&&Ext.isDefined(a)){k=\"text/xml\"}else{if(i&&Ext.isDefined(i)){k=\"application/json\"}}}}b[\"Content-Type\"]=k}if(((h.getUseDefaultXhrHeader()&&m.useDefaultXhrHeader!==false)||m.useDefaultXhrHeader)&&!b[\"X-Requested-With\"]){b[\"X-Requested-With\"]=h.getDefaultXhrHeader()}try{for(j in b){if(b.hasOwnProperty(j)){f=b[j];l.setRequestHeader(j,f)}}}catch(g){h.fireEvent(\"exception\",j,f)}if(m.withCredentials){l.withCredentials=m.withCredentials}return b},getXhrInstance:(function(){var b=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\")},function(){return new ActiveXObject(\"MSXML2.XMLHTTP\")},function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")}],c=0,a=b.length,f;for(;c<a;++c){try{f=b[c];f();break}catch(d){}}return f})(),isLoading:function(a){if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return !(b===0||b==4)},abort:function(b){var a=this,d=a.requests,c;if(b&&a.isLoading(b)){b.xhr.onreadystatechange=null;b.xhr.abort();a.clearTimeout(b);if(!b.timedout){b.aborted=true}a.onComplete(b);a.cleanup(b)}else{if(!b){for(c in d){if(d.hasOwnProperty(c)){a.abort(d[c])}}}}},abortAll:function(){this.abort()},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(f){var d=this,c=f.options,a,h,b;try{a=d.parseStatus(f.xhr.status,f.xhr);if(f.timedout){a.success=false}}catch(g){a={success:false,isException:false}}h=a.success;if(h){b=d.createResponse(f);d.fireEvent(\"requestcomplete\",d,b,c);Ext.callback(c.success,c.scope,[b,c])}else{if(a.isException||f.aborted||f.timedout){b=d.createException(f)}else{b=d.createResponse(f)}d.fireEvent(\"requestexception\",d,b,c);Ext.callback(c.failure,c.scope,[b,c])}Ext.callback(c.callback,c.scope,[c,h,b]);delete d.requests[f.id];return b},parseStatus:function(a,d){a=a==1223?204:a;var c=(a>=200&&a<300)||a==304||(a==0&&d.responseText.length>0),b=false;if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break}}return{success:c,isException:b}},createResponse:function(c){var g=c.xhr,a={},h,d,i,e,f,b;if(c.timedout||c.aborted){c.success=false;h=[]}else{h=g.getAllResponseHeaders().replace(this.lineBreakRe,\"\\n\").split(\"\\n\")}d=h.length;while(d--){i=h[d];e=i.indexOf(\":\");if(e>=0){f=i.substr(0,e).toLowerCase();if(i.charAt(e+1)==\" \"){++e}a[f]=i.substr(e+1)}}c.xhr=null;delete c.xhr;b={request:c,requestId:c.id,status:g.status,statusText:g.statusText,getResponseHeader:function(j){return a[j.toLowerCase()]},getAllResponseHeaders:function(){return a},responseText:g.responseText,responseXML:g.responseXML};g=null;return b},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?\"transaction aborted\":\"communication failure\",aborted:a.aborted,timedout:a.timedout}}});Ext.define(\"Ext.tab.Tab\",{extend:\"Ext.Button\",xtype:\"tab\",alternateClassName:\"Ext.Tab\",isTab:true,config:{baseCls:Ext.baseCSSPrefix+\"tab\",pressedCls:Ext.baseCSSPrefix+\"tab-pressed\",activeCls:Ext.baseCSSPrefix+\"tab-active\",active:false,title:\"&nbsp;\"},template:[{tag:\"span\",reference:\"badgeElement\",hidden:true},{tag:\"span\",className:Ext.baseCSSPrefix+\"button-icon\",reference:\"iconElement\",style:\"visibility: hidden !important\"},{tag:\"span\",reference:\"textElement\",hidden:true}],updateTitle:function(a){this.setText(a)},hideIconElement:function(){this.iconElement.dom.style.setProperty(\"visibility\",\"hidden\",\"!important\")},showIconElement:function(){this.iconElement.dom.style.setProperty(\"visibility\",\"visible\",\"!important\")},updateActive:function(c,b){var a=this.getActiveCls();if(c&&!b){this.element.addCls(a);this.fireEvent(\"activate\",this)}else{if(b){this.element.removeCls(a);this.fireEvent(\"deactivate\",this)}}}},function(){this.override({activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)}})});Ext.define(\"Ext.device.communicator.Default\",{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(b){var d,c,a,e;if(!b){b={}}else{if(b.callbacks){d=b.callbacks;c=b.scope;delete b.callbacks;delete b.scope;for(a in d){if(d.hasOwnProperty(a)){e=d[a];if(typeof e==\"function\"){b[a]=this.getCallbackId(e,c)}}}}}this.doSend(b)},doSend:function(a){var b=new XMLHttpRequest();b.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a),false);b.send(null)}});Ext.define(\"Ext.device.communicator.Android\",{extend:\"Ext.device.communicator.Default\",doSend:function(a){window.Sencha.action(JSON.stringify(a))}});Ext.define(\"Ext.device.camera.Abstract\",{source:{library:0,camera:1,album:2},destination:{data:0,file:1},encoding:{jpeg:0,jpg:0,png:1},capture:Ext.emptyFn});Ext.define(\"Ext.mixin.Selectable\",{extend:\"Ext.mixin.Mixin\",mixinConfig:{id:\"selectable\",hooks:{updateStore:\"updateStore\"}},config:{disableSelection:null,mode:\"SINGLE\",allowDeselect:false,lastSelected:null,lastFocused:null,deselectOnContainerClick:true},modes:{SINGLE:true,SIMPLE:true,MULTI:true},selectableEventHooks:{addrecords:\"onSelectionStoreAdd\",removerecords:\"onSelectionStoreRemove\",updaterecord:\"onSelectionStoreUpdate\",load:\"refreshSelection\",refresh:\"refreshSelection\"},constructor:function(){this.selected=new Ext.util.MixedCollection();this.callParent(arguments)},applyMode:function(a){a=a?a.toUpperCase():\"SINGLE\";return this.modes[a]?a:\"SINGLE\"},updateStore:function(a,c){var b=this,d=Ext.apply({},b.selectableEventHooks,{scope:b});if(c&&Ext.isObject(c)&&c.isStore){if(c.autoDestroy){c.destroy()}else{c.un(d)}}if(a){a.on(d);b.refreshSelection()}},selectAll:function(a){var e=this,c=e.getStore().getRange(),d=c.length,b=0;for(;b<d;b++){e.select(c[b],true,a)}},deselectAll:function(c){var b=this,a=b.getStore().getRange();b.deselect(a,c);b.selected.clear();b.setLastSelected(null);b.setLastFocused(null)},selectWithEvent:function(a){var c=this,b=c.isSelected(a);switch(c.getMode()){case\"MULTI\":case\"SIMPLE\":if(b){c.deselect(a)}else{c.select(a,true)}break;case\"SINGLE\":if(c.getAllowDeselect()&&b){c.deselect(a)}else{c.select(a,false)}break}},selectRange:function(c,g,h){var f=this,b=f.getStore(),a=[],e,d;if(f.getDisableSelection()){return}if(c>g){e=g;g=c;c=e}for(d=c;d<=g;d++){a.push(b.getAt(d))}this.doMultiSelect(a,h)},select:function(c,e,b){var d=this,a;if(d.getDisableSelection()){return}if(typeof c===\"number\"){c=[d.getStore().getAt(c)]}if(!c){return}if(d.getMode()==\"SINGLE\"&&c){a=c.length?c[0]:c;d.doSingleSelect(a,b)}else{d.doMultiSelect(c,e,b)}},doSingleSelect:function(a,b){var d=this,c=d.selected;if(d.getDisableSelection()){return}if(d.isSelected(a)){return}if(c.getCount()>0){d.deselect(d.getLastSelected(),b)}c.add(a);d.setLastSelected(a);d.onItemSelect(a,b);d.setLastFocused(a);if(!b){d.fireSelectionChange([a])}},doMultiSelect:function(a,j,h){if(a===null||this.getDisableSelection()){return}a=!Ext.isArray(a)?[a]:a;var f=this,b=f.selected,e=a.length,g=false,c=0,d;if(!j&&b.getCount()>0){g=true;f.deselect(f.getSelection(),true)}for(;c<e;c++){d=a[c];if(j&&f.isSelected(d)){continue}g=true;f.setLastSelected(d);b.add(d);if(!h){f.setLastFocused(d)}f.onItemSelect(d,h)}if(g&&!h){this.fireSelectionChange(a)}},deselect:function(a,j){var f=this;if(f.getDisableSelection()){return}a=Ext.isArray(a)?a:[a];var b=f.selected,g=false,c=0,h=f.getStore(),e=a.length,d;for(;c<e;c++){d=a[c];if(typeof d===\"number\"){d=h.getAt(d)}if(b.remove(d)){if(f.getLastSelected()==d){f.setLastSelected(b.last())}g=true}if(d){f.onItemDeselect(d,j)}}if(g&&!j){f.fireSelectionChange(a)}},updateLastFocused:function(b,a){this.onLastFocusChanged(a,b)},fireSelectionChange:function(a){var b=this;b.fireAction(\"beforeselectionchange\",[b],function(){b.fireAction(\"selectionchange\",[b,a],\"getSelection\")})},getSelection:function(){return this.selected.getRange()},isSelected:function(a){a=Ext.isNumber(a)?this.getStore().getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var b=this,a=b.getSelection();b.deselectAll(true);if(a.length){b.select(a,false,true)}},onSelectionStoreRemove:function(c,b){var g=this,e=g.selected,f=b.length,a,d;if(g.getDisableSelection()){return}for(d=0;d<f;d++){a=b[d];if(e.remove(a)){if(g.getLastSelected()==a){g.setLastSelected(null)}if(g.getLastFocused()==a){g.setLastFocused(null)}g.fireSelectionChange([a])}}},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){this.override({constructor:function(b){if(b&&b.hasOwnProperty(\"locked\")){var a=b.locked;b.disableSelection=a;delete b.locked}this.callParent([b])}});Ext.deprecateClassMethod(this,{isLocked:\"getDisableSelection\",getSelectionMode:\"getMode\",doDeselect:\"deselect\",doSelect:\"select\",bind:\"setStore\",clearSelections:\"deselectAll\",getCount:\"getSelectionCount\"})});Ext.define(\"Ext.dataview.element.Container\",{extend:\"Ext.Component\",doInitialize:function(){this.element.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> div\",scope:this})},initialize:function(){this.callParent();this.doInitialize()},updateBaseCls:function(a,b){var c=this;c.callParent([a+\"-container\",b])},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,Ext.get(c),a,d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,Ext.get(c),a,d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtouchmove\",b,Ext.get(c),a,d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtap\",b,Ext.get(c),a,d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtaphold\",b,Ext.get(c),a,d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemdoubletap\",b,Ext.get(c),a,d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemsingletap\",b,Ext.get(c),a,d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemswipe\",b,Ext.get(c),a,d)},updateListItem:function(b,d){var c=this,a=c.dataview,e=a.prepareData(b.getData(true),a.getStore().indexOf(b),b);d.innerHTML=c.dataview.getItemTpl().apply(e)},addListItem:function(e,c){var h=this,d=h.dataview,a=d.prepareData(c.getData(true),d.getStore().indexOf(c),c),b=h.element,i=b.dom.childNodes,g=i.length,f;f=Ext.Element.create(this.getItemElementConfig(e,a));if(!g||e==g){f.appendTo(b)}else{f.insertBefore(i[e])}},getItemElementConfig:function(c,e){var b=this.dataview,d=b.getItemCls(),a=b.getBaseCls()+\"-item\";if(d){a+=\" \"+d}return{cls:a,html:b.getItemTpl().apply(e)}},doRemoveItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).removeCls(a)}},doAddItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).addCls(a)}},moveItemsToCache:function(f,e){var d=this,a=d.getViewItems(),b=e-f,c;for(;b>=0;b--){c=a[f+b];c.parentNode.removeChild(c)}if(d.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(d){var g=this,b=g.dataview,c=b.getStore(),f=d.length,e,a;if(f){b.hideEmptyText()}for(e=0;e<f;e++){d[e]._tmpIndex=c.indexOf(d[e])}Ext.Array.sort(d,function(i,h){return i._tmpIndex>h._tmpIndex?1:-1});for(e=0;e<f;e++){a=d[e];g.addListItem(a._tmpIndex,a);delete a._tmpIndex}},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},destroy:function(){var c=this.getViewItems(),b=c.length,a=0;for(;a<b;a++){Ext.removeNode(c[a])}this.callParent()}});Ext.define(\"Ext.Decorator\",{extend:\"Ext.Component\",isDecorator:true,config:{component:{}},statics:{generateProxySetter:function(a){return function(c){var b=this.getComponent();b[a].call(b,c);return this}},generateProxyGetter:function(a){return function(){var b=this.getComponent();return b[a].call(b)}}},onClassExtended:function(c,e){if(!e.hasOwnProperty(\"proxyConfig\")){return}var f=Ext.Class,i=e.proxyConfig,d=e.config;e.config=(d)?Ext.applyIf(d,i):i;var b,h,g,a;for(b in i){if(i.hasOwnProperty(b)){h=f.getConfigNameMap(b);g=h.set;a=h.get;e[g]=this.generateProxySetter(g);e[a]=this.generateProxyGetter(a)}}},applyComponent:function(a){return Ext.factory(a,Ext.Component)},updateComponent:function(a,b){if(b){if(this.isRendered()&&b.setRendered(false)){b.fireAction(\"renderedchange\",[this,b,false],\"doUnsetComponent\",this,{args:[b]})}else{this.doUnsetComponent(b)}}if(a){if(this.isRendered()&&a.setRendered(true)){a.fireAction(\"renderedchange\",[this,a,true],\"doSetComponent\",this,{args:[a]})}else{this.doSetComponent(a)}}},doUnsetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.removeChild(a.renderElement.dom)}},doSetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.appendChild(a.renderElement.dom)}},setRendered:function(b){var a;if(this.callParent(arguments)){a=this.getComponent();if(a){a.setRendered(b)}return true}return false},setDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)},destroy:function(){Ext.destroy(this.getComponent());this.callParent()}});Ext.define(\"Ext.field.Input\",{extend:\"Ext.Component\",xtype:\"input\",tag:\"input\",cachedConfig:{cls:Ext.baseCSSPrefix+\"form-field\",focusCls:Ext.baseCSSPrefix+\"field-focus\",maskCls:Ext.baseCSSPrefix+\"field-mask\",useMask:\"auto\",type:\"text\",checked:false},config:{baseCls:Ext.baseCSSPrefix+\"field-input\",name:null,value:null,isFocused:false,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,startValue:false},getTemplate:function(){var a=[{reference:\"input\",tag:this.tag},{reference:\"clearIcon\",cls:\"x-clear-icon\"}];a.push({reference:\"mask\",classList:[this.config.maskCls]});return a},initElement:function(){var a=this;a.callParent();a.input.on({scope:a,keyup:\"onKeyUp\",focus:\"onFocus\",blur:\"onBlur\",paste:\"onPaste\"});a.mask.on({tap:\"onMaskTap\",scope:a});if(a.clearIcon){a.clearIcon.on({tap:\"onClearIconTap\",scope:a})}},applyUseMask:function(a){if(a===\"auto\"){a=Ext.os.is.iOS&&Ext.os.version.lt(\"5\")}return Boolean(a)},updateUseMask:function(a){this.mask[a?\"show\":\"hide\"]()},updateFieldAttribute:function(b,c){var a=this.input;if(c){a.dom.setAttribute(b,c)}else{a.dom.removeAttribute(b)}},updateCls:function(b,a){this.input.addCls(Ext.baseCSSPrefix+\"input-el\");this.input.replaceCls(a,b)},updateType:function(a,c){var b=Ext.baseCSSPrefix+\"input-\";this.input.replaceCls(b+c,b+a);this.updateFieldAttribute(\"type\",a)},updateName:function(a){this.updateFieldAttribute(\"name\",a)},getValue:function(){var a=this.input;if(a){this._value=a.dom.value}return this._value},applyValue:function(a){return(Ext.isEmpty(a))?\"\":a},updateValue:function(b){var a=this.input;if(a){a.dom.value=b}},setValue:function(b){var a=this._value;this.updateValue(this.applyValue(b));b=this.getValue();if(String(b)!=String(a)&&this.initialized){this.onChange(this,b,a)}return this},applyTabIndex:function(a){if(a!==null&&typeof a!=\"number\"){throw new Error(\"Ext.field.Field: [applyTabIndex] trying to pass a value which is not a number\")}return a},updateTabIndex:function(a){this.updateFieldAttribute(\"tabIndex\",a)},testAutoFn:function(a){return[true,\"on\"].indexOf(a)!==-1},applyMaxLength:function(a){if(a!==null&&typeof a!=\"number\"){throw new Error(\"Ext.field.Text: [applyMaxLength] trying to pass a value which is not a number\")}return a},updateMaxLength:function(a){this.updateFieldAttribute(\"maxlength\",a)},updatePlaceHolder:function(a){this.updateFieldAttribute(\"placeholder\",a)},applyAutoComplete:function(a){return this.testAutoFn(a)},updateAutoComplete:function(a){var b=a?\"on\":\"off\";this.updateFieldAttribute(\"autocomplete\",b)},applyAutoCapitalize:function(a){return this.testAutoFn(a)},updateAutoCapitalize:function(b){var a=b?\"on\":\"off\";this.updateFieldAttribute(\"autocapitalize\",a)},applyAutoCorrect:function(a){return this.testAutoFn(a)},updateAutoCorrect:function(a){var b=a?\"on\":\"off\";this.updateFieldAttribute(\"autocorrect\",b)},updateMinValue:function(a){this.updateFieldAttribute(\"min\",a)},updateMaxValue:function(a){this.updateFieldAttribute(\"max\",a)},updateStepValue:function(a){this.updateFieldAttribute(\"step\",a)},checkedRe:/^(true|1|on)/i,getChecked:function(){var a=this.input,b;if(a){b=a.dom.checked;this._checked=b}return b},applyChecked:function(a){return !!this.checkedRe.test(String(a))},setChecked:function(a){this.updateChecked(this.applyChecked(a));this._checked=a},updateChecked:function(a){this.input.dom.checked=a},updateReadOnly:function(a){this.updateFieldAttribute(\"readonly\",a)},applyMaxRows:function(a){if(a!==null&&typeof a!==\"number\"){throw new Error(\"Ext.field.Input: [applyMaxRows] trying to pass a value which is not a number\")}return a},updateMaxRows:function(a){this.updateFieldAttribute(\"rows\",a)},doSetDisabled:function(a){this.callParent(arguments);this.input.dom.disabled=a;if(!a){this.blur()}},isDirty:function(){if(this.getDisabled()){return false}return String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onMaskTap:function(a){this.fireAction(\"masktap\",[this,a],\"doMaskTap\")},doMaskTap:function(a,b){if(a.getDisabled()){return false}a.maskCorrectionTimer=Ext.defer(a.showMask,1000,a);a.hideMask()},showMask:function(a){if(this.mask){this.mask.setStyle(\"display\",\"block\")}},hideMask:function(a){if(this.mask){this.mask.setStyle(\"display\",\"none\")}},focus:function(){var b=this,a=b.input;if(a&&a.dom.focus){a.dom.focus()}return b},blur:function(){var b=this,a=this.input;if(a&&a.dom.blur){a.dom.blur()}return b},select:function(){var b=this,a=b.input;if(a&&a.dom.setSelectionRange){a.dom.setSelectionRange(0,9999)}return b},onFocus:function(a){this.fireAction(\"focus\",[a],\"doFocus\")},doFocus:function(b){var a=this;if(a.mask){if(a.maskCorrectionTimer){clearTimeout(a.maskCorrectionTimer)}a.hideMask()}if(!a.getIsFocused()){a.setIsFocused(true);a.setStartValue(a.getValue())}},onBlur:function(a){this.fireAction(\"blur\",[a],\"doBlur\")},doBlur:function(d){var b=this,c=b.getValue(),a=b.getStartValue();b.setIsFocused(false);if(String(c)!=String(a)){b.onChange(b,c,a)}b.showMask()},onClearIconTap:function(a){this.fireEvent(\"clearicontap\",this,a);if(Ext.os.is.Android){this.focus()}},onClick:function(a){this.fireEvent(\"click\",a)},onChange:function(b,c,a){this.fireEvent(\"change\",b,c,a)},onKeyUp:function(a){this.fireEvent(\"keyup\",a)},onPaste:function(a){this.fireEvent(\"paste\",a)},onMouseDown:function(a){this.fireEvent(\"mousedown\",a)}});Ext.define(\"Ext.data.Request\",{config:{action:null,params:null,method:\"GET\",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,jsonP:null,jsonData:null,xmlData:null,withCredentials:null,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null},constructor:function(a){this.initConfig(a)}});Ext.define(\"Ext.util.HashMap\",{mixins:{observable:\"Ext.mixin.Observable\"},constructor:function(a){this.callParent();this.mixins.observable.constructor.call(this);this.clear(true)},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,d){var b=this,c;if(b.containsKey(a)){throw new Error(\"This key already exists in the HashMap\")}c=this.getData(a,d);a=c[0];d=c[1];b.map[a]=d;++b.length;b.fireEvent(\"add\",b,a,d);return d},replace:function(b,d){var c=this,e=c.map,a;if(!c.containsKey(b)){c.add(b,d)}a=e[b];e[b]=d;c.fireEvent(\"replace\",c,b,d,a);return d},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeByKey(a)}return false},removeByKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.fireEvent(\"remove\",b,a,c);return true}return false},get:function(a){return this.map[a]},clear:function(a){var b=this;b.map={};b.length=0;if(a!==true){b.fireEvent(\"clear\",b)}return b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(d){var a=[],b,c=this.map;for(b in c){if(c.hasOwnProperty(b)){a.push(d?b:c[b])}}return a},each:function(d,c){var a=Ext.apply({},this.map),b,e=this.length;c=c||this;for(b in a){if(a.hasOwnProperty(b)){if(d.call(c,b,a[b],e)===false){break}}}return this},clone:function(){var c=new Ext.util.HashMap(),b=this.map,a;c.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){c.add(a,b[a])}}c.resumeEvents();return c},findKey:function(b){var a,c=this.map;for(a in c){if(c.hasOwnProperty(a)&&c[a]===b){return a}}return undefined}});Ext.define(\"Ext.dataview.component.DataItem\",{extend:\"Ext.Container\",xtype:\"dataitem\",config:{baseCls:Ext.baseCSSPrefix+\"data-item\",defaultType:\"component\",record:null,itemCls:null,dataMap:{},items:[{xtype:\"component\"}]},updateBaseCls:function(a,b){var c=this;c.callParent(arguments)},updateItemCls:function(b,a){if(a){this.removeCls(a)}if(b){this.addCls(b)}},updateRecord:function(d){if(!d){return}this._record=d;var h=this,c=h.config.dataview,b=c.prepareData(d.getData(true),c.getStore().indexOf(d),d),e=h.getItems(),k=e.first(),i=h.getDataMap(),f,j,g,a;if(!k){return}for(f in i){g=i[f];j=h[f]();if(j){for(a in g){if(j[a]){j[a](b[g[a]])}}}}h.fireEvent(\"updatedata\",h,b);k.updateData(b)}});Ext.define(\"Ext.slider.Thumb\",{extend:\"Ext.Component\",xtype:\"thumb\",config:{baseCls:Ext.baseCSSPrefix+\"thumb\",draggable:{direction:\"horizontal\"}},elementWidth:0,initialize:function(){this.callParent();this.getDraggable().onBefore({dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this});this.on(\"painted\",\"onPainted\")},onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onPainted:function(){this.elementWidth=this.element.dom.offsetWidth},getElementWidth:function(){return this.elementWidth}});Ext.define(\"Ext.data.Batch\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{autoStart:false,pauseOnException:true,proxy:null},current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.initConfig(a);b.operations=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a)},start:function(){this.hasException=false;this.isRunning=true;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=false},runOperation:function(d){var e=this,c=e.operations,b=c[d],a;if(b===undefined){e.isRunning=false;e.isComplete=true;e.fireEvent(\"complete\",e,c[c.length-1])}else{e.current=d;a=function(f){var g=f.hasException();if(g){e.hasException=true;e.fireEvent(\"exception\",e,f)}else{e.fireEvent(\"operationcomplete\",e,f)}if(g&&e.getPauseOnException()){e.pause()}else{f.setCompleted();e.runNextOperation()}};b.setStarted();e.getProxy()[b.getAction()](b,a,e)}}});Ext.define(\"Ext.data.writer.Writer\",{alias:\"writer.base\",alternateClassName:[\"Ext.data.DataWriter\",\"Ext.data.Writer\"],config:{writeAllFields:true,nameProperty:\"name\"},constructor:function(a){this.initConfig(a)},write:function(e){var c=e.getOperation(),b=c.getRecords()||[],a=b.length,d=0,f=[];for(;d<a;d++){f.push(this.getRecordData(b[d]))}return this.writeRecords(e,f)},writeDate:function(c,b){var a=c.dateFormat||\"timestamp\";switch(a){case\"timestamp\":return b.getTime()/1000;case\"time\":return b.getTime();default:return Ext.Date.format(b,a)}},getRecordData:function(e){var j=e.phantom===true,b=this.getWriteAllFields()||j,c=this.getNameProperty(),f=e.getFields(),d={},h,a,g,k,i;if(b){f.each(function(l){if(l.getPersist()){a=l.config[c]||l.getName();i=e.get(l.getName());if(l.getType().type==\"date\"){i=this.writeDate(l,i)}d[a]=i}},this)}else{h=e.getChanges();for(k in h){if(h.hasOwnProperty(k)){g=f.get(k);if(g.getPersist()){a=g.config[c]||g.getName();i=h[k];if(g.getType().type==\"date\"){i=this.writeDate(g,i)}d[a]=i}}}if(!j){d[e.getIdProperty()]=e.getId()}}return d},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Writer prototype. Please put it inside the config object.\")}}g.config=d}});Ext.define(\"Ext.data.ResultSet\",{config:{loaded:true,count:null,total:null,success:false,records:null,message:null},constructor:function(a){this.initConfig(a)},applyCount:function(a){if(!a&&a!==0){return this.getRecords().length}return a},updateRecords:function(a){this.setCount(a.length)}});Ext.define(\"B2B.view._SplashBeerSearch\",{extend:\"Ext.Img\",id:\"_splashbeersearch\",xtype:\"_splashbeersearch\",config:{}});Ext.define(\"Ext.data.identifier.Uuid\",{extend:\"Ext.data.identifier.Simple\",alias:\"data.identifier.uuid\",isUnique:true,config:{id:undefined,salt:null,timestamp:null,version:4},applyId:function(a){if(a===undefined){return Ext.data.identifier.Uuid.Global}return a},constructor:function(){var a=this;a.callParent(arguments);a.parts=[];a.init()},reconfigure:function(a){this.setConfig(a);this.init()},generate:function(){var c=this,e=c.parts,a=c.getVersion(),b=c.getSalt(),d=c.getTimestamp();e[0]=c.toHex(d.lo,8);e[1]=c.toHex(d.hi&65535,4);e[2]=c.toHex(((d.hi>>>16)&4095)|(a<<12),4);e[3]=c.toHex(128|((c.clockSeq>>>8)&63),2)+c.toHex(c.clockSeq&255,2);e[4]=c.toHex(b.hi,4)+c.toHex(b.lo,8);if(a==4){c.init()}else{++d.lo;if(d.lo>=c.twoPow32){d.lo=0;++d.hi}}return e.join(\"-\").toLowerCase()},init:function(){var b=this,a=b.getSalt(),c=b.getTimestamp();if(b.getVersion()==4){b.clockSeq=b.rand(0,b.twoPow14-1);if(!a){a={};b.setSalt(a)}if(!c){c={};b.setTimestamp(c)}a.lo=b.rand(0,b.twoPow32-1);a.hi=b.rand(0,b.twoPow16-1);c.lo=b.rand(0,b.twoPow32-1);c.hi=b.rand(0,b.twoPow28-1)}else{b.setSalt(b.split(b.getSalt()));b.setTimestamp(b.split(b.getTimestamp()));b.getSalt().hi|=256}},twoPow14:Math.pow(2,14),twoPow16:Math.pow(2,16),twoPow28:Math.pow(2,28),twoPow32:Math.pow(2,32),toHex:function(c,b){var a=c.toString(16);if(a.length>b){a=a.substring(a.length-b)}else{if(a.length<b){a=Ext.String.leftPad(a,b,\"0\")}}return a},rand:function(c,b){var a=Math.random()*(b-c+1);return Math.floor(a)+c},split:function(b){if(typeof(b)==\"number\"){var a=Math.floor(b/this.twoPow32);return{lo:Math.floor(b-a*this.twoPow32),hi:a}}return b}},function(){this.Global=new this({id:\"uuid\"})});Ext.define(\"Ext.Panel\",{extend:\"Ext.Container\",requires:[\"Ext.util.LineSegment\"],alternateClassName:\"Ext.lib.Panel\",xtype:\"panel\",isPanel:true,config:{baseCls:Ext.baseCSSPrefix+\"panel\",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){var a=this.callParent();a.children.push({reference:\"tipElement\",className:\"x-anchor\",hidden:true});return a},applyBodyPadding:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyPadding:function(a){this.element.setStyle(\"padding\",a)},applyBodyMargin:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyMargin:function(a){this.element.setStyle(\"margin\",a)},applyBodyBorder:function(a){if(a===true){a=1}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyBorder:function(a){this.element.setStyle(\"border-width\",a)},alignTo:function(m){var w=this.tipElement;w.hide();if(this.currentTipPosition){w.removeCls(\"x-anchor-\"+this.currentTipPosition)}this.callParent(arguments);var f=Ext.util.LineSegment,d=m.isComponent?m.renderElement:m,a=this.renderElement,n=d.getPageBox(),k=a.getPageBox(),b=k.left,t=k.top,C=k.right,h=k.bottom,j=b+(k.width/2),i=t+(k.height/2),o={x:b,y:t},l={x:C,y:t},B={x:b,y:h},D={x:C,y:h},y={x:j,y:i},s=n.left+(n.width/2),q=n.top+(n.height/2),v={x:s,y:q},c=new f(y,v),g=0,A=0,e,z,r,p,x,u;w.setVisibility(false);w.show();e=w.getSize();z=e.width;r=e.height;if(c.intersects(new f(o,l))){x=Math.min(Math.max(s,b),C-(z/2));u=t;A=r+10;p=\"top\"}else{if(c.intersects(new f(o,B))){x=b;u=Math.min(Math.max(q+(z/2),t),h);g=r+10;p=\"left\"}else{if(c.intersects(new f(B,D))){x=Math.min(Math.max(s,b),C-(z/2));u=h;A=-r-10;p=\"bottom\"}else{if(c.intersects(new f(l,D))){x=C;u=Math.min(Math.max(q-(z/2),t),h);g=-r-10;p=\"right\"}}}}if(x||u){this.currentTipPosition=p;w.addCls(\"x-anchor-\"+p);w.setLeft(x-b);w.setTop(u-t);w.setVisibility(true);this.setLeft(this.getLeft()+g);this.setTop(this.getTop()+A)}}});Ext.define(\"B2B.view.Feedback_Container\",{extend:\"Ext.Panel\",xtype:\"feedbackcontainerpanel\",id:\"feedbackcontainerpanel\",config:{title:i18n.app.FORM_FEEDBACK},initialize:function(){this.callParent(arguments);if(this.target){var b=Ext.getStore(\"Feedback_Ajax\");b.getProxy().setExtraParam(target,this.target);var d={xtype:\"feedbacklistcomponent\",store:b,draggable:false,height:100};var c={xtype:\"feedbackform\"};this.add([d,c])}else{var a=[\"<div>\"+i18n.app.TEXT_NOFEEDBACKFOUND+\"</div>\"].join(\"\");this.add([a])}}});Ext.define(\"B2B.view.Friend_List_Container\",{extend:\"Ext.Panel\",xtype:\"friendlistcontainerpanel\",id:\"friendlistcontainerpanel\",config:{title:i18n.app.LABEL_FRIENDS,iconCls:\"user_list\",layout:{type:\"fit\"}},initialize:function(){var c=this;this.callParent(arguments);var d={xtype:\"container\",cls:\"header_img\",height:50,width:\"100%\",docked:\"top\",html:'<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'};var b={xtype:\"friendsearch\"};var a={xtype:\"friendlistcomponent\",store:Ext.getStore(\"Friends_Local\"),ui:\"round\",};this.add([d,b,a])},});Ext.define(\"B2B.view.Notification_Container\",{extend:\"Ext.Panel\",xtype:\"notificationlistcontainerpanel\",config:{title:i18n.app.LABEL_FRIENDS,iconCls:\"user_list\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var d={xtype:\"button\",text:i18n.app.BTN_MARKALLREAD,ui:\"action\",id:\"mark_notification_allread_btn\",handler:this.onMarkNotificationAllReadButtonTap,scope:this};var c={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_notification_btn\",handler:this.onBackNotificationButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",title:i18n.app.PANEL_NOTIFICATION,docked:\"top\",items:[c,{xtype:\"spacer\"},d]};var b={xtype:\"notificationlistcomponent\",store:Ext.getStore(\"Notifications_Local\"),};this.add([a,b])},onMarkNotificationAllReadButtonTap:function(){this.fireEvent(\"notificationReadAllCommand\",this)},onBackNotificationButtonTap:function(){this.fireEvent(\"notificationBackCommand\",this)}});Ext.define(\"B2B.view.Badge_List_Container\",{extend:\"Ext.Panel\",xtype:\"badgelistcontainerpanel\",id:\"badgelistcontainerpanel\",config:{title:i18n.app.LABEL_BADGES,iconCls:\"badge_list\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_about_btn\",handler:this.onBackButtonTap,scope:this},c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.LABEL_BADGES,id:\"BadgesContainerTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"}]},a={xtype:\"badgelistcomponent\",store:Ext.getStore(\"Badges_Ajax\"),ui:\"round\"};this.add([c,a])},onBackButtonTap:function(){this.fireEvent(\"backToProfileCommand\",this)}});Ext.define(\"Ext.Toolbar\",{extend:\"Ext.Container\",xtype:\"toolbar\",requires:[\"Ext.Button\",\"Ext.Title\",\"Ext.Spacer\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\",align:\"center\"}},constructor:function(a){a=a||{};if(a.docked==\"left\"||a.docked==\"right\"){a.layout={type:\"vbox\",align:\"stretch\"}}this.callParent([a])},applyTitle:function(a){if(typeof a==\"string\"){a={title:a,centered:true}}return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(b,a){if(b){this.add(b);this.getLayout().setItemFlex(b,1)}if(a){a.destroy()}},showTitle:function(){var a=this.getTitle();if(a){a.show()}},hideTitle:function(){var a=this.getTitle();if(a){a.hide()}}},function(){Ext.deprecateProperty(this,\"titleCls\",null,\"Ext.Toolbar.titleCls has been removed. Use #cls config of title instead.\")});Ext.define(\"Ext.TitleBar\",{extend:\"Ext.Container\",xtype:\"titlebar\",requires:[\"Ext.Button\",\"Ext.Title\",\"Ext.Spacer\",\"Ext.util.SizeMonitor\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",cls:Ext.baseCSSPrefix+\"navigation-bar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\"},items:[]},maxButtonWidth:\"40%\",constructor:function(){this.refreshTitlePosition=Ext.Function.createThrottled(this.refreshTitlePosition,50,this);this.callParent(arguments)},beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){delete this.applyItems;this.add(this.initialItems);delete this.initialItems;this.on({painted:\"refreshTitlePosition\",single:true})},applyInitialItems:function(a){var b=this,c=b.getDefaults()||{};b.initialItems=a;b.leftBox=b.add({xtype:\"container\",style:\"position: relative\",layout:{type:\"hbox\",align:\"center\"},listeners:{resize:\"refreshTitlePosition\",scope:b}});b.spacer=b.add({xtype:\"component\",style:\"position: relative\",flex:1,listeners:{resize:\"refreshTitlePosition\",scope:b}});b.rightBox=b.add({xtype:\"container\",style:\"position: relative\",layout:{type:\"hbox\",align:\"center\"},listeners:{resize:\"refreshTitlePosition\",scope:b}});b.titleComponent=b.add({xtype:\"title\",hidden:c.hidden,centered:true});b.doAdd=b.doBoxAdd;b.remove=b.doBoxRemove;b.doInsert=b.doBoxInsert},doBoxAdd:function(a){if(a.config.align==\"right\"){this.rightBox.add(a)}else{this.leftBox.add(a)}},doBoxRemove:function(a){if(a.config.align==\"right\"){this.rightBox.remove(a)}else{this.leftBox.remove(a)}},doBoxInsert:function(a,b){if(b.config.align==\"right\"){this.rightBox.add(b)}else{this.leftBox.add(b)}},getMaxButtonWidth:function(){var a=this.maxButtonWidth;if(Ext.isString(this.maxButtonWidth)){a=parseInt(a.replace(\"%\",\"\"),10);a=Math.round((this.element.getWidth()/100)*a)}return a},refreshTitlePosition:function(){var f=this.titleComponent.renderElement;f.setWidth(null);f.setLeft(null);var a=this.leftBox,c=a.down(\"button\"),h,m;if(c){if(c.getWidth()==null){c.renderElement.setWidth(\"auto\")}h=a.renderElement.getWidth();m=this.getMaxButtonWidth();if(h>m){c.renderElement.setWidth(m)}}var j=this.spacer.renderElement.getPageBox(),k=f.getPageBox(),g=k.width-j.width,d=k.left,i=k.right,b,l,e;if(g>0){f.setWidth(j.width);b=g/2;d+=b;i-=b}l=j.left-d;e=i-j.right;if(l>0){f.setLeft(l)}else{if(e>0){f.setLeft(-e)}}f.repaint()},updateTitle:function(a){this.titleComponent.setTitle(a);if(this.isPainted()){this.refreshTitlePosition()}}});Ext.define(\"B2B.view.Activity\",{extend:\"Ext.Panel\",requires:[\"Ext.TitleBar\",],xtype:\"activity\",config:{title:i18n.app.PANEL_ACTIVITY,iconCls:\"maps\",styleHtmlContent:true,layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var e={xtype:\"container\",cls:\"header_img\",height:50,width:\"100%\",docked:\"top\",html:'<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'},b={xtype:\"activitylist\",store:Ext.getStore(\"Activities_Local\"),},d={xtype:\"activityusercomponent\",store:Ext.getStore(\"Activities_User_Ajax\"),draggable:false,height:100},c={xtype:\"panel\",id:\"lastdrink\",draggable:false,height:70,docked:\"top\",html:'<div class=\"loading_div\"></div>'},a={xtype:\"panel\",layout:{type:\"vbox\",align:\"stretch\"},defaults:{flex:1},items:[e,c,b]};this.add([e,c,b])}});Ext.define(\"Ext.SegmentedButton\",{extend:\"Ext.Container\",xtype:\"segmentedbutton\",requires:[\"Ext.Button\"],config:{baseCls:Ext.baseCSSPrefix+\"segmentedbutton\",pressedCls:Ext.baseCSSPrefix+\"button-pressed\",allowMultiple:false,allowDepress:null,pressedButtons:[],layout:{type:\"hbox\",align:\"stretch\"},defaultType:\"button\"},initialize:function(){var a=this;a.callParent();a.on({delegate:\"> button\",scope:a,tap:\"onButtonRelease\"});a.onAfter({delegate:\"> button\",scope:a,hiddenchange:\"onButtonHiddenChange\"})},updateAllowMultiple:function(){if(!this.initialized&&!this.getInitialConfig().hasOwnProperty(\"allowDepress\")){this.setAllowDepress(true)}},applyItems:function(){var e=this,f=[],d,b,c,a;e.callParent(arguments);a=this.getItems();d=a.length;for(b=0;b<d;b++){c=a.items[b];if(c.getInitialConfig(\"pressed\")){f.push(a.items[b])}}e.updateFirstAndLastCls(a);e.setPressedButtons(f)},onButtonRelease:function(a){var d=this,e=d.getPressedButtons()||[],c=[],b;if(!d.getDisabled()&&!a.getDisabled()){if(d.getAllowMultiple()){c=e.concat(c)}b=(c.indexOf(a)!==-1)||(e.indexOf(a)!==-1);if(b&&d.getAllowDepress()){Ext.Array.remove(c,a)}else{if(!b||!d.getAllowDepress()){c.push(a)}}d.setPressedButtons(c);Ext.defer(function(){d.fireEvent(\"toggle\",d,a,d.isPressed(a))},50)}},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},updateFirstAndLastCls:function(a){var d=a.length,e=Ext.baseCSSPrefix,c,b;for(b=0;b<d;b++){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"first\");break}}for(b=d-1;b>=0;b--){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"last\");break}}},applyPressedButtons:function(a){var e=this,f=[],c,d,b;if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=e.getComponent(a[b]);if(c&&f.indexOf(c)===-1){f.push(c)}}}else{c=e.getComponent(a);if(c&&f.indexOf(c)===-1){f.push(c)}}return f},updatePressedButtons:function(a){var h=this,b=h.getItems(),g=h.getPressedCls(),f,d,e,c;e=b.length;for(c=0;c<e;c++){f=b.items[c];f.removeCls([g,f.getPressedCls()])}e=a.length;for(c=0;c<e;c++){d=a[c];d.addCls(g)}},isPressed:function(a){var b=this.getPressedButtons();return b.indexOf(a)!=-1},doSetDisabled:function(a){var b=this;b.items.each(function(c){c.setDisabled(a)},b);b.callParent(arguments)}},function(){var a=this;Ext.deprecateClassMethod(a,\"setPressed\",\"setPressedButtons\");Ext.deprecateClassMethod(a,\"getPressed\",\"getPressedButtons\")});Ext.define(\"B2B.view.Beer\",{extend:\"Ext.Panel\",xtype:\"beer\",id:\"beerlistcontainer\",requires:[\"Ext.SegmentedButton\"],config:{title:i18n.app.LABEL_BEERS,iconCls:\"trash\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var c=this;var b={xtype:\"beersearch\",};var a={xtype:\"beerlist\",id:\"beerlist\",store:null,singleSelect:true};this.add([b,a])}});Ext.define(\"B2B.view.Beer_List_SelectContainer\",{extend:\"Ext.Panel\",xtype:\"beerlistselectcontainerpanel\",id:\"beerlistselectcontainer\",requires:[\"Ext.SegmentedButton\"],config:{title:i18n.app.LABEL_BEERS,iconCls:\"trash\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var e=this,b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_beerselect_btn\",handler:this.onBackBeerSelectButtonTap,scope:this},d={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_BEER,id:\"BeerSelectTitlebar\",defaults:{iconMask:true},items:[b]},c={xtype:\"selectfield\",name:\"selectbeerfavorite\",id:\"selectfieldbeerfavorite\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSE,store:Ext.getStore(\"FavoriteBeers_Local\"),valueField:\"beerName\",displayField:\"beerName\",docked:\"top\"},f={xtype:\"beerlistselectsearchcomponent\"},a={xtype:\"beerlist\",id:\"beerlistselect\",store:null,singleSelect:true};this.add([d,c,f,a])},onBackBeerSelectButtonTap:function(){this.fireEvent(\"backBeerSelectCommand\",this)}});Ext.define(\"Ext.Map\",{extend:\"Ext.Component\",xtype:\"map\",requires:[\"Ext.util.Geolocation\"],isMap:true,config:{baseCls:Ext.baseCSSPrefix+\"map\",useCurrentLocation:false,map:null,geo:null,mapOptions:{}},constructor:function(){this.callParent(arguments);this.element.setVisibilityMode(Ext.Element.OFFSETS);if(!(window.google||{}).maps){this.setHtml(\"Google Maps API is required\")}},initialize:function(){this.callParent();this.on({painted:\"doResize\",scope:this});this.element.on(\"touchstart\",\"onTouchStart\",this)},onTouchStart:function(a){a.makeUnpreventable()},applyMapOptions:function(a){return Ext.merge({},this.options,a)},updateMapOptions:function(d){var a=this,c=(window.google||{}).maps,b=this.getMap();if(c&&b){b.setOptions(d)}if(d.center&&!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d.center]})}},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig(\"mapOptions\"))},updateUseCurrentLocation:function(a){this.setGeo(a);if(!a){this.renderMap()}},applyGeo:function(a){return Ext.factory(a,Ext.util.Geolocation,this.getGeo())},updateGeo:function(b,a){var c={locationupdate:\"onGeoUpdate\",locationerror:\"onGeoError\",scope:this};if(a){a.un(c)}if(b){b.on(c);b.updateLocation()}},doResize:function(){var b=(window.google||{}).maps,a=this.getMap();if(b&&a){b.event.trigger(a,\"resize\")}},renderMap:function(){var d=this,f=(window.google||{}).maps,b=d.element,a=d.getMapOptions(),e=d.getMap(),c;if(f){if(Ext.os.is.iPad){Ext.merge({navigationControlOptions:{style:f.NavigationControlStyle.ZOOM_PAN}},a)}a=Ext.merge({zoom:12,mapTypeId:f.MapTypeId.ROADMAP},a);if(!a.hasOwnProperty(\"center\")){a.center=new f.LatLng(37.381592,-122.135672)}if(b.dom.firstChild){Ext.fly(b.dom.firstChild).destroy()}if(e){f.event.clearInstanceListeners(e)}d.setMap(new f.Map(b.dom,a));e=d.getMap();c=f.event;c.addListener(e,\"zoom_changed\",Ext.bind(d.onZoomChange,d));c.addListener(e,\"maptypeid_changed\",Ext.bind(d.onTypeChange,d));c.addListener(e,\"center_changed\",Ext.bind(d.onCenterChange,d));d.fireEvent(\"maprender\",d,e)}},onGeoUpdate:function(a){if(a){this.setMapCenter(new google.maps.LatLng(a.getLatitude(),a.getLongitude()))}},onGeoError:Ext.emptyFn,setMapCenter:function(d){var a=this,c=a.getMap(),b=(window.google||{}).maps;if(b){if(!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d]});return}d=d||new b.LatLng(37.381592,-122.135672);if(d&&!(d instanceof b.LatLng)&&\"longitude\" in d){d=new b.LatLng(d.latitude,d.longitude)}if(!c){a.renderMap();c=a.getMap()}if(c&&d instanceof b.LatLng){c.panTo(d)}else{this.options=Ext.apply(this.getMapOptions(),{center:d})}}},onZoomChange:function(){var a=this.getMapOptions(),c=this.getMap(),b;b=(c&&c.getZoom)?c.getZoom():a.zoom||10;this.options=Ext.apply(a,{zoom:b});this.fireEvent(\"zoomchange\",this,c,b)},onTypeChange:function(){var b=this.getMapOptions(),c=this.getMap(),a;a=(c&&c.getMapTypeId)?c.getMapTypeId():b.mapTypeId;this.options=Ext.apply(b,{mapTypeId:a});this.fireEvent(\"typechange\",this,c,a)},onCenterChange:function(){var b=this.getMapOptions(),c=this.getMap(),a;a=(c&&c.getCenter)?c.getCenter():b.center;this.options=Ext.apply(b,{center:a});this.fireEvent(\"centerchange\",this,c,a)},destroy:function(){Ext.destroy(this.getGeo());var a=this.getMap();if(a&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(a)}this.callParent()}},function(){Ext.deprecateClassMethod(this,\"getState\",\"getMapOptions\");Ext.deprecateClassMethod(this,\"update\",\"setMapCenter\")});Ext.define(\"B2B.view.Drink_AroundMe\",{extend:\"Ext.Panel\",requires:[\"Ext.Map\"],id:\"drinkaroundmepanel\",xtype:\"drinkaroundmepanel\",config:{title:i18n.app.LABEL_CHECKIN,iconCls:\"locate\",layout:\"card\",scrollable:false},initialize:function(){this.callParent(arguments);var h={xtype:\"map\",id:\"mapDrink\",useCurrentLocation:true,height:180,flex:1,mapOptions:{zoom:HH.map.zoomLevel,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:false,zoomControl:false,mapTypeControl:false,scaleControl:false,streetViewControl:false,panControl:false,draggable:false},listeners:{maprender:function(i,j){j.markers=[]},centerchange:function(i,j){j.clearMarkers();j.markers.push(new google.maps.Marker({position:new google.maps.LatLng(this._geo.getLatitude(),this._geo.getLongitude()),map:j,icon:HH.map.marker}))}}};var a={text:i18n.app.BTN_REFRESH,ui:\"action\",id:\"refresh_around_btn\",handler:this.onRefreshAroundButtonTap,scope:this};var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_Check_btn\",handler:this.onBackCheckButtonTap,scope:this};var c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_CHECKIN,id:\"AroundFormTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"},a]};var e=Ext.create(\"Ext.util.Geolocation\",{autoUpdate:false,listeners:{locationupdate:function(j){var i=Ext.getStore(\"Places_Ajax\");i.getProxy().setExtraParam(\"lat\",j.getLatitude());i.getProxy().setExtraParam(\"lon\",j.getLongitude());i.load()},locationerror:function(m,i,j,l,k){console.error(k)}}});e.updateLocation();var g={xtype:\"placelistcomponent\",store:Ext.getStore(\"Places_Ajax\"),flex:1};var d={xtype:\"container\",html:'<img class=\"footer_img\" src=\"resources/img/poweredByFoursquare_footer.png\" width=\"200px\">'};var f={xtype:\"panel\",layout:\"vbox\",align:\"stretch\",items:[h,g,d]};this.add([c,f])},onRefreshAroundButtonTap:function(){this.fireEvent(\"refreshAroundCommand\",this)},onBackCheckButtonTap:function(){this.fireEvent(\"backCheckCommand\",this)}});Ext.define(\"Ext.form.FieldSet\",{extend:\"Ext.Container\",alias:\"widget.fieldset\",requires:[\"Ext.Title\"],config:{baseCls:Ext.baseCSSPrefix+\"form-fieldset\",title:null,instructions:null},applyTitle:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"top\",baseCls:this.getBaseCls()+\"-title\"});return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(b,a){if(b){this.add(b)}if(a){this.remove(a)}},applyInstructions:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"bottom\",baseCls:this.getBaseCls()+\"-instructions\"});return Ext.factory(a,Ext.Title,this.getInstructions())},updateInstructions:function(b,a){if(b){this.add(b)}if(a){this.remove(a)}}});Ext.define(\"Ext.util.Collection\",{config:{autoFilter:true,autoSort:true},mixins:{sortable:\"Ext.mixin.Sortable\",filterable:\"Ext.mixin.Filterable\"},constructor:function(b,a){var c=this;c.all=[];c.items=[];c.keys=[];c.indices={};c.map={};c.length=0;if(b){c.getKey=b}this.initConfig(a)},updateAutoSort:function(a,b){if(b===false&&a&&this.items.length){this.sort()}},updateAutoFilter:function(b,a){if(a===false&&b&&this.all.length){this.filter()}},insertSorters:function(){this.mixins.sortable.insertSorters.apply(this,arguments);if(this.getAutoSort()&&this.items.length){this.sort()}return this},removeSorters:function(a){this.mixins.sortable.removeSorters.call(this,a);if(this.sorted&&this.getAutoSort()&&this.items.length){this.sort()}return this},applyFilters:function(a){var b=this.mixins.filterable.applyFilters.call(this,a);if(!a&&this.all.length&&this.getAutoFilter()){this.filter()}return b},addFilters:function(a){this.mixins.filterable.addFilters.call(this,a);if(this.items.length&&this.getAutoFilter()){this.filter()}return this},removeFilters:function(a){this.mixins.filterable.removeFilters.call(this,a);if(this.filtered&&this.all.length&&this.getAutoFilter()){this.filter()}return this},filter:function(c,b,d,a){if(c){if(Ext.isString(c)){this.addFilters({property:c,value:b,anyMatch:d,caseSensitive:a});return this.items}else{this.addFilters(c);return this.items}}this.items=this.mixins.filterable.filter.call(this,this.all.slice());this.updateAfterFilter();if(this.sorted&&this.getAutoSort()){this.sort()}},updateAfterFilter:function(){var a=this.items,f=this.keys,g=this.indices={},e=a.length,c,d,b;f.length=0;for(c=0;c<e;c++){d=a[c];b=this.getKey(d);g[b]=c;f[c]=b}this.length=a.length;this.dirtyIndices=false},sort:function(e,a){var d=this.items,h=this.keys,g=this.indices,c=d.length,b,j,f;if(e){this.addSorters(e,a);return this.items}for(b=0;b<c;b++){d[b]._current_key=h[b]}this.handleSort(d);for(b=0;b<c;b++){j=d[b];f=j._current_key;h[b]=f;g[f]=b;delete j._current_key}this.dirtyIndices=true},handleSort:function(a){this.mixins.sortable.sort.call(this,a)},add:function(i,k){var g=this,d=this.filtered,e=this.sorted,h=this.all,f=this.items,l=this.keys,j=this.indices,a=this.mixins.filterable,b=f.length,c=b;if(arguments.length==1){k=i;i=g.getKey(k)}if(typeof i!=\"undefined\"&&i!==null){if(typeof g.map[i]!=\"undefined\"){return g.replace(i,k)}g.map[i]=k}h.push(k);if(d&&this.getAutoFilter()&&a.isFiltered.call(g,k)){return null}g.length++;if(e&&this.getAutoSort()){c=this.findInsertionIndex(f,k)}if(c!==b){this.dirtyIndices=true;Ext.Array.splice(l,c,0,i);Ext.Array.splice(f,c,0,k)}else{j[i]=b;l.push(i);f.push(k)}return k},getKey:function(a){return a.id},replace:function(d,m){var i=this,g=i.sorted,f=i.filtered,b=i.mixins.filterable,h=i.items,n=i.keys,k=i.all,c=i.map,l=null,a=h.length,o,e,j;if(arguments.length==1){m=d;d=j=i.getKey(m)}else{j=i.getKey(m)}o=c[d];if(typeof d==\"undefined\"||d===null||typeof o==\"undefined\"){return i.add(j,m)}i.map[j]=m;if(j!==d){delete i.map[d]}if(g&&i.getAutoSort()){Ext.Array.remove(h,o);Ext.Array.remove(n,d);Ext.Array.remove(k,o);k.push(m);i.dirtyIndices=true;if(f&&i.getAutoFilter()){if(b.isFiltered.call(i,m)){if(a!==h.length){i.length--}return null}else{if(a===h.length){i.length++;l=m}}}e=this.findInsertionIndex(h,m);Ext.Array.splice(n,e,0,j);Ext.Array.splice(h,e,0,m)}else{if(f){if(i.getAutoFilter()&&b.isFiltered.call(i,m)){if(h.indexOf(o)!==-1){Ext.Array.remove(h,o);Ext.Array.remove(n,d);i.length--;i.dirtyIndices=true}return null}else{if(h.indexOf(o)===-1){h.push(m);n.push(j);i.indices[j]=i.length;i.length++;return m}}}e=i.items.indexOf(o);n[e]=j;h[e]=m;this.dirtyIndices=true}return l},addAll:function(h){var q=this,e=q.filtered,a=q.sorted,b=q.all,k=q.items,j=q.keys,p=q.map,l=q.getAutoFilter(),m=q.getAutoSort(),r=[],f=[],c=q.mixins.filterable,d=[],g,s,n,o;if(Ext.isObject(h)){for(s in h){if(h.hasOwnProperty(s)){f.push(k[s]);r.push(s)}}}else{f=h;g=h.length;for(n=0;n<g;n++){r.push(q.getKey(h[n]))}}for(n=0;n<g;n++){s=r[n];o=f[n];if(typeof s!=\"undefined\"&&s!==null){if(typeof p[s]!=\"undefined\"){q.replace(s,o);continue}p[s]=o}b.push(o);if(e&&l&&c.isFiltered.call(q,o)){continue}q.length++;j.push(s);k.push(o);d.push(o)}if(d.length){q.dirtyIndices=true;if(a&&m){q.sort()}return d}return null},each:function(e,d){var b=this.items.slice(),c=0,a=b.length,f;for(;c<a;c++){f=b[c];if(e.call(d||f,f,c,a)===false){break}}},eachKey:function(d,c){var f=this.keys,a=this.items,e=f.length,b;for(b=0;b<e;b++){d.call(c||window,f[b],a[b],b,e)}},findBy:function(e,d){var f=this.keys,b=this.items,c=0,a=b.length;for(;c<a;c++){if(e.call(d||window,b[c],f[c])){return b[c]}}return null},filterBy:function(e,d){var h=this,c=new this.self(),g=h.keys,a=h.all,f=a.length,b;c.getKey=h.getKey;for(b=0;b<f;b++){if(e.call(d||h,a[b],h.getKey(a[b]))){c.add(g[b],a[b])}}return c},insert:function(c,d,f){var e=this,a=this.sorted,g=this.map,b=this.filtered;if(arguments.length==2){f=d;d=e.getKey(f)}if(c>=e.length||(a&&e.getAutoSort())){return e.add(d,f)}if(typeof d!=\"undefined\"&&d!==null){if(typeof g[d]!=\"undefined\"){e.replace(d,f);return false}g[d]=f}this.all.push(f);if(b&&this.getAutoFilter()&&this.mixins.filterable.isFiltered.call(e,f)){return null}e.length++;Ext.Array.splice(e.items,c,0,f);Ext.Array.splice(e.keys,c,0,d);e.dirtyIndices=true;return f},insertAll:function(g,d){if(g>=this.items.length||(this.sorted&&this.getAutoSort())){return this.addAll(d)}var s=this,h=this.filtered,a=this.sorted,b=this.all,m=this.items,l=this.keys,r=this.map,n=this.getAutoFilter(),o=this.getAutoSort(),t=[],j=[],f=[],c=this.mixins.filterable,e=false,k,u,p,q;if(a&&this.getAutoSort()){Ext.Logger.error(\"Inserting a collection of items into a sorted Collection is invalid. Please just add these items or remove the sorters.\")}if(Ext.isObject(d)){for(u in d){if(d.hasOwnProperty(u)){j.push(m[u]);t.push(u)}}}else{j=d;k=d.length;for(p=0;p<k;p++){t.push(s.getKey(d[p]))}}for(p=0;p<k;p++){u=t[p];q=j[p];if(typeof u!=\"undefined\"&&u!==null){if(typeof r[u]!=\"undefined\"){s.replace(u,q);continue}r[u]=q}b.push(q);if(h&&n&&c.isFiltered.call(s,q)){continue}s.length++;Ext.Array.splice(m,g+p,0,q);Ext.Array.splice(l,g+p,0,u);e=true;f.push(q)}if(e){this.dirtyIndices=true;if(a&&o){this.sort()}return f}return null},remove:function(b){var a=this.items.indexOf(b);if(a===-1){Ext.Array.remove(this.all,b);return b}return this.removeAt(this.items.indexOf(b))},removeAll:function(a){if(a){var c=a.length,b;for(b=0;b<c;b++){this.remove(a[b])}}return this},removeAt:function(b){var g=this,a=g.items,f=g.keys,d=g.all,e,c;if(b<g.length&&b>=0){e=a[b];c=f[b];if(typeof c!=\"undefined\"){delete g.map[c]}Ext.Array.erase(a,b,1);Ext.Array.erase(f,b,1);Ext.Array.remove(d,e);delete g.indices[c];g.length--;this.dirtyIndices=true;return e}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(b){if(this.dirtyIndices){this.updateIndices()}var a=this.indices[this.getKey(b)];return(a===undefined)?-1:a},indexOfKey:function(b){if(this.dirtyIndices){this.updateIndices()}var a=this.indices[b];return(a===undefined)?-1:a},updateIndices:function(){var a=this.items,e=a.length,f=this.indices={},c,d,b;for(c=0;c<e;c++){d=a[c];b=this.getKey(d);f[b]=c}this.dirtyIndices=false},get:function(b){var d=this,a=d.map[b],c;if(a!==undefined){c=a}else{if(typeof b==\"number\"){c=d.items[b]}}return typeof c!=\"function\"||d.getAllowFunctions()?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(b){var a=this.getKey(b);if(a){return this.containsKey(a)}else{return Ext.Array.contains(this.items,b)}},containsKey:function(a){return typeof this.map[a]!=\"undefined\"},clear:function(){var a=this;a.length=0;a.items.length=0;a.keys.length=0;a.all.length=0;a.dirtyIndices=true;a.indices={};a.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(f,a){var e=this,c=e.items,b=[],d;if(c.length<1){return b}f=f||0;a=Math.min(typeof a==\"undefined\"?e.length-1:a,e.length-1);if(f<=a){for(d=f;d<=a;d++){b[b.length]=c[d]}}else{for(d=f;d>=a;d--){b[b.length]=c[d]}}return b},findIndexBy:function(d,c,h){var g=this,f=g.keys,a=g.items,b=h||0,e=a.length;for(;b<e;b++){if(d.call(c||g,a[b],f[b])){return b}}return -1},clone:function(){var e=this,f=new this.self(),d=e.keys,a=e.items,b=0,c=a.length;for(;b<c;b++){f.add(d[b],a[b])}f.getKey=e.getKey;return f}});Ext.define(\"Ext.data.Errors\",{extend:\"Ext.util.Collection\",requires:\"Ext.data.Error\",isValid:function(){return this.length===0},getByField:function(d){var c=[],a,b;for(b=0;b<this.length;b++){a=this.items[b];if(a.getField()==d){c.push(a)}}return c},add:function(){var a=arguments.length==1?arguments[0]:arguments[1];if(!(a instanceof Ext.data.Error)){a=Ext.create(\"Ext.data.Error\",{field:a.field||a.name,message:a.error||a.message})}return this.callParent([a])}});Ext.define(\"Ext.navigation.Bar\",{extend:\"Ext.TitleBar\",requires:[\"Ext.Button\",\"Ext.Spacer\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",cls:Ext.baseCSSPrefix+\"navigation-bar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\"},defaultBackButtonText:\"Back\",animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:false,backButton:{align:\"left\",ui:\"back\",hidden:true}},minBackButtonWidth:80,constructor:function(a){a=a||{};if(!a.items){a.items=[]}this.backButtonStack=[];this.activeAnimations=[];this.callParent([a])},applyBackButton:function(a){return Ext.factory(a,Ext.Button,this.getBackButton())},updateBackButton:function(a,b){if(b){this.remove(b)}if(a){this.add(a);a.on({scope:this,tap:this.onBackButtonTap})}},onBackButtonTap:function(){this.fireEvent(\"back\",this)},updateView:function(h){var d=this,b=d.getBackButton(),f,a,e,c,g;d.getItems();if(h){f=h.getInnerItems();for(a=0;a<f.length;a++){c=f[a];g=(c.getTitle)?c.getTitle():c.config.title;d.backButtonStack.push(g||\"&nbsp;\")}d.setTitle(d.getTitleText());e=d.getBackButtonText();if(e){b.setText(e);b.show()}}},onViewAdd:function(c,e){var d=this,b=d.backButtonStack,a,f;d.endAnimation();f=(e.getTitle)?e.getTitle():e.config.title;b.push(f||\"&nbsp;\");a=b.length>1;d.doChangeView(c,a,false)},onViewRemove:function(c){var d=this,b=d.backButtonStack,a;d.endAnimation();b.pop();a=b.length>1;d.doChangeView(c,a,true)},doChangeView:function(k,c,g){var r=this,o=r.leftBox,e=o.element,f=r.titleComponent,m=f.element,n=r.getBackButton(),l=r.getTitleText(),h=r.getBackButtonText(),q=r.getAnimation()&&k.getLayout().getAnimation(),p=q&&q.isAnimation&&k.isPainted(),d,i,a,j,b;if(p){i=r.createProxy(o.element);e.setStyle(\"opacity\",\"0\");n.setText(h);n[c?\"show\":\"hide\"]();a=r.createProxy(f.element.getParent());m.setStyle(\"opacity\",\"0\");r.setTitle(l);r.refreshTitlePosition();d=r.measureView(i,a,g);j=d.left;b=d.title;r.isAnimating=true;r.animate(e,j.element);r.animate(m,b.element,function(){m.setLeft(d.titleLeft);r.isAnimating=false});if(Ext.os.is.Android2&&!this.getAndroid2Transforms()){i.ghost.destroy();a.ghost.destroy()}else{r.animate(i.ghost,j.ghost);r.animate(a.ghost,b.ghost,function(){i.ghost.destroy();a.ghost.destroy()})}}else{if(c){n.setText(h);n.show()}else{n.hide()}r.setTitle(l)}},measureView:function(e,u,k){var w=this,j=w.element,v=w.leftBox.element,p=w.titleComponent.element,l=Math.min(j.getWidth()/3,200),q=v.getWidth(),c=j.getX(),m=j.getWidth(),n=p.getX(),d=p.getLeft(),s=p.getWidth(),r=e.x,t=e.width,a=e.left,h=Ext.os.is.Android2&&!this.getAndroid2Transforms(),i,b,f,x,o,g;g=c-r-t;if(k){i=g;b=Math.min(n-t,l)}else{b=g;i=Math.min(n-c,l)}if(h){f={element:{from:{left:i,opacity:1},to:{left:0,opacity:1}}}}else{f={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}g=c-n+q;if((a+s)>n){o=c-n-s}if(k){p.setLeft(0);b=c+m;if(o!==undefined){i=o}else{i=g}}else{i=m-n;if(o!==undefined){b=o}else{b=g}}if(h){x={element:{from:{left:i,opacity:1},to:{left:d,opacity:1}}}}else{x={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:d},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}return{left:f,title:x,titleLeft:d}},animate:function(b,a,e){var c=this,d;b.setLeft(0);a=Ext.apply(a,{element:b,easing:\"ease-in-out\",duration:c.getAnimation().duration});d=new Ext.fx.Animation(a);d.on(\"animationend\",function(){if(e){e.call(c)}},c);Ext.Animator.run(d);c.activeAnimations.push(d)},endAnimation:function(){var a=this.activeAnimations,d,b,c;if(a){c=a.length;for(b=0;b<c;b++){d=a[b];if(d.isAnimating){d.stopAnimation()}else{d.destroy()}}this.activeAnimations=[]}},refreshTitlePosition:function(){if(!this.isAnimating){this.callParent()}},getBackButtonText:function(){var b=this.backButtonStack[this.backButtonStack.length-2],a=this.getUseTitleForBackButtonText();if(!a){if(b){b=this.getDefaultBackButtonText()}}return b},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(b){b--;for(var a=0;a<b;a++){this.backButtonStack.pop()}},doSetHidden:function(a){if(!a){this.element.setStyle({position:\"relative\",top:\"auto\",left:\"auto\",width:\"auto\"})}else{this.element.setStyle({position:\"absolute\",top:\"-1000px\",left:\"-1000px\",width:this.element.getWidth()+\"px\"})}},createProxy:function(b){var e,a,f,d,c;e=b.dom.cloneNode(true);e.id=b.id+\"-proxy\";b.getParent().dom.appendChild(e);e=Ext.get(e);a=b.getX();f=b.getY();d=b.getLeft();c=b.getWidth();e.setStyle(\"position\",\"absolute\");e.setX(a);e.setY(f);e.setHeight(b.getHeight());e.setWidth(c);return{x:a,y:f,left:d,width:c,ghost:e}}});Ext.define(\"Ext.navigation.View\",{extend:\"Ext.Container\",alternateClassName:\"Ext.NavigationView\",xtype:\"navigationview\",requires:[\"Ext.navigation.Bar\"],config:{baseCls:Ext.baseCSSPrefix+\"navigationview\",navigationBar:{docked:\"top\"},defaultBackButtonText:\"Back\",useTitleForBackButtonText:false,layout:{type:\"card\",animation:{duration:300,easing:\"ease-out\",type:\"slide\",direction:\"left\"}}},initialize:function(){this.getNavigationBar().on({back:this.onBackButtonTap,scope:this});this.relayEvents(this,{add:\"push\",remove:\"pop\"});var a=this.getLayout();if(a&&!a.isCard){Ext.Logger.error(\"The base layout for a NavigationView must always be a Card Layout\")}},applyLayout:function(a){a=a||{};return a},onBackButtonTap:function(){this.pop();this.fireEvent(\"back\",this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a)){return this.doPop()}},beforePop:function(e){var d=this,f=this.getInnerItems(),c=f.length,b,a;if(!Ext.isNumber(e)||e<1){e=1}e=Math.min(e,c-1);if(e){d.getNavigationBar().beforePop(e);b=f.splice(-e,e-1);for(a=0;a<b.length;a++){this.remove(b[a])}return true}return false},doPop:function(){var a=this,b=this.getInnerItems();a.remove(b[b.length-1]);return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setUseTitleForBackButtonText(b)}},updateDefaultBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setDefaultBackButtonText(b)}},applyNavigationBar:function(a){if(!a){a={hidden:true,docked:\"top\"}}if(a.title){delete a.title;Ext.Logger.warn(\"Ext.navigation.View: The 'navigationBar' configuration does not accept a 'title' property. You set the title of the navigationBar by giving this navigation view's children a 'title' property.\")}a.view=this;a.useTitleForBackButtonText=this.getUseTitleForBackButtonText();return Ext.factory(a,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(a,c){if(c){this.remove(c,true)}if(a){var b=this.getLayout(),d=(b&&b.isLayout)?b.getAnimation():false;if(d&&d.isAnimation){a.setAnimation(d.config)}this.add(a)}},applyActiveItem:function(d,a){var b=this,c=b.getInnerItems();b.getItems();if(!b.initialized){d=c.length-1}return this.callParent([d,a])},doResetActiveItem:function(d){var a=this,c=a.getInnerItems(),b=a.getLayout().getAnimation();if(d>0){if(b&&b.isAnimation){b.setReverse(true)}a.setActiveItem(d-1);a.getNavigationBar().onViewRemove(a,c[d],d)}},doRemove:function(){var a=this.getLayout().getAnimation();if(a&&a.isAnimation){a.setReverse(false)}this.callParent(arguments)},onItemAdd:function(b,a){this.doItemLayoutAdd(b,a);if(!this.isItemsInitializing&&b.isInnerItem()){this.setActiveItem(b);this.getNavigationBar().onViewAdd(this,b,a)}if(this.initialized){this.fireEvent(\"add\",this,b,a)}},reset:function(){return this.pop(this.getInnerItems().length)}});Ext.define(\"B2B.view._App\",{extend:\"Ext.NavigationView\",id:\"_app\",xtype:\"_app\",config:{navigationBar:false,items:[{xtype:\"appslidercontainer\"}]}});Ext.define(\"Ext.Ajax\",{extend:\"Ext.data.Connection\",singleton:true,autoAbort:false});Ext.define(\"Ext.Sheet\",{extend:\"Ext.Panel\",xtype:\"sheet\",requires:[\"Ext.fx.Animation\"],config:{baseCls:Ext.baseCSSPrefix+\"sheet\",modal:true,centered:true,stretchX:null,stretchY:null,enter:\"bottom\",exit:\"bottom\",showAnimation:!Ext.os.is.Android2?{type:\"slideIn\",duration:250,easing:\"ease-out\"}:null,hideAnimation:!Ext.os.is.Android2?{type:\"slideOut\",duration:250,easing:\"ease-in\"}:null},applyHideAnimation:function(b){var a=this.getExit(),d=a;if(a===null){return null}if(b===true){b={type:\"slideOut\"}}if(Ext.isString(b)){b={type:b}}var c=Ext.factory(b,Ext.fx.Animation);if(c){if(a==\"bottom\"){d=\"down\"}if(a==\"top\"){d=\"up\"}c.setDirection(d)}return c},applyShowAnimation:function(a){var d=this.getEnter(),c=d;if(d===null){return null}if(a===true){a={type:\"slideIn\"}}if(Ext.isString(a)){a={type:a}}var b=Ext.factory(a,Ext.fx.Animation);if(b){if(d==\"bottom\"){c=\"down\"}if(d==\"top\"){c=\"up\"}b.setBefore({display:null});b.setReverse(true);b.setDirection(c)}return b},updateStretchX:function(a){this.getLeft();this.getRight();if(a){this.setLeft(0);this.setRight(0)}},updateStretchY:function(a){this.getTop();this.getBottom();if(a){this.setTop(0);this.setBottom(0)}}});Ext.define(\"Ext.ActionSheet\",{extend:\"Ext.Sheet\",alias:\"widget.actionsheet\",requires:[\"Ext.Button\"],config:{baseCls:Ext.baseCSSPrefix+\"sheet-action\",left:0,right:0,bottom:0,centered:false,height:\"auto\",defaultType:\"button\"}});Ext.define(\"Ext.tab.Bar\",{extend:\"Ext.Toolbar\",alternateClassName:\"Ext.TabBar\",xtype:\"tabbar\",requires:[\"Ext.tab.Tab\"],config:{baseCls:Ext.baseCSSPrefix+\"tabbar\",defaultType:\"tab\",layout:{type:\"hbox\",align:\"middle\"}},eventedConfig:{activeTab:null},initialize:function(){var a=this;a.callParent();a.on({tap:\"onTabTap\",delegate:\"> tab\",scope:a})},onTabTap:function(a){this.setActiveTab(a)},applyActiveTab:function(b,c){if(!b&&b!==0){return}var a=this.parseActiveTab(b);if(!a){if(c){Ext.Logger.warn(\"Trying to set a non-existent activeTab\")}return}return a},doSetDocked:function(a){var c=this.getLayout(),b=a==\"bottom\"?\"center\":\"left\";if(c.isLayout){c.setPack(b)}else{c.pack=(c&&c.pack)?c.pack:b}},doSetActiveTab:function(b,a){if(b){b.setActive(true)}if(a){a.setActive(false)}},parseActiveTab:function(a){if(typeof a==\"number\"){return this.getInnerItems()[a]}else{if(typeof a==\"string\"){a=Ext.getCmp(a)}}return a}});Ext.define(\"Ext.tab.Panel\",{extend:\"Ext.Container\",xtype:\"tabpanel\",alternateClassName:\"Ext.TabPanel\",requires:[\"Ext.tab.Bar\"],config:{ui:\"dark\",tabBar:true,tabBarPosition:\"top\",layout:{type:\"card\",animation:{type:\"slide\",direction:\"left\"}},cls:Ext.baseCSSPrefix+\"tabpanel\"},delegateListeners:{delegate:\"> component\",centeredchange:\"onItemCenteredChange\",dockedchange:\"onItemDockedChange\",floatingchange:\"onItemFloatingChange\",disabledchange:\"onItemDisabledChange\"},initialize:function(){this.callParent();this.on({order:\"before\",activetabchange:\"doTabChange\",delegate:\"> tabbar\",scope:this});var a=this.getLayout();if(a&&!a.isCard){Ext.Logger.error(\"The base layout for a TabPanel must always be a Card Layout\")}},applyScrollable:function(){return false},updateUi:function(a,b){this.callParent(arguments);if(this.initialized){this.getTabBar().setUi(a)}},doSetActiveItem:function(d,j){if(d){var f=this.getInnerItems(),g=f.indexOf(j),i=f.indexOf(d),e=g>i,c=this.getLayout().getAnimation(),b=this.getTabBar(),h=b.parseActiveTab(g),a=b.parseActiveTab(i);if(c&&c.setReverse){c.setReverse(e)}this.callParent(arguments);if(i!=-1){this.forcedChange=true;b.setActiveTab(i);this.forcedChange=false;if(h){h.setActive(false)}if(a){a.setActive(true)}}}},doTabChange:function(a,d){var b=this.getActiveItem(),c;this.setActiveItem(a.indexOf(d));c=this.getActiveItem();return this.forcedChange||b!==c},applyTabBar:function(a){if(a===true){a={}}if(a){Ext.applyIf(a,{ui:this.getUi(),docked:this.getTabBarPosition()})}return Ext.factory(a,Ext.tab.Bar,this.getTabBar())},updateTabBar:function(a){if(a){this.add(a);this.setTabBarPosition(a.getDocked())}},updateTabBarPosition:function(b){var a=this.getTabBar();if(a){a.setDocked(b)}},onItemAdd:function(e){var k=this;if(!e.isInnerItem()){return k.callParent(arguments)}var c=k.getTabBar(),o=e.getInitialConfig(),d=o.tab||{},g=(e.getTitle)?e.getTitle():o.title,i=(e.getIconCls)?e.getIconCls():o.iconCls,j=(e.getHidden)?e.getHidden():o.hidden,n=(e.getDisabled)?e.getDisabled():o.disabled,p=(e.getBadgeText)?e.getBadgeText():o.badgeText,b=k.getInnerItems(),h=b.indexOf(e),l=c.getItems(),a=c.getActiveTab(),m=(l.length>=b.length)&&l.getAt(h),f;if(g&&!d.title){d.title=g}if(i&&!d.iconCls){d.iconCls=i}if(j&&!d.hidden){d.hidden=j}if(n&&!d.disabled){d.disabled=n}if(p&&!d.badgeText){d.badgeText=p}if(!m&&!d.title&&!d.iconCls){if(!d.title&&!d.iconCls){Ext.Logger.error(\"Adding a card to a tab container without specifying any tab configuration\")}}f=Ext.factory(d,Ext.tab.Tab,m);if(!m){c.insert(h,f)}e.tab=f;k.callParent(arguments);if(!a&&a!==0){c.setActiveTab(c.getActiveItem())}},onItemDisabledChange:function(a,b){if(a&&a.tab){a.tab.setDisabled(b)}},onItemRemove:function(b,a){this.getTabBar().remove(b.tab,this.getAutoDestroy());this.callParent(arguments)}},function(){Ext.deprecateProperty(this,\"tabBarDock\",\"tabBarPosition\")});Ext.define(\"Ext.device.Communicator\",{requires:[\"Ext.device.communicator.Default\",\"Ext.device.communicator.Android\"],singleton:true,constructor:function(){if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define(\"Ext.device.camera.PhoneGap\",{extend:\"Ext.device.camera.Abstract\",capture:function(j){var h=j.success,d=j.failure,l=j.scope,b=this.source,f=this.destination,i=this.encoding,a=j.source,k=j.destination,c=j.encoding,m={};if(l){h=Ext.Function.bind(h,l);d=Ext.Function.bind(d,l)}if(a!==undefined){m.sourceType=b.hasOwnProperty(a)?b[a]:a}if(k!==undefined){m.destinationType=f.hasOwnProperty(k)?f[k]:k}if(c!==undefined){m.encodingType=i.hasOwnProperty(c)?i[c]:c}if(\"quality\" in j){m.quality=j.quality}if(\"width\" in j){m.targetWidth=j.width}if(\"height\" in j){m.targetHeight=j.height}try{navigator.camera.getPicture(h,d,m)}catch(g){alert(g)}}});Ext.define(\"Ext.device.camera.Sencha\",{extend:\"Ext.device.camera.Abstract\",requires:[\"Ext.device.Communicator\"],capture:function(d){var c=this.source,b=this.destination,f=this.encoding,g=d.source,a=d.destination,e=d.encoding;if(c.hasOwnProperty(g)){g=c[g]}if(b.hasOwnProperty(a)){a=b[a]}if(f.hasOwnProperty(e)){e=f[e]}Ext.device.Communicator.send({command:\"Camera#capture\",callbacks:{success:d.success,failure:d.failure},scope:d.scope,quality:d.quality,width:d.width,height:d.height,source:g,destination:a,encoding:e})}});Ext.define(\"Ext.device.camera.Simulator\",{extend:\"Ext.device.camera.Abstract\",config:{samples:[{success:\"http://www.sencha.com/img/sencha-large.png\"}]},constructor:function(a){this.initConfig(a)},updateSamples:function(a){this.sampleIndex=0},capture:function(d){var c=this.sampleIndex,b=this.getSamples(),g=b.length,f=b[c],e=d.scope,h=d.success,a=d.failure;if(\"success\" in f){if(h){h.call(e,f.success)}}else{if(a){a.call(e,f.failure)}}if(++c>g-1){c=0}this.sampleIndex=c}});Ext.define(\"Ext.device.Camera\",{singleton:true,requires:[\"Ext.device.Communicator\",\"Ext.device.camera.PhoneGap\",\"Ext.device.camera.Sencha\",\"Ext.device.camera.Simulator\"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create(\"Ext.device.camera.PhoneGap\")}else{return Ext.create(\"Ext.device.camera.Sencha\")}}else{return Ext.create(\"Ext.device.camera.Simulator\")}}});Ext.define(\"Ext.dataview.element.List\",{extend:\"Ext.dataview.element.Container\",updateBaseCls:function(a){var b=this;b.itemClsShortCache=a+\"-item\";b.headerClsShortCache=a+\"-header\";b.headerClsCache=\".\"+b.headerClsShortCache;b.headerItemClsShortCache=a+\"-header-item\";b.footerClsShortCache=a+\"-footer-item\";b.footerClsCache=\".\"+b.footerClsShortCache;b.labelClsShortCache=a+\"-item-label\";b.labelClsCache=\".\"+b.labelClsShortCache;b.disclosureClsShortCache=a+\"-disclosure\";b.disclosureClsCache=\".\"+b.disclosureClsShortCache;b.iconClsShortCache=a+\"-icon\";b.iconClsCache=\".\"+b.iconClsShortCache;this.callParent(arguments)},hiddenDisplayCache:Ext.baseCSSPrefix+\"hidden-display\",getItemElementConfig:function(e,h){var f=this,c=f.dataview,g=c.getItemCls(),b=f.itemClsShortCache,d,a;if(g){b+=\" \"+g}d={cls:b,children:[{cls:f.labelClsShortCache,html:c.getItemTpl().apply(h)}]};if(c.getIcon()){a=h.iconSrc;d.children.push({cls:f.iconClsShortCache,style:\"background-image: \"+a?'url(\"'+newSrc+'\")':\"\"})}if(c.getOnItemDisclosure()){d.children.push({cls:f.disclosureClsShortCache+\" \"+((h[c.getDisclosureProperty()]===false)?f.hiddenDisplayCache:\"\")})}return d},updateListItem:function(d,k){var h=this,e=h.dataview,j=Ext.fly(k),g=j.down(h.labelClsCache,true),c=e.prepareData(d.getData(true),e.getStore().indexOf(d),d),b=e.getDisclosureProperty(),a=c&&c.hasOwnProperty(b),l=c&&c.hasOwnProperty(\"iconSrc\"),f,i;g.innerHTML=e.getItemTpl().apply(c);if(a){f=j.down(h.disclosureClsCache);f[c[b]===false?\"removeCls\":\"addCls\"](h.hiddenDisplayCache)}if(e.getIcon()){i=j.down(h.iconClsCache,true);i.style.backgroundImage=l?'url(\"'+l+'\")':\"\"}},doRemoveHeaders:function(){var e=this,a=e.headerItemClsShortCache,b=e.element.query(e.headerClsCache),f=b.length,c=0,d;for(;c<f;c++){d=b[c];Ext.fly(d.parentNode).removeCls(a);Ext.removeNode(d)}},doRemoveFooterCls:function(){var d=this,c=d.footerClsShortCache,a=d.element.query(d.footerClsCache),e=a.length,b=0;for(;b<e;b++){Ext.fly(a[b]).removeCls(c)}},doAddHeader:function(b,a){b=Ext.fly(b);if(a){b.insertFirst(Ext.Element.create({cls:this.headerClsShortCache,html:a}))}b.addCls(this.headerItemClsShortCache)},destroy:function(){this.doRemoveHeaders();this.callParent()}});Ext.define(\"Ext.data.StoreManager\",{extend:\"Ext.util.Collection\",alternateClassName:[\"Ext.StoreMgr\",\"Ext.data.StoreMgr\",\"Ext.StoreManager\"],singleton:true,uses:[\"Ext.data.ArrayStore\"],register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(c){if(Ext.isArray(c)){var b=[\"field1\"],e=!Ext.isArray(c[0]),f=c,d,a;if(e){f=[];for(d=0,a=c.length;d<a;++d){f.push([c[d]])}}else{for(d=2,a=c[0].length;d<=a;++d){b.push(\"field\"+d)}}return Ext.create(\"Ext.data.ArrayStore\",{data:f,fields:b,autoDestroy:true,autoCreated:true,expanded:e})}if(Ext.isString(c)){return this.get(c)}else{if(c instanceof Ext.data.Store){return c}else{return Ext.factory(c,Ext.data.Store,null,\"store\")}}},getKey:function(a){return a.getStoreId()}},function(){Ext.regStore=function(c,b){var a;if(Ext.isObject(c)){b=c}else{if(b instanceof Ext.data.Store){b.setStoreId(c)}else{b.storeId=c}}if(b instanceof Ext.data.Store){a=b}else{a=Ext.create(\"Ext.data.Store\",b)}return Ext.data.StoreManager.register(a)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define(\"Ext.field.Field\",{extend:\"Ext.Decorator\",alternateClassName:\"Ext.form.Field\",xtype:\"field\",requires:[\"Ext.field.Input\"],isField:true,isFormField:true,config:{baseCls:Ext.baseCSSPrefix+\"field\",label:null,labelAlign:\"left\",labelWidth:\"30%\",labelWrap:false,clearIcon:null,required:false,inputType:null,name:null,value:null,tabIndex:null},cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+\"field-required\",inputCls:null,bubbleEvents:[\"action\"]},getElementConfig:function(){var a=Ext.baseCSSPrefix;return{reference:\"element\",className:\"x-container\",children:[{reference:\"label\",cls:a+\"form-label\",children:[{reference:\"labelspan\",tag:\"span\"}]},{reference:\"innerElement\",cls:a+\"component-outer\"}]}},updateLabel:function(b,d){var a=this.renderElement,c=Ext.baseCSSPrefix;if(b){this.labelspan.setHtml(b);a.addCls(c+\"field-labeled\")}else{a.removeCls(c+\"field-labeled\")}},updateLabelAlign:function(b,c){var a=this.renderElement,d=Ext.baseCSSPrefix;if(b){a.addCls(d+\"label-align-\"+b);if(b==\"top\"||b==\"bottom\"){this.label.setWidth(\"100%\")}else{this.updateLabelWidth(this.getLabelWidth())}}if(c){a.removeCls(d+\"label-align-\"+c)}},updateLabelCls:function(a,b){if(a){this.label.addCls(a)}if(b){this.label.removeCls(b)}},updateLabelWidth:function(b){var a=this.getLabelAlign();if(b){if(a==\"top\"||a==\"bottom\"){this.label.setWidth(\"100%\")}else{this.label.setWidth(b)}}},updateLabelWrap:function(b,c){var a=Ext.baseCSSPrefix+\"form-label-nowrap\";if(!b){this.addCls(a)}else{this.removeCls(a)}},updateRequired:function(a){this.renderElement[a?\"addCls\":\"removeCls\"](this.getRequiredCls())},updateRequiredCls:function(a,b){if(this.getRequired()){this.renderElement.replaceCls(b,a)}},initialize:function(){var a=this;a.callParent();a.doInitValue()},doInitValue:function(){this.originalValue=this.getInitialConfig().value},reset:function(){this.setValue(this.originalValue);return this},isDirty:function(){return false}},function(){var a=this.prototype;this.override({constructor:function(b){b=b||{};var c=function(e,f,d){if(b.hasOwnProperty(e)){if(f){b[f]=b[f]||{};b[f][(d)?d:e]=b[f][(d)?d:e]||b[e]}else{b[d]=b[e]}delete b[e];Ext.Logger.deprecate(\"'\"+e+\"' config is deprecated, use the '\"+((f)?f+\".\":\"\")+((d)?d:e)+\"' config instead\",2)}};c(\"fieldCls\",null,\"inputCls\");c(\"fieldLabel\",null,\"label\");c(\"useClearIcon\",null,\"clearIcon\");if(b.hasOwnProperty(\"autoCreateField\")){Ext.Logger.deprecate(\"'autoCreateField' config is deprecated. If you are subclassing Ext.field.Field and you do not want a Ext.field.Input, set the 'input' config to false.\",this)}this.callOverridden(arguments)}});Ext.Object.defineProperty(a,\"fieldEl\",{get:function(){Ext.Logger.deprecate(\"'fieldEl' is deprecated, please use getInput() to get an instance of Ext.field.Field instead\",this);return this.getInput().input}});Ext.Object.defineProperty(a,\"labelEl\",{get:function(){Ext.Logger.deprecate(\"'labelEl' is deprecated\",this);return this.getLabel().element}})});Ext.define(\"Ext.ux.starrating.StarRating\",{extend:\"Ext.field.Field\",xtype:\"starrating\",config:{baseCls:Ext.baseCSSPrefix+\"field x-rating-field\",minValue:-1,defaultValue:-1,value:-1,clearCls:\"x-rating-clear\",clearIcon:false,itemsCount:5,itemCls:\"x-rating-star\",valueCls:\"x-rating-value\",itemHoverCls:\"x-rating-item-hover\",tooltips:\"\",disabled:false,component:{tpl:new Ext.XTemplate('<tpl for=\"items\">','<div index=\"{[xindex - 1]}\" class=\"{parent.itemCls} x-rating-item\">',\"</div>\",\"</tpl>\",'<tpl if=\"clearIcon\">','<div class=\"{clearCls}\">',\"</div>\",\"</tpl>\",{compile:true}),cls:\"x-rating-inner\"}},initialize:function(){var a=this;Ext.ux.starrating.StarRating.superclass.initialize.apply(a,arguments);a.element.on({scope:a,touchstart:a.onTouchStart,touchmove:a.onTouchMove,preventDefault:true})},updateComponent:function(d,e){this.callParent(arguments);if(e){}var c=this.innerElement,a=this.getCls();this.getComponent();var b=Ext.applyIf({items:new Array(this.getItemsCount()||0)},this.config);d._tpl.overwrite(d.element.dom,b);this.items=d.element.select(\".x-rating-item\",d.element.dom);if(this.config.clearIcon){this.clearBtn=d.element.down(\".\"+this.getClearCls());this.clearBtn.on(\"tap\",this.onClear,this)}},onTouchStart:function(a){if(this.clearBtn&&a.target==this.clearBtn.dom){this.onClear();return}this.onTouchMove(a)},onTouchMove:function(d){if(this.getDisabled()){return}var f=this.innerElement.getXY();var a=d.touches[0].pageX-f[0];if(!Ext.isDefined(this.diameter)){if(this.items.getCount()){var c=this.items.first().getSize();this.diameter=Math.min(c.height,c.width)}else{this.diameter=0}}var b=Math.floor(a/this.diameter);if(b>-1){this.setValue(b)}},applyValue:function(a){a=parseFloat(a);if(isNaN(a)||a===null){a=this.getDefaultValue()}a=Math.round(a*10)/10;this._value=a},displayValue:function(h){if(!this.rendered){this.on(\"painted\",Ext.Function.bind(this.displayValue,this,[h]),this,{single:true});return}var b=this.items;var f=b.getCount();var g=this.getItemCls();var a=this.getItemHoverCls();var c=this.getValueCls();var e=null;for(var d=0;d<f;d++){e=b.item(d);e[d<h?\"addCls\":\"removeCls\"](a);e[d<h?\"removeCls\":\"addCls\"](g);e.removeCls(c)}h=(h>=f?(f-1):h);h=(h<0?0:h);e=b.item(h);e.removeCls(a);e.removeCls(g);e.addCls(c)},setValue:function(d){var a=this._value;d=parseFloat(d);if(isNaN(d)||d===null){throw\"Argument exception: value argument is not a number.\"}var c=this.getMinValue();if(Ext.isNumber(c)&&d<c){d=c}var b=this.items?this.items.getCount():this.itemsCount;if(this.items&&d>this.items.getCount()){d=this.items.getCount()-1}this.callParent([d]);this.displayValue(d);this.fireEvent(\"change\",this,d,a)},reset:function(){this.setValue(this.getDefaultValue())},onClear:function(){if(!this.getDisabled()){this.setValue(this.getDefaultValue())}}},function(){Ext.deprecateProperty(this,\"showClear\",\"clearIcon\",\"Ext.ux.starrating.View.showClear has been removed, use showClear instead\");Ext.deprecateProperty(this,\"singleColorPerValue\",null,\"Ext.ux.starrating.View.singleColorPerValue has been removed\");Ext.deprecateProperty(this,\"useClearIcon\",null,\"Ext.ux.starrating.View.useClearIcon has been removed\")});Ext.define(\"Ext.field.Checkbox\",{extend:\"Ext.field.Field\",alternateClassName:\"Ext.form.Checkbox\",xtype:\"checkboxfield\",qsaLeftRe:/[\\[]/g,qsaRightRe:/[\\]]/g,isCheckbox:true,config:{ui:\"checkbox\",value:\"\",checked:false,tabIndex:-1,component:{xtype:\"input\",type:\"checkbox\",useMask:true,cls:Ext.baseCSSPrefix+\"input-checkbox\"}},initialize:function(){var a=this;a.callParent();a.getComponent().on({scope:a,order:\"before\",masktap:\"onMaskTap\"})},doInitValue:function(){var a=this,b=a.getInitialConfig();if(b.hasOwnProperty(\"value\")){a.originalState=b.value}if(b.hasOwnProperty(\"checked\")){a.originalState=b.checked}a.callParent(arguments)},updateInputType:function(a){var b=this.getComponent();if(b){b.setType(a)}},updateName:function(a){var b=this.getComponent();if(b){b.setName(a)}},getChecked:function(){this._checked=this.getComponent().getChecked();return this._checked},getSubmitValue:function(){return(this.getChecked())?this._value||true:null},setChecked:function(a){this.updateChecked(a);this._checked=a},updateChecked:function(a){this.getComponent().setChecked(a);if(this.initialized){this.onChange()}},onMaskTap:function(a,c){var b=this,d=a.input.dom;if(b.getDisabled()){return false}d.checked=!d.checked;b.onChange(c);return false},onChange:function(d){var c=this,b=c._checked,a=c.getChecked();if(b!=a){if(a){c.fireEvent(\"check\",c,d)}else{c.fireEvent(\"uncheck\",c,d)}}},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(true)},uncheck:function(){return this.setChecked(false)},getSameGroupFields:function(){var j=this.up(\"formpanel\")||this.up(\"fieldset\"),b=this.getName(),g=this.qsaLeftRe,c=this.qsaRightRe,f=[],a,d,e,h;if(!j){Ext.Logger.warn(\"Ext.field.Radio components must always be descendants of an Ext.form.Panel or Ext.form.FieldSet.\");j=Ext.Viewport}b=b.replace(g,\"\\\\[\");b=b.replace(c,\"\\\\]\");a=Ext.query(\"[name=\"+b+\"]\",j.element.dom);h=a.length;for(e=0;e<h;e++){d=a[e];d=Ext.fly(d).up(\".x-field-\"+d.getAttribute(\"type\"));if(d&&d.id){f.push(Ext.getCmp(d.id))}}return f},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){if(b.getChecked()){a.push(b.getValue())}});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked((a.indexOf(b.getValue())!==-1))});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});return this},reset:function(){this.setChecked(this.originalState);return this}});Ext.define(\"Ext.form.Panel\",{alternateClassName:\"Ext.form.FormPanel\",extend:\"Ext.Panel\",xtype:\"formpanel\",requires:[\"Ext.XTemplate\",\"Ext.field.Checkbox\",\"Ext.Ajax\"],config:{baseCls:Ext.baseCSSPrefix+\"form\",standardSubmit:false,url:null,baseParams:null,submitOnAction:false,record:null,method:\"post\",scrollable:{translationMethod:\"scrollposition\"}},getElementConfig:function(){var a=this.callParent();a.tag=\"form\";return a},initialize:function(){var a=this;a.callParent();a.element.on({submit:\"onSubmit\",scope:a})},updateRecord:function(c){var a,b,d;if(c&&(a=c.fields)){b=this.getValues();for(d in b){if(b.hasOwnProperty(d)&&a.containsKey(d)){c.set(d,b[d])}}}return this},setRecord:function(a){var b=this;if(a&&a.data){b.setValues(a.data)}b._record=a;return this},onSubmit:function(b){var a=this;if(b&&!a.getStandardSubmit()){b.stopEvent()}else{this.submit()}},updateSubmitOnAction:function(a){if(a){this.on({action:\"onFieldAction\",scope:this})}else{this.un({action:\"onFieldAction\",scope:this})}},onFieldAction:function(a){if(this.getSubmitOnAction()){a.blur();this.submit()}},submit:function(a){var c=this,b=c.element.dom||{},d;a=Ext.apply({url:c.getUrl()||b.action,submit:false,method:c.getMethod()||b.method||\"post\",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{});d=c.getValues(c.getStandardSubmit()||!a.submitDisabled);return c.fireAction(\"beforesubmit\",[c,d,a],\"doBeforeSubmit\")},doBeforeSubmit:function(f,h,b){var e=f.element.dom||{};if(f.getStandardSubmit()){if(b.url&&Ext.isEmpty(e.action)){e.action=b.url}var a=this.query(\"spinnerfield\"),d=a.length,c,g;for(c=0;c<d;c++){g=a[c];if(!g.getDisabled()){g.getComponent().setDisabled(false)}}e.method=(b.method||e.method).toLowerCase();e.submit()}else{if(b.waitMsg){f.setMasked(b.waitMsg)}return Ext.Ajax.request({url:b.url,method:b.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},f.getBaseParams()||{}),b.params||{},h)),autoAbort:b.autoAbort,headers:Ext.apply({\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"},b.headers||{}),scope:f,callback:function(i,n,j){var l=this,m=j.responseText,k;l.setMasked(false);k=function(){if(Ext.isFunction(b.failure)){b.failure.call(b.scope||l,l,j,m)}l.fireEvent(\"exception\",l,j)};if(n){j=Ext.decode(m);n=!!j.success;if(n){if(Ext.isFunction(b.success)){b.success.call(b.scope||l,l,j,m)}l.fireEvent(\"submit\",l,j)}else{k()}}else{k()}}})}},setValues:function(b){var a=this.getFields(),c,j,h,e,d,g;b=b||{};for(c in b){if(b.hasOwnProperty(c)){j=a[c];h=b[c];if(j){if(Ext.isArray(j)){e=j.length;for(d=0;d<e;d++){g=j[d];if(g.isRadio){g.setGroupValue(h)}else{if(g.isCheckbox){if(Ext.isArray(h)){g.setChecked((h.indexOf(g._value)!=-1))}else{g.setChecked((h==g._value))}}else{if(Ext.isArray(h)){g.setValue(h[d])}}}}}else{if(j.isRadio||j.isCheckbox){j.setChecked(h)}else{j.setValue(h)}}}}}return this},getValues:function(g){var f=this.getFields(),l={},e=Ext.isArray,j,k,b,c,a,h,d;b=function(m,i){if(m.isCheckbox){k=m.getSubmitValue()}else{k=m.getValue()}if(!(g&&m.getDisabled())){if(m.isRadio){if(m.isChecked()){l[i]=k}}else{c=l[i];if(c){if(!e(c)){c=l[i]=[c]}if(e(c)){c=l[i]=c.concat(k)}else{c.push(k)}}else{l[i]=k}}}};for(a in f){if(f.hasOwnProperty(a)){j=f[a];if(e(j)){h=j.length;for(d=0;d<h;d++){b(j[d],a)}}else{b(j,a)}}}return l},reset:function(){this.getFieldsAsArray().forEach(function(a){a.reset()});return this},enable:function(){this.getFieldsAsArray().forEach(function(a){a.enable()});return this},disable:function(){this.getFieldsAsArray().forEach(function(a){a.disable()});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a},getFields:function(b){var a={},d;var c=function(e){if(e.isField){d=e.getName();if((b&&d==b)||typeof b==\"undefined\"){if(a.hasOwnProperty(d)){if(!Ext.isArray(a[d])){a[d]=[a[d]]}a[d].push(e)}else{a[d]=e}}}if(e.isContainer){e.items.each(c)}};this.getItems().each(c);return(b)?(a[b]||[]):a},getFieldsArray:function(){var a=[];var b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.items.each(b)}};this.items.each(b);return a},getFieldsFromItem:Ext.emptyFn,showMask:function(a,b){Ext.Logger.warn(\"showMask is now deprecated. Please use Ext.form.Panel#setMasked instead\");a=Ext.isObject(a)?a.message:a;if(a){this.setMasked({xtype:\"loadmask\",message:a})}else{this.setMasked(true)}return this},hideMask:function(){this.setMasked(false);return this},getFocusedField:function(){var a=this.getFieldsArray(),c=a.length,d,b;for(b=0;b<c;b++){d=a[b];if(d.isFocused){return d}}return null},getNextField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==a.length-1){b++;return a[b]}}return false},focusNextField:function(){var a=this.getNextField();if(a){a.focus();return a}return false},getPreviousField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==0){b--;return a[b]}}return false},focusPreviousField:function(){var a=this.getPreviousField();if(a){a.focus();return a}return false}},function(){Ext.deprecateClassMethod(this,{loadRecord:\"setRecord\",loadModel:\"setRecord\",load:\"setRecord\"});this.override({constructor:function(a){if(a&&a.hasOwnProperty(\"waitMsgTarget\")){delete a.waitMsgTarget}this.callParent([a])}})});Ext.define(\"B2B.view._Login\",{extend:\"Ext.form.Panel\",id:\"_login\",xtype:\"_login\",config:{iconCls:\"settings6\",url:\"http://192.168.1.161\",styleHtmlContent:true,html:'Cannot login? <a href=\"#\">Send me my credentials via email!</a>',items:[{xtype:\"fieldset\",margin:\"50px auto\",id:\"_loginfieldset\",items:[{xtype:\"hiddenfield\",name:\"dateRequest\",value:new Date()},{xtype:\"textfield\",id:\"loginform_username\",name:\"username\",placeHolder:i18n.app.PLACEHOLDER_USERNAME,listeners:{keyup:function(a,b){if(b.browserEvent.keyCode==13||b.browserEvent.keyCode==10){b.stopEvent();a.element.dom.blur();window.scrollTo(0,0)}}}},{xtype:\"passwordfield\",id:\"loginform_password\",name:\"password\",placeHolder:i18n.app.PLACEHOLDER_PASSWORD,listeners:{keyup:function(a,b){if(b.browserEvent.keyCode==13||b.browserEvent.keyCode==10){b.stopEvent();a.element.dom.blur();window.scrollTo(0,0)}}}}]}],listeners:{element:\"element\",delegate:\"a\",tap:function(b,a){console.log(\"TEST\");b.preventDefault();b.stopPropagation()}}},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",id:\"BTN_login\",width:150,text:\"Log In\",margin:\"15px auto\",ui:\"action\",text:utils.__(i18n.app.BTN_LOGIN),handler:this.onLoginButtonTap};Ext.getCmp(\"_loginfieldset\").add([a])},onLoginButtonTap:function(){this.fireEvent(\"loginCommand\",this)}});Ext.define(\"B2B.view.Feedback_Form\",{extend:\"Ext.form.Panel\",xtype:\"feedbackform\",id:\"feedbackform\",initialize:function(){this.callParent(arguments);var a=[{xtype:\"textareafield\",id:\"textAreaComment\",src:\"\",flex:1},{xtype:\"button\",text:i18n.app.BTN_SEND,ui:\"action\",id:\"sendcomment_btn\",handler:this.onSendButtonTap,scope:this,height:50}];this.add(a)},onSendButtonTap:function(){this.fireEvent(\"sendCommentCommand\",this)}});Ext.define(\"B2B.view.User_Privacy_Form\",{extend:\"Ext.form.Panel\",id:\"userprofileprivacyform\",xtype:\"userprofileprivacyform\",config:{title:i18n.app.PANEL_PRIVACY,iconCls:\"settings6\",url:\"/cippa.php\"},initialize:function(){this.callParent(arguments);var d={text:i18n.app.BTN_CANCEL,ui:\"action\",id:\"cancel_privacy_btn\",handler:this.onCancelButtonTap,scope:this},b={xtype:\"titlebar\",title:i18n.app.PANEL_PRIVACY,cls:\"sub_titlebar\",docked:\"top\",id:\"PrivacyTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[d]},c={xtype:\"fieldset\",title:utils.__(i18n.app.FORM_PRIVACY),instructions:utils.__(i18n.app.HINT_CAREFULLY),items:[{xtype:\"panel\",layout:\"vbox\",items:[{xtype:\"button\",id:\"BTN_removeData\",text:utils.__(i18n.app.BTN_REMOVEPERSONAL),ui:\"decline-small\",handler:this.onRemoveDataButtonTap}]}]},a={xtype:\"button\",id:\"BTN_logOut\",text:utils.__(i18n.app.BTN_LOGOUT),ui:\"decline\",handler:this.onLogoutButtonTap};this.add([b,c,a])},onRemoveDataButtonTap:function(){this.fireEvent(\"privacyRemoveDataCommand\",this)},onLogoutButtonTap:function(){this.fireEvent(\"privacyLogoutCommand\",this)},onCancelButtonTap:function(){this.fireEvent(\"cancelCommand\",this)}});Ext.define(\"B2B.view.View_Terms\",{extend:\"Ext.form.Panel\",xtype:\"viewterms\",config:{title:i18n.app.PANEL_TERMS,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>Terms of Service</h1>\",i18n.app.TEXT_LOREM,].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_TERMS,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"DisclaimerTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.View_Whatsnew\",{extend:\"Ext.form.Panel\",xtype:\"viewwhatsnew\",config:{title:i18n.app.PANEL_WHATSNEW,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>Whats New</h1>\",i18n.app.TEXT_LOREM,].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_WHATSNEW,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"WhatsnewTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.View_AboutUs\",{extend:\"Ext.form.Panel\",xtype:\"viewaboutus\",config:{title:i18n.app.PANEL_TERMS,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>About Us</h1>\",i18n.app.TEXT_LOREM].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_ABOUTUS,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"AboutusTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.Badge_Detail\",{extend:\"Ext.form.Panel\",id:\"badgedetailpanel\",xtype:\"badgedetailpanel\",config:{title:i18n.app.PANEL_BADGEDETAIL,items:[],html:[\"<h1>Badge Detail</h1>\",\"I changed the default <b>HTML Contents</b> to something different!\"].join(\"\")},initialize:function(){this.callParent(arguments);var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"BackBadgeDetailBtn\",handler:this.onBackButtonTap,scope:this},d=this.jsonData.title,c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:(_.isEmpty(d)?i18n.app.PANEL_BADGEDETAIL:d),id:\"BadgeDetailTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"}]},a=this.getStringHTMLFromValues(this.jsonData);this.add([c]);this.setHtml(a)},getStringHTMLFromValues:function(a){var b=\"\";b+='<div class=\"badge-detail\">';b+='<img class=\"badge-image-big\" src=\"';if(_.isEmpty(a.imageUlr)){b+=HH.default_badge64}else{b+=a.imageUrl}b+='\" width=\"200\" height=\"200\" />';b+=\"<hr />\";b+='<p class=\"badge-title\"><b>'+a.title+\"</b></p>\";b+='<p class=\"badge-description\">'+a.description+\"</p>\";b+=\"</div>\";return b},onBackButtonTap:function(){this.fireEvent(\"backBadgesCommand\",this)}});Ext.define(\"Ext.field.Text\",{extend:\"Ext.field.Field\",xtype:\"textfield\",alternateClassName:\"Ext.form.Text\",config:{ui:\"text\",clearIcon:true,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:\"input\",type:\"text\"}},initialize:function(){var a=this;a.callParent();a.getComponent().on({scope:this,keyup:\"onKeyUp\",change:\"onChange\",focus:\"onFocus\",blur:\"onBlur\",paste:\"onPaste\",mousedown:\"onMouseDown\",clearicontap:\"onClearIconTap\"});a.originalValue=a.originalValue||\"\";a.getComponent().originalValue=a.originalValue;a.syncEmptyCls()},syncEmptyCls:function(){var b=(this._value)?this._value.length:false,a=Ext.baseCSSPrefix+\"empty\";if(b){this.removeCls(a)}else{this.addCls(a)}},updateValue:function(b){var a=this.getComponent();if(a){a.setValue(b)}this[b?\"showClearIcon\":\"hideClearIcon\"]();this.syncEmptyCls()},getValue:function(){var a=this;a._value=a.getComponent().getValue();a.syncEmptyCls();return a._value},updatePlaceHolder:function(a){this.getComponent().setPlaceHolder(a)},updateMaxLength:function(a){this.getComponent().setMaxLength(a)},updateAutoComplete:function(a){this.getComponent().setAutoComplete(a)},updateAutoCapitalize:function(a){this.getComponent().setAutoCapitalize(a)},updateAutoCorrect:function(a){this.getComponent().setAutoCorrect(a)},updateReadOnly:function(a){if(a){this.hideClearIcon()}else{this.showClearIcon()}this.getComponent().setReadOnly(a)},updateInputType:function(a){var b=this.getComponent();if(b){b.setType(a)}},updateName:function(a){var b=this.getComponent();if(b){b.setName(a)}},updateTabIndex:function(b){var a=this.getComponent();if(a){a.setTabIndex(b)}},updateInputCls:function(a,b){var c=this.getComponent();if(c){c.replaceCls(b,a)}},doSetDisabled:function(b){var c=this;c.callParent(arguments);var a=c.getComponent();if(a){a.setDisabled(b)}if(b){c.hideClearIcon()}else{c.showClearIcon()}},showClearIcon:function(){var a=this;if(!a.getDisabled()&&!a.getReadOnly()&&a.getValue()&&a.getClearIcon()){a.element.addCls(Ext.baseCSSPrefix+\"field-clearable\")}return a},hideClearIcon:function(){if(this.getClearIcon()){this.element.removeCls(Ext.baseCSSPrefix+\"field-clearable\")}},onKeyUp:function(a){this.fireAction(\"keyup\",[this,a],\"doKeyUp\")},doKeyUp:function(a,c){var b=a.getValue();a[b?\"showClearIcon\":\"hideClearIcon\"]();if(c.browserEvent.keyCode===13){a.fireAction(\"action\",[a,c],\"doAction\")}},doAction:function(){this.blur()},onClearIconTap:function(a){this.fireAction(\"clearicontap\",[this,a],\"doClearIconTap\")},doClearIconTap:function(a,b){a.setValue(\"\");a.getValue()},onChange:function(b,c,a){b.fireEvent(\"change\",this,c,a)},onFocus:function(a){this.isFocused=true;this.fireEvent(\"focus\",this,a)},onBlur:function(b){var a=this;this.isFocused=false;a.fireEvent(\"blur\",a,b);setTimeout(function(){a.isFocused=false},50)},onPaste:function(a){this.fireEvent(\"paste\",this,a)},onMouseDown:function(a){this.fireEvent(\"mousedown\",this,a)},focus:function(){this.getComponent().focus();return this},blur:function(){this.getComponent().blur();return this},select:function(){this.getComponent().select();return this},reset:function(){this.getComponent().reset();this.getValue();this[this._value?\"showClearIcon\":\"hideClearIcon\"]()},isDirty:function(){var a=this.getComponent();if(a){return a.isDirty()}return false}});Ext.define(\"Ext.field.Search\",{extend:\"Ext.field.Text\",xtype:\"searchfield\",alternateClassName:\"Ext.form.Search\",config:{component:{type:\"search\"},ui:\"search\"}});Ext.define(\"B2B.view.Beer_Search\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"beersearch\",id:\"beersearch\",config:{docked:\"top\",items:[{}]},initialize:function(){this.callParent(arguments);var b=0;var a=Ext.getStore(\"Beers_Ajax\");var g=[];var f={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"beerfiltersearch\",flex:1,listeners:{scope:this,clearicontap:function(j){var i=Ext.getCmp(\"beerlist\");var h=Ext.getCmp(\"searchinfobar\");j.setValue(\"\");i.setStore(null);a.filterBy(function(k){return false});i.setStore(a);h.setHtml(i18n.app.HINT_SEARCH2CHAR)},keyup:function(r,o){var s=r.getValue();s=s.replace(/[^a-zA-Z 0-9]+/g,\"\");var t=Ext.getCmp(\"beerlist\");var m=Ext.getCmp(\"_splashbeersearch\");var n=Ext.getCmp(\"beerlistcontainer\");var j=Ext.getCmp(\"searchinfobar\");if((!s||s<b)){t.setStore(null)}b=s;if(s.length>2){t.setStore(null);a.clearFilter();var q=s.split(\" \"),p=[],l;for(l=0;l<q.length;l++){if(!q[l]){return}p.push(new RegExp(q[l],\"i\"))}a.filterBy(function(u){var i=[];for(l=0;l<p.length;l++){var v=p[l];if(u.get(\"name\").match(v)){i.push(true)}else{i.push(false)}}if(p.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}});var h=a.getCount();if(h>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR,a.getCount()));t.setStore(a)}else{j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}}else{t.setStore(null);a.filterBy(function(i){return false})}t.setStore(a);if(!a.getCount()>0){if(s.length<3&&s.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR,3-s.length))}else{if(s.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}else{j.setHtml(i18n.app.HINT_SEARCH2CHAR)}}}if(o.browserEvent.keyCode==13||o.browserEvent.keyCode==10){o.stopEvent();r.element.dom.blur();window.scrollTo(0,0);var k=t.setActiveItem(1);console.log(t.getActiveItem())}}}};var e={xtype:\"button\",text:i18n.app.BTN_ADDBEER,ui:\"action\",id:\"add_beer_btn\",handler:this.onAddBeerButtonTap,scope:this};var c={xtype:\"toolbar\",cls:\"sub_titlebar\",id:\"beersearchtoolbar\",ui:\"neutral\",docked:\"top\",items:[f,e]};var d={xtype:\"container\",id:\"searchinfobar\",docked:\"top\",html:\"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"};this.add([c,d])},onAddBeerButtonTap:function(){this.fireEvent(\"beerAddCommand\",this)}});Ext.define(\"B2B.view.Beer_List_SelectSearchComponent\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"beerlistselectsearchcomponent\",id:\"beerlistselectsearchcomponent\",config:{docked:\"top\"},initialize:function(){this.callParent(arguments);var b=0;var a=Ext.getStore(\"Beers_Ajax\");var g=[];var f={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"beerfiltersearch\",flex:1,listeners:{scope:this,clearicontap:function(j){var i=Ext.getCmp(\"beerlistselect\");var h=Ext.getCmp(\"searchinfobarselect\");j.setValue(\"\");i.setStore(null);a.filterBy(function(k){return false});i.setStore(a);h.setHtml(i18n.app.HINT_SEARCH2CHAR)},keyup:function(q,n){var r=q.getValue();r=r.replace(/[^a-zA-Z 0-9]+/g,\"\");var s=Ext.getCmp(\"beerlistselect\");var m=Ext.getCmp(\"beerlistselectcontainer\");var j=Ext.getCmp(\"searchinfobarselect\");if((!r||r<b)){s.setStore(null)}b=r;if(r.length>2){s.setStore(null);a.clearFilter();var o=r.split(\" \"),p=[],l;for(l=0;l<o.length;l++){if(!o[l]){return}p.push(new RegExp(o[l],\"i\"))}a.filterBy(function(t){var i=[];for(l=0;l<p.length;l++){var u=p[l];if(t.get(\"name\").match(u)){i.push(true)}else{i.push(false)}}if(p.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}});var h=a.getCount();if(h>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR,a.getCount()));s.setStore(a)}else{j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}}else{s.setStore(null);a.filterBy(function(i){return false})}s.setStore(a);if(!a.getCount()>0){if(r.length<3&&r.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR,3-r.length))}else{if(r.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}else{j.setHtml(i18n.app.HINT_SEARCH2CHAR)}}}if(n.browserEvent.keyCode==13||n.browserEvent.keyCode==10){n.stopEvent();q.element.dom.blur();window.scrollTo(0,0);var k=s.setActiveItem(1);console.log(s.getActiveItem())}}}};var e={xtype:\"button\",text:i18n.app.BTN_ADDBEER,ui:\"action\",id:\"add_beerselect_btn\",handler:this.onAddBeerButtonTap,scope:this};var c={xtype:\"toolbar\",cls:\"sub_titlebar\",id:\"searchselectbeercomponenttoolbar\",ui:\"neutral\",docked:\"top\",items:[f,e]};var d={xtype:\"container\",id:\"searchinfobarselect\",docked:\"top\",html:\"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"};this.add([c,d])},onAddBeerButtonTap:function(){this.fireEvent(\"beerAddCommand\",this)}});Ext.define(\"B2B.view.Friend_Search\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"friendsearch\",id:\"friendsearch\",config:{docked:\"top\"},initialize:function(){this.callParent(arguments);var a=0;var c={xtype:\"button\",text:i18n.app.BTN_SEARCHFRIEND,ui:\"action\",id:\"search_friend_btn\",handler:this.onSearchFriendButtonTap,scope:this};var d={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"friendfiltersearch\",flex:1,listeners:{scope:this,keyup:function(k){var j=k.getValue();var f=Ext.getStore(\"Friends_Local\");if(j<a){f.clearFilter()}a=j;if(!j){f.filterBy(function(){return true})}else{var h=j.split(\" \"),e=[],g;for(g=0;g<h.length;g++){if(!h[g]){return}e.push(new RegExp(h[g],\"i\"))}f.filterBy(function(l){var i=[];for(g=0;g<e.length;g++){var m=e[g];if(l.get(\"displayName\").match(m)||l.get(\"firstName\").match(m)||l.get(\"lastName\").match(m)){i.push(true)}else{i.push(false)}}if(e.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}})}}}};var b={xtype:\"toolbar\",id:\"searchfriendcomponenttoolbar\",cls:\"sub_titlebar\",ui:\"neutral\",docked:\"top\",items:[d,c]};this.add([b])},onSearchFriendButtonTap:function(){this.fireEvent(\"searchFriendCommand\",this)}});Ext.define(\"Ext.field.Hidden\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.Hidden\",xtype:\"hiddenfield\",config:{component:{xtype:\"input\",type:\"hidden\"},ui:\"hidden\",hidden:true,tabIndex:-1}});Ext.define(\"Ext.field.Password\",{extend:\"Ext.field.Text\",xtype:\"passwordfield\",alternateClassName:\"Ext.form.Password\",config:{autoCapitalize:false,component:{type:\"password\"}}});Ext.define(\"B2B.view.User_Preferences_Form\",{extend:\"Ext.form.Panel\",xtype:\"userpreferencesform\",id:\"userpreferencesform\",requires:[\"Ext.form.FieldSet\",\"Ext.field.Password\"],config:{title:i18n.app.PANEL_PREFERENCES,iconCls:\"settings6\",url:\"/cippa.php\"},initialize:function(){this.callParent(arguments);var e={text:i18n.app.BTN_SAVE,ui:\"action\",id:\"save_preferences_btn\",handler:this.onSavePreferencesButtonTap,scope:this},g={text:i18n.app.BTN_CANCEL,ui:\"action\",id:\"cancel_preferences_btn\",handler:this.onCancelButtonTap,scope:this},d={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_PREFERENCES,id:\"PreferencesFormTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[g,{xtype:\"spacer\"},e]},b={xtype:\"fieldset\",title:i18n.app.PANEL_NOTIFICATION,items:[{xtype:\"iostogglefield\",name:\"enableNotification\",label:i18n.app.FORM_NOTIFICATIONENABLE,listeners:{change:function(j,h,k,i){HH.log(\"Notification Toggle\")}}}]},a={xtype:\"iostogglefield\",id:\"twitterToggle\",name:\"shareTwitter\",label:i18n.app.FORM_SHARETWITTER,listeners:{change:function(j,h,k,i){if(i==0){me.onShareTwitterToggle(false)}else{me.onShareTwitterToggle(true)}}}},c={xtype:\"iostogglefield\",id:\"facebookToggle\",name:\"shareFacebook\",label:i18n.app.FORM_SHAREFACEBOOK,listeners:{change:function(j,h,k,i){if(i==0){me.onShareFacebookToggle(false)}else{me.onShareFacebookToggle(true)}}}},f={xtype:\"fieldset\",title:i18n.app.PANEL_SHARE,id:\"fieldset_share\",items:[a,c]};this.add([d,b,f])},activate:function(){this.fireEvent(\"showPreferencesCommand\",this)},onSavePreferencesButtonTap:function(){this.fireEvent(\"savePreferencesCommand\",this)},onShareTwitterToggle:function(a){this.fireEvent(\"toggleTwitterCommand\",this,a)},onShareFacebookToggle:function(a){this.fireEvent(\"toggleFacebookCommand\",this,a)},onCancelButtonTap:function(){this.fireEvent(\"cancelCommand\",this)}});Ext.define(\"Ext.carousel.Item\",{extend:\"Ext.Decorator\",config:{baseCls:\"x-carousel-item\",component:null,translatable:true}});Ext.define(\"Ext.carousel.Carousel\",{extend:\"Ext.Container\",alternateClassName:\"Ext.Carousel\",xtype:\"carousel\",requires:[\"Ext.fx.easing.EaseOut\",\"Ext.carousel.Item\",\"Ext.carousel.Indicator\"],config:{baseCls:\"x-carousel\",direction:\"horizontal\",directionLock:false,animation:{duration:250,easing:{type:\"ease-out\"}},indicator:true,ui:\"dark\",itemConfig:{},bufferSize:1,itemLength:null},itemLength:0,offset:0,flickStartOffset:0,flickStartTime:0,dragDirection:0,count:0,painted:false,activeIndex:-1,beforeInitialize:function(){this.animationListeners={animationframe:\"onActiveItemAnimationFrame\",animationend:\"onActiveItemAnimationEnd\",scope:this};this.element.on({dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this});this.on({painted:\"onPainted\",erased:\"onErased\",resize:\"onSizeChange\"});this.carouselItems=[];this.orderedCarouselItems=[];this.inactiveCarouselItems=[];this.hiddenTranslation=0},updateBufferSize:function(n){var l=Ext.carousel.Item,h=n*2+1,m=this.isRendered(),c=this.innerElement,g=this.carouselItems,f=g.length,e=this.getItemConfig(),d=this.getItemLength(),j=this.getDirection(),b=j===\"horizontal\"?\"setWidth\":\"setHeight\",a,k;for(a=f;a<h;a++){k=Ext.factory(e,l);if(d){k[b].call(k,d)}g.push(k);c.append(k.renderElement);if(m&&k.setRendered(true)){k.fireEvent(\"renderedchange\",this,k,true)}}},getActiveCarouselItem:function(){return this.orderedCarouselItems[this.getBufferSize()]},setRendered:function(g){var a=this.rendered;if(g!==a){this.rendered=g;var b=this.items.items,d=this.carouselItems,c,f,e;for(c=0,f=b.length;c<f;c++){e=b[c];if(!e.isInnerItem()){e.setRendered(g)}}for(c=0,f=d.length;c<f;c++){d[c].setRendered(g)}return true}return false},onPainted:function(){this.painted=true;this.refresh();this.refreshCarouselItems()},onErased:function(){this.painted=false},onSizeChange:function(){this.refreshSizing();this.refreshCarouselItems();this.refreshOffset()},onItemAdd:function(c,b){this.callParent(arguments);var d=this.getInnerItems().indexOf(c),a=this.getIndicator();if(a&&c.isInnerItem()){a.addIndicator()}if(d<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.painted&&this.isIndexDirty(d)){this.refreshActiveItem()}},doItemLayoutAdd:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onItemRemove:function(f,b){this.callParent(arguments);var h=this.getInnerItems().indexOf(f),a=this.getIndicator(),d=this.carouselItems,c,e,g;if(f.isInnerItem()&&a){a.removeIndicator()}if(h<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(h)){for(c=0,e=d.length;c<e;c++){g=d[c];if(g.getComponent()===f){g.setComponent(null)}}if(this.painted){this.refreshActiveItem()}}},doItemLayoutRemove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onInnerItemMove:function(b,c,a){if(this.painted&&(this.isIndexDirty(c)||this.isIndexDirty(a))){this.refreshActiveItem()}},doItemLayoutMove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},isIndexDirty:function(b){var a=this.getActiveIndex(),c=this.getBufferSize();return(b>=a-c&&b<=a+c)},onDragStart:function(f){var d=this.getDirection(),b=f.absDeltaX,a=f.absDeltaY,c=this.getDirectionLock();this.isDragging=true;if(c){if((d===\"horizontal\"&&b>a)||(d===\"vertical\"&&a>b)){f.stopPropagation()}else{this.isDragging=false;return}}if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation()}this.dragStartOffset=this.offset;this.dragDirection=0},onDrag:function(j){if(!this.isDragging){return}var k=this.dragStartOffset,l=this.getDirection(),m=l===\"horizontal\"?j.deltaX:j.deltaY,a=this.offset,i=this.flickStartTime,c=this.dragDirection,b=Ext.Date.now(),h=this.getActiveIndex(),f=this.getMaxItemIndex(),d=c,g;if((h===0&&m>0)||(h===f&&m<0)){m*=0.5}g=k+m;if(g>a){c=1}else{if(g<a){c=-1}}if(c!==d||(b-i)>300){this.flickStartOffset=a;this.flickStartTime=b}this.dragDirection=c;this.setOffset(g)},onDragEnd:function(j){if(!this.isDragging){return}this.onDrag(j);this.isDragging=false;var a=Ext.Date.now(),i=this.itemLength,g=i/2,f=this.offset,m=this.getActiveIndex(),c=this.getMaxItemIndex(),h=0,l=f-this.flickStartOffset,b=a-this.flickStartTime,k=this.getIndicator(),d;if(b>0&&Math.abs(l)>=10){d=l/b;if(Math.abs(d)>=1){if(d<0&&m<c){h=-1}else{if(d>0&&m>0){h=1}}}}if(h===0){if(m<c&&f<-g){h=-1}else{if(m>0&&f>g){h=1}}}if(k){k.setActiveIndex(m-h)}this.animationDirection=h;this.setOffsetAnimated(h*i)},applyAnimation:function(a){a.easing=Ext.factory(a.easing,Ext.fx.easing.EaseOut);return a},updateDirection:function(b){var a=this.getIndicator();this.currentAxis=(b===\"horizontal\")?\"x\":\"y\";if(a){a.setDirection(b)}},setOffset:function(e){var k=this.orderedCarouselItems,c=this.getBufferSize(),g=k[c],j=this.itemLength,d=this.currentAxis,a,h,b,f;this.offset=e;e+=this.itemOffset;if(g){g.translateAxis(d,e);for(f=1,b=0;f<=c;f++){h=k[c-f];if(h){b+=j;h.translateAxis(d,e-b)}}for(f=1,b=0;f<=c;f++){a=k[c+f];if(a){b+=j;a.translateAxis(d,e+b)}}}return this},setOffsetAnimated:function(c){var b=this.orderedCarouselItems[this.getBufferSize()],a=this.getIndicator();if(a){a.setActiveIndex(this.getActiveIndex()-this.animationDirection)}this.offset=c;c+=this.itemOffset;if(b){this.isAnimating=true;b.getTranslatable().on(this.animationListeners);b.translateAxis(this.currentAxis,c,this.getAnimation())}return this},onActiveItemAnimationFrame:function(k){var j=this.orderedCarouselItems,c=this.getBufferSize(),h=this.itemLength,d=this.currentAxis,e=k[d],g,a,f,b;for(f=1,b=0;f<=c;f++){g=j[c-f];if(g){b+=h;g.translateAxis(d,e-b)}}for(f=1,b=0;f<=c;f++){a=j[c+f];if(a){b+=h;a.translateAxis(d,e+b)}}},onActiveItemAnimationEnd:function(b){var c=this.getActiveIndex(),a=this.animationDirection,e=this.currentAxis,f=b[e],d=this.itemLength,g;this.isAnimating=false;b.un(this.animationListeners);if(a===-1){g=d+f}else{if(a===1){g=f-d}else{g=f}}g-=this.itemOffset;this.offset=g;this.setActiveItem(c-a)},refresh:function(){this.refreshSizing();this.refreshActiveItem()},refreshSizing:function(){var a=this.element,b=this.getItemLength(),c,d;if(this.getDirection()===\"horizontal\"){d=a.getWidth()}else{d=a.getHeight()}this.hiddenTranslation=-d;if(b===null){b=d;c=0}else{c=(d-b)/2}this.itemLength=b;this.itemOffset=c},refreshOffset:function(){this.setOffset(this.offset)},refreshActiveItem:function(){this.doSetActiveItem(this.getActiveItem())},getActiveIndex:function(){return this.activeIndex},refreshActiveIndex:function(){this.activeIndex=this.getInnerItemIndex(this.getActiveItem())},refreshCarouselItems:function(){var a=this.carouselItems,b,d,c;for(b=0,d=a.length;b<d;b++){c=a[b];c.getTranslatable().refresh()}this.refreshInactiveCarouselItems()},refreshInactiveCarouselItems:function(){var a=this.inactiveCarouselItems,f=this.hiddenTranslation,c=this.currentAxis,b,e,d;for(b=0,e=a.length;b<e;b++){d=a[b];d.translateAxis(c,f)}},getMaxItemIndex:function(){return this.innerItems.length-1},getInnerItemIndex:function(a){return this.innerItems.indexOf(a)},getInnerItemAt:function(a){return this.innerItems[a]},applyActiveItem:function(){var b=this.callParent(arguments),a;if(b){a=this.getInnerItemIndex(b);if(a!==-1){this.activeIndex=a;return b}}},doSetActiveItem:function(g){var q=this.getActiveIndex(),e=this.getMaxItemIndex(),m=this.getIndicator(),c=this.getBufferSize(),k=this.carouselItems.slice(),n=this.orderedCarouselItems,p={},o={},a,l,b,f,h,j,d;if(k.length===0){return}this.callParent(arguments);n.length=0;if(g){b=g.getId();o[b]=g;p[b]=c;if(q>0){for(f=1;f<=c;f++){h=q-f;if(h>=0){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c-f}else{break}}}if(q<e){for(f=1;f<=c;f++){h=q+f;if(h<=e){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c+f}else{break}}}for(f=0,j=k.length;f<j;f++){d=k[f];l=d.getComponent();if(l){b=l.getId();if(p.hasOwnProperty(b)){k.splice(f,1);f--;j--;delete o[b];n[p[b]]=d}}}for(b in o){if(o.hasOwnProperty(b)){a=o[b];d=k.pop();d.setComponent(a);n[p[b]]=d}}}this.inactiveCarouselItems.length=0;this.inactiveCarouselItems=k;this.refreshOffset();this.refreshInactiveCarouselItems();if(m){m.setActiveIndex(q)}},next:function(){if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation();this.setOffset(0)}if(this.activeIndex===this.getMaxItemIndex()){return this}this.animationDirection=-1;this.setOffsetAnimated(-this.itemLength);return this},previous:function(){if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation();this.setOffset(0)}if(this.activeIndex===0){return this}this.animationDirection=1;this.setOffsetAnimated(this.itemLength);return this},applyIndicator:function(a,b){return Ext.factory(a,Ext.carousel.Indicator,b)},updateIndicator:function(a){if(a){this.insertFirst(a);a.setUi(this.getUi());a.on({next:\"next\",previous:\"previous\",scope:this})}},destroy:function(){var a=this.carouselItems.slice();this.carouselItems.length=0;Ext.destroy(a,this.getIndicator());this.callParent();delete this.carouselItems}},function(){this.override({constructor:function(b){if(b&&\"activeIndex\" in b){Ext.Logger.deprecate(\"'activeIndex' config is deprecated, please use 'activeItem' config instead }\");b.activeItem=b.activeIndex}this.callParent([b])}});Ext.deprecateClassMethod(this,{isVertical:function a(){return this.getDirection()===\"vertical\"},isHorizontal:function a(){return this.getDirection()===\"horizontal\"},prev:\"previous\"})});Ext.define(\"B2B.view.User_Container\",{extend:\"Ext.Container\",xtype:\"userprofilecontainerpanel\",requires:[\"Ext.carousel.Carousel\"],config:{title:i18n.app.LABEL_ABOUT,iconCls:\"user\",cls:\"cards\",layout:{type:\"vbox\",align:\"stretch\"},defaults:{flex:1},items:[{xtype:\"carousel\",items:[{xtype:\"userprofile\",cls:\"card\"},{xtype:\"userpreferencesform\",cls:\"card\"},{xtype:\"userprofileprivacyform\",cls:\"card\"}]}]}});Ext.define(\"Ext.data.Types\",{singleton:true,requires:[\"Ext.data.SortTypes\"],stripRe:/[\\$,%]/g,dashesRe:/-/g,iso8601TestRe:/\\d\\dT\\d\\d/,iso8601SplitRe:/[- :T\\.Z\\+]/},function(){var b=this,a=Ext.data.SortTypes;Ext.apply(b,{AUTO:{convert:function(c){return c},sortType:a.none,type:\"auto\"},STRING:{convert:function(c){return(c===undefined||c===null)?(this.getAllowNull()?null:\"\"):String(c)},sortType:a.asUCString,type:\"string\"},INT:{convert:function(c){return(c!==undefined&&c!==null&&c!==\"\")?((typeof c===\"number\")?parseInt(c,10):parseInt(String(c).replace(b.stripRe,\"\"),10)):(this.getAllowNull()?null:0)},sortType:a.none,type:\"int\"},FLOAT:{convert:function(c){return(c!==undefined&&c!==null&&c!==\"\")?((typeof c===\"number\")?c:parseFloat(String(c).replace(b.stripRe,\"\"),10)):(this.getAllowNull()?null:0)},sortType:a.none,type:\"float\"},BOOL:{convert:function(c){if((c===undefined||c===null||c===\"\")&&this.getAllowNull()){return null}return c!==\"false\"&&!!c},sortType:a.none,type:\"bool\"},DATE:{convert:function(e){var c=this.getDateFormat(),d;if(!e){return null}if(Ext.isDate(e)){return e}if(c){if(c==\"timestamp\"){return new Date(e*1000)}if(c==\"time\"){return new Date(parseInt(e,10))}return Ext.Date.parse(e,c)}d=new Date(Date.parse(e));if(isNaN(d)){if(b.iso8601TestRe.test(e)){d=e.split(b.iso8601SplitRe);d=new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])}if(isNaN(d)){d=new Date(Date.parse(e.replace(this.dashesRe,\"/\")));if(isNaN(d)){Ext.Logger.warn(\"Cannot parse the passed value (\"+e+\") into a valid date\")}}}return isNaN(d)?null:d},sortType:a.asDate,type:\"date\"}});Ext.apply(b,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define(\"Ext.data.Field\",{requires:[\"Ext.data.Types\",\"Ext.data.SortTypes\"],alias:\"data.field\",isField:true,config:{name:null,type:\"auto\",convert:undefined,dateFormat:null,allowNull:true,defaultValue:undefined,mapping:null,sortType:undefined,sortDir:\"ASC\",allowBlank:true,persist:true,encode:null,decode:null,bubbleEvents:\"action\"},constructor:function(a){if(Ext.isString(a)){a={name:a}}this.initConfig(a)},applyType:function(c){var b=Ext.data.Types,a=b.AUTO;if(c){if(Ext.isString(c)){return b[c.toUpperCase()]||a}else{return c}}return a},updateType:function(a,b){var c=this.getConvert();if(b&&c===b.convert){this.setConvert(a.convert)}},applySortType:function(d){var c=Ext.data.SortTypes,a=this.getType(),b=a.sortType;if(d){if(Ext.isString(d)){return c[d]||b}else{return d}}return b},applyConvert:function(b){var a=this.getType().convert;if(b&&b!==a){this._hasCustomConvert=true;return b}else{this._hasCustomConvert=false;return a}},hasCustomConvert:function(){return this._hasCustomConvert}},function(){Ext.deprecateProperty(this,\"useNull\",\"allowNull\")});Ext.define(\"Ext.AbstractManager\",{requires:[\"Ext.util.HashMap\"],typeName:\"type\",constructor:function(a){Ext.apply(this,a||{});this.all=Ext.create(\"Ext.util.HashMap\");this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){Ext.Error.raise(\"The '\"+b+\"' type has not been registered with this manager\")}return new c(a)},onAvailable:function(e,c,b){var a=this.all,d;if(a.containsKey(e)){d=a.get(e);c.call(b||d,d)}else{a.on(\"add\",function(h,f,g){if(f==e){c.call(b||g,g);a.un(\"add\",c,b)}})}},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}});Ext.define(\"Ext.data.ModelManager\",{extend:\"Ext.AbstractManager\",alternateClassName:[\"Ext.ModelMgr\",\"Ext.ModelManager\"],singleton:true,modelNamespace:null,registerType:function(c,b){var d=b.prototype,a;if(d&&d.isModel){a=b}else{b={extend:b.extend||\"Ext.data.Model\",config:b};a=Ext.define(c,b)}this.types[c]=a;return a},onModelDefined:Ext.emptyFn,getModel:function(b){var a=b;if(typeof a==\"string\"){a=this.types[a];if(!a&&this.modelNamespace){a=this.types[this.modelNamespace+\".\"+a]}}return a},create:function(c,b,d){var a=typeof b==\"function\"?b:this.types[b||c.name];return new a(c,d)}},function(){Ext.regModel=function(){Ext.Logger.deprecate('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define(\"MyModel\", {extend: \"Ext.data.Model\", fields: []});.');return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define(\"Ext.data.association.Association\",{alternateClassName:\"Ext.data.Association\",requires:[\"Ext.data.ModelManager\"],config:{ownerModel:null,ownerName:undefined,associatedModel:null,associatedName:undefined,associationKey:undefined,primaryKey:\"id\",reader:null,type:null,name:undefined},statics:{create:function(a){if(!a.isAssociation){if(Ext.isString(a)){a={type:a}}a.type=a.type.toLowerCase();return Ext.factory(a,Ext.data.association.Association,null,\"association\")}return a}},constructor:function(a){this.initConfig(a)},applyName:function(a){if(!a){a=this.getAssociatedName()}return a},applyOwnerModel:function(a){var b=Ext.data.ModelManager.getModel(a);if(b===undefined){Ext.Logger.error(\"The configured ownerModel was not valid (you tried \"+a+\")\")}return b},applyOwnerName:function(a){if(!a){a=this.getOwnerModel().modelName}a=a.slice(a.lastIndexOf(\".\")+1);return a},updateOwnerModel:function(a,b){if(b){this.setOwnerName(a.modelName)}},applyAssociatedModel:function(a){var b=Ext.data.ModelManager.types[a];if(b===undefined){Ext.Logger.error(\"The configured associatedModel was not valid (you tried \"+a+\")\")}return b},applyAssociatedName:function(a){if(!a){a=this.getAssociatedModel().modelName}a=a.slice(a.lastIndexOf(\".\")+1);return a},updateAssociatedModel:function(b,a){if(a){this.setAssociatedName(b.modelName)}},applyReader:function(a){if(a){if(Ext.isString(a)){a={type:a}}if(!a.isReader){Ext.applyIf(a,{type:\"json\"})}}return Ext.factory(a,Ext.data.Reader,this.getReader(),\"reader\")},updateReader:function(a){a.setModel(this.getAssociatedModel())},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Association prototype. Please put it inside the config object.\")}}g.config=d}});Ext.define(\"Ext.data.association.HasMany\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.HasManyAssociation\",requires:[\"Ext.util.Inflector\"],alias:\"association.hasmany\",config:{foreignKey:undefined,store:undefined,storeName:undefined,filterProperty:null,autoLoad:false},constructor:function(a){a=a||{};if(a.storeConfig){Ext.Logger.warn(\"storeConfig is deprecated on an association. Instead use the store configuration.\");a.store=a.storeConfig;delete a.storeConfig}this.callParent([a])},applyName:function(a){if(!a){a=Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase())}return a},applyStoreName:function(a){if(!a){a=this.getName()+\"Store\"}return a},applyForeignKey:function(b){if(!b){var a=this.getInverseAssociation();if(a){b=a.getForeignKey()}else{b=this.getOwnerName().toLowerCase()+\"_id\"}}return b},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=Ext.util.Inflector.pluralize(b[0].toLowerCase()+b.slice(1))}return a},updateForeignKey:function(b,d){var a=this.getAssociatedModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.remove(c);a.isDirty=true}}},applyStore:function(a){var e=this,c=e,i=e.getAssociatedModel(),f=e.getStoreName(),d=e.getForeignKey(),h=e.getPrimaryKey(),g=e.getFilterProperty(),b=e.getAutoLoad();return function(){var m=this,k,l,j={};if(m[f]===undefined){if(g){l={property:g,value:m.get(g),exactMatch:true}}else{l={property:d,value:m.get(h),exactMatch:true}}j[d]=m.get(h);k=Ext.apply({},a,{model:i,filters:[l],remoteFilter:true,modelDefaults:j});m[f]=Ext.create(\"Ext.data.Store\",k);if(b){m[f].load(function(o,n){c.updateInverseInstances(m)})}}return m[f]}},updateStore:function(a){this.getOwnerModel().prototype[this.getName()]=a},read:function(b,a,e){var d=b[this.getName()](),c=a.read(e).getRecords();d.add(c);this.updateInverseInstances(b)},updateInverseInstances:function(b){var c=b[this.getName()](),a=this.getInverseAssociation();if(a){c.each(function(d){d[a.getInstanceName()]=b})}},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()===\"belongsto\"&&b.getAssociatedModel().modelName===a})}},function(){Ext.deprecateProperty(this,\"storeConfig\",\"store\")});Ext.define(\"Ext.data.association.BelongsTo\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.BelongsToAssociation\",alias:\"association.belongsto\",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(a){if(!a){a=this.getAssociatedName().toLowerCase()+\"_id\"}return a},updateForeignKey:function(b,d){var a=this.getOwnerModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.isDirty=true;a.remove(c)}}},applyInstanceName:function(a){if(!a){a=this.getAssociatedName()+\"BelongsToInstance\"}return a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"get\"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"set\"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createGetter()}},updateSetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createSetter()}},createSetter:function(){var b=this,a=b.getForeignKey();return function(g,e,f){var c=b.getInverseAssociation();if(g&&g.isModel){g=g.getId()}this.set(a,g);if(Ext.isFunction(e)){e={callback:e,scope:f||this}}if(c){g=Ext.data.Model.cache[Ext.data.Model.generateCacheId(c.getOwnerModel().modelName,g)];if(g){if(c.getType().toLowerCase()===\"hasmany\"){var d=g[c.getName()]();d.add(this)}else{g[c.getInstanceName()]=this}}}if(Ext.isObject(e)){return this.save(e)}}},createGetter:function(){var c=this,d=c.getAssociatedModel(),b=c.getForeignKey(),a=c.getInstanceName();return function(h,i){h=h||{};var g=this,j=g.get(b),k,e,f;e=g[a];if(!e){e=Ext.data.Model.cache[Ext.data.Model.generateCacheId(d.modelName,j)];if(e){g[a]=e}}if(h.reload===true||e===undefined){if(typeof h==\"function\"){h={callback:h,scope:i||g}}k=h.success;h.success=function(l){g[a]=l;if(k){k.call(this,arguments)}};d.load(j,h)}else{f=[e];i=i||g;Ext.callback(h,i,f);Ext.callback(h.success,i,f);Ext.callback(h.failure,i,f);Ext.callback(h.callback,i,f);return e}}},read:function(b,a,c){b[this.getInstanceName()]=a.read([c]).getRecords()[0]},getInverseAssociation:function(){var b=this.getOwnerModel().modelName,a=this.getForeignKey();return this.getAssociatedModel().associations.findBy(function(d){var c=d.getType().toLowerCase();return(c===\"hasmany\"||c===\"hasone\")&&d.getAssociatedModel().modelName===b&&d.getForeignKey()===a})}});Ext.define(\"Ext.data.association.HasOne\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.HasOneAssociation\",alias:\"association.hasone\",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(b){if(!b){var a=this.getInverseAssociation();if(a){b=a.getForeignKey()}else{b=this.getOwnerName().toLowerCase()+\"_id\"}}return b},updateForeignKey:function(b,d){var a=this.getAssociatedModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.remove(c);a.isDirty=true}}},applyInstanceName:function(a){if(!a){a=this.getAssociatedName()+\"BelongsToInstance\"}return a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"get\"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"set\"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createGetter()}},updateSetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createSetter()}},createSetter:function(){var c=this,b=c.getForeignKey(),a=c.getInstanceName(),d=c.getAssociatedModel();return function(h,f,g){var i=Ext.data.Model,e;if(h&&h.isModel){h=h.getId()}this.set(b,h);e=i.cache[i.generateCacheId(d.modelName,h)];if(e){this[a]=e}if(Ext.isFunction(f)){f={callback:f,scope:g||this}}if(Ext.isObject(f)){return this.save(f)}}},createGetter:function(){var c=this,d=c.getAssociatedModel(),b=c.getForeignKey(),a=c.getInstanceName();return function(h,i){h=h||{};var g=this,j=g.get(b),k,e,f;if(h.reload===true||g[a]===undefined){if(typeof h==\"function\"){h={callback:h,scope:i||g}}k=h.success;h.success=function(l){g[a]=l;if(k){k.call(this,arguments)}};d.load(j,h)}else{e=g[a];f=[e];i=i||g;Ext.callback(h,i,f);Ext.callback(h.success,i,f);Ext.callback(h.failure,i,f);Ext.callback(h.callback,i,f);return e}}},read:function(c,a,e){var b=this.getInverseAssociation(),d=a.read([e]).getRecords()[0];c[this.getInstanceName()]=d;if(b){d[b.getInstanceName()]=c}},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()===\"belongsto\"&&b.getAssociatedModel().modelName===a})}});Ext.define(\"Ext.field.TextAreaInput\",{extend:\"Ext.field.Input\",xtype:\"textareainput\",tag:\"textarea\"});Ext.define(\"Ext.field.TextArea\",{extend:\"Ext.field.Text\",xtype:\"textareafield\",requires:[\"Ext.field.TextAreaInput\"],alternateClassName:\"Ext.form.TextArea\",config:{ui:\"textarea\",autoCapitalize:false,component:{xtype:\"textareainput\"},maxRows:null},updateMaxRows:function(a){this.getComponent().setMaxRows(a)},doSetHeight:function(a){this.callParent(arguments);var b=this.getComponent();b.input.setHeight(a)},doSetWidth:function(b){this.callParent(arguments);var a=this.getComponent();a.input.setWidth(b)},doKeyUp:function(a){var b=a.getValue();a[b?\"showClearIcon\":\"hideClearIcon\"]()}});Ext.define(\"Ext.MessageBox\",{extend:\"Ext.Sheet\",requires:[\"Ext.Toolbar\",\"Ext.field.Text\",\"Ext.field.TextArea\"],config:{ui:\"dark\",baseCls:Ext.baseCSSPrefix+\"msgbox\",iconCls:null,showAnimation:{type:\"popIn\",duration:250,easing:\"ease-out\"},hideAnimation:{type:\"popOut\",duration:250,easing:\"ease-out\"},zIndex:10,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,layout:{type:\"vbox\",pack:\"center\"}},statics:{OK:{text:\"OK\",itemId:\"ok\",ui:\"action\"},YES:{text:\"Yes\",itemId:\"yes\",ui:\"action\"},NO:{text:\"No\",itemId:\"no\"},CANCEL:{text:\"Cancel\",itemId:\"cancel\"},INFO:Ext.baseCSSPrefix+\"msgbox-info\",WARNING:Ext.baseCSSPrefix+\"msgbox-warning\",QUESTION:Ext.baseCSSPrefix+\"msgbox-question\",ERROR:Ext.baseCSSPrefix+\"msgbox-error\",OKCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"OK\",itemId:\"ok\",ui:\"action\"}],YESNOCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}],YESNO:[{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}]},constructor:function(a){a=a||{};if(a.hasOwnProperty(\"promptConfig\")){Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\",this);Ext.applyIf(a,{prompt:a.promptConfig});delete a.promptConfig}if(a.hasOwnProperty(\"multiline\")||a.hasOwnProperty(\"multiLine\")){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};var e=[\"ui\",\"showAnimation\",\"hideAnimation\",\"title\",\"message\",\"prompt\",\"iconCls\",\"buttons\",\"defaultTextHeight\"],d=e.length,b,c;for(b=0;b<d;b++){c=e[b];this.defaultAllowedConfig[c]=this.defaultConfig[c]}this.callParent([a])},applyTitle:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"top\",cls:this.getBaseCls()+\"-title\"});return Ext.factory(a,Ext.Toolbar,this.getTitle())},updateTitle:function(a){if(a){this.add(a)}},updateButtons:function(a){var b=this;if(a){if(b.buttonsToolbar){b.buttonsToolbar.removeAll();b.buttonsToolbar.setItems(a)}else{b.buttonsToolbar=Ext.create(\"Ext.Toolbar\",{docked:\"bottom\",defaultType:\"button\",layout:{type:\"hbox\",pack:\"center\"},ui:b.getUi(),cls:b.getBaseCls()+\"-buttons\",items:a});b.add(b.buttonsToolbar)}}},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+\"-text\"};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){a={xtype:\"component\",docked:\"left\",width:40,height:40,baseCls:Ext.baseCSSPrefix+\"icon\",hidden:(a)?false:true,cls:a};return Ext.factory(a,Ext.Component,this._iconCls)},updateIconCls:function(a,b){var c=this;this.getTitle();this.getButtons();if(a&&!b){this.add(a)}else{this.remove(b)}},getIconCls:function(){var b=this._iconCls,a;if(b){a=b.getCls();return(a)?a[0]:null}return null},applyPrompt:function(a){if(a){var b={label:false};if(Ext.isObject(a)){Ext.apply(b,a)}if(b.multiLine){b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight();return Ext.factory(b,Ext.field.TextArea,this.getPrompt())}else{return Ext.factory(b,Ext.field.Text,this.getPrompt())}}return a},updatePrompt:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},onClick:function(c){if(c){var b=c.config.userConfig||{},d=c.getInitialConfig(),a=this.getPrompt();if(typeof b.fn==\"function\"){this.on({hiddenchange:function(){b.fn.call(b.scope||null,d.itemId||d.text,a?a.getValue():null,b)},single:true,scope:this})}if(b.input){b.input.dom.blur()}}this.hide()},show:function(f){if(!this.getParent()&&Ext.Viewport){Ext.Viewport.add(this)}if(!f){return this.callParent()}var b=Ext.Object.merge({},{value:\"\"},f);var e=f.buttons||Ext.MessageBox.OK||[],d=[],c=f;Ext.each(e,function(g){if(!g){return}d.push(Ext.apply({userConfig:c,scope:this,handler:\"onClick\"},g))},this);b.buttons=d;if(b.promptConfig){Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\",this)}b.prompt=(b.promptConfig||b.prompt)||null;if(b.multiLine){b.prompt=b.prompt||{};b.prompt.multiLine=b.multiLine;delete b.multiLine}b=Ext.merge({},this.defaultAllowedConfig,b);this.setConfig(b);var a=this.getPrompt();if(a){a.setValue(f.value||\"\")}this.callParent();return this},alert:function(d,c,b,a){return this.show({title:d,message:c,buttons:Ext.MessageBox.OK,promptConfig:false,fn:function(){if(b){b.apply(a,arguments)}},scope:a})},confirm:function(d,c,b,a){return this.show({title:d,message:c,buttons:Ext.MessageBox.YESNO,promptConfig:false,scope:a,fn:function(){if(b){b.apply(a,arguments)}}})},prompt:function(g,d,c,b,f,e,a){return this.show({title:g,message:d,buttons:Ext.MessageBox.OKCANCEL,scope:b,prompt:a||true,multiLine:f,value:e,fn:function(){if(c){c.apply(b,arguments)}}})}},function(a){this.override({setIcon:function(b,c){Ext.Logger.deprecate(\"Ext.MessageBox#setIcon is deprecated, use setIconCls instead\",2);this.setIconCls(b);return this},updateText:function(b){Ext.Logger.deprecate(\"Ext.MessageBox#updateText is deprecated, use setMessage instead\",2);this.setMessage(b);return this}});Ext.onSetup(function(){Ext.Msg=new a})});Ext.define(\"Ext.dataview.component.Container\",{extend:\"Ext.Container\",requires:[\"Ext.dataview.component.DataItem\"],constructor:function(){this.itemCache=[];this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> .\"+Ext.baseCSSPrefix+\"data-item\",scope:this})},initialize:function(){this.callParent();this.doInitialize()},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,a,b.indexOf(a),d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtouchmove\",b,a,b.indexOf(a),d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,a,b.indexOf(a),d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtap\",b,a,b.indexOf(a),d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtaphold\",b,a,b.indexOf(a),d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemsingletap\",b,a,b.indexOf(a),d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemdoubletap\",b,a,b.indexOf(a),d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemswipe\",b,a,b.indexOf(a),d)},moveItemsToCache:function(j,k){var h=this,c=h.dataview,a=c.getMaxItemCache(),g=h.getViewItems(),f=h.itemCache,e=f.length,l=c.getPressedCls(),d=c.getSelectedCls(),b=k-j,m;for(;b>=0;b--){m=g[j+b];if(e!==a){h.remove(m,false);m.removeCls([l,d]);f.push(m);e++}else{m.destroy()}}if(h.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(b){var l=this,e=l.dataview,m=e.getStore(),k=b.length,a=e.getDefaultType(),h=e.getItemConfig(),g=l.itemCache,f=g.length,j=[],c,n,d;if(k){e.hideEmptyText()}for(c=0;c<k;c++){b[c]._tmpIndex=m.indexOf(b[c])}Ext.Array.sort(b,function(o,i){return o._tmpIndex>i._tmpIndex?1:-1});for(c=0;c<k;c++){d=b[c];if(f){f--;n=g.pop();this.updateListItem(d,n)}else{n=l.getDataItemConfig(a,d,h)}this.insert(d._tmpIndex,n);delete d._tmpIndex}return j},getViewItems:function(){return this.getInnerItems()},updateListItem:function(a,b){if(b.updateRecord){b.updateRecord(a)}},getDataItemConfig:function(e,b,c){var a=this.dataview,d={xtype:e,record:b,dataview:a,itemCls:a.getItemCls(),defaults:c};return Ext.merge(d,c)},doRemoveItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].removeCls(a)}},doAddItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].addCls(a)}},destroy:function(){var d=this,b=d.itemCache,c=b.length,a=0;for(;a<c;a++){b[a].destroy()}this.callParent()}});Ext.define(\"Ext.dataview.DataView\",{extend:\"Ext.Container\",alternateClassName:\"Ext.DataView\",mixins:[\"Ext.mixin.Selectable\"],xtype:\"dataview\",requires:[\"Ext.LoadMask\",\"Ext.data.StoreManager\",\"Ext.dataview.component.Container\",\"Ext.dataview.element.Container\"],config:{store:null,baseCls:Ext.baseCSSPrefix+\"dataview\",emptyText:null,deferEmptyText:true,itemTpl:\"<div>{text}</div>\",pressedCls:\"x-item-pressed\",itemCls:null,selectedCls:\"x-item-selected\",triggerEvent:\"itemtap\",triggerCtEvent:\"tap\",deselectOnContainerClick:true,scrollable:true,inline:null,pressedDelay:100,loadingText:\"Loading...\",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:\"dataitem\",scrollToTopOnRefresh:true},constructor:function(a){var b=this;if(a&&a.layout){Ext.Logger.warn(\"Attempting to create a DataView with a layout. DataViews do not have a layout configuration as their items are laid out automatically.\");delete a.layout}b.hasLoadedStore=false;b.mixins.selectable.constructor.apply(b,arguments);b.callParent(arguments)},updateItemCls:function(c,b){var a=this.container;if(a){if(b){a.doRemoveItemCls(b)}if(c){a.doAddItemCls(c)}}},storeEventHooks:{beforeload:\"onBeforeLoad\",load:\"onLoad\",refresh:\"refresh\",addrecords:\"onStoreAdd\",removerecords:\"onStoreRemove\",updaterecord:\"onStoreUpdate\"},initialize:function(){this.callParent();var b=this,a;b.on(b.getTriggerCtEvent(),b.onContainerTrigger,b);a=b.container=this.add(new Ext.dataview[b.getUseComponents()?\"component\":\"element\"].Container({baseCls:this.getBaseCls()}));a.dataview=b;b.on(b.getTriggerEvent(),b.onItemTrigger,b);a.on({itemtouchstart:\"onItemTouchStart\",itemtouchend:\"onItemTouchEnd\",itemtap:\"onItemTap\",itemtaphold:\"onItemTapHold\",itemtouchmove:\"onItemTouchMove\",itemsingletap:\"onItemSingleTap\",itemdoubletap:\"onItemDoubleTap\",itemswipe:\"onItemSwipe\",scope:b});if(this.getStore()){this.refresh()}},applyInline:function(a){if(Ext.isObject(a)){a=Ext.apply({},a)}return a},updateInline:function(c,b){var a=this.getBaseCls();if(b){this.removeCls([a+\"-inlineblock\",a+\"-nowrap\"])}if(c){this.addCls(a+\"-inlineblock\");if(Ext.isObject(c)&&c.wrap===false){this.addCls(a+\"-nowrap\")}else{this.removeCls(a+\"-nowrap\")}}},prepareData:function(c,b,a){c.xindex=b+1;return c},onContainerTrigger:function(b){var a=this;if(b.target!=a.element.dom){return}if(a.getDeselectOnContainerClick()&&a.getStore()){a.deselectAll()}},onItemTrigger:function(b,a){this.selectWithEvent(this.getStore().getAt(a))},doAddPressedCls:function(a){var c=this,b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.addCls(c.getPressedCls())}},onItemTouchStart:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireAction(\"itemtouchstart\",[f,d,h,a,g],\"doItemTouchStart\")},doItemTouchStart:function(c,b,e,a){var d=c.getPressedDelay();if(a){if(d>0){c.pressedTimeout=Ext.defer(c.doAddPressedCls,d,c,[a])}else{c.doAddPressedCls(a)}}},onItemTouchEnd:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(this.hasOwnProperty(\"pressedTimeout\")){clearTimeout(this.pressedTimeout);delete this.pressedTimeout}if(a&&h){h.removeCls(f.getPressedCls())}f.fireEvent(\"itemtouchend\",f,d,h,a,g)},onItemTouchMove:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(f.hasOwnProperty(\"pressedTimeout\")){clearTimeout(f.pressedTimeout);delete f.pressedTimeout}if(a&&h){h.removeCls(f.getPressedCls())}f.fireEvent(\"itemtouchmove\",f,d,h,a,g)},onItemTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtap\",f,d,h,a,g)},onItemTapHold:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtaphold\",f,d,h,a,g)},onItemSingleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemsingletap\",f,d,h,a,g)},onItemDoubleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemdoubletap\",f,d,h,a,g)},onItemSwipe:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemswipe\",f,d,h,a,g)},onItemSelect:function(a,b){var c=this;if(b){c.doItemSelect(c,a)}else{c.fireAction(\"select\",[c,a],\"doItemSelect\")}},doItemSelect:function(c,a){if(c.container&&!c.isDestroyed){var b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.removeCls(c.getPressedCls());b.addCls(c.getSelectedCls())}}},onItemDeselect:function(a,b){var c=this;if(c.container&&!c.isDestroyed){if(b){c.doItemDeselect(c,a)}else{c.fireAction(\"deselect\",[c,a,b],\"doItemDeselect\")}}},doItemDeselect:function(c,a){var b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.removeCls([c.getPressedCls(),c.getSelectedCls()])}},updateData:function(b){var a=this.getStore();if(!a){this.setStore(Ext.create(\"Ext.data.Store\",{data:b}))}else{a.add(b)}},applyStore:function(b){var d=this,e=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(b){b=Ext.data.StoreManager.lookup(b);if(b&&Ext.isObject(b)&&b.isStore){b.on(e);c=b.getProxy();if(c){a=c.getReader();if(a){a.on(\"exception\",\"handleException\",this)}}}else{Ext.Logger.warn(\"The specified Store cannot be found\",this)}}return b},handleException:function(){this.setMasked(false)},updateStore:function(b,e){var d=this,f=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(e&&Ext.isObject(e)&&e.isStore){if(e.autoDestroy){e.destroy()}else{e.un(f);c=e.getProxy();if(c){a=c.getReader();if(a){a.un(\"exception\",\"handleException\",this)}}}}if(b){if(b.isLoaded()){this.hasLoadedStore=true}if(b.isLoading()){d.onBeforeLoad()}if(d.container){d.refresh()}}},onBeforeLoad:function(){var b=this.getScrollable();if(b){b.getScroller().stopAnimation()}var a=this.getLoadingText();if(a){this.setMasked({xtype:\"loadmask\",message:a});if(b){b.getScroller().setDisabled(true)}}this.hideEmptyText()},updateEmptyText:function(c,d){var b=this,a;if(d&&b.emptyTextCmp){b.remove(b.emptyTextCmp,true);delete b.emptyTextCmp}if(c){b.emptyTextCmp=b.add({xtype:\"component\",cls:b.getBaseCls()+\"-emptytext\",html:c,hidden:true});a=b.getStore();if(a&&b.hasLoadedStore&&!a.getCount()){this.showEmptyText()}}},onLoad:function(a){var b=this.getScrollable();this.hasLoadedStore=true;this.setMasked(false);if(b){b.getScroller().setDisabled(false)}if(!a.getCount()){this.showEmptyText()}},refresh:function(){var b=this,a=b.container;if(!b.getStore()){if(!b.hasLoadedStore&&!b.getDeferEmptyText()){b.showEmptyText()}return}if(a){b.fireAction(\"refresh\",[b],\"doRefresh\")}},applyItemTpl:function(a){return(Ext.isObject(a)&&a.isTemplate)?a:new Ext.XTemplate(a)},onAfterRender:function(){var a=this;a.callParent(arguments);a.updateStore(a.getStore())},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(f){var a=f.container,j=f.getStore(),b=j.getRange(),e=a.getViewItems(),h=b.length,l=e.length,c=h-l,g=f.getScrollable(),d,k;if(this.getScrollToTopOnRefresh()&&g){g.getScroller().scrollToTop()}if(h<1){f.onStoreClear();return}if(c<0){a.moveItemsToCache(l+c,l-1);e=a.getViewItems();l=e.length}else{if(c>0){a.moveItemsFromCache(j.getRange(l))}}for(d=0;d<l;d++){k=e[d];a.updateListItem(b[d],k)}},showEmptyText:function(){if(this.getEmptyText()&&(this.hasLoadedStore||!this.getDeferEmptyText())){this.emptyTextCmp.show()}},hideEmptyText:function(){if(this.getEmptyText()){this.emptyTextCmp.hide()}},onStoreClear:function(){var c=this,a=c.container,b=a.getViewItems();a.moveItemsToCache(0,b.length-1);this.showEmptyText()},onStoreAdd:function(b,a){if(a){this.container.moveItemsFromCache(a)}},onStoreRemove:function(c,b,f){var a=this.container,e=b.length,d;for(d=0;d<e;d++){a.moveItemsToCache(f[d],f[d])}},onStoreUpdate:function(c,b,d,f){var e=this,a=e.container;f=(typeof f===\"undefined\")?d:f;if(f!==d){a.moveItemsToCache(f,f);a.moveItemsFromCache([b]);if(e.isSelected(b)){e.doItemSelect(e,b)}}else{a.updateListItem(b,a.getViewItems()[d])}}},function(){Ext.deprecateMethod(this,\"collectData\",null,\"Ext.dataview.DataView.collectData() has been removed\");Ext.deprecateMethod(this,\"findItemByChild\",null,\"Ext.dataview.DataView.findItemByChild() has been removed\");Ext.deprecateMethod(this,\"findTargetByEvent\",null,\"Ext.dataview.DataView.findTargetByEvent() has been removed\");Ext.deprecateMethod(this,\"getNode\",null,\"Ext.dataview.DataView.getNode() has been removed\");Ext.deprecateMethod(this,\"getNodes\",null,\"Ext.dataview.DataView.getNodes() has been removed\");Ext.deprecateMethod(this,\"getRecords\",null,\"Ext.dataview.DataView.getRecords() has been removed\");Ext.deprecateMethod(this,\"getSelectedNodes\",null,\"Ext.dataview.DataView.getSelectedNodes() has been removed\");Ext.deprecateMethod(this,\"getSelectedRecords\",null,\"Ext.dataview.DataView.getSelectedRecords() has been removed\");Ext.deprecateMethod(this,\"indexOf\",null,\"Ext.dataview.DataView.indexOf() has been removed\");Ext.deprecateMethod(this,\"refreshNode\",null,\"Ext.dataview.DataView.refreshNode() has been removed\");Ext.deprecateClassMethod(this,\"bindStore\",\"setStore\");Ext.deprecateProperty(this,\"blockRefresh\",null,\"Ext.dataview.DataView.blockRefresh has been removed\");Ext.deprecateProperty(this,\"itemSelector\",null,\"Ext.dataview.DataView.itemSelector has been removed\");Ext.deprecateProperty(this,\"multiSelect\",null,\"Ext.dataview.DataView.multiSelect has been removed\");Ext.deprecateProperty(this,\"overItemCls\",null,\"Ext.dataview.DataView.overItemCls has been removed\");Ext.deprecateProperty(this,\"selectedItemCls\",null,\"Ext.dataview.DataView.selectedItemCls has been removed\");Ext.deprecateProperty(this,\"simpleSelect\",null,\"Ext.dataview.DataView.simpleSelect has been removed\");Ext.deprecateProperty(this,\"singleSelect\",null,\"Ext.dataview.DataView.singleSelect has been removed\");Ext.deprecateProperty(this,\"trackOver\",null,\"Ext.dataview.DataView.trackOver has been removed\")});Ext.define(\"Ext.dataview.List\",{alternateClassName:\"Ext.List\",extend:\"Ext.dataview.DataView\",xtype:\"list\",requires:[\"Ext.dataview.element.List\",\"Ext.dataview.IndexBar\",\"Ext.dataview.ListItemHeader\"],config:{indexBar:false,icon:null,preventSelectionOnDisclose:true,baseCls:Ext.baseCSSPrefix+\"list\",pinHeaders:true,grouped:false,onItemDisclosure:null,disclosureProperty:\"disclosure\",ui:\"normal\"},constructor:function(){this.translateHeader=(Ext.os.is.Android2)?this.translateHeaderCssPosition:this.translateHeaderTransform;this.callParent(arguments)},onItemTrigger:function(c,b,f,a,d){if(!(this.getPreventSelectionOnDisclose()&&Ext.fly(d.target).hasCls(this.getBaseCls()+\"-disclosure\"))){this.callParent(arguments)}},initialize:function(){var b=this,a;b.on(b.getTriggerCtEvent(),b.onContainerTrigger,b);a=b.container=this.add(new Ext.dataview.element.List({baseCls:this.getBaseCls()}));a.dataview=b;b.on(b.getTriggerEvent(),b.onItemTrigger,b);a.element.on({delegate:\".\"+this.getBaseCls()+\"-disclosure\",tap:\"handleItemDisclosure\",scope:b});a.on({itemtouchstart:\"onItemTouchStart\",itemtouchend:\"onItemTouchEnd\",itemtap:\"onItemTap\",itemtaphold:\"onItemTapHold\",itemtouchmove:\"onItemTouchMove\",itemsingletap:\"onItemSingleTap\",itemdoubletap:\"onItemDoubleTap\",itemswipe:\"onItemSwipe\",scope:b});if(this.getStore()){this.refresh()}},updateInline:function(a){this.callParent(arguments);if(a){this.setOnItemDisclosure(false);this.setIndexBar(false);this.setGrouped(false)}},applyIndexBar:function(a){return Ext.factory(a,Ext.dataview.IndexBar,this.getIndexBar())},updateIndexBar:function(a){if(a&&this.getScrollable()){this.indexBarElement=this.getScrollableBehavior().getScrollView().getElement().appendChild(a.renderElement);a.on({index:\"onIndex\",scope:this});this.element.addCls(this.getBaseCls()+\"-indexed\")}},updateGrouped:function(c){var b=this.getBaseCls(),a=b+\"-grouped\",d=b+\"-ungrouped\";if(c){this.addCls(a);this.removeCls(d);this.doRefreshHeaders();this.updatePinHeaders(this.getPinHeaders())}else{this.addCls(d);this.removeCls(a);if(this.container){this.container.doRemoveHeaders()}this.updatePinHeaders(null)}},updatePinHeaders:function(b){var c=this.getScrollable(),a;if(c){a=c.getScroller()}if(!c){return}if(b&&this.getGrouped()){a.on({refresh:\"doRefreshHeaders\",scroll:\"onScroll\",scope:this});if(!this.header||!this.header.renderElement.dom){this.createHeader()}}else{a.un({refresh:\"doRefreshHeaders\",scroll:\"onScroll\",scope:this});if(this.header){this.header.destroy()}}},createHeader:function(){var e,d=this.getScrollable(),a,b,c;if(d){a=d.getScroller();b=this.getScrollableBehavior().getScrollView();c=b.getElement()}else{return}this.header=e=Ext.create(\"Ext.dataview.ListItemHeader\",{html:\" \",cls:\"x-list-header-swap\"});c.dom.insertBefore(e.element.dom,a.getContainer().dom.nextSibling);this.translateHeader(1000)},refresh:function(){this.callParent();this.doRefreshHeaders()},onStoreAdd:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreRemove:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreUpdate:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreClear:function(){this.callParent();if(this.header){this.header.destroy()}this.doRefreshHeaders()},getClosestGroups:function(){var a=this.pinHeaderInfo.offsets,e=this.getScrollable(),d=a.length,b=0,h,g,f,c;if(e){h=e.getScroller().position}else{return{current:0,next:0}}for(;b<d;b++){g=a[b];if(g.offset>h.y){c=g;break}f=g}return{current:f,next:c}},doRefreshHeaders:function(){if(!this.getGrouped()||!this.container){return false}var l=this.findGroupHeaderIndices(),f=l.length,g=this.container.getViewItems(),j=this.pinHeaderInfo={offsets:[]},a=j.offsets,h=this.getScrollable(),e,k,b,d,c;if(f){for(b=0;b<f;b++){d=g[l[b]];if(d){c=this.getItemHeader(d);a.push({header:c,offset:d.offsetTop})}}j.closest=this.getClosestGroups();this.setActiveGroup(j.closest.current);if(c){j.headerHeight=Ext.fly(c).getHeight()}if(h){e=h.getScroller();k=e.position;this.onScroll(e,k.x,k.y)}}},getItemHeader:function(b){var a=Ext.fly(b).down(this.container.headerClsCache);return a?a.dom:null},onScroll:function(e,j,h){var g=this,i=g.pinHeaderInfo,a=i.closest,b=g.activeGroup,c=i.headerHeight,d,f;if(!a){return}d=a.next;f=a.current;if(!this.header||!this.header.renderElement.dom){this.createHeader()}if(h<=0){if(b){g.setActiveGroup(false);a.next=f}this.translateHeader(1000);return}else{if((d&&h>d.offset)||(f&&h<f.offset)){a=i.closest=this.getClosestGroups();d=a.next;f=a.current;this.setActiveGroup(f)}}if(d&&h>0&&d.offset-h<=c){var k=c-(d.offset-h);this.translateHeader(k)}else{this.translateHeader(null)}},translateHeaderTransform:function(a){this.header.renderElement.dom.style.webkitTransform=(a===null)?null:\"translate3d(0px, -\"+a+\"px, 0px)\"},translateHeaderCssPosition:function(a){this.header.renderElement.dom.style.top=(a===null)?null:\"-\"+Math.round(a)+\"px\"},setActiveGroup:function(b){var a=this,c=a.header;if(c){if(b&&b.header){if(!a.activeGroup||a.activeGroup.header!=b.header){c.show();if(c.element){c.setHtml(b.header.innerHTML)}}}else{if(c&&c.element){c.hide()}}}this.activeGroup=b},onIndex:function(o,c){var r=this,s=c.toLowerCase(),b=r.getStore(),q=b.getGroups(),f=q.length,h=r.getScrollable(),n,e,m,g,k,p;if(h){n=r.getScrollable().getScroller()}else{return}for(m=0;m<f;m++){e=q[m];k=e.name.toLowerCase();if(k==s||k>s){g=e;break}else{g=e}}if(h&&g){p=r.container.getViewItems()[b.indexOf(g.children[0])];n.stopAnimation();var l=n.getContainerSize().y,j=n.getSize().y,d=j-l,a=(p.offsetTop>d)?d:p.offsetTop;n.scrollTo(0,a)}},applyOnItemDisclosure:function(a){if(Ext.isFunction(a)){return{scope:this,handler:a}}return a},handleItemDisclosure:function(f){var d=this,c=f.getTarget().parentNode,b=d.container.getViewItems().indexOf(c),a=d.getStore().getAt(b);d.fireAction(\"disclose\",[d,a,c,b,f],\"doDisclose\")},doDisclose:function(f,a,d,c,g){var b=f.getOnItemDisclosure();if(b&&b.handler){b.handler.call(b.scope||f,a,d,c,g)}},findGroupHeaderIndices:function(){if(!this.getGrouped()){return[]}var h=this,k=h.getStore();if(!k){return[]}var b=h.container,d=k.getGroups(),m=d.length,g=b.getViewItems(),c=[],l=b.footerClsShortCache,e,a,f,n,j;b.doRemoveHeaders();b.doRemoveFooterCls();if(g.length){for(e=0;e<m;e++){a=d[e].children[0];f=k.indexOf(a);n=g[f];b.doAddHeader(n,k.getGroupString(a));if(e){Ext.fly(n.previousSibling).addCls(l)}c.push(f)}j=d[--e].children;Ext.fly(g[k.indexOf(j[j.length-1])]).addCls(l)}return c},destroy:function(){Ext.destroy(this.getIndexBar(),this.indexBarElement,this.header);this.callParent()}});Ext.define(\"B2B.view.Activity_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"activitylist\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],loadMask:true,emptyText:'</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate([\"<div class='{[this.getClass(values)]}'>\",\"{[this.getImageURL(values)]}\",\"{[this.getTextString(values)]}\",\"{[this.getWhenString()]}\",\"</div>\"].join(\"\"),{getClass:function(a){return\"activity-list-item small-list activity-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=HH.default_place32}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getWhenString:function(a){var b=\"<div class='small-list-when'>\";b+=\"5 minuti fa\";b+=\"</div>\";return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=utils.getActivityString(a);b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Activity_User\",{extend:\"Ext.dataview.List\",xtype:\"activityusercomponent\",config:{draggable:false,loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate('<div class=\\'{[this.getClass(values)]}\\'><img class=\\'drinkAvatar\\' src=\"{[this.getImageURL()]}\" width=\"20\" height=\"20\"></img><span>{[this.getBadgeString(values)]}</span></div>',{getClass:function(a){return\"activity-list-item_\"+a.type},getImageURL:function(a){return\"resources/images/Image0.png\"},getBadgeString:function(a){var b=utils.__(i18n.app.BADGES_TEXT1,a.displayName,a.beerName,a.placeName);return b}})}});Ext.define(\"B2B.view.Beer_List\",{extend:\"Ext.dataview.List\",xtype:\"beerlist\",id:\"beerlist\",config:{loadingText:i18n.app.HINT_LOADING,itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"small-list beer-list-item-title beerTypeClass\"+a.beerstyle+\" nation_\"+a.nationality},getImage1URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beerstyle)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getImage2URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beertype)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"\";b+=\"<div class='small-list-text'>\"+_.titleize(a.name)+\"</div><div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(a.beerstyle));if(a.beertype){b+=\" - \"+utils.getBeerTypeFromCode(parseInt(a.beertype))}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Beer_List_Select\",{extend:\"Ext.dataview.List\",xtype:\"beerlistselectcomponent\",id:\"beerlistselectcomponent\",config:{loadingText:i18n.app.HINT_LOADING,itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"small-list beer-list-item-title beerTypeClass\"+a.beerstyle+\" nation_\"+a.nationality},getImage1URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beerstyle)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getImage2URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beertype)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"\";b+=\"<div class='small-list-text'>\"+_.titleize(a.name)+\"</div><div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(a.beerstyle));if(a.beertype){b+=\" - \"+utils.getBeerTypeFromCode(parseInt(a.beertype))}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.DrinkInCheckIn_List\",{extend:\"Ext.dataview.List\",xtype:\"drinkincheckinlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:\"\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"drinkincheckin-list-item small-list\"},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b='<div class=\"small-list-text\">';b+=a.placeName;b+=\"</div>\";b+='<div class=\"small-list-drinkedin\">';if(parseInt(a.drinkedIn)>0){b+=a.drinkedIn}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Place_List\",{extend:\"Ext.dataview.List\",xtype:\"placelistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"beer-list-empty-text\">'+utils.__(i18n.app.TEXT_NOPLACEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"place-list-item small-list activity-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b='<div class=\"small-list-text\">';b+=a.placeName;b+=\"</div>\";b+='<div class=\"small-list-drinkedin\">';if(parseInt(a.drinkedIn)>0){b+=a.drinkedIn}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Favorites_List\",{extend:\"Ext.dataview.List\",xtype:\"favoriteslistcomponent\",id:\"favoriteslistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"favorites-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFAVORITEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getString(values)]}</div>\",{getClass:function(a){return\"favorites-list-item-title\"},getString:function(a){var b=\"\";b+='<div class=\"small-list-text\">'+_.titleize(a.beerName)+\"</div>\";return b}})}});Ext.define(\"B2B.view.Feedback_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"feedbacklistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],emptyText:'</pre><div class=\"feedback-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFEEDBACKFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}{[this.getWhenString()]}</div>\",{getClass:function(a){return\"feedback-list-item small-list feedback-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getWhenString:function(a){var b=\"<div class='small-list-when'>\";b+=\"5 minuti fa\";b+=\"</div>\";return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Friend_List\",{extend:\"Ext.dataview.List\",xtype:\"friendlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"friend-list-item-title small-list\"},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=HH.default_user32}else{b+=value.image}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"<div class='small-list-text'>\"+utils.getDisplayName(a)+\"</div>\";if(a.firstName){b+=\"<div class='small-list-subtext'>\"+a.firstName;if(a.lastName){b+=\" \"+a.lastName}b+=\"</div>\"}return b}})}});Ext.define(\"B2B.view.Notification_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"notificationlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],emptyText:'</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"notification-list-item small-list notification-type\"+a.type},getImage:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=utils.getNotificationString(a);b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Badge_List\",{extend:\"Ext.dataview.List\",xtype:\"badgelistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"badge-list-empty-text\">'+utils.__(i18n.app.TEXT_NOBADGEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate([\"<div class='{[this.getClass(values)]}'>\",\"{[this.getImageURL(values)]}\",\"{[this.getString(values)]}\",\"</div>\"].join(\"\"),{getClass:function(a){return\"badge-list-item-title small-list\"},getImageURL:function(a){var b=\"badge_image_small\",c=\"\";b+=(a.active===true?\" active\":\"\");c=\"<img class='\"+b+\"' src='\";if(_.isEmpty(a.imageUlr)){c+=HH.default_badge32}else{c+=a.imageUrl}c+=\"' width='32' height='32'>\";return c},getString:function(a){var b=\"\",c=\"badge-list-text\";if(a.title){c+=(a.active===true?\" active\":\"\");b=\"<div class='\"+c+\"'>\"+a.title+\"</div>\";b+=\"</div>\"}return b}})}});Ext.define(\"Ext.slider.Slider\",{extend:\"Ext.Container\",xtype:\"slider\",requires:[\"Ext.slider.Thumb\",\"Ext.fx.easing.EaseOut\"],config:{baseCls:\"x-slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},value:0,minValue:0,maxValue:100,increment:1,allowThumbsOverlapping:false,animation:true},elementWidth:0,offsetValueRatio:0,activeThumb:null,constructor:function(a){a=a||{};if(a.hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a])},initialize:function(){var a=this.element;this.callParent();a.on({scope:this,tap:\"onTap\"});this.on({scope:this,delegate:\"> thumb\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});this.on({painted:\"refresh\",resize:\"refresh\"})},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumbs:function(){return this.innerItems},getThumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},refreshElementWidth:function(){this.elementWidth=this.element.dom.offsetWidth;var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}},refresh:function(){this.refreshElementWidth();this.refreshValue()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,g,f){var c=this.getThumb(d),b=this.getValue(),e=this.offsetValueRatio,a=c.getDraggable();a.setOffset(g*e,null,f);b[d]=g},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue;this.fireEvent(\"dragend\",this,a,this.getValue(),f);if(b!==d){this.fireEvent(\"change\",this,a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()){return}var k=Ext.get(j.target);if(!k||k.hasCls(\"x-thumb\")){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){Ext.Logger.warn(\"Invalid values of '\"+Ext.encode(d)+\"', values at smaller indexes must be smaller than or equal to values at greater indexes\");a=c}b.push(a);c=a}return b},updateValue:function(e,b){var a=this.getThumbs(),d=e.length,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset(e[c]*this.offsetValueRatio)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=e%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a)},getValues:function(){return this.getValue()},applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c){this.callParent(arguments);var a=this.getItems().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c)}}},function(){Ext.deprecateProperty(this,\"animationDuration\",null,\"Ext.slider.Slider.animationDuration has been removed\")});Ext.define(\"Ext.field.Slider\",{extend:\"Ext.field.Field\",xtype:\"sliderfield\",requires:[\"Ext.slider.Slider\"],alternateClassName:\"Ext.form.Slider\",config:{cls:Ext.baseCSSPrefix+\"slider-field\",tabIndex:-1},proxyConfig:{value:0,minValue:0,maxValue:100,increment:1},constructor:function(a){a=a||{};if(a.hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a])},initialize:function(){this.callParent();this.getComponent().on({scope:this,change:\"onSliderChange\",dragstart:\"onSliderDragStart\",drag:\"onSliderDrag\",dragend:\"onSliderDragEnd\"})},applyComponent:function(a){return Ext.factory(a,Ext.slider.Slider)},onSliderChange:function(){this.fireEvent.apply(this,[].concat(\"change\",this,Array.prototype.slice.call(arguments)))},onSliderDragStart:function(){this.fireEvent.apply(this,[].concat(\"dragstart\",this,Array.prototype.slice.call(arguments)))},onSliderDrag:function(){this.fireEvent.apply(this,[].concat(\"drag\",this,Array.prototype.slice.call(arguments)))},onSliderDragEnd:function(){this.fireEvent.apply(this,[].concat(\"dragend\",this,Array.prototype.slice.call(arguments)))},setValues:function(a){this.setValue(a)},getValues:function(){return this.getValue()},reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(a)},doSetDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)}});Ext.define(\"Ext.slider.Toggle\",{extend:\"Ext.slider.Slider\",config:{baseCls:\"x-toggle\",minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},initialize:function(){this.callParent();this.on({change:\"onChange\"})},applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},updateMaxValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},setValue:function(b,a){this.callParent(arguments);this.onChange(this,this.getThumbs()[0],b,a)},onChange:function(d,a,f,c){var g=f>0,b=d.getMaxValueCls(),e=d.getMinValueCls();this.element.addCls(g?b:e);this.element.removeCls(g?e:b)},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onTap:function(){if(this.isDisabled()){return}var b=this.getValue(),c=(b==1)?0:1,a=this.getThumb(0);this.setIndexValue(0,c,this.getAnimation());this.refreshThumbConstraints(a);this.fireEvent(\"change\",this,a,c,b)}});Ext.define(\"Ext.field.Toggle\",{extend:\"Ext.field.Slider\",xtype:\"togglefield\",alternateClassName:\"Ext.form.Toggle\",requires:[\"Ext.slider.Toggle\"],config:{cls:\"x-toggle-field\"},proxyConfig:{minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},applyComponent:function(a){return Ext.factory(a,Ext.slider.Toggle)},setValue:function(a){if(a===true){a=1}this.getComponent().setValue(a);return this},getValue:function(){return(this.getComponent().getValue()==1)?1:0},toggle:function(){this.getComponent().toggle();return this}});Ext.define(\"B2B.view.Component_IOSToggle\",{extend:\"Ext.field.Toggle\",xtype:\"iostogglefield\",config:{cls:\"ios5_toggle\"}});Ext.define(\"Ext.data.writer.Json\",{extend:\"Ext.data.writer.Writer\",alternateClassName:\"Ext.data.JsonWriter\",alias:\"writer.json\",config:{rootProperty:undefined,encode:false,allowSingle:true,encodeRequest:false},applyRootProperty:function(a){if(!a&&(this.getEncode()||this.getEncodeRequest())){a=\"data\"}return a},writeRecords:function(d,e){var a=this.getRootProperty(),f=d.getParams(),b=this.getAllowSingle(),c;if(this.getAllowSingle()&&e&&e.length==1){e=e[0]}if(this.getEncodeRequest()){c=d.getJsonData()||{};if(e&&(e.length||(b&&Ext.isObject(e)))){c[a]=e}d.setJsonData(Ext.apply(c,f||{}));d.setParams(null);d.setMethod(\"POST\");return d}if(!e||!(e.length||(b&&Ext.isObject(e)))){return d}if(this.getEncode()){if(a){f[a]=Ext.encode(e)}else{Ext.Logger.error(\"Must specify a root when using encode\")}}else{c=d.getJsonData()||{};if(a){c[a]=e}else{c=e}d.setJsonData(c)}return d}},function(){this.override({constructor:function(a){a=a||{};if(a.root){Ext.Logger.deprecate(\"root has been deprecated as a configuration on Writer. Please use rootProperty instead.\");a.rootProperty=a.root;delete a.root}this.callOverridden([a])}})});Ext.define(\"Ext.data.reader.Reader\",{requires:[\"Ext.data.ResultSet\"],alternateClassName:[\"Ext.data.Reader\",\"Ext.data.DataReader\"],mixins:[\"Ext.mixin.Observable\"],isReader:true,config:{idProperty:undefined,clientIdProperty:\"clientId\",totalProperty:\"total\",successProperty:\"success\",messageProperty:null,rootProperty:\"\",implicitIncludes:true,model:undefined},constructor:function(a){this.initConfig(a)},fieldCount:0,applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}return a},applyIdProperty:function(a){if(!a&&this.getModel()){a=this.getModel().getIdProperty()}return a},updateModel:function(a){if(a){if(!this.getIdProperty()){this.setIdProperty(a.getIdProperty())}this.buildExtractors()}},createAccessor:Ext.emptyFn,createFieldAccessExpression:function(){return\"undefined\"},buildExtractors:function(){if(!this.getModel()){return}var b=this,c=b.getTotalProperty(),a=b.getSuccessProperty(),d=b.getMessageProperty();if(c){b.getTotal=b.createAccessor(c)}if(a){b.getSuccess=b.createAccessor(a)}if(d){b.getMessage=b.createAccessor(d)}b.extractRecordData=b.buildRecordDataExtractor()},buildRecordDataExtractor:function(){var k=this,e=k.getModel(),g=e.getFields(),j=g.length,a=[],h=k.getModel().getClientIdProperty(),f=\"__field\",b=[\"var me = this,\\n\",\"    fields = me.getModel().getFields(),\\n\",\"    idProperty = me.getIdProperty(),\\n\",'    idPropertyIsFn = (typeof idProperty == \"function\"),',\"    value,\\n\",\"    internalId\"],d,l,c,m;g=g.items;for(d=0;d<j;d++){l=g[d];m=l.getName();if(m===e.getIdProperty()){a[d]=\"idField\"}else{a[d]=f+d}b.push(\",\\n    \",a[d],' = fields.get(\"',l.getName(),'\")')}b.push(\";\\n\\n    return function(source) {\\n        var dest = {};\\n\");b.push(\"        if (idPropertyIsFn) {\\n\");b.push(\"            idField.setMapping(idProperty);\\n\");b.push(\"        }\\n\");for(d=0;d<j;d++){l=g[d];c=a[d];m=l.getName();if(m===e.getIdProperty()&&l.getMapping()===null&&e.getIdProperty()!==this.getIdProperty()){l.setMapping(this.getIdProperty())}b.push(\"        try {\\n\");b.push(\"            value = \",k.createFieldAccessExpression(l,c,\"source\"),\";\\n\");b.push(\"            if (value !== undefined) {\\n\");b.push('                dest[\"'+l.getName()+'\"] = value;\\n');b.push(\"            }\\n\");b.push(\"        } catch(e){}\\n\")}if(h){b.push(\"        internalId = \"+k.createFieldAccessExpression(Ext.create(\"Ext.data.Field\",{name:h}),null,\"source\")+\";\\n\");b.push(\"        if (internalId !== undefined) {\\n\");b.push('            dest[\"_clientId\"] = internalId;\\n        }\\n')}b.push(\"        return dest;\\n\");b.push(\"    };\");return Ext.functionFactory(b.join(\"\")).call(k)},getFields:function(){return this.getModel().getFields().items},getData:function(a){return a},getResponseData:function(a){return a},getRoot:function(a){return a},read:function(c){var g=c,h=this.getModel(),e,b,d,f,a;if(c){g=this.getResponseData(c)}if(g){e=this.readRecords(g);b=e.getRecords();for(d=0,f=b.length;d<f;d++){a=b[d];b[d]=new h(a.data,a.id,a.node)}return e}else{return this.nullResultSet}},process:function(a){var b=a;if(a){b=this.getResponseData(a)}if(b){return this.readRecords(b)}else{return this.nullResultSet}},readRecords:function(c){var d=this;d.rawData=c;c=d.getData(c);if(c.metaData){d.onMetaChange(c.metaData)}if(!d.getModel()){Ext.Logger.warn(\"In order to read record data, a Reader needs to have a Model defined on it.\")}var f=Ext.isArray(c)?c:d.getRoot(c),h=true,b=0,e,g,a,i;if(d.getTotalProperty()){g=parseInt(d.getTotal(c),10);if(!isNaN(g)){e=g}}if(d.getSuccessProperty()){g=d.getSuccess(c);if(g===false||g===\"false\"){h=false}}if(d.getMessageProperty()){i=d.getMessage(c)}if(f){a=d.extractData(f);b=a.length}else{b=0;a=[]}return new Ext.data.ResultSet({total:e,count:b,records:a,success:h,message:i})},extractData:function(l){var j=this,e=[],c=l.length,h=j.getModel(),m=h.getIdProperty(),k=h.getFields(),d,g,f,b,a;if(k.isDirty){j.buildExtractors(true);delete k.isDirty}if(!l.length&&Ext.isObject(l)){l=[l];c=1}for(g=0;g<c;g++){a=null;b=null;d=l[g];if(d.isModel){f=d.data}else{f=j.extractRecordData(d)}if(f._clientId!==undefined){a=f._clientId;delete f._clientId}if(f[m]!==undefined){b=f[m]}if(j.getImplicitIncludes()){j.readAssociated(f,d)}e.push({clientId:a,id:b,data:f,node:d})}return e},readAssociated:function(h,g){var e=this.getModel().associations.items,d=0,f=e.length,a,c,b;for(;d<f;d++){a=e[d];b=a.getAssociationKey();c=this.getAssociatedDataRoot(g,b);if(c){h[b]=c}}},getAssociatedDataRoot:function(b,a){return b[a]},onMetaChange:function(f){var a=f.fields,e=this,d,c,b;e.metaData=f;if(f.rootProperty!==undefined){e.setRootProperty(f.rootProperty)}else{if(f.root!==undefined){e.setRootProperty(f.root)}}if(f.idProperty!==undefined){e.setIdProperty(f.idProperty)}if(f.totalProperty!==undefined){e.setTotalProperty(f.totalProperty)}if(f.successProperty!==undefined){e.setSuccessProperty(f.successProperty)}if(f.messageProperty!==undefined){e.setMessageProperty(f.messageProperty)}if(a){if(e.getModel()){e.getModel().setFields(a);e.buildExtractors()}else{b=e.getIdProperty();c={fields:a};if(b){c.idProperty=b}d=Ext.define(\"Ext.data.reader.MetaModel\"+Ext.id(),{extend:\"Ext.data.Model\",config:c});e.setModel(d)}}else{e.buildExtractors()}},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Reader prototype. Please put it inside the config object.\")}}g.config=d}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:false})});this.override({constructor:function(a){a=a||{};if(a.root){Ext.Logger.deprecate(\"root has been deprecated as a configuration on Reader. Please use rootProperty instead.\");a.rootProperty=a.root;delete a.root}this.callOverridden([a])}})});Ext.define(\"Ext.data.reader.Json\",{extend:\"Ext.data.reader.Reader\",alternateClassName:\"Ext.data.JsonReader\",alias:\"reader.json\",config:{record:null,useSimpleAccessors:false},objectRe:/[\\[\\.]/,getResponseData:function(a){var d=a;if(a&&a.responseText){d=a.responseText}if(typeof d!==\"string\"){return d}var c;try{c=Ext.decode(d)}catch(b){this.fireEvent(\"exception\",this,a,\"Unable to parse the JSON returned by the server: \"+b.toString());Ext.Logger.warn(\"Unable to parse the JSON returned by the server: \"+b.toString())}if(!c){this.fireEvent(\"exception\",this,a,\"JSON object not found\");Ext.Logger.error(\"JSON object not found\")}return c},buildExtractors:function(){var b=this,a=b.getRootProperty();b.callParent(arguments);if(a){b.rootAccessor=b.createAccessor(a)}else{delete b.rootAccessor}},getRoot:function(b){var a=this.getModel().getFields();if(a.isDirty){this.buildExtractors(true);delete a.isDirty}if(this.rootAccessor){return this.rootAccessor.call(this,b)}else{return b}},extractData:function(a){var e=this.getRecord(),d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][e]}}else{d=a}return this.callParent([d])},createAccessor:function(){var a=/[\\[\\.]/;return function(c){if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}if(this.getUseSimpleAccessors()!==true){var b=String(c).search(a);if(b>=0){return Ext.functionFactory(\"obj\",\"var value; try {value = obj\"+(b>0?\".\":\"\")+c+\"} catch(e) {}; return value;\")}}return function(d){return d[c]}}}(),createFieldAccessExpression:function(g,b,c){var f=this,h=f.objectRe,e=(g.getMapping()!==null),a=e?g.getMapping():g.getName(),i,d;if(typeof a===\"function\"){i=b+\".getMapping()(\"+c+\", this)\"}else{if(f.getUseSimpleAccessors()===true||((d=String(a).search(h))<0)){if(!e||isNaN(a)){a='\"'+a+'\"'}i=c+\"[\"+a+\"]\"}else{i=c+(d>0?\".\":\"\")+a}}return i}});Ext.define(\"Ext.data.proxy.Proxy\",{extend:\"Ext.Evented\",alias:\"proxy.proxy\",alternateClassName:[\"Ext.data.DataProxy\",\"Ext.data.Proxy\"],requires:[\"Ext.data.reader.Json\",\"Ext.data.writer.Json\",\"Ext.data.Batch\",\"Ext.data.Operation\"],config:{batchOrder:\"create,update,destroy\",batchActions:true,model:null,reader:{type:\"json\"},writer:{type:\"json\"}},isProxy:true,applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}return a},updateModel:function(b){if(b){var a=this.getReader();if(a&&!a.getModel()){a.setModel(b)}}},applyReader:function(b,a){return Ext.factory(b,Ext.data.Reader,a,\"reader\")},updateReader:function(a){if(a){var b=this.getModel();if(!b){b=a.getModel();if(b){this.setModel(b)}}else{a.setModel(b)}if(a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}}},onMetaChange:function(b){var a=this.getReader().getModel();if(!this.getModel()&&a){this.setModel(a)}this.fireEvent(\"metachange\",this,b)},applyWriter:function(b,a){return Ext.factory(b,Ext.data.Writer,a,\"writer\")},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())},batch:function(e,f){var g=this,d=g.getBatchActions(),c=this.getModel(),b,a;if(e.operations===undefined){e={operations:e,batch:{listeners:f}};Ext.Logger.deprecate(\"Passes old-style signature to Proxy.batch (operations, listeners). Please convert to single options argument syntax.\")}if(e.batch){if(e.batch.isBatch){e.batch.setProxy(g)}else{e.batch.proxy=g}}else{e.batch={proxy:g,listeners:e.listeners||{}}}if(!b){b=new Ext.data.Batch(e.batch)}b.on(\"complete\",Ext.bind(g.onBatchComplete,g,[e],0));Ext.each(g.getBatchOrder().split(\",\"),function(h){a=e.operations[h];if(a){if(d){b.add(new Ext.data.Operation({action:h,records:a,model:c}))}else{Ext.each(a,function(i){b.add(new Ext.data.Operation({action:h,records:[i],model:c}))})}}},g);b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else{if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},onClassExtended:function(b,f){var d=this.prototype,a=d.config,c=f.config||{},e;for(e in a){if(e!=\"control\"&&e in f){c[e]=f[e];delete f[e];Ext.Logger.warn(e+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}f.config=c}},function(){});Ext.define(\"Ext.data.proxy.Server\",{extend:\"Ext.data.proxy.Proxy\",alias:\"proxy.server\",alternateClassName:\"Ext.data.ServerProxy\",requires:[\"Ext.data.Request\"],config:{url:null,pageParam:\"page\",startParam:\"start\",limitParam:\"limit\",groupParam:\"group\",sortParam:\"sort\",filterParam:\"filter\",directionParam:\"dir\",enablePagingParams:true,simpleSortMode:false,noCache:true,cacheString:\"_dc\",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},constructor:function(a){a=a||{};if(a.nocache!==undefined){a.noCache=a.nocache;Ext.Logger.warn(\"nocache configuration on Ext.data.proxy.Server has been deprecated. Please use noCache.\")}this.callParent([a])},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var c=this,d=Ext.applyIf(a.getParams()||{},c.getExtraParams()||{}),b;d=Ext.applyIf(d,c.getParams(a));b=Ext.create(\"Ext.data.Request\",{params:d,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:c});b.setUrl(c.buildUrl(b));a.setRequest(b);return b},processResponse:function(k,b,d,c,j,l){var h=this,a=b.getAction(),f,i;if(k===true){f=h.getReader();try{i=f.process(c)}catch(g){b.setException(g.message);h.fireEvent(\"exception\",this,c,b);return}if(!b.getModel()){b.setModel(this.getModel())}if(b.process(a,i,d,c)===false){this.fireEvent(\"exception\",this,c,b)}}else{h.setException(b,c);h.fireEvent(\"exception\",this,c,b)}if(typeof j==\"function\"){j.call(l||h,b)}h.afterRequest(d,k)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(d){var b=[],c=d.length,a=0;for(;a<c;a++){b[a]={property:d[a].getProperty(),direction:d[a].getDirection()}}return this.applyEncoding(b)},encodeFilters:function(d){var b=[],c=d.length,a=0;for(;a<c;a++){b[a]={property:d[a].getProperty(),value:d[a].getValue()}}return this.applyEncoding(b)},getParams:function(i){var n=this,h={},a=i.getGrouper(),m=i.getSorters(),f=i.getFilters(),l=i.getPage(),d=i.getStart(),g=i.getLimit(),o=n.getSimpleSortMode(),q=n.getPageParam(),k=n.getStartParam(),p=n.getLimitParam(),j=n.getGroupParam(),e=n.getSortParam(),c=n.getFilterParam(),b=n.getDirectionParam();if(n.getEnablePagingParams()){if(q&&l!==null){h[q]=l}if(k&&d!==null){h[k]=d}if(p&&g!==null){h[p]=g}}if(j&&a){h[j]=n.encodeSorters([a])}if(e&&m&&m.length>0){if(o){h[e]=m[0].getProperty();h[b]=m[0].getDirection()}else{h[e]=n.encodeSorters(m)}}if(c&&f&&f.length>0){h[c]=n.encodeFilters(f)}return h},buildUrl:function(c){var b=this,a=b.getUrl(c);if(!a){Ext.Logger.error(\"You are using a ServerProxy but have not supplied it with a url.\")}if(b.getNoCache()){a=Ext.urlAppend(a,Ext.String.format(\"{0}={1}\",b.getCacheString(),Ext.Date.now()))}return a},getUrl:function(a){return a?a.getUrl()||this.getApi()[a.getAction()]||this._url:this._url},doRequest:function(a,c,b){Ext.Logger.error(\"The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details\")},afterRequest:Ext.emptyFn});Ext.define(\"Ext.data.proxy.JsonP\",{extend:\"Ext.data.proxy.Server\",alternateClassName:\"Ext.data.ScriptTagProxy\",alias:[\"proxy.jsonp\",\"proxy.scripttag\"],requires:[\"Ext.data.JsonP\"],config:{defaultWriterType:\"base\",callbackKey:\"callback\",recordParam:\"records\",autoAppendParams:true},doRequest:function(a,g,b){var e=a.getAction();if(e!==\"read\"){Ext.Logger.error(\"JsonP proxies can only be used to read data.\")}var d=this,c=d.buildRequest(a),f=c.getParams();c.setConfig({callbackKey:d.getCallbackKey(),timeout:d.getTimeout(),scope:d,callback:d.createRequestCallback(c,a,g,b)});if(d.getAutoAppendParams()){c.setParams({})}c.setJsonP(Ext.data.JsonP.request(c.getCurrentConfig()));c.setParams(f);a.setStarted();d.lastRequest=c;return c},createRequestCallback:function(d,a,e,b){var c=this;return function(h,f,g){delete c.lastRequest;c.processResponse(h,a,d,f,e,b)}},setException:function(b,a){b.setException(b.getRequest().getJsonP().errorType)},buildUrl:function(f){var h=this,a=h.callParent(arguments),e=Ext.apply({},f.getParams()),c=e.filters,d,b,g,j;delete e.filters;if(h.getAutoAppendParams()){a=Ext.urlAppend(a,Ext.Object.toQueryString(e))}if(c&&c.length){for(g=0;g<c.length;g++){b=c[g];j=b.getValue();if(j){a=Ext.urlAppend(a,b.getProperty()+\"=\"+j)}}}return a},destroy:function(){this.abort();this.callParent(arguments)},abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.getJsonP())}}});Ext.define(\"Ext.data.proxy.Ajax\",{extend:\"Ext.data.proxy.Server\",requires:[\"Ext.util.MixedCollection\",\"Ext.Ajax\"],alias:\"proxy.ajax\",alternateClassName:[\"Ext.data.HttpProxy\",\"Ext.data.AjaxProxy\"],config:{actionMethods:{create:\"POST\",read:\"GET\",update:\"POST\",destroy:\"POST\"},headers:{},withCredentials:false},doRequest:function(a,e,b){var d=this.getWriter(),c=this.buildRequest(a);c.setConfig({headers:this.getHeaders(),timeout:this.getTimeout(),method:this.getMethod(c),callback:this.createRequestCallback(c,a,e,b),scope:this});if(a.getWithCredentials()||this.getWithCredentials()){c.setWithCredentials(true)}c=d.write(c);Ext.Ajax.request(c.getCurrentConfig());return c},getMethod:function(a){return this.getActionMethods()[a.getAction()]},createRequestCallback:function(d,a,e,b){var c=this;return function(g,h,f){c.processResponse(h,a,d,f,e,b)}}});Ext.define(\"Ext.data.Model\",{alternateClassName:\"Ext.data.Record\",mixins:{observable:\"Ext.mixin.Observable\"},isModel:true,requires:[\"Ext.util.Collection\",\"Ext.data.Field\",\"Ext.data.identifier.Simple\",\"Ext.data.ModelManager\",\"Ext.data.proxy.Ajax\",\"Ext.data.association.HasMany\",\"Ext.data.association.BelongsTo\",\"Ext.data.association.HasOne\",\"Ext.data.Errors\"],config:{idProperty:\"id\",data:null,fields:undefined,validations:null,associations:null,hasMany:null,hasOne:null,belongsTo:null,proxy:null,identifier:{type:\"simple\"},clientIdProperty:\"clientId\",isErased:false},staticConfigs:[\"idProperty\",\"fields\",\"validations\",\"associations\",\"hasMany\",\"hasOne\",\"belongsTo\",\"clientIdProperty\",\"identifier\",\"proxy\"],statics:{EDIT:\"edit\",REJECT:\"reject\",COMMIT:\"commit\",cache:{},generateProxyMethod:function(a){return function(){var b=this.prototype;return b[a].apply(b,arguments)}},generateCacheId:function(b,c){var a;if(b&&b.isModel){a=b.modelName;if(c===undefined){c=b.getId()}}else{a=b}return a.replace(/\\./g,\"-\").toLowerCase()+\"-\"+c}},inheritableStatics:{load:function(a,b,h){var f=this.getProxy(),i=this.getIdProperty(),e=null,d={},g,c;h=h||(b&&b.scope)||this;if(Ext.isFunction(b)){b={callback:b,scope:h}}d[i]=a;b=Ext.apply({},b);b=Ext.applyIf(b,{action:\"read\",params:d,model:this});c=Ext.create(\"Ext.data.Operation\",b);if(!f){Ext.Logger.error(\"You are trying to load a model that doesn't have a Proxy specified\")}g=function(j){if(j.wasSuccessful()){e=j.getRecords()[0];Ext.callback(b.success,h,[e,j])}else{Ext.callback(b.failure,h,[e,j])}Ext.callback(b.callback,h,[e,j])};f.read(c,g,this)}},editing:false,dirty:false,phantom:false,constructor:function(e,g,b,f){var d=this,c=null,a=this.getIdProperty();d.modified={};d.raw=b||e||{};d.stores=[];e=e||f||{};if(g||g===0){e[a]=d.internalId=g}g=e[a];if(g||g===0){c=Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,g)];if(c){return c.mergeData(f||e||{})}}if(f){d.setConvertedData(e)}else{d.setData(e)}g=d.data[a];if(!g&&g!==0){d.data[a]=d.internalId=d.id=d.getIdentifier().generate(d);d.phantom=true;if(this.associations.length){this.handleInlineAssociationData(e)}}else{d.id=d.getIdentifier().generate(d)}Ext.data.Model.cache[Ext.data.Model.generateCacheId(d)]=d;if(this.init&&typeof this.init==\"function\"){this.init()}},mergeData:function(a){var g=this,d=g.getFields().items,e=d.length,b=g.data,c,h,k,j,f;for(c=0;c<e;c++){h=d[c];k=h.getName();f=h.getConvert();j=a[k];if(j!==undefined&&!g.isModified(k)){if(f){j=f.call(h,j,g)}b[k]=j}}return this},setData:function(a){var g=this.fields.items,h=g.length,f=Ext.isArray(a),d=this._data=this.data={},e,k,b,l,j,c;if(!a){return this}for(e=0;e<h;e++){k=g[e];b=k.getName();j=k.getConvert();if(f){l=a[e]}else{l=a[b];if(typeof l==\"undefined\"){l=k.getDefaultValue()}}if(j){l=j.call(k,l,this)}d[b]=l}c=this.getId();if(this.associations.length&&(c||c===0)){this.handleInlineAssociationData(a)}return this},handleInlineAssociationData:function(e){var d=this.associations.items,h=d.length,f,c,b,g,j,a;for(f=0;f<h;f++){c=d[f];a=c.getAssociationKey();b=e[a];if(b){g=c.getReader();if(!g){j=c.getAssociatedModel().getProxy();if(j){g=j.getReader()}else{g=new Ext.data.JsonReader({model:c.getAssociatedModel()})}}c.read(this,g,b)}}},setId:function(b){var a=this.getId();this.set(this.getIdProperty(),b);this.internalId=b;delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,a)];Ext.data.Model.cache[Ext.data.Model.generateCacheId(this)]=this},getId:function(){return this.get(this.getIdProperty())},setConvertedData:function(a){this._data=this.data=a;return this},get:function(a){return this.data[a]},set:function(p,l){var j=this,b=j.fields.map,o=j.modified,a=!j.editing,c=j.associations.items,f=0,d=[],k,n,e,m,g,h;if(arguments.length==1){for(n in p){if(p.hasOwnProperty(n)){k=b[n];if(k&&k.hasCustomConvert()){d.push(n);continue}if(!f&&a){j.beginEdit()}++f;j.set(n,p[n])}}g=d.length;if(g){if(!f&&a){j.beginEdit()}f+=g;for(e=0;e<g;e++){k=d[e];j.set(k,p[k])}}if(a&&f){j.endEdit(false,d)}}else{k=b[p];h=k&&k.getConvert();if(h){l=h.call(k,l,j)}m=j.data[p];j.data[p]=l;if(k&&!j.isEqual(m,l)){if(o.hasOwnProperty(p)){if(j.isEqual(o[p],l)){delete o[p];j.dirty=false;for(n in o){if(o.hasOwnProperty(n)){j.dirty=true;break}}}}else{j.dirty=true;o[p]=m}}if(a){j.afterEdit([p],o)}}},isEqual:function(d,c){if(Ext.isDate(d)&&Ext.isDate(c)){return d.getTime()===c.getTime()}return d===c},beginEdit:function(){var a=this;if(!a.editing){a.editing=true;a.dirtySave=a.dirty;a.dataSave=Ext.apply({},a.data);a.modifiedSave=Ext.apply({},a.modified)}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a.data=a.dataSave;a.dirty=a.dirtySave;delete a.modifiedSave;delete a.dataSave;delete a.dirtySave}},endEdit:function(a,c){var b=this;if(b.editing){b.editing=false;if(a!==true&&(b.changedWhileEditing())){b.afterEdit(c||Ext.Object.getKeys(this.modified),this.modified)}delete b.modifiedSave;delete b.dataSave;delete b.dirtySave}},changedWhileEditing:function(){var c=this,b=c.dataSave,d=c.data,a;for(a in d){if(d.hasOwnProperty(a)){if(!c.isEqual(d[a],b[a])){return true}}}return false},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this.get(c)}}return b},isModified:function(a){return this.modified.hasOwnProperty(a)},save:function(b,d){var e=this,f=e.phantom?\"create\":\"update\",c=e.getProxy(),a,g;if(!c){Ext.Logger.error(\"You are trying to save a model instance that doesn't have a Proxy specified\")}b=b||{};d=d||e;if(Ext.isFunction(b)){b={callback:b,scope:d}}Ext.applyIf(b,{records:[e],action:f,model:e.self});a=Ext.create(\"Ext.data.Operation\",b);g=function(h){if(h.wasSuccessful()){Ext.callback(b.success,d,[e,h])}else{Ext.callback(b.failure,d,[e,h])}Ext.callback(b.callback,d,[e,h])};c[f](a,g,e);return e},erase:function(b,d){var e=this,c=this.getProxy(),a,f;if(!c){Ext.Logger.error(\"You are trying to erase a model instance that doesn't have a Proxy specified\")}b=b||{};d=d||e;if(Ext.isFunction(b)){b={callback:b,scope:d}}Ext.applyIf(b,{records:[e],action:\"destroy\",model:this.self});a=Ext.create(\"Ext.data.Operation\",b);f=function(g){if(g.wasSuccessful()){Ext.callback(b.success,d,[e,g])}else{Ext.callback(b.failure,d,[e,g])}Ext.callback(b.callback,d,[e,g])};c.destroy(a,f,e);return e},reject:function(a){var c=this,b=c.modified,d;for(d in b){if(b.hasOwnProperty(d)){if(typeof b[d]!=\"function\"){c.data[d]=b[d]}}}c.dirty=false;c.editing=false;c.modified={};if(a!==true){c.afterReject()}},commit:function(a){var c=this,b=this.modified;c.phantom=c.dirty=c.editing=false;c.modified={};if(a!==true){c.afterCommit(b)}},afterEdit:function(b,a){this.notifyStores(\"afterEdit\",b,a)},afterReject:function(){this.notifyStores(\"afterReject\")},afterCommit:function(a){this.notifyStores(\"afterCommit\",Ext.Object.getKeys(a||{}),a)},notifyStores:function(e){var c=Ext.Array.clone(arguments),a=this.stores,f=a.length,d,b;c[0]=this;for(d=0;d<f;++d){b=a[d];if(b!==undefined&&typeof b[e]==\"function\"){b[e].apply(b,c)}}},copy:function(c){var d=this,b=d.getIdProperty(),a=Ext.apply({},d.raw),e=Ext.apply({},d.data);delete a[b];delete e[b];return new d.self(null,c,a,e)},getData:function(a){var b=this.data;if(a===true){Ext.apply(b,this.getAssociatedData())}return b},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(o,a,n){var h=o.associations.items,l=h.length,e={},f,s,g,q,r,d,c,m,k,p,b;for(m=0;m<l;m++){d=h[m];s=d.getName();p=d.getType();b=true;if(n){b=p==n}if(b&&p.toLowerCase()==\"hasmany\"){f=o[d.getStoreName()];e[s]=[];if(f&&f.getCount()>0){g=f.data.items;r=g.length;for(k=0;k<r;k++){q=g[k];c=q.id;if(Ext.Array.indexOf(a,c)==-1){a.push(c);e[s][k]=q.getData();Ext.apply(e[s][k],this.prepareAssociatedData(q,a,n))}}}}else{if(b&&(p.toLowerCase()==\"belongsto\"||p.toLowerCase()==\"hasone\")){q=o[d.getInstanceName()];if(q!==undefined){c=q.id;if(Ext.Array.indexOf(a,c)===-1){a.push(c);e[s]=q.getData();Ext.apply(e[s],this.prepareAssociatedData(q,a,n))}}}}}return e},join:function(a){Ext.Array.include(this.stores,a)},unjoin:function(a){Ext.Array.remove(this.stores,a)},setDirty:function(){var b=this,a;b.dirty=true;b.fields.each(function(c){if(c.getPersist()){a=c.getName();b.modified[a]=b.get(a)}})},validate:function(){var j=Ext.create(\"Ext.data.Errors\"),c=this.getValidations().items,e=Ext.data.Validations,b,d,h,a,g,f;if(c){b=c.length;for(f=0;f<b;f++){d=c[f];h=d.field||d.name;g=d.type;a=e[g](d,this.get(h));if(!a){j.add(Ext.create(\"Ext.data.Error\",{field:h,message:d.message||e.getMessage(g)}))}}}return j},isValid:function(){return this.validate().isValid()},toUrl:function(){var b=this.$className.split(\".\"),a=b[b.length-1].toLowerCase();return a+\"/\"+this.getId()},destroy:function(){var a=this;a.notifyStores(\"afterErase\",a);delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(a)];a.raw=a.stores=a.modified=null;a.callParent(arguments)},markDirty:function(){if(Ext.isDefined(Ext.Logger)){Ext.Logger.deprecate(\"Ext.data.Model: markDirty has been deprecated. Use setDirty instead.\")}return this.setDirty.apply(this,arguments)},applyProxy:function(b,a){return Ext.factory(b,Ext.data.Proxy,a,\"proxy\")},updateProxy:function(a){if(a){a.setModel(this.self)}},applyAssociations:function(a){if(a){this.addAssociations(a,\"hasMany\")}},applyBelongsTo:function(a){if(a){this.addAssociations(a,\"belongsTo\")}},applyHasMany:function(a){if(a){this.addAssociations(a,\"hasMany\")}},applyHasOne:function(a){if(a){this.addAssociations(a,\"hasOne\")}},addAssociations:function(e,h){var f,d,b,c=this.self.modelName,g=this.self.associations,a;e=Ext.Array.from(e);for(d=0,f=e.length;d<f;d++){b=e[d];if(!Ext.isObject(b)){b={model:b}}Ext.applyIf(b,{type:h,ownerModel:c,associatedModel:b.model});delete b.model;a=Ext.Function.bind(function(i){g.add(Ext.data.association.Association.create(this))},b);Ext.ClassManager.onCreated(a,this,(typeof b.associatedModel===\"string\")?b.associatedModel:Ext.getClassName(b.associatedModel))}},applyValidations:function(a){if(a){if(!Ext.isArray(a)){a=[a]}this.addValidations(a)}},addValidations:function(a){this.self.validations.addAll(a)},applyFields:function(a){var b=this.superclass.fields;if(b){a=b.items.concat(a||[])}return a||[]},updateFields:function(c){var d=c.length,e=this,h=e.self.prototype,j=this.getIdProperty(),a,f,g,b;f=e._fields=e.fields=new Ext.util.Collection(h.getFieldName);for(b=0;b<d;b++){g=c[b];if(!g.isField){g=new Ext.data.Field(c[b])}f.add(g)}a=f.get(j);if(!a){f.add(new Ext.data.Field(j))}else{a.setType(\"auto\")}f.addSorter(h.sortConvertFields)},applyIdentifier:function(a){if(typeof a===\"string\"){a={type:a}}return Ext.factory(a,Ext.data.identifier.Simple,this.getIdentifier(),\"data.identifier\")},getFieldName:function(a){return a.getName()},sortConvertFields:function(a,d){var c=a.hasCustomConvert(),b=d.hasCustomConvert();if(c&&!b){return 1}if(!c&&b){return -1}return 0},onClassExtended:function(k,d,j){var f=j.onBeforeCreated,b=this,h=b.prototype,e=Ext.Class.configNameCache,g=h.staticConfigs.concat(d.staticConfigs||[]),c=h.config,a=d.config||{},i;if(d.idgen||a.idgen){a.identifier=d.idgen||a.idgen;Ext.Logger.deprecate('idgen is deprecated as a property. Please put it inside the config object under the new \"identifier\" configuration')}for(i in c){if(i in d){a[i]=d[i];delete d[i];Ext.Logger.deprecate(i+\" is deprecated as a property directly on the Model prototype. Please put it inside the config object.\")}}d.config=a;j.onBeforeCreated=function(A,t){var v=[],x=A.prototype,w={},m=x.config,n=g.length,q=[\"set\",\"get\"],s=q.length,o=m.associations||[],l=Ext.getClassName(A),z,y,r,p,u;for(r=0;r<n;r++){z=g[r];for(p=0;p<s;p++){y=e[z][q[p]];if(y in x){w[y]=b.generateProxyMethod(y)}}}A.addStatics(w);A.modelName=l;x.modelName=l;if(m.belongsTo){v.push(\"association.belongsto\")}if(m.hasMany){v.push(\"association.hasmany\")}if(m.hasOne){v.push(\"association.hasone\")}for(r=0,u=o.length;r<u;++r){v.push(\"association.\"+o[r].type.toLowerCase())}if(m.proxy){if(typeof m.proxy===\"string\"){v.push(\"proxy.\"+m.proxy)}else{if(typeof m.proxy.type===\"string\"){v.push(\"proxy.\"+m.proxy.type)}}}if(m.validations){v.push(\"Ext.data.Validations\")}Ext.require(v,function(){Ext.Function.interceptBefore(j,\"onCreated\",function(){Ext.data.ModelManager.registerType(l,A);var B=A.prototype.superclass;A.prototype.associations=A.associations=A.prototype._associations=(B&&B.associations)?B.associations.clone():new Ext.util.Collection(function(C){return C.getName()});A.prototype.validations=A.validations=A.prototype._validations=(B&&B.validations)?B.validations.clone():new Ext.util.Collection(function(C){return C.field?(C.field+\"-\"+C.type):(C.name+\"-\"+C.type)});A.prototype=Ext.Object.chain(A.prototype);A.prototype.initConfig.call(A.prototype,m);delete A.prototype.initConfig});f.call(b,A,t,j)})}}});Ext.define(\"B2B.model.FavoriteBeer\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idFavorite\",type:\"int\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},]}});Ext.define(\"Ext.data.proxy.Client\",{extend:\"Ext.data.proxy.Proxy\",alternateClassName:\"Ext.proxy.ClientProxy\",clear:function(){Ext.Logger.error(\"The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.\")}});Ext.define(\"Ext.data.proxy.Memory\",{extend:\"Ext.data.proxy.Client\",alias:\"proxy.memory\",alternateClassName:\"Ext.data.MemoryProxy\",isMemoryProxy:true,config:{data:[]},finishOperation:function(b,f,d){if(b){var c=0,e=b.getRecords(),a=e.length;for(c;c<a;c++){e[c].commit()}b.setSuccessful();Ext.callback(f,d||this,[b])}},create:function(){this.finishOperation.apply(this,arguments)},update:function(){this.finishOperation.apply(this,arguments)},destroy:function(){this.finishOperation.apply(this,arguments)},read:function(b,e,c){var d=this,a=d.getReader();if(b.process(\"read\",a.process(d.getData()))===false){this.fireEvent(\"exception\",this,null,b)}Ext.callback(e,c||d,[b])},clear:Ext.emptyFn});Ext.define(\"Ext.data.Store\",{alias:\"store.store\",extend:\"Ext.Evented\",requires:[\"Ext.util.Collection\",\"Ext.data.Operation\",\"Ext.data.proxy.Memory\",\"Ext.data.Model\",\"Ext.data.StoreManager\",\"Ext.util.Grouper\"],statics:{create:function(a){if(!a.isStore){if(!a.type){a.type=\"store\"}a=Ext.createByAlias(\"store.\"+a.type,a)}return a}},isStore:true,config:{storeId:undefined,data:null,autoLoad:null,autoSync:false,model:undefined,proxy:undefined,fields:null,remoteSort:false,remoteFilter:false,remoteGroup:false,filters:null,sorters:null,grouper:null,groupField:null,groupDir:null,getGroupString:null,pageSize:25,totalCount:null,clearOnPageLoad:true,modelDefaults:{},autoDestroy:false,syncRemovedRecords:true,destroyRemovedRecords:true},currentPage:1,constructor:function(a){a=a||{};this.data=this._data=this.createDataCollection();this.data.setSortRoot(\"data\");this.data.setFilterRoot(\"data\");this.removed=[];if(a.id&&!a.storeId){a.storeId=a.id;delete a.id}if(a.hasOwnProperty(\"sortOnLoad\")){Ext.Logger.deprecate(\"[Ext.data.Store] sortOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteSort and change sorting after the Store as loaded, in which case you need to call store.load() to fetch the sorted data from the server.\")}if(a.hasOwnProperty(\"filterOnLoad\")){Ext.Logger.deprecate(\"[Ext.data.Store] filterOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteFilter and change filtering after the Store as loaded, in which case you need to call store.load() to fetch the filtered data from the server.\")}if(a.hasOwnProperty(\"sortOnFilter\")){Ext.Logger.deprecate(\"[Ext.data.Store] sortOnFilter is deprecated and is always effectively true when sorting and filtering locally\")}this.initConfig(a)},createDataCollection:function(){return new Ext.util.Collection(function(a){return a.getId()})},applyStoreId:function(a){if(a===undefined||a===null){a=this.getUniqueId()}return a},updateStoreId:function(a,b){if(b){Ext.data.StoreManager.unregister(this)}if(a){Ext.data.StoreManager.register(this)}},applyModel:function(b){if(typeof b==\"string\"){var d=Ext.data.ModelManager.getModel(b);if(!d){Ext.Logger.error('Model with name \"'+b+'\" does not exist.')}b=d}if(b&&!b.prototype.isModel&&Ext.isObject(b)){b=Ext.data.ModelManager.registerType(b.storeId||b.id||Ext.id(),b)}if(!b){var a=this.getFields(),c=this.config.data;if(!a&&c&&c.length){a=Ext.Object.getKeys(c[0])}if(a){b=Ext.define(\"Ext.data.Store.ImplicitModel-\"+(this.getStoreId()||Ext.id()),{extend:\"Ext.data.Model\",config:{fields:a,proxy:this.getProxy()}});this.implicitModel=true}}if(!b&&this.getProxy()){b=this.getProxy().getModel()}if(!b){Ext.Logger.warn(\"Unless you define your model through metadata, a store needs to have a model defined on either itself or on its proxy\")}return b},updateModel:function(a){var b=this.getProxy();if(b&&!b.getModel()){b.setModel(a)}},applyProxy:function(b,a){b=Ext.factory(b,Ext.data.Proxy,a,\"proxy\");if(!b&&this.getModel()){b=this.getModel().getProxy()}if(!b){b=new Ext.data.proxy.Memory({model:this.getModel()})}if(b.isMemoryProxy){this.setSyncRemovedRecords(false)}return b},updateProxy:function(a){if(a){if(!a.getModel()){a.setModel(this.getModel())}a.on(\"metachange\",this.onMetaChange,this)}},applyData:function(c){var b=this,a;if(c){a=b.getProxy();if(a instanceof Ext.data.proxy.Memory){a.setData(c);b.load()}else{b.removeAll(true);b.fireEvent(\"clear\",b);b.suspendEvents();b.add(c);b.resumeEvents();b.dataLoaded=true}}else{b.removeAll(true);b.fireEvent(\"clear\",b)}b.fireEvent(\"refresh\",b,b.data)},clearData:function(){this.setData(null)},addData:function(d){var a=this.getProxy().getReader(),c=a.read(d),b=c.getRecords();this.add(b)},updateAutoLoad:function(a){var b=this.getProxy();if(a&&(b&&!b.isMemoryProxy)){this.load(Ext.isObject(a)?a:null)}},isAutoLoading:function(){var a=this.getProxy();return(this.getAutoLoad()||(a&&a.isMemoryProxy)||this.dataLoaded)},updateGroupField:function(a){var b=this.getGrouper();if(a){if(!b){this.setGrouper({property:a,direction:this.getGroupDir()||\"ASC\"})}else{b.setProperty(a)}}else{if(b){this.setGrouper(null)}}},updateGroupDir:function(a){var b=this.getGrouper();if(b){b.setDirection(a)}},applyGetGroupString:function(b){var a=this.getGrouper();if(b){Ext.Logger.warn(\"Specifying getGroupString on a store has been deprecated. Please use grouper: {groupFn: yourFunction}\");if(a){a.setGroupFn(b)}else{this.setGrouper({groupFn:b})}}else{if(a){this.setGrouper(null)}}},applyGrouper:function(a){if(typeof a==\"string\"){a={property:a}}else{if(typeof a==\"function\"){a={groupFn:a}}}a=Ext.factory(a,Ext.util.Grouper,this.getGrouper());return a},updateGrouper:function(b,a){var c=this.data;if(a){c.removeSorter(a);if(!b){c.getSorters().removeSorter(\"isGrouper\")}}if(b){c.insertSorter(0,b);if(!a){c.getSorters().addSorter({direction:\"DESC\",property:\"isGrouper\",transform:function(d){return(d===true)?1:-1}})}}},isGrouped:function(){return !!this.getGrouped()},updateSorters:function(d){var b=this.getGrouper(),c=this.data,a=c.getAutoSort();c.setAutoSort(false);c.setSorters(d);if(b){c.insertSorter(0,b)}this.updateSortTypes();c.setAutoSort(a)},updateSortTypes:function(){var b=this.getModel(),a=b&&b.getFields(),c=this.data;if(a){c.getSorters().each(function(f){var d=f.getProperty(),e;if(!f.isGrouper&&d&&!f.getTransform()){e=a.get(d);if(e){f.setTransform(e.getSortType())}}})}},updateFilters:function(a){this.data.setFilters(a)},add:function(a){if(!Ext.isArray(a)){a=Array.prototype.slice.apply(arguments)}return this.insert(this.data.length,a)},insert:function(f,b){if(!Ext.isArray(b)){b=Array.prototype.slice.call(arguments,1)}var j=this,l=false,d=this.data,g=b.length,a=this.getModel(),h=j.getModelDefaults(),k=false,c,e;b=b.slice();for(c=0;c<g;c++){e=b[c];if(!e.isModel){e=new a(e)}else{if(this.removed.indexOf(e)!=-1){Ext.Array.remove(this.removed,e)}}e.set(h);e.join(j);b[c]=e;l=l||(e.phantom===true)}if(b.length===1){k=d.insert(f,b[0]);if(k){k=[k]}}else{k=d.insertAll(f,b)}if(k){j.fireEvent(\"addrecords\",j,k)}if(j.getAutoSync()&&l){j.sync()}return b},remove:function(b){if(b.isModel){b=[b]}var m=this,n=false,e=0,a=this.getAutoSync(),q=m.getSyncRemovedRecords(),c=this.getDestroyRemovedRecords(),l=b.length,p=[],h=[],o,k=m.data.items,f,g,d;for(;e<l;e++){f=b[e];if(m.data.contains(f)){o=(f.phantom===true);g=k.indexOf(f);if(g!==-1){h.push(f);p.push(g)}f.unjoin(m);m.data.remove(f);if(c&&!q&&!f.stores.length){f.destroy()}else{if(!o&&q){m.removed.push(f)}}n=n||!o}}m.fireEvent(\"removerecords\",m,h,p);if(a&&n){m.sync()}},removeAt:function(b){var a=this.getAt(b);if(a){this.remove(a)}},removeAll:function(a){if(a!==true){this.fireAction(\"clear\",[this],\"doRemoveAll\")}else{this.doRemoveAll.call(this,true)}},doRemoveAll:function(d){var g=this,a=this.getDestroyRemovedRecords(),h=this.getSyncRemovedRecords(),c=g.data.all.slice(),f=c.length,e,b;for(e=0;e<f;e++){b=c[e];b.unjoin(g);if(a&&!h&&!b.stores.length){b.destroy()}else{if(b.phantom!==true&&h){g.removed.push(b)}}}g.data.clear();if(d!==true){g.fireEvent(\"refresh\",g,g.data)}if(g.getAutoSync()){this.sync()}},each:function(b,a){this.data.each(b,a)},getCount:function(){return this.data.items.length||0},getAllCount:function(){return this.data.all.length||0},getAt:function(a){return this.data.getAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},getById:function(a){return this.data.findBy(function(b){return b.getId()==a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},afterEdit:function(c,g,d){var f=this,h=f.data,a=d[c.getIdProperty()]||c.getId(),b=h.keys.indexOf(a),e;if(b===-1&&h.map[a]===undefined){return}if(f.getAutoSync()){f.sync()}if(a!==c.getId()){h.replace(a,c)}else{h.replace(c)}e=h.indexOf(c);if(b===-1&&e!==-1){f.fireEvent(\"addrecords\",f,[c])}else{if(b!==-1&&e===-1){f.fireEvent(\"removerecords\",f,[c],[b])}else{if(e!==-1){f.fireEvent(\"updaterecord\",f,c,e,b,g,d)}}}},afterReject:function(a){var b=this.data.indexOf(a);this.fireEvent(\"updaterecord\",this,a,b,b,[],{})},afterCommit:function(c,g,d){var f=this,h=f.data,a=d[c.getIdProperty()]||c.getId(),b=h.keys.indexOf(a),e;if(b===-1&&h.map[a]===undefined){return}if(a!==c.getId()){h.replace(a,c)}else{h.replace(c)}e=h.indexOf(c);if(b===-1&&e!==-1){f.fireEvent(\"addrecords\",f,[c])}else{if(b!==-1&&e===-1){f.fireEvent(\"removerecords\",f,[c],[b])}else{if(e!==-1){f.fireEvent(\"updaterecord\",f,c,e,b,g,d)}}}},afterErase:function(a){var c=this,d=c.data,b=d.indexOf(a);if(b!==-1){d.remove(a);c.fireEvent(\"removerecords\",c,[a],[b])}},updateRemoteFilter:function(a){this.data.setAutoFilter(!a)},updateRemoteSort:function(a){this.data.setAutoSort(!a)},sort:function(f,d,c){var e=this.data,b=this.getGrouper(),a=e.getAutoSort();if(f){e.setAutoSort(false);if(typeof c===\"string\"){if(c==\"prepend\"){e.insertSorters(b?1:0,f,d)}else{e.addSorters(f,d)}}else{e.setSorters(null);if(b){e.addSorters(b)}e.addSorters(f,d)}this.updateSortTypes();e.setAutoSort(a)}if(!this.getRemoteSort()){if(!f){this.data.sort()}this.fireEvent(\"sort\",this,this.data,this.data.getSorters());if(e.length){this.fireEvent(\"refresh\",this,this.data)}}},filter:function(e,d,f,a){var c=this.data,b=e?((Ext.isFunction(e)||e.isFilter)?e:{property:e,value:d,anyMatch:f,caseSensitive:a,id:e}):null;if(this.getRemoteFilter()){if(e){if(Ext.isString(e)){c.addFilters(b)}else{if(Ext.isArray(e)||e.isFilter){c.addFilters(e)}}}}else{c.filter(b);this.fireEvent(\"filter\",this,c,c.getFilters());this.fireEvent(\"refresh\",this,c)}},filterBy:function(b,a){var d=this,e=d.data,c=e.length;e.filter({filterFn:b,scope:a});this.fireEvent(\"filter\",this,e,e.getFilters());if(e.length!==c){this.fireEvent(\"refresh\",this,e)}},queryBy:function(b,a){return this.data.filterBy(b,a||this)},clearFilter:function(a){var b=this.data.length;if(a){this.suspendEvents()}this.data.setFilters(null);if(a){this.resumeEvents()}else{if(b!==this.data.length){this.fireEvent(\"refresh\",this,this.data)}}},isFiltered:function(){return this.data.filtered},getSorters:function(){var a=this.data.getSorters();return(a)?a.items:[]},getFilters:function(){var a=this.data.getFilters();return(a)?a.items:[]},getGroups:function(c){var e=this.data.items,b=e.length,a=this.getGrouper(),d=[],k={},g,h,j,f;if(!a){Ext.Logger.error(\"Trying to get groups for a store that has no grouper\")}for(f=0;f<b;f++){g=e[f];h=a.getGroupString(g);j=k[h];if(j===undefined){j={name:h,children:[]};d.push(j);k[h]=j}j.children.push(g)}return c?k[c]:d},getGroupString:function(a){var b=this.getGrouper();if(b){return b.getGroupString(a)}return null},find:function(g,d,e,f,a,c){var b=Ext.create(\"Ext.util.Filter\",{property:g,value:d,anyMatch:f,caseSensitive:a,exactMatch:c,root:\"data\"});return this.data.findIndexBy(b.getFilterFn(),null,e)},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return a!==-1?b.getAt(a):null},findExact:function(c,a,b){return this.data.findIndexBy(function(d){return d.get(c)===a},this,b)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},load:function(c,e){var f=this,b,d=f.currentPage,a=f.getPageSize();c=c||{};if(Ext.isFunction(c)){c={callback:c,scope:e||this}}if(f.getRemoteSort()){c.sorters=c.sorters||this.getSorters()}if(f.getRemoteFilter()){c.filters=c.filters||this.getFilters()}if(f.getRemoteGroup()){c.grouper=c.grouper||this.getGrouper()}Ext.applyIf(c,{page:d,start:(d-1)*a,limit:a,addRecords:false,action:\"read\",model:this.getModel()});b=Ext.create(\"Ext.data.Operation\",c);if(f.fireEvent(\"beforeload\",f,b)!==false){f.loading=true;f.getProxy().read(b,f.onProxyLoad,f)}return f},isLoading:function(){return Boolean(this.loading)},isLoaded:function(){return Boolean(this.loaded)},sync:function(){var d=this,b={},e=d.getNewRecords(),c=d.getUpdatedRecords(),a=d.getRemovedRecords(),f=false;if(e.length>0){b.create=e;f=true}if(c.length>0){b.update=c;f=true}if(a.length>0){b.destroy=a;f=true}if(f&&d.fireEvent(\"beforesync\",this,b)!==false){d.getProxy().batch({operations:b,listeners:d.getBatchListeners()})}return{added:e,updated:c,removed:a}},first:function(){return this.data.first()},last:function(){return this.data.last()},sum:function(e){var d=0,c=0,b=this.data.items,a=b.length;for(;c<a;++c){d+=b[c].get(e)}return d},min:function(f){var d=1,b=this.data.items,a=b.length,e,c;if(a>0){c=b[0].get(f)}for(;d<a;++d){e=b[d].get(f);if(e<c){c=e}}return c},max:function(f){var d=1,c=this.data.items,b=c.length,e,a;if(b>0){a=c[0].get(f)}for(;d<b;++d){e=c[d].get(f);if(e>a){a=e}}return a},average:function(e){var c=0,b=this.data.items,a=b.length,d=0;if(b.length>0){for(;c<a;++c){d+=b[c].get(e)}return d/a}return 0},getBatchListeners:function(){return{scope:this,exception:this.onBatchException,complete:this.onBatchComplete}},onBatchComplete:function(b){var e=this,a=b.operations,d=a.length,c;for(c=0;c<d;c++){e.onProxyWrite(a[c])}},onBatchException:function(b,a){},onProxyLoad:function(b){var d=this,a=b.getRecords(),c=b.getResultSet(),e=b.wasSuccessful();if(c){d.setTotalCount(c.getTotal())}if(e){this.fireAction(\"datarefresh\",[this,this.data,b],\"doDataRefresh\")}d.loaded=true;d.loading=false;d.fireEvent(\"load\",this,a,e,b);Ext.callback(b.getCallback(),b.getScope()||d,[a,b,e])},doDataRefresh:function(l,f,b){var a=b.getRecords(),k=this,d=k.getDestroyRemovedRecords(),m=k.getSyncRemovedRecords(),c=f.all.slice(),h=k.removed,j=c.length,e,g;if(b.getAddRecords()!==true){for(e=0;e<j;e++){g=c[e];g.unjoin(k);if(a.indexOf(g)===-1){if(m&&g.phantom!==true){h.push(g)}else{if(d&&!m&&!g.stores.length){g.destroy()}}}}f.clear();k.fireEvent(\"clear\",k)}if(a&&a.length){k.suspendEvents();k.add(a);k.resumeEvents()}k.fireEvent(\"refresh\",k,f)},onProxyWrite:function(b){var c=this,d=b.wasSuccessful(),a=b.getRecords();switch(b.getAction()){case\"create\":c.onCreateRecords(a,b,d);break;case\"update\":c.onUpdateRecords(a,b,d);break;case\"destroy\":c.onDestroyRecords(a,b,d);break}if(d){c.fireEvent(\"write\",c,b)}Ext.callback(b.getCallback(),b.getScope()||c,[a,b,d])},onCreateRecords:function(b,a,c){},onUpdateRecords:function(b,a,c){},onDestroyRecords:function(b,a,c){this.removed=[]},onMetaChange:function(b){var a=this.getProxy().getModel();if(!this.getModel()&&a){this.setModel(a)}this.fireEvent(\"metachange\",this,b)},getNewRecords:function(){return this.data.filterBy(function(a){return a.phantom===true&&a.isValid()}).items},getUpdatedRecords:function(){return this.data.filterBy(function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()}).items},getRemovedRecords:function(){return this.removed},loadPage:function(f,c,d){if(typeof c===\"function\"){c={callback:c,scope:d||this}}var e=this,b=e.getPageSize(),a=e.getClearOnPageLoad();c=Ext.apply({},c);e.currentPage=f;e.load(Ext.applyIf(c,{page:f,start:(f-1)*b,limit:b,addRecords:!a}))},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},onClassExtended:function(b,f){var d=this.prototype,a=d.config,c=f.config||{},e;for(e in a){if(e!=\"control\"&&e in f){c[e]=f[e];delete f[e];Ext.Logger.deprecate(e+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}f.config=c}},function(){this.override({loadData:function(b,a){Ext.Logger.deprecate(\"loadData is deprecated, please use either add or setData\");if(a){this.add(b)}else{this.setData(b)}},doAddListener:function(c,e,d,b,a){switch(c){case\"update\":Ext.Logger.warn(\"The update event on Store has been removed. Please use the updaterecord event from now on.\");return this;case\"add\":Ext.Logger.warn(\"The add event on Store has been removed. Please use the addrecords event from now on.\");return this;case\"remove\":Ext.Logger.warn(\"The remove event on Store has been removed. Please use the removerecords event from now on.\");return this;case\"datachanged\":Ext.Logger.warn(\"The datachanged event on Store has been removed. Please use the refresh event from now on.\");return this;break}return this.callParent(arguments)}});Ext.deprecateMethod(this,\"loadRecords\",\"add\",\"Ext.data.Store#loadRecords has been deprecated. Please use the add method.\")});Ext.define(\"B2B.store.Activities_Ajax\",{extend:\"Ext.data.Store\",id:\"Activities_Ajax\",config:{model:\"B2B.model.Activity\",proxy:{type:\"ajax\",url:\"json/mock_activitylist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{id_user:\"user-5\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Activities_Ajax, copying to Local\");var b=Ext.getStore(\"Activities_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Beers_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"Beers_Ajax\",config:{model:\"B2B.model.Beer\",proxy:{type:\"ajax\",url:\"json/mock_beerlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Beer_Ajax\")}}}});Ext.define(\"B2B.store.Friends_Ajax\",{extend:\"Ext.data.Store\",id:\"Friends_Ajax\",config:{model:\"B2B.model.Friend\",sorters:\"displayName\",proxy:{type:\"ajax\",url:\"json/mock_friendlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Friends Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Store.Friends_Ajax, copying to Local\");var b=Ext.getStore(\"Friends_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Profile_Ajax\",{extend:\"Ext.data.Store\",id:\"Profile_Ajax\",config:{model:\"B2B.model.User\",proxy:{type:\"ajax\",url:\"json/mock_user.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},},autoload:false,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);goingTo.step3(\"Nevermind We will use the LS\")},load:function(d,a,g){HH.log(\"* Loaded: Store.Profile_Ajax, copying to Local\");var c=Ext.getStore(\"Profile_Local\"),b=false,f=false,e=false;if(c.getCount>0){localJSON=c.first().data;remoteJSON=d.first().data;HH.log(\"---> Step: Calculating if other Stores need refresh\");b=(localJSON.hash_beerlist!==remoteJSON.hash_beerlist);f=(localJSON.hash_friendlist!==remoteJSON.hash_friendlist);e=(localJSON.hash_notificationlist!==remoteJSON.hash_notificationlist)}c.removeAll();c.getProxy().clear();this.each(function(h){c.add(h.data)});c.sync();this.removeAll();goingTo.step3(\"Load: App Defaults from Store.Profile_Local\",b,f,e)}}},});Ext.define(\"B2B.store.Places_Ajax\",{extend:\"Ext.data.Store\",id:\"Places_Ajax\",config:{model:\"B2B.model.Place\",proxy:{type:\"ajax\",url:\"json/mock_placelist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Places_Ajax\")}}}});Ext.define(\"B2B.store.Drinks_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"Drinks_Ajax\",config:{model:\"B2B.model.Drink\",proxy:{type:\"ajax\",url:\"json/mock_drinklist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,c,f){HH.log(\"* Loaded: Store.Drinks_Ajax, copying to Local\");var j=Ext.getStore(\"Drinks_Local\"),d=HH.default_user48,i=b.first(),e=Ext.getCmp(\"lastdrink\"),h=\"\",g=\"\",a=\"\";if(e){h=(i.data.beerName?i.data.beerName:\"\");g=(i.data.placeName?i.data.placeName:\"\");e.setHtml(['<div class=\"lastdrink\">','<img class=\"avatar_medium\" src=\"'+d+'\" width=\"48\" height=\"48\" >','<div class=\"small-list-when\"> 2 min fa</div>','<div class=\"medium-list-text\">Your lastest drink was a <strong>'+h+\"</strong>, at <strong>\"+g+\"</strong></div>\",\"</div>\"].join(\"\"))}j.removeAll();j.getProxy().clear();this.each(function(k){j.add(k.data)});j.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Activities_User_Ajax\",{extend:\"Ext.data.Store\",id:\"Activities_User_Ajax\",config:{model:\"B2B.model.Activity\",proxy:{type:\"ajax\",url:\"json/mock_activityuser.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Activities_User_Ajax\")}}}});Ext.define(\"B2B.store.Notifications_Local\",{extend:\"Ext.data.Store\",id:\"Notifications_Local\",config:{model:\"B2B.model.Notification\",proxy:{type:\"localstorage\"},autoload:true,autosync:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Friends Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Notification_Local\")}}}});Ext.define(\"B2B.store.Feedback_Ajax\",{extend:\"Ext.data.Store\",id:\"Feedback_Ajax\",config:{model:\"B2B.model.Feedback\",proxy:{type:\"ajax\",url:\"json/mock_feedbacklist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{target:\"\"}},autosync:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Feedback Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Feedback_Ajax\")}}}});Ext.define(\"B2B.store.Badges_Ajax\",{extend:\"Ext.data.Store\",id:\"Badges_Ajax\",config:{model:\"B2B.model.Badge\",proxy:{type:\"ajax\",url:\"json/mock_badgelist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Badge\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Badges Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Badges_Ajax\")}}}});Ext.define(\"B2B.store.DrinkInCheckIn_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"DrinkInCheckIn_Ajax\",config:{model:\"B2B.model.Drink\",proxy:{type:\"ajax\",url:\"json/mock_drinkincheckinlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.DrinkinCheckIn_Ajax\")}}}});Ext.define(\"Ext.ux.slidenavigation.SlideNavigation\",{extend:\"Ext.Container\",requires:[\"Ext.Button\",\"Ext.Container\",\"Ext.Function\",\"Ext.ModelManager\",\"Ext.Toolbar\",\"Ext.data.Model\",\"Ext.data.Store\",\"Ext.dataview.List\",],xtype:\"slidenavigationview\",setTitle:function(a){},config:{list:{width:250,maxDrag:null,itemTpl:\"{title}\",grouped:true,items:[{xtype:\"toolbar\",id:\"sliderToolbar\",docked:\"top\",ui:\"light\"}]},container:{},items:[],groups:{},defaults:{layout:\"card\"},slideSelector:\"\",slideDuration:Ext.os.is.Android?0:100,selectSlideDuration:Ext.os.is.Android?0:300,closeOnSelect:true},initConfig:function(){var a=this;a._indexCount=0;a.store=Ext.create(\"Ext.data.Store\",{model:a.getModel(),sorters:\"order\",grouper:{property:\"group\",sortProperty:\"groupOrder\"}});a.addItems(a.config.items||[]);delete a.config.items;a.callParent(arguments);a._cache={};a.slideButtonDefaults={xtype:\"button\",iconMask:true,iconCls:\"more\",name:\"slidebutton\",listeners:{release:a.toggleContainer,scope:a},}},initialize:function(){this.callParent();this.addCls(\"x-slidenavigation\");this.list=this.createNavigationList();this.container=this.createContainer();this.add([this.list,this.container]);this.list.select(0)},addItems:function(b){var c=this,b=Ext.isArray(b)?b:[b],a=c.config.groups;Ext.each(b,function(e,d){if(!Ext.isDefined(e.index)){e.index=c._indexCount;c._indexCount++}c.store.add(e)})},createSlideButton:function(c,a){var d=this,b=c.down(a.selector);if(b){return b.add(Ext.merge(d.slideButtonDefaults,a))}return false},onSelect:function(g,f,d){var e=this,b=g.getStore(),c=f.raw.index,a=e.container;if(e._cache[c]==undefined){if(Ext.isFunction(f.raw.handler)){e._cache[c]=f.raw.handler}else{e._cache[c]=a.add(Ext.merge(e.config.defaults,f.raw));if((f.raw.slideButton||false)){e.createSlideButton(e._cache[c],f.raw.slideButton)}}}if(Ext.isFunction(this._cache[c])){this._cache[c]()}else{a.setActiveItem(this._cache[c])}if(this.config.closeOnSelect){this.closeContainer(this.config.selectSlideDuration)}},onContainerDrag:function(a,c,d,b){if(d.x<1){this.setClosed(true)}else{this.setClosed(false)}},onContainerDragstart:function(a,c,d,b){if(this.config.slideSelector==false){return false}if(this.config.slideSelector){node=c.target;while(node=node.parentNode){if(node.className&&node.className.indexOf(this.config.slideSelector)>-1){return true}}return false}return false},onContainerDragend:function(b,g,c){var d=Math.abs(g.deltaX/g.deltaTime),f=(g.deltaX>0)?\"right\":\"left\",h=Ext.clone(b.offset),a=parseInt(this.config.list.width*0.7);switch(f){case\"right\":h.x=(d>0.75||h.x>a)?this.config.list.minDrag:0;break;case\"left\":h.x=(d>0.75||h.x<a)?0:this.config.list.minDrag;break}this.moveContainer(h.x)},getModel:function(){var b=\"SlideNavigationPanelItem\",a=this.config.groups;if(!Ext.ModelManager.get(b)){Ext.define(b,{extend:\"Ext.data.Model\",config:{idProperty:\"index\",fields:[\"index\",\"title\",\"group\",{name:\"order\",defaultValue:1},{name:\"groupOrder\",convert:function(d,c){group=c.get(\"group\");return a[group]||group}}]}})}return b},closeContainer:function(a){var a=a||this.config.slideDuration;this.moveContainer(0,a)},openContainer:function(a){var a=a||this.config.slideDuration;this.container.addCls(\"open\");this.moveContainer(this.config.list.minDrag,a)},toggleContainer:function(a){var a=Ext.isNumber(a)?a:this.config.slideDuration;if(this.isClosed()){this.openContainer(a)}else{this.closeContainer(a)}},moveContainer:function(b,c){var c=c||this.config.slideDuration,a=this.container.draggableBehavior.draggable;a.setOffset(b,0,{duration:c})},isClosed:function(){return(this.container.draggableBehavior.draggable.offset.x==0)},setClosed:function(a){if(a){this.container.removeCls(\"open\")}else{this.container.addCls(\"open\")}},createNavigationList:function(a){return Ext.create(\"Ext.dataview.List\",Ext.merge({},this.config.list,{store:this.store,docked:\"left\",cls:\"x-slidenavigation-list\",style:\"position: absolute; top: 0; left: 0; height: 100%;width: 100% !important; z-index: 2\",listeners:{select:this.onSelect,scope:this}}))},createContainer:function(){return Ext.create(\"Ext.Container\",Ext.merge({},this.config.container,{docked:\"left\",cls:\"x-slidenavigation-container\",style:\"width: 100%; height: 100%; position: absolute; opacity: 1; z-index: 5\",docked:\"left\",layout:\"card\",draggable:{direction:\"horizontal\",constraint:{min:{x:0,y:0},max:{x:this.config.list.maxDrag||Math.max(screen.width,screen.height),y:0}},listeners:{dragstart:{fn:this.onContainerDragstart,order:\"before\",scope:this},drag:Ext.Function.createThrottled(this.onContainerDrag,100,this),dragend:this.onContainerDragend,scope:this},translatable:{listeners:{animationend:function(d,a,e){this.setClosed(this.isClosed())},scope:this}}}}))},getActiveItem:function(){var a=this.list.getSelection();if(a){return a[0]}}});Ext.define(\"B2B.view._App_Slider\",{extend:\"Ext.ux.slidenavigation.SlideNavigation\",xtype:\"appslidercontainer\",id:\"appslidercontainer\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.event.publisher.Dom\"],config:{fullscreen:true,slideSelector:\"slidableToolbar\",selectSlideDuration:200,list:{minDrag:200,maxDrag:400,width:400,items:[{xtype:\"toolbar\",docked:\"top\",ui:\"plain\",id:\"slider_toolbar\",title:{title:'<img id=\"slider_logo\" src=\"resources/img/logopin_text_black_small.png\" width=\"160px\">',width:200,left:0}}]},groups:{Profile:1,News:2,Privacy:3},defaults:{xtype:\"container\"},items:[{title:'<div class=\"nav_slidemenu_profile\">'+i18n.app.PANEL_CLAIM+\"</div>\",slideButton:{selector:\"titlebar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"appcontainer\"}]},{title:i18n.app.LABEL_WHATSNEW,group:\"News\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"viewwhatsnew\"}]},{title:i18n.app.LABEL_TERMS,group:\"Privacy\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list\",ui:\"action\"},items:[{xtype:\"viewterms\"}]},{title:i18n.app.LABEL_ABOUTUS,group:\"Privacy\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"viewaboutus\"}]}]}});Ext.define(\"B2B.view._appcontainer\",{extend:\"Ext.tab.Panel\",xtype:\"appcontainer\",requires:[\"Ext.ux.slidenavigation.SlideNavigation\",\"Ext.ux.toolbarspinner.TSpinner\",\"Ext.device.Camera\"],config:{activeTab:0,layout:{animation:{type:null}},tabBar:{layout:{pack:\"center\",align:\"center\"},docked:\"bottom\",scrollable:false},items:[{xtype:\"activity\"},{xtype:\"beer\"},{xtype:\"friendlistcontainerpanel\"},{xtype:\"userprofile\"}]},initialize:function(){this.callParent(arguments);var d={xtype:\"image\",src:\"resources/img/logo_text_black_small.png\",height:28,width:144,align:\"left\"};var e={iconCls:\"chat4\",ui:\"plain\",id:\"notificationbutton\",handler:this.onGotoNotificationButtonTap,scope:this,align:\"left\"};var a={xtype:\"tbarspinner\",id:\"tbarspinner\",align:\"right\",hidden:true};var b={iconCls:\"locate\",ui:\"plain\",id:\"jump_2_checkin_btn\",handler:this.onGotoCheckInButtonTap,scope:this,align:\"right\"};var c={xtype:\"titlebar\",docked:\"top\",id:\"MainTitlebar\",cls:\"slidableToolbar\",defaults:{iconMask:true},items:[e,a,b]};var f={xtype:\"notificationbar\",id:\"notificationBar\",hidden:true};this.add([c,f])},onGotoCheckInButtonTap:function(){this.fireEvent(\"gotoCheckInCommand\",this)},onGotoNotificationButtonTap:function(){this.fireEvent(\"notificationShowCommand\",this)}});Ext.define(\"Ext.picker.Slot\",{extend:\"Ext.dataview.DataView\",xtype:\"pickerslot\",alternateClassName:\"Ext.Picker.Slot\",requires:[\"Ext.XTemplate\",\"Ext.data.Store\",\"Ext.Component\",\"Ext.data.StoreManager\"],isSlot:true,config:{title:null,showTitle:true,cls:Ext.baseCSSPrefix+\"picker-slot\",name:null,value:null,flex:1,align:\"left\",displayField:\"text\",valueField:\"value\",scrollable:{direction:\"vertical\",indicators:false,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}}},constructor:function(){this.selectedIndex=0;this.callParent(arguments)},applyTitle:function(a){if(a){a=Ext.create(\"Ext.Component\",{cls:Ext.baseCSSPrefix+\"picker-slot-title\",docked:\"top\",html:a})}return a},updateTitle:function(b,a){if(b){this.add(b);this.setupBar()}if(a){this.remove(a)}},updateShowTitle:function(a){var b=this.getTitle();if(b){b[a?\"show\":\"hide\"]();this.setupBar()}},updateDisplayField:function(a){this.setItemTpl('<div class=\"'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if=\"extra\">'+Ext.baseCSSPrefix+'picker-invalid</tpl>\">{'+a+\"}</div>\")},updateAlign:function(a,c){var b=this.element;b.addCls(Ext.baseCSSPrefix+\"picker-\"+a);b.removeCls(Ext.baseCSSPrefix+\"picker-\"+c)},applyData:function(d){var f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}}return d},updateData:function(a){this.setStore(Ext.create(\"Ext.data.Store\",{fields:[\"text\",\"value\"],data:a}))},initialize:function(){this.callParent();var a=this.getScrollable().getScroller();this.on({scope:this,painted:\"onPainted\",itemtap:\"doItemTap\"});a.on({scope:this,scrollend:\"onScrollEnd\"})},onPainted:function(){this.setupBar()},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBar:function(){if(!this.rendered){return}var a=this.element,e=this.innerElement,f=this.getPicker(),g=f.bar,k=this.getValue(),b=this.getShowTitle(),j=this.getTitle(),h=this.getScrollable(),d=h.getScroller(),c=0,l,i;l=g.getHeight();if(b&&j){c=j.element.getHeight()}i=Math.ceil((a.getHeight()-c-l)/2);e.setStyle({padding:i+\"px 0 \"+(i)+\"px\"});d.refresh();d.setSlotSnapSize(l);this.setValue(k)},doItemTap:function(d,a,c,f){var b=this;b.selectedIndex=a;b.selectedNode=c;b.scrollToItem(c,true);b.fireEvent(\"slotpick\",b,b.getValue(true),b.selectedNode)},scrollToItem:function(e,d){var h=e.getY(),c=e.parent(),f=c.getY(),b=this.getScrollable(),a=b.getScroller(),g;g=h-f;a.scrollTo(0,g,d)},onScrollEnd:function(b,a,g){var f=this,d=Math.round(g/f.picker.bar.getHeight()),c=f.getViewItems(),e=c[d];if(e){f.selectedIndex=d;f.selectedNode=e;f.fireEvent(\"slotpick\",f,f.getValue(),f.selectedNode)}},getValue:function(c){var b=this.getStore(),a,d;if(!b){return}if(!this.rendered||!c){return this._value}if(this._value===false){return null}a=b.getAt(this.selectedIndex);d=a?a.get(this.getValueField()):null;return d},setValue:function(f){if(!Ext.isDefined(f)){return}if(!this.rendered||!f){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e);this._value=f}},setValueAnimated:function(f){if(!f){return}if(!this.rendered){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e,{duration:100});this._value=f}}});Ext.define(\"Ext.picker.Picker\",{extend:\"Ext.Sheet\",alias:\"widget.picker\",alternateClassName:\"Ext.Picker\",requires:[\"Ext.picker.Slot\",\"Ext.Toolbar\",\"Ext.data.Model\"],isPicker:true,config:{cls:Ext.baseCSSPrefix+\"picker\",doneButton:true,cancelButton:true,useTitles:false,slots:null,value:null,height:220,layout:{type:\"hbox\",align:\"stretch\"},centered:false,left:0,right:0,bottom:0,defaultType:\"pickerslot\",toolbar:true},initElement:function(){this.callParent(arguments);var b=this,a=Ext.baseCSSPrefix,c=this.innerElement;this.mask=c.createChild({cls:a+\"picker-mask\"});this.bar=this.mask.createChild({cls:a+\"picker-bar\"});b.on({scope:this,delegate:\"pickerslot\",slotpick:\"onSlotPick\"});b.on({scope:this,show:\"onShow\"})},applyToolbar:function(a){if(a===true){a={}}Ext.applyIf(a,{docked:\"top\"});return Ext.factory(a,\"Ext.TitleBar\",this.getToolbar())},updateToolbar:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{ui:\"action\",align:\"right\",text:\"Done\"})}return Ext.factory(a,\"Ext.Button\",this.getDoneButton())},updateDoneButton:function(c,a){var b=this.getToolbar();if(c){b.add(c);c.on(\"tap\",this.onDoneButtonTap,this)}else{if(a){b.remove(a)}}},applyCancelButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{align:\"left\",text:\"Cancel\"})}return Ext.factory(a,\"Ext.Button\",this.getCancelButton())},updateCancelButton:function(b,a){var c=this.getToolbar();if(b){c.add(b);b.on(\"tap\",this.onCancelButtonTap,this)}else{if(a){c.remove(a)}}},updateUseTitles:function(d){var f=this.getInnerItems(),e=f.length,a=Ext.baseCSSPrefix+\"use-titles\",c,b;if(d){this.addCls(a)}else{this.removeCls(a)}for(c=0;c<e;c++){b=f[c];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(b){if(b){var c=b.length,a;for(a=0;a<c;a++){b[a].picker=this}}return b},updateSlots:function(a){var b=Ext.baseCSSPrefix,c;this.removeAll();if(a){this.add(a)}c=this.getInnerItems();if(c.length>0){c[0].addCls(b+\"first\");c[c.length-1].addCls(b+\"last\")}this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue(true);if(b!=a){this.fireEvent(\"change\",this,b)}this.hide()},onCancelButtonTap:function(){this.fireEvent(\"cancel\",this);this.hide()},onSlotPick:function(a){this.fireEvent(\"pick\",this,this.getValue(true),a)},onShow:function(){if(!this.isHidden()){this.setValue(this._value)}},setValue:function(k,a){var f=this,d=f.getInnerItems(),e=d.length,j,h,c,b,g;if(!k){k={};for(b=0;b<e;b++){k[d[b].config.name]=null}}for(j in k){g=k[j];for(b=0;b<d.length;b++){c=d[b];if(c.config.name==j){h=c;break}}if(h){if(a){h.setValueAnimated(g)}else{h.setValue(g)}}}f._values=f._value=k;return f},setValueAnimated:function(a){this.setValue(a,true)},getValue:function(c){var b={},a=this.getItems().items,f=a.length,e,d;if(c){for(d=0;d<f;d++){e=a[d];if(e&&e.isSlot){b[e.getName()]=e.getValue(c)}}this._values=b}return this._values},getValues:function(){return this.getValue()},destroy:function(){this.callParent();Ext.destroy(this.mask,this.bar)}},function(){Ext.deprecateProperty(this,\"activeCls\",null,\"Ext.picker.Picker.activeCls has been removed\");Ext.deprecateClassMethod(this,\"getCard\",\"getActiveItem\");Ext.deprecateClassMethod(this,\"setCard\",\"setActiveItem\")});Ext.define(\"B2B.view.Camera_Picker\",{extend:\"Ext.picker.Picker\",xtype:\"camerapicker\",autoDestroy:true,config:{slots:[{name:\"camera_source\",title:\"Select source\",data:[{text:i18n.app.PICKER_CAMERA,value:true},{text:i18n.app.PICKER_LIBRARY,value:false}]}],listeners:{change:function(c,d,b){var a=\"openLibraryCommand\";if(d.camera_source){a=\"openCameraCommand\"}this.fireEvent(a,this)},cancel:function(a){}}},initialize:function(){this.callParent(arguments)}});Ext.define(\"Ext.field.Select\",{extend:\"Ext.field.Text\",xtype:\"selectfield\",alternateClassName:\"Ext.form.Select\",requires:[\"Ext.Panel\",\"Ext.picker.Picker\",\"Ext.data.Store\",\"Ext.data.StoreManager\",\"Ext.dataview.List\"],config:{ui:\"select\",valueField:\"value\",displayField:\"text\",store:null,options:null,hiddenName:null,component:{useMask:true},clearIcon:false,usePicker:\"auto\",defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:\"picker\"},initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,masktap:\"onMaskTap\"});a.input.dom.disabled=true},updateDefaultPhonePickerConfig:function(b){var a=this.picker;if(a){a.setConfig(b)}},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;if(b){b.setConfig(a)}},applyUsePicker:function(a){if(a==\"auto\"){a=(Ext.os.deviceType==\"Phone\")}return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(d){var a=d,c,b;this.getOptions();b=this.getStore();if((d&&!d.isModel)&&b){c=b.find(this.getValueField(),d,null,null,null,true);if(c==-1){c=b.find(this.getDisplayField(),d,null,null,null,true)}a=b.getAt(c)}return a},updateValue:function(b,a){this.previousRecord=a;this.record=b;this.callParent([(b&&b.isModel)?b.get(this.getDisplayField()):\"\"])},getValue:function(){var a=this.record;return(a&&a.isModel)?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker){this.picker=Ext.create(\"Ext.picker.Picker\",Ext.apply({slots:[{align:\"center\",name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))}return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel){this.listPanel=Ext.create(\"Ext.Panel\",Ext.apply({centered:true,modal:true,cls:Ext.baseCSSPrefix+\"select-overlay\",layout:\"fit\",hideOnMaskTap:true,items:{xtype:\"list\",store:this.getStore(),itemTpl:'<span class=\"x-list-label\">{'+this.getDisplayField()+\":htmlEncode}</span>\",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))}return this.listPanel},onMaskTap:function(){if(this.getDisabled()){return false}this.showPicker();return false},showPicker:function(){var b=this.getStore();if(!b||b.getCount()===0){return}if(this.getReadOnly()){return}this.isFocused=true;if(this.getUsePicker()){var e=this.getPhonePicker(),d=this.getName(),h={};h[d]=this.record.get(this.getValueField());e.setValue(h);if(!e.getParent()){Ext.Viewport.add(e)}e.show()}else{var f=this.getTabletPicker(),g=f.down(\"list\"),b=g.getStore(),c=b.find(this.getValueField(),this.getValue(),null,null,null,true),a=b.getAt((c==-1)?0:c);if(!f.getParent()){Ext.Viewport.add(f)}f.showBy(this.getComponent());g.select(a,null,true)}},onListSelect:function(c,a){var b=this;if(a){b.setValue(a)}},onListTap:function(){this.listPanel.hide({type:\"fade\",out:true,scope:this})},onPickerChange:function(d,f){var e=this,g=f[e.getName()],b=e.getStore(),c=b.find(e.getValueField(),g,null,null,null,true),a=b.getAt(c);e.setValue(a)},onChange:function(f,h,e){var g=this,b=g.getStore(),d=(b)?b.find(g.getDisplayField(),e):-1,c=g.getValueField(),a=(b)?b.getAt(d):null,e=(a)?a.get(c):null;g.fireEvent(\"change\",g,g.getValue(),e)},updateOptions:function(b){var a=this.getStore();if(!a){this.setStore(true);a=this._store}if(!b){a.clearData()}else{a.setData(b);this.onStoreDataChanged(a)}},applyStore:function(a){if(a===true){a=Ext.create(\"Ext.data.Store\",{fields:[this.getValueField(),this.getDisplayField()]})}if(a){a=Ext.data.StoreManager.lookup(a);a.on({scope:this,addrecords:this.onStoreDataChanged,removerecords:this.onStoreDataChanged,updaterecord:this.onStoreDataChanged,refresh:this.onStoreDataChanged})}return a},updateStore:function(a){if(a){this.onStoreDataChanged(a)}},onStoreDataChanged:function(a){var c=this.getInitialConfig(),b=this.getValue();if(Ext.isDefined(b)){this.updateValue(this.applyValue(b))}if(this.getValue()===null){if(c.hasOwnProperty(\"value\")){this.setValue(c.value)}if(this.getValue()===null){if(a.getCount()>0){this.setValue(a.getAt(0))}}}},doSetDisabled:function(a){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){var b=this.getStore(),a=(this.originalValue)?this.originalValue:b.getAt(0);if(b&&a){this.setValue(a)}return this},onFocus:function(a){this.fireEvent(\"focus\",this,a);this.isFocused=true;this.showPicker()},destroy:function(){this.callParent(arguments);Ext.destroy(this.listPanel,this.picker,this.hiddenField)}});Ext.define(\"B2B.view.Activity_List_Detail\",{extend:\"Ext.form.Panel\",id:\"ActivityDetail\",xtype:\"activitylistdetail\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_ACTIVITYDETAIL,iconCls:\"add\"},initialize:function(){this.callParent(arguments);var b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"activitylistdetailbackbutton\",handler:this.onActivityDetailBackButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b]};this.add([a])},onActivityDetailBackButtonTap:function(){this.fireEvent(\"backActivityDetailCommand\",this)}});Ext.define(\"B2B.view.Beer_Add_Form\",{extend:\"Ext.form.Panel\",id:\"BeerAddForm\",xtype:\"beeraddform\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_ADDBEER,iconCls:\"add\",submitOnAction:true,defaults:{labelAlign:\"left\",labelWidth:\"50%\",labelHeight:\"50%\"},items:[{xtype:\"textfield\",name:\"name\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSENAME,required:true},{xtype:\"textfield\",name:\"brewery\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSEBREWERY,required:true},{xtype:\"selectfield\",name:\"beerstyle\",id:\"selectfieldbeerstyle\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSESTYLE,options:i18n.beerstyles},{xtype:\"selectfield\",name:\"grad\",id:\"selectfieldgrad\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSEGRAD,store:null,options:i18n.beergrads},{xtype:\"selectfield\",name:\"nationality\",id:\"selectfieldnationality\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSENATIONALITY,},{xtype:\"textareafield\",name:\"description\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSEDESCRIPTION,}]},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"beer_back_btn\",handler:this.onBeerBackButtonTap,scope:this};var c={xtype:\"button\",text:i18n.app.BTN_SAVE,ui:\"action\",id:\"beer_save_btn\",handler:this.onBeerSaveButtonTap,scope:this};var b={xtype:\"toolbar\",cls:\"sub_titlebar\",title:i18n.app.PANEL_ADDBEERPANEL,docked:\"top\",items:[a,{xtype:\"spacer\"},c]};this.add([b]);Ext.getCmp(\"selectfieldnationality\").setOptions(i18n.countries)},onBeerSaveButtonTap:function(){this.fireEvent(\"beerSaveCommand\",this)},onBeerBackButtonTap:function(){this.fireEvent(\"beerBackCommand\",this)}});Ext.define(\"B2B.view.Beer_Detail\",{extend:\"Ext.form.Panel\",id:\"BeerDetail\",xtype:\"beerdetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_BEERDETAIL,iconCls:\"add\"},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"beerdetail_back_btn\",handler:this.onBeerDetailBackButtonTap,scope:this},c={xtype:\"button\",text:i18n.app.BTN_BEERREPORT,ui:\"action\",id:\"beer_report_btn\",handler:this.onBeerReportButtonTap,scope:this},e={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[a,{xtype:\"spacer\"},c]},c={xtype:\"button\",text:i18n.app.BTN_BEERREPORT,ui:\"action\",id:\"beer_report_btn\",handler:this.onBeerReportButtonTap,scope:this},d={xtype:\"button\",text:i18n.app.BTN_ADDBEERFAVORITE,ui:\"action\",id:\"favorites_addbeer_btn\",handler:this.onFavoritesAddBeerButtonTap,scope:this,},b={xtype:\"container\",html:this.getStringHTMLFromValues(this.jsonData.data)};this.add([e,b,d])},getStringHTMLFromValues:function(b){var a=\"\";if(b.image!==null&&b.image!==\"\"){a+='<img id=\"beer_thumbnail\" src=\"'+b.image+'\" /><hr />'}a+=\"<p>\"+i18n.app.LABEL_BEERNAME+\": <span>\"+_.titleize(b.name)+\"</span></p>\";if(b.brewery){a+=\"<p>\"+i18n.app.LABEL_BEERBREWERY+\": <span>\"+_.titleize(b.brewery)+\"</span></p>\"}if(b.beerstyle){a+=\"<p>\"+i18n.app.LABEL_BEERSTYLE+\": <span>\"+utils.getBeerStyleFromCode(parseInt(b.beerstyle))+\"</span></p>\"}if(b.beertype){a+=\"<p>\"+i18n.app.LABEL_BEERTYPE+\": <span>\"+utils.getBeerTypeFromCode(parseInt(b.beertype))+\"</span></p>\"}if(b.grad){a+=\"<p>\"+i18n.app.LABEL_BEERGRAD+\": <span>\"+b.grad+\"</span></p>\"}if(b.nationality){a+=\"<p>\"+i18n.app.LABEL_BEERNATIONALITY+\": <span>\"+utils.getCountryFromCode(b.nationality)+\"</span></p>\"}if(b.description){a+=\"<p>\"+i18n.app.LABEL_BEERDESCRIPTION+\": <span>\"+b.description+\"</span></p>\"}return a},onBeerReportButtonTap:function(){this.fireEvent(\"reportBeerCommand\",this)},onFavoritesAddBeerButtonTap:function(){this.fireEvent(\"addFavoriteBeerCommand\",this,this.jsonData.data)},onBeerDetailBackButtonTap:function(){this.fireEvent(\"backBeerDetailCommand\",this)}});Ext.define(\"B2B.view.Place_Detail\",{extend:\"Ext.form.Panel\",id:\"PlaceDetail\",xtype:\"placedetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\",\"Ext.ux.starrating.StarRating\"],config:{title:i18n.app.PANEL_PLACE,iconCls:\"add\",layout:\"vbox\"},initialize:function(){this.callParent(arguments);var d=this.jsonData,c=function(){var g=\"\";if(!_.isEmpty(d.image)){g+='<img class=\"avatar_medium\" src=\"'+d.image+'\" />'}else{g+='<img class=\"avatar_medium\" src=\"'+HH.default_user64+'\" />'}g+=\"<h1>\"+d.placeName+\"</p>\";g+=\"<p>\"+d.url+\"</p>\";g+=\"<p>\"+d.category+\"</p>\";return g},b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"placedetail_back_btn\",handler:this.onPlaceDetailBackButtonTap,scope:this},f={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b]},e={xtype:\"container\",id:\"placeDetailContent\",html:c(d),flex:1},a={xtype:\"starrating\",itemsCount:10,label:\"\",value:5,valueCls:\"x-starrating-value\",itemCls:\"x-starrating\",itemHoverCls:\"x-starrating-hover\",height:40};this.add([f,e,a,{xtype:\"spacer\"}])},onPlaceDetailBackButtonTap:function(){this.fireEvent(\"backPlaceDetailCommand\",this)},onSelectBeerButtonTap:function(){this.fireEvent(\"selectBeerDrinkCommand\",this)},onDrinkInButtonTap:function(){this.fireEvent(\"onDrinkInCommand\",this)}});Ext.define(\"B2B.view.Favorites_List_Container\",{extend:\"Ext.form.Panel\",id:\"favoritespanel\",xtype:\"favoritespanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FAVORITESPANEL,iconCls:\"add\",layout:\"vbox\"},initialize:function(){this.callParent(arguments);var c={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"favorites_back_btn\",handler:this.onFavoritesBackButtonTap,scope:this},b={xtype:\"button\",text:i18n.app.BTN_ADDFAVORITE,ui:\"action\",id:\"favorites_add_btn\",handler:this.onFavoritesAddButtonTap,scope:this,docked:\"bottom\"},d={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[c]},e={xtype:\"favoriteslistcomponent\",store:Ext.getStore(\"FavoriteBeers_Local\"),flex:1},a={xtype:\"panel\",flex:1,layout:{type:\"vbox\"},items:[e,b]};this.add([d,a])},onFavoritesBackButtonTap:function(){this.fireEvent(\"backFavoritesCommand\",this)},onFavoritesAddButtonTap:function(){this.fireEvent(\"jumptoBeerCommand\",this)}});Ext.define(\"B2B.view.Friend_Finder\",{extend:\"Ext.form.Panel\",id:\"FriendFinder\",xtype:\"friendfinderpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FRIENDFINDER,iconCls:\"add\",items:[]},initialize:function(){this.callParent(arguments);var b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"friendfinder_back_btn\",handler:this.onFriendFinderBackButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b,]};this.add([a])},onFriendFinderBackButtonTap:function(){this.fireEvent(\"backFriendFinderCommand\",this)}});Ext.define(\"B2B.view.Friend_Detail\",{extend:\"Ext.form.Panel\",id:\"FriendDetail\",xtype:\"frienddetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FRIENDDETAIL,iconCls:\"add\",items:[]},initialize:function(){this.callParent(arguments);var d={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"frienddetail_back_btn\",handler:this.onFriendDetailBackButtonTap,scope:this},b={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[d]},c={text:i18n.app.BTN_REMOVE,ui:\"action\",id:\"delete_profile_btn\",handler:this.onDeleteProfileButtonTap,scope:this},a=this.getStringHTMLFromValues(this.jsonData.data);this.add([b,c]);this.setHtml([a])},getStringHTMLFromValues:function(b){var a=\"\";if(_.isEmpty(b.image)){a+='<img class=\"avatar_small\" src=\"'+HH.default_user64+'\" width=\"200\" height=\"200\" />'}a+='<div class=\"profile-detail\">';a+=\"<p>\"+i18n.app.HTML_NAME+\": <b>\"+b.firstName+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_SURNAME+\": <b>\"+b.lastName+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_ALIAS+\": <b>\"+b.displayName+\"</b></p>\";a+=\"<hr />\";a+=\"<p>\"+i18n.app.HTML_EMAIL+\": <b>\"+b.email+\"</b></p>\";a+=\"<hr />\";a+=\"<p>\"+i18n.app.HTML_NFRIENDS+\": <b>\"+b.counter_friends+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_CHECKINS+\": <b>\"+b.counter_checkIns+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_BADGES+\": <b>\"+b.counter_badges+\"</b></p>\";a+=\"</div>\";return a},onFriendDetailBackButtonTap:function(){this.fireEvent(\"backFriendDetailCommand\",this)},onFriendRemoveBackButtonTap:function(){this.fireEvent(\"removeFriendDetailCommand\",this)}});Ext.define(\"Ext.picker.Date\",{extend:\"Ext.picker.Picker\",xtype:\"datepicker\",alternateClassName:\"Ext.DatePicker\",requires:[\"Ext.DateExtras\"],config:{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:\"Month\",dayText:\"Day\",yearText:\"Year\",slotOrder:[\"month\",\"day\",\"year\"]},initialize:function(){this.callParent();this.on({scope:this,delegate:\"> slot\",slotpick:this.onSlotPick})},setValue:function(b,a){if(Ext.isDate(b)){b={day:b.getDate(),month:b.getMonth()+1,year:b.getFullYear()}}this.callParent([b,a])},getValue:function(k){var h={},e=this.getItems().items,d=e.length,a,g,c,f,j,b;for(b=0;b<d;b++){j=e[b];if(j instanceof Ext.picker.Slot){h[j.getName()]=j.getValue(k)}}if(h.year===null&&h.month===null&&h.day===null){return null}f=Ext.isNumber(h.year)?h.year:1;c=Ext.isNumber(h.month)?h.month:1;g=Ext.isNumber(h.day)?h.day:1;if(c&&f&&c&&g){a=this.getDaysInMonth(c,f)}g=(a)?Math.min(g,a):g;return new Date(f,c-1,g)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(a,b){var f=this.getInnerItems,e=f.length,d,c;if(this.initialized){for(c=0;c<e;c++){d=f[c];if((typeof d.title==\"string\"&&d.title==b)||(d.title.html==b)){d.setTitle(a)}}}},updateDayText:function(a,c){var f=this.getInnerItems,e=f.length,d,b;if(this.initialized){for(b=0;b<e;b++){d=f[b];if((typeof d.title==\"string\"&&d.title==c)||(d.title.html==c)){d.setTitle(a)}}}},updateYearText:function(e){var d=this.getInnerItems,c=d.length,b,a;if(this.initialized){for(a=0;a<c;a++){b=d[a];if(b.title==this.yearText){b.setTitle(e)}}}},constructor:function(){this.callParent(arguments);this.createSlots()},createSlots:function(){var k=this,c=this.getSlotOrder(),m=k.getYearFrom(),f=k.getYearTo(),g=[],l=[],b=[],j,e,d,a;if(m>f){e=m;m=f;f=e}for(d=m;d<=f;d++){g.push({text:d,value:d})}a=this.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:d+1,value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var h=[];c.forEach(function(i){h.push(this.createSlot(i,l,b,g))},this);k.setSlots(h)},createSlot:function(b,d,a,c){switch(b){case\"year\":return{name:\"year\",align:\"center\",data:c,title:this.getYearText(),flex:3};case\"month\":return{name:b,align:\"right\",data:a,title:this.getMonthText(),flex:4};case\"day\":return{name:\"day\",align:\"center\",data:d,title:this.getDayText(),flex:2}}},onSlotPick:function(){var g=this.getValue(true),f=this.getDaySlot(),e=g.getFullYear(),d=g.getMonth(),j=[],a,b;if(!g||!Ext.isDate(g)||!f){return}a=this.getDaysInMonth(d+1,e);for(b=0;b<a;b++){j.push({text:b+1,value:b+1})}if(f.getData().length==j.length){return}var h=f.getStore(),m=f.getViewItems(),l=f.getValueField(),c,k;f.setData(j);c=h.find(l,g.getDate());if(c==-1){return}k=Ext.get(m[c]);f.selectedIndex=c;f.scrollToItem(k)},getDaySlot:function(){var c=this.getInnerItems(),b=c.length,a,d;if(this.daySlot){return this.daySlot}for(a=0;a<b;a++){d=c[a];if(d.isSlot&&d.getName()==\"day\"){this.daySlot=d;return d}}return null},getDaysInMonth:function(c,b){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)))},onDoneButtonTap:function(){var a=this._value,c=this.getValue(true),b=c;if(Ext.isDate(c)){b=c.toDateString()}if(Ext.isDate(a)){a=a.toDateString()}if(b!=a){this.fireEvent(\"change\",this,c)}this.hide()}});Ext.define(\"Ext.field.DatePicker\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.DatePicker\",xtype:\"datepickerfield\",requires:[\"Ext.picker.Date\",\"Ext.DateExtras\"],config:{ui:\"select\",picker:true,clearIcon:false,destroyPickerOnHide:false,dateFormat:null,component:{useMask:true}},initialize:function(){this.callParent();this.getComponent().on({scope:this,masktap:\"onMaskTap\"});this.getComponent().input.dom.disabled=true},syncEmptyCls:Ext.emptyFn,applyValue:function(a){if(!Ext.isDate(a)&&!Ext.isObject(a)){return null}if(Ext.isObject(a)){return new Date(a.year,a.month-1,a.day)}return a},updateValue:function(b){var a=this._picker;if(a&&a.isPicker){a.setValue(b)}if(b!==null){this.getComponent().setValue(Ext.Date.format(b,this.getDateFormat()||Ext.util.Format.defaultDateFormat))}else{this.getComponent().setValue(\"\")}if(this._picker&&this._picker instanceof Ext.picker.Date){this._picker.setValue(b)}},updateDateFormat:function(c,a){var b=this.getValue();if(c!=a&&Ext.isDate(b)){this.getComponent().setValue(Ext.Date.format(b,c||Ext.util.Format.defaultDateFormat))}},getValue:function(){if(this._picker&&this._picker instanceof Ext.picker.Date){return this._picker.getValue()}return this._value},getFormattedValue:function(b){var a=this.getValue();return(Ext.isDate(a))?Ext.Date.format(a,b||this.getDateFormat()||Ext.util.Format.defaultDateFormat):a},applyPicker:function(b,a){if(a&&a.isPicker){b=a.setConfig(b)}return b},getPicker:function(){var a=this._picker,b=this.getValue();if(a&&!a.isPicker){a=Ext.factory(a,Ext.picker.Date);if(b!=null){a.setValue(b)}}a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});Ext.Viewport.add(a);this._picker=a;return a},onMaskTap:function(){if(this.getDisabled()){return false}if(this.getReadOnly()){return false}this.getPicker().show();return false},onPickerChange:function(a,c){var b=this;b.setValue(c);b.fireEvent(\"change\",b,b.getValue())},onPickerHide:function(){var a=this.getPicker();if(this.getDestroyPickerOnHide()&&a){a.destroy();this._picker=true}},reset:function(){this.setValue(this.originalValue)},destroy:function(){var a=this._picker;if(a&&a.isPicker){a.destroy()}this.callParent(arguments)}},function(){this.override({getValue:function(a){if(a){Ext.Logger.deprecate(\"format argument of the getValue method is deprecated, please use getFormattedValue instead\",this);return this.getFormattedValue(a)}return this.callOverridden()}});Ext.deprecateMethod(this,\"getDatePicker\",\"getPicker\")});Ext.define(\"B2B.view.User_Form\",{extend:\"Ext.form.Panel\",xtype:\"userform\",id:\"userform\",requires:[\"Ext.form.FieldSet\",\"Ext.field.Hidden\",\"Ext.field.DatePicker\",\"Ext.field.Select\",\"Ext.field.Toggle\",\"Ext.Img\",\"Ext.ActionSheet\"],config:{title:i18n.app.PANEL_PROFILEEDIT,iconCls:\"settings6\",url:\"/cippa.php\",items:[{xtype:\"panel\",layout:{type:\"hbox\",align:\"strech\"},defaults:{flex:\"1\"},items:[{xtype:\"image\",name:\"image\",id:\"ProfileImage\",src:HH.default_user64,width:64,margin:10,mode:\"element\",listeners:{tap:function(b,a){if(!this.actions){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:i18n.app.BTN_CHOOSEPICTURE,scope:this,ui:\"confirm\",handler:function(){Ext.getCmp(\"userform\").fireEvent(\"chooseProfilePictureCommand\",this,Ext.getCmp(\"ProfileImage\"));this.actions.hide()}},{text:i18n.app.BTN_REMOVEPICTURE,scope:this,ui:\"decline\",handler:function(){Ext.getCmp(\"ProfileImage\").setSrc(HH.default_user64);this.actions.hide()}},{text:i18n.app.BTN_CANCEL,scope:this,handler:function(){this.actions.hide()}}]})}this.actions.show()}}},{xtype:\"fieldset\",title:i18n.app.FORM_ACCOUNT,instructions:i18n.app.HINT_DISPLAYNAME,flex:1,items:[{xtype:\"hiddenfield\",name:\"idUser\"},{xtype:\"hiddenfield\",name:\"pwdHash\"},{xtype:\"hiddenfield\",name:\"role\"},{xtype:\"hiddenfield\",name:\"status\"},{xtype:\"textfield\",name:\"username\",label:i18n.app.FORM_USERNAME,disabled:true},{xtype:\"textfield\",name:\"email\",label:i18n.app.FORM_EMAIL,disabled:true},{xtype:\"textfield\",name:\"displayName\",label:i18n.app.FORM_DISPLAYNAME}]}]},{xtype:\"fieldset\",title:i18n.app.FORM_PROFILE,items:[{xtype:\"textfield\",name:\"firstName\",label:i18n.app.FORM_FIRSTNAME,placeHolder:i18n.app.HINT_CHOOSEFIRSTNAME,},{xtype:\"textfield\",name:\"lastName\",label:i18n.app.FORM_LASTNAME,},{xtype:\"textfield\",name:\"description\",label:i18n.app.FORM_DESCRIPTION,},{xtype:\"datepickerfield\",destroyPickerOnHide:true,name:\"birthDay\",label:i18n.app.FORM_BIRTHDATE,placeHolder:i18n.app.HINT_CHOOSEBIRTHDATE,yearFrom:1940},{xtype:\"selectfield\",name:\"gender\",label:i18n.app.FORM_GENDER,placeHolder:i18n.app.HINT_CHOOSEGENDER,options:[{text:i18n.app.LABEL_UNDISCLOSED,value:0},{text:i18n.app.LABEL_MALE,value:1},{text:i18n.app.LABEL_FEMALE,value:2}]},{xtype:\"selectfield\",name:\"nationality\",cls:\"nation\",label:i18n.app.FORM_NATIONALITY,placeHolder:i18n.app.HINT_CHOOSENATIONALITY,options:i18n.countries}]},{xtype:\"fieldset\",items:[{xtype:\"textfield\",name:\"activatedOn\",id:\"activatedOnField\",label:i18n.app.FORM_ACTIVATEDON,disabled:true},{xtype:\"textfield\",name:\"lastLoginOn\",id:\"lastLoginOnField\",label:i18n.app.FORM_LASTLOGINON,disabled:true}]}]},initialize:function(){this.callParent(arguments);var c={text:i18n.app.BTN_SAVE,ui:\"action\",id:\"save_profile_btn\",handler:this.onSaveProfileButtonTap,scope:this},a={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_profile_btn\",handler:this.onBackProfileButtonTap,scope:this},b={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_PROFILEEDIT,id:\"ProfileFormTitlebar\",defaults:{iconMask:true},items:[a,{xtype:\"spacer\"},c]};this.add([b])},onSaveProfileButtonTap:function(){this.fireEvent(\"saveProfileCommand\",this)},onBackProfileButtonTap:function(){this.fireEvent(\"backProfileCommand\",this)}});Ext.define(\"Ext.data.proxy.WebStorage\",{extend:\"Ext.data.proxy.Client\",alternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer:null},constructor:function(a){this.callParent(arguments);this.cache={};if(this.getStorageObject()===undefined){Ext.Logger.error(\"Local Storage is not supported in this browser, please use another type of data proxy\")}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];if(!this.getModel().getIdentifier().isUnique){Ext.Logger.warn(\"Your identifier generation strategy for the model does not ensure unique id's. Please use the UUID strategy, or implement your own identifier strategy with the flag isUnique.\")}b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(e,j,k){var c=[],a=this.getIds(),h=this.getModel(),l=h.getIdProperty(),d=e.getParams()||{},b=a.length,f,g;if(d[l]!==undefined){g=this.getRecord(d[l]);if(g){c.push(g);e.setSuccessful()}}else{for(f=0;f<b;f++){c.push(this.getRecord(a[f]))}e.setSuccessful()}e.setCompleted();e.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:c,total:c.length,loaded:true}));e.setRecords(c);if(typeof j==\"function\"){j.call(k||this,e)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);b.setCompleted();b.setSuccessful();if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(k,d){if(d){k.setId(d)}else{d=k.getId()}var m=this,a=k.getData(),j={},f=m.getModel(),l=f.getFields().items,e=l.length,h=0,n,c,g,o,b;for(;h<e;h++){n=l[h];c=n.getName();if(typeof n.getEncode()==\"function\"){j[c]=n.getEncode()(a[c],k)}else{if(n.getType().type==\"date\"&&Ext.isDate(a[c])){b=n.getDateFormat();if(b){j[c]=Ext.Date.format(a[c],b)}else{j[c]=a[c].getTime()}}else{j[c]=a[c]}}}g=m.getStorageObject();o=m.getRecordKey(d);m.cache[d]=k;g.removeItem(o);g.setItem(o,Ext.encode(j));k.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format(\"{0}-counter\",this.getId())},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(b){var c=this.getStorageObject(),d=b.join(\",\"),e=this.getId(),a=this.getRecordCounterKey();c.removeItem(e);if(Ext.isEmpty(d)){c.removeItem(a)}else{c.setItem(e,d)}},initialize:function(){this.callParent(arguments);var a=this.getStorageObject();a.setItem(this.getId(),a.getItem(this.getId())||\"\")},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b])}d.removeItem(this.getRecordCounterKey());d.removeItem(this.getId())},getStorageObject:function(){Ext.Logger.error(\"The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass\")}});Ext.define(\"Ext.data.proxy.LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage}});Ext.define(\"B2B.store.Notifications_Ajax\",{extend:\"Ext.data.Store\",id:\"Notifications_Ajax\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"B2B.model.Notification\",proxy:{type:\"ajax\",url:\"json/mock_notificationlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},autoload:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Friends Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Store.Notification_Ajax, copying to Local\");var b=Ext.getStore(\"Notifications_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Activities_Local\",{extend:\"Ext.data.Store\",id:\"Activities_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"B2B.model.Activity\",proxy:{type:\"localstorage\",},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Activity_Local\")}}}});Ext.define(\"B2B.store.Friends_Local\",{extend:\"Ext.data.Store\",id:\"Friends_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoload:true,autosync:true,model:\"B2B.model.Friend\",sorters:\"displayName\",grouper:function(a){return(a.get(\"displayName\")[0]).toUpperCase()},proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Friends Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Friend_Local\")}}}});Ext.define(\"B2B.store.Profile_Local\",{extend:\"Ext.data.Store\",id:\"Profile_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoLoad:true,autoSync:true,model:\"B2B.model.User\",proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},load:function(b,a,c){HH.log(\"* Loaded: Store.Profile_Local\")}}},});Ext.define(\"B2B.store.Drinks_Local\",{extend:\"Ext.data.Store\",id:\"Drinks_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoload:true,autosync:true,model:\"B2B.model.Drink\",proxy:{type:\"localstorage\",},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,a,c){}}}});Ext.define(\"B2B.store.FavoriteBeers_Local\",{extend:\"Ext.data.Store\",id:\"FavoriteBeers_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoLoad:true,autoSync:true,model:\"B2B.model.FavoriteBeer\",proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},load:function(b,a,c){HH.log(\"* Loaded: Store.FavoriteBeers_Local\")}}}});Ext.define(\"Ext.data.Validations\",{alternateClassName:\"Ext.data.validations\",singleton:true,config:{presenceMessage:\"must be present\",lengthMessage:\"is the wrong length\",formatMessage:\"is the wrong format\",inclusionMessage:\"is not included in the list of acceptable values\",exclusionMessage:\"is not an acceptable value\",emailMessage:\"is not a valid email address\"},constructor:function(a){this.initConfig(a)},getMessage:function(a){var b=this[\"get\"+a[0].toUpperCase()+a.slice(1)+\"Message\"];if(b){return b.call(this)}return\"\"},emailRe:/^\\s*[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\@[\\w\\-\\+_]+\\.[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\s*$/,presence:function(a,b){if(arguments.length===1){b=a}return !!b||b===0},length:function(b,e){if(e===undefined||e===null){return false}var d=e.length,c=b.min,a=b.max;if((c&&d<c)||(a&&d>a)){return false}else{return true}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){if(b===undefined||b===null){b=\"\"}return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define(\"B2B.model.User\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idUser\",type:\"string\"},{name:\"username\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"firstName\",type:\"string\"},{name:\"lastName\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"email\",type:\"email\"},{name:\"gender\",type:\"int\",defaultValue:0},{name:\"nationality\",type:\"string\"},{name:\"birthDate\",type:\"date\",dateformat:\"c\"},{name:\"avatar\",type:\"string\",defaultValue:\"resources/images/defaultAvatar.jpg\"},{name:\"shareFacebook\",type:\"boolean\",defaultValue:false},{name:\"shareTwitter\",type:\"boolean\",defaultValue:false},{name:\"enableNotification\",type:\"boolean\",defaultValue:false},{name:\"role\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"pwdHash\",type:\"string\"},{name:\"activatedOn\",type:\"date\",dateformat:\"c\"},{name:\"lastLoginOn\",type:\"date\",dateformat:\"c\"},{name:\"favorites\",type:\"string\",defaultValue:\"\"},{name:\"liked\",type:\"string\",defaultValue:\"\"},{name:\"counterCheckIns\",type:\"int\",defaultValue:0},{name:\"counterFriends\",type:\"int\",defaultValue:0},{name:\"counterBadges\",type:\"int\",defaultValue:0},{name:\"hashBeerlist\",type:\"string\"},{name:\"hashFriendlist\",type:\"string\"},{name:\"hashNotificationlist\",type:\"string\"}],validations:[{type:\"presence\",field:\"displayName\"}]}});Ext.define(\"B2B.model.Friend\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idUser\",type:\"string\"},{name:\"username\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"firstName\",type:\"string\"},{name:\"lastName\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"email\",type:\"email\"},{name:\"gender\",type:\"int\",defaultValue:0},{name:\"nationality\",type:\"string\"},{name:\"birthDate\",type:\"date\",dateformat:\"c\"},{name:\"avatar\",type:\"string\",defaultValue:\"resources/images/defaultAvatar.jpg\"},{name:\"role\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"activatedOn\",type:\"date\",dateformat:\"c\"},{name:\"lastLoginOn\",type:\"date\",dateformat:\"c\"},{name:\"badges\",type:\"string\",defaultValue:\"\"},{name:\"favorites\",type:\"string\",defaultValue:\"\"},{name:\"liked\",type:\"string\",defaultValue:\"\"},{name:\"counterCheckIns\",type:\"int\",defaultValue:0},{name:\"counterFriends\",type:\"int\",defaultValue:0},{name:\"counterBadges\",type:\"int\",defaultValue:0},],validations:[{type:\"presence\",field:\"displayName\"}]}});Ext.define(\"B2B.model.Beer\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBeer\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"name\",type:\"string\"},{name:\"brewery\",type:\"string\"},{name:\"nationality\",type:\"string\"},{name:\"beertype\",type:\"string\"},{name:\"beerstyle\",type:\"string\"},{name:\"grad\",type:\"float\"},{name:\"image\",type:\"string\"},{name:\"status\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},{name:\"param1\",type:\"int\",defaultValue:1},{name:\"param2\",type:\"int\",defaultValue:1},{name:\"param3\",type:\"int\",defaultValue:1}],validations:[]}});Ext.define(\"B2B.model.Drink\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idDrink\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"rate\",type:\"int\"},{name:\"rate2\",type:\"int\"},{name:\"rate3\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"}],validations:[{type:\"presence\",field:\"idDrink\"}]}});Ext.define(\"B2B.model.Activity\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idActivity\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"idFriend\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"friendName\",type:\"string\"},{name:\"jumpTo\",type:\"string\"},{name:\"type\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"like\",type:\"int\"},{name:\"date\",type:\"date\",dateformat:\"c\"}],validations:[]}});Ext.define(\"B2B.model.Notification\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idNotification\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"idFriend\",type:\"string\"},{name:\"friendName\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"targetName\",type:\"string\"},{name:\"type\",type:\"int\"},{name:\"jumpTo\",type:\"string\"},{name:\"status\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},],validations:[{type:\"presence\",field:\"idNotification\"}]}});Ext.define(\"B2B.model.Place\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"lat\",type:\"string\"},{name:\"lng\",type:\"string\"},{name:\"url\",type:\"string\"},{name:\"drinkedIn\",type:\"int\"},{name:\"category\",type:\"string\"},],validations:[{type:\"presence\",field:\"idPlace\"}]}});Ext.define(\"B2B.model.BeerSingle\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBeer\",type:\"string\"},{name:\"name\",type:\"string\"}],validations:[]}});Ext.define(\"B2B.model.Feedback\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idFeedback\",type:\"string\"},{name:\"rate\",type:\"int\"},{name:\"rate2\",type:\"int\"},{name:\"rate3\",type:\"int\"},{name:\"comment\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idTarget\",type:\"string\"},{name:\"targetName\",type:\"string\"},{name:\"type\",type:\"string\"},{name:\"like\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},],validations:[{type:\"presence\",field:\"idFeedback\"}]}});Ext.define(\"B2B.model.Badge\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBadge\",type:\"string\"},{name:\"title\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"imageUrl\",type:\"string\"},{name:\"active\",type:\"boolean\"}],validations:[{type:\"presence\",field:\"idBadge\"}]}});Ext.define(\"Ext.data.ArrayStore\",{extend:\"Ext.data.Store\",alias:\"store.array\",uses:[\"Ext.data.reader.Array\"],config:{proxy:{type:\"memory\",reader:\"array\"}},loadData:function(b,a){this.callParent([b,a])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define(\"Ext.data.reader.Array\",{extend:\"Ext.data.reader.Json\",alternateClassName:\"Ext.data.ArrayReader\",alias:\"reader.array\",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessExpression:function(g,c,b){var f=this,e=g.getMapping(),d=(e==null)?f.getModel().getFields().indexOf(g):e,a;if(typeof d===\"function\"){a=c+\".getMapping()(\"+b+\", this)\"}else{if(isNaN(d)){d='\"'+d+'\"'}a=b+\"[\"+d+\"]\"}return a}});Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath(\"Ext.ux\",\"./ux\");Ext.Loader.setPath(\"Ext\",\"./sdk/src\");Ext.application({name:\"B2B\",models:[\"User\",\"Friend\",\"Beer\",\"Drink\",\"Activity\",\"Notification\",\"Place\",\"BeerSingle\",\"Feedback\",\"Badge\",\"FavoriteBeer\"],controllers:[\"_App\",\"_Login\",\"Friends\",\"Activities\",\"Profiles\",\"Beers\",\"Drinks\",\"Notifications\",\"Preferences\",\"Privacy\",\"Places\",\"Feedbacks\",\"Camera\",\"Badges\",\"Favorites\"],stores:[\"Activities_Ajax\",\"Beers_Ajax\",\"Friends_Ajax\",\"Profile_Ajax\",\"Notifications_Ajax\",\"Places_Ajax\",\"Drinks_Ajax\",\"Activities_User_Ajax\",\"Activities_Local\",\"Friends_Local\",\"Profile_Local\",\"Notifications_Local\",\"Drinks_Local\",\"Feedback_Ajax\",\"Badges_Ajax\",\"DrinkInCheckIn_Ajax\",\"FavoriteBeers_Local\"],views:[\"_App\",\"_Login\",\"_App_Slider\",\"_appcontainer\",\"_SplashBeerSearch\",\"Activity\",\"Activity_List\",\"Activity_List_Detail\",\"Activity_User\",\"Beer\",\"Beer_List\",\"Beer_Search\",\"Beer_Add_Form\",\"Beer_Detail\",\"Beer_List_SelectContainer\",\"Beer_List_SelectSearchComponent\",\"Beer_List_Select\",\"Drink_AroundMe\",\"DrinkInCheckIn_List\",\"Place_List\",\"Place_Detail\",\"Favorites_List\",\"Favorites_List_Container\",\"Feedback_Container\",\"Feedback_Form\",\"Feedback_List\",\"Friend_Finder\",\"Friend_List_Container\",\"Friend_List\",\"Friend_Search\",\"Friend_Detail\",\"Notification_Container\",\"Notification_List\",\"User_Container\",\"User\",\"User_Form\",\"User_Privacy_Form\",\"User_Preferences_Form\",\"View_Terms\",\"View_Whatsnew\",\"View_AboutUs\",\"Component_IOSToggle\",\"Component_NotificationBar\",\"Camera_Container\",\"Camera_Picker\",\"Badge_List\",\"Badge_List_Container\",\"Badge_Detail\"],icon:{\"57\":\"resources/icons/Icon.png\",\"72\":\"resources/icons/Icon~ipad.png\",\"114\":\"resources/icons/Icon@2x.png\",\"144\":\"resources/icons/Icon~ipad@2x.png\"},isIconPrecomposed:true,startupImage:{\"320x460\":\"resources/startup/320x460.png\",\"640x920\":\"resources/startup/640x920.png\",\"768x1004\":\"resources/startup/768x1004.png\",\"748x1024\":\"resources/startup/748x1024.png\",\"1536x2008\":\"resources/startup/1536x2008.png\",\"1496x2048\":\"resources/startup/1496x2048.png\"},launch:function(){HH.log(\"---> Step: app.js:launch()\");goingTo.step1(\"Loading Store.Profile\");var a=Ext.getStore(\"Profile_Local\");if(a&&a.getCount()<1){HH.log(\"---+ Check: ProfileStore Empty - Show view._login\");Ext.Viewport.add(Ext.create(\"B2B.view._Login\"))}else{HH.log(\"---+ Check: ProfileStore OK, loading view._App\");goingTo.step2(\"Loading Store.Profile_Ajax\");Ext.Viewport.add(Ext.create(\"B2B.view._App\"))}},onUpdated:function(){if(window.confirm(i18n.app.HINT_APPLICATIONRELOADED)){window.location.reload()}}});\n",
			"file": "app-all.js",
			"file_size": 562412,
			"file_write_time": 129909097983527663,
			"settings":
			{
				"buffer_size": 562403,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/controller/Activities.js",
			"settings":
			{
				"buffer_size": 836,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "{\n    \"projectName\": \"Project Name\",\n    \"licenseText\": \"Copyright(c) 2012 Company Name\",\n    \"builds\": [\n        {\n            \"name\": \"All Classes\",\n            \"target\": \"all-classes.js\",\n            \"options\": {\n                \"debug\": true\n            },\n            \"files\": [\n                {\n                    \"clsName\": \"Ext.event.ListenerStack\",\n                    \"name\": \"ListenerStack.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.Controller\",\n                    \"name\": \"Controller.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.Publisher\",\n                    \"name\": \"Publisher.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.Event\",\n                    \"name\": \"Event.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.Dispatcher\",\n                    \"name\": \"Dispatcher.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.Dom\",\n                    \"name\": \"Dom.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.Dom\",\n                    \"name\": \"Dom.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Point\",\n                    \"name\": \"Point.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.Touch\",\n                    \"name\": \"Touch.js\",\n                    \"path\": \"./sdk/src/event/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.TouchGesture\",\n                    \"name\": \"TouchGesture.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Recognizer\",\n                    \"name\": \"Recognizer.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Touch\",\n                    \"name\": \"Touch.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.SingleTouch\",\n                    \"name\": \"SingleTouch.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Drag\",\n                    \"name\": \"Drag.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Tap\",\n                    \"name\": \"Tap.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.DoubleTap\",\n                    \"name\": \"DoubleTap.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.LongPress\",\n                    \"name\": \"LongPress.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Swipe\",\n                    \"name\": \"Swipe.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.HorizontalSwipe\",\n                    \"name\": \"HorizontalSwipe.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.MultiTouch\",\n                    \"name\": \"MultiTouch.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Pinch\",\n                    \"name\": \"Pinch.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.recognizer.Rotate\",\n                    \"name\": \"Rotate.js\",\n                    \"path\": \"./sdk/src/event/recognizer/\"\n                },\n                {\n                    \"clsName\": \"Ext.ComponentQuery\",\n                    \"name\": \"ComponentQuery.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.ComponentManager\",\n                    \"name\": \"ComponentManager.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Mixin\",\n                    \"name\": \"Mixin.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.behavior.Behavior\",\n                    \"name\": \"Behavior.js\",\n                    \"path\": \"./sdk/src/behavior/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Observable\",\n                    \"name\": \"Observable.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.XTemplateParser\",\n                    \"name\": \"XTemplateParser.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Traversable\",\n                    \"name\": \"Traversable.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.Evented\",\n                    \"name\": \"Evented.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.AbstractComponent\",\n                    \"name\": \"AbstractComponent.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.XTemplateCompiler\",\n                    \"name\": \"XTemplateCompiler.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.DateExtras\",\n                    \"name\": \"DateExtras.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Format\",\n                    \"name\": \"Format.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.Template\",\n                    \"name\": \"Template.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.XTemplate\",\n                    \"name\": \"XTemplate.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.SizeMonitor\",\n                    \"name\": \"SizeMonitor.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.Linear\",\n                    \"name\": \"Linear.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.translatable.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/util/translatable/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.translatable.CssTransform\",\n                    \"name\": \"CssTransform.js\",\n                    \"path\": \"./sdk/src/util/translatable/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.translatable.ScrollPosition\",\n                    \"name\": \"ScrollPosition.js\",\n                    \"path\": \"./sdk/src/util/translatable/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Translatable\",\n                    \"name\": \"Translatable.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.behavior.Translatable\",\n                    \"name\": \"Translatable.js\",\n                    \"path\": \"./sdk/src/behavior/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Draggable\",\n                    \"name\": \"Draggable.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.behavior.Draggable\",\n                    \"name\": \"Draggable.js\",\n                    \"path\": \"./sdk/src/behavior/\"\n                },\n                {\n                    \"clsName\": \"Ext.Component\",\n                    \"name\": \"Component.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.ComponentDelegation\",\n                    \"name\": \"ComponentDelegation.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.ComponentPaint\",\n                    \"name\": \"ComponentPaint.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.event.publisher.ComponentSize\",\n                    \"name\": \"ComponentSize.js\",\n                    \"path\": \"./sdk/src/event/publisher/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.Base\",\n                    \"name\": \"Base.js\",\n                    \"path\": \"./sdk/src/log/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.Logger\",\n                    \"name\": \"Logger.js\",\n                    \"path\": \"./sdk/src/log/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.formatter.Formatter\",\n                    \"name\": \"Formatter.js\",\n                    \"path\": \"./sdk/src/log/formatter/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.writer.Writer\",\n                    \"name\": \"Writer.js\",\n                    \"path\": \"./sdk/src/log/writer/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.writer.Console\",\n                    \"name\": \"Console.js\",\n                    \"path\": \"./sdk/src/log/writer/\"\n                },\n                {\n                    \"clsName\": \"Ext.log.formatter.Default\",\n                    \"name\": \"Default.js\",\n                    \"path\": \"./sdk/src/log/formatter/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.State\",\n                    \"name\": \"State.js\",\n                    \"path\": \"./sdk/src/fx/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.Slide\",\n                    \"name\": \"Slide.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.SlideOut\",\n                    \"name\": \"SlideOut.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.Fade\",\n                    \"name\": \"Fade.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.FadeOut\",\n                    \"name\": \"FadeOut.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.Flip\",\n                    \"name\": \"Flip.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.Pop\",\n                    \"name\": \"Pop.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.animation.PopOut\",\n                    \"name\": \"PopOut.js\",\n                    \"path\": \"./sdk/src/fx/animation/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.Animation\",\n                    \"name\": \"Animation.js\",\n                    \"path\": \"./sdk/src/fx/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.runner.Css\",\n                    \"name\": \"Css.js\",\n                    \"path\": \"./sdk/src/fx/runner/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.runner.CssTransition\",\n                    \"name\": \"CssTransition.js\",\n                    \"path\": \"./sdk/src/fx/runner/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.Runner\",\n                    \"name\": \"Runner.js\",\n                    \"path\": \"./sdk/src/fx/\"\n                },\n                {\n                    \"clsName\": \"Ext.Mask\",\n                    \"name\": \"Mask.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.Default\",\n                    \"name\": \"Default.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.AbstractBox\",\n                    \"name\": \"AbstractBox.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Filter\",\n                    \"name\": \"Filter.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Sorter\",\n                    \"name\": \"Sorter.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.EaseOut\",\n                    \"name\": \"EaseOut.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.Momentum\",\n                    \"name\": \"Momentum.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.Bounce\",\n                    \"name\": \"Bounce.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.indicator.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/scroll/indicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.LoadMask\",\n                    \"name\": \"LoadMask.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.Fit\",\n                    \"name\": \"Fit.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.HBox\",\n                    \"name\": \"HBox.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.VBox\",\n                    \"name\": \"VBox.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.AbstractMixedCollection\",\n                    \"name\": \"AbstractMixedCollection.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Sortable\",\n                    \"name\": \"Sortable.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.MixedCollection\",\n                    \"name\": \"MixedCollection.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.ItemCollection\",\n                    \"name\": \"ItemCollection.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Scroll\",\n                    \"name\": \"Scroll.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.easing.BoundMomentum\",\n                    \"name\": \"BoundMomentum.js\",\n                    \"path\": \"./sdk/src/fx/easing/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.Scroller\",\n                    \"name\": \"Scroller.js\",\n                    \"path\": \"./sdk/src/scroll/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.indicator.Default\",\n                    \"name\": \"Default.js\",\n                    \"path\": \"./sdk/src/scroll/indicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.indicator.ScrollPosition\",\n                    \"name\": \"ScrollPosition.js\",\n                    \"path\": \"./sdk/src/scroll/indicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.indicator.CssTransform\",\n                    \"name\": \"CssTransform.js\",\n                    \"path\": \"./sdk/src/scroll/indicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.Indicator\",\n                    \"name\": \"Indicator.js\",\n                    \"path\": \"./sdk/src/scroll/\"\n                },\n                {\n                    \"clsName\": \"Ext.scroll.View\",\n                    \"name\": \"View.js\",\n                    \"path\": \"./sdk/src/scroll/\"\n                },\n                {\n                    \"clsName\": \"Ext.behavior.Scrollable\",\n                    \"name\": \"Scrollable.js\",\n                    \"path\": \"./sdk/src/behavior/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Style\",\n                    \"name\": \"Style.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Slide\",\n                    \"name\": \"Slide.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Cover\",\n                    \"name\": \"Cover.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Reveal\",\n                    \"name\": \"Reveal.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Fade\",\n                    \"name\": \"Fade.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Flip\",\n                    \"name\": \"Flip.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.card.Pop\",\n                    \"name\": \"Pop.js\",\n                    \"path\": \"./sdk/src/fx/layout/card/\"\n                },\n                {\n                    \"clsName\": \"Ext.fx.layout.Card\",\n                    \"name\": \"Card.js\",\n                    \"path\": \"./sdk/src/fx/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.Card\",\n                    \"name\": \"Card.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.layout.Layout\",\n                    \"name\": \"Layout.js\",\n                    \"path\": \"./sdk/src/layout/\"\n                },\n                {\n                    \"clsName\": \"Ext.Container\",\n                    \"name\": \"Container.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.viewport.Default\",\n                    \"name\": \"Default.js\",\n                    \"path\": \"./sdk/src/viewport/\"\n                },\n                {\n                    \"clsName\": \"Ext.viewport.Ios\",\n                    \"name\": \"Ios.js\",\n                    \"path\": \"./sdk/src/viewport/\"\n                },\n                {\n                    \"clsName\": \"Ext.viewport.Android\",\n                    \"name\": \"Android.js\",\n                    \"path\": \"./sdk/src/viewport/\"\n                },\n                {\n                    \"clsName\": \"Ext.viewport.Viewport\",\n                    \"name\": \"Viewport.js\",\n                    \"path\": \"./sdk/src/viewport/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Controller\",\n                    \"name\": \"Controller.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.History\",\n                    \"name\": \"History.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Profile\",\n                    \"name\": \"Profile.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Action\",\n                    \"name\": \"Action.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Route\",\n                    \"name\": \"Route.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Router\",\n                    \"name\": \"Router.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"Ext.app.Application\",\n                    \"name\": \"Application.js\",\n                    \"path\": \"./sdk/src/app/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.User\",\n                    \"name\": \"User.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Component_NotificationBar\",\n                    \"name\": \"Component_NotificationBar.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Camera_Container\",\n                    \"name\": \"Camera_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller._App\",\n                    \"name\": \"_App.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller._Login\",\n                    \"name\": \"_Login.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Friends\",\n                    \"name\": \"Friends.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Activities\",\n                    \"name\": \"Activities.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Profiles\",\n                    \"name\": \"Profiles.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Beers\",\n                    \"name\": \"Beers.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Drinks\",\n                    \"name\": \"Drinks.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Notifications\",\n                    \"name\": \"Notifications.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Preferences\",\n                    \"name\": \"Preferences.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Privacy\",\n                    \"name\": \"Privacy.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Places\",\n                    \"name\": \"Places.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Feedbacks\",\n                    \"name\": \"Feedbacks.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Camera\",\n                    \"name\": \"Camera.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Badges\",\n                    \"name\": \"Badges.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"B2B.controller.Favorites\",\n                    \"name\": \"Favorites.js\",\n                    \"path\": \"app/controller/\"\n                },\n                {\n                    \"clsName\": \"Ext.ux.toolbarspinner.TSpinner\",\n                    \"name\": \"TSpinner.js\",\n                    \"path\": \"./ux/toolbarspinner/\"\n                },\n                {\n                    \"clsName\": \"Ext.Img\",\n                    \"name\": \"Img.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.plugin.PullRefresh\",\n                    \"name\": \"PullRefresh.js\",\n                    \"path\": \"./sdk/src/plugin/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.identifier.Simple\",\n                    \"name\": \"Simple.js\",\n                    \"path\": \"./sdk/src/data/identifier/\"\n                },\n                {\n                    \"clsName\": \"Ext.Button\",\n                    \"name\": \"Button.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.LineSegment\",\n                    \"name\": \"LineSegment.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.Title\",\n                    \"name\": \"Title.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.Spacer\",\n                    \"name\": \"Spacer.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.IndexBar\",\n                    \"name\": \"IndexBar.js\",\n                    \"path\": \"./sdk/src/dataview/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.ListItemHeader\",\n                    \"name\": \"ListItemHeader.js\",\n                    \"path\": \"./sdk/src/dataview/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Geolocation\",\n                    \"name\": \"Geolocation.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.carousel.Indicator\",\n                    \"name\": \"Indicator.js\",\n                    \"path\": \"./sdk/src/carousel/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Operation\",\n                    \"name\": \"Operation.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Grouper\",\n                    \"name\": \"Grouper.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.JsonP\",\n                    \"name\": \"JsonP.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Sortable\",\n                    \"name\": \"Sortable.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Filterable\",\n                    \"name\": \"Filterable.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.SortTypes\",\n                    \"name\": \"SortTypes.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Inflector\",\n                    \"name\": \"Inflector.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Error\",\n                    \"name\": \"Error.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Connection\",\n                    \"name\": \"Connection.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.tab.Tab\",\n                    \"name\": \"Tab.js\",\n                    \"path\": \"./sdk/src/tab/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.communicator.Default\",\n                    \"name\": \"Default.js\",\n                    \"path\": \"./sdk/src/device/communicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.communicator.Android\",\n                    \"name\": \"Android.js\",\n                    \"path\": \"./sdk/src/device/communicator/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.camera.Abstract\",\n                    \"name\": \"Abstract.js\",\n                    \"path\": \"./sdk/src/device/camera/\"\n                },\n                {\n                    \"clsName\": \"Ext.mixin.Selectable\",\n                    \"name\": \"Selectable.js\",\n                    \"path\": \"./sdk/src/mixin/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.element.Container\",\n                    \"name\": \"Container.js\",\n                    \"path\": \"./sdk/src/dataview/element/\"\n                },\n                {\n                    \"clsName\": \"Ext.Decorator\",\n                    \"name\": \"Decorator.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Input\",\n                    \"name\": \"Input.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Request\",\n                    \"name\": \"Request.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.HashMap\",\n                    \"name\": \"HashMap.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.component.DataItem\",\n                    \"name\": \"DataItem.js\",\n                    \"path\": \"./sdk/src/dataview/component/\"\n                },\n                {\n                    \"clsName\": \"Ext.slider.Thumb\",\n                    \"name\": \"Thumb.js\",\n                    \"path\": \"./sdk/src/slider/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Batch\",\n                    \"name\": \"Batch.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.writer.Writer\",\n                    \"name\": \"Writer.js\",\n                    \"path\": \"./sdk/src/data/writer/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.ResultSet\",\n                    \"name\": \"ResultSet.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"B2B.view._SplashBeerSearch\",\n                    \"name\": \"_SplashBeerSearch.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.identifier.Uuid\",\n                    \"name\": \"Uuid.js\",\n                    \"path\": \"./sdk/src/data/identifier/\"\n                },\n                {\n                    \"clsName\": \"Ext.Panel\",\n                    \"name\": \"Panel.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Feedback_Container\",\n                    \"name\": \"Feedback_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Friend_List_Container\",\n                    \"name\": \"Friend_List_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Notification_Container\",\n                    \"name\": \"Notification_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Badge_List_Container\",\n                    \"name\": \"Badge_List_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.Toolbar\",\n                    \"name\": \"Toolbar.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.TitleBar\",\n                    \"name\": \"TitleBar.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Activity\",\n                    \"name\": \"Activity.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.SegmentedButton\",\n                    \"name\": \"SegmentedButton.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer\",\n                    \"name\": \"Beer.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_List_SelectContainer\",\n                    \"name\": \"Beer_List_SelectContainer.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.Map\",\n                    \"name\": \"Map.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Drink_AroundMe\",\n                    \"name\": \"Drink_AroundMe.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.form.FieldSet\",\n                    \"name\": \"FieldSet.js\",\n                    \"path\": \"./sdk/src/form/\"\n                },\n                {\n                    \"clsName\": \"Ext.util.Collection\",\n                    \"name\": \"Collection.js\",\n                    \"path\": \"./sdk/src/util/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Errors\",\n                    \"name\": \"Errors.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.navigation.Bar\",\n                    \"name\": \"Bar.js\",\n                    \"path\": \"./sdk/src/navigation/\"\n                },\n                {\n                    \"clsName\": \"Ext.navigation.View\",\n                    \"name\": \"View.js\",\n                    \"path\": \"./sdk/src/navigation/\"\n                },\n                {\n                    \"clsName\": \"B2B.view._App\",\n                    \"name\": \"_App.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.Ajax\",\n                    \"name\": \"Ajax.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.Sheet\",\n                    \"name\": \"Sheet.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.ActionSheet\",\n                    \"name\": \"ActionSheet.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.tab.Bar\",\n                    \"name\": \"Bar.js\",\n                    \"path\": \"./sdk/src/tab/\"\n                },\n                {\n                    \"clsName\": \"Ext.tab.Panel\",\n                    \"name\": \"Panel.js\",\n                    \"path\": \"./sdk/src/tab/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.Communicator\",\n                    \"name\": \"Communicator.js\",\n                    \"path\": \"./sdk/src/device/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.camera.PhoneGap\",\n                    \"name\": \"PhoneGap.js\",\n                    \"path\": \"./sdk/src/device/camera/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.camera.Sencha\",\n                    \"name\": \"Sencha.js\",\n                    \"path\": \"./sdk/src/device/camera/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.camera.Simulator\",\n                    \"name\": \"Simulator.js\",\n                    \"path\": \"./sdk/src/device/camera/\"\n                },\n                {\n                    \"clsName\": \"Ext.device.Camera\",\n                    \"name\": \"Camera.js\",\n                    \"path\": \"./sdk/src/device/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.element.List\",\n                    \"name\": \"List.js\",\n                    \"path\": \"./sdk/src/dataview/element/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.StoreManager\",\n                    \"name\": \"StoreManager.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Field\",\n                    \"name\": \"Field.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.ux.starrating.StarRating\",\n                    \"name\": \"StarRating.js\",\n                    \"path\": \"./ux/starrating/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Checkbox\",\n                    \"name\": \"Checkbox.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.form.Panel\",\n                    \"name\": \"Panel.js\",\n                    \"path\": \"./sdk/src/form/\"\n                },\n                {\n                    \"clsName\": \"B2B.view._Login\",\n                    \"name\": \"_Login.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Feedback_Form\",\n                    \"name\": \"Feedback_Form.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.User_Privacy_Form\",\n                    \"name\": \"User_Privacy_Form.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.View_Terms\",\n                    \"name\": \"View_Terms.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.View_Whatsnew\",\n                    \"name\": \"View_Whatsnew.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.View_AboutUs\",\n                    \"name\": \"View_AboutUs.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Badge_Detail\",\n                    \"name\": \"Badge_Detail.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Text\",\n                    \"name\": \"Text.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Search\",\n                    \"name\": \"Search.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_Search\",\n                    \"name\": \"Beer_Search.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_List_SelectSearchComponent\",\n                    \"name\": \"Beer_List_SelectSearchComponent.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Friend_Search\",\n                    \"name\": \"Friend_Search.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Hidden\",\n                    \"name\": \"Hidden.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Password\",\n                    \"name\": \"Password.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.User_Preferences_Form\",\n                    \"name\": \"User_Preferences_Form.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.carousel.Item\",\n                    \"name\": \"Item.js\",\n                    \"path\": \"./sdk/src/carousel/\"\n                },\n                {\n                    \"clsName\": \"Ext.carousel.Carousel\",\n                    \"name\": \"Carousel.js\",\n                    \"path\": \"./sdk/src/carousel/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.User_Container\",\n                    \"name\": \"User_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Types\",\n                    \"name\": \"Types.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Field\",\n                    \"name\": \"Field.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.AbstractManager\",\n                    \"name\": \"AbstractManager.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.ModelManager\",\n                    \"name\": \"ModelManager.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.association.Association\",\n                    \"name\": \"Association.js\",\n                    \"path\": \"./sdk/src/data/association/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.association.HasMany\",\n                    \"name\": \"HasMany.js\",\n                    \"path\": \"./sdk/src/data/association/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.association.BelongsTo\",\n                    \"name\": \"BelongsTo.js\",\n                    \"path\": \"./sdk/src/data/association/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.association.HasOne\",\n                    \"name\": \"HasOne.js\",\n                    \"path\": \"./sdk/src/data/association/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.TextAreaInput\",\n                    \"name\": \"TextAreaInput.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.TextArea\",\n                    \"name\": \"TextArea.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.MessageBox\",\n                    \"name\": \"MessageBox.js\",\n                    \"path\": \"./sdk/src/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.component.Container\",\n                    \"name\": \"Container.js\",\n                    \"path\": \"./sdk/src/dataview/component/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.DataView\",\n                    \"name\": \"DataView.js\",\n                    \"path\": \"./sdk/src/dataview/\"\n                },\n                {\n                    \"clsName\": \"Ext.dataview.List\",\n                    \"name\": \"List.js\",\n                    \"path\": \"./sdk/src/dataview/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Activity_List\",\n                    \"name\": \"Activity_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Activity_User\",\n                    \"name\": \"Activity_User.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_List\",\n                    \"name\": \"Beer_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_List_Select\",\n                    \"name\": \"Beer_List_Select.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.DrinkInCheckIn_List\",\n                    \"name\": \"DrinkInCheckIn_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Place_List\",\n                    \"name\": \"Place_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Favorites_List\",\n                    \"name\": \"Favorites_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Feedback_List\",\n                    \"name\": \"Feedback_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Friend_List\",\n                    \"name\": \"Friend_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Notification_List\",\n                    \"name\": \"Notification_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Badge_List\",\n                    \"name\": \"Badge_List.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.slider.Slider\",\n                    \"name\": \"Slider.js\",\n                    \"path\": \"./sdk/src/slider/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Slider\",\n                    \"name\": \"Slider.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"Ext.slider.Toggle\",\n                    \"name\": \"Toggle.js\",\n                    \"path\": \"./sdk/src/slider/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Toggle\",\n                    \"name\": \"Toggle.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Component_IOSToggle\",\n                    \"name\": \"Component_IOSToggle.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.writer.Json\",\n                    \"name\": \"Json.js\",\n                    \"path\": \"./sdk/src/data/writer/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.reader.Reader\",\n                    \"name\": \"Reader.js\",\n                    \"path\": \"./sdk/src/data/reader/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.reader.Json\",\n                    \"name\": \"Json.js\",\n                    \"path\": \"./sdk/src/data/reader/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.Proxy\",\n                    \"name\": \"Proxy.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.Server\",\n                    \"name\": \"Server.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.JsonP\",\n                    \"name\": \"JsonP.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.Ajax\",\n                    \"name\": \"Ajax.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Model\",\n                    \"name\": \"Model.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.FavoriteBeer\",\n                    \"name\": \"FavoriteBeer.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.Client\",\n                    \"name\": \"Client.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.Memory\",\n                    \"name\": \"Memory.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Store\",\n                    \"name\": \"Store.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Activities_Ajax\",\n                    \"name\": \"Activities_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Beers_Ajax\",\n                    \"name\": \"Beers_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Friends_Ajax\",\n                    \"name\": \"Friends_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Profile_Ajax\",\n                    \"name\": \"Profile_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Places_Ajax\",\n                    \"name\": \"Places_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Drinks_Ajax\",\n                    \"name\": \"Drinks_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Activities_User_Ajax\",\n                    \"name\": \"Activities_User_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Notifications_Local\",\n                    \"name\": \"Notifications_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Feedback_Ajax\",\n                    \"name\": \"Feedback_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Badges_Ajax\",\n                    \"name\": \"Badges_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.DrinkInCheckIn_Ajax\",\n                    \"name\": \"DrinkInCheckIn_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"Ext.ux.slidenavigation.SlideNavigation\",\n                    \"name\": \"SlideNavigation.js\",\n                    \"path\": \"./ux/slidenavigation/\"\n                },\n                {\n                    \"clsName\": \"B2B.view._App_Slider\",\n                    \"name\": \"_App_Slider.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view._appcontainer\",\n                    \"name\": \"_appcontainer.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.picker.Slot\",\n                    \"name\": \"Slot.js\",\n                    \"path\": \"./sdk/src/picker/\"\n                },\n                {\n                    \"clsName\": \"Ext.picker.Picker\",\n                    \"name\": \"Picker.js\",\n                    \"path\": \"./sdk/src/picker/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Camera_Picker\",\n                    \"name\": \"Camera_Picker.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.Select\",\n                    \"name\": \"Select.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Activity_List_Detail\",\n                    \"name\": \"Activity_List_Detail.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_Add_Form\",\n                    \"name\": \"Beer_Add_Form.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Beer_Detail\",\n                    \"name\": \"Beer_Detail.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Place_Detail\",\n                    \"name\": \"Place_Detail.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Favorites_List_Container\",\n                    \"name\": \"Favorites_List_Container.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Friend_Finder\",\n                    \"name\": \"Friend_Finder.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.Friend_Detail\",\n                    \"name\": \"Friend_Detail.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.picker.Date\",\n                    \"name\": \"Date.js\",\n                    \"path\": \"./sdk/src/picker/\"\n                },\n                {\n                    \"clsName\": \"Ext.field.DatePicker\",\n                    \"name\": \"DatePicker.js\",\n                    \"path\": \"./sdk/src/field/\"\n                },\n                {\n                    \"clsName\": \"B2B.view.User_Form\",\n                    \"name\": \"User_Form.js\",\n                    \"path\": \"app/view/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.WebStorage\",\n                    \"name\": \"WebStorage.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.proxy.LocalStorage\",\n                    \"name\": \"LocalStorage.js\",\n                    \"path\": \"./sdk/src/data/proxy/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Notifications_Ajax\",\n                    \"name\": \"Notifications_Ajax.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Activities_Local\",\n                    \"name\": \"Activities_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Friends_Local\",\n                    \"name\": \"Friends_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Profile_Local\",\n                    \"name\": \"Profile_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.Drinks_Local\",\n                    \"name\": \"Drinks_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"B2B.store.FavoriteBeers_Local\",\n                    \"name\": \"FavoriteBeers_Local.js\",\n                    \"path\": \"app/store/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.Validations\",\n                    \"name\": \"Validations.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.User\",\n                    \"name\": \"User.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Friend\",\n                    \"name\": \"Friend.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Beer\",\n                    \"name\": \"Beer.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Drink\",\n                    \"name\": \"Drink.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Activity\",\n                    \"name\": \"Activity.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Notification\",\n                    \"name\": \"Notification.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Place\",\n                    \"name\": \"Place.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.BeerSingle\",\n                    \"name\": \"BeerSingle.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Feedback\",\n                    \"name\": \"Feedback.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"B2B.model.Badge\",\n                    \"name\": \"Badge.js\",\n                    \"path\": \"app/model/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.ArrayStore\",\n                    \"name\": \"ArrayStore.js\",\n                    \"path\": \"./sdk/src/data/\"\n                },\n                {\n                    \"clsName\": \"Ext.data.reader.Array\",\n                    \"name\": \"Array.js\",\n                    \"path\": \"./sdk/src/data/reader/\"\n                }\n            ]\n        },\n        {\n            \"name\": \"Application - Production\",\n            \"target\": \"app-all.js\",\n            \"compress\": true,\n            \"files\": [\n                {\n                    \"path\": \"\",\n                    \"name\": \"all-classes.js\"\n                },\n                {\n                    \"path\": \"\",\n                    \"name\": \"app.js\"\n                }\n            ]\n        }\n    ],\n    \"resources\": []\n}",
			"file": "app.jsb3",
			"file_size": 59434,
			"file_write_time": 129909097985246752,
			"settings":
			{
				"buffer_size": 59432,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "{\n	\"auto_complete\":\n	{\n		\"selected_items\":\n		[\n			[\n				\"get\",\n				\"getStringHTMLFromValues\"\n			],\n			[\n				\"ur\",\n				\"url(image-url.gif)\"\n			],\n			[\n				\"padding\",\n				\"padding-left\"\n			],\n			[\n				\"margin\",\n				\"margin-top\"\n			],\n			[\n				\"act\",\n				\"activityStreams\"\n			],\n			[\n				\"myl\",\n				\"myLastDrinkInPanel\"\n			],\n			[\n				\"json\",\n				\"jsonData\"\n			],\n			[\n				\"jso\",\n				\"jsonData\"\n			],\n			[\n				\"getIma\",\n				\"getImage1URL\"\n			],\n			[\n				\"ti\",\n				\"title\"\n			],\n			[\n				\"aci\",\n				\"activityStreams\"\n			],\n			[\n				\"searchinfo\",\n				\"searchinfobar\"\n			],\n			[\n				\"sea\",\n				\"searchinfoBar\"\n			],\n			[\n				\"sele\",\n				\"selectBeerNationality\"\n			],\n			[\n				\"selec\",\n				\"selectBeerGrad\"\n			],\n			[\n				\"bac\",\n				\"background-repeat\"\n			],\n			[\n				\"margi\",\n				\"margin-top\"\n			],\n			[\n				\"confir\",\n				\"confirmation\"\n			],\n			[\n				\"action\",\n				\"actions\"\n			],\n			[\n				\"matche\",\n				\"matched\"\n			],\n			[\n				\"ma\",\n				\"matched\"\n			],\n			[\n				\"match\",\n				\"matchedhistory\"\n			],\n			[\n				\"o\",\n				\"onListItemTap\"\n			],\n			[\n				\"container\",\n				\"profile_container\"\n			],\n			[\n				\"geo\",\n				\"geoStore\"\n			],\n			[\n				\"Notifi\",\n				\"Notifications_Ajax\"\n			],\n			[\n				\"Friend\",\n				\"Friends_Local\"\n			],\n			[\n				\"store\",\n				\"store_local\"\n			],\n			[\n				\"On\",\n				\"onItemDisclosure\"\n			],\n			[\n				\"on\",\n				\"onBackFriendDetail\"\n			],\n			[\n				\"Sync\",\n				\"SyncBeer\"\n			],\n			[\n				\"che\",\n				\"CheckWhatsNew\"\n			],\n			[\n				\"Notif\",\n				\"Notifications_Ajax\"\n			],\n			[\n				\"Beers\",\n				\"Beers_Ajax\"\n			],\n			[\n				\"fi\",\n				\"firstName\"\n			],\n			[\n				\"data\",\n				\"dataJSON\"\n			],\n			[\n				\"notifica\",\n				\"notificationContainer\"\n			],\n			[\n				\"coun\",\n				\"counter_badges\"\n			],\n			[\n				\"V\",\n				\"View_Terms\"\n			],\n			[\n				\"User\",\n				\"User_Container\"\n			],\n			[\n				\"las\",\n				\"lastLoginOn\"\n			],\n			[\n				\"to\",\n				\"toUpperCase\"\n			],\n			[\n				\"acti\",\n				\"activityStream\"\n			],\n			[\n				\"actvit\",\n				\"Activity\"\n			],\n			[\n				\"frie\",\n				\"Friends\"\n			],\n			[\n				\"CONT\",\n				\"CONST_String\"\n			],\n			[\n				\"P\",\n				\"PANEL_PREFERENCES\"\n			],\n			[\n				\"DA\",\n				\"PANEL_DASHBOARD\"\n			],\n			[\n				\"language\",\n				\"language_string\"\n			],\n			[\n				\"langua\",\n				\"language_string\"\n			],\n			[\n				\"addFriend\",\n				\"addFriendButton\"\n			],\n			[\n				\"N\",\n				\"NOTIFICATION_OK\"\n			],\n			[\n				\"STAT\",\n				\"STATUS_OK\"\n			],\n			[\n				\"if\",\n				\"ifelse	if … else …\"\n			],\n			[\n				\"profile\",\n				\"User\"\n			]\n		]\n	},\n	\"buffers\":\n	[\n		{\n			\"file\": \"sdk/microloader/development.js\",\n			\"settings\":\n			{\n				\"buffer_size\": 2688,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"resources/sass/app.scss\",\n			\"settings\":\n			{\n				\"buffer_size\": 25494,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"contents\": \"Searching 1307 files for \\\" pictos-iconmask\\\" (regex, case sensitive)\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\all-classes.js:\\n 27216   * - home\\n 27217   *\\n 27218:  * You can also use other pictos icons by using the {@link Global_CSS#pictos-iconmask pictos-iconmask} mixin in your SASS.\\n 27219   *\\n 27220   * ## Badges\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\resources\\\\sass\\\\app.scss:\\n  669  @include sencha-list-pullrefresh;\\n  670  \\n  671: @include pictos-iconmask('list');\\n  672: @include pictos-iconmask('chat4');\\n  673: @include pictos-iconmask('trash');\\n  674: @include pictos-iconmask('user_list');\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\sencha-touch-all.js:\\n 55501   * - home\\n 55502   *\\n 55503:  * You can also use other pictos icons by using the {@link Global_CSS#pictos-iconmask pictos-iconmask} mixin in your SASS.\\n 55504   *\\n 55505   * ## Badges\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\css-debug\\\\android.css:\\n  372   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n  373   *\\n  374:  *     @include pictos-iconmask('attachment');\\n  375   *\\n  376   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n  ...\\n 1133   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1134   *\\n 1135:  *     @include pictos-iconmask('attachment');\\n 1136   *\\n 1137   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1485   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1486   *\\n 1487:  *     @include pictos-iconmask('attachment');\\n 1488   *\\n 1489   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1837   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1838   *\\n 1839:  *     @include pictos-iconmask('attachment');\\n 1840   *\\n 1841   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2225   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2226   *\\n 2227:  *     @include pictos-iconmask('attachment');\\n 2228   *\\n 2229   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2619   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2620   *\\n 2621:  *     @include pictos-iconmask('attachment');\\n 2622   *\\n 2623   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3054   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3055   *\\n 3056:  *     @include pictos-iconmask('attachment');\\n 3057   *\\n 3058   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3435   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3436   *\\n 3437:  *     @include pictos-iconmask('attachment');\\n 3438   *\\n 3439   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3805   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3806   *\\n 3807:  *     @include pictos-iconmask('attachment');\\n 3808   *\\n 3809   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4208   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4209   *\\n 4210:  *     @include pictos-iconmask('attachment');\\n 4211   *\\n 4212   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4560   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4561   *\\n 4562:  *     @include pictos-iconmask('attachment');\\n 4563   *\\n 4564   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4989   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4990   *\\n 4991:  *     @include pictos-iconmask('attachment');\\n 4992   *\\n 4993   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5368   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5369   *\\n 5370:  *     @include pictos-iconmask('attachment');\\n 5371   *\\n 5372   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5754   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5755   *\\n 5756:  *     @include pictos-iconmask('attachment');\\n 5757   *\\n 5758   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 6111   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 6112   *\\n 6113:  *     @include pictos-iconmask('attachment');\\n 6114   *\\n 6115   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\css-debug\\\\apple.css:\\n  372   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n  373   *\\n  374:  *     @include pictos-iconmask('attachment');\\n  375   *\\n  376   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n  ...\\n 1132   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1133   *\\n 1134:  *     @include pictos-iconmask('attachment');\\n 1135   *\\n 1136   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1484   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1485   *\\n 1486:  *     @include pictos-iconmask('attachment');\\n 1487   *\\n 1488   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1836   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1837   *\\n 1838:  *     @include pictos-iconmask('attachment');\\n 1839   *\\n 1840   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2224   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2225   *\\n 2226:  *     @include pictos-iconmask('attachment');\\n 2227   *\\n 2228   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2618   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2619   *\\n 2620:  *     @include pictos-iconmask('attachment');\\n 2621   *\\n 2622   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3053   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3054   *\\n 3055:  *     @include pictos-iconmask('attachment');\\n 3056   *\\n 3057   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3434   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3435   *\\n 3436:  *     @include pictos-iconmask('attachment');\\n 3437   *\\n 3438   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3804   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3805   *\\n 3806:  *     @include pictos-iconmask('attachment');\\n 3807   *\\n 3808   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4207   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4208   *\\n 4209:  *     @include pictos-iconmask('attachment');\\n 4210   *\\n 4211   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4559   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4560   *\\n 4561:  *     @include pictos-iconmask('attachment');\\n 4562   *\\n 4563   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4988   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4989   *\\n 4990:  *     @include pictos-iconmask('attachment');\\n 4991   *\\n 4992   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5367   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5368   *\\n 5369:  *     @include pictos-iconmask('attachment');\\n 5370   *\\n 5371   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5753   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5754   *\\n 5755:  *     @include pictos-iconmask('attachment');\\n 5756   *\\n 5757   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 6110   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 6111   *\\n 6112:  *     @include pictos-iconmask('attachment');\\n 6113   *\\n 6114   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\css-debug\\\\bb6.css:\\n  372   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n  373   *\\n  374:  *     @include pictos-iconmask('attachment');\\n  375   *\\n  376   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n  ...\\n 1129   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1130   *\\n 1131:  *     @include pictos-iconmask('attachment');\\n 1132   *\\n 1133   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1481   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1482   *\\n 1483:  *     @include pictos-iconmask('attachment');\\n 1484   *\\n 1485   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1833   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1834   *\\n 1835:  *     @include pictos-iconmask('attachment');\\n 1836   *\\n 1837   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2221   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2222   *\\n 2223:  *     @include pictos-iconmask('attachment');\\n 2224   *\\n 2225   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2615   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2616   *\\n 2617:  *     @include pictos-iconmask('attachment');\\n 2618   *\\n 2619   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3050   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3051   *\\n 3052:  *     @include pictos-iconmask('attachment');\\n 3053   *\\n 3054   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3431   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3432   *\\n 3433:  *     @include pictos-iconmask('attachment');\\n 3434   *\\n 3435   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3801   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3802   *\\n 3803:  *     @include pictos-iconmask('attachment');\\n 3804   *\\n 3805   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4204   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4205   *\\n 4206:  *     @include pictos-iconmask('attachment');\\n 4207   *\\n 4208   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4556   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4557   *\\n 4558:  *     @include pictos-iconmask('attachment');\\n 4559   *\\n 4560   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4985   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4986   *\\n 4987:  *     @include pictos-iconmask('attachment');\\n 4988   *\\n 4989   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5364   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5365   *\\n 5366:  *     @include pictos-iconmask('attachment');\\n 5367   *\\n 5368   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5750   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5751   *\\n 5752:  *     @include pictos-iconmask('attachment');\\n 5753   *\\n 5754   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 6107   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 6108   *\\n 6109:  *     @include pictos-iconmask('attachment');\\n 6110   *\\n 6111   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\css-debug\\\\sencha-touch.css:\\n  372   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n  373   *\\n  374:  *     @include pictos-iconmask('attachment');\\n  375   *\\n  376   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n  ...\\n 1132   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1133   *\\n 1134:  *     @include pictos-iconmask('attachment');\\n 1135   *\\n 1136   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1484   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1485   *\\n 1486:  *     @include pictos-iconmask('attachment');\\n 1487   *\\n 1488   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 1836   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 1837   *\\n 1838:  *     @include pictos-iconmask('attachment');\\n 1839   *\\n 1840   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2224   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2225   *\\n 2226:  *     @include pictos-iconmask('attachment');\\n 2227   *\\n 2228   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 2618   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 2619   *\\n 2620:  *     @include pictos-iconmask('attachment');\\n 2621   *\\n 2622   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3053   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3054   *\\n 3055:  *     @include pictos-iconmask('attachment');\\n 3056   *\\n 3057   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3434   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3435   *\\n 3436:  *     @include pictos-iconmask('attachment');\\n 3437   *\\n 3438   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 3804   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 3805   *\\n 3806:  *     @include pictos-iconmask('attachment');\\n 3807   *\\n 3808   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4207   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4208   *\\n 4209:  *     @include pictos-iconmask('attachment');\\n 4210   *\\n 4211   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4559   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4560   *\\n 4561:  *     @include pictos-iconmask('attachment');\\n 4562   *\\n 4563   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 4988   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 4989   *\\n 4990:  *     @include pictos-iconmask('attachment');\\n 4991   *\\n 4992   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5367   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5368   *\\n 5369:  *     @include pictos-iconmask('attachment');\\n 5370   *\\n 5371   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 5753   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 5754   *\\n 5755:  *     @include pictos-iconmask('attachment');\\n 5756   *\\n 5757   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n ....\\n 6110   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n 6111   *\\n 6112:  *     @include pictos-iconmask('attachment');\\n 6113   *\\n 6114   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\themes\\\\stylesheets\\\\sencha-touch\\\\default\\\\_mixins.scss:\\n   12   * Includes a base64-encoded icon for use within tab bars and buttons (With the component parameter iconMask: true).\\n   13   *\\n   14:  *     @include pictos-iconmask('attachment');\\n   15   *\\n   16   * @param {string} $name The name of the icon to be included. This is to match the name of the icon file (located at resources/themes/images/default/pictos) without its extention (.png).\\n   17   */\\n   18: @mixin pictos-iconmask($name) {\\n   19    .x-tab .x-button-icon.#{$name},\\n   20    .x-button .x-button-icon.x-icon-mask.#{$name} {\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\themes\\\\stylesheets\\\\sencha-touch\\\\default\\\\widgets\\\\_buttons.scss:\\n  293  \\n  294    @if $include-default-icons {\\n  295:     @include pictos-iconmask('action');\\n  296:     @include pictos-iconmask('add');\\n  297:     @include pictos-iconmask('arrow_down');\\n  298:     @include pictos-iconmask('arrow_left');\\n  299:     @include pictos-iconmask('arrow_right');\\n  300:     @include pictos-iconmask('arrow_up');\\n  301:     @include pictos-iconmask('compose');\\n  302:     @include pictos-iconmask('delete');\\n  303:     @include pictos-iconmask('organize');\\n  304:     @include pictos-iconmask('refresh');\\n  305:     @include pictos-iconmask('reply');\\n  306:     @include pictos-iconmask('search');\\n  307:     @include pictos-iconmask('settings');\\n  308:     @include pictos-iconmask('star');\\n  309:     @include pictos-iconmask('trash');\\n  310:     @include pictos-iconmask('maps');\\n  311:     @include pictos-iconmask('locate');\\n  312:     @include pictos-iconmask('home');\\n  313    }\\n  314  \\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\resources\\\\themes\\\\stylesheets\\\\sencha-touch\\\\default\\\\widgets\\\\_tabs.scss:\\n  193  \\n  194    @if $include-default-icons {\\n  195:     @include pictos-iconmask('bookmarks');\\n  196:     @include pictos-iconmask('download');\\n  197:     @include pictos-iconmask('favorites');\\n  198:     @include pictos-iconmask('info');\\n  199:     @include pictos-iconmask('more');\\n  200:     @include pictos-iconmask('time');\\n  201:     @include pictos-iconmask('user');\\n  202:     @include pictos-iconmask('team');\\n  203    }\\n  204  }\\n\\nC:\\\\Users\\\\HC\\\\Documents\\\\GitHub\\\\B2B\\\\iPhone\\\\B2B\\\\www\\\\sdk\\\\src\\\\Button.js:\\n   52   * - home\\n   53   *\\n   54:  * You can also use other pictos icons by using the {@link Global_CSS#pictos-iconmask pictos-iconmask} mixin in your SASS.\\n   55   *\\n   56   * ## Badges\\n\\n95 matches across 11 files\\n\",\n			\"settings\":\n			{\n				\"buffer_size\": 27634,\n				\"line_ending\": \"Windows\",\n				\"name\": \"Find Results\",\n				\"scratch\": true\n			}\n		},\n		{\n			\"file\": \"index.html\",\n			\"settings\":\n			{\n				\"buffer_size\": 1301,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"index_prod.html\",\n			\"settings\":\n			{\n				\"buffer_size\": 1308,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"i18n/B2B-en-US.js\",\n			\"settings\":\n			{\n				\"buffer_size\": 23175,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"app/view/_appcontainer.js\",\n			\"settings\":\n			{\n				\"buffer_size\": 1934,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"resources/css/app.css\",\n			\"settings\":\n			{\n				\"buffer_size\": 205469,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"resources/js/hh.js\",\n			\"settings\":\n			{\n				\"buffer_size\": 5795,\n				\"line_ending\": \"Windows\"\n			}\n		},\n		{\n			\"file\": \"app.js\",\n			\"settings\":\n			{\n				\"buffer_size\": 3068,\n				\"line_ending\": \"Windows\"\n			}\n		}\n	],\n	\"build_system\": \"\",\n	\"command_palette\":\n	{\n		\"height\": 58.0,\n		\"selected_items\":\n		[\n			[\n				\"Package Control: insta\",\n				\"Package Control: Install Package\"\n			],\n			[\n				\"Package Control: se\",\n				\"Package Control: Install Package\"\n			],\n			[\n				\"Package Control: \",\n				\"Package Control: Install Package\"\n			]\n		],\n		\"width\": 440.0\n	},\n	\"console\":\n	{\n		\"height\": 125.0\n	},\n	\"distraction_free\":\n	{\n		\"menu_visible\": true,\n		\"show_minimap\": false,\n		\"show_open_files\": false,\n		\"show_tabs\": false,\n		\"side_bar_visible\": false,\n		\"status_bar_visible\": false\n	},\n	\"file_history\":\n	[\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/stylesheets/sencha-touch/default/_mixins.scss\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/css/hh.css\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/sencha-touch-all.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/js/hh.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/i18n/B2B-en-US.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/sass/app.scss\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/index.html\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Privacy.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/FavoriteBeers_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/FavoriteBeer.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_List_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Place_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/DrinkInCheckIn_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_App_Slider.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Place_Detail.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Places.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Drinks_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Drink_AroundMe.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_Login.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_Register.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Detail.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Detail_Component.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Search.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_SelectSearchComponent.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Beers.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Favorites.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Favorites_List_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/_App.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/_Login.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Favorites_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Preferences_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinkincheckinlist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_SelectContainer.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Add_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_Select.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_appcontainer.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Profiles.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Feedbacks.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/DrinkInCheckIn_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Profile_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/img/logo_text_black.png\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Drink.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinklist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Place.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_placelist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Places_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Notifications_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Friends_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Drinks_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Single_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_User_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/android.css\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/apple.css\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/bb6.css\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/stylesheets/sencha-touch/default/widgets/_toolbar.scss\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/sencha-touch.css\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_feedbacklist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/i18n/B2B-it.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Feedback_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/packager.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/command/src/module/generate/App.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Search.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/templates/project/sencha-touch.scss\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Notification.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Activity.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_activityuser.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinkList.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_friendlist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_SplashBeerSearch.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_activitylist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Notifications_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Profile_Ajax.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Beer.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Notification_List.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_notificationlist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Detail.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Friends.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_user.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Feedback.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/User.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_App.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_List_Detail.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Camera_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_beerlist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_beersinglelist.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/microloader/development.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app.json\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Friends_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_AboutUs.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/ux/bufferedlist/BufferedList.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/TemporaryData_Local.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_Whatsnew.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_Terms.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Notification_Container.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/ux/slidenavigation/SlideNavigation.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Drink_Add_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Notifications.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_User.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Login.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/BeerSingle.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Camera.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Activities.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Finder.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Camera_Picker.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Drinks.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Preferences.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Privacy_Form.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Friend.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_State.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_Type.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_Region.js\",\n		\"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Places_Local.js\"\n	],\n	\"find\":\n	{\n		\"height\": 34.0\n	},\n	\"find_in_files\":\n	{\n		\"height\": 90.0,\n		\"where_history\":\n		[\n			\"<open folders>\",\n			\"\"\n		]\n	},\n	\"find_state\":\n	{\n		\"case_sensitive\": true,\n		\"find_history\":\n		[\n			\"active\",\n			\" pictos-iconmask\",\n			\"lert(\\\"We are sorr\",\n			\"getNameByAlias\",\n			\"getByAlias\",\n			\"info\",\n			\"log\",\n			\"console\",\n			\" console.log\",\n			\" console.log(\",\n			\".x-button\",\n			\"lastdrink\",\n			\"x-title\",\n			\"pull\",\n			\"sencha-toolbar-forms\",\n			\"app.scss\",\n			\"css\",\n			\"ExtraParam\",\n			\"setParam\",\n			\"beername\",\n			\"beerName\",\n			\"username\",\n			\"},\\n\",\n			\"APP_NAME\",\n			\"THAI\",\n			\"nationality\\\": \\\"....\\\"\",\n			\"URSS\",\n			\"\\\"CINA\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"DOM\\\"\",\n			\"\\\"HON\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"TAH\\\"\",\n			\"\\\"AUS\\\"\",\n			\"\\\"CEC\\\"\",\n			\"\\\"FIN\\\"\",\n			\"\\\"ISR\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"CAN\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"SLO\\\"\",\n			\"\\\"PERU\\\"\",\n			\"\\\"MEX\\\"\",\n			\"HH\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"BIR\\\"\",\n			\"\\\"BRA\\\"\",\n			\"\\\"JAP\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"POL\\\"\",\n			\"\\\"SUI\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"SWE\\\"\",\n			\"\\\"AUT\\\"\",\n			\"\\\"POR\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"\\\"NOR\\\"\",\n			\"\\\"ISL\\\"\",\n			\"nationality\\\": \\\"...\\\"\",\n			\"nationality: \\\"...\\\"\",\n			\"\\\"SPA\\\"\",\n			\"Guineu\",\n			\"\\\"DEN\\\"\",\n			\"\\\"SING\\\"\",\n			\"SING\",\n			\"\\\"NED\\\"\",\n			\"\\\"CUBA\\\"\",\n			\"cuba\",\n			\"\\\"IRL\\\"\",\n			\"\\\"USA\\\"\",\n			\"\\\"BEL\\\"\",\n			\"\\\"GER\\\"\",\n			\"\\\"FRA\\\"\",\n			\"\\\"ENG\\\"\",\n			\"\\\"ITA\\\"\",\n			\"}\\n\",\n			\"BufferedList\",\n			\"LABEL_ABOUT\",\n			\"goingTo.step2\",\n			\"HH_config\",\n			\"png\",\n			\";\\n\",\n			\"x-requested-with\",\n			\"placeholder\",\n			\"FORM_USERNAME\",\n			\"listeners\",\n			\"notificationReadCommand\",\n			\"\\\",\\n\",\n			\"%1\",\n			\"badge\",\n			\"setTitle\",\n			\"profile\",\n			\"(),\\n\",\n			\"DASHBOA\",\n			\"\\\",\\n\",\n			\"single\",\n			\"type\",\n			\"\\\"beerstyle\\\":\\\"\",\n			\"\\\"beerstyle\\\": \\\"\",\n			\"\\\"ALE/LAGER HYBRID\\\"\",\n			\"Ale\",\n			\"\\\"LAGER - DARK (SCURA)\\\"\",\n			\"\\\"LAGER - AMBER (ROSSA)\\\"\",\n			\"\\\"STRONG LAGER\\\"\",\n			\"lager\",\n			\"\\\"LAGER - PALE (CHIARA)\\\"\",\n			\"\\\"WHEAT (GRANO)\\\"\",\n			\"\\\"LAMBIC\\\"\",\n			\"\\\"ALE - BELGIAN STYLE\\\"\",\n			\"\\\"ALE - BRITISH STYLE\\\"\",\n			\"\\\"STOUT/PORTER\\\"\",\n			\"STOUT/PORTER\",\n			\"\\\"SPECIAL\\\"\",\n			\"style\",\n			\"LAGER - PALE (CHIARA)\",\n			\"\\\"description\\\": \\\"\\\"\",\n			\"title\",\n			\"setTitle\",\n			\"getTitle\",\n			\"Title\",\n			\"setTitle\",\n			\"titl\",\n			\",\\n\",\n			\"B2B.app.loggedUser\",\n			\"'\",\n			\"value\",\n			\"{text\",\n			\"\\\"\\n\"\n		],\n		\"highlight\": true,\n		\"in_selection\": false,\n		\"preserve_case\": false,\n		\"regex\": true,\n		\"replace_history\":\n		[\n			\"values\",\n			\"beerName\",\n			\"displayName\",\n			\"TH\",\n			\"RU\",\n			\"\\\"CN\\\"\",\n			\"\\\"DO\\\"\",\n			\"\\\"HN\\\"\",\n			\"\\\"PF\\\"\",\n			\"\\\"AU\\\"\",\n			\"\\\"CZ\\\"\",\n			\"\\\"FI\\\"\",\n			\"\\\"IL\\\"\",\n			\"\\\"CA\\\"\",\n			\"\\\"SI\\\"\",\n			\"\\\"PE\\\"\",\n			\"\\\"MX\\\"\",\n			\"\\\"MM\\\"\",\n			\"\\\"BR\\\"\",\n			\"\\\"JP\\\"\",\n			\"\\\"PL\\\"\",\n			\"\\\"CH\\\"\",\n			\"\\\"SE\\\"\",\n			\"\\\"AT\\\"\",\n			\"\\\"PT\\\"\",\n			\"\\\"NO\\\"\",\n			\"\\\"IS\\\"\",\n			\"\\\"ES\\\"\",\n			\"\\\"DK\\\"\",\n			\"\\\"SG\\\"\",\n			\"\\\"NL\\\"\",\n			\"\\\"CU\\\"\",\n			\"\\\"IE\\\"\",\n			\"\\\"US\\\"\",\n			\"\\\"BE\\\"\",\n			\"\\\"DE\\\"\",\n			\"\\\"GB\\\"\",\n			\"\\\"IT\\\"\",\n			\"beertype\",\n			\"6\",\n			\"2\",\n			\"1\",\n			\"3\",\n			\"0\",\n			\"8\",\n			\"9\",\n			\"5\",\n			\"4\",\n			\"7\",\n			\"10\",\n			\"beerstyle\",\n			\"\\\"idBeer\\\": \\\"\\\", \\\"idUser\\\": \\\"\\\", \\\"username\\\": \\\"\\\", \\\"image\\\": \\\"\\\", \\\"status\\\": \\\"\\\", \\\"insertedOn\\\": \\\"\\\", \\\"param1\\\": \\\"\\\", \\\"param2\\\": \\\"\\\", \\\"param3\\\": \\\"\\\"\",\n			\"Ext.getStore('Profile').first().data\",\n			\"\\\"\",\n			\"\\\"value\\\"\",\n			\"{ \\\"text\\\"\",\n			\"value\",\n			\"text\",\n			\"Ext.ux.starrating.View\",\n			\"\",\n			\"\\\"description\\\": \\\"\\\"},\",\n			\"\\\"description:\\\" \\\"\\\"},\",\n			\"{}},\",\n			\"\\\"type\\\"\",\n			\"\\\"style\\\"\",\n			\"\",\n			\"\\\"nationality\\\"\",\n			\"\",\n			\"\\\"grad\\\"\",\n			\"\\\"brewery\\\"\",\n			\"\\\"name\\\"\",\n			\"\"\n		],\n		\"reverse\": false,\n		\"show_context\": true,\n		\"use_buffer2\": true,\n		\"whole_word\": false,\n		\"wrap\": true\n	},\n	\"groups\":\n	[\n		{\n			\"selected\": 1,\n			\"sheets\":\n			[\n				{\n					\"buffer\": 0,\n					\"file\": \"sdk/microloader/development.js\",\n					\"settings\":\n					{\n						\"buffer_size\": 2688,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								70,\n								70\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/JavaScript/JavaScript.tmLanguage\",\n							\"tab_size\": 4,\n							\"translate_tabs_to_spaces\": true\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 0.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 1,\n					\"file\": \"resources/sass/app.scss\",\n					\"settings\":\n					{\n						\"buffer_size\": 25494,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								20091,\n								20091\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/SCSS/SCSS.tmLanguage\",\n							\"tab_size\": 4,\n							\"translate_tabs_to_spaces\": true\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 5997.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 2,\n					\"settings\":\n					{\n						\"buffer_size\": 27634,\n						\"regions\":\n						{\n							\"match\":\n							{\n								\"flags\": 112,\n								\"regions\":\n								[\n									[\n										255,\n										271\n									],\n									[\n										463,\n										479\n									],\n									[\n										504,\n										520\n									],\n									[\n										546,\n										562\n									],\n									[\n										588,\n										604\n									],\n									[\n										815,\n										831\n									],\n									[\n										1127,\n										1143\n									],\n									[\n										1525,\n										1541\n									],\n									[\n										1923,\n										1939\n									],\n									[\n										2321,\n										2337\n									],\n									[\n										2719,\n										2735\n									],\n									[\n										3117,\n										3133\n									],\n									[\n										3515,\n										3531\n									],\n									[\n										3913,\n										3929\n									],\n									[\n										4311,\n										4327\n									],\n									[\n										4709,\n										4725\n									],\n									[\n										5107,\n										5123\n									],\n									[\n										5505,\n										5521\n									],\n									[\n										5903,\n										5919\n									],\n									[\n										6301,\n										6317\n									],\n									[\n										6699,\n										6715\n									],\n									[\n										7175,\n										7191\n									],\n									[\n										7573,\n										7589\n									],\n									[\n										7971,\n										7987\n									],\n									[\n										8369,\n										8385\n									],\n									[\n										8767,\n										8783\n									],\n									[\n										9165,\n										9181\n									],\n									[\n										9563,\n										9579\n									],\n									[\n										9961,\n										9977\n									],\n									[\n										10359,\n										10375\n									],\n									[\n										10757,\n										10773\n									],\n									[\n										11155,\n										11171\n									],\n									[\n										11553,\n										11569\n									],\n									[\n										11951,\n										11967\n									],\n									[\n										12349,\n										12365\n									],\n									[\n										12747,\n										12763\n									],\n									[\n										13221,\n										13237\n									],\n									[\n										13619,\n										13635\n									],\n									[\n										14017,\n										14033\n									],\n									[\n										14415,\n										14431\n									],\n									[\n										14813,\n										14829\n									],\n									[\n										15211,\n										15227\n									],\n									[\n										15609,\n										15625\n									],\n									[\n										16007,\n										16023\n									],\n									[\n										16405,\n										16421\n									],\n									[\n										16803,\n										16819\n									],\n									[\n										17201,\n										17217\n									],\n									[\n										17599,\n										17615\n									],\n									[\n										17997,\n										18013\n									],\n									[\n										18395,\n										18411\n									],\n									[\n										18793,\n										18809\n									],\n									[\n										19276,\n										19292\n									],\n									[\n										19674,\n										19690\n									],\n									[\n										20072,\n										20088\n									],\n									[\n										20470,\n										20486\n									],\n									[\n										20868,\n										20884\n									],\n									[\n										21266,\n										21282\n									],\n									[\n										21664,\n										21680\n									],\n									[\n										22062,\n										22078\n									],\n									[\n										22460,\n										22476\n									],\n									[\n										22858,\n										22874\n									],\n									[\n										23256,\n										23272\n									],\n									[\n										23654,\n										23670\n									],\n									[\n										24052,\n										24068\n									],\n									[\n										24450,\n										24466\n									],\n									[\n										24848,\n										24864\n									],\n									[\n										25357,\n										25373\n									],\n									[\n										25617,\n										25633\n									],\n									[\n										25932,\n										25948\n									],\n									[\n										25979,\n										25995\n									],\n									[\n										26023,\n										26039\n									],\n									[\n										26074,\n										26090\n									],\n									[\n										26125,\n										26141\n									],\n									[\n										26177,\n										26193\n									],\n									[\n										26226,\n										26242\n									],\n									[\n										26274,\n										26290\n									],\n									[\n										26321,\n										26337\n									],\n									[\n										26370,\n										26386\n									],\n									[\n										26418,\n										26434\n									],\n									[\n										26464,\n										26480\n									],\n									[\n										26511,\n										26527\n									],\n									[\n										26560,\n										26576\n									],\n									[\n										26605,\n										26621\n									],\n									[\n										26651,\n										26667\n									],\n									[\n										26696,\n										26712\n									],\n									[\n										26743,\n										26759\n									],\n									[\n										26976,\n										26992\n									],\n									[\n										27026,\n										27042\n									],\n									[\n										27075,\n										27091\n									],\n									[\n										27125,\n										27141\n									],\n									[\n										27170,\n										27186\n									],\n									[\n										27215,\n										27231\n									],\n									[\n										27260,\n										27276\n									],\n									[\n										27305,\n										27321\n									],\n									[\n										27538,\n										27554\n									]\n								],\n								\"scope\": \"\"\n							}\n						},\n						\"selection\":\n						[\n							[\n								25627,\n								25627\n							]\n						],\n						\"settings\":\n						{\n							\"detect_indentation\": false,\n							\"output_tag\": 1,\n							\"result_base_dir\": \"\",\n							\"result_file_regex\": \"^([A-Za-z\\\\\\\\/<].*):$\",\n							\"result_line_regex\": \"^ +([0-9]+):\",\n							\"scroll_past_end\": true,\n							\"syntax\": \"Packages/Default/Find Results.hidden-tmLanguage\"\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 7508.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				}\n			]\n		},\n		{\n			\"selected\": 3,\n			\"sheets\":\n			[\n				{\n					\"buffer\": 3,\n					\"file\": \"index.html\",\n					\"settings\":\n					{\n						\"buffer_size\": 1301,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								970,\n								970\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/HTML/HTML.tmLanguage\",\n							\"translate_tabs_to_spaces\": false,\n							\"word_wrap\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 0.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 4,\n					\"file\": \"index_prod.html\",\n					\"settings\":\n					{\n						\"buffer_size\": 1308,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								174,\n								106\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/HTML/HTML.tmLanguage\",\n							\"translate_tabs_to_spaces\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 0.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 5,\n					\"file\": \"i18n/B2B-en-US.js\",\n					\"settings\":\n					{\n						\"buffer_size\": 23175,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								723,\n								870\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/JavaScript/JavaScript.tmLanguage\",\n							\"translate_tabs_to_spaces\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 270.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 6,\n					\"file\": \"app/view/_appcontainer.js\",\n					\"settings\":\n					{\n						\"buffer_size\": 1934,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								1262,\n								1262\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/JavaScript/JavaScript.tmLanguage\",\n							\"translate_tabs_to_spaces\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 855.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 7,\n					\"file\": \"resources/css/app.css\",\n					\"settings\":\n					{\n						\"buffer_size\": 205469,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								205469,\n								205469\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/CSS/CSS.tmLanguage\"\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 0.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 8,\n					\"file\": \"resources/js/hh.js\",\n					\"settings\":\n					{\n						\"buffer_size\": 5795,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								1742,\n								1742\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/JavaScript/JavaScript.tmLanguage\",\n							\"translate_tabs_to_spaces\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 720.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				},\n				{\n					\"buffer\": 9,\n					\"file\": \"app.js\",\n					\"settings\":\n					{\n						\"buffer_size\": 3068,\n						\"regions\":\n						{\n						},\n						\"selection\":\n						[\n							[\n								2548,\n								2548\n							]\n						],\n						\"settings\":\n						{\n							\"syntax\": \"Packages/JavaScript/JavaScript.tmLanguage\",\n							\"translate_tabs_to_spaces\": false\n						},\n						\"translation.x\": 0.0,\n						\"translation.y\": 585.0,\n						\"zoom_level\": 1.0\n					},\n					\"type\": \"text\"\n				}\n			]\n		}\n	],\n	\"incremental_find\":\n	{\n		\"height\": 0.0\n	},\n	\"input\":\n	{\n		\"height\": 31.0\n	},\n	\"layout\":\n	{\n		\"cells\":\n		[\n			[\n				0,\n				0,\n				1,\n				1\n			],\n			[\n				1,\n				0,\n				2,\n				1\n			]\n		],\n		\"cols\":\n		[\n			0.0,\n			0.413136985174,\n			1.0\n		],\n		\"rows\":\n		[\n			0.0,\n			1.0\n		]\n	},\n	\"menu_visible\": true,\n	\"replace\":\n	{\n		\"height\": 62.0\n	},\n	\"save_all_on_build\": true,\n	\"select_file\":\n	{\n		\"height\": 0.0,\n		\"selected_items\":\n		[\n		],\n		\"width\": 0.0\n	},\n	\"select_project\":\n	{\n		\"height\": 0.0,\n		\"selected_items\":\n		[\n		],\n		\"width\": 0.0\n	},\n	\"show_minimap\": false,\n	\"show_open_files\": false,\n	\"show_tabs\": true,\n	\"side_bar_visible\": true,\n	\"side_bar_width\": 272.0,\n	\"status_bar_visible\": true\n}\n",
			"file": "B2B.sublime-workspace",
			"file_size": 59126,
			"file_write_time": 129909097985559419,
			"settings":
			{
				"buffer_size": 57665,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/view/User.js",
			"settings":
			{
				"buffer_size": 3554,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/controller/Profiles.js",
			"settings":
			{
				"buffer_size": 3004,
				"line_ending": "Windows"
			}
		},
		{
			"file": "app/view/Activity_List_Detail.js",
			"settings":
			{
				"buffer_size": 756,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Searching 1303 files for \"activityusercomponent\" (case sensitive)\n\nC:\\Users\\HC\\Documents\\GitHub\\B2B\\iPhone\\B2B\\www\\all-classes.js:\n 36259          },\n 36260          myLastDrinkIn = {\n 36261:         	xtype: \"activityusercomponent\",\n 36262              store: Ext.getStore(\"Activities_User_Ajax\"),\n 36263              draggable: false,\n .....\n 50605  Ext.define('B2B.view.Activity_User', {\n 50606      extend: 'Ext.dataview.List',\n 50607:     xtype: 'activityusercomponent',\n 50608  	config: {\n 50609          draggable: false,\n\nC:\\Users\\HC\\Documents\\GitHub\\B2B\\iPhone\\B2B\\www\\app-all.js:\n    2  Copyright(c) 2012 Company Name\n    3  */\n    4: Ext.define(\"Ext.event.ListenerStack\",{currentOrder:\"current\",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(h,j,k,e){var a=this.lateBindingMap,g=this.getAll(e),f=g.length,b,d,c;if(typeof h==\"string\"&&j.isIdentifiable){c=j.getId();b=a[c];if(b){if(b[h]){return false}else{b[h]=true}}else{a[c]=b={};b[h]=true}}else{if(f>0){while(f--){d=g[f];if(d.fn===h&&d.scope===j){d.options=k;return false}}}}d=this.create(h,j,k,e);if(k&&k.prepend){delete k.prepend;g.unshift(d)}else{g.push(d)}this.length++;return true},getAt:function(b,a){return this.getAll(a)[b]},getAll:function(a){if(!a){a=this.currentOrder}return this.listeners[a]},count:function(a){return this.getAll(a).length},create:function(d,c,b,a){return{stack:this,fn:d,firingFn:false,boundFn:false,isLateBinding:typeof d==\"string\",scope:c,options:b||{},order:a}},remove:function(h,j,e){var g=this.getAll(e),f=g.length,b=false,a=this.lateBindingMap,d,c;if(f>0){while(f--){d=g[f];if(d.fn===h&&d.scope===j){g.splice(f,1);b=true;this.length--;if(typeof h==\"string\"&&j.isIdentifiable){c=j.getId();if(a[c]&&a[c][h]){delete a[c][h]}}break}}}return b}});Ext.define(\"Ext.event.Controller\",{isFiring:false,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.setInfo(a);return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(h,e){var n=this.listenerStacks,m=this.firingListeners,d=this.firingArguments,k=m.push,g=n.length,j,l,c,o,a=false,b=false,f;m.length=0;if(e){if(e.order!==\"after\"){a=true}else{b=true}}if(g===1){j=n[0].listeners;l=j.before;c=j.current;o=j.after;if(l.length>0){k.apply(m,l)}if(a){k.call(m,e)}if(c.length>0){k.apply(m,c)}if(b){k.call(m,e)}if(o.length>0){k.apply(m,o)}}else{for(f=0;f<g;f++){l=n[f].listeners.before;if(l.length>0){k.apply(m,l)}}if(a){k.call(m,e)}for(f=0;f<g;f++){c=n[f].listeners.current;if(c.length>0){k.apply(m,c)}}if(b){k.call(m,e)}for(f=0;f<g;f++){o=n[f].listeners.after;if(o.length>0){k.apply(m,o)}}}if(m.length===0){return this}if(!h){h=[]}d.length=0;d.push.apply(d,h);d.push(null,this);this.doFire();return this},doFire:function(){var k=this.firingListeners,c=this.firingArguments,g=c.length-2,d,f,b,o,h,n,a,j,l,e,m;this.isPausing=false;this.isPaused=false;this.isStopped=false;this.isFiring=true;for(d=0,f=k.length;d<f;d++){b=k[d];o=b.options;h=b.fn;n=b.firingFn;a=b.boundFn;j=b.isLateBinding;l=b.scope;if(j&&a&&a!==l[h]){a=false;n=false}if(!a){if(j){a=l[h];if(!a){continue}}else{a=h}b.boundFn=a}if(!n){n=a;if(o.buffer){n=Ext.Function.createBuffered(n,o.buffer,l)}if(o.delay){n=Ext.Function.createDelayed(n,o.delay,l)}b.firingFn=n}c[g]=o;e=c;if(o.args){e=o.args.concat(e)}if(o.single===true){b.stack.remove(h,l,b.order)}m=n.apply(l,e);if(m===false){this.stop()}if(this.isStopped){break}if(this.isPausing){this.isPaused=true;k.splice(0,d+1);return}}this.isFiring=false;this.listenerStacks=null;k.length=0;c.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=false;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=false;this.doFire()}if(a){a.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=true;if(a){this.connectingController=null;a.stop()}this.isFiring=false;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=true;if(a){a.pause()}return this}});Ext.define(\"Ext.event.publisher.Publisher\",{targetType:\"\",idSelectorRegex:/^#([\\w\\-]+)$/i,constructor:function(){var b=this.handledEvents,a,c,e,d;a=this.handledEventsMap={};for(c=0,e=b.length;c<e;c++){d=b[c];a[d]=true}this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b[\"*\"]||a===\"*\"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return false},unsubscribe:function(){return false},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return false},getTargetType:function(){return this.targetType},dispatch:function(c,a,b){this.dispatcher.doDispatchEvent(this.targetType,c,a,b)}});Ext.define(\"Ext.event.Event\",{alternateClassName:\"Ext.EventObject\",isStopped:false,set:function(a,b){if(arguments.length===1&&typeof a!=\"string\"){var c=a;for(a in c){if(c.hasOwnProperty(a)){this[a]=c[a]}}}else{this[a]=c[a]}},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){this.isStopped=true;return this}});Ext.define(\"Ext.event.Dispatcher\",{requires:[\"Ext.event.ListenerStack\",\"Ext.event.Controller\"],statics:{getInstance:function(){if(!this.instance){this.instance=new this()}return this.instance},setInstance:function(a){this.instance=a;return this}},config:{publishers:{}},wildcard:\"*\",constructor:function(a){this.listenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(e,g,c,b){var d=this.listenerStacks,f=d[e],a;b=Boolean(b);if(!f){if(b){d[e]=f={}}else{return null}}f=f[g];if(!f){if(b){d[e][g]=f={}}else{return null}}a=f[c];if(!a){if(b){f[c]=a=new Ext.event.ListenerStack()}else{return null}}return a},getController:function(d,f,c,b){var a=this.controller,e={targetType:d,target:f,eventName:c};if(!a){this.controller=a=new Ext.event.Controller()}if(a.isFiring){a=new Ext.event.Controller()}a.setInfo(e);if(b&&a!==b){a.connect(b)}return a},applyPublishers:function(c){var a,b;this.publishersCache={};for(a in c){if(c.hasOwnProperty(a)){b=c[a];this.registerPublisher(b)}}return c},registerPublisher:function(b){var a=this.activePublishers,c=b.getTargetType(),d=a[c];if(!d){a[c]=d=[]}d.push(b);b.setDispatcher(this);return this},getCachedActivePublishers:function(c,b){var a=this.publishersCache,d;if((d=a[c])&&(d=d[b])){return d}return null},cacheActivePublishers:function(c,b,d){var a=this.publishersCache;if(!a[c]){a[c]={}}a[c][b]=d;return d},getActivePublishers:function(f,b){var g,a,c,e,d;if((g=this.getCachedActivePublishers(f,b))){return g}a=this.activePublishers[f];if(a){g=[];for(c=0,e=a.length;c<e;c++){d=a[c];if(d.handles(b)){g.push(d)}}}else{g=this.noActivePublishers}return this.cacheActivePublishers(f,b,g)},hasListener:function(c,d,b){var a=this.getListenerStack(c,d,b);if(a){return a.count()>0}return false},addListener:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].subscribe(e,a)}}return this.doAddListener.apply(this,arguments)},doAddListener:function(g,h,c,f,e,d,a){var b=this.getListenerStack(g,h,c,true);return b.add(f,e,d,a)},removeListener:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].unsubscribe(e,a)}}return this.doRemoveListener.apply(this,arguments)},doRemoveListener:function(f,g,c,e,d,a){var b=this.getListenerStack(f,g,c);if(b===null){return false}return b.remove(e,d,a)},clearListeners:function(a,e,d){var j=this.listenerStacks,f=arguments.length,b,h,c,g;if(f===3){if(j[a]&&j[a][e]){this.removeListener(a,e,d);delete j[a][e][d]}}else{if(f===2){if(j[a]){b=j[a][e];if(b){for(d in b){if(b.hasOwnProperty(d)){h=this.getActivePublishers(a,d);for(c=0,f=h.length;c<f;c++){h[c].unsubscribe(e,d,true)}}}delete j[a][e]}}}else{if(f===1){h=this.activePublishers[a];for(c=0,f=h.length;c<f;c++){h[c].unsubscribeAll()}delete j[a]}else{h=this.activePublishers;for(a in h){if(h.hasOwnProperty(a)){g=h[a];for(c=0,f=g.length;c<f;c++){g[c].unsubscribeAll()}}}delete this.listenerStacks;this.listenerStacks={}}}}return this},dispatchEvent:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].notify(e,a)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,g,f,i,c,b){var h=this.getListenerStack(a,g,f),d=this.getWildcardListenerStacks(a,g,f),e;if((h===null||h.length==0)){if(d.length==0&&!c){return}}else{d.push(h)}e=this.getController(a,g,f,b);e.setListenerStacks(d);e.fire(i,c);return !e.isInterrupted()},getWildcardListenerStacks:function(g,h,d){var f=[],b=this.wildcard,c=d!==b,e=h!==b,a;if(c&&(a=this.getListenerStack(g,h,b))){f.push(a)}if(e&&(a=this.getListenerStack(g,b,d))){f.push(a)}return f}});Ext.define(\"Ext.event.Dom\",{extend:\"Ext.event.Event\",constructor:function(a){var c=a.target,b;if(c&&c.nodeType!==1){c=c.parentNode}b=a.changedTouches;if(b){b=b[0];this.pageX=b.pageX;this.pageY=b.pageY}else{this.pageX=a.pageX;this.pageY=a.pageY}this.browserEvent=this.event=a;this.target=this.delegatedTarget=c;this.type=a.type;this.timeStamp=this.time=a.timeStamp;if(typeof this.time!=\"number\"){this.time=new Date(this.time).getTime()}return this},stopEvent:function(){this.preventDefault();return this.callParent()},preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.browserEvent.pageX},getPageY:function(){return this.browserEvent.pageY},getXY:function(){if(!this.xy){this.xy=[this.getPageX(),this.getPageY()]}return this.xy},getTarget:function(b,c,a){if(arguments.length===0){return this.delegatedTarget}return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.time},setDelegatedTarget:function(a){this.delegatedTarget=a},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn}});Ext.define(\"Ext.event.publisher.Dom\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.env.Browser\",\"Ext.Element\",\"Ext.event.Dom\"],targetType:\"element\",idOrClassSelectorRegex:/^([#|\\.])([\\w\\-]+)$/,handledEvents:[\"click\",\"focus\",\"blur\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\",\"mouseout\",\"keyup\",\"keydown\",\"keypress\",\"submit\",\"transitionend\",\"animationstart\",\"animationend\"],classNameSplitRegex:/\\s+/,SELECTOR_ALL:\"*\",constructor:function(){var f=this.getHandledEvents(),e={},b,c,a,d;this.doBubbleEventsMap={click:true,submit:true,mousedown:true,mousemove:true,mouseup:true,mouseover:true,mouseout:true,transitionend:true};this.onEvent=Ext.Function.bind(this.onEvent,this);for(b=0,c=f.length;b<c;b++){a=f[b];d=this.getVendorEventName(a);e[d]=a;this.attachListener(d)}this.eventNameMap=e;return this.callParent()},getSubscribers:function(a){var c=this.subscribers,b=c[a];if(!b){b=c[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return b},getVendorEventName:function(a){if(a===\"transitionend\"){a=Ext.browser.getVendorProperyName(\"transitionEnd\")}else{if(a===\"animationstart\"){a=Ext.browser.getVendorProperyName(\"animationStart\")}else{if(a===\"animationend\"){a=Ext.browser.getVendorProperyName(\"animationEnd\")}}}return a},attachListener:function(a){document.addEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},removeListener:function(a){document.removeEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},doesEventBubble:function(a){return !!this.doBubbleEventsMap[a]},subscribe:function(g,f){if(!this.handles(f)){return false}var e=g.match(this.idOrClassSelectorRegex),a=this.getSubscribers(f),c=a.id,d=a.className,b=a.selector,h,i;if(e!==null){h=e[1];i=e[2];if(h===\"#\"){if(c.hasOwnProperty(i)){c[i]++;return true}c[i]=1;c.$length++}else{if(d.hasOwnProperty(i)){d[i]++;return true}d[i]=1;d.$length++}}else{if(g===this.SELECTOR_ALL){a.all++}else{if(b.hasOwnProperty(g)){b[g]++;return true}b[g]=1;b.push(g)}}a.$length++;return true},unsubscribe:function(g,f,j){if(!this.handles(f)){return false}var e=g.match(this.idOrClassSelectorRegex),a=this.getSubscribers(f),c=a.id,d=a.className,b=a.selector,h,i;j=Boolean(j);if(e!==null){h=e[1];i=e[2];if(h===\"#\"){if(!c.hasOwnProperty(i)||(!j&&--c[i]>0)){return true}delete c[i];c.$length--}else{if(!d.hasOwnProperty(i)||(!j&&--d[i]>0)){return true}delete d[i];d.$length--}}else{if(g===this.SELECTOR_ALL){if(j){a.all=0}else{a.all--}}else{if(!b.hasOwnProperty(g)||(!j&&--b[g]>0)){return true}delete b[g];Ext.Array.remove(b,g)}}a.$length--;return true},getElementTarget:function(a){if(a.nodeType!==1){a=a.parentNode;if(!a||a.nodeType!==1){return null}}return a},getBubblingTargets:function(b){var a=[];if(!b){return a}do{a[a.length]=b;b=b.parentNode}while(b&&b.nodeType===1);return a},dispatch:function(c,a,b){b.push(b[0].target);this.callParent(arguments)},publish:function(b,a,c){var d=this.getSubscribers(b),e;if(d.$length===0||!this.doPublish(d,b,a,c)){e=this.getSubscribers(\"*\");if(e.$length>0){this.doPublish(e,b,a,c)}}return this},doPublish:function(f,h,x,u){var r=f.id,g=f.className,b=f.selector,p=r.$length>0,a=g.$length>0,l=b.length>0,o=f.all>0,y={},e=[u],q=false,m=this.classNameSplitRegex,v,k,t,d,z,n,c,w,s;for(v=0,k=x.length;v<k;v++){z=x[v];u.setDelegatedTarget(z);if(p){n=z.id;if(n){if(r.hasOwnProperty(n)){q=true;this.dispatch(\"#\"+n,h,e)}}}if(a){c=z.className;if(c){w=c.split(m);for(t=0,d=w.length;t<d;t++){c=w[t];if(!y[c]){y[c]=true;if(g.hasOwnProperty(c)){q=true;this.dispatch(\".\"+c,h,e)}}}}}if(u.isStopped){return q}}if(o&&!q){u.setDelegatedTarget(u.browserEvent.target);q=true;this.dispatch(this.SELECTOR_ALL,h,e);if(u.isStopped){return q}}if(l){for(t=0,d=x.length;t<d;t++){z=x[t];for(v=0,k=b.length;v<k;v++){s=b[v];if(this.matchesSelector(z,s)){u.setDelegatedTarget(z);q=true;this.dispatch(s,h,e)}if(u.isStopped){return q}}}}return q},matchesSelector:function(b,a){if(\"webkitMatchesSelector\" in b){return b.webkitMatchesSelector(a)}return Ext.DomQuery.is(b,a)},onEvent:function(d){var b=this.eventNameMap[d.type];if(!b||this.getSubscribersCount(b)===0){return}var c=this.getElementTarget(d.target),a;if(!c){return}if(this.doesEventBubble(b)){a=this.getBubblingTargets(c)}else{a=[c]}this.publish(b,a,new Ext.event.Dom(d))},hasSubscriber:function(f,a){if(!this.handles(a)){return false}var b=f.match(this.idOrClassSelectorRegex),e=this.getSubscribers(a),c,d;if(b!==null){c=b[1];d=b[2];if(c===\"#\"){return e.id.hasOwnProperty(d)}else{return e.className.hasOwnProperty(d)}}else{return(e.selector.hasOwnProperty(f)&&Ext.Array.indexOf(e.selector,f)!==-1)}return false},getSubscribersCount:function(a){if(!this.handles(a)){return 0}return this.getSubscribers(a).$length+this.getSubscribers(\"*\").$length}});Ext.define(\"Ext.util.Point\",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(b){var a=b.changedTouches,c=(a&&a.length>0)?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,b){if(typeof a==\"undefined\"){a=0}if(typeof b==\"undefined\"){b=0}this.x=a;this.y=b;return this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return\"Point[\"+this.x+\",\"+this.y+\"]\"},equals:function(a){return(this.x===a.x&&this.y===a.y)},isCloseTo:function(c,b){if(typeof b==\"number\"){b={x:b};b.y=b.x}var a=c.x,f=c.y,e=b.x,d=b.y;return(this.x<=a+e&&this.x>=a-e&&this.y<=f+d&&this.y>=f-d)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(a,b){this.x+=a;this.y+=b;return this},roundedEquals:function(a){return(Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y))},getDistanceTo:function(b){var c=this.x-b.x,a=this.y-b.y;return Math.sqrt(c*c+a*a)},getAngleTo:function(b){var c=this.x-b.x,a=this.y-b.y;return Math.atan2(a,c)*this.radianToDegreeConstant}});Ext.define(\"Ext.event.Touch\",{extend:\"Ext.event.Dom\",requires:[\"Ext.util.Point\"],constructor:function(a,b){if(b){this.set(b)}this.touchesMap={};this.changedTouches=this.cloneTouches(a.changedTouches);this.touches=this.cloneTouches(a.touches);this.targetTouches=this.cloneTouches(a.targetTouches);return this.callParent([a])},clone:function(){return new this.self(this)},setTargets:function(a){this.doSetTargets(this.changedTouches,a);this.doSetTargets(this.touches,a);this.doSetTargets(this.targetTouches,a)},doSetTargets:function(f,d){var c,e,g,b,a;for(c=0,e=f.length;c<e;c++){g=f[c];b=g.identifier;a=d[b];if(a){g.targets=a}}},cloneTouches:function(f){var e=this.touchesMap,h=[],d=null,b,c,g,a;for(b=0,c=f.length;b<c;b++){g=f[b];a=g.identifier;if(d!==null&&a===d){a++}d=a;if(!e[a]){e[a]={pageX:g.pageX,pageY:g.pageY,identifier:a,target:g.target,timeStamp:g.timeStamp,point:Ext.util.Point.fromTouch(g),targets:g.targets}}h[b]=e[a]}return h}});Ext.define(\"Ext.event.publisher.TouchGesture\",{extend:\"Ext.event.publisher.Dom\",requires:[\"Ext.util.Point\",\"Ext.event.Touch\"],handledEvents:[\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\"],moveEventName:\"touchmove\",config:{moveThrottle:1,buffering:{enabled:false,interval:10},recognizers:{}},currentTouchesCount:0,constructor:function(a){this.processEvents=Ext.Function.bind(this.processEvents,this);this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd};this.eventToRecognizerMap={};this.activeRecognizers=[];this.currentRecognizers=[];this.currentTargets={};this.currentTouches={};this.buffer=[];this.initConfig(a);return this.callParent()},applyBuffering:function(a){if(a.enabled===true){this.bufferTimer=setInterval(this.processEvents,a.interval)}else{clearInterval(this.bufferTimer)}return a},applyRecognizers:function(b){var c,a;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a){this.registerRecognizer(a)}}}return b},handles:function(a){return this.callParent(arguments)||this.eventToRecognizerMap.hasOwnProperty(a)},doesEventBubble:function(){return true},eventLogs:[],onEvent:function(b){var a=this.getBuffering();b=new Ext.event.Touch(b);if(a.enabled){this.buffer.push(b)}else{this.processEvent(b)}},processEvents:function(){var a=this.buffer,f=a.length,d=[],c,e,b;if(f>0){c=a.slice(0);a.length=0;for(b=0;b<f;b++){e=c[b];if(e.type===this.moveEventName){d.push(e)}else{if(d.length>0){this.processEvent(this.mergeEvents(d));d.length=0}this.processEvent(e)}}if(d.length>0){this.processEvent(this.mergeEvents(d));d.length=0}}},mergeEvents:function(c){var b=[],f=c.length,a,e,d;d=c[f-1];if(f===1){return d}for(a=0;a<f;a++){e=c[a];b.push(e.changedTouches)}d.changedTouches=this.mergeTouchLists(b);return d},mergeTouchLists:function(l){var e={},h=[],d,k,a,b,f,c,g;for(d=0,k=l.length;d<k;d++){a=l[d];for(b=0,f=a.length;b<f;b++){c=a[b];g=c.identifier;e[g]=c}}for(g in e){if(e.hasOwnProperty(g)){h.push(e[g])}}return h},registerRecognizer:function(a){var g=this.eventToRecognizerMap,e=this.activeRecognizers,c=a.getHandledEvents(),d,f,b;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);for(d=0,f=c.length;d<f;d++){b=c[d];g[b]=a}e.push(a);return this},onRecognized:function(f,h,d,a){var k=[],j=d.length,g,c,b;if(j===1){return this.publish(f,d[0].targets,h,a)}for(c=0;c<j;c++){b=d[c];k.push(b.targets)}g=this.getCommonTargets(k);this.publish(f,g,h,a)},publish:function(b,a,c,d){c.set(d);return this.callParent([b,a,c])},getCommonTargets:function(a){var h=a[0],f=a.length;if(f===1){return h}var d=[],e=1,g,b,c;while(true){g=h[h.length-e];if(!g){return d}for(c=1;c<f;c++){b=a[c];if(b[b.length-e]!==g){return d}}d.unshift(g);e++}return d},invokeRecognizers:function(c,g){var b=this.activeRecognizers,f=b.length,d,a;if(c===\"onStart\"){for(d=0;d<f;d++){b[d].isActive=true}}for(d=0;d<f;d++){a=b[d];if(a.isActive&&a[c].call(a,g)===false){a.isActive=false}}},getActiveRecognizers:function(){return this.activeRecognizers},processEvent:function(a){this.eventProcessors[a.type].call(this,a)},onTouchStart:function(k){var m=this.currentTargets,g=this.currentTouches,o=this.currentTouchesCount,n=k.changedTouches,f=k.touches,h=f.length,a={},l=n.length,d,c,j,b;o+=l;if(o>h){for(d=0;d<h;d++){c=f[d];j=c.identifier;a[j]=true}for(j in g){if(g.hasOwnProperty(j)){if(!a[j]){o--;b=k.clone();c=g[j];c.targets=this.getBubblingTargets(this.getElementTarget(c.target));b.changedTouches=[c];this.onTouchEnd(b)}}}if(o>h){return}}for(d=0;d<l;d++){c=n[d];j=c.identifier;if(!g.hasOwnProperty(j)){this.currentTouchesCount++}g[j]=c;m[j]=this.getBubblingTargets(this.getElementTarget(c.target))}k.setTargets(m);for(d=0;d<l;d++){c=n[d];this.publish(\"touchstart\",c.targets,k,{touch:c})}if(!this.isStarted){this.isStarted=true;this.invokeRecognizers(\"onStart\",k)}this.invokeRecognizers(\"onTouchStart\",k)},onTouchMove:function(j){if(!this.isStarted){return}var l=this.currentTargets,g=this.currentTouches,c=this.getMoveThrottle(),m=j.changedTouches,b=0,f,k,d,n,a,h;j.setTargets(l);for(f=0,k=m.length;f<k;f++){d=m[f];h=d.identifier;n=d.point;a=g[h].point;if(c&&n.isCloseTo(a,c)){b++;continue}g[h]=d;this.publish(\"touchmove\",d.targets,j,{touch:d})}if(b<k){this.invokeRecognizers(\"onTouchMove\",j)}},onTouchEnd:function(d){if(!this.isStarted){return}var h=this.currentTargets,c=this.currentTouches,k=d.changedTouches,g=k.length,j,f,b,a;d.setTargets(h);this.currentTouchesCount-=g;j=(this.currentTouchesCount===0);if(j){this.isStarted=false}for(b=0;b<g;b++){a=k[b];f=a.identifier;delete c[f];delete h[f];this.publish(\"touchend\",a.targets,d,{touch:a})}this.invokeRecognizers(\"onTouchEnd\",d);if(j){this.invokeRecognizers(\"onEnd\",d)}}},function(){if(!Ext.feature.has.Touch){this.override({moveEventName:\"mousemove\",map:{mouseToTouch:{mousedown:\"touchstart\",mousemove:\"touchmove\",mouseup:\"touchend\"},touchToMouse:{touchstart:\"mousedown\",touchmove:\"mousemove\",touchend:\"mouseup\"}},attachListener:function(a){a=this.map.touchToMouse[a];if(!a){return}return this.callOverridden([a])},lastEventType:null,onEvent:function(d){if(\"button\" in d&&d.button!==0){return}var c=d.type,b=[d];if(c===\"mousedown\"&&this.lastEventType&&this.lastEventType!==\"mouseup\"){var a=document.createEvent(\"MouseEvent\");a.initMouseEvent(\"mouseup\",d.bubbles,d.cancelable,document.defaultView,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.metaKey,d.button,d.relatedTarget);this.onEvent(a)}if(c!==\"mousemove\"){this.lastEventType=c}d.identifier=1;d.touches=(c!==\"mouseup\")?b:[];d.targetTouches=(c!==\"mouseup\")?b:[];d.changedTouches=b;return this.callOverridden([d])},processEvent:function(a){this.eventProcessors[this.map.mouseToTouch[a.type]].call(this,a)}})}});Ext.define(\"Ext.event.recognizer.Recognizer\",{mixins:[\"Ext.mixin.Identifiable\"],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){this.getOnFailed().apply(this.getCallbackScope(),arguments);return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}});Ext.define(\"Ext.event.recognizer.Touch\",{extend:\"Ext.event.recognizer.Recognizer\",onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn});Ext.define(\"Ext.event.recognizer.SingleTouch\",{extend:\"Ext.event.recognizer.Touch\",inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(a){if(a.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}}});Ext.define(\"Ext.event.recognizer.Drag\",{extend:\"Ext.event.recognizer.SingleTouch\",isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:[\"dragstart\",\"drag\",\"dragend\"],onTouchStart:function(b){var c,a;if(this.callParent(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.onTouchEnd(this.lastMoveEvent)}return false}this.startTouches=c=b.changedTouches;this.startTouch=a=c[0];this.startPoint=a.point},onTouchMove:function(d){var c=d.changedTouches,f=c[0],a=f.point,b=d.time;if(this.lastPoint){this.previousPoint=this.lastPoint}if(this.lastTime){this.previousTime=this.lastTime}this.lastTime=b;this.lastPoint=a;this.lastMoveEvent=d;if(!this.isStarted){this.isStarted=true;this.startTime=b;this.previousTime=b;this.previousPoint=this.startPoint;this.fire(\"dragstart\",d,this.startTouches,this.getInfo(d,this.startTouch))}else{this.fire(\"drag\",d,c,this.getInfo(d,f))}},onTouchEnd:function(c){if(this.isStarted){var b=c.changedTouches,d=b[0],a=d.point;this.isStarted=false;this.lastPoint=a;this.fire(\"dragend\",c,b,this.getInfo(c,d));this.startTime=0;this.previousTime=0;this.lastTime=0;this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},getInfo:function(j,i){var d=j.time,a=this.startPoint,f=this.previousPoint,b=this.startTime,k=this.previousTime,l=this.lastPoint,h=l.x-a.x,g=l.y-a.y,c={touch:i,startX:a.x,startY:a.y,previousX:f.x,previousY:f.y,pageX:l.x,pageY:l.y,deltaX:h,deltaY:g,absDeltaX:Math.abs(h),absDeltaY:Math.abs(g),previousDeltaX:l.x-f.x,previousDeltaY:l.y-f.y,time:d,startTime:b,previousTime:k,deltaTime:d-b,previousDeltaTime:d-k};return c}});Ext.define(\"Ext.event.recognizer.Tap\",{handledEvents:[\"tap\"],extend:\"Ext.event.recognizer.SingleTouch\",onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var b=a.changedTouches[0];this.fire(\"tap\",a,[b])}},function(){this.override({handledEvents:[\"tap\",\"tapstart\",\"tapcancel\"],onTouchStart:function(a){if(this.callOverridden(arguments)===false){return false}this.fire(\"tapstart\",a,[a.changedTouches[0]])},onTouchMove:function(a){this.fire(\"tapcancel\",a,[a.changedTouches[0]]);return this.callOverridden(arguments)}})});Ext.define(\"Ext.event.recognizer.DoubleTap\",{extend:\"Ext.event.recognizer.SingleTouch\",config:{maxDuration:300},handledEvents:[\"singletap\",\"doubletap\"],singleTapTimer:null,onTouchStart:function(a){if(this.callParent(arguments)===false){return false}this.startTime=a.time;clearTimeout(this.singleTapTimer)},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(g){var c=this,b=this.getMaxDuration(),h=g.changedTouches[0],f=g.time,a=this.lastTapTime,d;this.lastTapTime=f;if(a){d=f-a;if(d<=b){this.lastTapTime=0;this.fire(\"doubletap\",g,[h],{touch:h,duration:d});return}}if(f-this.startTime>b){this.fireSingleTap(g,h)}else{this.singleTapTimer=setTimeout(function(){c.fireSingleTap(g,h)},b)}},fireSingleTap:function(a,b){this.fire(\"singletap\",a,[b],{touch:b})}});Ext.define(\"Ext.event.recognizer.LongPress\",{extend:\"Ext.event.recognizer.SingleTouch\",inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1000},handledEvents:[\"longpress\"],fireLongPress:function(a){var b=a.changedTouches[0];this.fire(\"longpress\",a,[b],{touch:b,duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(b){var a=this;if(this.callParent(arguments)===false){return false}this.isLongPress=false;this.timer=setTimeout(function(){a.fireLongPress(b)},this.getMinDuration())},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:[\"longpress\",\"taphold\"],fire:function(a){if(a===\"longpress\"){var b=Array.prototype.slice.call(arguments);b[0]=\"taphold\";this.fire.apply(this,b)}return this.callOverridden(arguments)}})});Ext.define(\"Ext.event.recognizer.Swipe\",{extend:\"Ext.event.recognizer.SingleTouch\",handledEvents:[\"swipe\"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.startTime=a.time;this.isHorizontal=true;this.isVertical=true;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(f){var h=f.changedTouches[0],b=h.pageX,g=h.pageY,c=Math.abs(b-this.startX),a=Math.abs(g-this.startY),d=f.time;if(d-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isVertical&&c>this.getMaxOffset()){this.isVertical=false}if(this.isHorizontal&&a>this.getMaxOffset()){this.isHorizontal=false}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(i){if(this.onTouchMove(i)===false){return false}var h=i.changedTouches[0],l=h.pageX,j=h.pageY,g=l-this.startX,f=j-this.startY,c=Math.abs(g),b=Math.abs(f),m=this.getMinDistance(),d=i.time-this.startTime,k,a;if(this.isVertical&&b<m){this.isVertical=false}if(this.isHorizontal&&c<m){this.isHorizontal=false}if(this.isHorizontal){k=(g<0)?\"left\":\"right\";a=c}else{if(this.isVertical){k=(f<0)?\"up\":\"down\";a=b}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.fire(\"swipe\",i,[h],{touch:h,direction:k,distance:a,duration:d})}});Ext.define(\"Ext.event.recognizer.HorizontalSwipe\",{extend:\"Ext.event.recognizer.Swipe\",handledEvents:[\"swipe\"],onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.startTime=a.time;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(f){var h=f.changedTouches[0],g=h.pageY,a=Math.abs(g-this.startY),d=f.time,c=this.getMaxDuration(),b=this.getMaxOffset();if(d-this.startTime>c){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(a>b){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(f){if(this.onTouchMove(f)!==false){var i=f.changedTouches[0],a=i.pageX,b=a-this.startX,h=Math.abs(b),d=f.time-this.startTime,g=this.getMinDistance(),c;if(h<g){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}c=(b<0)?\"left\":\"right\";this.fire(\"swipe\",f,[i],{touch:i,direction:c,distance:h,duration:d})}}});Ext.define(\"Ext.event.recognizer.MultiTouch\",{extend:\"Ext.event.recognizer.Touch\",requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(d){var a=this.requiredTouchesCount,c=d.touches,b=c.length;if(b===a){this.start(d)}else{if(b>a){this.end(d)}}},onTouchEnd:function(a){this.end(a)},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(a){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this.fireEnd(a)}}}});Ext.define(\"Ext.event.recognizer.Pinch\",{extend:\"Ext.event.recognizer.MultiTouch\",requiredTouchesCount:2,handledEvents:[\"pinchstart\",\"pinch\",\"pinchend\"],startDistance:0,lastTouches:null,onTouchMove:function(c){if(!this.isTracking){return}var b=Array.prototype.slice.call(c.touches),d,a,f;d=b[0].point;a=b[1].point;f=d.getDistanceTo(a);if(f===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=f;this.fire(\"pinchstart\",c,b,{touches:b,distance:f,scale:1})}else{this.fire(\"pinch\",c,b,{touches:b,distance:f,scale:f/this.startDistance})}this.lastTouches=b},fireEnd:function(a){this.fire(\"pinchend\",a,this.lastTouches)},fail:function(){return this.callParent(arguments)}});Ext.define(\"Ext.event.recognizer.Rotate\",{extend:\"Ext.event.recognizer.MultiTouch\",requiredTouchesCount:2,handledEvents:[\"rotatestart\",\"rotate\",\"rotateend\"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(h){if(!this.isTracking){return}var g=Array.prototype.slice.call(h.touches),b=this.lastAngle,d,f,c,a,i,j;d=g[0].point;f=g[1].point;c=d.getAngleTo(f);if(b!==null){j=Math.abs(b-c);a=c+360;i=c-360;if(Math.abs(a-b)<j){c=a}else{if(Math.abs(i-b)<j){c=i}}}this.lastAngle=c;if(!this.isStarted){this.isStarted=true;this.startAngle=c;this.fire(\"rotatestart\",h,g,{touches:g,angle:c,rotation:0})}else{this.fire(\"rotate\",h,g,{touches:g,angle:c,rotation:c-this.startAngle})}this.lastTouches=g},fireEnd:function(a){this.lastAngle=null;this.fire(\"rotateend\",a,this.lastTouches)}});Ext.define(\"Ext.ComponentQuery\",{singleton:true,uses:[\"Ext.ComponentManager\"]},function(){var g=this,j=[\"var r = [],\",\"i = 0,\",\"it = items,\",\"l = it.length,\",\"c;\",\"for (; i < l; i++) {\",\"c = it[i];\",\"if (c.{0}) {\",\"r.push(c);\",\"}\",\"}\",\"return r;\"].join(\"\"),e=function(o,n){return n.method.apply(this,[o].concat(n.args))},a=function(p,t){var n=[],q=0,s=p.length,r,o=t!==\">\";for(;q<s;q++){r=p[q];if(r.getRefItems){n=n.concat(r.getRefItems(o))}}return n},f=function(o){var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];while(!!(q=(q.ownerCt||q.floatParent))){n.push(q)}}return n},l=function(o,t,s){if(t===\"*\"){return o.slice()}else{var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];if(q.isXType(t,s)){n.push(q)}}return n}},i=function(o,r){var t=Ext.Array,n=[],p=0,s=o.length,q;for(;p<s;p++){q=o[p];if(q.el?q.el.hasCls(r):t.contains(q.initCls(),r)){n.push(q)}}return n},m=function(r,u,o,t){var w=[],q=0,n=r.length,v,s,p;for(;q<n;q++){v=r[q];s=Ext.Class.getConfigNameMap(u).get;if(v[s]){p=v[s]();if(!t?!!p:(String(p)===t)){w.push(v)}}else{if(v.config&&v.config[u]){if(!t?!!v.config[u]:(String(v.config[u])===t)){w.push(v)}}else{if(!t?!!v[u]:(String(v[u])===t)){w.push(v)}}}}return w},d=function(o,s){var n=[],p=0,r=o.length,q;for(;p<r;p++){q=o[p];if(q.getId()===s||q.getItemId()===s){n.push(q)}}return n},k=function(n,o,p){return g.pseudos[o](n,p)},h=/^(\\s?([>\\^])\\s?|\\s|$)/,c=/^(#)?([\\w\\-]+|\\*)(?:\\((true|false)\\))?/,b=[{re:/^\\.([\\w\\-]+)(?:\\((true|false)\\))?/,method:l},{re:/^(?:[\\[](?:@)?([\\w\\-]+)\\s?(?:(=|.=)\\s?['\"]?(.*?)[\"']?)?[\\]])/,method:m},{re:/^#([\\w\\-]+)/,method:d},{re:/^\\:([\\w\\-]+)(?:\\(((?:\\{[^\\}]+\\})|(?:(?!\\{)[^\\s>\\/]*?(?!\\})))\\))?/,method:k},{re:/^(?:\\{([^\\}]+)\\})/,method:j}];g.Query=Ext.extend(Object,{constructor:function(n){n=n||{};Ext.apply(this,n)},execute:function(o){var q=this.operations,r=0,s=q.length,p,n;if(!o){n=Ext.ComponentManager.all.getArray()}else{if(Ext.isArray(o)){n=o}}for(;r<s;r++){p=q[r];if(p.mode===\"^\"){n=f(n||[o])}else{if(p.mode){n=a(n||[o],p.mode)}else{n=e(n||a([o]),p)}}if(r===s-1){return n}}return[]},is:function(p){var o=this.operations,s=Ext.isArray(p)?p:[p],n=s.length,t=o[o.length-1],r,q;s=e(s,t);if(s.length===n){if(o.length>1){for(q=0,r=s.length;q<r;q++){if(Ext.Array.indexOf(this.execute(),s[q])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(t,n){var u=Ext.ComponentQuery,r=0,s=t.length,q=[],p=-1,o;for(;r<s;++r){o=t[r];if(!u.is(o,n)){q[++p]=o}}return q}},query:function(o,v){var w=o.split(\",\"),n=w.length,p=0,q=[],x=[],u={},s,r,t;for(;p<n;p++){o=Ext.String.trim(w[p]);s=this.parse(o);q=q.concat(s.execute(v))}if(n>1){r=q.length;for(p=0;p<r;p++){t=q[p];if(!u[t.id]){x.push(t);u[t.id]=true}}q=x}return q},is:function(o,n){if(!n){return true}var p=this.cache[n];if(!p){this.cache[n]=p=this.parse(n)}return p.is(o)},parse:function(q){var o=[],p=b.length,u,r,v,w,x,s,t,n;while(q&&u!==q){u=q;r=q.match(c);if(r){v=r[1];if(v===\"#\"){o.push({method:d,args:[Ext.String.trim(r[2])]})}else{if(v===\".\"){o.push({method:i,args:[Ext.String.trim(r[2])]})}else{o.push({method:l,args:[Ext.String.trim(r[2]),Boolean(r[3])]})}}q=q.replace(r[0],\"\")}while(!(w=q.match(h))){for(s=0;q&&s<p;s++){t=b[s];x=q.match(t.re);n=t.method;if(x){o.push({method:Ext.isString(t.method)?Ext.functionFactory(\"items\",Ext.String.format.apply(Ext.String,[n].concat(x.slice(1)))):t.method,args:x.slice(1)});q=q.replace(x[0],\"\");break}if(s===(p-1)){Ext.Error.raise('Invalid ComponentQuery selector: \"'+arguments[0]+'\"')}}}if(w[1]){o.push({mode:w[2]||w[1]});q=q.replace(w[0],\"\")}}return new g.Query({operations:o})}})});Ext.define(\"Ext.ComponentManager\",{alternateClassName:\"Ext.ComponentMgr\",singleton:true,constructor:function(){var a={};this.all={map:a,getArray:function(){var b=[],c;for(c in a){b.push(a[c])}return b}};this.map=a},register:function(a){var b=a.getId();if(this.map[b]){Ext.Logger.warn(\"Registering a component with a id (`\"+b+\"`) which has already been used. Please ensure the existing component has been destroyed (`Ext.Component#destroy()`.\")}this.map[a.getId()]=a},unregister:function(a){delete this.map[a.getId()]},isRegistered:function(a){return this.map[a]!==undefined},get:function(a){return this.map[a]},create:function(a,c){if(a.isComponent){return a}else{if(Ext.isString(a)){return Ext.createByAlias(\"widget.\"+a)}else{var b=a.xtype||c;return Ext.createByAlias(\"widget.\"+b,a)}}},registerType:Ext.emptyFn});Ext.define(\"Ext.mixin.Mixin\",{onClassExtended:function(b,e){var a=e.mixinConfig,d,f,c;if(a){d=b.superclass.mixinConfig;if(d){a=e.mixinConfig=Ext.merge({},d,a)}e.mixinId=a.id;f=a.beforeHooks;c=a.hooks||a.afterHooks;if(f||c){Ext.Function.interceptBefore(e,\"onClassMixedIn\",function(h){var g=this.prototype;if(f){Ext.Object.each(f,function(j,i){h.override(i,function(){if(g[j].apply(this,arguments)!==false){return this.callOverridden(arguments)}})})}if(c){Ext.Object.each(c,function(j,i){h.override(i,function(){var k=this.callOverridden(arguments);g[j].apply(this,arguments);return k})})}})}}}});Ext.define(\"Ext.behavior.Behavior\",{constructor:function(a){this.component=a;a.on(\"destroy\",\"onComponentDestroy\",this)},onComponentDestroy:Ext.emptyFn});Ext.define(\"Ext.mixin.Observable\",{requires:[\"Ext.event.Dispatcher\"],extend:\"Ext.mixin.Mixin\",mixins:[\"Ext.mixin.Identifiable\"],mixinConfig:{id:\"observable\",hooks:{destroy:\"destroy\"}},alternateClassName:\"Ext.util.Observable\",isObservable:true,observableType:\"observable\",validIdRegex:/^([\\w\\-]+)$/,observableIdPrefix:\"#\",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,config:{listeners:null,bubbleEvents:null},constructor:function(a){this.initConfig(a)},applyListeners:function(a){if(a){this.addListener(a)}},applyBubbleEvents:function(a){if(a){this.enableBubble(a)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId){var a=this.getUniqueId();if(!a.match(this.validIdRegex)){Ext.Logger.error(\"Invalid unique id of '\"+a+\"' for this object\",this)}this.observableId=this.observableIdPrefix+a;this.getObservableId=this.getOptimizedObservableId}return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){if(!this.eventDispatcher){this.eventDispatcher=Ext.event.Dispatcher.getInstance();this.getEventDispatcher=this.getOptimizedEventDispatcher;this.getListeners();this.getBubbleEvents()}return this.eventDispatcher},getManagedListeners:function(c,b){var d=c.getUniqueId(),a=this.managedListeners;if(!a){this.managedListeners=a={}}if(!a[d]){a[d]={};c.doAddListener(\"destroy\",\"clearManagedListeners\",this,{single:true,args:[c]})}if(!a[d][b]){a[d][b]=[]}return a[d][b]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a){a=this.usedSelectors=[];a.$map={}}return a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireAction:function(c,e,g,f,d,a){var b=typeof g,h;if(e===undefined){e=[]}if(b!=\"undefined\"){h={fn:g,isLateBinding:b==\"string\",scope:f||this,options:d||{},order:a}}return this.doFireEvent(c,e,h)},doFireEvent:function(b,c,e,a){if(this.eventFiringSuspended){return}var f=this.getObservableId(),d=this.getEventDispatcher();return d.dispatchEvent(this.observableType,f,b,c,e,a)},doAddListener:function(a,i,k,l,c){var e=(k&&k!==this&&k.isIdentifiable),b=this.getUsedSelectors(),f=b.$map,d=this.getObservableId(),g,j,h;if(!l){l={}}if(!k){k=this}if(l.delegate){h=l.delegate;d+=\" \"+h}if(!(d in f)){f[d]=true;b.push(d)}g=this.addDispatcherListener(d,a,i,k,l,c);if(g&&e){j=this.getManagedListeners(k,a);j.push({delegate:h,scope:k,fn:i,order:c})}return g},addDispatcherListener:function(b,d,f,e,c,a){return this.getEventDispatcher().addListener(this.observableType,b,d,f,e,c,a)},doRemoveListener:function(b,k,m,n,d){var g=(m&&m!==this&&m.isIdentifiable),e=this.getObservableId(),a,l,f,h,c,j;if(n&&n.delegate){j=n.delegate;e+=\" \"+j}if(!m){m=this}a=this.removeDispatcherListener(e,b,k,m,d);if(a&&g){l=this.getManagedListeners(m,b);for(f=0,h=l.length;f<h;f++){c=l[f];if(c.fn===k&&c.scope===m&&c.delegate===j&&c.order===d){l.splice(f,1);break}}}return a},removeDispatcherListener:function(b,c,e,d,a){return this.getEventDispatcher().removeListener(this.observableType,b,c,e,d,a)},clearManagedListeners:function(d){var j=this.managedListeners,a,c,h,f,e,g,b,k;if(!j){return this}if(d){if(typeof d!=\"string\"){a=d.getUniqueId()}else{a=d}c=j[a];for(f in c){if(c.hasOwnProperty(f)){h=c[f];for(e=0,g=h.length;e<g;e++){b=h[e];k={};if(b.delegate){k.delegate=b.delegate}if(this.doRemoveListener(f,b.fn,b.scope,k,b.order)){e--;g--}}}}delete j[a];return this}for(a in j){if(j.hasOwnProperty(a)){this.clearManagedListeners(a)}}},changeListener:function(l,h,n,p,q,d){var b,m,g,j,a,o,f,k,c,e;if(typeof n!=\"undefined\"){if(typeof h!=\"string\"){for(f=0,k=h.length;f<k;f++){a=h[f];l.call(this,a,n,p,q,d)}return this}l.call(this,h,n,p,q,d)}else{if(Ext.isArray(h)){m=h;for(f=0,k=m.length;f<k;f++){c=m[f];l.call(this,c.event,c.fn,c.scope,c,c.order)}}else{g=this.listenerOptionsRegex;q=h;b=[];m=[];j={};for(a in q){o=q[a];if(a===\"scope\"){p=o;continue}else{if(a===\"order\"){d=o;continue}}if(!g.test(a)){e=typeof o;if(e!=\"string\"&&e!=\"function\"){l.call(this,a,o.fn,o.scope||p,o,o.order||d);continue}b.push(a);m.push(o)}else{j[a]=o}}for(f=0,k=b.length;f<k;f++){l.call(this,b[f],m[f],p,j,d)}}}},addListener:function(b,e,d,c,a){return this.changeListener(this.doAddListener,b,e,d,c,a)},addBeforeListener:function(a,d,c,b){return this.addListener(a,d,c,b,\"before\")},addAfterListener:function(a,d,c,b){return this.addListener(a,d,c,b,\"after\")},removeListener:function(b,e,d,c,a){return this.changeListener(this.doRemoveListener,b,e,d,c,a)},removeBeforeListener:function(a,d,c,b){return this.removeListener(a,d,c,b,\"before\")},removeAfterListener:function(a,d,c,b){return this.removeListener(a,d,c,b,\"after\")},clearListeners:function(){var e=this.getUsedSelectors(),c=this.getEventDispatcher(),b,d,a;for(b=0,d=e.length;b<d;b++){a=e[b];c.clearListeners(this.observableType,a)}},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},suspendEvents:function(a){this.eventFiringSuspended=true},resumeEvents:function(){this.eventFiringSuspended=false},relayEvents:function(b,d,g){var c,f,e,a;if(typeof g==\"undefined\"){g=\"\"}if(typeof d==\"string\"){d=[d]}if(Ext.isArray(d)){for(c=0,f=d.length;c<f;c++){e=d[c];a=g+e;b.addListener(e,this.createEventRelayer(a),this)}}else{for(e in d){if(d.hasOwnProperty(e)){a=g+d[e];b.addListener(e,this.createEventRelayer(a),this)}}}return this},relayEvent:function(e,f,h,i,a){var g=typeof f,c=e[e.length-1],d=c.getInfo().eventName,b;e=Array.prototype.slice.call(e,0,-2);e[0]=this;if(g!=\"undefined\"){b={fn:f,scope:h||this,options:i||{},order:a,isLateBinding:g==\"string\"}}return this.doFireEvent(d,e,b,c)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(d){var a=this.isBubblingEnabled,c,e,b;if(!a){a=this.isBubblingEnabled={}}if(typeof d==\"string\"){d=Ext.Array.clone(arguments)}for(c=0,e=d.length;c<e;c++){b=d[c];if(!a[b]){a[b]=true;this.addListener(b,this.createEventBubbler(b),this)}}},createEventBubbler:function(a){return function b(){var c=(\"getBubbleTarget\" in this)?this.getBubbleTarget():null;if(c&&c!==this&&c.isObservable){c.fireAction(a,Array.prototype.slice.call(arguments,0,-2),b,c,null,\"after\")}}},getBubbleTarget:function(){return false},destroy:function(){if(this.observableId){this.fireEvent(\"destroy\",this);this.clearListeners();this.clearManagedListeners()}},addEvents:Ext.emptyFn},function(){this.createAlias({on:\"addListener\",un:\"removeListener\",onBefore:\"addBeforeListener\",onAfter:\"addAfterListener\",unBefore:\"removeBeforeListener\",unAfter:\"removeAfterListener\"});Ext.deprecateClassMethod(this,\"addEvents\",function(){},\"addEvents() is deprecated. It's no longer needed to add events before firing\");Ext.deprecateClassMethod(this,\"addManagedListener\",function(c,a,e,d,b){return c.addListener(a,e,d,b)},\"addManagedListener() / mon() is deprecated, simply use addListener() / on(). All listeners are now automatically managed where necessary.\");Ext.deprecateClassMethod(this,\"removeManagedListener\",function(b,a,d,c){return b.removeListener(a,d,c)},\"removeManagedListener() / mun() is deprecated, simply use removeListener() / un(). All listeners are now automatically managed where necessary.\");this.createAlias({mon:\"addManagedListener\",mun:\"removeManagedListener\"})});Ext.define(\"Ext.XTemplateParser\",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(n){var o=this,l=n.length,c={elseif:\"elif\"},j=o.topRe,b=o.actionsRe,k,p,r,f,q,g,a,e,d,h,i;o.level=0;o.stack=p=[];for(k=0;k<l;k=h){j.lastIndex=k;f=j.exec(n);if(!f){o.doText(n.substring(k,l));break}d=f.index;h=j.lastIndex;if(k<d){o.doText(n.substring(k,d))}if(f[1]){h=n.indexOf(\"%}\",d+2);o.doEval(n.substring(d+2,h));h+=2}else{if(f[2]){h=n.indexOf(\"]}\",d+2);o.doExpr(n.substring(d+2,h));h+=2}else{if(f[3]){o.doTag(f[3])}else{if(f[4]){i=null;while((e=b.exec(f[4]))!==null){r=e[2]||e[3];if(r){r=Ext.String.htmlDecode(r);q=e[1];q=c[q]||q;i=i||{};g=i[q];if(typeof g==\"string\"){i[q]=[g,r]}else{if(g){i[q].push(r)}else{i[q]=r}}}}if(!i){if(o.elseRe.test(f[4])){o.doElse()}else{if(o.defaultRe.test(f[4])){o.doDefault()}else{o.doTpl();p.push({type:\"tpl\"})}}}else{if(i[\"if\"]){o.doIf(i[\"if\"],i);p.push({type:\"if\"})}else{if(i[\"switch\"]){o.doSwitch(i[\"switch\"],i);p.push({type:\"switch\"})}else{if(i[\"case\"]){o.doCase(i[\"case\"],i)}else{if(i.elif){o.doElseIf(i.elif,i)}else{if(i[\"for\"]){++o.level;o.doFor(i[\"for\"],i);p.push({type:\"for\",actions:i})}else{if(i.exec){o.doExec(i.exec,i);p.push({type:\"exec\",actions:i})}}}}}}}}else{a=p.pop();o.doEnd(a.type,a.actions);if(a.type==\"for\"){--o.level}}}}}}},topRe:/(?:(\\{\\%)|(\\{\\[)|\\{([^{}]*)\\})|(?:<tpl([^>]*)\\>)|(?:<\\/tpl>)/g,actionsRe:/\\s*(elif|elseif|if|for|exec|switch|case|eval)\\s*\\=\\s*(?:(?:[\"]([^\"]*)[\"])|(?:[']([^']*)[']))\\s*/g,defaultRe:/^\\s*default\\s*$/,elseRe:/^\\s*else\\s*$/});Ext.define(\"Ext.fx.easing.Abstract\",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define(\"Ext.mixin.Traversable\",{extend:\"Ext.mixin.Mixin\",mixinConfig:{id:\"traversable\"},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){var b=[],a=this.getParent();while(a){b.push(a);a=a.getParent()}return b},getAncestorIds:function(){var b=[],a=this.getParent();while(a){b.push(a.getId());a=a.getParent()}return b}});Ext.define(\"Ext.Evented\",{alternateClassName:\"Ext.EventedBase\",mixins:[\"Ext.mixin.Observable\"],statics:{generateSetter:function(e){var c=e.internal,b=e.apply,a=e.changeEvent,d=e.doSet;return function(h){var i=this.initialized,g=this[c],f=this[b];if(f){h=f.call(this,h,g);if(typeof h==\"undefined\"){return this}}g=this[c];if(h!==g){if(i){this.fireAction(a,[this,h,g],this.doSet,this,{nameMap:e})}else{this[c]=h;this[d].call(this,h,g)}}return this}}},initialized:false,constructor:function(a){this.initialConfig=a;this.initialize()},initialize:function(){this.initConfig(this.initialConfig);this.initialized=true},doSet:function(c,d,b,a){var e=a.nameMap;c[e.internal]=d;c[e.doSet].call(this,d,b)},onClassExtended:function(a,e){if(!e.hasOwnProperty(\"eventedConfig\")){return}var d=Ext.Class,c=e.config,g=e.eventedConfig,b,f;e.config=(c)?Ext.applyIf(c,g):g;for(b in g){if(g.hasOwnProperty(b)){f=d.getConfigNameMap(b);e[f.set]=this.generateSetter(f)}}}});Ext.define(\"Ext.AbstractComponent\",{extend:\"Ext.Evented\",onClassExtended:function(b,f){if(!f.hasOwnProperty(\"cachedConfig\")){return}var g=b.prototype,c=f.config,e=f.cachedConfig,d=g.cachedConfigList,i=g.hasCachedConfig,a,h;delete f.cachedConfig;g.cachedConfigList=d=(d)?d.slice():[];g.hasCachedConfig=i=(i)?Ext.Object.chain(i):{};if(!c){f.config=c={}}for(a in e){if(e.hasOwnProperty(a)){h=e[a];if(!i[a]){i[a]=true;d.push(a)}c[a]=h}}},getElementConfig:Ext.emptyFn,referenceAttributeName:\"reference\",referenceSelector:\"[reference]\",addReferenceNode:function(a,b){Ext.Object.defineProperty(this,a,{get:function(){var c;delete this[a];this[a]=c=new Ext.Element(b);return c},configurable:true})},initElement:function(){var k=this.self.prototype,n=this.getId(),s=[],g=true,x=this.referenceAttributeName,p=false,e,v,b,o,t,d,l,c,f,j,w,m,a,q,h,y,u,r;if(k.hasOwnProperty(\"renderTemplate\")){e=this.renderTemplate.cloneNode(true);v=e.firstChild}else{g=false;p=true;e=document.createDocumentFragment();v=Ext.Element.create(this.getElementConfig(),true);e.appendChild(v)}o=e.querySelectorAll(this.referenceSelector);for(t=0,d=o.length;t<d;t++){l=o[t];c=l.getAttribute(x);if(g){l.removeAttribute(x)}if(c==\"element\"){l.id=n;this.element=b=new Ext.Element(l)}else{this.addReferenceNode(c,l)}s.push(c)}this.referenceList=s;if(!this.innerElement){this.innerElement=b}if(v===b.dom){this.renderElement=b}else{this.addReferenceNode(\"renderElement\",v)}if(p){f=Ext.Class.configNameCache;j=this.config;w=this.cachedConfigList;m=this.initConfigList;a=this.initConfigMap;q=[];for(t=0,d=w.length;t<d;t++){y=w[t];u=f[y];if(a[y]){a[y]=false;Ext.Array.remove(m,y)}if(j[y]!==null){q.push(y);this[u.get]=this[u.initGet]}}for(t=0,d=q.length;t<d;t++){y=q[t];u=f[y];r=u.internal;this[r]=null;this[u.set].call(this,j[y]);delete this[u.get];k[r]=this[r]}v=this.renderElement.dom;k.renderTemplate=e=document.createDocumentFragment();e.appendChild(v.cloneNode(true));h=e.querySelectorAll(\"[id]\");for(t=0,d=h.length;t<d;t++){b=h[t];b.removeAttribute(\"id\")}for(t=0,d=s.length;t<d;t++){c=s[t];this[c].dom.removeAttribute(\"reference\")}}return this}});Ext.define(\"Ext.XTemplateCompiler\",{extend:\"Ext.XTemplateParser\",useEval:Ext.isGecko,useFormat:true,propNameRe:/^[\\w\\d\\$]*$/,compile:function(a){var c=this,b=c.generate(a);return c.useEval?c.evalTpl(b):(new Function(\"Ext\",b))(Ext)},generate:function(a){var c=this;c.body=[\"var c0=values, p0=parent, n0=xcount, i0=xindex;\\n\"];c.funcs=[\"var fm=Ext.util.Format;\"];c.switches=[];c.parse(a);c.funcs.push((c.useEval?\"$=\":\"return\")+\" function (\"+c.fnArgs+\") {\",c.body.join(\"\"),\"}\");var b=c.funcs.join(\"\\n\");return b},doText:function(a){a=a.replace(this.aposRe,\"\\\\'\");a=a.replace(this.newLineRe,\"\\\\n\");this.body.push(\"out.push('\",a,\"')\\n\")},doExpr:function(a){this.body.push(\"out.push(String(\",a,\"))\\n\")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push(\"} else {\\n\")},doEval:function(a){this.body.push(a,\"\\n\")},doIf:function(b,c){var a=this;if(a.propNameRe.test(b)){a.body.push(\"if (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"if (\",a.addFn(b),a.callFn,\") {\\n\")}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(a.propNameRe.test(b)){a.body.push(\"} else if (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"} else if (\",a.addFn(b),a.callFn,\") {\\n\")}if(c.exec){a.doExec(c.exec)}},doSwitch:function(b){var a=this;if(a.propNameRe.test(b)){a.body.push(\"switch (\",a.parseTag(b),\") {\\n\")}else{a.body.push(\"switch (\",a.addFn(b),a.callFn,\") {\\n\")}a.switches.push(0)},doCase:function(e){var d=this,c=Ext.isArray(e)?e:[e],f=d.switches.length-1,a,b;if(d.switches[f]){d.body.push(\"break;\\n\")}else{d.switches[f]++}for(b=0,f=c.length;b<f;++b){a=d.intRe.exec(c[b]);c[b]=a?a[1]:(\"'\"+c[b].replace(d.aposRe,\"\\\\'\")+\"'\")}d.body.push(\"case \",c.join(\": case \"),\":\\n\")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push(\"break;\\n\")}else{a.switches[b]++}a.body.push(\"default:\\n\")},doEnd:function(b,d){var c=this,a=c.level-1;if(b==\"for\"){if(d.exec){c.doExec(d.exec)}c.body.push(\"}\\n\");c.body.push(\"parent=p\",a,\";values=r\",a+1,\";xcount=n\",a,\";xindex=i\",a,\"\\n\")}else{if(b==\"if\"||b==\"switch\"){c.body.push(\"}\\n\")}}},doFor:function(e,f){var d=this,c=d.addFn(e),b=d.level,a=b-1;d.body.push(\"var c\",b,\"=\",c,d.callFn,\", a\",b,\"=Ext.isArray(c\",b,\"),p\",b,\"=(parent=c\",a,\"),r\",b,\"=values\\n\",\"for (var i\",b,\"=0,n\",b,\"=a\",b,\"?c\",b,\".length:(c\",b,\"?1:0), xcount=n\",b,\";i\",b,\"<n\"+b+\";++i\",b,\"){\\n\",\"values=a\",b,\"?c\",b,\"[i\",b,\"]:c\",b,\"\\n\",\"xindex=i\",b,\"+1\\n\")},doExec:function(c,d){var b=this,a=\"f\"+b.funcs.length;b.funcs.push(\"function \"+a+\"(\"+b.fnArgs+\") {\",\" try { with(values) {\",\"  \"+c,\" }} catch(e) {}\",\"}\");b.body.push(a+b.callFn+\"\\n\")},addFn:function(a){var c=this,b=\"f\"+c.funcs.length;if(a===\".\"){c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" return values\",\"}\")}else{if(a===\"..\"){c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" return parent\",\"}\")}else{c.funcs.push(\"function \"+b+\"(\"+c.fnArgs+\") {\",\" try { with(values) {\",\"  return(\"+a+\")\",\" }} catch(e) {}\",\"}\")}}return b},parseTag:function(b){var a=this.tagRe.exec(b),e=a[1],g=a[2],d=a[3],f=a[4],c;if(e==\".\"){c='Ext.Array.indexOf([\"string\", \"number\", \"boolean\"], typeof values) > -1 || Ext.isDate(values) ? values : \"\"'}else{if(e==\"#\"){c=\"xindex\"}else{if(e.substr(0,7)==\"parent.\"){c=e}else{if((e.indexOf(\".\")!==-1)&&(e.indexOf(\"-\")===-1)){c=\"values.\"+e}else{c=\"values['\"+e+\"']\"}}}}if(f){c=\"(\"+c+f+\")\"}if(g&&this.useFormat){d=d?\",\"+d:\"\";if(g.substr(0,5)!=\"this.\"){g=\"fm.\"+g+\"(\"}else{g+=\"(\"}}else{d=\"\";g=\"(\"+c+\" === undefined ? '' : \"}return g+c+d+\")\"},evalTpl:function($){eval($);return $},newLineRe:/\\r\\n|\\r|\\n/g,aposRe:/[']/g,intRe:/^\\s*(\\d+)\\s*$/,tagRe:/([\\w-\\.\\#]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?(\\s?[\\+\\-\\*\\/]\\s?[\\d\\.\\+\\-\\*\\/\\(\\)]+)?/},function(){var a=this.prototype;a.fnArgs=\"out,values,parent,xindex,xcount\";a.callFn=\".call(this,\"+a.fnArgs+\")\"});(function(){function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\\{(\\d+)\\}/g,function(e,f){return c[f]})}Ext.DateExtras={now:Date.now||function(){return +new Date()},getElapsed:function(d,c){return Math.abs(d-(c||new Date()))},useStrict:false,formatCodeToRegex:function(d,c){var e=a.parseCodes[d];if(e){e=typeof e==\"function\"?e():e;a.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||\"{0}\"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(d)}},parseFunctions:{MS:function(d,c){var e=new RegExp(\"\\\\/Date\\\\(([-+])?(\\\\d+)(?:[+-]\\\\d{4})?\\\\)\\\\/\");var f=(d||\"\").match(e);return f?new Date(((f[1]||\"\")+f[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return\"\\\\/Date(\"+this.getTime()+\")\\\\/\"}},y2kYear:50,MILLI:\"ms\",SECOND:\"s\",MINUTE:\"mi\",HOUR:\"h\",DAY:\"d\",MONTH:\"mo\",YEAR:\"y\",defaults:{},dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:\"m/d/Y\",getShortMonthName:function(c){return a.monthNames[c].substring(0,3)},getShortDayName:function(c){return a.dayNames[c].substring(0,3)},getMonthNumber:function(c){return a.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatCodes:{d:\"Ext.String.leftPad(this.getDate(), 2, '0')\",D:\"Ext.Date.getShortDayName(this.getDay())\",j:\"this.getDate()\",l:\"Ext.Date.dayNames[this.getDay()]\",N:\"(this.getDay() ? this.getDay() : 7)\",S:\"Ext.Date.getSuffix(this)\",w:\"this.getDay()\",z:\"Ext.Date.getDayOfYear(this)\",W:\"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')\",F:\"Ext.Date.monthNames[this.getMonth()]\",m:\"Ext.String.leftPad(this.getMonth() + 1, 2, '0')\",M:\"Ext.Date.getShortMonthName(this.getMonth())\",n:\"(this.getMonth() + 1)\",t:\"Ext.Date.getDaysInMonth(this)\",L:\"(Ext.Date.isLeapYear(this) ? 1 : 0)\",o:\"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))\",Y:\"Ext.String.leftPad(this.getFullYear(), 4, '0')\",y:\"('' + this.getFullYear()).substring(2, 4)\",a:\"(this.getHours() < 12 ? 'am' : 'pm')\",A:\"(this.getHours() < 12 ? 'AM' : 'PM')\",g:\"((this.getHours() % 12) ? this.getHours() % 12 : 12)\",G:\"this.getHours()\",h:\"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')\",H:\"Ext.String.leftPad(this.getHours(), 2, '0')\",i:\"Ext.String.leftPad(this.getMinutes(), 2, '0')\",s:\"Ext.String.leftPad(this.getSeconds(), 2, '0')\",u:\"Ext.String.leftPad(this.getMilliseconds(), 3, '0')\",O:\"Ext.Date.getGMTOffset(this)\",P:\"Ext.Date.getGMTOffset(this, true)\",T:\"Ext.Date.getTimezone(this)\",Z:\"(this.getTimezoneOffset() * -60)\",c:function(){for(var j=\"Y-m-dTH:i:sP\",g=[],f=0,d=j.length;f<d;++f){var h=j.charAt(f);g.push(h==\"T\"?\"'T'\":a.getFormatCode(h))}return g.join(\" + \")},U:\"Math.round(this.getTime() / 1000)\"},isValid:function(n,c,l,j,f,g,e){j=j||0;f=f||0;g=g||0;e=e||0;var k=a.add(new Date(n<100?100:n,c-1,l,j,f,g,e),a.YEAR,n<100?n-100:0);return n==k.getFullYear()&&c==k.getMonth()+1&&l==k.getDate()&&j==k.getHours()&&f==k.getMinutes()&&g==k.getSeconds()&&e==k.getMilliseconds()},parse:function(d,f,c){var e=a.parseFunctions;if(e[f]==null){a.createParser(f)}return e[f](d,Ext.isDefined(c)?c:a.useStrict)},parseDate:function(d,e,c){return a.parse(d,e,c)},getFormatCode:function(d){var c=a.formatCodes[d];if(c){c=typeof c==\"function\"?c():c;a.formatCodes[d]=c}return c||(\"'\"+Ext.String.escape(d)+\"'\")},createFormat:function(g){var f=[],c=false,e=\"\";for(var d=0;d<g.length;++d){e=g.charAt(d);if(!c&&e==\"\\\\\"){c=true}else{if(c){c=false;f.push(\"'\"+Ext.String.escape(e)+\"'\")}else{f.push(a.getFormatCode(e))}}}a.formatFunctions[g]=Ext.functionFactory(\"return \"+f.join(\"+\"))},createParser:(function(){var c=[\"var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\",\"def = Ext.Date.defaults,\",\"results = String(input).match(Ext.Date.parseRegexes[{0}]);\",\"if(results){\",\"{1}\",\"if(u != null){\",\"v = new Date(u * 1000);\",\"}else{\",\"dt = Ext.Date.clearTime(new Date);\",\"y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));\",\"m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));\",\"d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));\",\"h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));\",\"i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));\",\"s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));\",\"ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));\",\"if(z >= 0 && y >= 0){\",\"v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\"v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);\",\"}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){\",\"v = null;\",\"}else{\",\"v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\",\"}\",\"}\",\"}\",\"if(v){\",\"if(zz != null){\",\"v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\",\"}else if(o){\",\"v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\",\"}\",\"}\",\"return v;\"].join(\"\\n\");return function(l){var e=a.parseRegexes.length,m=1,f=[],k=[],j=false,d=\"\";for(var h=0;h<l.length;++h){d=l.charAt(h);if(!j&&d==\"\\\\\"){j=true}else{if(j){j=false;k.push(Ext.String.escape(d))}else{var g=a.formatCodeToRegex(d,m);m+=g.g;k.push(g.s);if(g.g&&g.c){f.push(g.c)}}}}a.parseRegexes[e]=new RegExp(\"^\"+k.join(\"\")+\"$\",\"i\");a.parseFunctions[l]=Ext.functionFactory(\"input\",\"strict\",b(c,e,f.join(\"\")))}})(),parseCodes:{d:{g:1,c:\"d = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},j:{g:1,c:\"d = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,2})\"},D:function(){for(var c=[],d=0;d<7;c.push(a.getShortDayName(d)),++d){}return{g:0,c:null,s:\"(?:\"+c.join(\"|\")+\")\"}},l:function(){return{g:0,c:null,s:\"(?:\"+a.dayNames.join(\"|\")+\")\"}},N:{g:0,c:null,s:\"[1-7]\"},S:{g:0,c:null,s:\"(?:st|nd|rd|th)\"},w:{g:0,c:null,s:\"[0-6]\"},z:{g:1,c:\"z = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,3})\"},W:{g:0,c:null,s:\"(?:\\\\d{2})\"},F:function(){return{g:1,c:\"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\\n\",s:\"(\"+a.monthNames.join(\"|\")+\")\"}},M:function(){for(var c=[],d=0;d<12;c.push(a.getShortMonthName(d)),++d){}return Ext.applyIf({s:\"(\"+c.join(\"|\")+\")\"},a.formatCodeToRegex(\"F\"))},m:{g:1,c:\"m = parseInt(results[{0}], 10) - 1;\\n\",s:\"(\\\\d{2})\"},n:{g:1,c:\"m = parseInt(results[{0}], 10) - 1;\\n\",s:\"(\\\\d{1,2})\"},t:{g:0,c:null,s:\"(?:\\\\d{2})\"},L:{g:0,c:null,s:\"(?:1|0)\"},o:function(){return a.formatCodeToRegex(\"Y\")},Y:{g:1,c:\"y = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{4})\"},y:{g:1,c:\"var ty = parseInt(results[{0}], 10);\\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\\n\",s:\"(\\\\d{1,2})\"},a:{g:1,c:\"if (/(am)/i.test(results[{0}])) {\\nif (!h || h == 12) { h = 0; }\\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",s:\"(am|pm|AM|PM)\"},A:{g:1,c:\"if (/(am)/i.test(results[{0}])) {\\nif (!h || h == 12) { h = 0; }\\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}\",s:\"(AM|PM|am|pm)\"},g:function(){return a.formatCodeToRegex(\"G\")},G:{g:1,c:\"h = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{1,2})\"},h:function(){return a.formatCodeToRegex(\"H\")},H:{g:1,c:\"h = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},i:{g:1,c:\"i = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},s:{g:1,c:\"s = parseInt(results[{0}], 10);\\n\",s:\"(\\\\d{2})\"},u:{g:1,c:\"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\",s:\"(\\\\d+)\"},O:{g:1,c:[\"o = results[{0}];\",\"var sn = o.substring(0,1),\",\"hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\",\"mn = o.substring(3,5) % 60;\",\"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\"].join(\"\\n\"),s:\"([+-]\\\\d{4})\"},P:{g:1,c:[\"o = results[{0}];\",\"var sn = o.substring(0,1),\",\"hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\",\"mn = o.substring(4,6) % 60;\",\"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\\n\"].join(\"\\n\"),s:\"([+-]\\\\d{2}:\\\\d{2})\"},T:{g:0,c:null,s:\"[A-Z]{1,4}\"},Z:{g:1,c:\"zz = results[{0}] * 1;\\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\\n\",s:\"([+-]?\\\\d{1,5})\"},c:function(){var e=[],c=[a.formatCodeToRegex(\"Y\",1),a.formatCodeToRegex(\"m\",2),a.formatCodeToRegex(\"d\",3),a.formatCodeToRegex(\"h\",4),a.formatCodeToRegex(\"i\",5),a.formatCodeToRegex(\"s\",6),{c:\"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\\n\"},{c:[\"if(results[8]) {\",\"if(results[8] == 'Z'){\",\"zz = 0;\",\"}else if (results[8].indexOf(':') > -1){\",a.formatCodeToRegex(\"P\",8).c,\"}else{\",a.formatCodeToRegex(\"O\",8).c,\"}\",\"}\"].join(\"\\n\")}];for(var f=0,d=c.length;f<d;++f){e.push(c[f].c)}return{g:1,c:e.join(\"\"),s:[c[0].s,\"(?:\",\"-\",c[1].s,\"(?:\",\"-\",c[2].s,\"(?:\",\"(?:T| )?\",c[3].s,\":\",c[4].s,\"(?::\",c[5].s,\")?\",\"(?:(?:\\\\.|,)(\\\\d+))?\",\"(Z|(?:[-+]\\\\d{2}(?::)?\\\\d{2}))?\",\")?\",\")?\",\")?\"].join(\"\")}},U:{g:1,c:\"u = parseInt(results[{0}], 10);\\n\",s:\"(-?\\\\d+)\"}},dateFormat:function(c,d){return a.format(c,d)},format:function(d,e){if(a.formatFunctions[e]==null){a.createFormat(e)}var c=a.formatFunctions[e].call(d);return c+\"\"},getTimezone:function(c){return c.toString().replace(/^.* (?:\\((.*)\\)|([A-Z]{1,4})(?:[\\-+][0-9]{4})?(?: -?\\d+)?)$/,\"$1$2\").replace(/[^A-Z]/g,\"\")},getGMTOffset:function(c,d){var e=c.getTimezoneOffset();return(e>0?\"-\":\"+\")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,\"0\")+(d?\":\":\"\")+Ext.String.leftPad(Math.abs(e%60),2,\"0\")},getDayOfYear:function(f){var e=0,h=Ext.Date.clone(f),c=f.getMonth(),g;for(g=0,h.setDate(1),h.setMonth(0);g<c;h.setMonth(++g)){e+=a.getDaysInMonth(h)}return e+f.getDate()-1},getWeekOfYear:(function(){var c=86400000,d=7*c;return function(f){var g=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()+3)/c,e=Math.floor(g/7),h=new Date(e*d).getUTCFullYear();return e-Math.floor(Date.UTC(h,0,7)/d)+1}})(),isLeapYear:function(c){var d=c.getFullYear();return !!((d&3)==0&&(d%100||(d%400==0&&d)))},getFirstDayOfMonth:function(d){var c=(d.getDay()-(d.getDate()-1))%7;return(c<0)?(c+7):c},getLastDayOfMonth:function(c){return a.getLastDateOfMonth(c).getDay()},getFirstDateOfMonth:function(c){return new Date(c.getFullYear(),c.getMonth(),1)},getLastDateOfMonth:function(c){return new Date(c.getFullYear(),c.getMonth(),a.getDaysInMonth(c))},getDaysInMonth:(function(){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return function(e){var d=e.getMonth();return d==1&&a.isLeapYear(e)?29:c[d]}})(),getSuffix:function(c){switch(c.getDate()){case 1:case 21:case 31:return\"st\";case 2:case 22:return\"nd\";case 3:case 23:return\"rd\";default:return\"th\"}},clone:function(c){return new Date(c.getTime())},isDST:function(c){return new Date(c.getFullYear(),0,1).getTimezoneOffset()!=c.getTimezoneOffset()},clearTime:function(e,i){if(i){return Ext.Date.clearTime(Ext.Date.clone(e))}var g=e.getDate();e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(e.getDate()!=g){for(var f=1,h=a.add(e,Ext.Date.HOUR,f);h.getDate()!=g;f++,h=a.add(e,Ext.Date.HOUR,f)){}e.setDate(g);e.setHours(h.getHours())}return e},add:function(g,f,h){var i=Ext.Date.clone(g),c=Ext.Date;if(!f||h===0){return i}switch(f.toLowerCase()){case Ext.Date.MILLI:i.setMilliseconds(i.getMilliseconds()+h);break;case Ext.Date.SECOND:i.setSeconds(i.getSeconds()+h);break;case Ext.Date.MINUTE:i.setMinutes(i.getMinutes()+h);break;case Ext.Date.HOUR:i.setHours(i.getHours()+h);break;case Ext.Date.DAY:i.setDate(i.getDate()+h);break;case Ext.Date.MONTH:var e=g.getDate();if(e>28){e=Math.min(e,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(g),\"mo\",h)).getDate())}i.setDate(e);i.setMonth(g.getMonth()+h);break;case Ext.Date.YEAR:i.setFullYear(g.getFullYear()+h);break}return i},between:function(d,f,c){var e=d.getTime();return f.getTime()<=e&&e<=c.getTime()}};var a=Ext.DateExtras;Ext.apply(Ext.Date,a);Ext.apply(Ext.util.Date,a)})();Ext.define(\"Ext.util.Format\",{requires:[\"Ext.DateExtras\"],singleton:true,defaultDateFormat:\"m/d/Y\",escapeRe:/('|\\\\)/g,trimRe:/^[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+|[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]+$/g,formatRe:/\\{(\\d+)\\}/g,escapeRegexRe:/([-.*+?^${}()|[\\]\\/\\\\])/g,dashesRe:/-/g,iso8601TestRe:/\\d\\dT\\d\\d/,iso8601SplitRe:/[- :T\\.Z\\+]/,ellipsis:function(c,a,d){if(c&&c.length>a){if(d){var e=c.substr(0,a-2),b=Math.max(e.lastIndexOf(\" \"),e.lastIndexOf(\".\"),e.lastIndexOf(\"!\"),e.lastIndexOf(\"?\"));if(b!=-1&&b>=(a-15)){return e.substr(0,b)+\"...\"}}return c.substr(0,a-3)+\"...\"}return c},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,\"\\\\$1\")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,\"\\\\$1\")},toggle:function(b,c,a){return b==c?a:c},trim:function(a){return a.replace(Ext.util.Format.trimRe,\"\")},leftPad:function(d,b,c){var a=String(d);c=c||\" \";while(a.length<b){a=c+a}return a},format:function(b){var a=Ext.toArray(arguments,1);return b.replace(Ext.util.Format.formatRe,function(c,d){return a[d]})},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,\"&amp;\").replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,\">\").replace(/&lt;/g,\"<\").replace(/&quot;/g,'\"').replace(/&amp;/g,\"&\")},date:function(b,c){var a=b;if(!b){return\"\"}if(!Ext.isDate(b)){a=new Date(Date.parse(b));if(isNaN(a)){if(this.iso8601TestRe.test(b)){a=b.split(this.iso8601SplitRe);a=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])}if(isNaN(a)){a=new Date(Date.parse(b.replace(this.dashesRe,\"/\")));if(isNaN(a)){Ext.Logger.error(\"Cannot parse the passed value \"+b+\" into a valid date\")}}}b=a}return Ext.Date.format(b,c||Ext.util.Format.defaultDateFormat)}});Ext.define(\"Ext.Template\",{requires:[\"Ext.dom.Helper\",\"Ext.util.Format\"],inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||\"\")}},constructor:function(d){var f=this,b=arguments,a=[],c=0,e=b.length,g;f.initialConfig={};if(e>1){for(;c<e;c++){g=b[c];if(typeof g==\"object\"){Ext.apply(f.initialConfig,g);Ext.apply(f,g)}else{a.push(g)}}d=a.join(\"\")}else{if(Ext.isArray(d)){a.push(d.join(\"\"))}else{a.push(d)}}f.html=a.join(\"\");if(f.compiled){f.compile()}},isTemplate:true,disableFormats:false,re:/\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((.*?)?\\))?)?\\}/g,apply:function(a){var g=this,d=g.disableFormats!==true,f=Ext.util.Format,c=g,b;if(g.compiled){return g.compiled(a).join(\"\")}function e(h,j,k,i){if(k&&d){if(i){i=[a[j]].concat(Ext.functionFactory(\"return [\"+i+\"];\")())}else{i=[a[j]]}if(k.substr(0,5)==\"this.\"){return c[k.substr(5)].apply(c,i)}else{return f[k].apply(f,i)}}else{return a[j]!==undefined?a[j]:\"\"}}b=g.html.replace(g.re,e);return b},applyOut:function(a,b){var c=this;if(c.compiled){b.push.apply(b,c.compiled(a))}else{b.push(c.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compileARe:/\\\\/g,compileBRe:/(\\r\\n|\\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?\",\"+args:\"\";if(format.substr(0,5)!=\"this.\"){format=\"fm.\"+format+\"(\"}else{format=\"this.\"+format.substr(5)+\"(\"}}else{args=\"\";format=\"(values['\"+name+\"'] == undefined ? '' : \"}return\"',\"+format+\"values['\"+name+\"']\"+args+\") ,'\"}bodyReturn=me.html.replace(me.compileARe,\"\\\\\\\\\").replace(me.compileBRe,\"\\\\n\").replace(me.compileCRe,\"\\\\'\").replace(me.re,fn);body=\"this.compiled = function(values){ return ['\"+bodyReturn+\"'];};\";eval(body);return me},insertFirst:function(b,a,c){return this.doInsert(\"afterBegin\",b,a,c)},insertBefore:function(b,a,c){return this.doInsert(\"beforeBegin\",b,a,c)},insertAfter:function(b,a,c){return this.doInsert(\"afterEnd\",b,a,c)},append:function(b,a,c){return this.doInsert(\"beforeEnd\",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.apply(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.apply(a);return c?Ext.get(b.firstChild,true):b.firstChild}});Ext.define(\"Ext.XTemplate\",{extend:\"Ext.Template\",requires:\"Ext.XTemplateCompiler\",apply:function(a){return this.applyOut(a,[]).join(\"\")},applyOut:function(a,b){var d=this,c;if(!d.fn){c=new Ext.XTemplateCompiler({useFormat:d.disableFormats!==true});d.fn=c.compile(d.html)}try{d.fn.call(d,b,a,{},1,1)}catch(f){Ext.Logger.error(f.message)}return b},compile:function(){return this},statics:{getTpl:function(a,c){var b=a[c],d;if(b&&!b.isTemplate){b=Ext.ClassManager.dynInstantiate(\"Ext.XTemplate\",b);if(a.hasOwnProperty(c)){a[c]=b}else{for(d=a.self.prototype;d;d=d.superclass){if(d.hasOwnProperty(c)){d[c]=b;break}}}}return b||null}}});Ext.define(\"Ext.util.SizeMonitor\",{extend:\"Ext.Evented\",config:{element:null,detectorCls:Ext.baseCSSPrefix+\"size-change-detector\",callback:Ext.emptyFn,scope:null,args:[]},constructor:function(d){this.initConfig(d);this.doFireSizeChangeEvent=Ext.Function.bind(this.doFireSizeChangeEvent,this);var g=this,e=this.getElement().dom,b=this.getDetectorCls(),c=Ext.Element.create({classList:[b,b+\"-expand\"],children:[{}]},true),h=Ext.Element.create({classList:[b,b+\"-shrink\"],children:[{}]},true),a=function(i){g.onDetectorScroll(\"expand\",i)},f=function(i){g.onDetectorScroll(\"shrink\",i)};e.appendChild(c);e.appendChild(h);this.detectors={expand:c,shrink:h};this.position={expand:{left:0,top:0},shrink:{left:0,top:0}};this.listeners={expand:a,shrink:f};this.refresh();c.addEventListener(\"scroll\",a,true);h.addEventListener(\"scroll\",f,true)},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){a.on(\"destroy\",\"destroy\",this)},refreshPosition:function(b){var e=this.detectors[b],a=this.position[b],d,c;a.left=d=e.scrollWidth-e.offsetWidth;a.top=c=e.scrollHeight-e.offsetHeight;e.scrollLeft=d;e.scrollTop=c},refresh:function(){this.refreshPosition(\"expand\");this.refreshPosition(\"shrink\")},onDetectorScroll:function(b){var c=this.detectors[b],a=this.position[b];if(c.scrollLeft!==a.left||c.scrollTop!==a.top){this.refresh();this.fireSizeChangeEvent()}},fireSizeChangeEvent:function(){clearTimeout(this.sizeChangeThrottleTimer);this.sizeChangeThrottleTimer=setTimeout(this.doFireSizeChangeEvent,1)},doFireSizeChangeEvent:function(){this.getCallback().apply(this.getScope(),this.getArgs())},destroyDetector:function(a){var c=this.detectors[a],b=this.listeners[a];c.removeEventListener(\"scroll\",b,true);Ext.removeNode(c)},destroy:function(){this.callParent(arguments);this.destroyDetector(\"expand\");this.destroyDetector(\"shrink\");delete this.listeners;delete this.detectors}});Ext.define(\"Ext.fx.easing.Linear\",{extend:\"Ext.fx.easing.Abstract\",alias:\"easing.linear\",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();if(a>b){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((a/b)*this.distance)}}});Ext.define(\"Ext.util.translatable.Abstract\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.easing.Linear\"],config:{element:null,easing:null,easingX:null,easingY:null,fps:60},constructor:function(a){var b;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.x=0;this.y=0;this.activeEasingX=null;this.activeEasingY=null;this.initialConfig=a;if(a&&a.element){b=a.element;this.setElement(b)}},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initConfig(this.initialConfig);this.refresh()},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,\"easing\")},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateFps:function(a){this.animationInterval=1000/a},doTranslate:function(a,b){if(typeof a==\"number\"){this.x=a}if(typeof b==\"number\"){this.y=b}return this},translate:function(a,c,b){if(!this.getElement().dom){return}if(Ext.isObject(a)){throw new Error()}this.stopAnimation();if(b){return this.translateAnimated(a,c,b)}return this.doTranslate(a,c)},animate:function(b,a){this.activeEasingX=b;this.activeEasingY=a;this.isAnimating=true;this.animationTimer=setInterval(this.doAnimationFrame,this.animationInterval);this.fireEvent(\"animationstart\",this,this.x,this.y);return this},translateAnimated:function(b,g,e){if(Ext.isObject(b)){throw new Error()}if(!Ext.isObject(e)){e={}}var d=Ext.Date.now(),f=e.easing,c=(typeof b==\"number\")?(e.easingX||this.getEasingX()||f||true):null,a=(typeof g==\"number\")?(e.easingY||this.getEasingY()||f||true):null;if(c){c=this.factoryEasing(c);c.setStartTime(d);c.setStartValue(this.x);c.setEndValue(b);if(\"duration\" in e){c.setDuration(e.duration)}}if(a){a=this.factoryEasing(a);a.setStartTime(d);a.setStartValue(this.y);a.setEndValue(g);if(\"duration\" in e){a.setDuration(e.duration)}}return this.animate(c,a)},doAnimationFrame:function(){var c=this.activeEasingX,b=this.activeEasingY,d=this.getElement(),a,e;if(!this.isAnimating||!d.dom){return}if(c===null&&b===null){this.stopAnimation();return}if(c!==null){this.x=a=Math.round(c.getValue());if(c.isEnded){this.activeEasingX=null;this.fireEvent(\"axisanimationend\",this,\"x\",a)}}else{a=this.x}if(b!==null){this.y=e=Math.round(b.getValue());if(b.isEnded){this.activeEasingY=null;this.fireEvent(\"axisanimationend\",this,\"y\",e)}}else{e=this.y}this.doTranslate(a,e);this.fireEvent(\"animationframe\",this,a,e)},stopAnimation:function(){if(!this.isAnimating){return}this.activeEasingX=null;this.activeEasingY=null;this.isAnimating=false;clearInterval(this.animationTimer);this.fireEvent(\"animationend\",this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)}});Ext.define(\"Ext.util.translatable.CssTransform\",{extend:\"Ext.util.translatable.Abstract\",doTranslate:function(a,c){var b=this.getElement().dom.style;if(typeof a!=\"number\"){a=this.x}if(typeof c!=\"number\"){c=this.y}b.webkitTransform=\"translate3d(\"+a+\"px, \"+c+\"px, 0px)\";return this.callParent(arguments)},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed){a.dom.style.webkitTransform=null}this.callParent(arguments)}});Ext.define(\"Ext.util.translatable.ScrollPosition\",{extend:\"Ext.util.translatable.Abstract\",wrapperWidth:0,wrapperHeight:0,baseCls:\"x-translatable\",config:{useWrapper:true},getWrapper:function(){var e=this.wrapper,c=this.baseCls,b=this.getElement(),d,a;if(!e){a=b.getParent();if(!a){return null}if(this.getUseWrapper()){e=b.wrap({className:c+\"-wrapper\"},true)}else{e=a.dom}e.appendChild(Ext.Element.create({className:c+\"-stretcher\"},true));this.nestedStretcher=d=Ext.Element.create({className:c+\"-nested-stretcher\"},true);b.appendChild(d);b.addCls(c);a.addCls(c+\"-container\");this.container=a;this.wrapper=e;this.refresh()}return e},doTranslate:function(a,c){var b=this.getWrapper();if(b){if(typeof a==\"number\"){b.scrollLeft=this.wrapperWidth-a}if(typeof c==\"number\"){b.scrollTop=this.wrapperHeight-c}}return this.callParent(arguments)},refresh:function(){var a=this.getWrapper();if(a){this.wrapperWidth=a.offsetWidth;this.wrapperHeight=a.offsetHeight;this.callParent(arguments)}},destroy:function(){var b=this.getElement(),a=this.baseCls;if(this.wrapper){if(this.getUseWrapper()){b.unwrap()}this.container.removeCls(a+\"-container\");b.removeCls(a);b.removeChild(this.nestedStretcher)}this.callParent(arguments)}});Ext.define(\"Ext.util.Translatable\",{requires:[\"Ext.util.translatable.CssTransform\",\"Ext.util.translatable.ScrollPosition\"],constructor:function(a){var c=Ext.util.translatable,e=c.CssTransform,d=c.ScrollPosition,b;if(typeof a==\"object\"&&\"translationMethod\" in a){if(a.translationMethod===\"scrollposition\"){b=d}else{if(a.translationMethod===\"csstransform\"){b=e}}}if(!b){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){b=d}else{b=e}}return new b(a)}});Ext.define(\"Ext.behavior.Translatable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.util.Translatable\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.translatable.refresh()},setConfig:function(c){var a=this.translatable,b=this.component;if(c){if(!a){this.translatable=a=new Ext.util.Translatable(c);a.setElement(b.renderElement);a.on(\"destroy\",\"onTranslatableDestroy\",this);if(b.isPainted()){this.onComponentPainted(b)}b.on(this.listeners)}else{if(Ext.isObject(c)){a.setConfig(c)}}}else{if(a){a.destroy()}}return this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){var a=this.component;delete this.translatable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.translatable;if(a){a.destroy()}}});Ext.define(\"Ext.util.Draggable\",{isDraggable:true,mixins:[\"Ext.mixin.Observable\"],requires:[\"Ext.util.SizeMonitor\",\"Ext.util.Translatable\"],config:{cls:Ext.baseCSSPrefix+\"draggable\",draggingCls:Ext.baseCSSPrefix+\"dragging\",element:null,constraint:\"container\",disabled:null,direction:\"both\",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:\"both\",DIRECTION_VERTICAL:\"vertical\",DIRECTION_HORIZONTAL:\"horizontal\",defaultConstraint:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}},sizeMonitor:null,containerSizeMonitor:null,constructor:function(a){var b;this.extraConstraint={};this.initialConfig=a;this.offset={x:0,y:0};this.listeners={dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this};if(a&&a.element){b=a.element;delete a.element;this.setElement(b)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){a.on(this.listeners);this.sizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.initConfig(this.initialConfig)},updateInitialOffset:function(b){if(typeof b==\"number\"){b={x:b,y:b}}var c=this.offset,a,d;c.x=a=b.x;c.y=d=b.y;this.getTranslatable().doTranslate(a,d)},updateCls:function(a){this.getElement().addCls(a)},applyTranslatable:function(a,b){a=Ext.factory(a,Ext.util.Translatable,b);a.setElement(this.getElement());return a},setExtraConstraint:function(a){this.extraConstraint=a||{};this.refreshConstraint();return this},addExtraConstraint:function(a){Ext.merge(this.extraConstraint,a);this.refreshConstraint();return this},applyConstraint:function(a){this.currentConstraint=a;if(!a){a=this.defaultConstraint}if(a===\"container\"){return Ext.merge(this.getContainerConstraint(),this.extraConstraint)}return Ext.merge({},this.extraConstraint,a)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var b=this.getContainer(),c=this.getElement();if(!b||!c.dom){return this.defaultConstraint}var h=c.dom,g=b.dom,d=h.offsetWidth,a=h.offsetHeight,f=g.offsetWidth,e=g.offsetHeight;return{min:{x:0,y:0},max:{x:f-d,y:e-a}}},getContainer:function(){var a=this.container;if(!a){a=this.getElement().getParent();if(a){this.containerSizeMonitor=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.container=a;a.on(\"destroy\",\"onContainerDestroy\",this)}}return a},onContainerDestroy:function(){delete this.container;delete this.containerSizeMonitor},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(a){var b=this.getDirection();if(a===\"x\"){return(b===this.DIRECTION_BOTH||b===this.DIRECTION_HORIZONTAL)}return(b===this.DIRECTION_BOTH||b===this.DIRECTION_VERTICAL)},onDragStart:function(a){if(this.getDisabled()){return false}var b=this.offset;this.fireAction(\"dragstart\",[this,a,b.x,b.y],this.initDragStart)},initDragStart:function(b,c,a,d){this.dragStartOffset={x:a,y:d};this.isDragging=true;this.getElement().addCls(this.getDraggingCls())},onDrag:function(b){if(!this.isDragging){return}var a=this.dragStartOffset;this.fireAction(\"drag\",[this,b,a.x+b.deltaX,a.y+b.deltaY],this.doDrag)},doDrag:function(b,c,a,d){b.setOffset(a,d)},onDragEnd:function(a){if(!this.isDragging){return}this.onDrag(a);this.isDragging=false;this.getElement().removeCls(this.getDraggingCls());this.fireEvent(\"dragend\",this,a,this.offset.x,this.offset.y)},setOffset:function(i,h,b){var f=this.offset,a=this.getConstraint(),e=a.min,c=a.max,d=Math.min,g=Math.max;if(this.isAxisEnabled(\"x\")&&typeof i==\"number\"){i=d(g(i,e.x),c.x)}else{i=f.x}if(this.isAxisEnabled(\"y\")&&typeof h==\"number\"){h=d(g(h,e.y),c.y)}else{h=f.y}f.x=i;f.y=h;this.getTranslatable().translate(i,h,b)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var a=this.offset;this.setOffset(a.x,a.y)},doRefresh:function(){this.refreshConstraint();this.getTranslatable().refresh();this.refreshOffset()},refresh:function(){if(this.sizeMonitor){this.sizeMonitor.refresh()}if(this.containerSizeMonitor){this.containerSizeMonitor.refresh()}this.doRefresh()},enable:function(){return this.setDisabled(false)},disable:function(){return this.setDisabled(true)},destroy:function(){var a=this.getTranslatable();Ext.destroy(this.containerSizeMonitor,this.sizeMonitor);delete this.sizeMonitor;delete this.containerSizeMonitor;var b=this.getElement();if(b&&!b.isDestroyed){b.removeCls(this.getCls())}this.detachListeners();if(a){a.destroy()}}},function(){this.override({constructor:function(a){if(a&&a.constrain){Ext.Logger.deprecate(\"'constrain' config is deprecated, please use 'contraint' instead\");a.contraint=a.constrain;delete a.constrain}return this.callOverridden(arguments)}})});Ext.define(\"Ext.behavior.Draggable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.util.Draggable\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.draggable.refresh()},setConfig:function(c){var a=this.draggable,b=this.component;if(c){if(!a){b.setTranslatable(true);this.draggable=a=new Ext.util.Draggable(c);a.setTranslatable(b.getTranslatable());a.setElement(b.renderElement);a.on(\"destroy\",\"onDraggableDestroy\",this);if(b.isPainted()){this.onComponentPainted(b)}b.on(this.listeners)}else{if(Ext.isObject(c)){a.setConfig(c)}}}else{if(a){a.destroy()}}return this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){var a=this.component;delete this.draggable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.draggable;if(a){a.destroy()}}});(function(a){Ext.define(\"Ext.Component\",{extend:\"Ext.AbstractComponent\",alternateClassName:\"Ext.lib.Component\",mixins:[\"Ext.mixin.Traversable\"],requires:[\"Ext.ComponentManager\",\"Ext.XTemplate\",\"Ext.dom.Element\",\"Ext.behavior.Translatable\",\"Ext.behavior.Draggable\"],xtype:\"component\",observableType:\"component\",cachedConfig:{baseCls:null,cls:null,floatingCls:null,hiddenCls:a+\"item-hidden\",ui:null,margin:null,padding:null,border:null,styleHtmlCls:a+\"html\",styleHtmlContent:null},eventedConfig:{left:null,top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:\"overwrite\",data:null,disabledCls:a+\"item-disabled\",contentEl:null,itemId:undefined,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,alignmentRegex:/^([a-z]+)-([a-z]+)(\\?)?$/,isComponent:true,floating:false,rendered:false,dockPositions:{top:true,right:true,bottom:true,left:true},innerElement:null,element:null,template:[],constructor:function(c){var d=this,b=d.config,e;d.onInitializedListeners=[];d.initialConfig=c;if(c!==undefined&&\"id\" in c){e=c.id}else{if(\"id\" in b){e=b.id}else{e=d.getId()}}d.id=e;d.setId(e);Ext.ComponentManager.register(d);d.initElement();d.initConfig(d.initialConfig);d.initialize();d.triggerInitialized();if(d.config.fullscreen){d.fireEvent(\"fullscreen\",d)}d.fireEvent(\"initialize\",d)},beforeInitConfig:function(b){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:\"element\",children:this.getTemplate()}},triggerInitialized:function(){var c=this.onInitializedListeners,d=c.length,e,b;if(!this.initialized){this.initialized=true;if(d>0){for(b=0;b<d;b++){e=c[b];e.fn.call(e.scope,this)}c.length=0}}},onInitialized:function(d,c){var b=this.onInitializedListeners;if(!c){c=this}if(this.initialized){d.call(c,this)}else{b.push({fn:d,scope:c})}},renderTo:function(b,d){var f=this.renderElement.dom,e=Ext.getDom(b),c=Ext.getDom(d);if(e){if(c){e.insertBefore(f,c)}else{e.appendChild(f)}this.setRendered(Boolean(f.offsetParent))}},setParent:function(c){var b=this.parent;if(c&&b&&b!==c){b.remove(this,false)}this.parent=c;return this},applyPlugins:function(b){var d,c,e;if(!b){return b}b=[].concat(b);for(c=0,d=b.length;c<d;c++){e=b[c];if(Ext.isObject(e)&&e.ptype){Ext.Logger.deprecate(\"Using a ptype is now deprecated, please use type instead\",1);e.type=e.ptype}b[c]=Ext.factory(e,\"Ext.plugin.Plugin\",null,\"plugin\")}return b},updatePlugins:function(e,b){var d,c;if(e){for(c=0,d=e.length;c<d;c++){e[c].init(this)}}if(b){for(c=0,d=b.length;c<d;c++){Ext.destroy(b[c])}}},updateRenderTo:function(b){this.renderTo(b)},updateStyle:function(b){this.element.applyStyles(b)},updateBorder:function(b){this.element.setBorder(b)},updatePadding:function(b){this.innerElement.setPadding(b)},updateMargin:function(b){this.element.setMargin(b)},updateUi:function(b,d){var c=this.getBaseCls();if(c){if(d){this.element.removeCls(d,c)}if(b){this.element.addCls(b,c)}}},applyBaseCls:function(b){return b||a+this.xtype},updateBaseCls:function(b,c){var d=this,e=d.getUi();if(b){this.element.addCls(b);if(e){this.element.addCls(b,null,e)}}if(c){this.element.removeCls(c);if(e){this.element.removeCls(c,null,e)}}},addCls:function(b,h,j){var e=this.getCls(),g=(e)?e.slice():[],f,d,c;h=h||\"\";j=j||\"\";if(typeof b==\"string\"){b=[b]}f=b.length;if(!g.length&&h===\"\"&&j===\"\"){g=b}else{for(d=0;d<f;d++){c=h+b[d]+j;if(g.indexOf(c)==-1){g.push(c)}}}this.setCls(g)},removeCls:function(b,g,h){var d=this.getCls(),f=(d)?d.slice():[],e,c;g=g||\"\";h=h||\"\";if(typeof b==\"string\"){f=Ext.Array.remove(f,g+b+h)}else{e=b.length;for(c=0;c<e;c++){f=Ext.Array.remove(f,g+b[c]+h)}}this.setCls(f)},replaceCls:function(e,j,d,h){var k=this.getCls(),f=(k)?k.slice():[],g,c,b;d=d||\"\";h=h||\"\";if(typeof e==\"string\"){f=Ext.Array.remove(f,d+e+h)}else{if(e){g=e.length;for(c=0;c<g;c++){f=Ext.Array.remove(f,d+e[c]+h)}}}if(typeof j==\"string\"){f.push(d+j+h)}else{if(j){g=j.length;if(!f.length&&d===\"\"&&h===\"\"){f=j}else{for(c=0;c<g;c++){b=d+j[c]+h;if(f.indexOf(b)==-1){f.push(b)}}}}}this.setCls(f)},applyCls:function(b){if(typeof b==\"string\"){b=[b]}if(!b||!b.length){b=null}return b},updateCls:function(c,b){if(b!=c&&this.element){this.element.replaceCls(b,c)}},updateStyleHtmlCls:function(d,b){var e=this.innerHtmlElement,c=this.innerElement;if(this.getStyleHtmlContent()&&b){if(e){e.replaceCls(b,d)}else{c.replaceCls(b,d)}}},applyStyleHtmlContent:function(b){return Boolean(b)},updateStyleHtmlContent:function(d){var b=this.getStyleHtmlCls(),c=this.innerElement,e=this.innerHtmlElement;if(d){if(e){e.addCls(b)}else{c.addCls(b)}}else{if(e){e.removeCls(b)}else{c.addCls(b)}}},applyContentEl:function(b){if(b){return Ext.get(b)}},updateContentEl:function(b,c){if(c){c.hide();Ext.getBody().append(c)}if(b){this.setHtml(b.dom);b.show()}},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},isInnerItem:function(){var b=this;return !b.isCentered()&&!b.isFloating()&&!b.isDocked()},filterPositionValue:function(b){if(b===\"\"||b===\"auto\"){b=null}return b},applyTop:function(b){return this.filterPositionValue(b)},applyRight:function(b){return this.filterPositionValue(b)},applyBottom:function(b){return this.filterPositionValue(b)},applyLeft:function(b){return this.filterPositionValue(b)},doSetTop:function(b){this.updateFloating();this.element.setTop(b)},doSetRight:function(b){this.updateFloating();this.element.setRight(b)},doSetBottom:function(b){this.updateFloating();this.element.setBottom(b)},doSetLeft:function(b){this.updateFloating();this.element.setLeft(b)},doSetWidth:function(b){this.element.setWidth(b)},doSetHeight:function(b){this.element.setHeight(b)},doSetMinWidth:function(b){this.element.setMinWidth(b)},doSetMinHeight:function(b){this.element.setMinHeight(b)},doSetMaxWidth:function(b){this.element.setMaxWidth(b)},doSetMaxHeight:function(b){this.element.setMaxHeight(b)},applyCentered:function(b){b=Boolean(b);if(b){if(this.isFloating()){this.resetFloating()}if(this.isDocked()){this.setDocked(false)}}return b},doSetCentered:Ext.emptyFn,applyDocked:function(b){if(!b){return null}if(!this.dockPositions[b]){Ext.Logger.error(\"Invalid docking position of '\"+b+\"', must be either 'top', 'right', 'bottom', 'left' or `null` (for no docking)\",this);return}if(this.isFloating()){this.resetFloating()}if(this.isCentered()){this.setCentered(false)}return b},doSetDocked:Ext.emptyFn,resetFloating:function(){this.setTop(null);this.setRight(null);this.setBottom(null);this.setLeft(null)},updateFloating:function(){var c=true,b=this.getFloatingCls();if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null){c=false}if(c!==this.floating){if(c){if(this.isCentered()){this.setCentered(false)}if(this.isDocked()){this.setDocked(false)}if(b){this.addCls(b)}}else{if(b){this.removeCls(b)}}this.floating=c;this.fireEvent(\"floatingchange\",this,c)}},updateFloatingCls:function(b,c){if(this.isFloating()){this.replaceCls(c,b)}},applyDisabled:function(b){return Boolean(b)},doSetDisabled:function(b){this.element[b?\"addCls\":\"removeCls\"](this.getDisabledCls())},updateDisabledCls:function(b,c){if(this.isDisabled()){this.element.replaceCls(c,b)}},disable:function(){this.setDisabled(true)},enable:function(){this.setDisabled(false)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(b){if(b!==null){b=Number(b);if(isNaN(b)){b=null}}return b},updateZIndex:function(c){var b=this.element.dom.style;if(c!==null){b.setProperty(\"z-index\",c,\"important\")}else{b.removeProperty(\"z-index\")}},getInnerHtmlElement:function(){var b=this.innerHtmlElement,c=this.getStyleHtmlCls();if(!b||!b.dom||!b.dom.parentNode){this.innerHtmlElement=b=this.innerElement.createChild({cls:\"x-innerhtml \"});if(this.getStyleHtmlContent()){this.innerHtmlElement.addCls(c);this.innerElement.removeCls(c)}}return b},updateHtml:function(b){var c=this.getInnerHtmlElement();if(Ext.isElement(b)){c.setHtml(\"\");c.append(b)}else{c.setHtml(b)}},applyHidden:function(b){return Boolean(b)},doSetHidden:function(c){var b=this.renderElement;if(b.isDestroyed){return}if(c){b.hide()}else{b.show()}if(this.element){this.element[c?\"addCls\":\"removeCls\"](this.getHiddenCls())}this.fireEvent(c?\"hide\":\"show\",this)},updateHiddenCls:function(b,c){if(this.isHidden()){this.element.replaceCls(c,b)}},isHidden:function(){return this.getHidden()},hide:function(b){if(!this.getHidden()){if(b===undefined||(b&&b.isComponent)){b=this.getHideAnimation()}if(b){if(b===true){b=\"fadeOut\"}this.onBefore({hiddenchange:\"animateFn\",scope:this,single:true,args:[b]})}this.setHidden(true)}return this},show:function(c){var b=this.getHidden();if(b||b===null){if(c===true){c=\"fadeIn\"}else{if(c===undefined||(c&&c.isComponent)){c=this.getShowAnimation()}}if(c){this.onBefore({hiddenchange:\"animateFn\",scope:this,single:true,args:[c]})}this.setHidden(false)}return this},animateFn:function(g,e,h,d,c,b){if(g&&(!h||(h&&this.isPainted()))){var f=new Ext.fx.Animation(g);f.setElement(e.element);if(h){f.setOnEnd(function(){b.resume()});b.pause()}Ext.Animator.run(f)}},setVisibility:function(b){this.renderElement.setVisibility(b)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(b){return(Ext.isObject(b)&&b.isTemplate)?b:new Ext.XTemplate(b)},applyData:function(b){if(Ext.isObject(b)){return Ext.apply({},b)}return b},updateData:function(d){var e=this;if(d){var c=e.getTpl(),b=e.getTplWriteMode();if(c){c[b](e.getInnerHtmlElement(),d)}this.fireEvent(\"updatedata\",e,d)}},applyRecord:function(b){if(b&&Ext.isObject(b)&&b.isModel){return b}return null},updateRecord:function(c,b){var d=this;if(b){b.unjoin(d)}if(!c){d.updateData(\"\")}else{c.join(d);d.updateData(c.getData(true))}},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},applyItemId:function(b){return b||this.getId()},isXType:function(c,b){if(b){return this.xtypes.indexOf(c)!=-1}return Boolean(this.xtypesMap[c])},getXTypes:function(){return this.xtypesChain.join(\"/\")},getDraggableBehavior:function(){var b=this.draggableBehavior;if(!b){b=this.draggableBehavior=new Ext.behavior.Draggable(this)}return b},applyDraggable:function(b){this.getDraggableBehavior().setConfig(b)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var b=this.translatableBehavior;if(!b){b=this.translatableBehavior=new Ext.behavior.Translatable(this)}return b},applyTranslatable:function(b){this.getTranslatableBehavior().setConfig(b)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(c,e,d){var b,f;if(c===\"x\"){b=e}else{f=e}return this.translate(b,f,d)},translate:function(){var b=this.getTranslatable();if(!b){this.setTranslatable(true);b=this.getTranslatable()}b.translate.apply(b,arguments)},setRendered:function(c){var b=this.rendered;if(c!==b){this.rendered=c;return true}return false},setSize:function(c,b){if(c!=undefined){this.setWidth(c)}if(b!=undefined){this.setHeight(b)}},doAddListener:function(d,f,e,c,b){if(c&&\"element\" in c){if(this.referenceList.indexOf(c.element)===-1){Ext.Logger.error(\"Adding event listener with an invalid element reference of '\"+c.element+\"' for this component. Available values are: '\"+this.referenceList.join(\"', '\")+\"'\",this)}this[c.element].doAddListener(d,f,e||this,c,b)}return this.callParent(arguments)},doRemoveListener:function(d,f,e,c,b){if(c&&\"element\" in c){if(this.referenceList.indexOf(c.element)===-1){Ext.Logger.error(\"Removing event listener with an invalid element reference of '\"+c.element+\"' for this component. Available values are: '\"+this.referenceList.join('\", \"')+\"'\",this)}this[c.element].doRemoveListener(d,f,e||this,c,b)}return this.callParent(arguments)},showBy:function(d,f){var c=Ext.Array.from(arguments);var b=Ext.Viewport,e=this.getParent();this.setVisibility(false);if(e!==b){b.add(this)}this.show();this.on(\"erased\",\"onShowByErased\",this,{single:true});b.on(\"resize\",\"refreshShowBy\",this,{args:[d,f]});this.currentShowByArgs=c;this.alignTo(d,f);this.setVisibility(true)},refreshShowBy:function(b,c){this.alignTo(b,c)},onShowByErased:function(){Ext.Viewport.un(\"resize\",\"refreshShowBy\",this)},alignTo:function(o,j){var f=o.isComponent?o.renderElement:o,c=this.renderElement,q=f.getPageBox(),B=this.getParent().element.getPageBox(),n=c.getPageBox(),y=q.height,p=q.width,t=n.height,v=n.width;B.bottom-=5;B.height-=10;B.left+=5;B.right-=5;B.top+=5;B.width-=10;if(!j||j===\"auto\"){if(B.bottom-q.bottom<t){if(q.top-B.top<t){if(q.left-B.left<v){j=\"cl-cr?\"}else{j=\"cr-cl?\"}}else{j=\"bc-tc?\"}}else{j=\"tc-bc?\"}}var b=j.match(this.alignmentRegex);if(!b){Ext.Logger.error(\"Invalid alignment value of '\"+j+\"'\")}var w=b[1].split(\"\"),d=b[2].split(\"\"),z=(b[3]===\"?\"),i=w[0],u=w[1]||i,m=d[0],l=d[1]||m,r=q.top,e=q.left,k=y/2,g=p/2,h=v/2,s=t/2,x,A;switch(i){case\"t\":switch(m){case\"c\":r+=k;break;case\"b\":r+=y}break;case\"b\":switch(m){case\"c\":r-=(t-k);break;case\"t\":r-=t;break;case\"b\":r-=t-y}break;case\"c\":switch(m){case\"t\":r-=s;break;case\"c\":r-=(s-k);break;case\"b\":r-=(s-y)}break}switch(u){case\"l\":switch(l){case\"c\":e+=k;break;case\"r\":e+=p}break;case\"r\":switch(l){case\"r\":e-=(v-p);break;case\"c\":e-=(v-h);break;case\"l\":e-=v}break;case\"c\":switch(l){case\"l\":e-=h;break;case\"c\":e-=(h-g);break;case\"r\":e-=(h-p)}break}if(z){x=(B.left+B.width)-v;A=(B.top+B.height)-t;e=Math.max(B.left,Math.min(x,e));r=Math.max(B.top,Math.min(A,r))}this.setLeft(e);this.setTop(r)},up:function(c){var b=this.parent;if(c){for(;b;b=b.parent){if(Ext.ComponentQuery.is(b,c)){return b}}}return b},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var e=this.getParent(),c=this.referenceList,d,f,b;Ext.destroy(this.getTranslatable(),this.getPlugins());if(e){e.remove(this,false)}for(d=0,f=c.length;d<f;d++){b=c[d];this[b].destroy();delete this[b]}Ext.destroy(this.innerHtmlElement);this.setRecord(null);Ext.ComponentManager.unregister(this);this.callParent()},onClassExtended:function(c,g){var e=this,b=e.prototype.config,d=g.config||{},f;for(f in b){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+' is deprecated as a property directly on the Component. Please put it inside the config object, and retrieve it using \"this.config.'+f+'\"')}}g.config=d}},function(){var b=Ext.emptyFn;this.override({constructor:function(d){var c;if(d){if(d.enabled){Ext.Logger.deprecate(\"'enabled' config is deprecated, please use 'disabled' config instead\",this);d.disabled=!d.enabled}if((d.scroll||this.config.scroll||this.scrollable||this.config.scrollable)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able to scroll a component. Please use a Ext.Container instead.\",this);delete d.scrollable;delete d.scroll}if((d.hideOnMaskTap||this.config.hideOnMaskTap)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able use hideOnMaskTap on a component. Please use a Ext.Container instead.\",this);delete d.hideOnMaskTap}if((d.modal||this.config.modal)&&!this.isContainer){Ext.Logger.deprecate(\"You are no longer able use modal on a component. Please use a Ext.Container instead.\",this);delete d.modal}if(d.dock){Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");d.docked=d.dock;delete d.dock}if(d.enterAnimation){Ext.Logger.deprecate(\"'enterAnimation' config for Components is deprecated, please use 'showAnimation' instead\");d.showAnimation=d.enterAnimation;delete d.enterAnimation}if(d.exitAnimation){Ext.Logger.deprecate(\"'exitAnimation' config for Components is deprecated, please use 'hideAnimation' instead\");d.hideAnimation=d.exitAnimation;delete d.exitAnimation}if(d.componentCls){Ext.Logger.deprecate(\"'componentCls' config is deprecated, please use 'cls' config instead\",this);d.cls=d.componentCls}if(d.floating){Ext.Logger.deprecate(\"'floating' config is deprecated, please set 'left', 'right', 'top' or 'bottom' config instead\",this);d.left=d.left||0}for(c in d){if(d.hasOwnProperty(c)&&c!==\"xtype\"&&c!==\"xclass\"&&!this.hasConfig(c)){this[c]=d[c]}}if(d.layoutOnOrientationChange){Ext.Logger.deprecate(\"'layoutOnOrientationChange' has been fully removed and no longer used\");delete d.layoutOnOrientationChange}if(d.monitorOrientation){Ext.Logger.deprecate(\"'monitorOrientation' has been removed. If you need to monitor the orientaiton, please use the 'resize' event.\");delete d.monitorOrientation}if(d.stopMaskTapEvent){Ext.Logger.deprecate(\"'stopMaskTapEvent' has been removed.\");delete d.stopMaskTapEvent}}this.callParent(arguments);if(this.onRender!==b){Ext.Logger.deprecate(\"onRender() is deprecated, please put your code inside initialize() instead\",this);this.onRender()}if(this.afterRender!==b){Ext.Logger.deprecate(\"afterRender() is deprecated, please put your code inside initialize() instead\",this);this.afterRender()}if(this.initEvents!==b){Ext.Logger.deprecate(\"initEvents() is deprecated, please put your code inside initialize() instead\",this);this.initEvents()}if(this.initComponent!==b){Ext.Logger.deprecate(\"initComponent() is deprecated, please put your code inside initialize() instead\",this);this.initComponent()}if(this.setOrientation!==b){Ext.Logger.deprecate(\"setOrientation() is deprecated\",this);this.setOrientation()}},onRender:b,afterRender:b,initEvents:b,initComponent:b,setOrientation:b,show:function(){if(this.renderElement.dom){var c=this.renderElement.dom.parentNode;if(c&&c.nodeType==11){Ext.Logger.deprecate(\"Call show() on a component that doesn't currently belong to any container. Please add it to the the Viewport first, i.e: Ext.Viewport.add(component);\",this);Ext.Viewport.add(this)}}return this.callParent(arguments)},doAddListener:function(e,g,f,d,c){switch(e){case\"render\":Ext.Logger.warn(\"The render event on Components is deprecated. Please use the painted event. Please refer to: http://bit.ly/xgv3K1 for more details.\",this);return this;break}return this.callParent(arguments)},addListener:function(c){if(arguments.length===1&&Ext.isObject(c)&&((\"el\" in c)||(\"body\" in c))){Ext.Logger.error(\"Adding component element listeners using the old format is no longer supported. Please refer to: http://bit.ly/xHCyfa for more details.\",this)}return this.callParent(arguments)},getEl:function(){Ext.Logger.deprecate(\"getEl() is deprecated, please access the Component's element from the 'element' property instead\",this);return this.renderElement},setFloating:function(d){var c=this.isFloating();if(d&&!c){this.setTop(0)}else{if(c){this.resetFloating()}}},setScrollable:function(){Ext.Logger.deprecate(\"Ext.Component cannot be scrollable. Please use Ext.Container#setScrollable on a Ext.Container.\",this);return false}});Ext.deprecateClassMembers(this,{el:\"element\",body:\"element\",outer:\"renderElement\",ownerCt:\"parent\",update:\"setHtml\"})})})(Ext.baseCSSPrefix);Ext.define(\"Ext.event.publisher.ComponentDelegation\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.Component\",\"Ext.ComponentQuery\"],targetType:\"component\",optimizedSelectorRegex:/^#([\\w\\-]+)((?:[\\s]*)>(?:[\\s]*)|(?:\\s*))([\\w\\-]+)$/i,handledEvents:[\"*\"],getSubscribers:function(b,a){var d=this.subscribers,c=d[b];if(!c&&a){c=d[b]={type:{$length:0},selector:[],$length:0}}return c},subscribe:function(g,f){if(this.idSelectorRegex.test(g)){return false}var e=g.match(this.optimizedSelectorRegex),a=this.getSubscribers(f,true),k=a.type,c=a.selector,d,i,j,b,h;if(e!==null){d=e[1];i=e[2].indexOf(\">\")===-1;j=e[3];b=k[j];if(!b){k[j]=b={descendents:{$length:0},children:{$length:0},$length:0}}h=i?b.descendents:b.children;if(h.hasOwnProperty(d)){h[d]++;return true}h[d]=1;h.$length++;b.$length++;k.$length++}else{if(c.hasOwnProperty(g)){c[g]++;return true}c[g]=1;c.push(g)}a.$length++;return true},unsubscribe:function(g,f,k){var a=this.getSubscribers(f);if(!a){return false}var e=g.match(this.optimizedSelectorRegex),l=a.type,c=a.selector,d,i,j,b,h;k=Boolean(k);if(e!==null){d=e[1];i=e[2].indexOf(\">\")===-1;j=e[3];b=l[j];if(!b){return true}h=i?b.descendents:b.children;if(!h.hasOwnProperty(d)||(!k&&--h[d]>0)){return true}delete h[d];h.$length--;b.$length--;l.$length--}else{if(!c.hasOwnProperty(g)||(!k&&--c[g]>0)){return true}delete c[g];Ext.Array.remove(c,g)}if(--a.$length===0){delete this.subscribers[f]}return true},notify:function(d,a){var c=this.getSubscribers(a),e,b;if(!c||c.$length===0){return false}e=d.substr(1);b=Ext.ComponentManager.get(e);if(b){this.dispatcher.doAddListener(this.targetType,d,a,\"publish\",this,{args:[a,b]},\"before\")}},matchesSelector:function(b,a){return Ext.ComponentQuery.is(b,a)},dispatch:function(d,b,c,a){this.dispatcher.doDispatchEvent(this.targetType,d,b,c,null,a)},publish:function(g,k){var e=this.getSubscribers(g);if(!e){return}var p=arguments[arguments.length-1],o=e.type,b=e.selector,d=Array.prototype.slice.call(arguments,2,-2),l=k.xtypesChain,s,n,t,a,m,v,r,u,h,f,q,c;for(u=0,h=l.length;u<h;u++){f=l[u];e=o[f];if(e&&e.$length>0){s=e.descendents;if(s.$length>0){if(!a){a=k.getAncestorIds()}for(q=0,c=a.length;q<c;q++){m=a[q];if(s.hasOwnProperty(m)){this.dispatch(\"#\"+m+\" \"+f,g,d,p)}}}n=e.children;if(n.$length>0){if(!t){if(a){t=a[0]}else{v=k.getParent();if(v){t=v.getId()}}}if(t){if(n.hasOwnProperty(t)){this.dispatch(\"#\"+t+\" > \"+f,g,d,p)}}}}}h=b.length;if(h>0){for(u=0;u<h;u++){r=b[u];if(this.matchesSelector(k,r)){this.dispatch(r,g,d,p)}}}}});Ext.define(\"Ext.event.publisher.ComponentPaint\",{extend:\"Ext.event.publisher.Publisher\",targetType:\"component\",handledEvents:[\"painted\",\"erased\"],eventNames:{painted:\"painted\",erased:\"erased\"},constructor:function(){this.callParent(arguments);this.hiddenQueue={};this.renderedQueue={}},getSubscribers:function(b,a){var c=this.subscribers;if(!c.hasOwnProperty(b)){if(!a){return null}c[b]={$length:0}}return c[b]},setDispatcher:function(a){var b=this.targetType;a.doAddListener(b,\"*\",\"renderedchange\",\"onBeforeComponentRenderedChange\",this,null,\"before\");a.doAddListener(b,\"*\",\"hiddenchange\",\"onBeforeComponentHiddenChange\",this,null,\"before\");a.doAddListener(b,\"*\",\"renderedchange\",\"onComponentRenderedChange\",this,null,\"after\");a.doAddListener(b,\"*\",\"hiddenchange\",\"onComponentHiddenChange\",this,null,\"after\");return this.callParent(arguments)},subscribe:function(d,a){var b=d.match(this.idSelectorRegex),c,e;if(!b){return false}e=b[1];c=this.getSubscribers(a,true);if(c.hasOwnProperty(e)){c[e]++;return true}c[e]=1;c.$length++;return true},unsubscribe:function(e,a,c){var b=e.match(this.idSelectorRegex),d,f;if(!b||!(d=this.getSubscribers(a))){return false}f=b[1];if(!d.hasOwnProperty(f)||(!c&&--d[f]>0)){return true}delete d[f];if(--d.$length===0){delete this.subscribers[a]}return true},onBeforeComponentRenderedChange:function(b,d,g){var f=this.eventNames,c=g?f.painted:f.erased,e=this.getSubscribers(c),a;if(e&&e.$length>0){this.renderedQueue[d.getId()]=a=[];this.publish(e,d,c,a)}},onBeforeComponentHiddenChange:function(c,d){var f=this.eventNames,b=d?f.erased:f.painted,e=this.getSubscribers(b),a;if(e&&e.$length>0){this.hiddenQueue[c.getId()]=a=[];this.publish(e,c,b,a)}},onComponentRenderedChange:function(b,c){var d=this.renderedQueue,e=c.getId(),a;if(!d.hasOwnProperty(e)){return}a=d[e];delete d[e];if(a.length>0){this.dispatchQueue(a)}},onComponentHiddenChange:function(c){var b=this.hiddenQueue,d=c.getId(),a;if(!b.hasOwnProperty(d)){return}a=b[d];delete b[d];if(a.length>0){this.dispatchQueue(a)}},dispatchQueue:function(g){var l=this.dispatcher,a=this.targetType,b=this.eventNames,e=g.slice(),f=e.length,c,k,h,d,j;g.length=0;if(f>0){for(c=0;c<f;c++){k=e[c];h=k.component;d=k.eventName;j=h.isPainted();if((d===b.painted&&j)||d===b.erased&&!j){l.doDispatchEvent(a,\"#\"+k.id,d,[h])}}e.length=0}},publish:function(a,k,f,j){var c=k.getId(),b=false,d,h,e,g,l;if(a[c]){d=this.eventNames;l=k.isPainted();if((f===d.painted&&!l)||f===d.erased&&l){b=true}else{return this}}if(k.isContainer){h=k.getItems().items;for(e=0,g=h.length;e<g;e++){this.publish(a,h[e],f,j)}}else{if(k.isDecorator){this.publish(a,k.getComponent(),f,j)}}if(b){j.push({id:c,eventName:f,component:k})}}});Ext.define(\"Ext.event.publisher.ComponentSize\",{extend:\"Ext.event.publisher.Publisher\",requires:[\"Ext.ComponentManager\",\"Ext.util.SizeMonitor\"],targetType:\"component\",handledEvents:[\"resize\"],constructor:function(){this.callParent(arguments);this.sizeMonitors={}},subscribe:function(g){var c=g.match(this.idSelectorRegex),f=this.subscribers,a=this.sizeMonitors,d=this.dispatcher,e=this.targetType,b;if(!c){return false}if(!f.hasOwnProperty(g)){f[g]=0;d.addListener(e,g,\"painted\",\"onComponentPainted\",this,null,\"before\");b=Ext.ComponentManager.get(c[1]);if(!b){Ext.Logger.error(\"Adding a listener to the 'resize' event of a non-existing component\")}a[g]=new Ext.util.SizeMonitor({element:b.element,callback:this.onComponentSizeChange,scope:this,args:[this,g]})}f[g]++;return true},unsubscribe:function(h,b,e){var c=h.match(this.idSelectorRegex),g=this.subscribers,d=this.dispatcher,f=this.targetType,a=this.sizeMonitors;if(!c){return false}if(!g.hasOwnProperty(h)||(!e&&--g[h]>0)){return true}a[h].destroy();delete a[h];d.removeListener(f,h,\"painted\",\"onComponentPainted\",this,\"before\");delete g[h];return true},onComponentPainted:function(b){var c=b.getObservableId(),a=this.sizeMonitors[c];a.refresh()},onComponentSizeChange:function(a,b){this.dispatcher.doDispatchEvent(this.targetType,b,\"resize\",[a])}});Ext.define(\"Ext.log.Base\",{config:{},constructor:function(a){this.initConfig(a);return this}});(function(){var a=Ext.define(\"Ext.log.Logger\",{extend:\"Ext.log.Base\",statics:{defaultPriority:\"info\",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:true,minPriority:\"deprecate\",writers:{}},log:function(m,k,c){if(!this.getEnabled()){return this}var h=a,n=h.priorities,j=n[k],d=this.log.caller,l=\"\",e=this.getWriters(),b,f,g;if(!k){k=\"info\"}if(n[this.getMinPriority()]>j){return this}if(!c){c=1}if(Ext.isArray(m)){m=m.join(\" \")}else{m=String(m)}if(typeof c==\"number\"){f=c;do{f--;d=d.caller;if(!d){break}if(!g){g=d.caller}if(f<=0&&d.displayName){break}}while(d!==g);l=Ext.getDisplayName(d)}else{d=d.caller;l=Ext.getDisplayName(c)+\"#\"+d.$name}b={time:Ext.Date.now(),priority:j,priorityName:k,message:m,caller:d,callerDisplayName:l};for(f in e){if(e.hasOwnProperty(f)){e[f].write(Ext.merge({},b))}}return this}},function(){Ext.Object.each(this.priorities,function(b){this.override(b,function(c,d){if(!d){d=1}if(typeof d==\"number\"){d+=1}this.log(c,b,d)})},this)})})();Ext.define(\"Ext.log.formatter.Formatter\",{extend:\"Ext.log.Base\",config:{messageFormat:\"{message}\"},format:function(a){return this.substitute(this.getMessageFormat(),a)},substitute:function(b,d){var a,c;for(a in d){if(d.hasOwnProperty(a)){c=d[a];b=b.replace(new RegExp(\"\\\\{\"+a+\"\\\\}\",\"g\"),c)}}return b}});Ext.define(\"Ext.log.writer.Writer\",{extend:\"Ext.log.Base\",requires:[\"Ext.log.formatter.Formatter\"],config:{formatter:null,filters:{}},constructor:function(){this.activeFilters=[];return this.callParent(arguments)},updateFilters:function(c){var d=this.activeFilters,a,b;d.length=0;for(a in c){if(c.hasOwnProperty(a)){b=c[a];d.push(b)}}},write:function(f){var e=this.activeFilters,b=this.getFormatter(),a,d,c;for(a=0,d=e.length;a<d;a++){c=e[a];if(!e[a].accept(f)){return this}}if(b){f.message=b.format(f)}this.doWrite(f);return this},doWrite:Ext.emptyFn});Ext.define(\"Ext.log.writer.Console\",{extend:\"Ext.log.writer.Writer\",config:{throwOnErrors:true,throwOnWarnings:false},doWrite:function(d){var c=d.message,b=d.priorityName,a;if(b===\"error\"&&this.getThrowOnErrors()){throw new Error(c)}if(typeof console!==\"undefined\"){a=b;if(a===\"deprecate\"){a=\"warn\"}if(a===\"warn\"&&this.getThrowOnWarnings()){throw new Error(c)}if(!(a in console)){a=\"log\"}console[a](c)}}});Ext.define(\"Ext.log.formatter.Default\",{extend:\"Ext.log.formatter.Formatter\",config:{messageFormat:\"[{priorityName}][{callerDisplayName}] {message}\"},format:function(a){var a=Ext.merge({},a,{priorityName:a.priorityName.toUpperCase()});return this.callParent([a])}});Ext.define(\"Ext.fx.State\",{isAnimatable:{\"background-color\":true,\"background-image\":true,\"background-position\":true,\"border-bottom-color\":true,\"border-bottom-width\":true,\"border-color\":true,\"border-left-color\":true,\"border-left-width\":true,\"border-right-color\":true,\"border-right-width\":true,\"border-spacing\":true,\"border-top-color\":true,\"border-top-width\":true,\"border-width\":true,bottom:true,color:true,crop:true,\"font-size\":true,\"font-weight\":true,height:true,left:true,\"letter-spacing\":true,\"line-height\":true,\"margin-bottom\":true,\"margin-left\":true,\"margin-right\":true,\"margin-top\":true,\"max-height\":true,\"max-width\":true,\"min-height\":true,\"min-width\":true,opacity:true,\"outline-color\":true,\"outline-offset\":true,\"outline-width\":true,\"padding-bottom\":true,\"padding-left\":true,\"padding-right\":true,\"padding-top\":true,right:true,\"text-indent\":true,\"text-shadow\":true,top:true,\"vertical-align\":true,visibility:true,width:true,\"word-spacing\":true,\"z-index\":true,zoom:true,transform:true},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=a;return this},clear:function(){return this.setRaw({})},setTransform:function(c,g){var f=this.data,a=Ext.isArray(g),b=f.transform,e,d;if(!b){b=f.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof c==\"string\"){switch(c){case\"translate\":if(a){e=g.length;if(e==0){break}b.translateX=g[0];if(e==1){break}b.translateY=g[1];if(e==2){break}b.translateZ=g[2]}else{b.translateX=g}break;case\"rotate\":if(a){e=g.length;if(e==0){break}b.rotateX=g[0];if(e==1){break}b.rotateY=g[1];if(e==2){break}b.rotateZ=g[2]}else{b.rotate=g}break;case\"scale\":if(a){e=g.length;if(e==0){break}b.scaleX=g[0];if(e==1){break}b.scaleY=g[1];if(e==2){break}b.scaleZ=g[2]}else{b.scaleX=g;b.scaleY=g}break;case\"skew\":if(a){e=g.length;if(e==0){break}b.skewX=g[0];if(e==1){break}b.skewY=g[1]}else{b.skewX=g}break;default:b[c]=g}}else{for(d in c){if(c.hasOwnProperty(d)){g=c[d];this.setTransform(d,g)}}}},set:function(a,d){var c=this.data,b;if(typeof a!=\"string\"){for(b in a){d=a[b];if(b===\"transform\"){this.setTransform(d)}else{c[b]=d}}}else{if(a===\"transform\"){this.setTransform(d)}else{c[a]=d}}return this},unset:function(a){var b=this.data;if(b.hasOwnProperty(a)){delete b[a]}return this},getData:function(){return this.data}});Ext.define(\"Ext.fx.animation.Abstract\",{extend:\"Ext.Evented\",isAnimation:true,requires:[\"Ext.fx.State\"],config:{name:\"\",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:\"linear\",iteration:1,direction:\"normal\",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:\"0%\",STATE_TO:\"100%\",DIRECTION_UP:\"up\",DIRECTION_DOWN:\"down\",DIRECTION_LEFT:\"left\",DIRECTION_RIGHT:\"right\",stateNameRegex:/^(?:[\\d\\.]+)%$/,constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a){return Ext.factory(a,Ext.fx.State,b)}},applyAfter:function(b,a){if(b){return Ext.factory(b,Ext.fx.State,a)}},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var c=this.stateNameRegex,b;for(b in a){if(c.test(b)){this.setState(b,a[b])}}return this},getStates:function(){return this.states},stop:function(){this.fireEvent(\"stop\",this)},destroy:function(){this.stop();this.callParent()},setState:function(b,d){var a=this.getStates(),c;c=Ext.factory(d,Ext.fx.State,a[b]);if(c){a[b]=c}else{if(b===this.STATE_TO){Ext.Logger.error(\"Setting and invalid '100%' / 'to' state of: \"+d)}}return this},getState:function(a){return this.getStates()[a]},getData:function(){var k=this.getStates(),e={},g=this.getBefore(),c=this.getAfter(),h=k[this.STATE_FROM],i=k[this.STATE_TO],j=h.getData(),f=i.getData(),d,b,a;for(b in k){if(k.hasOwnProperty(b)){a=k[b];d=a.getData();e[b]=d}}if(Ext.os.is.Android2){e[\"0.0001%\"]=j}return{before:g?g.getData():{},after:c?c.getData():{},states:e,from:j,to:f,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});Ext.define(\"Ext.fx.animation.Slide\",{extend:\"Ext.fx.animation.Abstract\",alternateClassName:\"Ext.fx.animation.SlideIn\",alias:[\"animation.slide\",\"animation.slideIn\"],config:{direction:\"left\",out:false,offset:0,easing:\"auto\",containerBox:\"auto\",elementBox:\"auto\",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:\"down\",down:\"up\",left:\"right\",right:\"left\"},applyEasing:function(a){if(a===\"auto\"){return\"ease-\"+((this.getOut())?\"in\":\"out\")}return a},getContainerBox:function(){var a=this._containerBox;if(a===\"auto\"){a=this.getElement().getParent().getPageBox()}return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(a===\"auto\"){a=this.getElement().getPageBox()}return a},getData:function(){var p=this.getElementBox(),c=this.getContainerBox(),g=p?p:c,n=this.getFrom(),o=this.getTo(),f=this.getOut(),e=this.getOffset(),m=this.getDirection(),b=this.getUseCssTransform(),h=this.getReverse(),d=0,a=0,l,j,k,i;if(h){m=this.reverseDirectionMap[m]}switch(m){case this.DIRECTION_UP:if(f){a=c.top-g.top-g.height-e}else{a=c.bottom-g.bottom+g.height+e}break;case this.DIRECTION_DOWN:if(f){a=c.bottom-g.bottom+g.height+e}else{a=c.top-g.height-g.top-e}break;case this.DIRECTION_RIGHT:if(f){d=c.right-g.right+g.width+e}else{d=c.left-g.left-g.width-e}break;case this.DIRECTION_LEFT:if(f){d=c.left-g.left-g.width-e}else{d=c.right-g.right+g.width+e}break}l=(f)?0:d;j=(f)?0:a;if(b){n.setTransform({translateX:l,translateY:j})}else{n.set(\"left\",l);n.set(\"top\",j)}k=(f)?d:0;i=(f)?a:0;if(b){o.setTransform({translateX:k,translateY:i})}else{o.set(\"left\",k);o.set(\"top\",i)}return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.SlideOut\",{extend:\"Ext.fx.animation.Slide\",alias:[\"animation.slideOut\"],config:{out:true}});Ext.define(\"Ext.fx.animation.Fade\",{extend:\"Ext.fx.animation.Abstract\",alternateClassName:\"Ext.fx.animation.FadeIn\",alias:[\"animation.fade\",\"animation.fadeIn\"],config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var c=this.getTo(),b=this.getFrom();if(a){b.set(\"opacity\",1);c.set(\"opacity\",0)}else{b.set(\"opacity\",0);c.set(\"opacity\",1)}}});Ext.define(\"Ext.fx.animation.FadeOut\",{extend:\"Ext.fx.animation.Fade\",alias:\"animation.fadeOut\",config:{out:true,before:{}}});Ext.define(\"Ext.fx.animation.Flip\",{extend:\"Ext.fx.animation.Abstract\",alias:\"animation.flip\",config:{easing:\"ease-in\",direction:\"right\",half:false,out:null},getData:function(){var h=this.getFrom(),i=this.getTo(),g=this.getDirection(),b=this.getOut(),l=this.getHalf(),c=(l)?90:180,e=1,a=1,k=0,j=0,f=0,d=0;if(b){a=0.8}else{e=0.8}switch(g){case this.DIRECTION_UP:if(b){f=c}else{k=-c}break;case this.DIRECTION_DOWN:if(b){f=-c}else{k=c}break;case this.DIRECTION_RIGHT:if(b){d=-c}else{j=c}break;case this.DIRECTION_LEFT:if(b){d=-c}else{j=c}break}h.setTransform({rotateX:k,rotateY:j,scale:e});i.setTransform({rotateX:f,rotateY:d,scale:a});return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.Pop\",{extend:\"Ext.fx.animation.Abstract\",alias:[\"animation.pop\",\"animation.popIn\"],alternateClassName:\"Ext.fx.animation.PopIn\",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var c=this.getTo(),b=this.getFrom(),a=this.getOut();if(a){b.set(\"opacity\",1);b.setTransform({scale:1});c.set(\"opacity\",0);c.setTransform({scale:0})}else{b.set(\"opacity\",0);b.setTransform({scale:0});c.set(\"opacity\",1);c.setTransform({scale:1})}return this.callParent(arguments)}});Ext.define(\"Ext.fx.animation.PopOut\",{extend:\"Ext.fx.animation.Pop\",alias:\"animation.popOut\",config:{out:true,before:{}}});Ext.define(\"Ext.fx.Animation\",{requires:[\"Ext.fx.animation.Slide\",\"Ext.fx.animation.SlideOut\",\"Ext.fx.animation.Fade\",\"Ext.fx.animation.FadeOut\",\"Ext.fx.animation.Flip\",\"Ext.fx.animation.Pop\",\"Ext.fx.animation.PopOut\"],constructor:function(b){var a=Ext.fx.animation.Abstract,c;if(typeof b==\"string\"){c=b;b={}}else{if(b&&b.type){c=b.type}}if(c){if(Ext.os.is.Android2){if(c==\"pop\"){c=\"fade\"}if(c==\"popIn\"){c=\"fadeIn\"}if(c==\"popOut\"){c=\"fadeOut\"}}a=Ext.ClassManager.getByAlias(\"animation.\"+c);if(!a){Ext.Logger.error(\"Invalid animation type of: '\"+c+\"'\")}}return Ext.factory(b,a)}});Ext.define(\"Ext.fx.runner.Css\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.Animation\"],prefixedProperties:{transform:true,\"transform-origin\":true,perspective:true,\"transform-style\":true,transition:true,\"transition-property\":true,\"transition-duration\":true,\"transition-timing-function\":true,\"transition-delay\":true,animation:true,\"animation-name\":true,\"animation-duration\":true,\"animation-iteration-count\":true,\"animation-direction\":true,\"animation-timing-function\":true,\"animation-delay\":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,\"max-height\":true,\"max-width\":true,\"min-height\":true,\"min-width\":true,\"margin-bottom\":true,\"margin-left\":true,\"margin-right\":true,\"margin-top\":true,\"padding-bottom\":true,\"padding-left\":true,\"padding-right\":true,\"padding-top\":true,\"border-bottom-width\":true,\"border-left-width\":true,\"border-right-width\":true,\"border-spacing\":true,\"border-top-width\":true,\"border-width\":true,\"outline-width\":true,\"letter-spacing\":true,\"line-height\":true,\"text-indent\":true,\"word-spacing\":true,\"font-size\":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{\"transition-duration\":true,\"transition-delay\":true,\"animation-duration\":true,\"animation-delay\":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:\"px\",DEFAULT_UNIT_ANGLE:\"deg\",DEFAULT_UNIT_DURATION:\"ms\",formattedNameCache:{},constructor:function(){var a=Ext.feature.has.Css3dTransforms;if(a){this.transformMethods=[\"translateX\",\"translateY\",\"translateZ\",\"rotate\",\"rotateX\",\"rotateY\",\"rotateZ\",\"skewX\",\"skewY\",\"scaleX\",\"scaleY\",\"scaleZ\"]}else{this.transformMethods=[\"translateX\",\"translateY\",\"rotate\",\"skewX\",\"skewY\",\"scaleX\",\"scaleY\"]}this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var c=this.styleSheet,a,b;if(!c){a=document.createElement(\"style\");a.type=\"text/css\";(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(a);b=document.styleSheets;this.styleSheet=c=b[b.length-1]}return c},applyRules:function(i){var g=this.getStyleSheet(),k=this.ruleStylesCache,j=g.cssRules,c,e,h,b,d,a,f;for(c in i){e=i[c];h=k[c];if(h===undefined){d=j.length;g.insertRule(c+\"{}\",d);h=k[c]=j.item(d).style}b=h.$cache;if(!b){b=h.$cache={}}for(a in e){f=this.formatValue(e[a],a);a=this.formatName(a);if(b[a]!==f){b[a]=f;if(f===null){h.removeProperty(a)}else{h.setProperty(a,f,\"important\")}}}}return this},applyStyles:function(d){var g,c,f,b,a,e;for(g in d){c=document.getElementById(g);if(!c){return this}f=c.style;b=d[g];for(a in b){e=this.formatValue(b[a],a);a=this.formatName(a);if(e===null){f.removeProperty(a)}else{f.setProperty(a,e,\"important\")}}}return this},formatName:function(b){var a=this.formattedNameCache,c=a[b];if(!c){if(this.prefixedProperties[b]){c=this.vendorPrefix+b}else{c=b}a[b]=c}return c},formatValue:function(j,b){var g=typeof j,l=this.DEFAULT_UNIT_LENGTH,e,a,d,f,c,k,h;if(g==\"string\"){if(this.lengthProperties[b]){h=j.match(this.lengthUnitRegex)[1];if(h.length>0){if(h!==l){Ext.Logger.error(\"Length unit: '\"+h+\"' in value: '\"+j+\"' of property: '\"+b+\"' is not valid for animation. Only 'px' is allowed\")}}else{return j+l}}return j}else{if(g==\"number\"){if(j==0){return\"0\"}if(this.lengthProperties[b]){return j+l}if(this.angleProperties[b]){return j+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[b]){return j+this.DEFAULT_UNIT_DURATION}}else{if(b===\"transform\"){e=this.transformMethods;c=[];for(d=0,f=e.length;d<f;d++){a=e[d];c.push(a+\"(\"+this.formatValue(j[a],a)+\")\")}return c.join(\" \")}else{if(Ext.isArray(j)){k=[];for(d=0,f=j.length;d<f;d++){k.push(this.formatValue(j[d],b))}return(k.length>0)?k.join(\", \"):\"none\"}}}}return j}});Ext.define(\"Ext.fx.runner.CssTransition\",{extend:\"Ext.fx.runner.Css\",listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;this.getEventDispatcher().addListener(\"element\",\"*\",\"transitionend\",\"onTransitionEnd\",this)},onTransitionEnd:function(b){var a=b.target,c=a.id;if(c&&this.runningAnimationsData.hasOwnProperty(c)){this.refreshRunningAnimationsData(Ext.get(a),[b.browserEvent.propertyName])}},onAnimationEnd:function(g,f,d,j,n){var c=g.getId(),k=this.runningAnimationsData[c],o={},m={},b,h,e,l,a;d.un(\"stop\",\"onAnimationStop\",this);if(k){b=k.nameMap}o[c]=m;if(f.onBeforeEnd){f.onBeforeEnd.call(f.scope||this,g,j)}d.fireEvent(\"animationbeforeend\",d,g,j);this.fireEvent(\"animationbeforeend\",this,d,g,j);if(n||(!j&&!f.preserveEndState)){h=f.toPropertyNames;for(e=0,l=h.length;e<l;e++){a=h[e];if(b&&!b.hasOwnProperty(a)){m[a]=null}}}if(f.after){Ext.merge(m,f.after)}this.applyStyles(o);if(f.onEnd){f.onEnd.call(f.scope||this,g,j)}d.fireEvent(\"animationend\",d,g,j);this.fireEvent(\"animationend\",this,d,g,j)},onAllAnimationsEnd:function(b){var c=b.getId(),a={};delete this.runningAnimationsData[c];a[c]={\"transition-property\":null,\"transition-duration\":null,\"transition-timing-function\":null,\"transition-delay\":null};this.applyStyles(a);this.fireEvent(\"animationallend\",this,b)},hasRunningAnimations:function(a){var c=a.getId(),b=this.runningAnimationsData;return b.hasOwnProperty(c)&&b[c].sessions.length>0},refreshRunningAnimationsData:function(d,k,t,p){var g=d.getId(),q=this.runningAnimationsData,a=q[g];if(!a){return}var m=a.nameMap,s=a.nameList,b=a.sessions,f,h,e,u,l,c,r,o,n=false;t=Boolean(t);p=Boolean(p);if(!b){return this}f=b.length;if(f===0){return this}if(p){a.nameMap={};s.length=0;for(l=0;l<f;l++){c=b[l];this.onAnimationEnd(d,c.data,c.animation,t,p)}b.length=0}else{for(l=0;l<f;l++){c=b[l];r=c.map;o=c.list;for(h=0,e=k.length;h<e;h++){u=k[h];if(r[u]){delete r[u];Ext.Array.remove(o,u);c.length--;if(--m[u]==0){delete m[u];Ext.Array.remove(s,u)}}}if(c.length==0){b.splice(l,1);l--;f--;n=true;this.onAnimationEnd(d,c.data,c.animation,t)}}}if(!p&&!t&&b.length==0&&n){this.onAllAnimationsEnd(d)}},getRunningData:function(b){var a=this.runningAnimationsData;if(!a.hasOwnProperty(b)){a[b]={nameMap:{},nameList:[],sessions:[]}}return a[b]},getTestElement:function(){var c=this.testElement,b,d,a;if(!c){b=document.createElement(\"iframe\");a=b.style;a.setProperty(\"visibility\",\"hidden\",\"important\");a.setProperty(\"width\",\"0px\",\"important\");a.setProperty(\"height\",\"0px\",\"important\");a.setProperty(\"position\",\"absolute\",\"important\");a.setProperty(\"border\",\"0px\",\"important\");a.setProperty(\"zIndex\",\"-1000\",\"important\");document.body.appendChild(b);d=b.contentDocument;d.open();d.writeln(\"</body>\");d.close();this.testElement=c=d.createElement(\"div\");c.style.setProperty(\"position\",\"absolute\",\"!important\");d.body.appendChild(c);this.testElementComputedStyle=window.getComputedStyle(c)}return c},getCssStyleValue:function(b,e){var d=this.getTestElement(),a=this.testElementComputedStyle,c=d.style;c.setProperty(b,e);e=a.getPropertyValue(b);c.removeProperty(b);return e},run:function(p){var F=this,h=this.lengthProperties,x={},E={},G={},d,s,y,e,u,I,v,q,r,a,A,z,o,B,l,t,g,C,H,k,f,w,n,c,D,b,m;if(!this.listenersAttached){this.attachListeners()}p=Ext.Array.from(p);for(A=0,o=p.length;A<o;A++){B=p[A];B=Ext.factory(B,Ext.fx.Animation);d=B.getElement();g=window.getComputedStyle(d.dom);s=d.getId();G=Ext.merge({},B.getData());if(B.onBeforeStart){B.onBeforeStart.call(B.scope||this,d)}B.fireEvent(\"animationstart\",B);this.fireEvent(\"animationstart\",this,B);G[s]=G;u=G.before;y=G.from;e=G.to;G.fromPropertyNames=I=[];G.toPropertyNames=v=[];for(H in e){if(e.hasOwnProperty(H)){e[H]=k=this.formatValue(e[H],H);C=this.formatName(H);n=h.hasOwnProperty(H);if(!n){k=this.getCssStyleValue(C,k)}if(y.hasOwnProperty(H)){y[H]=w=this.formatValue(y[H],H);if(!n){w=this.getCssStyleValue(C,w)}if(k!==w){I.push(C);v.push(C)}}else{f=g.getPropertyValue(C);if(k!==f){v.push(C)}}}}l=v.length;if(l===0){this.onAnimationEnd(d,G,B);continue}a=this.getRunningData(s);b=a.sessions;if(b.length>0){this.refreshRunningAnimationsData(d,Ext.Array.merge(I,v),true,G.replacePrevious)}c=a.nameMap;D=a.nameList;t={};for(z=0;z<l;z++){H=v[z];t[H]=true;if(!c.hasOwnProperty(H)){c[H]=1;D.push(H)}else{c[H]++}}m={element:d,map:t,list:v.slice(),length:l,data:G,animation:B};b.push(m);B.on(\"stop\",\"onAnimationStop\",this);x[s]=y=Ext.apply(Ext.Object.chain(u),y);if(D.length>0){I=Ext.Array.difference(D,I);v=Ext.Array.merge(I,v);y[\"transition-property\"]=I}E[s]=e=Ext.Object.chain(e);e[\"transition-property\"]=v;e[\"transition-duration\"]=G.duration;e[\"transition-timing-function\"]=G.easing;e[\"transition-delay\"]=G.delay;B.startTime=Date.now()}r=this.$className;this.applyStyles(x);q=function(i){if(i.data===r&&i.source===window){window.removeEventListener(\"message\",q,false);F.applyStyles(E)}};window.addEventListener(\"message\",q,false);window.postMessage(r,\"*\")},onAnimationStop:function(d){var f=this.runningAnimationsData,h,a,g,b,c,e;for(h in f){if(f.hasOwnProperty(h)){a=f[h];g=a.sessions;for(b=0,c=g.length;b<c;b++){e=g[b];if(e.animation===d){this.refreshRunningAnimationsData(e.element,e.list.slice(),true)}}}}}});Ext.define(\"Ext.fx.Runner\",{requires:[\"Ext.fx.runner.CssTransition\"],constructor:function(){return new Ext.fx.runner.CssTransition()}});Ext.define(\"Ext.Mask\",{extend:\"Ext.Component\",xtype:\"mask\",config:{baseCls:Ext.baseCSSPrefix+\"mask\",transparent:false,top:0,left:0,right:0,bottom:0},initialize:function(){this.callParent();this.on({painted:\"onPainted\",erased:\"onErased\"})},onPainted:function(){this.element.on(\"*\",\"onEvent\",this)},onErased:function(){this.element.un(\"*\",\"onEvent\",this)},onEvent:function(b){var a=arguments[arguments.length-1];if(a.info.eventName===\"tap\"){this.fireEvent(\"tap\",this,b);return false}if(b&&b.stopEvent){b.stopEvent()}return false},updateTransparent:function(a){this[a?\"addCls\":\"removeCls\"](this.getBaseCls()+\"-transparent\")}});(function(a){Ext.define(\"Ext.layout.Default\",{extend:\"Ext.Evented\",alternateClassName:[\"Ext.layout.AutoContainerLayout\",\"Ext.layout.ContainerLayout\"],alias:[\"layout.auto\",\"layout.default\"],isLayout:true,hasDockedItemsCls:a+\"hasdocked\",centeredItemCls:a+\"centered\",floatingItemCls:a+\"floating\",dockingWrapperCls:a+\"docking\",dockingInnerCls:a+\"docking-inner\",maskCls:a+\"mask\",positionMap:{top:\"start\",left:\"start\",bottom:\"end\",right:\"end\"},positionDirectionMap:{top:\"vertical\",bottom:\"vertical\",left:\"horizontal\",right:\"horizontal\"},DIRECTION_VERTICAL:\"vertical\",DIRECTION_HORIZONTAL:\"horizontal\",POSITION_START:\"start\",POSITION_END:\"end\",config:{animation:null},constructor:function(b,c){this.container=b;this.innerItems=[];this.centeringWrappers={};this.initConfig(c)},reapply:Ext.emptyFn,unapply:Ext.emptyFn,onItemAdd:function(){this.doItemAdd.apply(this,arguments)},onItemRemove:function(){this.doItemRemove.apply(this,arguments)},onItemMove:function(){this.doItemMove.apply(this,arguments)},onItemCenteredChange:function(){this.doItemCenteredChange.apply(this,arguments)},onItemFloatingChange:function(){this.doItemFloatingChange.apply(this,arguments)},onItemDockedChange:function(){this.doItemDockedChange.apply(this,arguments)},doItemAdd:function(c,b){var d=c.getDocked();if(d!==null){this.dockItem(c,d)}else{if(c.isCentered()){this.centerItem(c,b)}else{this.insertItem(c,b)}}if(c.isFloating()){this.onItemFloatingChange(c,true)}},doItemRemove:function(b){if(b.isDocked()){this.undockItem(b)}else{if(b.isCentered()){this.uncenterItem(b)}}if(b.getTranslatable()){b.setTranslatable(false)}Ext.Array.remove(this.innerItems,b);Ext.fly(b.renderElement).destroy()},doItemMove:function(c,d,b){if(c.isCentered()){c.setZIndex((d+1)*2)}else{if(c.isFloating()){c.setZIndex((d+1)*2)}this.insertItem(c,d)}},doItemCenteredChange:function(c,b){if(b){this.centerItem(c)}else{this.uncenterItem(c)}},doItemFloatingChange:function(d,e){var c=d.element,b=this.floatingItemCls;if(e){if(d.getZIndex()===null){d.setZIndex((this.container.indexOf(d)+1)*2)}c.addCls(b)}else{d.setZIndex(null);c.removeCls(b)}},doItemDockedChange:function(b,d,c){if(c){this.undockItem(b,c)}if(d){this.dockItem(b,d)}},centerItem:function(b){this.insertItem(b,0);if(b.getZIndex()===null){b.setZIndex((this.container.indexOf(b)+1)*2)}this.createCenteringWrapper(b);b.element.addCls(this.floatingItemCls)},uncenterItem:function(b){this.destroyCenteringWrapper(b);b.setZIndex(null);this.insertItem(b,this.container.indexOf(b));b.element.removeCls(this.floatingItemCls)},dockItem:function(f,b){var c=this.container,g=f.renderElement,e=f.element,d=this.dockingInnerElement;if(!d){c.setUseBodyElement(true);this.dockingInnerElement=d=c.bodyElement}this.getDockingWrapper(b);if(this.positionMap[b]===this.POSITION_START){g.insertBefore(d)}else{g.insertAfter(d)}e.addCls(a+\"docked-\"+b)},undockItem:function(b,c){this.insertItem(b,this.container.indexOf(b));b.element.removeCls(a+\"docked-\"+c)},getDockingWrapper:function(b){var e=this.currentDockingDirection,d=this.positionDirectionMap[b],c=this.dockingWrapper;if(e!==d){this.currentDockingDirection=d;this.dockingWrapper=c=this.createDockingWrapper(d)}return c},createDockingWrapper:function(b){return this.dockingInnerElement.wrap({classList:[this.dockingWrapperCls+\"-\"+b]},true)},createCenteringWrapper:function(c){var f=c.getId(),d=this.centeringWrappers,b=c.renderElement,e;d[f]=e=b.wrap({className:this.centeredItemCls});return e},destroyCenteringWrapper:function(c){var f=c.getId(),d=this.centeringWrappers,b=c.renderElement,e=d[f];b.unwrap();e.destroy();delete d[f];return this},getInnerItemsContainer:function(){return this.container.innerElement},insertItem:function(k,g){var d=this.container,j=d.getItems().items,e=this.innerItems,c=this.getInnerItemsContainer().dom,i=k.renderElement.dom,h,f,b;if(d.has(k)){Ext.Array.remove(e,k)}if(typeof g==\"number\"){h=j[g];if(h===k){h=j[++g]}while(h&&(h.isCentered()||h.isDocked())){h=j[++g]}if(h){b=e.indexOf(h);if(b!==-1){while(h&&(h.isCentered()||h.isDocked())){h=e[++b]}if(h){e.splice(b,0,k);f=h.renderElement.dom;c.insertBefore(i,f);return this}}}}e.push(k);c.appendChild(i);return this}})})(Ext.baseCSSPrefix);Ext.define(\"Ext.layout.AbstractBox\",{extend:\"Ext.layout.Default\",config:{align:\"stretch\",pack:null},flexItemCls:Ext.baseCSSPrefix+\"layout-box-item\",positionMap:{middle:\"center\",left:\"start\",top:\"start\",right:\"end\",bottom:\"end\"},constructor:function(a){this.callParent(arguments);a.innerElement.addCls(this.cls);a.on(this.sizeChangeEventName,\"onItemSizeChange\",this,{delegate:\"> component\"})},reapply:function(){this.container.innerElement.addCls(this.cls);this.updatePack(this.getPack());this.updateAlign(this.getAlign())},unapply:function(){this.container.innerElement.removeCls(this.cls);this.updatePack(null);this.updateAlign(null)},doItemAdd:function(d,b){this.callParent(arguments);if(d.isInnerItem()){var c=d.getConfig(this.sizePropertyName),a=d.config;if(!c&&(\"flex\" in a)){this.setItemFlex(d,a.flex)}}},doItemRemove:function(a){if(a.isInnerItem()){this.setItemFlex(a,null)}this.callParent(arguments)},onItemSizeChange:function(a){this.setItemFlex(a,null)},doItemCenteredChange:function(b,a){if(a){this.setItemFlex(b,null)}this.callParent(arguments)},doItemFloatingChange:function(a,b){if(b){this.setItemFlex(a,null)}this.callParent(arguments)},doItemDockedChange:function(a,b){if(b){this.setItemFlex(a,null)}this.callParent(arguments)},redrawContainer:function(){var a=this.container,b=a.renderElement.dom.parentNode;if(b&&b.nodeType!==11){a.innerElement.redraw()}},setItemFlex:function(c,a){var b=c.element,d=this.flexItemCls;if(a){b.addCls(d)}else{if(b.hasCls(d)){this.redrawContainer();b.removeCls(d)}}b.dom.style.webkitBoxFlex=a},convertPosition:function(a){if(this.positionMap.hasOwnProperty(a)){return this.positionMap[a]}return a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(a){this.container.innerElement.dom.style.webkitBoxAlign=a},applyPack:function(a){return this.convertPosition(a)},updatePack:function(a){this.container.innerElement.dom.style.webkitBoxPack=a}});Ext.define(\"Ext.util.Filter\",{isFilter:true,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:false,exactMatch:false,caseSensitive:false,root:null,id:undefined,scope:null},applyId:function(a){if(!a){if(this.getProperty()){a=this.getProperty()+\"-\"+String(this.getValue())}if(!a){a=Ext.id(null,\"ext-filter-\")}}return a},constructor:function(a){this.initConfig(a)},applyFilterFn:function(b){if(b===Ext.emptyFn){b=this.getInitialConfig(\"filter\");if(b){return b}var a=this.getValue();if(!this.getProperty()&&!a&&a!==0){Ext.Logger.error(\"A Filter requires either a property and value, or a filterFn to be set\");return Ext.emptyFn}else{return this.createFilterFn()}}return b},createFilterFn:function(){var a=this,b=a.createValueMatcher();return function(d){var c=a.getRoot(),e=a.getProperty();if(c){d=d[c]}return b.test(d[e])}},createValueMatcher:function(){var d=this,e=d.getValue(),f=d.getAnyMatch(),c=d.getExactMatch(),a=d.getCaseSensitive(),b=Ext.String.escapeRegex;if(e===null||e===undefined||!e.exec){e=String(e);if(f===true){e=b(e)}else{e=\"^\"+b(e);if(c===true){e+=\"$\"}}e=new RegExp(e,a?\"\":\"i\")}return e}});Ext.define(\"Ext.util.Sorter\",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:\"ASC\",id:undefined},constructor:function(a){this.initConfig(a)},applySorterFn:function(a){if(!a&&!this.getProperty()){Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\")}return a},applyProperty:function(a){if(!a&&!this.getSorterFn()){Ext.Logger.error(\"A Sorter requires either a property or a sorterFn.\")}return a},applyId:function(a){if(!a){a=this.getProperty();if(!a){a=Ext.id(null,\"ext-sorter-\")}}return a},createSortFunction:function(b){var c=this,a=c.getDirection().toUpperCase()==\"DESC\"?-1:1;return function(e,d){return a*b.call(c,e,d)}},defaultSortFn:function(e,c){var g=this,f=g._transform,b=g._root,d,a,h=g._property;if(b!==null){e=e[b];c=c[b]}d=e[h];a=c[h];if(f){d=f(d);a=f(a)}return d>a?1:(d<a?-1:0)},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),\"ASC\",\"DESC\"))}});Ext.define(\"Ext.fx.easing.EaseOut\",{extend:\"Ext.fx.easing.Linear\",alias:\"easing.ease-out\",config:{exponent:4,duration:1500},getValue:function(){var f=Ext.Date.now()-this.getStartTime(),d=this.getDuration(),b=this.getStartValue(),h=this.getEndValue(),a=this.distance,c=f/d,g=1-c,e=1-Math.pow(g,this.getExponent()),i=b+(e*a);if(f>=d){this.isEnded=true;return h}return i}});Ext.define(\"Ext.fx.layout.card.Abstract\",{extend:\"Ext.Evented\",isAnimation:true,config:{direction:\"left\",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();if(a){a.onBefore(\"activeitemchange\",\"onActiveItemChange\",this)}},disable:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore(\"activeitemchange\",\"onActiveItemChange\",this)}},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.unBefore(\"activeitemchange\",\"onActiveItemChange\",this)}this.setLayout(null)}});Ext.define(\"Ext.fx.easing.Momentum\",{extend:\"Ext.fx.easing.Abstract\",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-(b/10));this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define(\"Ext.fx.easing.Bounce\",{extend:\"Ext.fx.easing.Abstract\",config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),c=(b/this.getAcceleration()),a=c*Math.pow(Math.E,-this.getSpringTension()*c);return this.getStartValue()+(this.getStartVelocity()*a)}});Ext.define(\"Ext.scroll.indicator.Abstract\",{extend:\"Ext.Component\",config:{baseCls:\"x-scroll-indicator\",axis:\"x\",value:0,length:null,hidden:true,ui:\"dark\"},cachedConfig:{ratio:1,barCls:\"x-scroll-bar\",active:true},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:\"barElement\",children:[this.callParent()]}},applyRatio:function(a){if(isNaN(a)){a=1}return a},refresh:function(){var f=this.barElement,e=f.dom,c=this.getRatio(),b=this.getAxis(),a=(b===\"x\")?e.offsetWidth:e.offsetHeight,d=a*c;this.barLength=a;this.gapLength=a-d;this.setLength(d);this.updateValue(this.getValue())},updateBarCls:function(a){this.barElement.addCls(a)},updateAxis:function(a){this.element.addCls(this.getBaseCls(),null,a);this.barElement.addCls(this.getBarCls(),null,a)},updateValue:function(a){this.setOffset(this.gapLength*a)},updateActive:function(a){this.barElement[a?\"addCls\":\"removeCls\"](\"active\")},doSetHidden:function(a){var b=this.element.dom.style;if(a){b.opacity=\"0\"}else{b.opacity=\"\"}},updateLength:function(c){var b=this.getAxis(),a=this.element;if(b===\"x\"){a.setWidth(c)}else{a.setHeight(c)}},setOffset:function(c){var b=this.getAxis(),a=this.element;if(b===\"x\"){a.setLeft(c)}else{a.setTop(c)}}});Ext.define(\"Ext.LoadMask\",{extend:\"Ext.Mask\",xtype:\"loadmask\",config:{message:\"Loading...\",messageCls:Ext.baseCSSPrefix+\"mask-message\",indicator:true,listeners:{painted:\"onPainted\",erased:\"onErased\"}},getTemplate:function(){var a=Ext.baseCSSPrefix;return[{reference:\"innerElement\",cls:a+\"mask-inner\",children:[{reference:\"indicatorElement\",cls:a+\"loading-spinner-outer\",children:[{cls:a+\"loading-spinner\",children:[{tag:\"span\",cls:a+\"loading-top\"},{tag:\"span\",cls:a+\"loading-right\"},{tag:\"span\",cls:a+\"loading-bottom\"},{tag:\"span\",cls:a+\"loading-left\"}]}]},{reference:\"messageElement\"}]}]},updateMessage:function(a){this.messageElement.setHtml(a)},updateMessageCls:function(b,a){this.messageElement.replaceCls(a,b)},updateIndicator:function(a){this[a?\"removeCls\":\"addCls\"](Ext.baseCSSPrefix+\"indicator-hidden\")},onPainted:function(){this.getParent().on({scope:this,resize:this.refreshPosition});this.refreshPosition()},onErased:function(){this.getParent().un({scope:this,resize:this.refreshPosition})},refreshPosition:function(){var c=this.getParent(),d=c.getScrollable(),a=(d)?d.getScroller():null,f=(a)?a.position:{x:0,y:0},e=c.element.getSize(),b=this.element.getSize();this.innerElement.setStyle({marginTop:Math.round(e.height-b.height+(f.y*2))+\"px\",marginLeft:Math.round(e.width-b.width+f.x)+\"px\"})}},function(){this.override({constructor:function(b,a){if(typeof a!==\"undefined\"){b=a;Ext.Logger.deprecate(\"You no longer need to pass an element to create a Ext.LoadMask. It is a component and can be shown using the Ext.Container.masked configuration.\",this)}if(b){if(b.hasOwnProperty(\"msg\")){b.message=b.msg;Ext.Logger.deprecate(\"'msg' config is deprecated, please use 'message' config instead\",this);delete b.msg}if(b.hasOwnProperty(\"msgCls\")){b.messageCls=b.msgCls;Ext.Logger.deprecate(\"'msgCls' config is deprecated, please use 'messageCls' config instead\",this);delete b.msgCls}if(b.hasOwnProperty(\"store\")){Ext.Logger.deprecate(\"'store' config has been removed. You can no longer bind a store to a Ext.LoadMask\",this);delete b.store}}this.callParent([b])},bindStore:function(){Ext.Logger.deprecate(\"You can no longer bind a store to a Ext.LoadMask\",this)}})});Ext.define(\"Ext.layout.Fit\",{extend:\"Ext.layout.Default\",alternateClassName:\"Ext.layout.FitLayout\",alias:\"layout.fit\",cls:Ext.baseCSSPrefix+\"layout-fit\",itemCls:Ext.baseCSSPrefix+\"layout-fit-item\",constructor:function(a){this.callParent(arguments);this.apply()},apply:function(){this.container.innerElement.addCls(this.cls)},reapply:function(){this.apply()},unapply:function(){this.container.innerElement.removeCls(this.cls)},doItemAdd:function(b,a){if(b.isInnerItem()){b.addCls(this.itemCls)}this.callParent(arguments)},doItemRemove:function(a){if(a.isInnerItem()){a.removeCls(this.itemCls)}this.callParent(arguments)}});Ext.define(\"Ext.layout.HBox\",{extend:\"Ext.layout.AbstractBox\",alternateClassName:\"Ext.layout.HBoxLayout\",alias:\"layout.hbox\",sizePropertyName:\"width\",sizeChangeEventName:\"widthchange\",cls:Ext.baseCSSPrefix+\"layout-hbox\"});Ext.define(\"Ext.layout.VBox\",{extend:\"Ext.layout.AbstractBox\",alternateClassName:\"Ext.layout.VBoxLayout\",alias:\"layout.vbox\",sizePropertyName:\"height\",sizeChangeEventName:\"heightchange\",cls:Ext.baseCSSPrefix+\"layout-vbox\"});Ext.define(\"Ext.util.AbstractMixedCollection\",{requires:[\"Ext.util.Filter\"],mixins:{observable:\"Ext.mixin.Observable\"},constructor:function(b,a){var c=this;c.items=[];c.map={};c.keys=[];c.length=0;c.allowFunctions=b===true;if(a){c.getKey=a}c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(b,e){var d=this,f=e,c=b,a;if(arguments.length==1){f=c;c=d.getKey(f)}if(typeof c!=\"undefined\"&&c!==null){a=d.map[c];if(typeof a!=\"undefined\"){return d.replace(c,f)}d.map[c]=f}d.length++;d.items.push(f);d.keys.push(c);d.fireEvent(\"add\",d.length-1,f,c);return f},getKey:function(a){return a.id},replace:function(c,e){var d=this,a,b;if(arguments.length==1){e=arguments[0];c=d.getKey(e)}a=d.map[c];if(typeof c==\"undefined\"||c===null||typeof a==\"undefined\"){return d.add(c,e)}b=d.indexOfKey(c);d.items[b]=e;d.map[c]=e;d.fireEvent(\"replace\",c,a,e);return e},addAll:function(f){var e=this,d=0,b,a,c;if(arguments.length>1||Ext.isArray(f)){b=arguments.length>1?arguments:f;for(a=b.length;d<a;d++){e.add(b[d])}}else{for(c in f){if(f.hasOwnProperty(c)){if(e.allowFunctions||typeof f[c]!=\"function\"){e.add(c,f[c])}}}}},each:function(e,d){var b=[].concat(this.items),c=0,a=b.length,f;for(;c<a;c++){f=b[c];if(e.call(d||f,f,c,a)===false){break}}},eachKey:function(e,d){var f=this.keys,b=this.items,c=0,a=f.length;for(;c<a;c++){e.call(d||window,f[c],b[c],c,a)}},findBy:function(e,d){var f=this.keys,b=this.items,c=0,a=b.length;for(;c<a;c++){if(e.call(d||window,b[c],f[c])){return b[c]}}return null},insert:function(a,b,e){var d=this,c=b,f=e;if(arguments.length==2){f=c;c=d.getKey(f)}if(d.containsKey(c)){d.suspendEvents();d.removeAtKey(c);d.resumeEvents()}if(a>=d.length){return d.add(c,f)}d.length++;Ext.Array.splice(d.items,a,0,f);if(typeof c!=\"undefined\"&&c!==null){d.map[c]=f}Ext.Array.splice(d.keys,a,0,c);d.fireEvent(\"add\",a,f,c);return f},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(b){this.remove(b)},this);return this},removeAt:function(a){var c=this,d,b;if(a<c.length&&a>=0){c.length--;d=c.items[a];Ext.Array.erase(c.items,a,1);b=c.keys[a];if(typeof b!=\"undefined\"){delete c.map[b]}Ext.Array.erase(c.keys,a,1);c.fireEvent(\"remove\",d,b);return d}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(b){var d=this,a=d.map[b],c=a!==undefined?a:(typeof b==\"number\")?d.items[b]:undefined;return typeof c!=\"function\"||d.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!=\"undefined\"},clear:function(){var a=this;a.length=0;a.items=[];a.keys=[];a.map={};a.fireEvent(\"clear\")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(g,b,h,a){var c=this.extractValues(g,b),f=c.length,e=0,d;h=h||0;a=(a||a===0)?a:f-1;for(d=h;d<=a;d++){e+=c[d]}return e},collect:function(j,e,g){var k=this.extractValues(j,e),a=k.length,b={},c=[],h,f,d;for(d=0;d<a;d++){h=k[d];f=String(h);if((g||!Ext.isEmpty(h))&&!b[f]){b[f]=true;c.push(h)}}return c},extractValues:function(c,a){var b=this.items;if(a){b=Ext.Array.pluck(b,a)}return Ext.Array.pluck(b,c)},getRange:function(f,a){var e=this,c=e.items,b=[],d;if(c.length<1){return b}f=f||0;a=Math.min(typeof a==\"undefined\"?e.length-1:a,e.length-1);if(f<=a){for(d=f;d<=a;d++){b[b.length]=c[d]}}else{for(d=f;d>=a;d--){b[b.length]=c[d]}}return b},filter:function(d,c,f,a){var b=[],e;if(Ext.isString(d)){b.push(Ext.create(\"Ext.util.Filter\",{property:d,value:c,anyMatch:f,caseSensitive:a}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){b=b.concat(d)}}e=function(g){var m=true,n=b.length,h;for(h=0;h<n;h++){var l=b[h],k=l.getFilterFn(),j=l.getScope();m=m&&k.call(j,g)}return m};return this.filterBy(e)},filterBy:function(e,d){var h=this,a=new this.self(),g=h.keys,b=h.items,f=b.length,c;a.getKey=h.getKey;for(c=0;c<f;c++){if(e.call(d||h,b[c],g[c])){a.add(g[c],b[c])}}return a},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(f){return f&&b.test(f[c])},null,e)},findIndexBy:function(e,d,h){var g=this,f=g.keys,b=g.items,c=h||0,a=b.length;for(;c<a;c++){if(e.call(d||g,b[c],f[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.String.escapeRegex;c=String(c);if(e===true){c=d(c)}else{c=\"^\"+d(c);if(b===true){c+=\"$\"}}c=new RegExp(c,a?\"\":\"i\")}return c},clone:function(){var e=this,f=new this.self(),d=e.keys,b=e.items,c=0,a=b.length;for(;c<a;c++){f.add(d[c],b[c])}f.getKey=e.getKey;return f}});Ext.define(\"Ext.util.Sortable\",{isSortable:true,defaultSortDirection:\"ASC\",requires:[\"Ext.util.Sorter\"],initSortable:function(){var a=this,b=a.sorters;a.sorters=Ext.create(\"Ext.util.AbstractMixedCollection\",false,function(c){return c.id||c.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(g,f,c,e){var d=this,h,b,a;if(Ext.isArray(g)){e=c;c=f;a=g}else{if(Ext.isObject(g)){e=c;c=f;a=[g]}else{if(Ext.isString(g)){h=d.sorters.get(g);if(!h){h={property:g,direction:f};a=[h]}else{if(f===undefined){h.toggle()}else{h.setDirection(f)}}}}}if(a&&a.length){a=d.decodeSorters(a);if(Ext.isString(c)){if(c===\"prepend\"){g=d.sorters.clone().items;d.sorters.clear();d.sorters.addAll(a);d.sorters.addAll(g)}else{d.sorters.addAll(a)}}else{d.sorters.clear();d.sorters.addAll(a)}if(e!==false){d.onBeforeSort(a)}}if(e!==false){g=d.sorters.items;if(g.length){b=function(l,k){var j=g[0].sort(l,k),n=g.length,m;for(m=1;m<n;m++){j=j||g[m].sort.call(this,l,k)}return j};d.doSort(b)}}return g},onBeforeSort:Ext.emptyFn,decodeSorters:function(f){if(!Ext.isArray(f)){if(f===undefined){f=[]}else{f=[f]}}var d=f.length,g=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null,e,b,c;for(c=0;c<d;c++){b=f[c];if(!(b instanceof g)){if(Ext.isString(b)){b={property:b}}Ext.applyIf(b,{root:this.sortRoot,direction:\"ASC\"});if(b.fn){b.sorterFn=b.fn}if(typeof b==\"function\"){b={sorterFn:b}}if(a&&!b.transform){e=a.get(b.property);b.transform=e?e.sortType:undefined}f[c]=Ext.create(\"Ext.util.Sorter\",b)}}return f},getSorters:function(){return this.sorters.items}});Ext.define(\"Ext.util.MixedCollection\",{extend:\"Ext.util.AbstractMixedCollection\",mixins:{sortable:\"Ext.util.Sortable\"},constructor:function(){var a=this;a.callParent(arguments);a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(k,a,j){var h=this,d,e,b=String(a).toUpperCase()==\"DESC\"?-1:1,g=[],l=h.keys,f=h.items;j=j||function(i,c){return i-c};for(d=0,e=f.length;d<e;d++){g[g.length]={key:l[d],value:f[d],index:d}}Ext.Array.sort(g,function(i,c){var m=j(i[k],c[k])*b;if(m===0){m=(i.index<c.index?-1:1)}return m});for(d=0,e=g.length;d<e;d++){f[d]=g[d].value;l[d]=g[d].key}h.fireEvent(\"sort\",h)},sortBy:function(c){var g=this,b=g.items,f=g.keys,e=b.length,a=[],d;for(d=0;d<e;d++){a[d]={key:f[d],value:b[d],index:d}}Ext.Array.sort(a,function(i,h){var j=c(i.value,h.value);if(j===0){j=(i.index<h.index?-1:1)}return j});for(d=0;d<e;d++){b[d]=a[d].value;f[d]=a[d].key}g.fireEvent(\"sort\",g,b,f)},reorder:function(d){var g=this,b=g.items,c=0,f=b.length,a=[],e=[],h;g.suspendEvents();for(h in d){a[d[h]]=b[h]}for(c=0;c<f;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<f;c++){if(a[c]==undefined){a[c]=e.shift()}}g.clear();g.addAll(a);g.resumeEvents();g.fireEvent(\"sort\",g)},sortByKey:function(a,b){this._sort(\"key\",a,b||function(d,c){var f=String(d).toUpperCase(),e=String(c).toUpperCase();return f>e?1:(f<e?-1:0)})}});Ext.define(\"Ext.ItemCollection\",{extend:\"Ext.util.MixedCollection\",getKey:function(a){return a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}});Ext.define(\"Ext.fx.layout.card.Scroll\",{extend:\"Ext.fx.layout.card.Abstract\",requires:[\"Ext.fx.easing.Linear\"],alias:\"fx.layout.card.scroll\",config:{duration:150},constructor:function(a){this.initConfig(a);this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this)},getEasing:function(){var a=this.easing;if(!a){this.easing=a=new Ext.fx.easing.Linear()}return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,d,l,m,c){var i=this.getDirection(),g=this.getEasing(),k,e,b,h,j,f;if(d&&l){if(this.isAnimating){this.stopAnimation()}k=this.getLayout().container.innerElement;h=k.getWidth();j=k.getHeight();e=d.renderElement;b=l.renderElement;this.oldItem=l;this.newItem=d;this.currentEventController=c;this.containerElement=k;this.isReverse=f=this.getReverse();d.show();if(i==\"right\"){i=\"left\";this.isReverse=f=!f}else{if(i==\"down\"){i=\"up\";this.isReverse=f=!f}}if(i==\"left\"){if(f){g.setConfig({startValue:h,endValue:0});k.dom.scrollLeft=h;b.setLeft(h)}else{g.setConfig({startValue:0,endValue:h});e.setLeft(h)}}else{if(f){g.setConfig({startValue:j,endValue:0});k.dom.scrollTop=j;b.setTop(j)}else{g.setConfig({startValue:0,endValue:j});e.setTop(j)}}this.startAnimation();c.pause()}},startAnimation:function(){this.isAnimating=true;this.getEasing().setStartTime(Date.now());this.timer=setInterval(this.doAnimationFrame,20);this.doAnimationFrame()},doAnimationFrame:function(){var d=this.getEasing(),c=this.getDirection(),a=\"scrollTop\",b;if(c==\"left\"||c==\"right\"){a=\"scrollLeft\"}if(d.isEnded){this.stopAnimation()}else{b=d.getValue();this.containerElement.dom[a]=b}},stopAnimation:function(){var c=this,e=c.getDirection(),a=\"setTop\",d=c.oldItem,b=c.newItem;if(e==\"left\"||e==\"right\"){a=\"setLeft\"}c.currentEventController.resume();if(c.isReverse&&d&&d.renderElement&&d.renderElement.dom){d.renderElement[a](null)}else{if(b&&b.renderElement&&b.renderElement.dom){b.renderElement[a](null)}}clearInterval(c.timer);c.isAnimating=false;c.fireEvent(\"animationend\",c)}});Ext.define(\"Ext.fx.easing.BoundMomentum\",{extend:\"Ext.fx.easing.Abstract\",requires:[\"Ext.fx.easing.Momentum\",\"Ext.fx.easing.Bounce\"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),j=this.getBounce(),e=a.getStartVelocity(),f=e>0?1:-1,g=this.getMinMomentumValue(),d=this.getMaxMomentumValue(),c=(f==1)?d:g,h=this.lastValue,i,b;if(e===0){return this.getStartValue()}if(!this.isOutOfBound){i=a.getValue();b=a.getVelocity();if(Math.abs(b)<this.getMinVelocity()){this.isEnded=true}if(i>=g&&i<=d){return i}this.isOutOfBound=true;j.setStartTime(Ext.Date.now()).setStartVelocity(b).setStartValue(c)}i=j.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(h!==null){if((f==1&&i<h)||(f==-1&&i>h)){this.isBouncingBack=true}}}else{if(Math.round(i)==c){this.isEnded=true}}}this.lastValue=i;return i}});Ext.define(\"Ext.scroll.Scroller\",{extend:\"Ext.Evented\",requires:[\"Ext.fx.easing.BoundMomentum\",\"Ext.fx.easing.EaseOut\",\"Ext.util.SizeMonitor\",\"Ext.util.Translatable\"],config:{element:null,direction:\"auto\",translationMethod:\"auto\",fps:\"auto\",disabled:null,directionLock:false,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:\"auto\",containerScrollSize:\"auto\",size:\"auto\",autoRefresh:true,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150}},cls:Ext.baseCSSPrefix+\"scroll-scroller\",containerCls:Ext.baseCSSPrefix+\"scroll-container\",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,constructor:function(a){var b=a&&a.element;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.stopAnimation=Ext.Function.bind(this.stopAnimation,this);this.listeners={scope:this,touchstart:\"onTouchStart\",touchend:\"onTouchEnd\",dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\"};this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.size={x:0,y:0};this.position={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:false,y:false};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.initialConfig=a;if(b){this.setElement(b)}return this},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(a){this.initialize();a.addCls(this.cls);if(!this.getDisabled()){this.attachListeneners()}this.onConfigUpdate([\"containerSize\",\"size\"],\"refreshMaxPosition\");this.on(\"maxpositionchange\",\"snapToBoundary\");this.on(\"minpositionchange\",\"snapToBoundary\");return this},getTranslatable:function(){if(!this.hasOwnProperty(\"translatable\")){var a=this.getBounceEasing();this.translatable=new Ext.util.Translatable({translationMethod:this.getTranslationMethod(),element:this.getElement(),easingX:a.x,easingY:a.y,useWrapper:false,listeners:{animationframe:\"onAnimationFrame\",animationend:\"onAnimationEnd\",axisanimationend:\"onAxisAnimationEnd\",scope:this}})}return this.translatable},updateFps:function(a){if(a!==\"auto\"){this.getTranslatable().setFps(a)}},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){if(a){this.detachListeners()}else{this.attachListeneners()}},updateInitialOffset:function(c){if(typeof c==\"number\"){c={x:c,y:c}}var b=this.position,a,d;b.x=a=c.x;b.y=d=c.y;this.getTranslatable().doTranslate(-a,-d)},applyDirection:function(a){var e=this.getMinPosition(),d=this.getMaxPosition(),c,b;this.givenDirection=a;if(a===\"auto\"){c=d.x>e.x;b=d.y>e.y;if(c&&b){a=\"both\"}else{if(c){a=\"horizontal\"}else{a=\"vertical\"}}}return a},updateDirection:function(b){var a=this.isAxisEnabledFlags;a.x=(b===\"both\"||b===\"horizontal\");a.y=(b===\"both\"||b===\"vertical\")},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(b){var a=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},applyBounceEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},applySlotSnapEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},getMinPosition:function(){var a=this.minPosition;if(!a){this.minPosition=a={x:0,y:0};this.fireEvent(\"minpositionchange\",this,a)}return a},getMaxPosition:function(){var c=this.maxPosition,a,b;if(!c){a=this.getSize();b=this.getContainerSize();this.maxPosition=c={x:Math.max(0,a.x-b.x),y:Math.max(0,a.y-b.y)};this.fireEvent(\"maxpositionchange\",this,c)}return c},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(b){var c=this.getContainer().dom,a,d;if(!c){return}this.givenContainerSize=b;if(b===\"auto\"){a=c.offsetWidth;d=c.offsetHeight}else{a=b.x;d=b.y}return{x:a,y:d}},applySize:function(b){var c=this.getElement().dom,a,d;if(!c){return}this.givenSize=b;if(b===\"auto\"){a=c.offsetWidth;d=c.offsetHeight}else{a=b.x;d=b.y}return{x:a,y:d}},applyContainerScrollSize:function(b){var c=this.getContainer().dom,a,d;if(!c){return}this.givenContainerScrollSize=b;if(b===\"auto\"){a=c.scrollWidth;d=c.scrollHeight}else{a=b.x;d=b.y}return{x:a,y:d}},updateAutoRefresh:function(b){var c=Ext.util.SizeMonitor,a;if(b){this.sizeMonitors={element:new c({element:this.getElement(),callback:this.doRefresh,scope:this}),container:new c({element:this.getContainer(),callback:this.doRefresh,scope:this})}}else{a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}}},applySlotSnapSize:function(a){if(typeof a==\"number\"){return{x:a,y:a}}return a},applySlotSnapOffset:function(a){if(typeof a==\"number\"){return{x:a,y:a}}return a},getContainer:function(){var a=this.container;if(!a){this.container=a=this.getElement().getParent();if(!a){Ext.Logger.error(\"Making an element scrollable that doesn't have any container\")}a.addCls(this.containerCls)}return a},doRefresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setContainerScrollSize(this.givenContainerScrollSize);this.setDirection(this.givenDirection);this.fireEvent(\"refresh\",this)},refresh:function(){var a=this.sizeMonitors;if(a){a.element.refresh();a.container.refresh()}this.doRefresh();return this},scrollTo:function(c,h,g){if(typeof c!=\"number\"&&arguments.length===1){Ext.Logger.deprecate(\"Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead\",this);h=c.y;c=c.x}var b=this.getTranslatable(),a=this.position,d=false,f,e;if(this.isAxisEnabled(\"x\")){if(typeof c!=\"number\"){c=a.x}else{if(a.x!==c){a.x=c;d=true}}f=-c}if(this.isAxisEnabled(\"y\")){if(typeof h!=\"number\"){h=a.y}else{if(a.y!==h){a.y=h;d=true}}e=-h}if(d){if(g!==undefined){b.translateAnimated(f,e,g)}else{this.fireEvent(\"scroll\",this,a.x,a.y);b.doTranslate(f,e)}}return this},scrollToTop:function(b){var a=this.getInitialOffset();return this.scrollTo(a.x,a.y,b)},scrollToEnd:function(a){return this.scrollTo(0,this.getSize().y-this.getContainerSize().y,a)},scrollBy:function(b,d,c){var a=this.position;b=(typeof b==\"number\")?b+a.x:null;d=(typeof d==\"number\")?d+a.y:null;return this.scrollTo(b,d,c)},onTouchStart:function(){this.isTouching=true;this.stopAnimation()},onTouchEnd:function(){var a=this.position;this.isTouching=false;if(!this.isDragging&&this.snapToSlot()){this.fireEvent(\"scrollstart\",this,a.x,a.y)}},onDragStart:function(l){var o=this.getDirection(),g=l.absDeltaX,f=l.absDeltaY,j=this.getDirectionLock(),i=this.startPosition,d=this.flickStartPosition,k=this.flickStartTime,h=this.lastDragPosition,c=this.position,b=this.dragDirection,n=c.x,m=c.y,a=Ext.Date.now();this.isDragging=true;if(j&&o!==\"both\"){if((o===\"horizontal\"&&g>f)||(o===\"vertical\"&&f>g)){l.stopPropagation()}else{this.isDragging=false;return}}h.x=n;h.y=m;d.x=n;d.y=m;i.x=n;i.y=m;k.x=a;k.y=a;b.x=0;b.y=0;this.dragStartTime=a;this.isDragging=true;this.fireEvent(\"scrollstart\",this,n,m)},onAxisDrag:function(i,q){if(!this.isAxisEnabled(i)){return}var h=this.flickStartPosition,l=this.flickStartTime,j=this.lastDragPosition,e=this.dragDirection,g=this.position[i],k=this.getMinPosition()[i],o=this.getMaxPosition()[i],d=this.startPosition[i],p=j[i],n=d-q,c=e[i],m=this.getOutOfBoundRestrictFactor(),f=this.getStartMomentumResetTime(),b=Ext.Date.now(),a;if(n<k){n*=m}else{if(n>o){a=n-o;n=o+a*m}}if(n>p){e[i]=1}else{if(n<p){e[i]=-1}}if((c!==0&&(e[i]!==c))||(b-l[i])>f){h[i]=g;l[i]=b}j[i]=n},onDrag:function(b){if(!this.isDragging){return}var a=this.lastDragPosition;this.onAxisDrag(\"x\",b.deltaX);this.onAxisDrag(\"y\",b.deltaY);this.scrollTo(a.x,a.y)},onDragEnd:function(c){var b,a;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(c);this.isDragging=false;b=this.getAnimationEasing(\"x\");a=this.getAnimationEasing(\"y\");if(b||a){this.getTranslatable().animate(b,a)}else{this.onScrollEnd()}},getAnimationEasing:function(g){if(!this.isAxisEnabled(g)){return null}var e=this.position[g],f=this.flickStartPosition[g],k=this.flickStartTime[g],c=this.getMinPosition()[g],j=this.getMaxPosition()[g],a=this.getMaxAbsoluteVelocity(),d=null,b=this.dragEndTime,l,i,h;if(e<c){d=c}else{if(e>j){d=j}}if(d!==null){l=this.getBounceEasing()[g];l.setConfig({startTime:b,startValue:-e,endValue:-d});return l}h=b-k;if(h===0){return null}i=(e-f)/(b-k);if(i===0){return null}if(i<-a){i=-a}else{if(i>a){i=a}}l=this.getMomentumEasing()[g];l.setConfig({startTime:b,startValue:-e,startVelocity:-i,minMomentumValue:-j,maxMomentumValue:0});return l},onAnimationFrame:function(c,b,d){var a=this.position;a.x=-b;a.y=-d;this.fireEvent(\"scroll\",this,a.x,a.y)},onAxisAnimationEnd:function(a){},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;if(this.isTouching||!this.snapToSlot()){this.fireEvent(\"scrollend\",this,a.x,a.y)}},snapToSlot:function(){var b=this.getSnapPosition(\"x\"),a=this.getSnapPosition(\"y\"),c=this.getSlotSnapEasing();if(b!==null||a!==null){this.scrollTo(b,a,{easingX:c.x,easingY:c.y});return true}return false},getSnapPosition:function(c){var g=this.getSlotSnapSize()[c],d=null,a,f,e,b;if(g!==0&&this.isAxisEnabled(c)){a=this.position[c];f=this.getSlotSnapOffset()[c];e=this.getMaxPosition()[c];b=(a-f)%g;if(b!==0){if(Math.abs(b)>g/2){d=a+((b>0)?g-b:b-g);if(d>e){d=a-b}}else{d=a-b}}}return d},snapToBoundary:function(){var g=this.position,c=this.getMinPosition(),f=this.getMaxPosition(),e=c.x,d=c.y,b=f.x,a=f.y,i=Math.round(g.x),h=Math.round(g.y);if(i<e){i=e}else{if(i>b){i=b}}if(h<d){h=d}else{if(h>a){h=a}}this.scrollTo(i,h)},destroy:function(){var b=this.getElement(),a=this.sizeMonitors;if(a){a.element.destroy();a.container.destroy()}if(b&&!b.isDestroyed){b.removeCls(this.cls);this.getContainer().removeCls(this.containerCls)}Ext.destroy(this.translatable);this.callParent(arguments)}},function(){this.override({constructor:function(b){var d,e,a,g,c,f;if(!b){b={}}if(typeof b==\"string\"){b={direction:b}}if(arguments.length==2){Ext.Logger.deprecate(\"Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead\");d=b;b=arguments[1];if(!b){b={}}b.element=d}if(b.hasOwnProperty(\"acceleration\")){e=b.acceleration;delete b.acceleration;Ext.Logger.deprecate(\"'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead\");Ext.merge(b,{momentumEasing:{momentum:{acceleration:e},bounce:{acceleration:e}}})}if(b.hasOwnProperty(\"snap\")){b.slotSnapOffset=b.snap;Ext.Logger.deprecate(\"'snap' config is deprecated, please use the 'slotSnapOffset' config instead\")}if(b.hasOwnProperty(\"friction\")){g=b.friction;delete b.friction;Ext.Logger.deprecate(\"'friction' config is deprecated, set momentumEasing.momentum.friction config instead\");Ext.merge(b,{momentumEasing:{momentum:{friction:g}}})}if(b.hasOwnProperty(\"springTension\")){c=b.springTension;delete b.springTension;Ext.Logger.deprecate(\"'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead\");Ext.merge(b,{momentumEasing:{momentum:{springTension:c}}})}if(b.hasOwnProperty(\"minVelocityForAnimation\")){f=b.minVelocityForAnimation;delete b.minVelocityForAnimation;Ext.Logger.deprecate(\"'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead\");Ext.merge(b,{momentumEasing:{minVelocity:f}})}this.callOverridden(arguments)},scrollToAnimated:function(a,c,b){Ext.Logger.deprecate(\"scrollToAnimated() is deprecated, please use scrollTo() and pass 'animation' as the third argument instead\");return this.scrollTo.apply(this,arguments)},scrollBy:function(a,c,b){if(Ext.isObject(a)){Ext.Logger.deprecate(\"calling scrollBy() with an object of x and y properties is no longer supported. Please pass x and y values as two separate arguments instead\");c=a.y;a=a.x}return this.callOverridden([a,c,b])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})});Ext.define(\"Ext.scroll.indicator.Default\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"default\"},setOffset:function(c){var b=this.getAxis(),a=this.element.dom.style;if(b===\"x\"){a.webkitTransform=\"translate3d(\"+c+\"px, 0, 0)\"}else{a.webkitTransform=\"translate3d(0, \"+c+\"px, 0)\"}},applyLength:function(a){return Math.round(Math.max(0,a))},updateValue:function(f){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,g,a;if(f<=0){g=0;this.updateLength(this.applyLength(d+f*b))}else{if(f>=1){a=Math.round((f-1)*b);e=this.applyLength(d-a);a=d-e;this.updateLength(e);g=c+a}else{g=c*f}}this.setOffset(g)}});Ext.define(\"Ext.scroll.indicator.ScrollPosition\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"scrollposition\"},getElementConfig:function(){var a=this.callParent(arguments);a.children.unshift({className:\"x-scroll-bar-stretcher\"});return a},updateValue:function(a){if(this.gapLength===0){if(a>1){a=a-1}this.setOffset(this.barLength*a)}else{this.setOffset(this.gapLength*a)}},setLength:function(e){var c=this.getAxis(),a=this.barLength,d=this.barElement.dom,b=this.element;this.callParent(arguments);if(c===\"x\"){d.scrollLeft=a;b.setLeft(a)}else{d.scrollTop=a;b.setTop(a)}},setOffset:function(d){var b=this.getAxis(),a=this.barLength,c=this.barElement.dom;d=a-d;if(b===\"x\"){c.scrollLeft=d}else{c.scrollTop=d}}});Ext.define(\"Ext.scroll.indicator.CssTransform\",{extend:\"Ext.scroll.indicator.Abstract\",config:{cls:\"csstransform\"},getElementConfig:function(){var a=this.callParent();a.children[0].children=[{reference:\"startElement\"},{reference:\"middleElement\"},{reference:\"endElement\"}];return a},refresh:function(){var d=this.getAxis(),c=this.startElement.dom,a=this.endElement.dom,e=this.middleElement,b,f;if(d===\"x\"){b=c.offsetWidth;f=a.offsetWidth;e.setLeft(b)}else{b=c.offsetHeight;f=a.offsetHeight;e.setTop(b)}this.startElementLength=b;this.endElementLength=f;this.minLength=b+f;this.callParent()},applyLength:function(a){return Math.round(Math.max(this.minLength,a))},updateLength:function(c){var b=this.getAxis(),a=this.endElement.dom.style,e=this.middleElement.dom.style,d=this.endElementLength,g=c-d,f=g-this.startElementLength;if(b===\"x\"){a.webkitTransform=\"translate3d(\"+g+\"px, 0, 0)\";e.webkitTransform=\"translate3d(0, 0, 0) scaleX(\"+f+\")\"}else{a.webkitTransform=\"translate3d(0, \"+g+\"px, 0)\";e.webkitTransform=\"translate3d(0, 0, 0) scaleY(\"+f+\")\"}},updateValue:function(f){var b=this.barLength,c=this.gapLength,d=this.getLength(),e,g,a;if(f<=0){g=0;this.updateLength(this.applyLength(d+f*b))}else{if(f>=1){a=Math.round((f-1)*b);e=this.applyLength(d-a);a=d-e;this.updateLength(e);g=c+a}else{g=c*f}}this.setOffset(g)},setOffset:function(c){var a=this.getAxis(),b=this.element.dom.style;c=Math.round(c);if(a===\"x\"){b.webkitTransform=\"translate3d(\"+c+\"px, 0, 0)\"}else{b.webkitTransform=\"translate3d(0, \"+c+\"px, 0)\"}}});Ext.define(\"Ext.scroll.Indicator\",{requires:[\"Ext.scroll.indicator.Default\",\"Ext.scroll.indicator.ScrollPosition\",\"Ext.scroll.indicator.CssTransform\"],alternateClassName:\"Ext.util.Indicator\",constructor:function(a){if(Ext.os.is.Android2||Ext.browser.is.ChromeMobile){return new Ext.scroll.indicator.ScrollPosition(a)}else{if(Ext.os.is.iOS){return new Ext.scroll.indicator.CssTransform(a)}else{return new Ext.scroll.indicator.Default(a)}}}});Ext.define(\"Ext.scroll.View\",{extend:\"Ext.Evented\",alternateClassName:\"Ext.util.ScrollView\",requires:[\"Ext.scroll.Scroller\",\"Ext.scroll.Indicator\"],config:{indicatorsUi:\"dark\",element:null,scroller:{},indicators:{x:{axis:\"x\"},y:{axis:\"y\"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+\"scroll-view\"},processConfig:function(c){if(!c){return null}if(typeof c==\"string\"){c={direction:c}}c=Ext.merge({},c);var a=c.scroller,b;if(!a){c.scroller=a={}}for(b in c){if(c.hasOwnProperty(b)){if(!this.hasConfig(b)){a[b]=c[b];delete c[b]}}}return c},constructor:function(a){a=this.processConfig(a);this.useIndicators={x:true,y:true};this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this);this.initConfig(a)},setConfig:function(a){return this.callParent([this.processConfig(a)])},updateIndicatorsUi:function(a){var b=this.getIndicators();b.x.setUi(a);b.y.setUi(a)},applyScroller:function(a,b){return Ext.factory(a,Ext.scroll.Scroller,b)},applyIndicators:function(b,d){var a=Ext.scroll.Indicator,c=this.useIndicators;if(!b){b={}}if(!b.x){c.x=false;b.x={}}if(!b.y){c.y=false;b.y={}}return{x:Ext.factory(b.x,a,d&&d.x),y:Ext.factory(b.y,a,d&&d.y)}},updateIndicators:function(a){this.indicatorsGrid=Ext.Element.create({className:\"x-scroll-bar-grid-wrapper\",children:[{className:\"x-scroll-bar-grid\",children:[{children:[{},{children:[a.y.barElement]}]},{children:[{children:[a.x.barElement]},{}]}]}]})},updateScroller:function(a){a.on({scope:this,scrollstart:\"onScrollStart\",scroll:\"onScroll\",scrollend:\"onScrollEnd\",refresh:\"refreshIndicators\"})},isAxisEnabled:function(a){return this.getScroller().isAxisEnabled(a)&&this.useIndicators[a]},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(c){var b=c.getFirstChild().getFirstChild(),a=this.getScroller();c.addCls(this.getCls());c.insertFirst(this.indicatorsGrid);a.setElement(b);this.refreshIndicators();return this},showIndicators:function(){var a=this.getIndicators();if(this.hasOwnProperty(\"indicatorsHidingTimer\")){clearTimeout(this.indicatorsHidingTimer);delete this.indicatorsHidingTimer}if(this.isAxisEnabled(\"x\")){a.x.show()}if(this.isAxisEnabled(\"y\")){a.y.show()}},hideIndicators:function(){var a=this.getIndicatorsHidingDelay();if(a>0){this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,a)}else{this.doHideIndicators()}},doHideIndicators:function(){var a=this.getIndicators();if(this.isAxisEnabled(\"x\")){a.x.hide()}if(this.isAxisEnabled(\"y\")){a.y.hide()}},onScrollStart:function(){this.onScroll.apply(this,arguments);this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(b,a,c){this.setIndicatorValue(\"x\",a);this.setIndicatorValue(\"y\",c);if(this.isBenchmarking){this.framesCount++}},isBenchmarking:false,framesCount:0,getCurrentFps:function(){var a=Date.now(),b;if(!this.isBenchmarking){this.isBenchmarking=true;b=0}else{b=Math.round(this.framesCount*1000/(a-this.framesCountStartTime))}this.framesCountStartTime=a;this.framesCount=0;return b},setIndicatorValue:function(b,f){if(!this.isAxisEnabled(b)){return this}var a=this.getScroller(),c=a.getMaxPosition()[b],e=a.getContainerSize()[b],d;if(c===0){d=f/e;if(f>=0){d+=1}}else{if(f>c){d=1+((f-c)/e)}else{if(f<0){d=f/e}else{d=f/c}}}this.getIndicators()[b].setValue(d)},refreshIndicator:function(d){if(!this.isAxisEnabled(d)){return this}var a=this.getScroller(),b=this.getIndicators()[d],e=a.getContainerSize()[d],f=a.getSize()[d],c=e/f;b.setRatio(c);b.refresh()},refresh:function(){return this.getScroller().refresh()},refreshIndicators:function(){var a=this.getIndicators();a.x.setActive(this.isAxisEnabled(\"x\"));a.y.setActive(this.isAxisEnabled(\"y\"));this.refreshIndicator(\"x\");this.refreshIndicator(\"y\")},destroy:function(){var a=this.getElement(),b=this.getIndicators();if(a&&!a.isDestroyed){a.removeCls(this.getCls())}b.x.destroy();b.y.destroy();Ext.destroy(this.getScroller(),this.indicatorsGrid);delete this.indicatorsGrid;this.callParent(arguments)}});Ext.define(\"Ext.behavior.Scrollable\",{extend:\"Ext.behavior.Behavior\",requires:[\"Ext.scroll.View\"],constructor:function(){this.listeners={painted:\"onComponentPainted\",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(d){var b=this.scrollView,c=this.component,e,a;if(d){if(!b){this.scrollView=b=new Ext.scroll.View(d);b.on(\"destroy\",\"onScrollViewDestroy\",this);c.setUseBodyElement(true);this.scrollerElement=a=c.innerElement;this.scrollContainer=a.wrap();this.scrollViewElement=e=c.bodyElement;b.setElement(e);if(c.isPainted()){this.onComponentPainted(c)}c.on(this.listeners)}else{if(Ext.isString(d)||Ext.isObject(d)){b.setConfig(d)}}}else{if(b){b.destroy()}}return this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var b=this.component,a=this.scrollerElement;if(!a.isDestroyed){this.scrollerElement.unwrap()}this.scrollContainer.destroy();b.un(this.listeners);delete this.scrollerElement;delete this.scrollView;delete this.scrollContainer},onComponentDestroy:function(){var a=this.scrollView;if(a){a.destroy()}}});Ext.define(\"Ext.fx.layout.card.Style\",{extend:\"Ext.fx.layout.card.Abstract\",requires:[\"Ext.fx.Animation\"],config:{inAnimation:{before:{visibility:null},preserveEndState:false,replacePrevious:true},outAnimation:{preserveEndState:false,replacePrevious:true}},constructor:function(b){var c,a;this.initConfig(b);this.endAnimationCounter=0;c=this.getInAnimation();a=this.getOutAnimation();c.on(\"animationend\",\"incrementEnd\",this);a.on(\"animationend\",\"incrementEnd\",this)},updateDirection:function(a){this.getInAnimation().setDirection(a);this.getOutAnimation().setDirection(a)},updateDuration:function(a){this.getInAnimation().setDuration(a);this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)},incrementEnd:function(){this.endAnimationCounter++;if(this.endAnimationCounter>1){this.endAnimationCounter=0;this.fireEvent(\"animationend\",this)}},applyInAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},applyOutAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,e,h,i,d){var b=this.getInAnimation(),g=this.getOutAnimation(),f,c;if(e&&h&&h.isPainted()){f=e.renderElement;c=h.renderElement;b.setElement(f);g.setElement(c);g.setOnBeforeEnd(function(j,k){if(k||Ext.Animator.hasRunningAnimations(j)){d.firingArguments[1]=null;d.firingArguments[2]=null}});g.setOnEnd(function(){d.resume()});f.dom.style.setProperty(\"visibility\",\"hidden\",\"!important\");e.show();Ext.Animator.run([g,b]);d.pause()}}});Ext.define(\"Ext.fx.layout.card.Slide\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.slide\",config:{inAnimation:{type:\"slide\",easing:\"ease-out\"},outAnimation:{type:\"slide\",easing:\"ease-out\",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Cover\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.cover\",config:{reverse:null,inAnimation:{before:{\"z-index\":100},after:{\"z-index\":0},type:\"slide\",easing:\"ease-out\"},outAnimation:{easing:\"ease-out\",from:{opacity:0.99},to:{opacity:1},out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Reveal\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.reveal\",config:{inAnimation:{easing:\"ease-out\",from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{\"z-index\":100},after:{\"z-index\":0},type:\"slide\",easing:\"ease-out\",out:true}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});Ext.define(\"Ext.fx.layout.card.Fade\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.fade\",config:{reverse:null,inAnimation:{type:\"fade\",easing:\"ease-out\"},outAnimation:{type:\"fade\",easing:\"ease-out\",out:true}}});Ext.define(\"Ext.fx.layout.card.Flip\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.flip\",config:{duration:500,inAnimation:{type:\"flip\",half:true,easing:\"ease-out\",before:{\"backface-visibility\":\"hidden\"},after:{\"backface-visibility\":null}},outAnimation:{type:\"flip\",half:true,easing:\"ease-in\",before:{\"backface-visibility\":\"hidden\"},after:{\"backface-visibility\":null},out:true}},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c);b.setDuration(c);a.setDuration(c)}});Ext.define(\"Ext.fx.layout.card.Pop\",{extend:\"Ext.fx.layout.card.Style\",alias:\"fx.layout.card.pop\",config:{duration:500,inAnimation:{type:\"pop\",easing:\"ease-out\"},outAnimation:{type:\"pop\",easing:\"ease-in\",out:true}},updateDuration:function(d){var c=d/2,b=this.getInAnimation(),a=this.getOutAnimation();b.setDelay(c);b.setDuration(c);a.setDuration(c)}});Ext.define(\"Ext.fx.layout.Card\",{requires:[\"Ext.fx.layout.card.Slide\",\"Ext.fx.layout.card.Cover\",\"Ext.fx.layout.card.Reveal\",\"Ext.fx.layout.card.Fade\",\"Ext.fx.layout.card.Flip\",\"Ext.fx.layout.card.Pop\",\"Ext.fx.layout.card.Scroll\"],constructor:function(b){var a=Ext.fx.layout.card.Abstract,c;if(!b){return null}if(typeof b==\"string\"){c=b;b={}}else{if(b.type){c=b.type}}b.elementBox=false;if(c){if(Ext.os.is.Android2){if(c!=\"fade\"){c=\"scroll\"}}else{if(c===\"slide\"&&Ext.browser.is.ChromeMobile){c=\"scroll\"}}a=Ext.ClassManager.getByAlias(\"fx.layout.card.\"+c);if(!a){Ext.Logger.error(\"Unknown card animation type: '\"+c+\"'\")}}return Ext.factory(b,a)}});Ext.define(\"Ext.layout.Card\",{extend:\"Ext.layout.Fit\",alternateClassName:\"Ext.layout.CardLayout\",isCard:true,requires:[\"Ext.fx.layout.Card\"],alias:\"layout.card\",cls:Ext.baseCSSPrefix+\"layout-card\",itemCls:Ext.baseCSSPrefix+\"layout-card-item\",constructor:function(){this.callParent(arguments);this.container.onInitialized(this.onContainerInitialized,this)},applyAnimation:function(a){return new Ext.fx.layout.Card(a)},updateAnimation:function(b,a){if(b&&b.isAnimation){b.setLayout(this)}if(a){a.destroy()}},doItemAdd:function(b,a){if(b.isInnerItem()){b.hide()}this.callParent(arguments)},getInnerItemsContainer:function(){var a=this.innerItemsContainer;if(!a){this.innerItemsContainer=a=Ext.Element.create({className:this.cls+\"-container\"});this.container.innerElement.append(a)}return a},doItemRemove:function(c,a,b){this.callParent(arguments);if(!b&&c.isInnerItem()){c.show()}},onContainerInitialized:function(a){var b=a.getActiveItem();if(b){b.show()}a.on(\"activeitemchange\",\"onContainerActiveItemChange\",this)},onContainerActiveItemChange:function(a){this.relayEvent(arguments,\"doActiveItemChange\")},doActiveItemChange:function(b,c,a){if(a){a.hide()}if(c){c.show()}},doItemDockedChange:function(b,c){var a=b.element;if(c){a.removeCls(this.itemCls)}else{a.addCls(this.itemCls)}this.callParent(arguments)}});Ext.define(\"Ext.layout.Layout\",{requires:[\"Ext.layout.Fit\",\"Ext.layout.Card\",\"Ext.layout.HBox\",\"Ext.layout.VBox\"],constructor:function(a,b){var c=Ext.layout.Default,d,e;if(typeof b==\"string\"){d=b;b={}}else{if(\"type\" in b){d=b.type}}if(d){c=Ext.ClassManager.getByAlias(\"layout.\"+d);if(!c){Ext.Logger.error(\"Unknown layout type of: '\"+d+\"'\")}}return new c(a,b)}});Ext.define(\"Ext.Container\",{extend:\"Ext.Component\",alternateClassName:\"Ext.lib.Container\",requires:[\"Ext.layout.Layout\",\"Ext.ItemCollection\",\"Ext.behavior.Scrollable\",\"Ext.Mask\"],xtype:\"container\",eventedConfig:{activeItem:0},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:true,defaultType:null,scrollable:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:true,delegateListeners:{delegate:\"> component\",centeredchange:\"onItemCenteredChange\",dockedchange:\"onItemDockedChange\",floatingchange:\"onItemFloatingChange\"},constructor:function(a){var b=this;b._items=b.items=new Ext.ItemCollection();b.innerItems=[];b.onItemAdd=b.onFirstItemAdd;b.callParent(arguments)},getElementConfig:function(){return{reference:\"element\",className:\"x-container\",children:[{reference:\"innerElement\",className:\"x-inner\"}]}},applyMasked:function(a,b){b=Ext.factory(a,Ext.Mask,b);if(b){this.add(b)}return b},mask:function(a){this.setMasked(a||true)},unmask:function(){this.setMasked(false)},applyModal:function(a,b){if(!a&&!b){return}return Ext.factory(a,Ext.Mask,b)},updateModal:function(c,a){var b={painted:\"refreshModalMask\",erased:\"destroyModalMask\"};if(c){this.on(b);c.on(\"destroy\",\"onModalDestroy\",this);if(this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&!this.getCentered()){Ext.Logger.warn(\"You have specified a modal config on a container that is neither centered nor has any positioning information.  Setting to top and left to 0 to compensate.\");this.setTop(0);this.setLeft(0)}if(this.isPainted()){this.refreshModalMask()}}else{if(a){a.un(\"destroy\",\"onModalDestroy\",this);this.un(b)}}},onModalDestroy:function(){this.setModal(null)},refreshModalMask:function(){var b=this.getModal(),a=this.getParent();if(!this.painted){this.painted=true;if(b){a.insertBefore(b,this);b.setZIndex(this.getZIndex()-1);if(this.getHideOnMaskTap()){b.on(\"tap\",\"hide\",this,{single:true})}}}},destroyModalMask:function(){var b=this.getModal(),a=this.getParent();if(this.painted){this.painted=false;if(b){b.un(\"tap\",\"hide\",this);a.remove(b,false)}}},updateZIndex:function(b){var a=this.getModal();this.callParent(arguments);if(a){a.setZIndex(b-1)}},updateBaseCls:function(a,b){var c=this,d=c.getUi();if(a){this.element.addCls(a);this.innerElement.addCls(a,null,\"inner\");if(d){this.element.addCls(a,null,d)}}if(b){this.element.removeCls(b);this.innerElement.removeCls(a,null,\"inner\");if(d){this.element.removeCls(b,null,d)}}},updateUseBodyElement:function(a){if(a){this.bodyElement=this.innerElement.wrap({cls:\"x-body\"});this.referenceList.push(\"bodyElement\")}},applyItems:function(a,b){if(a){this.getDefaultType();this.getDefaults();if(this.initialized&&b.length>0){this.removeAll()}this.add(a)}},applyControl:function(c){var a,b,e,d;for(a in c){d=c[a];for(b in d){e=d[b];if(Ext.isObject(e)){e.delegate=a}}d.delegate=a;this.addListener(d)}return c},onFirstItemAdd:function(){delete this.onItemAdd;this.setLayout(new Ext.layout.Layout(this,this.getLayout()||\"default\"));if(this.innerHtmlElement&&!this.getHtml()){this.innerHtmlElement.destroy();delete this.innerHtmlElement}this.on(this.delegateListeners);return this.onItemAdd.apply(this,arguments)},updateLayout:function(b,a){if(a&&a.isLayout){Ext.Logger.error(\"Replacing a layout after one has already been initialized is not currently supported.\")}},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias(\"widget.\"+a);if(!this.defaultItemClass){Ext.Logger.error(\"Invalid defaultType of: '\"+a+\"', must be a valid component xtype\")}},applyDefaults:function(a){if(a){this.factoryItem=this.factoryItemWithDefaults;return a}},factoryItem:function(a){if(!a){Ext.Logger.error(\"Invalid item given: \"+a+\", must be either the config object to factory a new item, or an existing component instance\")}return Ext.factory(a,this.defaultItemClass)},factoryItemWithDefaults:function(c){if(!c){Ext.Logger.error(\"Invalid item given: \"+c+\", must be either the config object to factory a new item, or an existing component instance\")}var b=this,d=b.getDefaults(),a;if(!d){return Ext.factory(c,b.defaultItemClass)}if(c.isComponent){a=c;if(d&&c.isInnerItem()&&!b.has(a)){a.setConfig(d,true)}}else{if(d&&!c.ignoreDefaults){if(!(c.hasOwnProperty(\"left\")&&c.hasOwnProperty(\"right\")&&c.hasOwnProperty(\"top\")&&c.hasOwnProperty(\"bottom\")&&c.hasOwnProperty(\"docked\")&&c.hasOwnProperty(\"centered\"))){c=Ext.mergeIf({},c,d)}}a=Ext.factory(c,b.defaultItemClass)}return a},add:function(a){var e=this,b,d,c,f;a=Ext.Array.from(a);d=a.length;for(b=0;b<d;b++){c=e.factoryItem(a[b]);this.doAdd(c);if(!f&&!this.getActiveItem()&&this.innerItems.length>0&&c.isInnerItem()){f=c}}if(f){this.setActiveItem(f)}return c},doAdd:function(d){var c=this,a=c.getItems(),b;if(!a.has(d)){b=a.length;a.add(d);if(d.isInnerItem()){c.insertInner(d)}d.setParent(c);c.onItemAdd(d,b)}},remove:function(d,b){var c=this,a=c.indexOf(d),e=c.getInnerItems();if(b===undefined){b=c.getAutoDestroy()}if(a!==-1){if(!c.removingAll&&e.length>1&&d===c.getActiveItem()){c.on({activeitemchange:\"doRemove\",scope:c,single:true,order:\"after\",args:[d,a,b]});c.doResetActiveItem(e.indexOf(d))}else{c.doRemove(d,a,b);if(e.length===0){c.setActiveItem(null)}}}return c},doResetActiveItem:function(a){if(a===0){this.setActiveItem(1)}else{this.setActiveItem(0)}},doRemove:function(d,a,b){var c=this;c.items.remove(d);if(d.isInnerItem()){c.removeInner(d)}c.onItemRemove(d,a,b);d.setParent(null);if(b){d.destroy()}},removeAll:function(c,f){var a=this.items,e=a.length,b=0,d;if(c===undefined){c=this.getAutoDestroy()}f=Boolean(f);this.removingAll=true;for(;b<e;b++){d=a.getAt(b);if(d&&(f||d.isInnerItem())){this.doRemove(d,b,c);b--;e--}}this.removingAll=false;return this},getAt:function(a){return this.items.getAt(a)},removeAt:function(a){var b=this.getAt(a);if(b){this.remove(b)}return this},removeInnerAt:function(a){var b=this.getInnerItems()[a];if(b){this.remove(b)}return this},has:function(a){return this.getItems().indexOf(a)!=-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!=-1},indexOf:function(a){return this.getItems().indexOf(a)},insertInner:function(d,b){var a=this.getItems().items,f=this.innerItems,g=f.indexOf(d),c=-1,e;if(g!==-1){f.splice(g,1)}if(typeof b==\"number\"){do{e=a[++b]}while(e&&!e.isInnerItem());if(e){c=f.indexOf(e);f.splice(c,0,d)}}if(c===-1){f.push(d);c=f.length-1}if(g!==-1){this.onInnerItemMove(d,c,g)}return this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){Ext.Array.remove(this.innerItems,a);return this},insert:function(a,d){var c=this,b;if(Ext.isArray(d)){for(b=d.length-1;b>=0;b--){c.insert(a,d[b])}return c}d=this.factoryItem(d);this.doInsert(a,d);return d},doInsert:function(d,f){var e=this,b=e.items,c=b.length,a,g;g=f.isInnerItem();if(d>c){d=c}if(b[d-1]===f){return e}a=e.indexOf(f);if(a!==-1){if(a<d){d-=1}b.removeAt(a)}else{f.setParent(e)}b.insert(d,f);if(g){e.insertInner(f,d)}if(a!==-1){e.onItemMove(f,d,a)}else{e.onItemAdd(f,d)}},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,a)},insertBefore:function(c,a){var b=this.indexOf(a);if(b!==-1){this.insert(b,c)}return this},insertAfter:function(c,a){var b=this.indexOf(a);if(b!==-1){this.insert(b+1,c)}return this},onItemAdd:function(b,a){this.doItemLayoutAdd(b,a);if(this.initialized){this.fireEvent(\"add\",this,b,a)}},doItemLayoutAdd:function(c,a){var b=this.getLayout();if(this.isRendered()&&c.setRendered(true)){c.fireAction(\"renderedchange\",[this,c,true],\"onItemAdd\",b,{args:[c,a]})}else{b.onItemAdd(c,a)}},onItemRemove:function(b,a){this.doItemLayoutRemove(b,a);this.fireEvent(\"remove\",this,b,a)},doItemLayoutRemove:function(c,a){var b=this.getLayout();if(this.isRendered()&&c.setRendered(false)){c.fireAction(\"renderedchange\",[this,c,false],\"onItemRemove\",b,{args:[c,a,undefined]})}else{b.onItemRemove(c,a)}},onItemMove:function(b,c,a){if(b.isDocked()){b.setDocked(null)}this.doItemLayoutMove(b,c,a);this.fireEvent(\"move\",this,b,c,a)},doItemLayoutMove:function(b,c,a){this.getLayout().onItemMove(b,c,a)},onItemCenteredChange:function(b,a){if(!b.isFloating()&&!b.isDocked()){if(a){this.removeInner(b)}else{this.insertInner(b,this.indexOf(b))}}this.getLayout().onItemCenteredChange(b,a)},onItemFloatingChange:function(a,b){if(!a.isCentered()&&!a.isDocked()){if(b){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemFloatingChange(a,b)},onItemDockedChange:function(a,c,b){if(!a.isCentered()&&!a.isFloating()){if(c){this.removeInner(a)}else{this.insertInner(a,this.indexOf(a))}}this.getLayout().onItemDockedChange(a,c,b)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var a=this.getItems().items,c=[],e=a.length,d,b;for(b=0;b<e;b++){d=a[b];if(d.isDocked()){c.push(d)}}return c},applyActiveItem:function(c,a){var b=this.getInnerItems();this.getItems();if(!c&&b.length===0){return 0}else{if(typeof c==\"number\"){c=Math.max(0,Math.min(c,b.length-1));c=b[c];if(c){return c}else{if(a){return null}}}else{if(c){if(!c.isComponent){c=this.factoryItem(c)}if(!c.isInnerItem()){Ext.Logger.error(\"Setting activeItem to be a non-inner item\")}if(!this.has(c)){this.add(c)}return c}}}},animateActiveItem:function(d,c){var b=this.getLayout(),a;if(this.activeItemAnimation){this.activeItemAnimation.destroy()}this.activeItemAnimation=c=new Ext.fx.layout.Card(c);if(c&&b.isCard){c.setLayout(b);a=b.getAnimation();if(a){a.disable();c.on(\"animationend\",function(){a.enable();c.destroy()},this)}}return this.setActiveItem(d)},doSetActiveItem:function(b,a){if(a){a.fireEvent(\"deactivate\",a,this,b)}if(b){b.fireEvent(\"activate\",b,this,a)}},setRendered:function(d){if(this.callParent(arguments)){var a=this.items.items,b,c;for(b=0,c=a.length;b<c;b++){a[b].setRendered(d)}return true}return false},getScrollableBehavior:function(){var a=this.scrollableBehavior;if(!a){a=this.scrollableBehavior=new Ext.behavior.Scrollable(this)}return a},applyScrollable:function(a){this.getScrollableBehavior().setConfig(a)},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(a){var b=this.getItems().items.slice(),e=b.length,c,d;if(a){for(c=0;c<e;c++){d=b[c];if(d.getRefItems){b=b.concat(d.getRefItems(true))}}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.getItems().get(a)},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var c=this.getDockedItems(),e=c.length,d,b;if(Ext.isNumber(a)){return c[a]}for(b=0;b<e;b++){d=c[b];if(d.id==a){return d}}return false},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query(\"> \"+a)[0]||null},down:function(a){return this.query(a)[0]||null},onClassExtended:function(b,a){if(\"onAdd\" in a||\"onRemove\" in a){throw new Error(\"[\"+b.$className+\"] 'onAdd()' and 'onRemove()' methods no longer exist in Ext.Container, please use 'onItemAdd()' and 'onItemRemove()' instead }\")}},destroy:function(){var a=this.getModal();if(a){a.destroy()}this.removeAll(true,true);Ext.destroy(this.getScrollable(),this.bodyElement);this.callParent()}},function(){this.addMember(\"defaultItemClass\",this);Ext.deprecateClassMethod(this,\"addAll\",\"add\");Ext.deprecateClassMethod(this,\"removeDocked\",\"remove\");this.override({constructor:function(a){a=a||{};var c=a.dockedItems,b,e,d;if(a.scroll){Ext.Logger.deprecate(\"'scroll' config is deprecated, please use 'scrollable' instead.\",this);a.scrollable=a.scroll;delete a.scroll}this.callParent(arguments);if(c){Ext.Logger.deprecate(\"'dockedItems' config is deprecated, please add all docked items inside the 'items' config with a 'docked' property indicating the docking position instead, i.e { /*...*/ docked: 'top' /*...*/ }\");c=Ext.Array.from(c);for(b=0,e=c.length;b<e;b++){d=c[b];if(\"dock\" in d){Ext.Logger.deprecate(\"'dock' config for docked items is deprecated, please use 'docked' instead\");d.docked=d.dock}}this.add(c)}},add:function(){var a=arguments;if(a.length>1){if(typeof a[0]==\"number\"){Ext.Logger.deprecate(\"add(index, item) method signature is deprecated, please use insert(index, item) instead\");return this.insert(a[0],a[1])}Ext.Logger.deprecate(\"Passing items as multiple arguments is deprecated, please use one single array of items instead\");a=[Array.prototype.slice.call(a)]}return this.callParent(a)},doAdd:function(c){var d=c.getDocked(),b=c.overlay,a;if(b&&d){Ext.Logger.deprecate(\"'overlay' config is deprecated on docked items, please set the top/left/right/bottom configurations instead.\",this);if(d==\"top\"){a={top:0,bottom:\"auto\",left:0,right:0}}else{if(d==\"bottom\"){a={top:null,bottom:0,left:0,right:0}}}if(a){c.setDocked(false);c.setTop(a.top);c.setBottom(a.bottom);c.setLeft(a.left);c.setRight(a.right)}}return this.callOverridden(arguments)},applyDefaults:function(a){if(typeof a==\"function\"){Ext.Logger.deprecate(\"Passing a function as 'defaults' is deprecated. To add custom logics when 'defaults' is applied to each item, have your own factoryItem() method in your sub-class instead\")}return this.callParent(arguments)},factoryItemWithDefaults:function(b){var d=this.getDefaults(),c,a;if(typeof d==\"function\"){c=d.call(this,b)}if(typeof b==\"string\"){Ext.Logger.deprecate(\"Passing a string id of item ('\"+b+\"') is deprecated, please pass a reference to that item instead\");b=Ext.getCmp(b)}if(c){this._defaults=c}a=this.callParent([b]);if(c){this._defaults=d}return a},applyMasked:function(a){if(Ext.isObject(a)&&!a.isInstance&&\"message\" in a&&!(\"xtype\" in a)&&!(\"xclass\" in a)){a.xtype=\"loadmask\";Ext.Logger.deprecate(\"Using a 'message' config without specify an 'xtype' or 'xclass' will no longer implicitly set 'xtype' to 'loadmask'. Please set that explicitly.\")}return this.callOverridden(arguments)}});Ext.deprecateClassMethod(this,\"setMask\",\"setMasked\")});Ext.define(\"Ext.viewport.Default\",{extend:\"Ext.Container\",xtype:\"viewport\",PORTRAIT:\"portrait\",LANDSCAPE:\"landscape\",requires:[\"Ext.LoadMask\"],config:{autoMaximize:false,autoBlurInput:true,preventPanning:true,preventZooming:false,autoRender:true,layout:\"card\",width:\"100%\",height:\"100%\"},isReady:false,isViewport:true,isMaximizing:false,id:\"ext-viewport\",isInputRegex:/^(input|textarea|select|a)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+\"fullscreen\",constructor:function(a){var b=Ext.Function.bind;this.doPreventPanning=b(this.doPreventPanning,this);this.doPreventZooming=b(this.doPreventZooming,this);this.doBlurInput=b(this.doBlurInput,this);this.maximizeOnEvents=[\"ready\",\"orientationchange\"];this.orientation=this.determineOrientation();this.windowWidth=this.getWindowWidth();this.windowHeight=this.getWindowHeight();this.windowOuterHeight=this.getWindowOuterHeight();if(!this.stretchHeights){this.stretchHeights={}}this.callParent([a]);if(this.supportsOrientation()){this.addWindowListener(\"orientationchange\",b(this.onOrientationChange,this))}else{this.addWindowListener(\"resize\",b(this.onResize,this))}document.addEventListener(\"focus\",b(this.onElementFocus,this),true);document.addEventListener(\"blur\",b(this.onElementBlur,this),true);Ext.onDocumentReady(this.onDomReady,this);this.on(\"ready\",this.onReady,this,{single:true});this.getEventDispatcher().addListener(\"component\",\"*\",\"fullscreen\",\"onItemFullscreenChange\",this);return this},onDomReady:function(){this.isReady=true;this.updateSize();this.fireEvent(\"ready\",this)},onReady:function(){if(this.getAutoRender()){this.render()}},onElementFocus:function(a){this.focusedElement=a.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var a=Ext.getBody(),b=Ext.baseCSSPrefix,h=[],d=Ext.os,g=d.name.toLowerCase(),f=Ext.browser.name.toLowerCase(),e=d.version.getMajor(),c=this.getOrientation();this.renderTo(a);h.push(b+d.deviceType.toLowerCase());if(d.is.iPad){h.push(b+\"ipad\")}h.push(b+g);h.push(b+f);if(e){h.push(b+g+\"-\"+e)}if(d.is.BlackBerry){h.push(b+\"bb\")}if(Ext.browser.is.Standalone){h.push(b+\"standalone\")}h.push(b+c);a.addCls(h)}},applyAutoBlurInput:function(a){var b=(Ext.feature.has.Touch)?\"touchstart\":\"mousedown\";if(a){this.addWindowListener(b,this.doBlurInput,false)}else{this.removeWindowListener(b,this.doBlurInput,false)}return a},applyAutoMaximize:function(a){if(Ext.browser.is.WebView){a=false}if(a){this.on(\"ready\",\"doAutoMaximizeOnReady\",this,{single:true});this.on(\"orientationchange\",\"doAutoMaximizeOnOrientationChange\",this)}else{this.un(\"ready\",\"doAutoMaximizeOnReady\",this);this.un(\"orientationchange\",\"doAutoMaximizeOnOrientationChange\",this)}return a},applyPreventPanning:function(a){if(a){this.addWindowListener(\"touchmove\",this.doPreventPanning,false)}else{this.removeWindowListener(\"touchmove\",this.doPreventPanning,false)}return a},applyPreventZooming:function(a){var b=(Ext.feature.has.Touch)?\"touchstart\":\"mousedown\";if(a){this.addWindowListener(b,this.doPreventZooming,false)}else{this.removeWindowListener(b,this.doPreventZooming,false)}return a},doAutoMaximizeOnReady:function(){var a=arguments[arguments.length-1];a.pause();this.isMaximizing=true;this.on(\"maximize\",function(){this.isMaximizing=false;this.updateSize();a.resume();this.fireEvent(\"ready\",this)},this,{single:true});this.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=arguments[arguments.length-1],b=a.firingArguments;a.pause();this.isMaximizing=true;this.on(\"maximize\",function(){this.isMaximizing=false;this.updateSize();b[1]=this.windowWidth;b[2]=this.windowHeight;a.resume()},this,{single:true});this.maximize()},doBlurInput:function(b){var a=b.target,c=this.focusedElement;if(c&&!this.isInputRegex.test(a.tagName)){delete this.focusedElement;c.blur()}},doPreventPanning:function(a){a.preventDefault()},doPreventZooming:function(b){if(\"button\" in b&&b.button!==0){return}var a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)){b.preventDefault()}},addWindowListener:function(b,c,a){window.addEventListener(b,c,Boolean(a))},removeWindowListener:function(b,c,a){window.removeEventListener(b,c,Boolean(a))},doAddListener:function(a,d,c,b){if(a===\"ready\"&&this.isReady&&!this.isMaximizing){d.call(c);return this}this.mixins.observable.doAddListener.apply(this,arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var c=this.windowWidth,f=this.windowHeight,e=this.getWindowWidth(),a=this.getWindowHeight(),d=this.getOrientation(),b=this.determineOrientation();if((c!==e||f!==a)&&d!==b){this.fireOrientationChangeEvent(b,d)}},onOrientationChange:function(){var b=this.getOrientation(),a=this.determineOrientation();if(a!==b){this.fireOrientationChangeEvent(a,b)}},fireOrientationChangeEvent:function(b,c){var a=Ext.baseCSSPrefix;Ext.getBody().replaceCls(a+c,a+b);this.orientation=b;this.updateSize();this.fireEvent(\"orientationchange\",this,b,this.windowWidth,this.windowHeight)},updateSize:function(b,a){this.windowWidth=b!==undefined?b:this.getWindowWidth();this.windowHeight=a!==undefined?a:this.getWindowHeight();return this},waitUntil:function(h,e,g,a,f){if(!a){a=50}if(!f){f=2000}var c=this,b=0;setTimeout(function d(){b+=a;if(h.call(c)===true){if(e){e.call(c)}}else{if(b>=f){if(g){g.call(c)}}else{setTimeout(d,a)}}},a)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize();this.fireEvent(\"maximize\",this)},doSetHeight:function(a){Ext.getBody().setHeight(a);this.callParent(arguments)},doSetWidth:function(a){Ext.getBody().setWidth(a);this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var b=this.PORTRAIT,a=this.LANDSCAPE;if(this.supportsOrientation()){if(this.getWindowOrientation()%180===0){return b}return a}else{if(this.getWindowHeight()>=this.getWindowWidth()){return b}return a}},onItemFullscreenChange:function(a){a.addCls(this.fullscreenItemCls);this.add(a)}});Ext.define(\"Ext.viewport.Ios\",{extend:\"Ext.viewport.Default\",isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===true},constructor:function(){this.callParent(arguments);if(this.getAutoMaximize()&&!this.isFullscreen()){this.addWindowListener(\"touchstart\",Ext.Function.bind(this.onTouchStart,this))}},maximize:function(){if(this.isFullscreen()){return this.callParent()}var c=this.stretchHeights,b=this.orientation,d=this.getWindowHeight(),a=c[b];if(window.scrollY>0){this.scrollToTop();if(!a){c[b]=a=this.getWindowHeight()}this.setHeight(a);this.fireMaximizeEvent()}else{if(!a){a=this.getScreenHeight()}this.setHeight(a);this.waitUntil(function(){this.scrollToTop();return d!==this.getWindowHeight()},function(){if(!c[b]){a=c[b]=this.getWindowHeight();this.setHeight(a)}this.fireMaximizeEvent()},function(){Ext.Logger.error(\"Timeout waiting for window.innerHeight to change\",this);a=c[b]=this.getWindowHeight();this.setHeight(a);this.fireMaximizeEvent()},50,1000)}},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?\"height\":\"width\"]},onElementFocus:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){clearTimeout(this.scrollToTopTimer)}this.callParent(arguments)},onElementBlur:function(){if(this.getAutoMaximize()&&!this.isFullscreen()){this.scrollToTopTimer=setTimeout(this.scrollToTop,500)}this.callParent(arguments)},onTouchStart:function(){if(this.focusedElement===null){this.scrollToTop()}},scrollToTop:function(){window.scrollTo(0,0)}},function(){if(!Ext.os.is.iOS){return}if(Ext.os.version.lt(\"3.2\")){this.override({constructor:function(){var a=this.stretchHeights={};a[this.PORTRAIT]=416;a[this.LANDSCAPE]=268;return this.callOverridden(arguments)}})}if(Ext.os.version.lt(\"5\")){this.override({fieldMaskClsTest:\"-field-mask\",doPreventZooming:function(b){var a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)&&a.className.indexOf(this.fieldMaskClsTest)==-1){b.preventDefault()}}})}if(Ext.os.is.iPad){this.override({isFullscreen:function(){return true}})}});Ext.define(\"Ext.viewport.Android\",{extend:\"Ext.viewport.Default\",constructor:function(){this.on(\"orientationchange\",\"doFireOrientationChangeEvent\",this,{prepend:true});this.on(\"orientationchange\",\"hideKeyboardIfNeeded\",this,{prepend:true});return this.callParent(arguments)},getDummyInput:function(){var a=this.dummyInput,c=this.focusedElement,b=Ext.fly(c).getPageBox();if(!a){this.dummyInput=a=document.createElement(\"input\");a.style.position=\"absolute\";a.style.opacity=\"0\";document.body.appendChild(a)}a.style.left=b.left+\"px\";a.style.top=b.top+\"px\";a.style.display=\"\";return a},doBlurInput:function(c){var b=c.target,d=this.focusedElement,a;if(d&&!this.isInputRegex.test(b.tagName)){a=this.getDummyInput();delete this.focusedElement;a.focus();setTimeout(function(){a.style.display=\"none\"},100)}},hideKeyboardIfNeeded:function(){var a=arguments[arguments.length-1],b=this.focusedElement;if(b){delete this.focusedElement;a.pause();if(Ext.os.version.lt(\"4\")){b.style.display=\"none\"}else{b.blur()}setTimeout(function(){b.style.display=\"\";a.resume()},1000)}},doFireOrientationChangeEvent:function(){var a=arguments[arguments.length-1];this.orientationChanging=true;a.pause();this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight();this.updateSize();a.firingArguments[1]=this.windowWidth;a.firingArguments[2]=this.windowHeight;a.resume();this.orientationChanging=false},function(){Ext.Logger.error(\"Timeout waiting for viewport's outerHeight to change before firing orientationchange\",this)});return this},applyAutoMaximize:function(a){a=this.callParent(arguments);this.on(\"add\",\"fixSize\",this,{single:true});if(!a){this.on(\"ready\",\"fixSize\",this,{single:true});this.onAfter(\"orientationchange\",\"doFixSize\",this)}else{this.un(\"ready\",\"fixSize\",this);this.unAfter(\"orientationchange\",\"doFixSize\",this)}},fixSize:function(){this.doFixSize()},doFixSize:function(){this.setHeight(this.getWindowHeight())},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var c=this.stretchHeights,b=this.orientation,a;a=c[b];if(!a){c[b]=a=this.getActualWindowOuterHeight()}if(!this.addressBarHeight){this.addressBarHeight=a-this.getWindowHeight()}this.setHeight(a);var d=Ext.Function.bind(this.isHeightMaximized,this,[a]);this.scrollToTop();this.waitUntil(d,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a}},function(){if(!Ext.os.is.Android){return}var a=Ext.os.version,b=Ext.browser.userAgent,c=/(htc|desire|incredible|ADR6300)/i.test(b)&&a.lt(\"2.3\");if(c){this.override({constructor:function(d){if(!d){d={}}d.autoMaximize=false;this.watchDogTick=Ext.Function.bind(this.watchDogTick,this);setInterval(this.watchDogTick,1000);return this.callParent([d])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var e=Ext.Date.now(),f=this.watchDogLastTick,d=e-f;if(d>=2000){return}return this.callParent(arguments)},doPreventZooming:function(){var e=Ext.Date.now(),f=this.watchDogLastTick,d=e-f;if(d>=2000){return}return this.callParent(arguments)}})}if(a.match(\"2\")){this.override({onReady:function(){this.addWindowListener(\"resize\",Ext.Function.bind(this.onWindowResize,this));this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var e=this.windowWidth,g=this.windowHeight,f=this.getWindowWidth(),d=this.getWindowHeight();if(this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&e===f&&d<g&&((d>=g-this.addressBarHeight)||!this.focusedElement)){this.scrollToTop()}},fixSize:function(){var d=this.getOrientation(),f=window.outerHeight,g=window.outerWidth,e;if(d===\"landscape\"&&(f<g)||d===\"portrait\"&&(f>=g)){e=this.getActualWindowOuterHeight()}else{e=this.getWindowHeight()}this.waitUntil(function(){return e>this.getWindowHeight()},this.doFixSize,this.doFixSize,50,1000)}})}else{if(a.gtEq(\"3.1\")){this.override({isHeightMaximized:function(d){this.scrollToTop();return this.getWindowHeight()===d-1}})}else{if(a.match(\"3\")){this.override({isHeightMaximized:function(){this.scrollToTop();return true}})}}}if(a.gtEq(\"4\")){this.override({doBlurInput:Ext.emptyFn})}});Ext.define(\"Ext.viewport.Viewport\",{requires:[\"Ext.viewport.Ios\",\"Ext.viewport.Android\"],constructor:function(b){var c=Ext.os.name,d,a;switch(c){case\"Android\":d=\"Android\";break;case\"iOS\":d=\"Ios\";break;default:d=\"Default\"}a=Ext.create(\"Ext.viewport.\"+d,b);return a}});Ext.define(\"Ext.app.Controller\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.call(this,a)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(a){return this.getApplication().redirectTo(a)},execute:function(b,a){b.setBeforeFilters(this.getBefore()[b.getAction()]);b.execute()},applyBefore:function(e){var d,a,c,b;for(a in e){d=Ext.Array.from(e[a]);c=d.length;for(b=0;b<c;b++){d[b]=this[d[b]]}e[a]=d}return e},applyControl:function(a){this.control(a,this);return a},applyRefs:function(a){if(Ext.isArray(a)){Ext.Logger.deprecate(\"In Sencha Touch 2 the refs config accepts an object but you have passed it an array.\")}this.ref(a);return a},applyRoutes:function(a){var f=this instanceof Ext.app.Application?this:this.getApplication(),c=f.getRouter(),b,e,d;for(e in a){b=a[e];d={controller:this.$className};if(Ext.isString(b)){d.action=b}else{Ext.apply(d,b)}c.connect(e,d)}return a},applyStores:function(a){return this.getFullyQualified(a,\"store\")},applyModels:function(a){return this.getFullyQualified(a,\"model\")},applyViews:function(a){return this.getFullyQualified(a,\"view\")},getFullyQualified:function(b,e){var f=b.length,a=this.getApplication().getName(),c,d;for(d=0;d<f;d++){c=b[d];if(Ext.isString(c)&&(Ext.Loader.getPrefix(c)===\"\"||c===a)){b[d]=a+\".\"+e+\".\"+c}}return b},control:function(a){this.getApplication().control(a,this)},ref:function(b){var e,c,a,d;for(e in b){a=b[e];c=\"get\"+Ext.String.capitalize(e);if(!this[c]){if(Ext.isString(b[e])){d={ref:e,selector:a}}else{d=b[e]}this[c]=Ext.Function.pass(this.getRef,[e,d],this)}this.references=this.references||[];this.references.push(e.toLowerCase())}},getRef:function(d,e,a){this.refCache=this.refCache||{};e=e||{};a=a||{};Ext.apply(e,a);if(e.forceCreate){return Ext.ComponentManager.create(e,\"component\")}var c=this,b=c.refCache[d];if(!b){c.refCache[d]=b=Ext.ComponentQuery.query(e.selector)[0];if(!b&&e.autoCreate){c.refCache[d]=b=Ext.ComponentManager.create(e,\"component\")}if(b){b.on(\"destroy\",function(){c.refCache[d]=null})}}return b},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},onClassExtended:function(p,e){var k=this.prototype,f=k.config,c=e.config||{},j=e.refs,a={},n=e.stores,o=e.views,l=Ext.String.format,d,m,b,g,h;for(m in f){if(m in e&&m!=\"control\"){if(m==\"refs\"){for(g=0;g<j.length;g++){d=j[g];a[d.ref]=d}c.refs=a}else{c[m]=e[m]}delete e[m];Ext.Logger.deprecate(m+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}if(n){b=n.length;c.stores=n;Ext.Logger.deprecate(\"'stores' is deprecated as a property directly on the \"+this.$className+\" prototype. Please move it to Ext.application({ stores: ... }) instead\");for(g=0;g<b;g++){h=l(\"get{0}Store\",Ext.String.capitalize(n[g]));k[h]=function(i){return function(){return Ext.StoreManager.lookup(i)}}(n[g])}}if(o){b=o.length;c.views=o;Ext.Logger.deprecate(\"'views' is deprecated as a property directly on the \"+this.$className+\" prototype. Please move it to Ext.application({ views: ... }) instead\");for(g=0;g<b;g++){h=l(\"get{0}View\",o[g]);k[h]=function(i){return function(){return Ext.ClassManager.classes[l(\"{0}.view.{1}\",this.getApplication().getName(),i)]}}(o[g])}}e.config=c},getModel:function(b){Ext.Logger.deprecate(\"getModel() is deprecated and considered bad practice - please just use the Model name instead (e.g. MyApp.model.User vs this.getModel('User'))\");var a=this.getApplication().getName(),c=Ext.ClassManager.classes;return c[a+\".model.\"+b]},getController:function(b,a){Ext.Logger.deprecate(\"Ext.app.Controller#getController is deprecated and considered bad practice - please use this.getApplication().getController('someController') instead\");return this.getApplication().getController(b,a)}},function(){Ext.regController=function(b,a){Ext.apply(a,{extend:\"Ext.app.Controller\"});Ext.Logger.deprecate(\"[Ext.app.Controller] Ext.regController is deprecated, please use Ext.define to define a Controller as with any other class. For more information see the Touch 1.x -> 2.x migration guide\");Ext.define(\"controller.\"+b,a)}});Ext.define(\"Ext.app.History\",{mixins:[\"Ext.mixin.Observable\"],config:{actions:[],updateUrl:true,token:\"\"},constructor:function(a){if(Ext.feature.has.History){window.addEventListener(\"hashchange\",Ext.bind(this.detectStateChange,this))}else{setInterval(Ext.bind(this.detectStateChange,this),50)}this.initConfig(a)},add:function(c,a){this.getActions().push(Ext.factory(c,Ext.app.Action));var b=c.getUrl();if(this.getUpdateUrl()){this.setToken(b);window.location.hash=b}if(a!==true){this.fireEvent(\"change\",b)}this.setToken(b)},back:function(){this.getActions().pop().run()},applyToken:function(a){return a[0]==\"#\"?a.substr(1):a},detectStateChange:function(){var b=this.applyToken(window.location.hash),a=this.getToken();if(b!=a){this.onStateChange();this.setToken(b)}},onStateChange:function(){this.fireEvent(\"change\",window.location.hash.substr(1))}});Ext.define(\"Ext.app.Profile\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{namespace:\"auto\",name:\"auto\",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return false},launch:Ext.emptyFn,applyNamespace:function(a){if(a==\"auto\"){a=this.getName()}return a.toLowerCase()},applyName:function(a){if(a==\"auto\"){var b=this.$className.split(\".\");a=b[b.length-1]}return a},getDependencies:function(){var c=[],g=Ext.String.format,b=this.getApplication().getName(),d=this.getNamespace(),f={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},e,h,a;for(e in f){h=[];Ext.each(f[e],function(i){if(Ext.isString(i)){if(Ext.isString(i)&&(Ext.Loader.getPrefix(i)===\"\"||i===b)){i=b+\".\"+e+\".\"+d+\".\"+i}h.push(i);c.push(i)}},this);f[e]=h}f.all=c;return f}});Ext.define(\"Ext.app.Action\",{config:{scope:null,application:null,controller:null,action:null,args:[],url:undefined,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(a){this.initConfig(a);this.getUrl()},execute:function(){this.resume()},resume:function(){var b=this.getCurrentFilterIndex()+1,c=this.getBeforeFilters(),a=this.getController(),d=c[b];if(d){this.setCurrentFilterIndex(b);d.call(a,this)}else{a[this.getAction()].apply(a,this.getArgs())}},applyUrl:function(a){if(a===null||a===undefined){a=this.urlEncode()}return a},applyController:function(a){var c=this.getApplication(),b=c.getCurrentProfile();if(Ext.isString(a)){a=c.getController(a,b?b.getNamespace():null)}return a},urlEncode:function(){var a=this.getController(),b;if(a instanceof Ext.app.Controller){b=a.$className.split(\".\");a=b[b.length-1]}return a+\"/\"+this.getAction()}});Ext.define(\"Ext.app.Route\",{config:{conditions:{},url:null,controller:null,action:null,initialized:false},constructor:function(a){this.initConfig(a)},recognize:function(b){if(!this.getInitialized()){this.initialize()}if(this.recognizes(b)){var c=this.matchesFor(b),a=b.match(this.matcherRegex);a.shift();return Ext.applyIf(c,{controller:this.getController(),action:this.getAction(),historyUrl:b,args:a})}},initialize:function(){this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\\_]*)/g);this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(this.getUrl());this.setInitialized(true)},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(b){var f={},e=this.paramsInMatchString,a=b.match(this.matcherRegex),d=e.length,c;a.shift();for(c=0;c<d;c++){f[e[c].replace(\":\",\"\")]=a[c]}return f},argsFor:function(c){var b=[],f=this.paramsInMatchString,a=c.match(this.matcherRegex),e=f.length,d;a.shift();for(d=0;d<e;d++){b.push(f[d].replace(\":\",\"\"));params[f[d].replace(\":\",\"\")]=a[d]}return params},urlFor:function(b){var a=this.getUrl();for(var c in b){a=a.replace(\":\"+c,b[c])}return a},createMatcherRegex:function(a){var e=this.paramsInMatchString,d=e.length,b,c,f;for(b=0;b<d;b++){c=this.getConditions()[e[b]];f=Ext.util.Format.format(\"({0})\",c||\"[%a-zA-Z0-9-\\\\_\\\\s,]+\");a=a.replace(new RegExp(e[b]),f)}return new RegExp(\"^\"+a+\"$\")}});Ext.define(\"Ext.app.Router\",{requires:[\"Ext.app.Route\"],config:{routes:[],defaults:{action:\"index\"}},constructor:function(a){this.initConfig(a)},connect:function(b,c){c=Ext.apply({url:b},c||{},this.getDefaults());var a=Ext.create(\"Ext.app.Route\",c);this.getRoutes().push(a);return a},recognize:function(c){var b=this.getRoutes(),e=b.length,d,a;for(d=0;d<e;d++){a=b[d].recognize(c);if(a!==undefined){return a}}return undefined},draw:function(a){a.call(this,this)},clear:function(){this.setRoutes([])}},function(){Ext.Router={};var a=[];Ext.Router.setAppInstance=function(b){Ext.Router.appInstance=b;if(a.length>0){Ext.each(a,Ext.Router.draw)}};Ext.Router.draw=function(b){Ext.Logger.deprecate(\"Ext.Router.map is deprecated, please define your routes inline inside each Controller. Please see the 1.x -> 2.x migration guide for more details.\");var d=Ext.Router.appInstance,c;if(d){c=d.getRouter();b(c)}else{a.push(b)}}});Ext.define(\"Ext.app.Application\",{extend:\"Ext.app.Controller\",requires:[\"Ext.app.History\",\"Ext.app.Profile\",\"Ext.app.Router\",\"Ext.app.Action\"],config:{profiles:[],controllers:[],history:{},name:null,appFolder:\"app\",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:true,requires:[]},constructor:function(a){a=a||{};Ext.applyIf(a,{application:this});this.initConfig(a);for(var b in a){this[b]=a[b]}if(a.autoCreateViewport){Ext.Logger.deprecate('[Ext.app.Application] autoCreateViewport has been deprecated in Sencha Touch 2. Please implement a launch function on your Application instead and use Ext.create(\"MyApp.view.Main\") to create your initial UI.')}Ext.Loader.setConfig({enabled:true});Ext.require(this.getRequires(),function(){if(this.getEnableLoader()!==false){Ext.require(this.getProfiles(),this.onProfilesLoaded,this)}},this)},dispatch:function(e,d){e=e||{};Ext.applyIf(e,{application:this});e=Ext.factory(e,Ext.app.Action);if(e){var c=this.getCurrentProfile(),b=c?c.getNamespace():undefined,a=this.getController(e.getController(),b);if(a){if(d!==false){this.getHistory().add(e,true)}a.execute(e)}}},redirectTo:function(c){if(Ext.data&&Ext.data.Model&&c instanceof Ext.data.Model){var a=c;c=a.toUrl()}var b=this.getRouter().recognize(c);if(b){b.url=c;if(a){b.data={};b.data.record=a}return this.dispatch(b)}},control:function(h,d){d=d||this;var i=this.getEventDispatcher(),g=(d)?d.getRefs():{},c,e,b,f,a;for(c in h){if(h.hasOwnProperty(c)){f=h[c];a=g[c];if(a){c=a.selector||a}for(e in f){b=f[e];if(Ext.isString(b)){b=d[b]}i.addListener(\"component\",c,e,b,d)}}}},getController:function(b,d){var f=this.getControllerInstances(),a=this.getName(),e=Ext.String.format,c;if(b instanceof Ext.app.Controller){return b}if(f[b]){return f[b]}else{c=e(\"{0}.controller.{1}\",a,b);d=e(\"{0}.controller.{1}.{2}\",a,d,b);return f[d]||f[c]}},onProfilesLoaded:function(){var b=this.getProfiles(),e=b.length,g=[],d=this.gatherDependencies(),f,c,a;for(c=0;c<e;c++){g[c]=Ext.create(b[c],{application:this});a=g[c].getDependencies();d=d.concat(a.all);if(g[c].isActive()&&!f){f=g[c];this.setCurrentProfile(f);this.setControllers(this.getControllers().concat(a.controller));this.setModels(this.getModels().concat(a.model));this.setViews(this.getViews().concat(a.view));this.setStores(this.getStores().concat(a.store))}}this.setProfileInstances(g);Ext.require(d,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var g=this.getControllerInstances(),f=[],c=[],e,b,a,d;for(d in g){b=g[d];a=b.getStores();c=c.concat(a);f=f.concat(b.getModels().concat(b.getViews()).concat(a))}this.setStores(this.getStores().concat(c));Ext.require(f,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var c=this,b=this.getCurrentProfile(),e=this.getLaunch(),d,a;this.instantiateStores();Ext.app.Application.appInstance=this;if(Ext.Router){Ext.Router.setAppInstance(this)}d=this.getControllerInstances();for(a in d){d[a].init(this)}if(b){b.launch()}e.call(c);for(a in d){if(d[a]&&!(d[a] instanceof Ext.app.Controller)){Ext.Logger.warn(\"The controller '\"+a+\"' doesn't have a launch method. Are you sure it extends from Ext.app.Controller?\")}else{d[a].launch(this)}}c.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var a=this.getModels().concat(this.getViews()).concat(this.getControllers());Ext.each(this.getStores(),function(b){if(Ext.isString(b)){a.push(b)}},this);return a},instantiateStores:function(){var b=this.getStores(),f=b.length,c,a,d,g,e;for(e=0;e<f;e++){c=b[e];if(Ext.data&&Ext.data.Store&&!(c instanceof Ext.data.Store)){if(Ext.isString(c)){d=c;a=Ext.ClassManager.classes[c];c={xclass:c};if(a.prototype.defaultConfig.storeId===undefined){g=d.split(\".\");c.id=g[g.length-1]}}b[e]=Ext.factory(c,Ext.data.Store)}}this.setStores(b)},instantiateControllers:function(){var e=this.getControllers(),d={},c=e.length,a,b;for(b=0;b<c;b++){a=e[b];d[a]=Ext.create(a,{application:this})}return this.setControllerInstances(d)},applyControllers:function(a){return this.getFullyQualified(a,\"controller\")},applyProfiles:function(a){return this.getFullyQualified(a,\"profile\")},applyName:function(a){var b;if(a&&a.match(/ /g)){b=a;a=a.replace(/ /g,\"\");Ext.Logger.warn('Attempting to create an application with a name which contains whitespace (\"'+b+'\"). Renamed to \"'+a+'\".')}return a},updateName:function(a){Ext.ClassManager.setNamespace(a+\".app\",this);if(!Ext.Loader.config.paths[a]){Ext.Loader.setPath(a,this.getAppFolder())}},applyRouter:function(a){return Ext.factory(a,Ext.app.Router,this.getRouter())},applyHistory:function(a){var b=Ext.factory(a,Ext.app.History,this.getHistory());b.on(\"change\",this.onHistoryChange,this);return b},onHistoryChange:function(a){this.dispatch(this.getRouter().recognize(a),false)}},function(){Ext.regApplication=function(b){Ext.Logger.deprecate(\"[Ext.app.Application] Ext.regApplication() is deprecated, please replace it with Ext.application()\");var a=b.name,c=Ext.String.format;Ext.ns(a,c(\"{0}.controllers\",a),c(\"{0}.models\",a),c(\"{0}.views\",a));Ext.application(b)};Ext.define(\"Ext.data.ProxyMgr\",{singleton:true,registerType:function(b,a){Ext.Logger.deprecate('Ext.data.ProxyMgr no longer exists - instead of calling Ext.data.ProxyMgr.registerType just update your custom Proxy class to set alias: \"proxy.'+b+'\"');Ext.ClassManager.setAlias(a,\"proxy.\"+b)}});Ext.reg=function(b,a){Ext.Logger.deprecate('Ext.reg is deprecated, please set xtype: \"'+b+'\" directly in your subclass instead');Ext.ClassManager.setAlias(a,b)};Ext.redirect=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate(\"[Ext.app.Application] Ext.redirect is deprecated, please use YourApp.redirectTo instead\");if(a){a.redirectTo.apply(a,arguments)}};Ext.dispatch=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate(\"[Ext.app.Application] Ext.dispatch is deprecated, please use YourApp.dispatch instead\");if(a){a.dispatch.apply(a,arguments)}}});Ext.define(\"B2B.view.User\",{extend:\"Ext.Container\",xtype:\"userprofile\",id:\"userprofile\",config:{title:i18n.app.PANEL_ABOUTME,iconCls:\"user\",scrollable:false,layout:\"card\"},initialize:function(){this.callParent(arguments);var k={text:i18n.app.BTN_PRIVACY,ui:\"action\",id:\"privacy_profile_btn\",handler:this.onPrivacyProfileButtonTap,scope:this},a={text:i18n.app.BTN_SETTINGS,ui:\"action\",id:\"settings_profile_btn\",handler:this.onSettingsProfileButtonTap,scope:this},i={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",id:\"AboutTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[k,{xtype:\"spacer\"},a]},j={id:\"profile_btn\",xtype:\"button\",ui:\"action\",icon:\"image.png\",margin:\"10 0 10 0\",text:i18n.app.BTN_PROFILE,badgeText:i18n.app.BTN_PROFILE,flex:1,html:['<img class=\"avatar_medium\" height=\"48\" width=\"48\" src=\"'+HH.default_user48+'\" />','<div class=\"profile_right\"><p id=\"profile_username\"></p></div>'].join(\"\"),handler:this.onProfileButtonTap,scope:this},l={id:\"badges_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_BADGES,flex:1,handler:this.onBadgesButtonTap,scope:this},c={id:\"drinklist_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_DRINKLIST,flex:1,handler:this.onDrinkListButtonTap,scope:this},m={xtype:\"button\",id:\"myactivity_btn\",ui:\"action\",text:i18n.app.BTN_MYACTIVITY,flex:1,handler:this.onMyActivityButtonTap,scope:this},d={id:\"favorites_btn\",xtype:\"button\",ui:\"action\",text:i18n.app.BTN_FAVORITES,flex:1,handler:this.onFavoritesButtonTap,scope:this},b={xtype:\"panel\",flex:1,padding:\"0 0 10 0\",layout:{type:\"hbox\"},items:[l,d]},h={xtype:\"panel\",flex:1,padding:\"0 0 30 0\",layout:{type:\"hbox\"},items:[c,m]},g={xtype:\"panel\",flex:1,layout:{type:\"vbox\"},items:[i,j,b,h]},f={xtype:\"userpreferencesform\"},e={xtype:\"userprofileprivacyform\"};this.add([g,f,e]);this.setActiveItem(0)},onEditProfileButtonTap:function(){this.fireEvent(\"editProfileCommand\",this)},onPrivacyProfileButtonTap:function(){this.fireEvent(\"privacyProfileCommand\",this)},onSettingsProfileButtonTap:function(){this.fireEvent(\"settingsProfileCommand\",this)},onProfileButtonTap:function(){this.fireEvent(\"editProfileCommand\",this)},onBadgesButtonTap:function(){this.fireEvent(\"badgesProfileCommand\",this)},onDrinkListButtonTap:function(){Ext.Msg.alert(\"To Be Implemented\")},onMyActivityButtonTap:function(){Ext.Msg.alert(\"To Be Implemented\")},onFavoritesButtonTap:function(){this.fireEvent(\"favoritesProfileCommand\",this)},refreshProfileData:function(){this.fireEvent(\"reloadProfileCommand\",this)}});Ext.define(\"B2B.view.Component_NotificationBar\",{extend:\"Ext.Container\",xtype:\"notificationbar\",config:{cls:\"notificationbar\",docked:\"top\",height:30,html:[\"test\"].join(\"\")}});Ext.define(\"B2B.view.Camera_Container\",{extend:\"Ext.Container\",xtype:\"cameracontainerpanel\",config:{title:i18n.app.LABEL_CAMERA,iconCls:\"photo1\",styleHtmlContent:true,scrollable:true,layout:\"vbox\"},initialize:function(d,c){this.callParent(arguments);var e=[{xtype:\"image\",id:\"PhotoView\",src:\"\",flex:1},{xtype:\"button\",text:i18n.app.BTN_PHOTO,ui:\"action\",id:\"takephoto_btn\",handler:this.onTakePhotoButtonTap,scope:this,height:50}];this.add(e)},onTakePhotoButtonTap:function(){this.fireEvent(\"takePhotoCommand\",this,Ext.getCmp(\"PhotoView\"))}});Ext.define(\"B2B.controller._App\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",},control:{app:{initialize:\"onInitialize\"}}},onInitialize:function(){},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller._Login\",{extend:\"Ext.app.Controller\",config:{refs:{login:\"#BTN_login\",app:\"_app\"},control:{login:{loginCommand:\"onLoginCommand\"}}},onLoginCommand:function(){var b=Ext.getCmp(\"loginform_username\").getValue();var a=Ext.getCmp(\"loginform_password\").getValue();HH.log(\"XXX TODO: _Login Validation\",true);Ext.Ajax.request({url:\"http://localhost:8081/birrettaservice/rest/bserv/login\",method:\"POST\",defaultHeaders:{\"Content-Type\":\"application/json; charset=iso-8859-1\"},params:{username:b,password:a},timeout:10000,failure:function(c){HH.log(\"---> Step: AUTH Success\");goingTo.step2(\"Loading Store.Profile_Ajax\");HH.log(\"---> Step: Clear app, loading _App\");Ext.Viewport.removeAll(true,true);Ext.Viewport.add(Ext.create(\"B2B.view._App\"))},failure_:function(){alert(\"Could not connect to server.\")}})},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Friends\",{extend:\"Ext.app.Controller\",config:{refs:{friendListContainer:\"friendlistcontainerpanel\",friendDetail:\"frienddetailpanel\",friendFinder:\"friendfinderpanel\",app:\"_app\"},control:{friendListContainer:{searchFriendCommand:\"onSearchFriend\",viewFriendDetailCommand:\"onViewFriendDetail\"},friendDetail:{removeFriendDetailCommand:\"onRemoveFriend\",backFriendDetailCommand:\"onBackFriendDetail\"},friendFinder:{backFriendFinderCommand:\"onBackFriendDetail\"},friendlistcomponent:{itemtap:\"onViewFriendDetail\"}}},onSearchFriend:function(){this.getApp().push({xtype:\"friendfinderpanel\"})},onRemoveFriend:function(){var a=function(){this.getApp().pop()};confirm(i18n.app.DIALOG_YOUSURE,a)},onViewFriendDetail:function(f,d,i,e){setTimeout(function(){f.deselect(d)},500);var h=Ext.getStore(\"Friends_Local\");var g=h.getAt(h.findExact(\"id\",e.data.id));this.getApp().push({xtype:\"frienddetailpanel\",jsonData:g})},onBackFriendDetail:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Activities\",{extend:\"Ext.app.Controller\",config:{refs:{activitylist:\"activitylist\",activity:\"activity\",activityDetail:\"activitylistdetail\",app:\"_app\"},control:{activity:{viewActivityDetailCommand:\"onViewActivityDetail\"},activityDetail:{backActivityDetailCommand:\"onBackActivityDetail\"},activitylist:{itemtap:\"onViewActivityDetail\"}}},onViewActivityDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=e.data;this.getApp().push({xtype:\"activitylistdetail\",jsonData:g})},onBackActivityDetail:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Profiles\",{extend:\"Ext.app.Controller\",config:{refs:{profile:\"userprofile\",profileForm:\"userform\",app:\"_app\"},control:{profile:{editProfileCommand:\"onShowProfileForm\",reloadProfileCommand:\"onReloadProfile\",settingsProfileCommand:\"onShowSettings\",privacyProfileCommand:\"onShowPrivacy\"},profileForm:{saveProfileCommand:\"onSaveProfile\",backProfileCommand:\"onBackProfile\"}}},onShowProfileForm:function(){this.getApp().push({xtype:\"userform\"});var a=this.getProfileForm();a.reset();a.setRecord(Ext.getStore(\"Profile_Local\").first())},onSaveProfile:function(){Ext.Msg.alert(\"Saved!\");this.getApp().pop()},onBackProfile:function(){this.getApp().pop()},onShowPrivacy:function(){var a=Ext.getCmp(\"userprofile\");a.animateActiveItem(2,{type:\"slide\",direction:\"up\"})},onShowSettings:function(b){var c=Ext.getCmp(\"userprofile\");c.animateActiveItem(1,{type:\"slide\",direction:\"up\"})},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Beers\",{extend:\"Ext.app.Controller\",config:{refs:{beerSearchComponent:\"beersearch\",beerSelectContainer:\"beerlistselectcontainerpanel\",beerSelectSearchComponent:\"beerlistselectsearchcomponent\",beerList:\"beer\",beerForm:\"beeraddform\",beerDetail:\"beerdetailpanel\",beerlist:\"beerlist\",beerlistselectcomponent:\"beerlistselect\",beerlistselectcomponent:\"beerlistselectcomponent\",spinner:\"tbarspinner\",app:\"_app\"},control:{beerSearchComponent:{beerAddCommand:\"onShowBeerForm\"},beerSelectSearchComponent:{beerAddCommand:\"onShowBeerForm\"},beerForm:{beerSaveCommand:\"onSaveBeer\",beerBackCommand:\"onBackBeer\"},beerDetail:{reportBeerCommand:\"onReportBeer\",beerEditCommand:\"onEditBeer\",backBeerDetailCommand:\"onBackBeerDetail\",addFavoriteBeerCommand:\"onAddFavoriteBeer\"},beerList:{viewBeerDetailCommand:\"onViewBeerDetail\"},beerlist:{itemtap:\"onViewBeerDetail\"},beerlistselectcomponent:{itemtap:\"onSelectBeer\"},beerSelectContainer:{backBeerSelectCommand:\"onBackBeerSelect\"}}},onShowBeerForm:function(){var b=Ext.create(\"B2B.model.Beer\",{});this.getApp().push({xtype:\"beeraddform\"});var a=this.getBeerForm();a.setRecord(b)},onSaveBeer:function(){var b=this.getSpinner();if(b.isHidden()){b.show()}var a=this.getBeerForm();a.submit({url:\"http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer\",method:\"POST\",success:function(){alert(\"form submitted successfully!\");if(!b.isHidden()){b.hide()}this.getBeerForm().reset();this.getApp().pop()},failure:function(c,d){alert(\"PUPPA\");if(!b.isHidden()){b.hide()}}});Ext.util.JSONP.request({params:a.getValues,url:\"http://192.168.1.3:8080/birrettaservice/rest/bserv/insertBeer\",callbackKey:\"callback\",scope:\"this\",method:\"POST\",success:function(c){console.log(c.responseText);if(!b.isHidden()){b.hide()}},failure:function(c){console.log(c.responseText);if(!b.isHidden()){b.hide()}}})},onBackBeer:function(){this.getBeerForm().reset();this.getApp().pop()},onBackBeerSelect:function(){this.getApp().pop()},onViewBeerDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=Ext.getStore(\"Beers_Ajax\");this.getApp().push({xtype:\"beerdetailpanel\",jsonData:e})},onBackBeerDetail:function(){this.getApp().pop()},onAddFavoriteBeer:function(b,d){var e=Ext.create(\"B2B.model.FavoriteBeer\",{idBeer:d.idBeer,beerName:d.name});var c=Ext.getStore(\"FavoriteBeers_Local\");c.add(e);HH.log(\"-- Added Beer \"+d.name+\" to store (now \"+c.getCount()+\" items)\")},onSelectBeer:function(){},onEditBeer:function(){Ext.Msg.alert(\"TODO: Event EditBeer Received, Next release\")},onDeleteBeer:function(){Ext.Msg.alert(\"TODO: DeleteBeer Not Implemented\")},onReportBeer:function(b){if(!b.actions){b.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:i18n.app.BTN_BEERREPORTXL,scope:this,ui:\"decline\",handler:function(){alert(i18n.app.DIALOG_BEERREPORTED);b.actions.hide()}},{text:i18n.app.BTN_BEERSUGGESTEDIT,scope:this,handler:function(){HH.log(b.jsonData);b.actions.hide();var c=Ext.create(\"B2B.model.Beer\",{});this.getApp().push({xtype:\"beeraddform\"});var a=this.getBeerForm();a.setRecord(c)}},{text:i18n.app.BTN_CANCEL,scope:this,handler:function(){b.actions.hide()}}]})}b.actions.show()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Drinks\",{extend:\"Ext.app.Controller\",config:{refs:{checkInPanel:\"drinkaroundmepanel\",appContainer:\"App_Container\",app:\"_app\"},control:{checkInPanel:{checkInDetailCommand:\"onCheckInDetail\",refreshAroundCommand:\"onCheckInRefreshAround\",backCheckCommand:\"onCheckBack\"},appContainer:{gotoCheckInCommand:\"onGotoCheckIn\",}}},onGotoCheckIn:function(){this.getApp().push({xtype:\"drinkaroundmepanel\"})},onCheckIn:function(){Ext.Msg.alert(\"Check In!\");this.getApp().pop()},onCheckBack:function(){this.getApp().pop()},onCheckInRefreshAround:function(){Ext.Msg.alert(\"To Be Implemented\")},onShow:function(){console.log(\"TODO: Refresh on Show\")},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Notifications\",{extend:\"Ext.app.Controller\",config:{refs:{notificationContainer:\"notificationlistcontainerpanel\",notificationList:\"notificationlistcomponent\",appContainer:\"App_Container\",app:\"_app\"},control:{appContainer:{notificationShowCommand:\"onNotificationShow\"},notificationContainer:{notificationReadAllCommand:\"onNotificationReadAll\",notificationBackCommand:\"onNotificationBack\"},notificationList:{itemtap:\"onNotificationRead\"}}},onNotificationShow:function(){this.getApp().push({xtype:\"notificationlistcontainerpanel\"})},onNotificationRead:function(f,d,g,e){setTimeout(function(){f.deselect(d)},500);console.error(\"TODO: Notification Read\")},onNotificationReadAll:function(){console.error(\"TODO: Notification Read All\")},onNotificationBack:function(){this.getApp().pop()},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Preferences\",{extend:\"Ext.app.Controller\",id:\"Preferences\",config:{refs:{privacyForm:\"userprofileprivacyform\",preferencesForm:\"userpreferencesform\",appContainer:\"App_Container\",app:\"_app\"},control:{preferencesForm:{showPreferencesCommand:\"onShowPreferencesForm\",savePreferencesCommand:\"onSavePreferences\",cancelCommand:\"onCancel\",toggleTwitterCommand:\"onChangeTwitter\",toggleFacebookCommand:\"onChangeFacebook\"},privacyForm:{cancelCommand:\"onCancel\"}}},onInitialize:function(){this.onChangeTwitter(null,Ext.getStore(\"Profile\").first().data.shareTwitter);this.onChangeFacebook(null,Ext.getStore(\"Profile\").first().data.shareFacebook)},onShowPreferencesForm:function(){var a=this.getPreferencesForm();a.reset();a.setRecord(Ext.getStore(\"Profile_Ajax\").first())},onChangeTwitter:function(b,d){if(d){var c={xtype:\"fieldset\",id:\"fieldset_twitter\",title:i18n.app.PANEL_TWITTER,items:[{xtype:\"textfield\",name:\"username_twitter\",label:i18n.app.FORM_USERNAME},{xtype:\"passwordfield\",name:\"password_twitter\",label:i18n.app.FORM_PASSWORD}]};Ext.getCmp(\"userpreferencesform\").add(c)}else{Ext.getCmp(\"userpreferencesform\").remove(Ext.getCmp(\"fieldset_twitter\"),true)}},onChangeFacebook:function(b,d){if(d){var c={xtype:\"fieldset\",id:\"fieldset_facebook\",title:i18n.app.PANEL_FACEBOOK,items:[{xtype:\"textfield\",name:\"username_password\",label:i18n.app.FORM_USERNAME},{xtype:\"passwordfield\",name:\"password_password\",label:i18n.app.FORM_PASSWORD}]};Ext.getCmp(\"userpreferencesform\").add(c)}else{Ext.getCmp(\"userpreferencesform\").remove(Ext.getCmp(\"fieldset_facebook\"),true)}},onSavePreferences:function(){this.closePanel()},onCancel:function(){this.closePanel()},closePanel:function(){var a=Ext.getCmp(\"userprofile\");a.animateActiveItem(0,{type:\"slide\",direction:\"down\"})},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Privacy\",{extend:\"Ext.app.Controller\",config:{refs:{userprofileprivacyform:\"#BTN_removeData\",appContainer:\"App_Container\",app:\"_app\"},control:{userprofileprivacyform:{privacyRemoveDataCommand:\"onRemoveDataCommand\",privacyLogoutCommand:\"onLogOutCommand\"}}},onRemoveDataCommand:function(){var a=window.confirm(utils.__(i18n.app.DIALOG_YOUSUREREMOVEDATA));if(a){Ext.getStore(\"Activities_Ajax\").removeAll();Ext.getStore(\"Activities_Local\").removeAll();Ext.getStore(\"Beers_Ajax\").removeAll();Ext.getStore(\"Friends_Ajax\").removeAll();Ext.getStore(\"Friends_Local\").removeAll();Ext.getStore(\"Notifications_Ajax\").removeAll();Ext.getStore(\"Notifications_Local\").removeAll();Ext.getStore(\"Places_Ajax\").removeAll();Ext.getStore(\"Drinks_Ajax\").removeAll();Ext.getStore(\"Drinks_Local\").removeAll();Ext.getStore(\"Profile_Ajax\").removeAll();Ext.getStore(\"Profile_Local\").removeAll();window.location.reload()}},onLogOutCommand:function(){var a=function(){Ext.Msg.alert(\"LogOut Mock\")};Ext.Msg.confirm(i18n.app.PANEL_LOGOUT,utils.__(i18n.app.DIALOG_YOUSURELOGUT),a);Ext.getStore(\"Profile_Ajax\").removeAll();Ext.getStore(\"Profile_Local\").removeAll();window.location.reload()},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Places\",{extend:\"Ext.app.Controller\",config:{refs:{mapContainer:\"drinkaroundmepanel\",placeDetail:\"placedetailpanel\",appContainer:\"App_Container\",app:\"_app\"},control:{mapContainer:{reloadCommand:\"onReloadCommand\"},placeDetail:{backPlaceDetailCommand:\"onBackPlace\",selectBeerDrinkCommand:\"onSelectBeerDrink\",onDrinkInCommand:\"onDrinkIn\"},placelistcomponent:{itemtap:\"onViewPlaceDetail\"}}},onReloadCommand:function(){HH.log(\"TODO: Map Reload Mock\")},onBackPlace:function(){this.getApp().pop()},onViewPlaceDetail:function(f,d,h,e){setTimeout(function(){f.deselect(d)},500);var g=e.data;this.getApp().push({xtype:\"placedetailpanel\",jsonData:g})},onSelectBeerDrink:function(){this.getApp().push({xtype:\"beerlistselectcontainerpanel\",})},onDrinkIn:function(){this.getApp().pop()},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Feedbacks\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",},control:{app:{}}},onCommentSubmit:function(){},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Camera\",{extend:\"Ext.app.Controller\",xtype:\"camera\",config:{refs:{app:\"_app\",userform:\"userform\",cameracontainerpanel:\"cameracontainerpanel\",camerapicker:\"camerapicker\"},control:{cameracontainerpanel:{takePhotoCommand:\"takePhoto\"},camerapicker:{openCameraCommand:\"openCamera\",openLibraryCommand:\"openLibrary\"},userform:{chooseProfilePictureCommand:\"onChooseProfilePictureCommand\"}}},onChooseProfilePictureCommand:function(b,a){this.takePhoto(b,a)},takePhoto:function(b,a){this.imageView=a;if(this.isDevice){if(this.isCameraAvailable){this.getApp().push({xtype:\"camerapicker\"})}else{this.openLibrary()}}else{Ext.Msg.alert(i18n.app.COMMON_ATTENTION,i18n.app.LABEL_CAMERA_NOT_AVAILABLE)}},openLibrary:function(){this.captureFromCamera(false)},openCamera:function(){this.captureFromCamera(true)},captureFromCamera:function(b){var a=this.imageView;this.camera.capture({success:function(c){if(a){a.setSrc(c)}},failure:function(c){console.log(\"[Camera] Error capture: \"+c)},quality:75,destination:\"file\",source:(b?\"camera\":\"library\")})},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments);this.isDevice=(Ext.browser.is.WebView&&(Ext.os.is(\"Android\")||Ext.os.is(\"iOS\")));this.isCameraAvailable=true;if(!this.camera){this.camera=Ext.device.Camera}}});Ext.define(\"B2B.controller.Badges\",{extend:\"Ext.app.Controller\",config:{refs:{profile:\"userprofile\",badgeListContainer:\"badgelistcontainerpanel\",badgeList:\"badgelistcomponent\",badgeDetail:\"badgedetailpanel\",app:\"_app\"},control:{profile:{badgesProfileCommand:\"onShowBadgesList\"},badgeListContainer:{backToProfileCommand:\"popCurrentView\"},badgeList:{itemtap:\"onViewBadgeDetail\",select:\"onSelectItem\"},badgeDetail:{backBadgesCommand:\"popCurrentView\"}}},onShowBadgesList:function(){this.getApp().push({xtype:\"badgelistcontainerpanel\"})},popCurrentView:function(){this.getApp().pop()},onViewBadgeDetail:function(e,c,d,b,a){setTimeout(function(){e.deselect(c)},500);if(b.data.active){this.getApp().push({xtype:\"badgedetailpanel\",jsonData:b.data})}},onSelectItem:function(c,b,a){return b.data.active},launch:function(){this.callParent(arguments)},init:function(){this.callParent(arguments)}});Ext.define(\"B2B.controller.Favorites\",{extend:\"Ext.app.Controller\",config:{refs:{app:\"_app\",profilePanel:\"userprofile\",favoritesPanel:\"favoritespanel\"},control:{app:{},profilePanel:{favoritesProfileCommand:\"onFavoritesOpen\"},favoritesPanel:{jumptoBeerCommand:\"onJumpToBeer\",backFavoritesCommand:\"onFavoritesBack\"},}},onFavoritesOpen:function(){this.getApp().push({xtype:\"favoritespanel\"})},onFavoritesBack:function(){this.getApp().pop()},onJumpToBeer:function(){this.getApp().pop();var a=Ext.Viewport.down(\"App_Container\");a.setActiveItem(1)},init:function(){this.callParent(arguments)}});Ext.define(\"Ext.ux.toolbarspinner.TSpinner\",{extend:\"Ext.Component\",xtype:\"tbarspinner\",config:{style:\"font-size: 60%;\",align:\"right\",html:['<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\"].join(\"\")},});Ext.define(\"Ext.Img\",{extend:\"Ext.Component\",xtype:[\"image\",\"img\"],config:{src:null,baseCls:Ext.baseCSSPrefix+\"img\",mode:\"background\"},beforeInitialize:function(){var a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)},initialize:function(){var a=this;a.callParent();a.relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hide:function(){this.callParent();this.hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show:function(){this.callParent();if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode:function(a){if(a===\"background\"){if(this.imageElement){this.imageElement.destroy();delete this.imageElement;this.updateSrc(this.getSrc())}}else{this.imageElement=this.element.createChild({tag:\"img\"})}},onTap:function(a){this.fireEvent(\"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);this.callParent(arguments)},doSetHeight:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(arguments)},destroy:function(){this.detachListeners();Ext.destroy(this.imageObject);delete this.imageObject;this.callParent()}});Ext.define(\"Ext.plugin.PullRefresh\",{extend:\"Ext.Component\",alias:\"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">Last Updated: <span>{lastUpdated:date(\"m/d/Y h:iA\")}</span></div>',\"</div>\",\"</div>\"].join(\"\")},isRefreshing:false,currentViewState:\"\",initialize:function(){this.callParent();this.on({painted:\"onPainted\",scope:this})},init:function(f){var d=this,b=f.getStore(),e=d.getPullTpl(),c=d.element,a=f.getScrollable().getScroller();d.setList(f);d.lastUpdated=new Date();f.insert(0,d);if(b){if(b.isAutoLoading()){f.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){f.setLoadingText(null)}}})}}e.overwrite(c,{message:d.getPullRefreshText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated > span\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a;a=Ext.create(\"Ext.data.Operation\",{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPullTpl:function(a){return(Ext.isObject(a)&&a.isTemplate)?a:new Ext.XTemplate(a)},onBounceTop:function(d){var b=this,c=b.getList(),a=c.getScrollable().getScroller();if(!b.isReleased){if(!b.isRefreshing&&-d>=b.pullHeight+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-d<b.pullHeight+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\"))}});Ext.define(\"Ext.data.identifier.Simple\",{alias:\"data.identifier.simple\",statics:{AUTO_ID:1},config:{prefix:\"ext-record-\"},constructor:function(a){this.initConfig(a)},generate:function(a){return this._prefix+this.self.AUTO_ID++}});Ext.define(\"Ext.Button\",{extend:\"Ext.Component\",xtype:\"button\",cachedConfig:{pressedCls:Ext.baseCSSPrefix+\"button-pressing\",badgeCls:Ext.baseCSSPrefix+\"badge\",hasBadgeCls:Ext.baseCSSPrefix+\"hasbadge\",labelCls:Ext.baseCSSPrefix+\"button-label\",iconMaskCls:Ext.baseCSSPrefix+\"icon-mask\",iconCls:null},config:{badgeText:null,text:null,icon:null,iconAlign:\"left\",pressedDelay:0,iconMask:null,handler:null,scope:null,autoEvent:null,ui:\"normal\",baseCls:Ext.baseCSSPrefix+\"button\"},template:[{tag:\"span\",reference:\"badgeElement\",hidden:true},{tag:\"span\",className:Ext.baseCSSPrefix+\"button-icon\",reference:\"iconElement\",hidden:true},{tag:\"span\",reference:\"textElement\",hidden:true}],initialize:function(){this.callParent();this.element.on({scope:this,tap:\"onTap\",touchstart:\"onPress\",touchend:\"onRelease\"})},updateBadgeText:function(c){var a=this.element,b=this.badgeElement;if(c){b.show();b.setText(c)}else{b.hide()}a[(c)?\"addCls\":\"removeCls\"](this.getHasBadgeCls())},updateText:function(b){var a=this.textElement;if(a){if(b){a.show();a.setHtml(b)}else{a.hide()}}},updateHtml:function(b){var a=this.textElement;if(b){a.show();a.setHtml(b)}else{a.hide()}},updateBadgeCls:function(b,a){this.badgeElement.replaceCls(a,b)},updateHasBadgeCls:function(b,c){var a=this.element;if(a.hasCls(c)){a.replaceCls(c,b)}},updateLabelCls:function(b,a){this.textElement.replaceCls(a,b)},updatePressedCls:function(b,c){var a=this.element;if(a.hasCls(c)){a.replaceCls(c,b)}},updateIcon:function(b){var c=this,a=c.iconElement;if(b){c.showIconElement();a.setStyle(\"background-image\",b?\"url(\"+b+\")\":\"\");c.refreshIconAlign();c.refreshIconMask()}else{c.hideIconElement();c.setIconAlign(false)}},updateIconCls:function(c,a){var d=this,b=d.iconElement;if(c){d.showIconElement();b.replaceCls(a,c);d.refreshIconAlign();d.refreshIconMask()}else{d.hideIconElement();d.setIconAlign(false)}},updateIconAlign:function(d,c){var b=this.element,a=Ext.baseCSSPrefix+\"iconalign-\";if(!this.getText()){d=\"center\"}b.removeCls(a+\"center\");b.removeCls(a+c);if(this.getIcon()||this.getIconCls()){b.addCls(a+d)}},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},updateIconMaskCls:function(c,b){var a=this.iconElement;if(this.getIconMask()){a.replaceCls(b,c)}},updateIconMask:function(a){this.iconElement[a?\"addCls\":\"removeCls\"](this.getIconMaskCls())},refreshIconMask:function(){this.updateIconMask(this.getIconMask())},applyAutoEvent:function(b){var a=this;if(typeof b==\"string\"){b={name:b,scope:a.scope||a}}return b},updateAutoEvent:function(c){var a=c.name,b=c.scope;this.setHandler(function(){b.fireEvent(a,b,this)});this.setScope(b)},hideIconElement:function(){this.iconElement.hide()},showIconElement:function(){this.iconElement.show()},applyUi:function(a){if(a&&Ext.isString(a)){var b=a.split(\"-\");if(b&&(b[1]==\"back\"||b[1]==\"forward\")){return b}}return a},getUi:function(){var a=this._ui;if(Ext.isArray(a)){return a.join(\"-\")}return a},applyPressedDelay:function(a){if(Ext.isNumber(a)){return a}return(a)?100:0},onPress:function(){var c=this,a=c.element,d=c.getPressedDelay(),b=c.getPressedCls();if(!c.getDisabled()){if(d>0){c.pressedTimeout=setTimeout(function(){delete c.pressedTimeout;if(a){a.addCls(b)}},d)}else{a.addCls(b)}}},onRelease:function(a){this.fireAction(\"release\",[this,a],\"doRelease\")},doRelease:function(a,b){if(!a.getDisabled()){if(a.hasOwnProperty(\"pressedTimeout\")){clearTimeout(a.pressedTimeout);delete a.pressedTimeout}else{a.element.removeCls(a.getPressedCls())}}},onTap:function(a){if(this.getDisabled()){return false}this.fireAction(\"tap\",[this,a],\"doTap\")},doTap:function(c,d){var b=c.getHandler(),a=c.getScope()||c;if(!b){return}if(typeof b==\"string\"){b=a[b]}d.preventDefault();b.apply(a,arguments)}},function(){Ext.deprecateClassMethod(this,\"setBadge\",\"setBadgeText\");Ext.deprecateClassMethod(this,\"setIconClass\",\"setIconCls\");this.override({constructor:function(a){if(a){if(a.hasOwnProperty(\"badge\")){Ext.Logger.deprecate(\"'badge' config is deprecated, please use 'badgeText' config instead\",this);a.badgeText=a.badge}}this.callParent([a])}})});Ext.define(\"Ext.util.LineSegment\",{requires:[\"Ext.util.Point\"],constructor:function(b,a){var c=Ext.util.Point;this.point1=c.from(b);this.point2=c.from(a)},intersects:function(l){var o=this.point1,m=this.point2,i=l.point1,f=l.point2,c=o.x,b=m.x,a=i.x,q=f.x,p=o.y,n=m.y,k=i.y,h=f.y,g=(c-b)*(k-h)-(p-n)*(a-q),j,e;if(g==0){return null}j=((a-q)*(c*n-p*b)-(c-b)*(a*h-k*q))/g;e=((k-h)*(c*n-p*b)-(p-n)*(a*h-k*q))/g;if(j<Math.min(c,b)||j>Math.max(c,b)||j<Math.min(a,q)||j>Math.max(a,q)||e<Math.min(p,n)||e>Math.max(p,n)||e<Math.min(k,h)||e>Math.max(k,h)){return null}return new Ext.util.Point(j,e)},toString:function(){return this.point1.toString()+\" \"+this.point2.toString()}});Ext.define(\"Ext.Title\",{extend:\"Ext.Component\",xtype:\"title\",config:{baseCls:\"x-title\",title:\"\"},updateTitle:function(a){this.setHtml(a)}});Ext.define(\"Ext.Spacer\",{extend:\"Ext.Component\",alias:\"widget.spacer\",config:{},constructor:function(a){a=a||{};if(!a.width){a.flex=1}this.callParent([a])}});Ext.define(\"Ext.dataview.IndexBar\",{extend:\"Ext.Component\",alternateClassName:\"Ext.IndexBar\",config:{baseCls:Ext.baseCSSPrefix+\"indexbar\",direction:\"vertical\",letters:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],ui:\"alphabet\",listPrefix:null},itemCls:Ext.baseCSSPrefix+\"\",updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(b+\"-\"+c,b+\"-\"+a)},getElementConfig:function(){return{reference:\"wrapper\",classList:[\"x-centered\",\"x-indexbar-wrapper\"],children:[this.callParent()]}},updateLetters:function(c){this.innerElement.setHtml(\"\");if(c){var b=c.length,a;for(a=0;a<b;a++){this.innerElement.createChild({html:c[a]})}}},updateListPrefix:function(a){if(a&&a.length){this.innerElement.createChild({html:a},0)}},initialize:function(){this.callParent();this.innerElement.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(b,a){b.stopPropagation();this.innerElement.addCls(this.getBaseCls()+\"-pressed\");this.pageBox=this.innerElement.getPageBox();this.onTouchMove(b)},onTouchEnd:function(b,a){this.innerElement.removeCls(this.getBaseCls()+\"-pressed\")},onTouchMove:function(c){var a=Ext.util.Point.fromEvent(c),b,d=this.pageBox;if(!d){d=this.pageBox=this.el.getPageBox()}if(this.getDirection()===\"vertical\"){if(a.y>d.bottom||a.y<d.top){return}b=Ext.Element.fromPoint(d.left+(d.width/2),a.y)}else{if(a.x>d.right||a.x<d.left){return}b=Ext.Element.fromPoint(a.x,d.top+(d.height/2))}if(b){this.fireEvent(\"index\",this,b.dom.innerHTML,b)}},destroy:function(){var c=this,d=Array.prototype.slice.call(c.innerElement.dom.childNodes),b=d.length,a=0;for(;a<b;a++){Ext.removeNode(d[a])}this.callParent()}},function(){Ext.deprecateMethod(this,\"isHorizontal\",null,\"Ext.dataview.IndexBar.isHorizontal() has been removed\");Ext.deprecateMethod(this,\"isVertical\",null,\"Ext.dataview.IndexBar.isVertical() has been removed\");Ext.deprecateMethod(this,\"refresh\",null,\"Ext.dataview.IndexBar.refresh() has been removed\");Ext.deprecateProperty(this,\"alphabet\",null,\"Ext.dataview.IndexBar.alphabet has been removed\");Ext.deprecateProperty(this,\"itemSelector\",null,\"Ext.dataview.IndexBar.itemSelector has been removed\");Ext.deprecateProperty(this,\"store\",null,\"Ext.dataview.IndexBar.store has been removed\")});Ext.define(\"Ext.dataview.ListItemHeader\",{extend:\"Ext.Component\",xtype:\"listitemheader\",config:{baseCls:Ext.baseCSSPrefix+\"list-header\",docked:\"top\"}});Ext.define(\"Ext.util.Geolocation\",{extend:\"Ext.Evented\",alternateClassName:[\"Ext.util.GeoLocation\"],config:{autoUpdate:true,frequency:10000,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:false,timeout:Infinity,maximumAge:0,provider:undefined},updateMaximumAge:function(){if(this.watchOperation){this.updateWatchOperation()}},updateTimeout:function(){if(this.watchOperation){this.updateWatchOperation()}},updateAllowHighAccuracy:function(){if(this.watchOperation){this.updateWatchOperation()}},applyProvider:function(a){if(Ext.feature.has.Geolocation){if(!a){if(navigator&&navigator.geolocation){a=navigator.geolocation}else{if(window.google){a=google.gears.factory.create(\"beta.geolocation\")}}}}else{this.fireEvent(\"locationerror\",this,false,false,true,\"This device does not support Geolocation.\")}return a},updateAutoUpdate:function(a,b){var c=this,f=c.getProvider();if(b&&f){clearInterval(c.watchOperationId);c.watchOperationId=null}if(a){if(!f){c.fireEvent(\"locationerror\",c,false,false,true,null);return}try{c.updateWatchOperation()}catch(d){c.fireEvent(\"locationerror\",c,false,false,true,d.message)}}},updateWatchOperation:function(){var a=this,b=a.getProvider();if(a.watchOperationId){clearInterval(a.watchOperationId)}function c(){b.getCurrentPosition(Ext.bind(a.fireUpdate,a),Ext.bind(a.fireError,a),a.parseOptions())}c();a.watchOperationId=setInterval(c,this.getFrequency())},updateLocation:function(h,a,c){var b=this,g=b.getProvider();var f=function(i,e){if(e){b.fireError(e)}else{b.fireEvent(\"locationerror\",b,false,false,true,i)}if(h){h.call(a||b,null,b)}};if(!g){f(null);return}try{g.getCurrentPosition(function(e){b.fireUpdate(e);if(h){h.call(a||b,b,b)}},function(e){f(null,e)},c||b.parseOptions())}catch(d){f(d.message)}},fireUpdate:function(a){var b=this,c=a.coords;this.position=a;b.setConfig({timestamp:a.timestamp,latitude:c.latitude,longitude:c.longitude,accuracy:c.accuracy,altitude:c.altitude,altitudeAccuracy:c.altitudeAccuracy,heading:c.heading,speed:c.speed});b.fireEvent(\"locationupdate\",b)},fireError:function(a){var b=a.code;this.fireEvent(\"locationerror\",this,b==a.TIMEOUT,b==a.PERMISSION_DENIED,b==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var b=this.getTimeout(),a={maximumAge:this.getMaximumAge(),allowHighAccuracy:this.getAllowHighAccuracy()};if(b!==Infinity){a.timeout=b}return a},destroy:function(){this.setAutoUpdate(false)}});Ext.define(\"Ext.carousel.Indicator\",{extend:\"Ext.Component\",xtype:\"carouselindicator\",alternateClassName:\"Ext.Carousel.Indicator\",config:{baseCls:Ext.baseCSSPrefix+\"carousel-indicator\",direction:\"horizontal\"},initialize:function(){this.callParent();this.indicators=[];this.element.on({tap:\"onTap\",scope:this})},updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(c,a,b);if(a===\"horizontal\"){this.setBottom(0);this.setRight(null)}else{this.setRight(0);this.setBottom(null)}},addIndicator:function(){this.indicators.push(this.element.createChild({tag:\"span\"}))},removeIndicator:function(){var a=this.indicators;if(a.length>0){a.pop().destroy()}},setActiveIndex:function(b){var e=this.indicators,d=this.activeIndex,a=e[d],f=e[b],c=this.getBaseCls();if(a){a.removeCls(c,null,\"active\")}if(f){f.addCls(c,null,\"active\")}this.activeIndex=b;return this},onTap:function(f){var g=f.touch,a=this.element.getPageBox(),d=a.left+(a.width/2),b=a.top+(a.height/2),c=this.getDirection();if((c===\"horizontal\"&&g.pageX>=d)||(c===\"vertical\"&&g.pageY>=b)){this.fireEvent(\"next\",this)}else{this.fireEvent(\"previous\",this)}},destroy:function(){var d=this.indicators,b,c,a;for(b=0,c=d.length;b<c;b++){a=d[b];a.destroy()}d.length=0;this.callParent()}});Ext.define(\"Ext.data.Operation\",{config:{synchronous:true,action:null,filters:null,sorters:null,grouper:null,start:null,limit:null,batch:null,callback:null,scope:null,resultSet:null,records:null,request:null,response:null,withCredentials:null,params:null,url:null,page:null,node:null,model:undefined,addRecords:false},started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(a){this.initConfig(a)},applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}if(!a){Ext.Logger.warn(\"Unless you define your model using metadata, an Operation needs to have a model defined.\")}return a},getRecords:function(){var a=this.getResultSet();return this._records||(a?a.getRecords():[])},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return this.getAction()!=\"read\"},process:function(d,b,c,a){if(b.getSuccess()!==false){this.setResponse(a);this.setResultSet(b);this.setCompleted();this.setSuccessful()}else{return false}return this[\"process\"+Ext.String.capitalize(d)].call(this,b,c,a)},processRead:function(d){var b=d.getRecords(),g=[],f=this.getModel(),e=b.length,c,a;for(c=0;c<e;c++){a=b[c];g.push(new f(a.data,a.id,a.node))}this.setRecords(g);return true},processCreate:function(e){var c=e.getRecords(),b=this.getRecords(),f=c.length,d,a,g;for(d=0;d<f;d++){g=c[d];if(g.clientId===null&&b.length==1&&c.length==1){a=b[d]}else{a=this.findCurrentRecord(g.clientId)}if(a){this.updateRecord(a,g)}else{Ext.Logger.warn(\"Unable to match the record that came back from the server.\")}}return true},processUpdate:function(e){var c=e.getRecords(),b=this.getRecords(),f=c.length,d,a,g;for(d=0;d<f;d++){g=c[d];a=b[d];if(a){this.updateRecord(a,g)}else{Ext.Logger.warn(\"Unable to match the updated record that came back from the server.\")}}return true},processDestroy:function(d){var b=d.getRecords(),e=b.length,c,a,f;for(c=0;c<e;c++){f=b[c];a=this.findCurrentRecord(f.id);if(a){a.setIsErased(true);a.notifyStores(\"afterErase\",a)}else{Ext.Logger.warn(\"Unable to match the destroyed record that came back from the server.\")}}},findCurrentRecord:function(a){var c=this.getRecords(),e=c.length,d,b;for(d=0;d<e;d++){b=c[d];if(b.getId()===a){return b}}},updateRecord:function(b,d){var a=d.data,c=d.id;b.beginEdit();b.set(a);if(c!==null){b.setId(c)}b.endEdit(true);b.commit()}},function(){Ext.deprecateProperty(this,\"group\",\"grouper\")});Ext.define(\"Ext.util.Grouper\",{extend:\"Ext.util.Sorter\",isGrouper:true,config:{groupFn:null,sortProperty:null,sorterFn:function(d,c){var e=this.getSortProperty(),g,b,f,a;g=this.getGroupFn();b=g.call(this,d);f=g.call(this,c);if(e){if(b!==f){return this.defaultSortFn.call(this,d,c)}else{return 0}}return(b>f)?1:((b<f)?-1:0)}},defaultSortFn:function(e,c){var g=this,f=g._transform,b=g._root,d,a,h=g._sortProperty;if(b!==null){e=e[b];c=c[b]}d=e[h];a=c[h];if(f){d=f(d);a=f(a)}return d>a?1:(d<a?-1:0)},updateProperty:function(a){this.setGroupFn(this.standardGroupFn)},standardGroupFn:function(b){var a=this.getRoot(),d=this.getProperty(),c=b;if(a){c=b[a]}return c[d]},getGroupString:function(a){var b=this.getGroupFn().call(this,a);return typeof b!=\"undefined\"?b.toString():\"\"}});Ext.define(\"Ext.data.JsonP\",{alternateClassName:\"Ext.util.JSONP\",singleton:true,statics:{requestCount:0,requests:{}},timeout:30000,disableCaching:true,disableCachingParam:\"_dc\",callbackKey:\"callback\",request:function(m){m=Ext.apply({},m);if(!m.url){Ext.Logger.error(\"A url must be specified for a JSONP request.\")}var i=this,d=Ext.isDefined(m.disableCaching)?m.disableCaching:i.disableCaching,g=m.disableCachingParam||i.disableCachingParam,c=++i.statics().requestCount,k=m.callbackName||\"callback\"+c,h=m.callbackKey||i.callbackKey,l=Ext.isDefined(m.timeout)?m.timeout:i.timeout,e=Ext.apply({},m.params),b=m.url,a=Ext.isSandboxed?Ext.getUniqueGlobalNamespace():\"Ext\",f,j;e[h]=a+\".data.JsonP.\"+k;if(d){e[g]=new Date().getTime()}j=i.createScript(b,e,m);i.statics().requests[c]=f={url:b,params:e,script:j,id:c,scope:m.scope,success:m.success,failure:m.failure,callback:m.callback,callbackKey:h,callbackName:k};if(l>0){f.timeout=setTimeout(Ext.bind(i.handleTimeout,i,[f]),l)}i.setupErrorHandling(f);i[k]=Ext.bind(i.handleResponse,i,[f],true);i.loadScript(f);return f},abort:function(b){var c=this.statics().requests,a;if(b){if(!b.id){b=c[b]}this.abort(b)}else{for(a in c){if(c.hasOwnProperty(a)){this.abort(c[a])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType=\"abort\";this.handleResponse(null,a)},handleError:function(a){a.errorType=\"error\";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType=\"timeout\";this.handleResponse(null,a)},handleResponse:function(a,b){var c=true;if(b.timeout){clearTimeout(b.timeout)}delete this[b.callbackName];delete this.statics()[b.id];this.cleanupErrorHandling(b);Ext.fly(b.script).destroy();if(b.errorType){c=false;Ext.callback(b.failure,b.scope,[b.errorType,b])}else{Ext.callback(b.success,b.scope,[a,b])}Ext.callback(b.callback,b.scope,[c,a,b.errorType,b])},createScript:function(c,d,b){var a=document.createElement(\"script\");a.setAttribute(\"src\",Ext.urlAppend(c,Ext.Object.toQueryString(d)));a.setAttribute(\"async\",true);a.setAttribute(\"type\",\"text/javascript\");return a},loadScript:function(a){Ext.getHead().appendChild(a.script)}});Ext.define(\"Ext.mixin.Sortable\",{extend:\"Ext.mixin.Mixin\",requires:[\"Ext.util.Sorter\"],mixinConfig:{id:\"sortable\"},config:{sorters:null,defaultSortDirection:\"ASC\",sortRoot:null},dirtySortFn:false,sortFn:null,sorted:false,applySorters:function(a,b){if(!b){b=this.createSortersCollection()}b.clear();this.sorted=false;if(a){this.addSorters(a)}return b},createSortersCollection:function(){this._sorters=Ext.create(\"Ext.util.Collection\",function(a){return a.getId()});return this._sorters},addSorter:function(b,a){this.addSorters([b],a)},addSorters:function(c,a){var b=this.getSorters();return this.insertSorters(b?b.length:0,c,a)},insertSorter:function(a,c,b){return this.insertSorters(a,[c],b)},insertSorters:function(e,h,a){if(!Ext.isArray(h)){h=[h]}var f=h.length,j=a||this.getDefaultSortDirection(),c=this.getSortRoot(),k=this.getSorters(),l=[],g,b,m,d;if(!k){k=this.createSortersCollection()}for(b=0;b<f;b++){m=h[b];g={direction:j,root:c};if(typeof m===\"string\"){d=k.get(m);if(!d){g.property=m}else{if(a){d.setDirection(a)}else{d.toggle()}continue}}else{if(Ext.isFunction(m)){g.sorterFn=m}else{if(Ext.isObject(m)){if(!m.isSorter){if(m.fn){m.sorterFn=m.fn;delete m.fn}g=Ext.apply(g,m)}else{l.push(m);if(!m.getRoot()){m.setRoot(c)}continue}}else{Ext.Logger.warn(\"Invalid sorter specified:\",m)}}}m=Ext.create(\"Ext.util.Sorter\",g);l.push(m)}for(b=0,f=l.length;b<f;b++){k.insert(e+b,l[b])}this.dirtySortFn=true;if(k.length){this.sorted=true}return k},removeSorter:function(a){return this.removeSorters([a])},removeSorters:function(d){if(!Ext.isArray(d)){d=[d]}var b=d.length,c=this.getSorters(),a,e;for(a=0;a<b;a++){e=d[a];if(typeof e===\"string\"){c.removeAtKey(e)}else{if(typeof e===\"function\"){c.each(function(f){if(f.getSorterFn()===e){c.remove(f)}})}else{if(e.isSorter){c.remove(e)}}}}if(!c.length){this.sorted=false}},updateSortFn:function(){var a=this.getSorters().items;this.sortFn=function(d,c){var f=a.length,b,e;for(e=0;e<f;e++){b=a[e].sort.call(this,d,c);if(b!==0){break}}return b};this.dirtySortFn=false;return this.sortFn},getSortFn:function(){if(this.dirtySortFn){return this.updateSortFn()}return this.sortFn},sort:function(a){Ext.Array.sort(a,this.getSortFn());return a},findInsertionIndex:function(b,e,g){var h=0,a=b.length-1,d=g||this.getSortFn(),c,f;while(h<=a){c=(h+a)>>1;f=d(e,b[c]);if(f>=0){h=c+1}else{if(f<0){a=c-1}}}return h}});Ext.define(\"Ext.mixin.Filterable\",{extend:\"Ext.mixin.Mixin\",requires:[\"Ext.util.Filter\"],mixinConfig:{id:\"filterable\"},config:{filters:null,filterRoot:null},dirtyFilterFn:false,filterFn:null,filtered:false,applyFilters:function(a,b){if(!b){b=this.createFiltersCollection()}b.clear();this.filtered=false;this.dirtyFilterFn=true;if(a){this.addFilters(a)}return b},createFiltersCollection:function(){this._filters=Ext.create(\"Ext.util.Collection\",function(a){return a.getId()});return this._filters},addFilter:function(a){this.addFilters([a])},addFilters:function(b){var a=this.getFilters();return this.insertFilters(a?a.length:0,b)},insertFilter:function(a,b){return this.insertFilters(a,[b])},insertFilters:function(h,c){if(!Ext.isArray(c)){c=[c]}var j=c.length,a=this.getFilterRoot(),d=this.getFilters(),e=[],f,g,b;if(!d){d=this.createFiltersCollection()}for(g=0;g<j;g++){b=c[g];f={root:a};if(Ext.isFunction(b)){f.filterFn=b}else{if(Ext.isObject(b)){if(!b.isFilter){if(b.fn){b.filterFn=b.fn;delete b.fn}f=Ext.apply(f,b)}else{e.push(b);if(!b.getRoot()){b.setRoot(a)}continue}}else{Ext.Logger.warn(\"Invalid filter specified:\",b)}}b=Ext.create(\"Ext.util.Filter\",f);e.push(b)}for(g=0,j=e.length;g<j;g++){d.insert(h+g,e[g])}this.dirtyFilterFn=true;if(d.length){this.filtered=true}return d},removeFilters:function(e){if(!Ext.isArray(e)){e=[e]}var d=e.length,c=this.getFilters(),a,b;for(a=0;a<d;a++){b=e[a];if(typeof b===\"string\"){c.each(function(f){if(f.getProperty()===b){c.remove(f)}})}else{if(typeof b===\"function\"){c.each(function(f){if(f.getFilterFn()===b){c.remove(f)}})}else{if(b.isFilter){c.remove(b)}else{if(b.property!==undefined&&b.value!==undefined){c.each(function(f){if(f.getProperty()===b.property&&f.getValue()===b.value){c.remove(f)}})}}}}}if(!c.length){this.filtered=false}},updateFilterFn:function(){var a=this.getFilters().items;this.filterFn=function(h){var f=true,g=a.length,b;for(b=0;b<g;b++){var e=a[b],d=e.getFilterFn(),c=e.getScope()||this;f=f&&d.call(c,h)}return f};this.dirtyFilterFn=false;return this.filterFn},filter:function(a){return this.getFilters().length?Ext.Array.filter(a,this.getFilterFn()):a},isFiltered:function(a){return this.getFilters().length?!this.getFilterFn()(a):false},getFilterFn:function(){if(this.dirtyFilterFn){return this.updateFilterFn()}return this.filterFn}});Ext.define(\"Ext.data.SortTypes\",{singleton:true,stripTagsRE:/<\\/?[^>]+>/gi,none:function(a){return a},asText:function(a){return String(a).replace(this.stripTagsRE,\"\")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,\"\")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){a=parseFloat(String(a).replace(/,/g,\"\"));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(/,/g,\"\"),10);return isNaN(a)?0:a}});Ext.define(\"Ext.util.Inflector\",{singleton:true,plurals:[[(/(quiz)$/i),\"$1zes\"],[(/^(ox)$/i),\"$1en\"],[(/([m|l])ouse$/i),\"$1ice\"],[(/(matr|vert|ind)ix|ex$/i),\"$1ices\"],[(/(x|ch|ss|sh)$/i),\"$1es\"],[(/([^aeiouy]|qu)y$/i),\"$1ies\"],[(/(hive)$/i),\"$1s\"],[(/(?:([^f])fe|([lr])f)$/i),\"$1$2ves\"],[(/sis$/i),\"ses\"],[(/([ti])um$/i),\"$1a\"],[(/(buffal|tomat|potat)o$/i),\"$1oes\"],[(/(bu)s$/i),\"$1ses\"],[(/(alias|status|sex)$/i),\"$1es\"],[(/(octop|vir)us$/i),\"$1i\"],[(/(ax|test)is$/i),\"$1es\"],[(/^person$/),\"people\"],[(/^man$/),\"men\"],[(/^(child)$/),\"$1ren\"],[(/s$/i),\"s\"],[(/$/),\"s\"]],singulars:[[(/(quiz)zes$/i),\"$1\"],[(/(matr)ices$/i),\"$1ix\"],[(/(vert|ind)ices$/i),\"$1ex\"],[(/^(ox)en/i),\"$1\"],[(/(alias|status)es$/i),\"$1\"],[(/(octop|vir)i$/i),\"$1us\"],[(/(cris|ax|test)es$/i),\"$1is\"],[(/(shoe)s$/i),\"$1\"],[(/(o)es$/i),\"$1\"],[(/(bus)es$/i),\"$1\"],[(/([m|l])ice$/i),\"$1ouse\"],[(/(x|ch|ss|sh)es$/i),\"$1\"],[(/(m)ovies$/i),\"$1ovie\"],[(/(s)eries$/i),\"$1eries\"],[(/([^aeiouy]|qu)ies$/i),\"$1y\"],[(/([lr])ves$/i),\"$1f\"],[(/(tive)s$/i),\"$1\"],[(/(hive)s$/i),\"$1\"],[(/([^f])ves$/i),\"$1fe\"],[(/(^analy)ses$/i),\"$1sis\"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),\"$1$2sis\"],[(/([ti])a$/i),\"$1um\"],[(/(n)ews$/i),\"$1ews\"],[(/people$/i),\"person\"],[(/s$/i),\"\"]],uncountable:[\"sheep\",\"fish\",\"series\",\"species\",\"money\",\"rice\",\"information\",\"equipment\",\"grass\",\"mud\",\"offspring\",\"deer\",\"means\"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(f){if(this.isTransnumeral(f)){return f}var e=this.plurals,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},singularize:function(f){if(this.isTransnumeral(f)){return f}var e=this.singulars,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(d){var b=parseInt(d,10),c=b%10,a=b%100;if(11<=a&&a<=13){return d+\"th\"}else{switch(c){case 1:return d+\"st\";case 2:return d+\"nd\";case 3:return d+\"rd\";default:return d+\"th\"}}}},function(){var b={alumnus:\"alumni\",cactus:\"cacti\",focus:\"foci\",nucleus:\"nuclei\",radius:\"radii\",stimulus:\"stimuli\",ellipsis:\"ellipses\",paralysis:\"paralyses\",oasis:\"oases\",appendix:\"appendices\",index:\"indexes\",beau:\"beaux\",bureau:\"bureaux\",tableau:\"tableaux\",woman:\"women\",child:\"children\",man:\"men\",corpus:\"corpora\",criterion:\"criteria\",curriculum:\"curricula\",genus:\"genera\",memorandum:\"memoranda\",phenomenon:\"phenomena\",foot:\"feet\",goose:\"geese\",tooth:\"teeth\",antenna:\"antennae\",formula:\"formulae\",nebula:\"nebulae\",vertebra:\"vertebrae\",vita:\"vitae\"},a;for(a in b){this.plural(a,b[a]);this.singular(b[a],a)}});Ext.define(\"Ext.data.Error\",{config:{field:null,message:\"\"},constructor:function(a){this.initConfig(a)}});Ext.define(\"Ext.data.Connection\",{mixins:{observable:\"Ext.mixin.Observable\"},statics:{requestId:0},config:{url:null,async:true,method:null,username:\"\",password:\"\",disableCaching:true,disableCachingParam:\"_dc\",timeout:30000,extraParams:null,defaultHeaders:null,useDefaultHeader:true,defaultPostHeader:\"application/x-www-form-urlencoded; charset=UTF-8\",useDefaultXhrHeader:true,defaultXhrHeader:\"XMLHttpRequest\",autoAbort:false},textAreaRe:/textarea/i,multiPartRe:/multipart\\/form-data/i,lineBreakRe:/\\r\\n/g,constructor:function(a){this.initConfig(a);this.requests={}},request:function(j){j=j||{};var f=this,i=j.scope||window,e=j.username||f.getUsername(),g=j.password||f.getPassword()||\"\",b,c,d,a,h;if(f.fireEvent(\"beforerequest\",f,j)!==false){c=f.setOptions(j,i);if(this.isFormUpload(j)===true){this.upload(j.form,c.url,c.data,j);return null}if(j.autoAbort===true||f.getAutoAbort()){f.abort()}h=this.getXhrInstance();b=j.async!==false?(j.async||f.getAsync()):false;if(e){h.open(c.method,c.url,b,e,g)}else{h.open(c.method,c.url,b)}a=f.setupHeaders(h,j,c.data,c.params);d={id:++this.self.requestId,xhr:h,headers:a,options:j,async:b,timeout:setTimeout(function(){d.timedout=true;f.abort(d)},j.timeout||f.getTimeout())};f.requests[d.id]=d;if(b){h.onreadystatechange=Ext.Function.bind(f.onStateChange,f,[d])}h.send(c.data);if(!b){return this.onComplete(d)}return d}else{Ext.callback(j.callback,j.scope,[j,undefined,undefined]);return null}},upload:function(e,c,i,k){e=Ext.getDom(e);k=k||{};var d=Ext.id(),g=document.createElement(\"iframe\"),j=[],h=\"multipart/form-data\",f={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},b=function(l,m){a=document.createElement(\"input\");Ext.fly(a).set({type:\"hidden\",value:m,name:l});e.appendChild(a);j.push(a)},a;Ext.fly(g).set({id:d,name:d,cls:Ext.baseCSSPrefix+\"hide-display\",src:Ext.SSL_SECURE_URL});document.body.appendChild(g);if(document.frames){document.frames[d].name=d}Ext.fly(e).set({target:d,method:\"POST\",enctype:h,encoding:h,action:c||f.action});if(i){Ext.iterate(Ext.Object.fromQueryString(i),function(l,m){if(Ext.isArray(m)){Ext.each(m,function(n){b(l,n)})}else{b(l,m)}})}Ext.fly(g).on(\"load\",Ext.Function.bind(this.onUploadComplete,this,[g,k]),null,{single:true});e.submit();Ext.fly(e).set(f);Ext.each(j,function(l){Ext.removeNode(l)})},onUploadComplete:function(h,b){var c=this,a={responseText:\"\",responseXML:null},g,f;try{g=h.contentWindow.document||h.contentDocument||window.frames[id].document;if(g){if(g.body){if(this.textAreaRe.test((f=g.body.firstChild||{}).tagName)){a.responseText=f.value}else{a.responseText=g.body.innerHTML}}a.responseXML=g.XMLDocument||g}}catch(d){}c.fireEvent(\"requestcomplete\",c,a,b);Ext.callback(b.success,b.scope,[a,b]);Ext.callback(b.callback,b.scope,[b,true,a]);setTimeout(function(){Ext.removeNode(h)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return(a.isUpload||(this.multiPartRe).test(b.getAttribute(\"enctype\")))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(k,j){var h=this,e=k.params||{},g=h.getExtraParams(),d=k.urlParams,c=k.url||h.getUrl(),i=k.jsonData,b,a,f;if(Ext.isFunction(e)){e=e.call(j,k)}if(Ext.isFunction(c)){c=c.call(j,k)}c=this.setupUrl(k,c);if(!c){Ext.Logger.error(\"No URL specified\")}f=k.rawData||k.xmlData||i||null;if(i&&!Ext.isPrimitive(i)){f=Ext.encode(f)}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}e=e+((g)?((e)?\"&\":\"\")+g:\"\");d=Ext.isObject(d)?Ext.Object.toQueryString(d):d;e=this.setupParams(k,e);b=(k.method||h.getMethod()||((e||f)?\"POST\":\"GET\")).toUpperCase();this.setupMethod(k,b);a=k.disableCaching!==false?(k.disableCaching||h.getDisableCaching()):false;if(b===\"GET\"&&a){c=Ext.urlAppend(c,(k.disableCachingParam||h.getDisableCachingParam())+\"=\"+(new Date().getTime()))}if((b==\"GET\"||f)&&e){c=Ext.urlAppend(c,e);e=null}if(d){c=Ext.urlAppend(c,d)}return{url:c,method:b,data:f||e||null}},setupUrl:function(b,a){var c=this.getForm(b);if(c){a=a||c.action}return a},setupParams:function(a,d){var c=this.getForm(a),b;if(c&&!this.isFormUpload(a)){b=Ext.Element.serializeForm(c);d=d?(d+\"&\"+b):b}return d},setupMethod:function(a,b){if(this.isFormUpload(a)){return\"POST\"}return b},setupHeaders:function(l,m,d,c){var h=this,b=Ext.apply({},m.headers||{},h.getDefaultHeaders()||{}),k=h.getDefaultPostHeader(),i=m.jsonData,a=m.xmlData,j,f;if(!b[\"Content-Type\"]&&(d||c)){if(d){if(m.rawData){k=\"text/plain\"}else{if(a&&Ext.isDefined(a)){k=\"text/xml\"}else{if(i&&Ext.isDefined(i)){k=\"application/json\"}}}}b[\"Content-Type\"]=k}if(((h.getUseDefaultXhrHeader()&&m.useDefaultXhrHeader!==false)||m.useDefaultXhrHeader)&&!b[\"X-Requested-With\"]){b[\"X-Requested-With\"]=h.getDefaultXhrHeader()}try{for(j in b){if(b.hasOwnProperty(j)){f=b[j];l.setRequestHeader(j,f)}}}catch(g){h.fireEvent(\"exception\",j,f)}if(m.withCredentials){l.withCredentials=m.withCredentials}return b},getXhrInstance:(function(){var b=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\")},function(){return new ActiveXObject(\"MSXML2.XMLHTTP\")},function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")}],c=0,a=b.length,f;for(;c<a;++c){try{f=b[c];f();break}catch(d){}}return f})(),isLoading:function(a){if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return !(b===0||b==4)},abort:function(b){var a=this,d=a.requests,c;if(b&&a.isLoading(b)){b.xhr.onreadystatechange=null;b.xhr.abort();a.clearTimeout(b);if(!b.timedout){b.aborted=true}a.onComplete(b);a.cleanup(b)}else{if(!b){for(c in d){if(d.hasOwnProperty(c)){a.abort(d[c])}}}}},abortAll:function(){this.abort()},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(f){var d=this,c=f.options,a,h,b;try{a=d.parseStatus(f.xhr.status,f.xhr);if(f.timedout){a.success=false}}catch(g){a={success:false,isException:false}}h=a.success;if(h){b=d.createResponse(f);d.fireEvent(\"requestcomplete\",d,b,c);Ext.callback(c.success,c.scope,[b,c])}else{if(a.isException||f.aborted||f.timedout){b=d.createException(f)}else{b=d.createResponse(f)}d.fireEvent(\"requestexception\",d,b,c);Ext.callback(c.failure,c.scope,[b,c])}Ext.callback(c.callback,c.scope,[c,h,b]);delete d.requests[f.id];return b},parseStatus:function(a,d){a=a==1223?204:a;var c=(a>=200&&a<300)||a==304||(a==0&&d.responseText.length>0),b=false;if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break}}return{success:c,isException:b}},createResponse:function(c){var g=c.xhr,a={},h,d,i,e,f,b;if(c.timedout||c.aborted){c.success=false;h=[]}else{h=g.getAllResponseHeaders().replace(this.lineBreakRe,\"\\n\").split(\"\\n\")}d=h.length;while(d--){i=h[d];e=i.indexOf(\":\");if(e>=0){f=i.substr(0,e).toLowerCase();if(i.charAt(e+1)==\" \"){++e}a[f]=i.substr(e+1)}}c.xhr=null;delete c.xhr;b={request:c,requestId:c.id,status:g.status,statusText:g.statusText,getResponseHeader:function(j){return a[j.toLowerCase()]},getAllResponseHeaders:function(){return a},responseText:g.responseText,responseXML:g.responseXML};g=null;return b},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?\"transaction aborted\":\"communication failure\",aborted:a.aborted,timedout:a.timedout}}});Ext.define(\"Ext.tab.Tab\",{extend:\"Ext.Button\",xtype:\"tab\",alternateClassName:\"Ext.Tab\",isTab:true,config:{baseCls:Ext.baseCSSPrefix+\"tab\",pressedCls:Ext.baseCSSPrefix+\"tab-pressed\",activeCls:Ext.baseCSSPrefix+\"tab-active\",active:false,title:\"&nbsp;\"},template:[{tag:\"span\",reference:\"badgeElement\",hidden:true},{tag:\"span\",className:Ext.baseCSSPrefix+\"button-icon\",reference:\"iconElement\",style:\"visibility: hidden !important\"},{tag:\"span\",reference:\"textElement\",hidden:true}],updateTitle:function(a){this.setText(a)},hideIconElement:function(){this.iconElement.dom.style.setProperty(\"visibility\",\"hidden\",\"!important\")},showIconElement:function(){this.iconElement.dom.style.setProperty(\"visibility\",\"visible\",\"!important\")},updateActive:function(c,b){var a=this.getActiveCls();if(c&&!b){this.element.addCls(a);this.fireEvent(\"activate\",this)}else{if(b){this.element.removeCls(a);this.fireEvent(\"deactivate\",this)}}}},function(){this.override({activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)}})});Ext.define(\"Ext.device.communicator.Default\",{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(b){var d,c,a,e;if(!b){b={}}else{if(b.callbacks){d=b.callbacks;c=b.scope;delete b.callbacks;delete b.scope;for(a in d){if(d.hasOwnProperty(a)){e=d[a];if(typeof e==\"function\"){b[a]=this.getCallbackId(e,c)}}}}}this.doSend(b)},doSend:function(a){var b=new XMLHttpRequest();b.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a),false);b.send(null)}});Ext.define(\"Ext.device.communicator.Android\",{extend:\"Ext.device.communicator.Default\",doSend:function(a){window.Sencha.action(JSON.stringify(a))}});Ext.define(\"Ext.device.camera.Abstract\",{source:{library:0,camera:1,album:2},destination:{data:0,file:1},encoding:{jpeg:0,jpg:0,png:1},capture:Ext.emptyFn});Ext.define(\"Ext.mixin.Selectable\",{extend:\"Ext.mixin.Mixin\",mixinConfig:{id:\"selectable\",hooks:{updateStore:\"updateStore\"}},config:{disableSelection:null,mode:\"SINGLE\",allowDeselect:false,lastSelected:null,lastFocused:null,deselectOnContainerClick:true},modes:{SINGLE:true,SIMPLE:true,MULTI:true},selectableEventHooks:{addrecords:\"onSelectionStoreAdd\",removerecords:\"onSelectionStoreRemove\",updaterecord:\"onSelectionStoreUpdate\",load:\"refreshSelection\",refresh:\"refreshSelection\"},constructor:function(){this.selected=new Ext.util.MixedCollection();this.callParent(arguments)},applyMode:function(a){a=a?a.toUpperCase():\"SINGLE\";return this.modes[a]?a:\"SINGLE\"},updateStore:function(a,c){var b=this,d=Ext.apply({},b.selectableEventHooks,{scope:b});if(c&&Ext.isObject(c)&&c.isStore){if(c.autoDestroy){c.destroy()}else{c.un(d)}}if(a){a.on(d);b.refreshSelection()}},selectAll:function(a){var e=this,c=e.getStore().getRange(),d=c.length,b=0;for(;b<d;b++){e.select(c[b],true,a)}},deselectAll:function(c){var b=this,a=b.getStore().getRange();b.deselect(a,c);b.selected.clear();b.setLastSelected(null);b.setLastFocused(null)},selectWithEvent:function(a){var c=this,b=c.isSelected(a);switch(c.getMode()){case\"MULTI\":case\"SIMPLE\":if(b){c.deselect(a)}else{c.select(a,true)}break;case\"SINGLE\":if(c.getAllowDeselect()&&b){c.deselect(a)}else{c.select(a,false)}break}},selectRange:function(c,g,h){var f=this,b=f.getStore(),a=[],e,d;if(f.getDisableSelection()){return}if(c>g){e=g;g=c;c=e}for(d=c;d<=g;d++){a.push(b.getAt(d))}this.doMultiSelect(a,h)},select:function(c,e,b){var d=this,a;if(d.getDisableSelection()){return}if(typeof c===\"number\"){c=[d.getStore().getAt(c)]}if(!c){return}if(d.getMode()==\"SINGLE\"&&c){a=c.length?c[0]:c;d.doSingleSelect(a,b)}else{d.doMultiSelect(c,e,b)}},doSingleSelect:function(a,b){var d=this,c=d.selected;if(d.getDisableSelection()){return}if(d.isSelected(a)){return}if(c.getCount()>0){d.deselect(d.getLastSelected(),b)}c.add(a);d.setLastSelected(a);d.onItemSelect(a,b);d.setLastFocused(a);if(!b){d.fireSelectionChange([a])}},doMultiSelect:function(a,j,h){if(a===null||this.getDisableSelection()){return}a=!Ext.isArray(a)?[a]:a;var f=this,b=f.selected,e=a.length,g=false,c=0,d;if(!j&&b.getCount()>0){g=true;f.deselect(f.getSelection(),true)}for(;c<e;c++){d=a[c];if(j&&f.isSelected(d)){continue}g=true;f.setLastSelected(d);b.add(d);if(!h){f.setLastFocused(d)}f.onItemSelect(d,h)}if(g&&!h){this.fireSelectionChange(a)}},deselect:function(a,j){var f=this;if(f.getDisableSelection()){return}a=Ext.isArray(a)?a:[a];var b=f.selected,g=false,c=0,h=f.getStore(),e=a.length,d;for(;c<e;c++){d=a[c];if(typeof d===\"number\"){d=h.getAt(d)}if(b.remove(d)){if(f.getLastSelected()==d){f.setLastSelected(b.last())}g=true}if(d){f.onItemDeselect(d,j)}}if(g&&!j){f.fireSelectionChange(a)}},updateLastFocused:function(b,a){this.onLastFocusChanged(a,b)},fireSelectionChange:function(a){var b=this;b.fireAction(\"beforeselectionchange\",[b],function(){b.fireAction(\"selectionchange\",[b,a],\"getSelection\")})},getSelection:function(){return this.selected.getRange()},isSelected:function(a){a=Ext.isNumber(a)?this.getStore().getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var b=this,a=b.getSelection();b.deselectAll(true);if(a.length){b.select(a,false,true)}},onSelectionStoreRemove:function(c,b){var g=this,e=g.selected,f=b.length,a,d;if(g.getDisableSelection()){return}for(d=0;d<f;d++){a=b[d];if(e.remove(a)){if(g.getLastSelected()==a){g.setLastSelected(null)}if(g.getLastFocused()==a){g.setLastFocused(null)}g.fireSelectionChange([a])}}},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){this.override({constructor:function(b){if(b&&b.hasOwnProperty(\"locked\")){var a=b.locked;b.disableSelection=a;delete b.locked}this.callParent([b])}});Ext.deprecateClassMethod(this,{isLocked:\"getDisableSelection\",getSelectionMode:\"getMode\",doDeselect:\"deselect\",doSelect:\"select\",bind:\"setStore\",clearSelections:\"deselectAll\",getCount:\"getSelectionCount\"})});Ext.define(\"Ext.dataview.element.Container\",{extend:\"Ext.Component\",doInitialize:function(){this.element.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> div\",scope:this})},initialize:function(){this.callParent();this.doInitialize()},updateBaseCls:function(a,b){var c=this;c.callParent([a+\"-container\",b])},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,Ext.get(c),a,d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,Ext.get(c),a,d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtouchmove\",b,Ext.get(c),a,d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtap\",b,Ext.get(c),a,d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtaphold\",b,Ext.get(c),a,d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemdoubletap\",b,Ext.get(c),a,d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemsingletap\",b,Ext.get(c),a,d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemswipe\",b,Ext.get(c),a,d)},updateListItem:function(b,d){var c=this,a=c.dataview,e=a.prepareData(b.getData(true),a.getStore().indexOf(b),b);d.innerHTML=c.dataview.getItemTpl().apply(e)},addListItem:function(e,c){var h=this,d=h.dataview,a=d.prepareData(c.getData(true),d.getStore().indexOf(c),c),b=h.element,i=b.dom.childNodes,g=i.length,f;f=Ext.Element.create(this.getItemElementConfig(e,a));if(!g||e==g){f.appendTo(b)}else{f.insertBefore(i[e])}},getItemElementConfig:function(c,e){var b=this.dataview,d=b.getItemCls(),a=b.getBaseCls()+\"-item\";if(d){a+=\" \"+d}return{cls:a,html:b.getItemTpl().apply(e)}},doRemoveItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).removeCls(a)}},doAddItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).addCls(a)}},moveItemsToCache:function(f,e){var d=this,a=d.getViewItems(),b=e-f,c;for(;b>=0;b--){c=a[f+b];c.parentNode.removeChild(c)}if(d.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(d){var g=this,b=g.dataview,c=b.getStore(),f=d.length,e,a;if(f){b.hideEmptyText()}for(e=0;e<f;e++){d[e]._tmpIndex=c.indexOf(d[e])}Ext.Array.sort(d,function(i,h){return i._tmpIndex>h._tmpIndex?1:-1});for(e=0;e<f;e++){a=d[e];g.addListItem(a._tmpIndex,a);delete a._tmpIndex}},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},destroy:function(){var c=this.getViewItems(),b=c.length,a=0;for(;a<b;a++){Ext.removeNode(c[a])}this.callParent()}});Ext.define(\"Ext.Decorator\",{extend:\"Ext.Component\",isDecorator:true,config:{component:{}},statics:{generateProxySetter:function(a){return function(c){var b=this.getComponent();b[a].call(b,c);return this}},generateProxyGetter:function(a){return function(){var b=this.getComponent();return b[a].call(b)}}},onClassExtended:function(c,e){if(!e.hasOwnProperty(\"proxyConfig\")){return}var f=Ext.Class,i=e.proxyConfig,d=e.config;e.config=(d)?Ext.applyIf(d,i):i;var b,h,g,a;for(b in i){if(i.hasOwnProperty(b)){h=f.getConfigNameMap(b);g=h.set;a=h.get;e[g]=this.generateProxySetter(g);e[a]=this.generateProxyGetter(a)}}},applyComponent:function(a){return Ext.factory(a,Ext.Component)},updateComponent:function(a,b){if(b){if(this.isRendered()&&b.setRendered(false)){b.fireAction(\"renderedchange\",[this,b,false],\"doUnsetComponent\",this,{args:[b]})}else{this.doUnsetComponent(b)}}if(a){if(this.isRendered()&&a.setRendered(true)){a.fireAction(\"renderedchange\",[this,a,true],\"doSetComponent\",this,{args:[a]})}else{this.doSetComponent(a)}}},doUnsetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.removeChild(a.renderElement.dom)}},doSetComponent:function(a){if(a.renderElement.dom){this.innerElement.dom.appendChild(a.renderElement.dom)}},setRendered:function(b){var a;if(this.callParent(arguments)){a=this.getComponent();if(a){a.setRendered(b)}return true}return false},setDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)},destroy:function(){Ext.destroy(this.getComponent());this.callParent()}});Ext.define(\"Ext.field.Input\",{extend:\"Ext.Component\",xtype:\"input\",tag:\"input\",cachedConfig:{cls:Ext.baseCSSPrefix+\"form-field\",focusCls:Ext.baseCSSPrefix+\"field-focus\",maskCls:Ext.baseCSSPrefix+\"field-mask\",useMask:\"auto\",type:\"text\",checked:false},config:{baseCls:Ext.baseCSSPrefix+\"field-input\",name:null,value:null,isFocused:false,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,startValue:false},getTemplate:function(){var a=[{reference:\"input\",tag:this.tag},{reference:\"clearIcon\",cls:\"x-clear-icon\"}];a.push({reference:\"mask\",classList:[this.config.maskCls]});return a},initElement:function(){var a=this;a.callParent();a.input.on({scope:a,keyup:\"onKeyUp\",focus:\"onFocus\",blur:\"onBlur\",paste:\"onPaste\"});a.mask.on({tap:\"onMaskTap\",scope:a});if(a.clearIcon){a.clearIcon.on({tap:\"onClearIconTap\",scope:a})}},applyUseMask:function(a){if(a===\"auto\"){a=Ext.os.is.iOS&&Ext.os.version.lt(\"5\")}return Boolean(a)},updateUseMask:function(a){this.mask[a?\"show\":\"hide\"]()},updateFieldAttribute:function(b,c){var a=this.input;if(c){a.dom.setAttribute(b,c)}else{a.dom.removeAttribute(b)}},updateCls:function(b,a){this.input.addCls(Ext.baseCSSPrefix+\"input-el\");this.input.replaceCls(a,b)},updateType:function(a,c){var b=Ext.baseCSSPrefix+\"input-\";this.input.replaceCls(b+c,b+a);this.updateFieldAttribute(\"type\",a)},updateName:function(a){this.updateFieldAttribute(\"name\",a)},getValue:function(){var a=this.input;if(a){this._value=a.dom.value}return this._value},applyValue:function(a){return(Ext.isEmpty(a))?\"\":a},updateValue:function(b){var a=this.input;if(a){a.dom.value=b}},setValue:function(b){var a=this._value;this.updateValue(this.applyValue(b));b=this.getValue();if(String(b)!=String(a)&&this.initialized){this.onChange(this,b,a)}return this},applyTabIndex:function(a){if(a!==null&&typeof a!=\"number\"){throw new Error(\"Ext.field.Field: [applyTabIndex] trying to pass a value which is not a number\")}return a},updateTabIndex:function(a){this.updateFieldAttribute(\"tabIndex\",a)},testAutoFn:function(a){return[true,\"on\"].indexOf(a)!==-1},applyMaxLength:function(a){if(a!==null&&typeof a!=\"number\"){throw new Error(\"Ext.field.Text: [applyMaxLength] trying to pass a value which is not a number\")}return a},updateMaxLength:function(a){this.updateFieldAttribute(\"maxlength\",a)},updatePlaceHolder:function(a){this.updateFieldAttribute(\"placeholder\",a)},applyAutoComplete:function(a){return this.testAutoFn(a)},updateAutoComplete:function(a){var b=a?\"on\":\"off\";this.updateFieldAttribute(\"autocomplete\",b)},applyAutoCapitalize:function(a){return this.testAutoFn(a)},updateAutoCapitalize:function(b){var a=b?\"on\":\"off\";this.updateFieldAttribute(\"autocapitalize\",a)},applyAutoCorrect:function(a){return this.testAutoFn(a)},updateAutoCorrect:function(a){var b=a?\"on\":\"off\";this.updateFieldAttribute(\"autocorrect\",b)},updateMinValue:function(a){this.updateFieldAttribute(\"min\",a)},updateMaxValue:function(a){this.updateFieldAttribute(\"max\",a)},updateStepValue:function(a){this.updateFieldAttribute(\"step\",a)},checkedRe:/^(true|1|on)/i,getChecked:function(){var a=this.input,b;if(a){b=a.dom.checked;this._checked=b}return b},applyChecked:function(a){return !!this.checkedRe.test(String(a))},setChecked:function(a){this.updateChecked(this.applyChecked(a));this._checked=a},updateChecked:function(a){this.input.dom.checked=a},updateReadOnly:function(a){this.updateFieldAttribute(\"readonly\",a)},applyMaxRows:function(a){if(a!==null&&typeof a!==\"number\"){throw new Error(\"Ext.field.Input: [applyMaxRows] trying to pass a value which is not a number\")}return a},updateMaxRows:function(a){this.updateFieldAttribute(\"rows\",a)},doSetDisabled:function(a){this.callParent(arguments);this.input.dom.disabled=a;if(!a){this.blur()}},isDirty:function(){if(this.getDisabled()){return false}return String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onMaskTap:function(a){this.fireAction(\"masktap\",[this,a],\"doMaskTap\")},doMaskTap:function(a,b){if(a.getDisabled()){return false}a.maskCorrectionTimer=Ext.defer(a.showMask,1000,a);a.hideMask()},showMask:function(a){if(this.mask){this.mask.setStyle(\"display\",\"block\")}},hideMask:function(a){if(this.mask){this.mask.setStyle(\"display\",\"none\")}},focus:function(){var b=this,a=b.input;if(a&&a.dom.focus){a.dom.focus()}return b},blur:function(){var b=this,a=this.input;if(a&&a.dom.blur){a.dom.blur()}return b},select:function(){var b=this,a=b.input;if(a&&a.dom.setSelectionRange){a.dom.setSelectionRange(0,9999)}return b},onFocus:function(a){this.fireAction(\"focus\",[a],\"doFocus\")},doFocus:function(b){var a=this;if(a.mask){if(a.maskCorrectionTimer){clearTimeout(a.maskCorrectionTimer)}a.hideMask()}if(!a.getIsFocused()){a.setIsFocused(true);a.setStartValue(a.getValue())}},onBlur:function(a){this.fireAction(\"blur\",[a],\"doBlur\")},doBlur:function(d){var b=this,c=b.getValue(),a=b.getStartValue();b.setIsFocused(false);if(String(c)!=String(a)){b.onChange(b,c,a)}b.showMask()},onClearIconTap:function(a){this.fireEvent(\"clearicontap\",this,a);if(Ext.os.is.Android){this.focus()}},onClick:function(a){this.fireEvent(\"click\",a)},onChange:function(b,c,a){this.fireEvent(\"change\",b,c,a)},onKeyUp:function(a){this.fireEvent(\"keyup\",a)},onPaste:function(a){this.fireEvent(\"paste\",a)},onMouseDown:function(a){this.fireEvent(\"mousedown\",a)}});Ext.define(\"Ext.data.Request\",{config:{action:null,params:null,method:\"GET\",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,jsonP:null,jsonData:null,xmlData:null,withCredentials:null,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null},constructor:function(a){this.initConfig(a)}});Ext.define(\"Ext.util.HashMap\",{mixins:{observable:\"Ext.mixin.Observable\"},constructor:function(a){this.callParent();this.mixins.observable.constructor.call(this);this.clear(true)},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,d){var b=this,c;if(b.containsKey(a)){throw new Error(\"This key already exists in the HashMap\")}c=this.getData(a,d);a=c[0];d=c[1];b.map[a]=d;++b.length;b.fireEvent(\"add\",b,a,d);return d},replace:function(b,d){var c=this,e=c.map,a;if(!c.containsKey(b)){c.add(b,d)}a=e[b];e[b]=d;c.fireEvent(\"replace\",c,b,d,a);return d},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeByKey(a)}return false},removeByKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.fireEvent(\"remove\",b,a,c);return true}return false},get:function(a){return this.map[a]},clear:function(a){var b=this;b.map={};b.length=0;if(a!==true){b.fireEvent(\"clear\",b)}return b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(d){var a=[],b,c=this.map;for(b in c){if(c.hasOwnProperty(b)){a.push(d?b:c[b])}}return a},each:function(d,c){var a=Ext.apply({},this.map),b,e=this.length;c=c||this;for(b in a){if(a.hasOwnProperty(b)){if(d.call(c,b,a[b],e)===false){break}}}return this},clone:function(){var c=new Ext.util.HashMap(),b=this.map,a;c.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){c.add(a,b[a])}}c.resumeEvents();return c},findKey:function(b){var a,c=this.map;for(a in c){if(c.hasOwnProperty(a)&&c[a]===b){return a}}return undefined}});Ext.define(\"Ext.dataview.component.DataItem\",{extend:\"Ext.Container\",xtype:\"dataitem\",config:{baseCls:Ext.baseCSSPrefix+\"data-item\",defaultType:\"component\",record:null,itemCls:null,dataMap:{},items:[{xtype:\"component\"}]},updateBaseCls:function(a,b){var c=this;c.callParent(arguments)},updateItemCls:function(b,a){if(a){this.removeCls(a)}if(b){this.addCls(b)}},updateRecord:function(d){if(!d){return}this._record=d;var h=this,c=h.config.dataview,b=c.prepareData(d.getData(true),c.getStore().indexOf(d),d),e=h.getItems(),k=e.first(),i=h.getDataMap(),f,j,g,a;if(!k){return}for(f in i){g=i[f];j=h[f]();if(j){for(a in g){if(j[a]){j[a](b[g[a]])}}}}h.fireEvent(\"updatedata\",h,b);k.updateData(b)}});Ext.define(\"Ext.slider.Thumb\",{extend:\"Ext.Component\",xtype:\"thumb\",config:{baseCls:Ext.baseCSSPrefix+\"thumb\",draggable:{direction:\"horizontal\"}},elementWidth:0,initialize:function(){this.callParent();this.getDraggable().onBefore({dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this});this.on(\"painted\",\"onPainted\")},onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onPainted:function(){this.elementWidth=this.element.dom.offsetWidth},getElementWidth:function(){return this.elementWidth}});Ext.define(\"Ext.data.Batch\",{mixins:{observable:\"Ext.mixin.Observable\"},config:{autoStart:false,pauseOnException:true,proxy:null},current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.initConfig(a);b.operations=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a)},start:function(){this.hasException=false;this.isRunning=true;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=false},runOperation:function(d){var e=this,c=e.operations,b=c[d],a;if(b===undefined){e.isRunning=false;e.isComplete=true;e.fireEvent(\"complete\",e,c[c.length-1])}else{e.current=d;a=function(f){var g=f.hasException();if(g){e.hasException=true;e.fireEvent(\"exception\",e,f)}else{e.fireEvent(\"operationcomplete\",e,f)}if(g&&e.getPauseOnException()){e.pause()}else{f.setCompleted();e.runNextOperation()}};b.setStarted();e.getProxy()[b.getAction()](b,a,e)}}});Ext.define(\"Ext.data.writer.Writer\",{alias:\"writer.base\",alternateClassName:[\"Ext.data.DataWriter\",\"Ext.data.Writer\"],config:{writeAllFields:true,nameProperty:\"name\"},constructor:function(a){this.initConfig(a)},write:function(e){var c=e.getOperation(),b=c.getRecords()||[],a=b.length,d=0,f=[];for(;d<a;d++){f.push(this.getRecordData(b[d]))}return this.writeRecords(e,f)},writeDate:function(c,b){var a=c.dateFormat||\"timestamp\";switch(a){case\"timestamp\":return b.getTime()/1000;case\"time\":return b.getTime();default:return Ext.Date.format(b,a)}},getRecordData:function(e){var j=e.phantom===true,b=this.getWriteAllFields()||j,c=this.getNameProperty(),f=e.getFields(),d={},h,a,g,k,i;if(b){f.each(function(l){if(l.getPersist()){a=l.config[c]||l.getName();i=e.get(l.getName());if(l.getType().type==\"date\"){i=this.writeDate(l,i)}d[a]=i}},this)}else{h=e.getChanges();for(k in h){if(h.hasOwnProperty(k)){g=f.get(k);if(g.getPersist()){a=g.config[c]||g.getName();i=h[k];if(g.getType().type==\"date\"){i=this.writeDate(g,i)}d[a]=i}}}if(!j){d[e.getIdProperty()]=e.getId()}}return d},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Writer prototype. Please put it inside the config object.\")}}g.config=d}});Ext.define(\"Ext.data.ResultSet\",{config:{loaded:true,count:null,total:null,success:false,records:null,message:null},constructor:function(a){this.initConfig(a)},applyCount:function(a){if(!a&&a!==0){return this.getRecords().length}return a},updateRecords:function(a){this.setCount(a.length)}});Ext.define(\"B2B.view._SplashBeerSearch\",{extend:\"Ext.Img\",id:\"_splashbeersearch\",xtype:\"_splashbeersearch\",config:{}});Ext.define(\"Ext.data.identifier.Uuid\",{extend:\"Ext.data.identifier.Simple\",alias:\"data.identifier.uuid\",isUnique:true,config:{id:undefined,salt:null,timestamp:null,version:4},applyId:function(a){if(a===undefined){return Ext.data.identifier.Uuid.Global}return a},constructor:function(){var a=this;a.callParent(arguments);a.parts=[];a.init()},reconfigure:function(a){this.setConfig(a);this.init()},generate:function(){var c=this,e=c.parts,a=c.getVersion(),b=c.getSalt(),d=c.getTimestamp();e[0]=c.toHex(d.lo,8);e[1]=c.toHex(d.hi&65535,4);e[2]=c.toHex(((d.hi>>>16)&4095)|(a<<12),4);e[3]=c.toHex(128|((c.clockSeq>>>8)&63),2)+c.toHex(c.clockSeq&255,2);e[4]=c.toHex(b.hi,4)+c.toHex(b.lo,8);if(a==4){c.init()}else{++d.lo;if(d.lo>=c.twoPow32){d.lo=0;++d.hi}}return e.join(\"-\").toLowerCase()},init:function(){var b=this,a=b.getSalt(),c=b.getTimestamp();if(b.getVersion()==4){b.clockSeq=b.rand(0,b.twoPow14-1);if(!a){a={};b.setSalt(a)}if(!c){c={};b.setTimestamp(c)}a.lo=b.rand(0,b.twoPow32-1);a.hi=b.rand(0,b.twoPow16-1);c.lo=b.rand(0,b.twoPow32-1);c.hi=b.rand(0,b.twoPow28-1)}else{b.setSalt(b.split(b.getSalt()));b.setTimestamp(b.split(b.getTimestamp()));b.getSalt().hi|=256}},twoPow14:Math.pow(2,14),twoPow16:Math.pow(2,16),twoPow28:Math.pow(2,28),twoPow32:Math.pow(2,32),toHex:function(c,b){var a=c.toString(16);if(a.length>b){a=a.substring(a.length-b)}else{if(a.length<b){a=Ext.String.leftPad(a,b,\"0\")}}return a},rand:function(c,b){var a=Math.random()*(b-c+1);return Math.floor(a)+c},split:function(b){if(typeof(b)==\"number\"){var a=Math.floor(b/this.twoPow32);return{lo:Math.floor(b-a*this.twoPow32),hi:a}}return b}},function(){this.Global=new this({id:\"uuid\"})});Ext.define(\"Ext.Panel\",{extend:\"Ext.Container\",requires:[\"Ext.util.LineSegment\"],alternateClassName:\"Ext.lib.Panel\",xtype:\"panel\",isPanel:true,config:{baseCls:Ext.baseCSSPrefix+\"panel\",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){var a=this.callParent();a.children.push({reference:\"tipElement\",className:\"x-anchor\",hidden:true});return a},applyBodyPadding:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyPadding:function(a){this.element.setStyle(\"padding\",a)},applyBodyMargin:function(a){if(a===true){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyMargin:function(a){this.element.setStyle(\"margin\",a)},applyBodyBorder:function(a){if(a===true){a=1}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},updateBodyBorder:function(a){this.element.setStyle(\"border-width\",a)},alignTo:function(m){var w=this.tipElement;w.hide();if(this.currentTipPosition){w.removeCls(\"x-anchor-\"+this.currentTipPosition)}this.callParent(arguments);var f=Ext.util.LineSegment,d=m.isComponent?m.renderElement:m,a=this.renderElement,n=d.getPageBox(),k=a.getPageBox(),b=k.left,t=k.top,C=k.right,h=k.bottom,j=b+(k.width/2),i=t+(k.height/2),o={x:b,y:t},l={x:C,y:t},B={x:b,y:h},D={x:C,y:h},y={x:j,y:i},s=n.left+(n.width/2),q=n.top+(n.height/2),v={x:s,y:q},c=new f(y,v),g=0,A=0,e,z,r,p,x,u;w.setVisibility(false);w.show();e=w.getSize();z=e.width;r=e.height;if(c.intersects(new f(o,l))){x=Math.min(Math.max(s,b),C-(z/2));u=t;A=r+10;p=\"top\"}else{if(c.intersects(new f(o,B))){x=b;u=Math.min(Math.max(q+(z/2),t),h);g=r+10;p=\"left\"}else{if(c.intersects(new f(B,D))){x=Math.min(Math.max(s,b),C-(z/2));u=h;A=-r-10;p=\"bottom\"}else{if(c.intersects(new f(l,D))){x=C;u=Math.min(Math.max(q-(z/2),t),h);g=-r-10;p=\"right\"}}}}if(x||u){this.currentTipPosition=p;w.addCls(\"x-anchor-\"+p);w.setLeft(x-b);w.setTop(u-t);w.setVisibility(true);this.setLeft(this.getLeft()+g);this.setTop(this.getTop()+A)}}});Ext.define(\"B2B.view.Feedback_Container\",{extend:\"Ext.Panel\",xtype:\"feedbackcontainerpanel\",id:\"feedbackcontainerpanel\",config:{title:i18n.app.FORM_FEEDBACK},initialize:function(){this.callParent(arguments);if(this.target){var b=Ext.getStore(\"Feedback_Ajax\");b.getProxy().setExtraParam(target,this.target);var d={xtype:\"feedbacklistcomponent\",store:b,draggable:false,height:100};var c={xtype:\"feedbackform\"};this.add([d,c])}else{var a=[\"<div>\"+i18n.app.TEXT_NOFEEDBACKFOUND+\"</div>\"].join(\"\");this.add([a])}}});Ext.define(\"B2B.view.Friend_List_Container\",{extend:\"Ext.Panel\",xtype:\"friendlistcontainerpanel\",id:\"friendlistcontainerpanel\",config:{title:i18n.app.LABEL_FRIENDS,iconCls:\"user_list\",layout:{type:\"fit\"}},initialize:function(){var c=this;this.callParent(arguments);var d={xtype:\"container\",cls:\"header_img\",height:50,width:\"100%\",docked:\"top\",html:'<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'};var b={xtype:\"friendsearch\"};var a={xtype:\"friendlistcomponent\",store:Ext.getStore(\"Friends_Local\"),ui:\"round\",};this.add([d,b,a])},});Ext.define(\"B2B.view.Notification_Container\",{extend:\"Ext.Panel\",xtype:\"notificationlistcontainerpanel\",config:{title:i18n.app.LABEL_FRIENDS,iconCls:\"user_list\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var d={xtype:\"button\",text:i18n.app.BTN_MARKALLREAD,ui:\"action\",id:\"mark_notification_allread_btn\",handler:this.onMarkNotificationAllReadButtonTap,scope:this};var c={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_notification_btn\",handler:this.onBackNotificationButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",title:i18n.app.PANEL_NOTIFICATION,docked:\"top\",items:[c,{xtype:\"spacer\"},d]};var b={xtype:\"notificationlistcomponent\",store:Ext.getStore(\"Notifications_Local\"),};this.add([a,b])},onMarkNotificationAllReadButtonTap:function(){this.fireEvent(\"notificationReadAllCommand\",this)},onBackNotificationButtonTap:function(){this.fireEvent(\"notificationBackCommand\",this)}});Ext.define(\"B2B.view.Badge_List_Container\",{extend:\"Ext.Panel\",xtype:\"badgelistcontainerpanel\",id:\"badgelistcontainerpanel\",config:{title:i18n.app.LABEL_BADGES,iconCls:\"badge_list\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_about_btn\",handler:this.onBackButtonTap,scope:this},c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.LABEL_BADGES,id:\"BadgesContainerTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"}]},a={xtype:\"badgelistcomponent\",store:Ext.getStore(\"Badges_Ajax\"),ui:\"round\"};this.add([c,a])},onBackButtonTap:function(){this.fireEvent(\"backToProfileCommand\",this)}});Ext.define(\"Ext.Toolbar\",{extend:\"Ext.Container\",xtype:\"toolbar\",requires:[\"Ext.Button\",\"Ext.Title\",\"Ext.Spacer\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\",align:\"center\"}},constructor:function(a){a=a||{};if(a.docked==\"left\"||a.docked==\"right\"){a.layout={type:\"vbox\",align:\"stretch\"}}this.callParent([a])},applyTitle:function(a){if(typeof a==\"string\"){a={title:a,centered:true}}return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(b,a){if(b){this.add(b);this.getLayout().setItemFlex(b,1)}if(a){a.destroy()}},showTitle:function(){var a=this.getTitle();if(a){a.show()}},hideTitle:function(){var a=this.getTitle();if(a){a.hide()}}},function(){Ext.deprecateProperty(this,\"titleCls\",null,\"Ext.Toolbar.titleCls has been removed. Use #cls config of title instead.\")});Ext.define(\"Ext.TitleBar\",{extend:\"Ext.Container\",xtype:\"titlebar\",requires:[\"Ext.Button\",\"Ext.Title\",\"Ext.Spacer\",\"Ext.util.SizeMonitor\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",cls:Ext.baseCSSPrefix+\"navigation-bar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\"},items:[]},maxButtonWidth:\"40%\",constructor:function(){this.refreshTitlePosition=Ext.Function.createThrottled(this.refreshTitlePosition,50,this);this.callParent(arguments)},beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){delete this.applyItems;this.add(this.initialItems);delete this.initialItems;this.on({painted:\"refreshTitlePosition\",single:true})},applyInitialItems:function(a){var b=this,c=b.getDefaults()||{};b.initialItems=a;b.leftBox=b.add({xtype:\"container\",style:\"position: relative\",layout:{type:\"hbox\",align:\"center\"},listeners:{resize:\"refreshTitlePosition\",scope:b}});b.spacer=b.add({xtype:\"component\",style:\"position: relative\",flex:1,listeners:{resize:\"refreshTitlePosition\",scope:b}});b.rightBox=b.add({xtype:\"container\",style:\"position: relative\",layout:{type:\"hbox\",align:\"center\"},listeners:{resize:\"refreshTitlePosition\",scope:b}});b.titleComponent=b.add({xtype:\"title\",hidden:c.hidden,centered:true});b.doAdd=b.doBoxAdd;b.remove=b.doBoxRemove;b.doInsert=b.doBoxInsert},doBoxAdd:function(a){if(a.config.align==\"right\"){this.rightBox.add(a)}else{this.leftBox.add(a)}},doBoxRemove:function(a){if(a.config.align==\"right\"){this.rightBox.remove(a)}else{this.leftBox.remove(a)}},doBoxInsert:function(a,b){if(b.config.align==\"right\"){this.rightBox.add(b)}else{this.leftBox.add(b)}},getMaxButtonWidth:function(){var a=this.maxButtonWidth;if(Ext.isString(this.maxButtonWidth)){a=parseInt(a.replace(\"%\",\"\"),10);a=Math.round((this.element.getWidth()/100)*a)}return a},refreshTitlePosition:function(){var f=this.titleComponent.renderElement;f.setWidth(null);f.setLeft(null);var a=this.leftBox,c=a.down(\"button\"),h,m;if(c){if(c.getWidth()==null){c.renderElement.setWidth(\"auto\")}h=a.renderElement.getWidth();m=this.getMaxButtonWidth();if(h>m){c.renderElement.setWidth(m)}}var j=this.spacer.renderElement.getPageBox(),k=f.getPageBox(),g=k.width-j.width,d=k.left,i=k.right,b,l,e;if(g>0){f.setWidth(j.width);b=g/2;d+=b;i-=b}l=j.left-d;e=i-j.right;if(l>0){f.setLeft(l)}else{if(e>0){f.setLeft(-e)}}f.repaint()},updateTitle:function(a){this.titleComponent.setTitle(a);if(this.isPainted()){this.refreshTitlePosition()}}});Ext.define(\"B2B.view.Activity\",{extend:\"Ext.Panel\",requires:[\"Ext.TitleBar\",],xtype:\"activity\",config:{title:i18n.app.PANEL_ACTIVITY,iconCls:\"maps\",styleHtmlContent:true,layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var e={xtype:\"container\",cls:\"header_img\",height:50,width:\"100%\",docked:\"top\",html:'<img src=\"'+HH.default_user64+'\" width=\"100%\" height=\"50px\" >'},b={xtype:\"activitylist\",store:Ext.getStore(\"Activities_Local\"),},d={xtype:\"activityusercomponent\",store:Ext.getStore(\"Activities_User_Ajax\"),draggable:false,height:100},c={xtype:\"panel\",id:\"lastdrink\",draggable:false,height:70,docked:\"top\",html:'<div class=\"loading_div\"></div>'},a={xtype:\"panel\",layout:{type:\"vbox\",align:\"stretch\"},defaults:{flex:1},items:[e,c,b]};this.add([e,c,b])}});Ext.define(\"Ext.SegmentedButton\",{extend:\"Ext.Container\",xtype:\"segmentedbutton\",requires:[\"Ext.Button\"],config:{baseCls:Ext.baseCSSPrefix+\"segmentedbutton\",pressedCls:Ext.baseCSSPrefix+\"button-pressed\",allowMultiple:false,allowDepress:null,pressedButtons:[],layout:{type:\"hbox\",align:\"stretch\"},defaultType:\"button\"},initialize:function(){var a=this;a.callParent();a.on({delegate:\"> button\",scope:a,tap:\"onButtonRelease\"});a.onAfter({delegate:\"> button\",scope:a,hiddenchange:\"onButtonHiddenChange\"})},updateAllowMultiple:function(){if(!this.initialized&&!this.getInitialConfig().hasOwnProperty(\"allowDepress\")){this.setAllowDepress(true)}},applyItems:function(){var e=this,f=[],d,b,c,a;e.callParent(arguments);a=this.getItems();d=a.length;for(b=0;b<d;b++){c=a.items[b];if(c.getInitialConfig(\"pressed\")){f.push(a.items[b])}}e.updateFirstAndLastCls(a);e.setPressedButtons(f)},onButtonRelease:function(a){var d=this,e=d.getPressedButtons()||[],c=[],b;if(!d.getDisabled()&&!a.getDisabled()){if(d.getAllowMultiple()){c=e.concat(c)}b=(c.indexOf(a)!==-1)||(e.indexOf(a)!==-1);if(b&&d.getAllowDepress()){Ext.Array.remove(c,a)}else{if(!b||!d.getAllowDepress()){c.push(a)}}d.setPressedButtons(c);Ext.defer(function(){d.fireEvent(\"toggle\",d,a,d.isPressed(a))},50)}},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},updateFirstAndLastCls:function(a){var d=a.length,e=Ext.baseCSSPrefix,c,b;for(b=0;b<d;b++){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"first\");break}}for(b=d-1;b>=0;b--){c=a.items[b];if(!c.isHidden()){c.addCls(e+\"last\");break}}},applyPressedButtons:function(a){var e=this,f=[],c,d,b;if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=e.getComponent(a[b]);if(c&&f.indexOf(c)===-1){f.push(c)}}}else{c=e.getComponent(a);if(c&&f.indexOf(c)===-1){f.push(c)}}return f},updatePressedButtons:function(a){var h=this,b=h.getItems(),g=h.getPressedCls(),f,d,e,c;e=b.length;for(c=0;c<e;c++){f=b.items[c];f.removeCls([g,f.getPressedCls()])}e=a.length;for(c=0;c<e;c++){d=a[c];d.addCls(g)}},isPressed:function(a){var b=this.getPressedButtons();return b.indexOf(a)!=-1},doSetDisabled:function(a){var b=this;b.items.each(function(c){c.setDisabled(a)},b);b.callParent(arguments)}},function(){var a=this;Ext.deprecateClassMethod(a,\"setPressed\",\"setPressedButtons\");Ext.deprecateClassMethod(a,\"getPressed\",\"getPressedButtons\")});Ext.define(\"B2B.view.Beer\",{extend:\"Ext.Panel\",xtype:\"beer\",id:\"beerlistcontainer\",requires:[\"Ext.SegmentedButton\"],config:{title:i18n.app.LABEL_BEERS,iconCls:\"trash\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var c=this;var b={xtype:\"beersearch\",};var a={xtype:\"beerlist\",id:\"beerlist\",store:null,singleSelect:true};this.add([b,a])}});Ext.define(\"B2B.view.Beer_List_SelectContainer\",{extend:\"Ext.Panel\",xtype:\"beerlistselectcontainerpanel\",id:\"beerlistselectcontainer\",requires:[\"Ext.SegmentedButton\"],config:{title:i18n.app.LABEL_BEERS,iconCls:\"trash\",layout:{type:\"fit\"}},initialize:function(){this.callParent(arguments);var e=this,b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_beerselect_btn\",handler:this.onBackBeerSelectButtonTap,scope:this},d={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_BEER,id:\"BeerSelectTitlebar\",defaults:{iconMask:true},items:[b]},c={xtype:\"selectfield\",name:\"selectbeerfavorite\",id:\"selectfieldbeerfavorite\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSE,store:Ext.getStore(\"FavoriteBeers_Local\"),valueField:\"beerName\",displayField:\"beerName\",docked:\"top\"},f={xtype:\"beerlistselectsearchcomponent\"},a={xtype:\"beerlist\",id:\"beerlistselect\",store:null,singleSelect:true};this.add([d,c,f,a])},onBackBeerSelectButtonTap:function(){this.fireEvent(\"backBeerSelectCommand\",this)}});Ext.define(\"Ext.Map\",{extend:\"Ext.Component\",xtype:\"map\",requires:[\"Ext.util.Geolocation\"],isMap:true,config:{baseCls:Ext.baseCSSPrefix+\"map\",useCurrentLocation:false,map:null,geo:null,mapOptions:{}},constructor:function(){this.callParent(arguments);this.element.setVisibilityMode(Ext.Element.OFFSETS);if(!(window.google||{}).maps){this.setHtml(\"Google Maps API is required\")}},initialize:function(){this.callParent();this.on({painted:\"doResize\",scope:this});this.element.on(\"touchstart\",\"onTouchStart\",this)},onTouchStart:function(a){a.makeUnpreventable()},applyMapOptions:function(a){return Ext.merge({},this.options,a)},updateMapOptions:function(d){var a=this,c=(window.google||{}).maps,b=this.getMap();if(c&&b){b.setOptions(d)}if(d.center&&!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d.center]})}},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig(\"mapOptions\"))},updateUseCurrentLocation:function(a){this.setGeo(a);if(!a){this.renderMap()}},applyGeo:function(a){return Ext.factory(a,Ext.util.Geolocation,this.getGeo())},updateGeo:function(b,a){var c={locationupdate:\"onGeoUpdate\",locationerror:\"onGeoError\",scope:this};if(a){a.un(c)}if(b){b.on(c);b.updateLocation()}},doResize:function(){var b=(window.google||{}).maps,a=this.getMap();if(b&&a){b.event.trigger(a,\"resize\")}},renderMap:function(){var d=this,f=(window.google||{}).maps,b=d.element,a=d.getMapOptions(),e=d.getMap(),c;if(f){if(Ext.os.is.iPad){Ext.merge({navigationControlOptions:{style:f.NavigationControlStyle.ZOOM_PAN}},a)}a=Ext.merge({zoom:12,mapTypeId:f.MapTypeId.ROADMAP},a);if(!a.hasOwnProperty(\"center\")){a.center=new f.LatLng(37.381592,-122.135672)}if(b.dom.firstChild){Ext.fly(b.dom.firstChild).destroy()}if(e){f.event.clearInstanceListeners(e)}d.setMap(new f.Map(b.dom,a));e=d.getMap();c=f.event;c.addListener(e,\"zoom_changed\",Ext.bind(d.onZoomChange,d));c.addListener(e,\"maptypeid_changed\",Ext.bind(d.onTypeChange,d));c.addListener(e,\"center_changed\",Ext.bind(d.onCenterChange,d));d.fireEvent(\"maprender\",d,e)}},onGeoUpdate:function(a){if(a){this.setMapCenter(new google.maps.LatLng(a.getLatitude(),a.getLongitude()))}},onGeoError:Ext.emptyFn,setMapCenter:function(d){var a=this,c=a.getMap(),b=(window.google||{}).maps;if(b){if(!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d]});return}d=d||new b.LatLng(37.381592,-122.135672);if(d&&!(d instanceof b.LatLng)&&\"longitude\" in d){d=new b.LatLng(d.latitude,d.longitude)}if(!c){a.renderMap();c=a.getMap()}if(c&&d instanceof b.LatLng){c.panTo(d)}else{this.options=Ext.apply(this.getMapOptions(),{center:d})}}},onZoomChange:function(){var a=this.getMapOptions(),c=this.getMap(),b;b=(c&&c.getZoom)?c.getZoom():a.zoom||10;this.options=Ext.apply(a,{zoom:b});this.fireEvent(\"zoomchange\",this,c,b)},onTypeChange:function(){var b=this.getMapOptions(),c=this.getMap(),a;a=(c&&c.getMapTypeId)?c.getMapTypeId():b.mapTypeId;this.options=Ext.apply(b,{mapTypeId:a});this.fireEvent(\"typechange\",this,c,a)},onCenterChange:function(){var b=this.getMapOptions(),c=this.getMap(),a;a=(c&&c.getCenter)?c.getCenter():b.center;this.options=Ext.apply(b,{center:a});this.fireEvent(\"centerchange\",this,c,a)},destroy:function(){Ext.destroy(this.getGeo());var a=this.getMap();if(a&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(a)}this.callParent()}},function(){Ext.deprecateClassMethod(this,\"getState\",\"getMapOptions\");Ext.deprecateClassMethod(this,\"update\",\"setMapCenter\")});Ext.define(\"B2B.view.Drink_AroundMe\",{extend:\"Ext.Panel\",requires:[\"Ext.Map\"],id:\"drinkaroundmepanel\",xtype:\"drinkaroundmepanel\",config:{title:i18n.app.LABEL_CHECKIN,iconCls:\"locate\",layout:\"card\",scrollable:false},initialize:function(){this.callParent(arguments);var h={xtype:\"map\",id:\"mapDrink\",useCurrentLocation:true,height:180,flex:1,mapOptions:{zoom:HH.map.zoomLevel,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:false,zoomControl:false,mapTypeControl:false,scaleControl:false,streetViewControl:false,panControl:false,draggable:false},listeners:{maprender:function(i,j){j.markers=[]},centerchange:function(i,j){j.clearMarkers();j.markers.push(new google.maps.Marker({position:new google.maps.LatLng(this._geo.getLatitude(),this._geo.getLongitude()),map:j,icon:HH.map.marker}))}}};var a={text:i18n.app.BTN_REFRESH,ui:\"action\",id:\"refresh_around_btn\",handler:this.onRefreshAroundButtonTap,scope:this};var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_Check_btn\",handler:this.onBackCheckButtonTap,scope:this};var c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_CHECKIN,id:\"AroundFormTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"},a]};var e=Ext.create(\"Ext.util.Geolocation\",{autoUpdate:false,listeners:{locationupdate:function(j){var i=Ext.getStore(\"Places_Ajax\");i.getProxy().setExtraParam(\"lat\",j.getLatitude());i.getProxy().setExtraParam(\"lon\",j.getLongitude());i.load()},locationerror:function(m,i,j,l,k){console.error(k)}}});e.updateLocation();var g={xtype:\"placelistcomponent\",store:Ext.getStore(\"Places_Ajax\"),flex:1};var d={xtype:\"container\",html:'<img class=\"footer_img\" src=\"resources/img/poweredByFoursquare_footer.png\" width=\"200px\">'};var f={xtype:\"panel\",layout:\"vbox\",align:\"stretch\",items:[h,g,d]};this.add([c,f])},onRefreshAroundButtonTap:function(){this.fireEvent(\"refreshAroundCommand\",this)},onBackCheckButtonTap:function(){this.fireEvent(\"backCheckCommand\",this)}});Ext.define(\"Ext.form.FieldSet\",{extend:\"Ext.Container\",alias:\"widget.fieldset\",requires:[\"Ext.Title\"],config:{baseCls:Ext.baseCSSPrefix+\"form-fieldset\",title:null,instructions:null},applyTitle:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"top\",baseCls:this.getBaseCls()+\"-title\"});return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(b,a){if(b){this.add(b)}if(a){this.remove(a)}},applyInstructions:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"bottom\",baseCls:this.getBaseCls()+\"-instructions\"});return Ext.factory(a,Ext.Title,this.getInstructions())},updateInstructions:function(b,a){if(b){this.add(b)}if(a){this.remove(a)}}});Ext.define(\"Ext.util.Collection\",{config:{autoFilter:true,autoSort:true},mixins:{sortable:\"Ext.mixin.Sortable\",filterable:\"Ext.mixin.Filterable\"},constructor:function(b,a){var c=this;c.all=[];c.items=[];c.keys=[];c.indices={};c.map={};c.length=0;if(b){c.getKey=b}this.initConfig(a)},updateAutoSort:function(a,b){if(b===false&&a&&this.items.length){this.sort()}},updateAutoFilter:function(b,a){if(a===false&&b&&this.all.length){this.filter()}},insertSorters:function(){this.mixins.sortable.insertSorters.apply(this,arguments);if(this.getAutoSort()&&this.items.length){this.sort()}return this},removeSorters:function(a){this.mixins.sortable.removeSorters.call(this,a);if(this.sorted&&this.getAutoSort()&&this.items.length){this.sort()}return this},applyFilters:function(a){var b=this.mixins.filterable.applyFilters.call(this,a);if(!a&&this.all.length&&this.getAutoFilter()){this.filter()}return b},addFilters:function(a){this.mixins.filterable.addFilters.call(this,a);if(this.items.length&&this.getAutoFilter()){this.filter()}return this},removeFilters:function(a){this.mixins.filterable.removeFilters.call(this,a);if(this.filtered&&this.all.length&&this.getAutoFilter()){this.filter()}return this},filter:function(c,b,d,a){if(c){if(Ext.isString(c)){this.addFilters({property:c,value:b,anyMatch:d,caseSensitive:a});return this.items}else{this.addFilters(c);return this.items}}this.items=this.mixins.filterable.filter.call(this,this.all.slice());this.updateAfterFilter();if(this.sorted&&this.getAutoSort()){this.sort()}},updateAfterFilter:function(){var a=this.items,f=this.keys,g=this.indices={},e=a.length,c,d,b;f.length=0;for(c=0;c<e;c++){d=a[c];b=this.getKey(d);g[b]=c;f[c]=b}this.length=a.length;this.dirtyIndices=false},sort:function(e,a){var d=this.items,h=this.keys,g=this.indices,c=d.length,b,j,f;if(e){this.addSorters(e,a);return this.items}for(b=0;b<c;b++){d[b]._current_key=h[b]}this.handleSort(d);for(b=0;b<c;b++){j=d[b];f=j._current_key;h[b]=f;g[f]=b;delete j._current_key}this.dirtyIndices=true},handleSort:function(a){this.mixins.sortable.sort.call(this,a)},add:function(i,k){var g=this,d=this.filtered,e=this.sorted,h=this.all,f=this.items,l=this.keys,j=this.indices,a=this.mixins.filterable,b=f.length,c=b;if(arguments.length==1){k=i;i=g.getKey(k)}if(typeof i!=\"undefined\"&&i!==null){if(typeof g.map[i]!=\"undefined\"){return g.replace(i,k)}g.map[i]=k}h.push(k);if(d&&this.getAutoFilter()&&a.isFiltered.call(g,k)){return null}g.length++;if(e&&this.getAutoSort()){c=this.findInsertionIndex(f,k)}if(c!==b){this.dirtyIndices=true;Ext.Array.splice(l,c,0,i);Ext.Array.splice(f,c,0,k)}else{j[i]=b;l.push(i);f.push(k)}return k},getKey:function(a){return a.id},replace:function(d,m){var i=this,g=i.sorted,f=i.filtered,b=i.mixins.filterable,h=i.items,n=i.keys,k=i.all,c=i.map,l=null,a=h.length,o,e,j;if(arguments.length==1){m=d;d=j=i.getKey(m)}else{j=i.getKey(m)}o=c[d];if(typeof d==\"undefined\"||d===null||typeof o==\"undefined\"){return i.add(j,m)}i.map[j]=m;if(j!==d){delete i.map[d]}if(g&&i.getAutoSort()){Ext.Array.remove(h,o);Ext.Array.remove(n,d);Ext.Array.remove(k,o);k.push(m);i.dirtyIndices=true;if(f&&i.getAutoFilter()){if(b.isFiltered.call(i,m)){if(a!==h.length){i.length--}return null}else{if(a===h.length){i.length++;l=m}}}e=this.findInsertionIndex(h,m);Ext.Array.splice(n,e,0,j);Ext.Array.splice(h,e,0,m)}else{if(f){if(i.getAutoFilter()&&b.isFiltered.call(i,m)){if(h.indexOf(o)!==-1){Ext.Array.remove(h,o);Ext.Array.remove(n,d);i.length--;i.dirtyIndices=true}return null}else{if(h.indexOf(o)===-1){h.push(m);n.push(j);i.indices[j]=i.length;i.length++;return m}}}e=i.items.indexOf(o);n[e]=j;h[e]=m;this.dirtyIndices=true}return l},addAll:function(h){var q=this,e=q.filtered,a=q.sorted,b=q.all,k=q.items,j=q.keys,p=q.map,l=q.getAutoFilter(),m=q.getAutoSort(),r=[],f=[],c=q.mixins.filterable,d=[],g,s,n,o;if(Ext.isObject(h)){for(s in h){if(h.hasOwnProperty(s)){f.push(k[s]);r.push(s)}}}else{f=h;g=h.length;for(n=0;n<g;n++){r.push(q.getKey(h[n]))}}for(n=0;n<g;n++){s=r[n];o=f[n];if(typeof s!=\"undefined\"&&s!==null){if(typeof p[s]!=\"undefined\"){q.replace(s,o);continue}p[s]=o}b.push(o);if(e&&l&&c.isFiltered.call(q,o)){continue}q.length++;j.push(s);k.push(o);d.push(o)}if(d.length){q.dirtyIndices=true;if(a&&m){q.sort()}return d}return null},each:function(e,d){var b=this.items.slice(),c=0,a=b.length,f;for(;c<a;c++){f=b[c];if(e.call(d||f,f,c,a)===false){break}}},eachKey:function(d,c){var f=this.keys,a=this.items,e=f.length,b;for(b=0;b<e;b++){d.call(c||window,f[b],a[b],b,e)}},findBy:function(e,d){var f=this.keys,b=this.items,c=0,a=b.length;for(;c<a;c++){if(e.call(d||window,b[c],f[c])){return b[c]}}return null},filterBy:function(e,d){var h=this,c=new this.self(),g=h.keys,a=h.all,f=a.length,b;c.getKey=h.getKey;for(b=0;b<f;b++){if(e.call(d||h,a[b],h.getKey(a[b]))){c.add(g[b],a[b])}}return c},insert:function(c,d,f){var e=this,a=this.sorted,g=this.map,b=this.filtered;if(arguments.length==2){f=d;d=e.getKey(f)}if(c>=e.length||(a&&e.getAutoSort())){return e.add(d,f)}if(typeof d!=\"undefined\"&&d!==null){if(typeof g[d]!=\"undefined\"){e.replace(d,f);return false}g[d]=f}this.all.push(f);if(b&&this.getAutoFilter()&&this.mixins.filterable.isFiltered.call(e,f)){return null}e.length++;Ext.Array.splice(e.items,c,0,f);Ext.Array.splice(e.keys,c,0,d);e.dirtyIndices=true;return f},insertAll:function(g,d){if(g>=this.items.length||(this.sorted&&this.getAutoSort())){return this.addAll(d)}var s=this,h=this.filtered,a=this.sorted,b=this.all,m=this.items,l=this.keys,r=this.map,n=this.getAutoFilter(),o=this.getAutoSort(),t=[],j=[],f=[],c=this.mixins.filterable,e=false,k,u,p,q;if(a&&this.getAutoSort()){Ext.Logger.error(\"Inserting a collection of items into a sorted Collection is invalid. Please just add these items or remove the sorters.\")}if(Ext.isObject(d)){for(u in d){if(d.hasOwnProperty(u)){j.push(m[u]);t.push(u)}}}else{j=d;k=d.length;for(p=0;p<k;p++){t.push(s.getKey(d[p]))}}for(p=0;p<k;p++){u=t[p];q=j[p];if(typeof u!=\"undefined\"&&u!==null){if(typeof r[u]!=\"undefined\"){s.replace(u,q);continue}r[u]=q}b.push(q);if(h&&n&&c.isFiltered.call(s,q)){continue}s.length++;Ext.Array.splice(m,g+p,0,q);Ext.Array.splice(l,g+p,0,u);e=true;f.push(q)}if(e){this.dirtyIndices=true;if(a&&o){this.sort()}return f}return null},remove:function(b){var a=this.items.indexOf(b);if(a===-1){Ext.Array.remove(this.all,b);return b}return this.removeAt(this.items.indexOf(b))},removeAll:function(a){if(a){var c=a.length,b;for(b=0;b<c;b++){this.remove(a[b])}}return this},removeAt:function(b){var g=this,a=g.items,f=g.keys,d=g.all,e,c;if(b<g.length&&b>=0){e=a[b];c=f[b];if(typeof c!=\"undefined\"){delete g.map[c]}Ext.Array.erase(a,b,1);Ext.Array.erase(f,b,1);Ext.Array.remove(d,e);delete g.indices[c];g.length--;this.dirtyIndices=true;return e}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(b){if(this.dirtyIndices){this.updateIndices()}var a=this.indices[this.getKey(b)];return(a===undefined)?-1:a},indexOfKey:function(b){if(this.dirtyIndices){this.updateIndices()}var a=this.indices[b];return(a===undefined)?-1:a},updateIndices:function(){var a=this.items,e=a.length,f=this.indices={},c,d,b;for(c=0;c<e;c++){d=a[c];b=this.getKey(d);f[b]=c}this.dirtyIndices=false},get:function(b){var d=this,a=d.map[b],c;if(a!==undefined){c=a}else{if(typeof b==\"number\"){c=d.items[b]}}return typeof c!=\"function\"||d.getAllowFunctions()?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(b){var a=this.getKey(b);if(a){return this.containsKey(a)}else{return Ext.Array.contains(this.items,b)}},containsKey:function(a){return typeof this.map[a]!=\"undefined\"},clear:function(){var a=this;a.length=0;a.items.length=0;a.keys.length=0;a.all.length=0;a.dirtyIndices=true;a.indices={};a.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(f,a){var e=this,c=e.items,b=[],d;if(c.length<1){return b}f=f||0;a=Math.min(typeof a==\"undefined\"?e.length-1:a,e.length-1);if(f<=a){for(d=f;d<=a;d++){b[b.length]=c[d]}}else{for(d=f;d>=a;d--){b[b.length]=c[d]}}return b},findIndexBy:function(d,c,h){var g=this,f=g.keys,a=g.items,b=h||0,e=a.length;for(;b<e;b++){if(d.call(c||g,a[b],f[b])){return b}}return -1},clone:function(){var e=this,f=new this.self(),d=e.keys,a=e.items,b=0,c=a.length;for(;b<c;b++){f.add(d[b],a[b])}f.getKey=e.getKey;return f}});Ext.define(\"Ext.data.Errors\",{extend:\"Ext.util.Collection\",requires:\"Ext.data.Error\",isValid:function(){return this.length===0},getByField:function(d){var c=[],a,b;for(b=0;b<this.length;b++){a=this.items[b];if(a.getField()==d){c.push(a)}}return c},add:function(){var a=arguments.length==1?arguments[0]:arguments[1];if(!(a instanceof Ext.data.Error)){a=Ext.create(\"Ext.data.Error\",{field:a.field||a.name,message:a.error||a.message})}return this.callParent([a])}});Ext.define(\"Ext.navigation.Bar\",{extend:\"Ext.TitleBar\",requires:[\"Ext.Button\",\"Ext.Spacer\"],isToolbar:true,config:{baseCls:Ext.baseCSSPrefix+\"toolbar\",cls:Ext.baseCSSPrefix+\"navigation-bar\",ui:\"dark\",title:null,defaultType:\"button\",layout:{type:\"hbox\"},defaultBackButtonText:\"Back\",animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:false,backButton:{align:\"left\",ui:\"back\",hidden:true}},minBackButtonWidth:80,constructor:function(a){a=a||{};if(!a.items){a.items=[]}this.backButtonStack=[];this.activeAnimations=[];this.callParent([a])},applyBackButton:function(a){return Ext.factory(a,Ext.Button,this.getBackButton())},updateBackButton:function(a,b){if(b){this.remove(b)}if(a){this.add(a);a.on({scope:this,tap:this.onBackButtonTap})}},onBackButtonTap:function(){this.fireEvent(\"back\",this)},updateView:function(h){var d=this,b=d.getBackButton(),f,a,e,c,g;d.getItems();if(h){f=h.getInnerItems();for(a=0;a<f.length;a++){c=f[a];g=(c.getTitle)?c.getTitle():c.config.title;d.backButtonStack.push(g||\"&nbsp;\")}d.setTitle(d.getTitleText());e=d.getBackButtonText();if(e){b.setText(e);b.show()}}},onViewAdd:function(c,e){var d=this,b=d.backButtonStack,a,f;d.endAnimation();f=(e.getTitle)?e.getTitle():e.config.title;b.push(f||\"&nbsp;\");a=b.length>1;d.doChangeView(c,a,false)},onViewRemove:function(c){var d=this,b=d.backButtonStack,a;d.endAnimation();b.pop();a=b.length>1;d.doChangeView(c,a,true)},doChangeView:function(k,c,g){var r=this,o=r.leftBox,e=o.element,f=r.titleComponent,m=f.element,n=r.getBackButton(),l=r.getTitleText(),h=r.getBackButtonText(),q=r.getAnimation()&&k.getLayout().getAnimation(),p=q&&q.isAnimation&&k.isPainted(),d,i,a,j,b;if(p){i=r.createProxy(o.element);e.setStyle(\"opacity\",\"0\");n.setText(h);n[c?\"show\":\"hide\"]();a=r.createProxy(f.element.getParent());m.setStyle(\"opacity\",\"0\");r.setTitle(l);r.refreshTitlePosition();d=r.measureView(i,a,g);j=d.left;b=d.title;r.isAnimating=true;r.animate(e,j.element);r.animate(m,b.element,function(){m.setLeft(d.titleLeft);r.isAnimating=false});if(Ext.os.is.Android2&&!this.getAndroid2Transforms()){i.ghost.destroy();a.ghost.destroy()}else{r.animate(i.ghost,j.ghost);r.animate(a.ghost,b.ghost,function(){i.ghost.destroy();a.ghost.destroy()})}}else{if(c){n.setText(h);n.show()}else{n.hide()}r.setTitle(l)}},measureView:function(e,u,k){var w=this,j=w.element,v=w.leftBox.element,p=w.titleComponent.element,l=Math.min(j.getWidth()/3,200),q=v.getWidth(),c=j.getX(),m=j.getWidth(),n=p.getX(),d=p.getLeft(),s=p.getWidth(),r=e.x,t=e.width,a=e.left,h=Ext.os.is.Android2&&!this.getAndroid2Transforms(),i,b,f,x,o,g;g=c-r-t;if(k){i=g;b=Math.min(n-t,l)}else{b=g;i=Math.min(n-c,l)}if(h){f={element:{from:{left:i,opacity:1},to:{left:0,opacity:1}}}}else{f={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}g=c-n+q;if((a+s)>n){o=c-n-s}if(k){p.setLeft(0);b=c+m;if(o!==undefined){i=o}else{i=g}}else{i=m-n;if(o!==undefined){b=o}else{b=g}}if(h){x={element:{from:{left:i,opacity:1},to:{left:d,opacity:1}}}}else{x={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:d},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}return{left:f,title:x,titleLeft:d}},animate:function(b,a,e){var c=this,d;b.setLeft(0);a=Ext.apply(a,{element:b,easing:\"ease-in-out\",duration:c.getAnimation().duration});d=new Ext.fx.Animation(a);d.on(\"animationend\",function(){if(e){e.call(c)}},c);Ext.Animator.run(d);c.activeAnimations.push(d)},endAnimation:function(){var a=this.activeAnimations,d,b,c;if(a){c=a.length;for(b=0;b<c;b++){d=a[b];if(d.isAnimating){d.stopAnimation()}else{d.destroy()}}this.activeAnimations=[]}},refreshTitlePosition:function(){if(!this.isAnimating){this.callParent()}},getBackButtonText:function(){var b=this.backButtonStack[this.backButtonStack.length-2],a=this.getUseTitleForBackButtonText();if(!a){if(b){b=this.getDefaultBackButtonText()}}return b},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(b){b--;for(var a=0;a<b;a++){this.backButtonStack.pop()}},doSetHidden:function(a){if(!a){this.element.setStyle({position:\"relative\",top:\"auto\",left:\"auto\",width:\"auto\"})}else{this.element.setStyle({position:\"absolute\",top:\"-1000px\",left:\"-1000px\",width:this.element.getWidth()+\"px\"})}},createProxy:function(b){var e,a,f,d,c;e=b.dom.cloneNode(true);e.id=b.id+\"-proxy\";b.getParent().dom.appendChild(e);e=Ext.get(e);a=b.getX();f=b.getY();d=b.getLeft();c=b.getWidth();e.setStyle(\"position\",\"absolute\");e.setX(a);e.setY(f);e.setHeight(b.getHeight());e.setWidth(c);return{x:a,y:f,left:d,width:c,ghost:e}}});Ext.define(\"Ext.navigation.View\",{extend:\"Ext.Container\",alternateClassName:\"Ext.NavigationView\",xtype:\"navigationview\",requires:[\"Ext.navigation.Bar\"],config:{baseCls:Ext.baseCSSPrefix+\"navigationview\",navigationBar:{docked:\"top\"},defaultBackButtonText:\"Back\",useTitleForBackButtonText:false,layout:{type:\"card\",animation:{duration:300,easing:\"ease-out\",type:\"slide\",direction:\"left\"}}},initialize:function(){this.getNavigationBar().on({back:this.onBackButtonTap,scope:this});this.relayEvents(this,{add:\"push\",remove:\"pop\"});var a=this.getLayout();if(a&&!a.isCard){Ext.Logger.error(\"The base layout for a NavigationView must always be a Card Layout\")}},applyLayout:function(a){a=a||{};return a},onBackButtonTap:function(){this.pop();this.fireEvent(\"back\",this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a)){return this.doPop()}},beforePop:function(e){var d=this,f=this.getInnerItems(),c=f.length,b,a;if(!Ext.isNumber(e)||e<1){e=1}e=Math.min(e,c-1);if(e){d.getNavigationBar().beforePop(e);b=f.splice(-e,e-1);for(a=0;a<b.length;a++){this.remove(b[a])}return true}return false},doPop:function(){var a=this,b=this.getInnerItems();a.remove(b[b.length-1]);return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setUseTitleForBackButtonText(b)}},updateDefaultBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setDefaultBackButtonText(b)}},applyNavigationBar:function(a){if(!a){a={hidden:true,docked:\"top\"}}if(a.title){delete a.title;Ext.Logger.warn(\"Ext.navigation.View: The 'navigationBar' configuration does not accept a 'title' property. You set the title of the navigationBar by giving this navigation view's children a 'title' property.\")}a.view=this;a.useTitleForBackButtonText=this.getUseTitleForBackButtonText();return Ext.factory(a,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(a,c){if(c){this.remove(c,true)}if(a){var b=this.getLayout(),d=(b&&b.isLayout)?b.getAnimation():false;if(d&&d.isAnimation){a.setAnimation(d.config)}this.add(a)}},applyActiveItem:function(d,a){var b=this,c=b.getInnerItems();b.getItems();if(!b.initialized){d=c.length-1}return this.callParent([d,a])},doResetActiveItem:function(d){var a=this,c=a.getInnerItems(),b=a.getLayout().getAnimation();if(d>0){if(b&&b.isAnimation){b.setReverse(true)}a.setActiveItem(d-1);a.getNavigationBar().onViewRemove(a,c[d],d)}},doRemove:function(){var a=this.getLayout().getAnimation();if(a&&a.isAnimation){a.setReverse(false)}this.callParent(arguments)},onItemAdd:function(b,a){this.doItemLayoutAdd(b,a);if(!this.isItemsInitializing&&b.isInnerItem()){this.setActiveItem(b);this.getNavigationBar().onViewAdd(this,b,a)}if(this.initialized){this.fireEvent(\"add\",this,b,a)}},reset:function(){return this.pop(this.getInnerItems().length)}});Ext.define(\"B2B.view._App\",{extend:\"Ext.NavigationView\",id:\"_app\",xtype:\"_app\",config:{navigationBar:false,items:[{xtype:\"appslidercontainer\"}]}});Ext.define(\"Ext.Ajax\",{extend:\"Ext.data.Connection\",singleton:true,autoAbort:false});Ext.define(\"Ext.Sheet\",{extend:\"Ext.Panel\",xtype:\"sheet\",requires:[\"Ext.fx.Animation\"],config:{baseCls:Ext.baseCSSPrefix+\"sheet\",modal:true,centered:true,stretchX:null,stretchY:null,enter:\"bottom\",exit:\"bottom\",showAnimation:!Ext.os.is.Android2?{type:\"slideIn\",duration:250,easing:\"ease-out\"}:null,hideAnimation:!Ext.os.is.Android2?{type:\"slideOut\",duration:250,easing:\"ease-in\"}:null},applyHideAnimation:function(b){var a=this.getExit(),d=a;if(a===null){return null}if(b===true){b={type:\"slideOut\"}}if(Ext.isString(b)){b={type:b}}var c=Ext.factory(b,Ext.fx.Animation);if(c){if(a==\"bottom\"){d=\"down\"}if(a==\"top\"){d=\"up\"}c.setDirection(d)}return c},applyShowAnimation:function(a){var d=this.getEnter(),c=d;if(d===null){return null}if(a===true){a={type:\"slideIn\"}}if(Ext.isString(a)){a={type:a}}var b=Ext.factory(a,Ext.fx.Animation);if(b){if(d==\"bottom\"){c=\"down\"}if(d==\"top\"){c=\"up\"}b.setBefore({display:null});b.setReverse(true);b.setDirection(c)}return b},updateStretchX:function(a){this.getLeft();this.getRight();if(a){this.setLeft(0);this.setRight(0)}},updateStretchY:function(a){this.getTop();this.getBottom();if(a){this.setTop(0);this.setBottom(0)}}});Ext.define(\"Ext.ActionSheet\",{extend:\"Ext.Sheet\",alias:\"widget.actionsheet\",requires:[\"Ext.Button\"],config:{baseCls:Ext.baseCSSPrefix+\"sheet-action\",left:0,right:0,bottom:0,centered:false,height:\"auto\",defaultType:\"button\"}});Ext.define(\"Ext.tab.Bar\",{extend:\"Ext.Toolbar\",alternateClassName:\"Ext.TabBar\",xtype:\"tabbar\",requires:[\"Ext.tab.Tab\"],config:{baseCls:Ext.baseCSSPrefix+\"tabbar\",defaultType:\"tab\",layout:{type:\"hbox\",align:\"middle\"}},eventedConfig:{activeTab:null},initialize:function(){var a=this;a.callParent();a.on({tap:\"onTabTap\",delegate:\"> tab\",scope:a})},onTabTap:function(a){this.setActiveTab(a)},applyActiveTab:function(b,c){if(!b&&b!==0){return}var a=this.parseActiveTab(b);if(!a){if(c){Ext.Logger.warn(\"Trying to set a non-existent activeTab\")}return}return a},doSetDocked:function(a){var c=this.getLayout(),b=a==\"bottom\"?\"center\":\"left\";if(c.isLayout){c.setPack(b)}else{c.pack=(c&&c.pack)?c.pack:b}},doSetActiveTab:function(b,a){if(b){b.setActive(true)}if(a){a.setActive(false)}},parseActiveTab:function(a){if(typeof a==\"number\"){return this.getInnerItems()[a]}else{if(typeof a==\"string\"){a=Ext.getCmp(a)}}return a}});Ext.define(\"Ext.tab.Panel\",{extend:\"Ext.Container\",xtype:\"tabpanel\",alternateClassName:\"Ext.TabPanel\",requires:[\"Ext.tab.Bar\"],config:{ui:\"dark\",tabBar:true,tabBarPosition:\"top\",layout:{type:\"card\",animation:{type:\"slide\",direction:\"left\"}},cls:Ext.baseCSSPrefix+\"tabpanel\"},delegateListeners:{delegate:\"> component\",centeredchange:\"onItemCenteredChange\",dockedchange:\"onItemDockedChange\",floatingchange:\"onItemFloatingChange\",disabledchange:\"onItemDisabledChange\"},initialize:function(){this.callParent();this.on({order:\"before\",activetabchange:\"doTabChange\",delegate:\"> tabbar\",scope:this});var a=this.getLayout();if(a&&!a.isCard){Ext.Logger.error(\"The base layout for a TabPanel must always be a Card Layout\")}},applyScrollable:function(){return false},updateUi:function(a,b){this.callParent(arguments);if(this.initialized){this.getTabBar().setUi(a)}},doSetActiveItem:function(d,j){if(d){var f=this.getInnerItems(),g=f.indexOf(j),i=f.indexOf(d),e=g>i,c=this.getLayout().getAnimation(),b=this.getTabBar(),h=b.parseActiveTab(g),a=b.parseActiveTab(i);if(c&&c.setReverse){c.setReverse(e)}this.callParent(arguments);if(i!=-1){this.forcedChange=true;b.setActiveTab(i);this.forcedChange=false;if(h){h.setActive(false)}if(a){a.setActive(true)}}}},doTabChange:function(a,d){var b=this.getActiveItem(),c;this.setActiveItem(a.indexOf(d));c=this.getActiveItem();return this.forcedChange||b!==c},applyTabBar:function(a){if(a===true){a={}}if(a){Ext.applyIf(a,{ui:this.getUi(),docked:this.getTabBarPosition()})}return Ext.factory(a,Ext.tab.Bar,this.getTabBar())},updateTabBar:function(a){if(a){this.add(a);this.setTabBarPosition(a.getDocked())}},updateTabBarPosition:function(b){var a=this.getTabBar();if(a){a.setDocked(b)}},onItemAdd:function(e){var k=this;if(!e.isInnerItem()){return k.callParent(arguments)}var c=k.getTabBar(),o=e.getInitialConfig(),d=o.tab||{},g=(e.getTitle)?e.getTitle():o.title,i=(e.getIconCls)?e.getIconCls():o.iconCls,j=(e.getHidden)?e.getHidden():o.hidden,n=(e.getDisabled)?e.getDisabled():o.disabled,p=(e.getBadgeText)?e.getBadgeText():o.badgeText,b=k.getInnerItems(),h=b.indexOf(e),l=c.getItems(),a=c.getActiveTab(),m=(l.length>=b.length)&&l.getAt(h),f;if(g&&!d.title){d.title=g}if(i&&!d.iconCls){d.iconCls=i}if(j&&!d.hidden){d.hidden=j}if(n&&!d.disabled){d.disabled=n}if(p&&!d.badgeText){d.badgeText=p}if(!m&&!d.title&&!d.iconCls){if(!d.title&&!d.iconCls){Ext.Logger.error(\"Adding a card to a tab container without specifying any tab configuration\")}}f=Ext.factory(d,Ext.tab.Tab,m);if(!m){c.insert(h,f)}e.tab=f;k.callParent(arguments);if(!a&&a!==0){c.setActiveTab(c.getActiveItem())}},onItemDisabledChange:function(a,b){if(a&&a.tab){a.tab.setDisabled(b)}},onItemRemove:function(b,a){this.getTabBar().remove(b.tab,this.getAutoDestroy());this.callParent(arguments)}},function(){Ext.deprecateProperty(this,\"tabBarDock\",\"tabBarPosition\")});Ext.define(\"Ext.device.Communicator\",{requires:[\"Ext.device.communicator.Default\",\"Ext.device.communicator.Android\"],singleton:true,constructor:function(){if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define(\"Ext.device.camera.PhoneGap\",{extend:\"Ext.device.camera.Abstract\",capture:function(j){var h=j.success,d=j.failure,l=j.scope,b=this.source,f=this.destination,i=this.encoding,a=j.source,k=j.destination,c=j.encoding,m={};if(l){h=Ext.Function.bind(h,l);d=Ext.Function.bind(d,l)}if(a!==undefined){m.sourceType=b.hasOwnProperty(a)?b[a]:a}if(k!==undefined){m.destinationType=f.hasOwnProperty(k)?f[k]:k}if(c!==undefined){m.encodingType=i.hasOwnProperty(c)?i[c]:c}if(\"quality\" in j){m.quality=j.quality}if(\"width\" in j){m.targetWidth=j.width}if(\"height\" in j){m.targetHeight=j.height}try{navigator.camera.getPicture(h,d,m)}catch(g){alert(g)}}});Ext.define(\"Ext.device.camera.Sencha\",{extend:\"Ext.device.camera.Abstract\",requires:[\"Ext.device.Communicator\"],capture:function(d){var c=this.source,b=this.destination,f=this.encoding,g=d.source,a=d.destination,e=d.encoding;if(c.hasOwnProperty(g)){g=c[g]}if(b.hasOwnProperty(a)){a=b[a]}if(f.hasOwnProperty(e)){e=f[e]}Ext.device.Communicator.send({command:\"Camera#capture\",callbacks:{success:d.success,failure:d.failure},scope:d.scope,quality:d.quality,width:d.width,height:d.height,source:g,destination:a,encoding:e})}});Ext.define(\"Ext.device.camera.Simulator\",{extend:\"Ext.device.camera.Abstract\",config:{samples:[{success:\"http://www.sencha.com/img/sencha-large.png\"}]},constructor:function(a){this.initConfig(a)},updateSamples:function(a){this.sampleIndex=0},capture:function(d){var c=this.sampleIndex,b=this.getSamples(),g=b.length,f=b[c],e=d.scope,h=d.success,a=d.failure;if(\"success\" in f){if(h){h.call(e,f.success)}}else{if(a){a.call(e,f.failure)}}if(++c>g-1){c=0}this.sampleIndex=c}});Ext.define(\"Ext.device.Camera\",{singleton:true,requires:[\"Ext.device.Communicator\",\"Ext.device.camera.PhoneGap\",\"Ext.device.camera.Sencha\",\"Ext.device.camera.Simulator\"],constructor:function(){var a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create(\"Ext.device.camera.PhoneGap\")}else{return Ext.create(\"Ext.device.camera.Sencha\")}}else{return Ext.create(\"Ext.device.camera.Simulator\")}}});Ext.define(\"Ext.dataview.element.List\",{extend:\"Ext.dataview.element.Container\",updateBaseCls:function(a){var b=this;b.itemClsShortCache=a+\"-item\";b.headerClsShortCache=a+\"-header\";b.headerClsCache=\".\"+b.headerClsShortCache;b.headerItemClsShortCache=a+\"-header-item\";b.footerClsShortCache=a+\"-footer-item\";b.footerClsCache=\".\"+b.footerClsShortCache;b.labelClsShortCache=a+\"-item-label\";b.labelClsCache=\".\"+b.labelClsShortCache;b.disclosureClsShortCache=a+\"-disclosure\";b.disclosureClsCache=\".\"+b.disclosureClsShortCache;b.iconClsShortCache=a+\"-icon\";b.iconClsCache=\".\"+b.iconClsShortCache;this.callParent(arguments)},hiddenDisplayCache:Ext.baseCSSPrefix+\"hidden-display\",getItemElementConfig:function(e,h){var f=this,c=f.dataview,g=c.getItemCls(),b=f.itemClsShortCache,d,a;if(g){b+=\" \"+g}d={cls:b,children:[{cls:f.labelClsShortCache,html:c.getItemTpl().apply(h)}]};if(c.getIcon()){a=h.iconSrc;d.children.push({cls:f.iconClsShortCache,style:\"background-image: \"+a?'url(\"'+newSrc+'\")':\"\"})}if(c.getOnItemDisclosure()){d.children.push({cls:f.disclosureClsShortCache+\" \"+((h[c.getDisclosureProperty()]===false)?f.hiddenDisplayCache:\"\")})}return d},updateListItem:function(d,k){var h=this,e=h.dataview,j=Ext.fly(k),g=j.down(h.labelClsCache,true),c=e.prepareData(d.getData(true),e.getStore().indexOf(d),d),b=e.getDisclosureProperty(),a=c&&c.hasOwnProperty(b),l=c&&c.hasOwnProperty(\"iconSrc\"),f,i;g.innerHTML=e.getItemTpl().apply(c);if(a){f=j.down(h.disclosureClsCache);f[c[b]===false?\"removeCls\":\"addCls\"](h.hiddenDisplayCache)}if(e.getIcon()){i=j.down(h.iconClsCache,true);i.style.backgroundImage=l?'url(\"'+l+'\")':\"\"}},doRemoveHeaders:function(){var e=this,a=e.headerItemClsShortCache,b=e.element.query(e.headerClsCache),f=b.length,c=0,d;for(;c<f;c++){d=b[c];Ext.fly(d.parentNode).removeCls(a);Ext.removeNode(d)}},doRemoveFooterCls:function(){var d=this,c=d.footerClsShortCache,a=d.element.query(d.footerClsCache),e=a.length,b=0;for(;b<e;b++){Ext.fly(a[b]).removeCls(c)}},doAddHeader:function(b,a){b=Ext.fly(b);if(a){b.insertFirst(Ext.Element.create({cls:this.headerClsShortCache,html:a}))}b.addCls(this.headerItemClsShortCache)},destroy:function(){this.doRemoveHeaders();this.callParent()}});Ext.define(\"Ext.data.StoreManager\",{extend:\"Ext.util.Collection\",alternateClassName:[\"Ext.StoreMgr\",\"Ext.data.StoreMgr\",\"Ext.StoreManager\"],singleton:true,uses:[\"Ext.data.ArrayStore\"],register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(c){if(Ext.isArray(c)){var b=[\"field1\"],e=!Ext.isArray(c[0]),f=c,d,a;if(e){f=[];for(d=0,a=c.length;d<a;++d){f.push([c[d]])}}else{for(d=2,a=c[0].length;d<=a;++d){b.push(\"field\"+d)}}return Ext.create(\"Ext.data.ArrayStore\",{data:f,fields:b,autoDestroy:true,autoCreated:true,expanded:e})}if(Ext.isString(c)){return this.get(c)}else{if(c instanceof Ext.data.Store){return c}else{return Ext.factory(c,Ext.data.Store,null,\"store\")}}},getKey:function(a){return a.getStoreId()}},function(){Ext.regStore=function(c,b){var a;if(Ext.isObject(c)){b=c}else{if(b instanceof Ext.data.Store){b.setStoreId(c)}else{b.storeId=c}}if(b instanceof Ext.data.Store){a=b}else{a=Ext.create(\"Ext.data.Store\",b)}return Ext.data.StoreManager.register(a)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define(\"Ext.field.Field\",{extend:\"Ext.Decorator\",alternateClassName:\"Ext.form.Field\",xtype:\"field\",requires:[\"Ext.field.Input\"],isField:true,isFormField:true,config:{baseCls:Ext.baseCSSPrefix+\"field\",label:null,labelAlign:\"left\",labelWidth:\"30%\",labelWrap:false,clearIcon:null,required:false,inputType:null,name:null,value:null,tabIndex:null},cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+\"field-required\",inputCls:null,bubbleEvents:[\"action\"]},getElementConfig:function(){var a=Ext.baseCSSPrefix;return{reference:\"element\",className:\"x-container\",children:[{reference:\"label\",cls:a+\"form-label\",children:[{reference:\"labelspan\",tag:\"span\"}]},{reference:\"innerElement\",cls:a+\"component-outer\"}]}},updateLabel:function(b,d){var a=this.renderElement,c=Ext.baseCSSPrefix;if(b){this.labelspan.setHtml(b);a.addCls(c+\"field-labeled\")}else{a.removeCls(c+\"field-labeled\")}},updateLabelAlign:function(b,c){var a=this.renderElement,d=Ext.baseCSSPrefix;if(b){a.addCls(d+\"label-align-\"+b);if(b==\"top\"||b==\"bottom\"){this.label.setWidth(\"100%\")}else{this.updateLabelWidth(this.getLabelWidth())}}if(c){a.removeCls(d+\"label-align-\"+c)}},updateLabelCls:function(a,b){if(a){this.label.addCls(a)}if(b){this.label.removeCls(b)}},updateLabelWidth:function(b){var a=this.getLabelAlign();if(b){if(a==\"top\"||a==\"bottom\"){this.label.setWidth(\"100%\")}else{this.label.setWidth(b)}}},updateLabelWrap:function(b,c){var a=Ext.baseCSSPrefix+\"form-label-nowrap\";if(!b){this.addCls(a)}else{this.removeCls(a)}},updateRequired:function(a){this.renderElement[a?\"addCls\":\"removeCls\"](this.getRequiredCls())},updateRequiredCls:function(a,b){if(this.getRequired()){this.renderElement.replaceCls(b,a)}},initialize:function(){var a=this;a.callParent();a.doInitValue()},doInitValue:function(){this.originalValue=this.getInitialConfig().value},reset:function(){this.setValue(this.originalValue);return this},isDirty:function(){return false}},function(){var a=this.prototype;this.override({constructor:function(b){b=b||{};var c=function(e,f,d){if(b.hasOwnProperty(e)){if(f){b[f]=b[f]||{};b[f][(d)?d:e]=b[f][(d)?d:e]||b[e]}else{b[d]=b[e]}delete b[e];Ext.Logger.deprecate(\"'\"+e+\"' config is deprecated, use the '\"+((f)?f+\".\":\"\")+((d)?d:e)+\"' config instead\",2)}};c(\"fieldCls\",null,\"inputCls\");c(\"fieldLabel\",null,\"label\");c(\"useClearIcon\",null,\"clearIcon\");if(b.hasOwnProperty(\"autoCreateField\")){Ext.Logger.deprecate(\"'autoCreateField' config is deprecated. If you are subclassing Ext.field.Field and you do not want a Ext.field.Input, set the 'input' config to false.\",this)}this.callOverridden(arguments)}});Ext.Object.defineProperty(a,\"fieldEl\",{get:function(){Ext.Logger.deprecate(\"'fieldEl' is deprecated, please use getInput() to get an instance of Ext.field.Field instead\",this);return this.getInput().input}});Ext.Object.defineProperty(a,\"labelEl\",{get:function(){Ext.Logger.deprecate(\"'labelEl' is deprecated\",this);return this.getLabel().element}})});Ext.define(\"Ext.ux.starrating.StarRating\",{extend:\"Ext.field.Field\",xtype:\"starrating\",config:{baseCls:Ext.baseCSSPrefix+\"field x-rating-field\",minValue:-1,defaultValue:-1,value:-1,clearCls:\"x-rating-clear\",clearIcon:false,itemsCount:5,itemCls:\"x-rating-star\",valueCls:\"x-rating-value\",itemHoverCls:\"x-rating-item-hover\",tooltips:\"\",disabled:false,component:{tpl:new Ext.XTemplate('<tpl for=\"items\">','<div index=\"{[xindex - 1]}\" class=\"{parent.itemCls} x-rating-item\">',\"</div>\",\"</tpl>\",'<tpl if=\"clearIcon\">','<div class=\"{clearCls}\">',\"</div>\",\"</tpl>\",{compile:true}),cls:\"x-rating-inner\"}},initialize:function(){var a=this;Ext.ux.starrating.StarRating.superclass.initialize.apply(a,arguments);a.element.on({scope:a,touchstart:a.onTouchStart,touchmove:a.onTouchMove,preventDefault:true})},updateComponent:function(d,e){this.callParent(arguments);if(e){}var c=this.innerElement,a=this.getCls();this.getComponent();var b=Ext.applyIf({items:new Array(this.getItemsCount()||0)},this.config);d._tpl.overwrite(d.element.dom,b);this.items=d.element.select(\".x-rating-item\",d.element.dom);if(this.config.clearIcon){this.clearBtn=d.element.down(\".\"+this.getClearCls());this.clearBtn.on(\"tap\",this.onClear,this)}},onTouchStart:function(a){if(this.clearBtn&&a.target==this.clearBtn.dom){this.onClear();return}this.onTouchMove(a)},onTouchMove:function(d){if(this.getDisabled()){return}var f=this.innerElement.getXY();var a=d.touches[0].pageX-f[0];if(!Ext.isDefined(this.diameter)){if(this.items.getCount()){var c=this.items.first().getSize();this.diameter=Math.min(c.height,c.width)}else{this.diameter=0}}var b=Math.floor(a/this.diameter);if(b>-1){this.setValue(b)}},applyValue:function(a){a=parseFloat(a);if(isNaN(a)||a===null){a=this.getDefaultValue()}a=Math.round(a*10)/10;this._value=a},displayValue:function(h){if(!this.rendered){this.on(\"painted\",Ext.Function.bind(this.displayValue,this,[h]),this,{single:true});return}var b=this.items;var f=b.getCount();var g=this.getItemCls();var a=this.getItemHoverCls();var c=this.getValueCls();var e=null;for(var d=0;d<f;d++){e=b.item(d);e[d<h?\"addCls\":\"removeCls\"](a);e[d<h?\"removeCls\":\"addCls\"](g);e.removeCls(c)}h=(h>=f?(f-1):h);h=(h<0?0:h);e=b.item(h);e.removeCls(a);e.removeCls(g);e.addCls(c)},setValue:function(d){var a=this._value;d=parseFloat(d);if(isNaN(d)||d===null){throw\"Argument exception: value argument is not a number.\"}var c=this.getMinValue();if(Ext.isNumber(c)&&d<c){d=c}var b=this.items?this.items.getCount():this.itemsCount;if(this.items&&d>this.items.getCount()){d=this.items.getCount()-1}this.callParent([d]);this.displayValue(d);this.fireEvent(\"change\",this,d,a)},reset:function(){this.setValue(this.getDefaultValue())},onClear:function(){if(!this.getDisabled()){this.setValue(this.getDefaultValue())}}},function(){Ext.deprecateProperty(this,\"showClear\",\"clearIcon\",\"Ext.ux.starrating.View.showClear has been removed, use showClear instead\");Ext.deprecateProperty(this,\"singleColorPerValue\",null,\"Ext.ux.starrating.View.singleColorPerValue has been removed\");Ext.deprecateProperty(this,\"useClearIcon\",null,\"Ext.ux.starrating.View.useClearIcon has been removed\")});Ext.define(\"Ext.field.Checkbox\",{extend:\"Ext.field.Field\",alternateClassName:\"Ext.form.Checkbox\",xtype:\"checkboxfield\",qsaLeftRe:/[\\[]/g,qsaRightRe:/[\\]]/g,isCheckbox:true,config:{ui:\"checkbox\",value:\"\",checked:false,tabIndex:-1,component:{xtype:\"input\",type:\"checkbox\",useMask:true,cls:Ext.baseCSSPrefix+\"input-checkbox\"}},initialize:function(){var a=this;a.callParent();a.getComponent().on({scope:a,order:\"before\",masktap:\"onMaskTap\"})},doInitValue:function(){var a=this,b=a.getInitialConfig();if(b.hasOwnProperty(\"value\")){a.originalState=b.value}if(b.hasOwnProperty(\"checked\")){a.originalState=b.checked}a.callParent(arguments)},updateInputType:function(a){var b=this.getComponent();if(b){b.setType(a)}},updateName:function(a){var b=this.getComponent();if(b){b.setName(a)}},getChecked:function(){this._checked=this.getComponent().getChecked();return this._checked},getSubmitValue:function(){return(this.getChecked())?this._value||true:null},setChecked:function(a){this.updateChecked(a);this._checked=a},updateChecked:function(a){this.getComponent().setChecked(a);if(this.initialized){this.onChange()}},onMaskTap:function(a,c){var b=this,d=a.input.dom;if(b.getDisabled()){return false}d.checked=!d.checked;b.onChange(c);return false},onChange:function(d){var c=this,b=c._checked,a=c.getChecked();if(b!=a){if(a){c.fireEvent(\"check\",c,d)}else{c.fireEvent(\"uncheck\",c,d)}}},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(true)},uncheck:function(){return this.setChecked(false)},getSameGroupFields:function(){var j=this.up(\"formpanel\")||this.up(\"fieldset\"),b=this.getName(),g=this.qsaLeftRe,c=this.qsaRightRe,f=[],a,d,e,h;if(!j){Ext.Logger.warn(\"Ext.field.Radio components must always be descendants of an Ext.form.Panel or Ext.form.FieldSet.\");j=Ext.Viewport}b=b.replace(g,\"\\\\[\");b=b.replace(c,\"\\\\]\");a=Ext.query(\"[name=\"+b+\"]\",j.element.dom);h=a.length;for(e=0;e<h;e++){d=a[e];d=Ext.fly(d).up(\".x-field-\"+d.getAttribute(\"type\"));if(d&&d.id){f.push(Ext.getCmp(d.id))}}return f},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){if(b.getChecked()){a.push(b.getValue())}});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked((a.indexOf(b.getValue())!==-1))});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});return this},reset:function(){this.setChecked(this.originalState);return this}});Ext.define(\"Ext.form.Panel\",{alternateClassName:\"Ext.form.FormPanel\",extend:\"Ext.Panel\",xtype:\"formpanel\",requires:[\"Ext.XTemplate\",\"Ext.field.Checkbox\",\"Ext.Ajax\"],config:{baseCls:Ext.baseCSSPrefix+\"form\",standardSubmit:false,url:null,baseParams:null,submitOnAction:false,record:null,method:\"post\",scrollable:{translationMethod:\"scrollposition\"}},getElementConfig:function(){var a=this.callParent();a.tag=\"form\";return a},initialize:function(){var a=this;a.callParent();a.element.on({submit:\"onSubmit\",scope:a})},updateRecord:function(c){var a,b,d;if(c&&(a=c.fields)){b=this.getValues();for(d in b){if(b.hasOwnProperty(d)&&a.containsKey(d)){c.set(d,b[d])}}}return this},setRecord:function(a){var b=this;if(a&&a.data){b.setValues(a.data)}b._record=a;return this},onSubmit:function(b){var a=this;if(b&&!a.getStandardSubmit()){b.stopEvent()}else{this.submit()}},updateSubmitOnAction:function(a){if(a){this.on({action:\"onFieldAction\",scope:this})}else{this.un({action:\"onFieldAction\",scope:this})}},onFieldAction:function(a){if(this.getSubmitOnAction()){a.blur();this.submit()}},submit:function(a){var c=this,b=c.element.dom||{},d;a=Ext.apply({url:c.getUrl()||b.action,submit:false,method:c.getMethod()||b.method||\"post\",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{});d=c.getValues(c.getStandardSubmit()||!a.submitDisabled);return c.fireAction(\"beforesubmit\",[c,d,a],\"doBeforeSubmit\")},doBeforeSubmit:function(f,h,b){var e=f.element.dom||{};if(f.getStandardSubmit()){if(b.url&&Ext.isEmpty(e.action)){e.action=b.url}var a=this.query(\"spinnerfield\"),d=a.length,c,g;for(c=0;c<d;c++){g=a[c];if(!g.getDisabled()){g.getComponent().setDisabled(false)}}e.method=(b.method||e.method).toLowerCase();e.submit()}else{if(b.waitMsg){f.setMasked(b.waitMsg)}return Ext.Ajax.request({url:b.url,method:b.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},f.getBaseParams()||{}),b.params||{},h)),autoAbort:b.autoAbort,headers:Ext.apply({\"Content-Type\":\"application/x-www-form-urlencoded; charset=UTF-8\"},b.headers||{}),scope:f,callback:function(i,n,j){var l=this,m=j.responseText,k;l.setMasked(false);k=function(){if(Ext.isFunction(b.failure)){b.failure.call(b.scope||l,l,j,m)}l.fireEvent(\"exception\",l,j)};if(n){j=Ext.decode(m);n=!!j.success;if(n){if(Ext.isFunction(b.success)){b.success.call(b.scope||l,l,j,m)}l.fireEvent(\"submit\",l,j)}else{k()}}else{k()}}})}},setValues:function(b){var a=this.getFields(),c,j,h,e,d,g;b=b||{};for(c in b){if(b.hasOwnProperty(c)){j=a[c];h=b[c];if(j){if(Ext.isArray(j)){e=j.length;for(d=0;d<e;d++){g=j[d];if(g.isRadio){g.setGroupValue(h)}else{if(g.isCheckbox){if(Ext.isArray(h)){g.setChecked((h.indexOf(g._value)!=-1))}else{g.setChecked((h==g._value))}}else{if(Ext.isArray(h)){g.setValue(h[d])}}}}}else{if(j.isRadio||j.isCheckbox){j.setChecked(h)}else{j.setValue(h)}}}}}return this},getValues:function(g){var f=this.getFields(),l={},e=Ext.isArray,j,k,b,c,a,h,d;b=function(m,i){if(m.isCheckbox){k=m.getSubmitValue()}else{k=m.getValue()}if(!(g&&m.getDisabled())){if(m.isRadio){if(m.isChecked()){l[i]=k}}else{c=l[i];if(c){if(!e(c)){c=l[i]=[c]}if(e(c)){c=l[i]=c.concat(k)}else{c.push(k)}}else{l[i]=k}}}};for(a in f){if(f.hasOwnProperty(a)){j=f[a];if(e(j)){h=j.length;for(d=0;d<h;d++){b(j[d],a)}}else{b(j,a)}}}return l},reset:function(){this.getFieldsAsArray().forEach(function(a){a.reset()});return this},enable:function(){this.getFieldsAsArray().forEach(function(a){a.enable()});return this},disable:function(){this.getFieldsAsArray().forEach(function(a){a.disable()});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a},getFields:function(b){var a={},d;var c=function(e){if(e.isField){d=e.getName();if((b&&d==b)||typeof b==\"undefined\"){if(a.hasOwnProperty(d)){if(!Ext.isArray(a[d])){a[d]=[a[d]]}a[d].push(e)}else{a[d]=e}}}if(e.isContainer){e.items.each(c)}};this.getItems().each(c);return(b)?(a[b]||[]):a},getFieldsArray:function(){var a=[];var b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.items.each(b)}};this.items.each(b);return a},getFieldsFromItem:Ext.emptyFn,showMask:function(a,b){Ext.Logger.warn(\"showMask is now deprecated. Please use Ext.form.Panel#setMasked instead\");a=Ext.isObject(a)?a.message:a;if(a){this.setMasked({xtype:\"loadmask\",message:a})}else{this.setMasked(true)}return this},hideMask:function(){this.setMasked(false);return this},getFocusedField:function(){var a=this.getFieldsArray(),c=a.length,d,b;for(b=0;b<c;b++){d=a[b];if(d.isFocused){return d}}return null},getNextField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==a.length-1){b++;return a[b]}}return false},focusNextField:function(){var a=this.getNextField();if(a){a.focus();return a}return false},getPreviousField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==0){b--;return a[b]}}return false},focusPreviousField:function(){var a=this.getPreviousField();if(a){a.focus();return a}return false}},function(){Ext.deprecateClassMethod(this,{loadRecord:\"setRecord\",loadModel:\"setRecord\",load:\"setRecord\"});this.override({constructor:function(a){if(a&&a.hasOwnProperty(\"waitMsgTarget\")){delete a.waitMsgTarget}this.callParent([a])}})});Ext.define(\"B2B.view._Login\",{extend:\"Ext.form.Panel\",id:\"_login\",xtype:\"_login\",config:{iconCls:\"settings6\",url:\"http://192.168.1.161\",styleHtmlContent:true,html:'Cannot login? <a href=\"#\">Send me my credentials via email!</a>',items:[{xtype:\"fieldset\",margin:\"50px auto\",id:\"_loginfieldset\",items:[{xtype:\"hiddenfield\",name:\"dateRequest\",value:new Date()},{xtype:\"textfield\",id:\"loginform_username\",name:\"username\",placeHolder:i18n.app.PLACEHOLDER_USERNAME,listeners:{keyup:function(a,b){if(b.browserEvent.keyCode==13||b.browserEvent.keyCode==10){b.stopEvent();a.element.dom.blur();window.scrollTo(0,0)}}}},{xtype:\"passwordfield\",id:\"loginform_password\",name:\"password\",placeHolder:i18n.app.PLACEHOLDER_PASSWORD,listeners:{keyup:function(a,b){if(b.browserEvent.keyCode==13||b.browserEvent.keyCode==10){b.stopEvent();a.element.dom.blur();window.scrollTo(0,0)}}}}]}],listeners:{element:\"element\",delegate:\"a\",tap:function(b,a){console.log(\"TEST\");b.preventDefault();b.stopPropagation()}}},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",id:\"BTN_login\",width:150,text:\"Log In\",margin:\"15px auto\",ui:\"action\",text:utils.__(i18n.app.BTN_LOGIN),handler:this.onLoginButtonTap};Ext.getCmp(\"_loginfieldset\").add([a])},onLoginButtonTap:function(){this.fireEvent(\"loginCommand\",this)}});Ext.define(\"B2B.view.Feedback_Form\",{extend:\"Ext.form.Panel\",xtype:\"feedbackform\",id:\"feedbackform\",initialize:function(){this.callParent(arguments);var a=[{xtype:\"textareafield\",id:\"textAreaComment\",src:\"\",flex:1},{xtype:\"button\",text:i18n.app.BTN_SEND,ui:\"action\",id:\"sendcomment_btn\",handler:this.onSendButtonTap,scope:this,height:50}];this.add(a)},onSendButtonTap:function(){this.fireEvent(\"sendCommentCommand\",this)}});Ext.define(\"B2B.view.User_Privacy_Form\",{extend:\"Ext.form.Panel\",id:\"userprofileprivacyform\",xtype:\"userprofileprivacyform\",config:{title:i18n.app.PANEL_PRIVACY,iconCls:\"settings6\",url:\"/cippa.php\"},initialize:function(){this.callParent(arguments);var d={text:i18n.app.BTN_CANCEL,ui:\"action\",id:\"cancel_privacy_btn\",handler:this.onCancelButtonTap,scope:this},b={xtype:\"titlebar\",title:i18n.app.PANEL_PRIVACY,cls:\"sub_titlebar\",docked:\"top\",id:\"PrivacyTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[d]},c={xtype:\"fieldset\",title:utils.__(i18n.app.FORM_PRIVACY),instructions:utils.__(i18n.app.HINT_CAREFULLY),items:[{xtype:\"panel\",layout:\"vbox\",items:[{xtype:\"button\",id:\"BTN_removeData\",text:utils.__(i18n.app.BTN_REMOVEPERSONAL),ui:\"decline-small\",handler:this.onRemoveDataButtonTap}]}]},a={xtype:\"button\",id:\"BTN_logOut\",text:utils.__(i18n.app.BTN_LOGOUT),ui:\"decline\",handler:this.onLogoutButtonTap};this.add([b,c,a])},onRemoveDataButtonTap:function(){this.fireEvent(\"privacyRemoveDataCommand\",this)},onLogoutButtonTap:function(){this.fireEvent(\"privacyLogoutCommand\",this)},onCancelButtonTap:function(){this.fireEvent(\"cancelCommand\",this)}});Ext.define(\"B2B.view.View_Terms\",{extend:\"Ext.form.Panel\",xtype:\"viewterms\",config:{title:i18n.app.PANEL_TERMS,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>Terms of Service</h1>\",i18n.app.TEXT_LOREM,].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_TERMS,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"DisclaimerTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.View_Whatsnew\",{extend:\"Ext.form.Panel\",xtype:\"viewwhatsnew\",config:{title:i18n.app.PANEL_WHATSNEW,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>Whats New</h1>\",i18n.app.TEXT_LOREM,].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_WHATSNEW,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"WhatsnewTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.View_AboutUs\",{extend:\"Ext.form.Panel\",xtype:\"viewaboutus\",config:{title:i18n.app.PANEL_TERMS,iconCls:\"settings6\",styleHtmlContent:true,cls:\"slidableToolbar\",html:[\"<h1>About Us</h1>\",i18n.app.TEXT_LOREM].join(\"\")},initialize:function(){this.callParent(arguments);var a={xtype:\"toolbar\",title:i18n.app.LABEL_ABOUTUS,cls:\"sub_titlebar, slidableToolbar\",docked:\"top\",id:\"AboutusTitlebar\",defaults:{iconMask:true}};this.add([a])}});Ext.define(\"B2B.view.Badge_Detail\",{extend:\"Ext.form.Panel\",id:\"badgedetailpanel\",xtype:\"badgedetailpanel\",config:{title:i18n.app.PANEL_BADGEDETAIL,items:[],html:[\"<h1>Badge Detail</h1>\",\"I changed the default <b>HTML Contents</b> to something different!\"].join(\"\")},initialize:function(){this.callParent(arguments);var b={text:i18n.app.BTN_BACK,ui:\"back\",id:\"BackBadgeDetailBtn\",handler:this.onBackButtonTap,scope:this},d=this.jsonData.title,c={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:(_.isEmpty(d)?i18n.app.PANEL_BADGEDETAIL:d),id:\"BadgeDetailTitlebar\",defaults:{iconMask:true},items:[b,{xtype:\"spacer\"}]},a=this.getStringHTMLFromValues(this.jsonData);this.add([c]);this.setHtml(a)},getStringHTMLFromValues:function(a){var b=\"\";b+='<div class=\"badge-detail\">';b+='<img class=\"badge-image-big\" src=\"';if(_.isEmpty(a.imageUlr)){b+=HH.default_badge64}else{b+=a.imageUrl}b+='\" width=\"200\" height=\"200\" />';b+=\"<hr />\";b+='<p class=\"badge-title\"><b>'+a.title+\"</b></p>\";b+='<p class=\"badge-description\">'+a.description+\"</p>\";b+=\"</div>\";return b},onBackButtonTap:function(){this.fireEvent(\"backBadgesCommand\",this)}});Ext.define(\"Ext.field.Text\",{extend:\"Ext.field.Field\",xtype:\"textfield\",alternateClassName:\"Ext.form.Text\",config:{ui:\"text\",clearIcon:true,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:\"input\",type:\"text\"}},initialize:function(){var a=this;a.callParent();a.getComponent().on({scope:this,keyup:\"onKeyUp\",change:\"onChange\",focus:\"onFocus\",blur:\"onBlur\",paste:\"onPaste\",mousedown:\"onMouseDown\",clearicontap:\"onClearIconTap\"});a.originalValue=a.originalValue||\"\";a.getComponent().originalValue=a.originalValue;a.syncEmptyCls()},syncEmptyCls:function(){var b=(this._value)?this._value.length:false,a=Ext.baseCSSPrefix+\"empty\";if(b){this.removeCls(a)}else{this.addCls(a)}},updateValue:function(b){var a=this.getComponent();if(a){a.setValue(b)}this[b?\"showClearIcon\":\"hideClearIcon\"]();this.syncEmptyCls()},getValue:function(){var a=this;a._value=a.getComponent().getValue();a.syncEmptyCls();return a._value},updatePlaceHolder:function(a){this.getComponent().setPlaceHolder(a)},updateMaxLength:function(a){this.getComponent().setMaxLength(a)},updateAutoComplete:function(a){this.getComponent().setAutoComplete(a)},updateAutoCapitalize:function(a){this.getComponent().setAutoCapitalize(a)},updateAutoCorrect:function(a){this.getComponent().setAutoCorrect(a)},updateReadOnly:function(a){if(a){this.hideClearIcon()}else{this.showClearIcon()}this.getComponent().setReadOnly(a)},updateInputType:function(a){var b=this.getComponent();if(b){b.setType(a)}},updateName:function(a){var b=this.getComponent();if(b){b.setName(a)}},updateTabIndex:function(b){var a=this.getComponent();if(a){a.setTabIndex(b)}},updateInputCls:function(a,b){var c=this.getComponent();if(c){c.replaceCls(b,a)}},doSetDisabled:function(b){var c=this;c.callParent(arguments);var a=c.getComponent();if(a){a.setDisabled(b)}if(b){c.hideClearIcon()}else{c.showClearIcon()}},showClearIcon:function(){var a=this;if(!a.getDisabled()&&!a.getReadOnly()&&a.getValue()&&a.getClearIcon()){a.element.addCls(Ext.baseCSSPrefix+\"field-clearable\")}return a},hideClearIcon:function(){if(this.getClearIcon()){this.element.removeCls(Ext.baseCSSPrefix+\"field-clearable\")}},onKeyUp:function(a){this.fireAction(\"keyup\",[this,a],\"doKeyUp\")},doKeyUp:function(a,c){var b=a.getValue();a[b?\"showClearIcon\":\"hideClearIcon\"]();if(c.browserEvent.keyCode===13){a.fireAction(\"action\",[a,c],\"doAction\")}},doAction:function(){this.blur()},onClearIconTap:function(a){this.fireAction(\"clearicontap\",[this,a],\"doClearIconTap\")},doClearIconTap:function(a,b){a.setValue(\"\");a.getValue()},onChange:function(b,c,a){b.fireEvent(\"change\",this,c,a)},onFocus:function(a){this.isFocused=true;this.fireEvent(\"focus\",this,a)},onBlur:function(b){var a=this;this.isFocused=false;a.fireEvent(\"blur\",a,b);setTimeout(function(){a.isFocused=false},50)},onPaste:function(a){this.fireEvent(\"paste\",this,a)},onMouseDown:function(a){this.fireEvent(\"mousedown\",this,a)},focus:function(){this.getComponent().focus();return this},blur:function(){this.getComponent().blur();return this},select:function(){this.getComponent().select();return this},reset:function(){this.getComponent().reset();this.getValue();this[this._value?\"showClearIcon\":\"hideClearIcon\"]()},isDirty:function(){var a=this.getComponent();if(a){return a.isDirty()}return false}});Ext.define(\"Ext.field.Search\",{extend:\"Ext.field.Text\",xtype:\"searchfield\",alternateClassName:\"Ext.form.Search\",config:{component:{type:\"search\"},ui:\"search\"}});Ext.define(\"B2B.view.Beer_Search\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"beersearch\",id:\"beersearch\",config:{docked:\"top\",items:[{}]},initialize:function(){this.callParent(arguments);var b=0;var a=Ext.getStore(\"Beers_Ajax\");var g=[];var f={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"beerfiltersearch\",flex:1,listeners:{scope:this,clearicontap:function(j){var i=Ext.getCmp(\"beerlist\");var h=Ext.getCmp(\"searchinfobar\");j.setValue(\"\");i.setStore(null);a.filterBy(function(k){return false});i.setStore(a);h.setHtml(i18n.app.HINT_SEARCH2CHAR)},keyup:function(r,o){var s=r.getValue();s=s.replace(/[^a-zA-Z 0-9]+/g,\"\");var t=Ext.getCmp(\"beerlist\");var m=Ext.getCmp(\"_splashbeersearch\");var n=Ext.getCmp(\"beerlistcontainer\");var j=Ext.getCmp(\"searchinfobar\");if((!s||s<b)){t.setStore(null)}b=s;if(s.length>2){t.setStore(null);a.clearFilter();var q=s.split(\" \"),p=[],l;for(l=0;l<q.length;l++){if(!q[l]){return}p.push(new RegExp(q[l],\"i\"))}a.filterBy(function(u){var i=[];for(l=0;l<p.length;l++){var v=p[l];if(u.get(\"name\").match(v)){i.push(true)}else{i.push(false)}}if(p.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}});var h=a.getCount();if(h>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR,a.getCount()));t.setStore(a)}else{j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}}else{t.setStore(null);a.filterBy(function(i){return false})}t.setStore(a);if(!a.getCount()>0){if(s.length<3&&s.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR,3-s.length))}else{if(s.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}else{j.setHtml(i18n.app.HINT_SEARCH2CHAR)}}}if(o.browserEvent.keyCode==13||o.browserEvent.keyCode==10){o.stopEvent();r.element.dom.blur();window.scrollTo(0,0);var k=t.setActiveItem(1);console.log(t.getActiveItem())}}}};var e={xtype:\"button\",text:i18n.app.BTN_ADDBEER,ui:\"action\",id:\"add_beer_btn\",handler:this.onAddBeerButtonTap,scope:this};var c={xtype:\"toolbar\",cls:\"sub_titlebar\",id:\"beersearchtoolbar\",ui:\"neutral\",docked:\"top\",items:[f,e]};var d={xtype:\"container\",id:\"searchinfobar\",docked:\"top\",html:\"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"};this.add([c,d])},onAddBeerButtonTap:function(){this.fireEvent(\"beerAddCommand\",this)}});Ext.define(\"B2B.view.Beer_List_SelectSearchComponent\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"beerlistselectsearchcomponent\",id:\"beerlistselectsearchcomponent\",config:{docked:\"top\"},initialize:function(){this.callParent(arguments);var b=0;var a=Ext.getStore(\"Beers_Ajax\");var g=[];var f={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"beerfiltersearch\",flex:1,listeners:{scope:this,clearicontap:function(j){var i=Ext.getCmp(\"beerlistselect\");var h=Ext.getCmp(\"searchinfobarselect\");j.setValue(\"\");i.setStore(null);a.filterBy(function(k){return false});i.setStore(a);h.setHtml(i18n.app.HINT_SEARCH2CHAR)},keyup:function(q,n){var r=q.getValue();r=r.replace(/[^a-zA-Z 0-9]+/g,\"\");var s=Ext.getCmp(\"beerlistselect\");var m=Ext.getCmp(\"beerlistselectcontainer\");var j=Ext.getCmp(\"searchinfobarselect\");if((!r||r<b)){s.setStore(null)}b=r;if(r.length>2){s.setStore(null);a.clearFilter();var o=r.split(\" \"),p=[],l;for(l=0;l<o.length;l++){if(!o[l]){return}p.push(new RegExp(o[l],\"i\"))}a.filterBy(function(t){var i=[];for(l=0;l<p.length;l++){var u=p[l];if(t.get(\"name\").match(u)){i.push(true)}else{i.push(false)}}if(p.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}});var h=a.getCount();if(h>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHRESCHAR,a.getCount()));s.setStore(a)}else{j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}}else{s.setStore(null);a.filterBy(function(i){return false})}s.setStore(a);if(!a.getCount()>0){if(r.length<3&&r.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCH1CHAR,3-r.length))}else{if(r.length>0){j.setHtml(utils.__(i18n.app.HINT_SEARCHNORES))}else{j.setHtml(i18n.app.HINT_SEARCH2CHAR)}}}if(n.browserEvent.keyCode==13||n.browserEvent.keyCode==10){n.stopEvent();q.element.dom.blur();window.scrollTo(0,0);var k=s.setActiveItem(1);console.log(s.getActiveItem())}}}};var e={xtype:\"button\",text:i18n.app.BTN_ADDBEER,ui:\"action\",id:\"add_beerselect_btn\",handler:this.onAddBeerButtonTap,scope:this};var c={xtype:\"toolbar\",cls:\"sub_titlebar\",id:\"searchselectbeercomponenttoolbar\",ui:\"neutral\",docked:\"top\",items:[f,e]};var d={xtype:\"container\",id:\"searchinfobarselect\",docked:\"top\",html:\"<span class='searchInfoBar'>\"+i18n.app.HINT_SEARCH2CHAR+\"</span>\"};this.add([c,d])},onAddBeerButtonTap:function(){this.fireEvent(\"beerAddCommand\",this)}});Ext.define(\"B2B.view.Friend_Search\",{extend:\"Ext.Panel\",requires:[\"Ext.field.Search\"],xtype:\"friendsearch\",id:\"friendsearch\",config:{docked:\"top\"},initialize:function(){this.callParent(arguments);var a=0;var c={xtype:\"button\",text:i18n.app.BTN_SEARCHFRIEND,ui:\"action\",id:\"search_friend_btn\",handler:this.onSearchFriendButtonTap,scope:this};var d={xtype:\"searchfield\",placeHolder:i18n.app.LABEL_SEARCH,name:\"friendfiltersearch\",flex:1,listeners:{scope:this,keyup:function(k){var j=k.getValue();var f=Ext.getStore(\"Friends_Local\");if(j<a){f.clearFilter()}a=j;if(!j){f.filterBy(function(){return true})}else{var h=j.split(\" \"),e=[],g;for(g=0;g<h.length;g++){if(!h[g]){return}e.push(new RegExp(h[g],\"i\"))}f.filterBy(function(l){var i=[];for(g=0;g<e.length;g++){var m=e[g];if(l.get(\"displayName\").match(m)||l.get(\"firstName\").match(m)||l.get(\"lastName\").match(m)){i.push(true)}else{i.push(false)}}if(e.length>1&&i.indexOf(false)!=-1){return false}else{return i[0]}})}}}};var b={xtype:\"toolbar\",id:\"searchfriendcomponenttoolbar\",cls:\"sub_titlebar\",ui:\"neutral\",docked:\"top\",items:[d,c]};this.add([b])},onSearchFriendButtonTap:function(){this.fireEvent(\"searchFriendCommand\",this)}});Ext.define(\"Ext.field.Hidden\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.Hidden\",xtype:\"hiddenfield\",config:{component:{xtype:\"input\",type:\"hidden\"},ui:\"hidden\",hidden:true,tabIndex:-1}});Ext.define(\"Ext.field.Password\",{extend:\"Ext.field.Text\",xtype:\"passwordfield\",alternateClassName:\"Ext.form.Password\",config:{autoCapitalize:false,component:{type:\"password\"}}});Ext.define(\"B2B.view.User_Preferences_Form\",{extend:\"Ext.form.Panel\",xtype:\"userpreferencesform\",id:\"userpreferencesform\",requires:[\"Ext.form.FieldSet\",\"Ext.field.Password\"],config:{title:i18n.app.PANEL_PREFERENCES,iconCls:\"settings6\",url:\"/cippa.php\"},initialize:function(){this.callParent(arguments);var e={text:i18n.app.BTN_SAVE,ui:\"action\",id:\"save_preferences_btn\",handler:this.onSavePreferencesButtonTap,scope:this},g={text:i18n.app.BTN_CANCEL,ui:\"action\",id:\"cancel_preferences_btn\",handler:this.onCancelButtonTap,scope:this},d={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_PREFERENCES,id:\"PreferencesFormTitlebar\",ui:\"neutral\",defaults:{iconMask:true},items:[g,{xtype:\"spacer\"},e]},b={xtype:\"fieldset\",title:i18n.app.PANEL_NOTIFICATION,items:[{xtype:\"iostogglefield\",name:\"enableNotification\",label:i18n.app.FORM_NOTIFICATIONENABLE,listeners:{change:function(j,h,k,i){HH.log(\"Notification Toggle\")}}}]},a={xtype:\"iostogglefield\",id:\"twitterToggle\",name:\"shareTwitter\",label:i18n.app.FORM_SHARETWITTER,listeners:{change:function(j,h,k,i){if(i==0){me.onShareTwitterToggle(false)}else{me.onShareTwitterToggle(true)}}}},c={xtype:\"iostogglefield\",id:\"facebookToggle\",name:\"shareFacebook\",label:i18n.app.FORM_SHAREFACEBOOK,listeners:{change:function(j,h,k,i){if(i==0){me.onShareFacebookToggle(false)}else{me.onShareFacebookToggle(true)}}}},f={xtype:\"fieldset\",title:i18n.app.PANEL_SHARE,id:\"fieldset_share\",items:[a,c]};this.add([d,b,f])},activate:function(){this.fireEvent(\"showPreferencesCommand\",this)},onSavePreferencesButtonTap:function(){this.fireEvent(\"savePreferencesCommand\",this)},onShareTwitterToggle:function(a){this.fireEvent(\"toggleTwitterCommand\",this,a)},onShareFacebookToggle:function(a){this.fireEvent(\"toggleFacebookCommand\",this,a)},onCancelButtonTap:function(){this.fireEvent(\"cancelCommand\",this)}});Ext.define(\"Ext.carousel.Item\",{extend:\"Ext.Decorator\",config:{baseCls:\"x-carousel-item\",component:null,translatable:true}});Ext.define(\"Ext.carousel.Carousel\",{extend:\"Ext.Container\",alternateClassName:\"Ext.Carousel\",xtype:\"carousel\",requires:[\"Ext.fx.easing.EaseOut\",\"Ext.carousel.Item\",\"Ext.carousel.Indicator\"],config:{baseCls:\"x-carousel\",direction:\"horizontal\",directionLock:false,animation:{duration:250,easing:{type:\"ease-out\"}},indicator:true,ui:\"dark\",itemConfig:{},bufferSize:1,itemLength:null},itemLength:0,offset:0,flickStartOffset:0,flickStartTime:0,dragDirection:0,count:0,painted:false,activeIndex:-1,beforeInitialize:function(){this.animationListeners={animationframe:\"onActiveItemAnimationFrame\",animationend:\"onActiveItemAnimationEnd\",scope:this};this.element.on({dragstart:\"onDragStart\",drag:\"onDrag\",dragend:\"onDragEnd\",scope:this});this.on({painted:\"onPainted\",erased:\"onErased\",resize:\"onSizeChange\"});this.carouselItems=[];this.orderedCarouselItems=[];this.inactiveCarouselItems=[];this.hiddenTranslation=0},updateBufferSize:function(n){var l=Ext.carousel.Item,h=n*2+1,m=this.isRendered(),c=this.innerElement,g=this.carouselItems,f=g.length,e=this.getItemConfig(),d=this.getItemLength(),j=this.getDirection(),b=j===\"horizontal\"?\"setWidth\":\"setHeight\",a,k;for(a=f;a<h;a++){k=Ext.factory(e,l);if(d){k[b].call(k,d)}g.push(k);c.append(k.renderElement);if(m&&k.setRendered(true)){k.fireEvent(\"renderedchange\",this,k,true)}}},getActiveCarouselItem:function(){return this.orderedCarouselItems[this.getBufferSize()]},setRendered:function(g){var a=this.rendered;if(g!==a){this.rendered=g;var b=this.items.items,d=this.carouselItems,c,f,e;for(c=0,f=b.length;c<f;c++){e=b[c];if(!e.isInnerItem()){e.setRendered(g)}}for(c=0,f=d.length;c<f;c++){d[c].setRendered(g)}return true}return false},onPainted:function(){this.painted=true;this.refresh();this.refreshCarouselItems()},onErased:function(){this.painted=false},onSizeChange:function(){this.refreshSizing();this.refreshCarouselItems();this.refreshOffset()},onItemAdd:function(c,b){this.callParent(arguments);var d=this.getInnerItems().indexOf(c),a=this.getIndicator();if(a&&c.isInnerItem()){a.addIndicator()}if(d<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.painted&&this.isIndexDirty(d)){this.refreshActiveItem()}},doItemLayoutAdd:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onItemRemove:function(f,b){this.callParent(arguments);var h=this.getInnerItems().indexOf(f),a=this.getIndicator(),d=this.carouselItems,c,e,g;if(f.isInnerItem()&&a){a.removeIndicator()}if(h<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(h)){for(c=0,e=d.length;c<e;c++){g=d[c];if(g.getComponent()===f){g.setComponent(null)}}if(this.painted){this.refreshActiveItem()}}},doItemLayoutRemove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},onInnerItemMove:function(b,c,a){if(this.painted&&(this.isIndexDirty(c)||this.isIndexDirty(a))){this.refreshActiveItem()}},doItemLayoutMove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},isIndexDirty:function(b){var a=this.getActiveIndex(),c=this.getBufferSize();return(b>=a-c&&b<=a+c)},onDragStart:function(f){var d=this.getDirection(),b=f.absDeltaX,a=f.absDeltaY,c=this.getDirectionLock();this.isDragging=true;if(c){if((d===\"horizontal\"&&b>a)||(d===\"vertical\"&&a>b)){f.stopPropagation()}else{this.isDragging=false;return}}if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation()}this.dragStartOffset=this.offset;this.dragDirection=0},onDrag:function(j){if(!this.isDragging){return}var k=this.dragStartOffset,l=this.getDirection(),m=l===\"horizontal\"?j.deltaX:j.deltaY,a=this.offset,i=this.flickStartTime,c=this.dragDirection,b=Ext.Date.now(),h=this.getActiveIndex(),f=this.getMaxItemIndex(),d=c,g;if((h===0&&m>0)||(h===f&&m<0)){m*=0.5}g=k+m;if(g>a){c=1}else{if(g<a){c=-1}}if(c!==d||(b-i)>300){this.flickStartOffset=a;this.flickStartTime=b}this.dragDirection=c;this.setOffset(g)},onDragEnd:function(j){if(!this.isDragging){return}this.onDrag(j);this.isDragging=false;var a=Ext.Date.now(),i=this.itemLength,g=i/2,f=this.offset,m=this.getActiveIndex(),c=this.getMaxItemIndex(),h=0,l=f-this.flickStartOffset,b=a-this.flickStartTime,k=this.getIndicator(),d;if(b>0&&Math.abs(l)>=10){d=l/b;if(Math.abs(d)>=1){if(d<0&&m<c){h=-1}else{if(d>0&&m>0){h=1}}}}if(h===0){if(m<c&&f<-g){h=-1}else{if(m>0&&f>g){h=1}}}if(k){k.setActiveIndex(m-h)}this.animationDirection=h;this.setOffsetAnimated(h*i)},applyAnimation:function(a){a.easing=Ext.factory(a.easing,Ext.fx.easing.EaseOut);return a},updateDirection:function(b){var a=this.getIndicator();this.currentAxis=(b===\"horizontal\")?\"x\":\"y\";if(a){a.setDirection(b)}},setOffset:function(e){var k=this.orderedCarouselItems,c=this.getBufferSize(),g=k[c],j=this.itemLength,d=this.currentAxis,a,h,b,f;this.offset=e;e+=this.itemOffset;if(g){g.translateAxis(d,e);for(f=1,b=0;f<=c;f++){h=k[c-f];if(h){b+=j;h.translateAxis(d,e-b)}}for(f=1,b=0;f<=c;f++){a=k[c+f];if(a){b+=j;a.translateAxis(d,e+b)}}}return this},setOffsetAnimated:function(c){var b=this.orderedCarouselItems[this.getBufferSize()],a=this.getIndicator();if(a){a.setActiveIndex(this.getActiveIndex()-this.animationDirection)}this.offset=c;c+=this.itemOffset;if(b){this.isAnimating=true;b.getTranslatable().on(this.animationListeners);b.translateAxis(this.currentAxis,c,this.getAnimation())}return this},onActiveItemAnimationFrame:function(k){var j=this.orderedCarouselItems,c=this.getBufferSize(),h=this.itemLength,d=this.currentAxis,e=k[d],g,a,f,b;for(f=1,b=0;f<=c;f++){g=j[c-f];if(g){b+=h;g.translateAxis(d,e-b)}}for(f=1,b=0;f<=c;f++){a=j[c+f];if(a){b+=h;a.translateAxis(d,e+b)}}},onActiveItemAnimationEnd:function(b){var c=this.getActiveIndex(),a=this.animationDirection,e=this.currentAxis,f=b[e],d=this.itemLength,g;this.isAnimating=false;b.un(this.animationListeners);if(a===-1){g=d+f}else{if(a===1){g=f-d}else{g=f}}g-=this.itemOffset;this.offset=g;this.setActiveItem(c-a)},refresh:function(){this.refreshSizing();this.refreshActiveItem()},refreshSizing:function(){var a=this.element,b=this.getItemLength(),c,d;if(this.getDirection()===\"horizontal\"){d=a.getWidth()}else{d=a.getHeight()}this.hiddenTranslation=-d;if(b===null){b=d;c=0}else{c=(d-b)/2}this.itemLength=b;this.itemOffset=c},refreshOffset:function(){this.setOffset(this.offset)},refreshActiveItem:function(){this.doSetActiveItem(this.getActiveItem())},getActiveIndex:function(){return this.activeIndex},refreshActiveIndex:function(){this.activeIndex=this.getInnerItemIndex(this.getActiveItem())},refreshCarouselItems:function(){var a=this.carouselItems,b,d,c;for(b=0,d=a.length;b<d;b++){c=a[b];c.getTranslatable().refresh()}this.refreshInactiveCarouselItems()},refreshInactiveCarouselItems:function(){var a=this.inactiveCarouselItems,f=this.hiddenTranslation,c=this.currentAxis,b,e,d;for(b=0,e=a.length;b<e;b++){d=a[b];d.translateAxis(c,f)}},getMaxItemIndex:function(){return this.innerItems.length-1},getInnerItemIndex:function(a){return this.innerItems.indexOf(a)},getInnerItemAt:function(a){return this.innerItems[a]},applyActiveItem:function(){var b=this.callParent(arguments),a;if(b){a=this.getInnerItemIndex(b);if(a!==-1){this.activeIndex=a;return b}}},doSetActiveItem:function(g){var q=this.getActiveIndex(),e=this.getMaxItemIndex(),m=this.getIndicator(),c=this.getBufferSize(),k=this.carouselItems.slice(),n=this.orderedCarouselItems,p={},o={},a,l,b,f,h,j,d;if(k.length===0){return}this.callParent(arguments);n.length=0;if(g){b=g.getId();o[b]=g;p[b]=c;if(q>0){for(f=1;f<=c;f++){h=q-f;if(h>=0){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c-f}else{break}}}if(q<e){for(f=1;f<=c;f++){h=q+f;if(h<=e){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c+f}else{break}}}for(f=0,j=k.length;f<j;f++){d=k[f];l=d.getComponent();if(l){b=l.getId();if(p.hasOwnProperty(b)){k.splice(f,1);f--;j--;delete o[b];n[p[b]]=d}}}for(b in o){if(o.hasOwnProperty(b)){a=o[b];d=k.pop();d.setComponent(a);n[p[b]]=d}}}this.inactiveCarouselItems.length=0;this.inactiveCarouselItems=k;this.refreshOffset();this.refreshInactiveCarouselItems();if(m){m.setActiveIndex(q)}},next:function(){if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation();this.setOffset(0)}if(this.activeIndex===this.getMaxItemIndex()){return this}this.animationDirection=-1;this.setOffsetAnimated(-this.itemLength);return this},previous:function(){if(this.isAnimating){this.getActiveCarouselItem().getTranslatable().stopAnimation();this.setOffset(0)}if(this.activeIndex===0){return this}this.animationDirection=1;this.setOffsetAnimated(this.itemLength);return this},applyIndicator:function(a,b){return Ext.factory(a,Ext.carousel.Indicator,b)},updateIndicator:function(a){if(a){this.insertFirst(a);a.setUi(this.getUi());a.on({next:\"next\",previous:\"previous\",scope:this})}},destroy:function(){var a=this.carouselItems.slice();this.carouselItems.length=0;Ext.destroy(a,this.getIndicator());this.callParent();delete this.carouselItems}},function(){this.override({constructor:function(b){if(b&&\"activeIndex\" in b){Ext.Logger.deprecate(\"'activeIndex' config is deprecated, please use 'activeItem' config instead }\");b.activeItem=b.activeIndex}this.callParent([b])}});Ext.deprecateClassMethod(this,{isVertical:function a(){return this.getDirection()===\"vertical\"},isHorizontal:function a(){return this.getDirection()===\"horizontal\"},prev:\"previous\"})});Ext.define(\"B2B.view.User_Container\",{extend:\"Ext.Container\",xtype:\"userprofilecontainerpanel\",requires:[\"Ext.carousel.Carousel\"],config:{title:i18n.app.LABEL_ABOUT,iconCls:\"user\",cls:\"cards\",layout:{type:\"vbox\",align:\"stretch\"},defaults:{flex:1},items:[{xtype:\"carousel\",items:[{xtype:\"userprofile\",cls:\"card\"},{xtype:\"userpreferencesform\",cls:\"card\"},{xtype:\"userprofileprivacyform\",cls:\"card\"}]}]}});Ext.define(\"Ext.data.Types\",{singleton:true,requires:[\"Ext.data.SortTypes\"],stripRe:/[\\$,%]/g,dashesRe:/-/g,iso8601TestRe:/\\d\\dT\\d\\d/,iso8601SplitRe:/[- :T\\.Z\\+]/},function(){var b=this,a=Ext.data.SortTypes;Ext.apply(b,{AUTO:{convert:function(c){return c},sortType:a.none,type:\"auto\"},STRING:{convert:function(c){return(c===undefined||c===null)?(this.getAllowNull()?null:\"\"):String(c)},sortType:a.asUCString,type:\"string\"},INT:{convert:function(c){return(c!==undefined&&c!==null&&c!==\"\")?((typeof c===\"number\")?parseInt(c,10):parseInt(String(c).replace(b.stripRe,\"\"),10)):(this.getAllowNull()?null:0)},sortType:a.none,type:\"int\"},FLOAT:{convert:function(c){return(c!==undefined&&c!==null&&c!==\"\")?((typeof c===\"number\")?c:parseFloat(String(c).replace(b.stripRe,\"\"),10)):(this.getAllowNull()?null:0)},sortType:a.none,type:\"float\"},BOOL:{convert:function(c){if((c===undefined||c===null||c===\"\")&&this.getAllowNull()){return null}return c!==\"false\"&&!!c},sortType:a.none,type:\"bool\"},DATE:{convert:function(e){var c=this.getDateFormat(),d;if(!e){return null}if(Ext.isDate(e)){return e}if(c){if(c==\"timestamp\"){return new Date(e*1000)}if(c==\"time\"){return new Date(parseInt(e,10))}return Ext.Date.parse(e,c)}d=new Date(Date.parse(e));if(isNaN(d)){if(b.iso8601TestRe.test(e)){d=e.split(b.iso8601SplitRe);d=new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])}if(isNaN(d)){d=new Date(Date.parse(e.replace(this.dashesRe,\"/\")));if(isNaN(d)){Ext.Logger.warn(\"Cannot parse the passed value (\"+e+\") into a valid date\")}}}return isNaN(d)?null:d},sortType:a.asDate,type:\"date\"}});Ext.apply(b,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define(\"Ext.data.Field\",{requires:[\"Ext.data.Types\",\"Ext.data.SortTypes\"],alias:\"data.field\",isField:true,config:{name:null,type:\"auto\",convert:undefined,dateFormat:null,allowNull:true,defaultValue:undefined,mapping:null,sortType:undefined,sortDir:\"ASC\",allowBlank:true,persist:true,encode:null,decode:null,bubbleEvents:\"action\"},constructor:function(a){if(Ext.isString(a)){a={name:a}}this.initConfig(a)},applyType:function(c){var b=Ext.data.Types,a=b.AUTO;if(c){if(Ext.isString(c)){return b[c.toUpperCase()]||a}else{return c}}return a},updateType:function(a,b){var c=this.getConvert();if(b&&c===b.convert){this.setConvert(a.convert)}},applySortType:function(d){var c=Ext.data.SortTypes,a=this.getType(),b=a.sortType;if(d){if(Ext.isString(d)){return c[d]||b}else{return d}}return b},applyConvert:function(b){var a=this.getType().convert;if(b&&b!==a){this._hasCustomConvert=true;return b}else{this._hasCustomConvert=false;return a}},hasCustomConvert:function(){return this._hasCustomConvert}},function(){Ext.deprecateProperty(this,\"useNull\",\"allowNull\")});Ext.define(\"Ext.AbstractManager\",{requires:[\"Ext.util.HashMap\"],typeName:\"type\",constructor:function(a){Ext.apply(this,a||{});this.all=Ext.create(\"Ext.util.HashMap\");this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){Ext.Error.raise(\"The '\"+b+\"' type has not been registered with this manager\")}return new c(a)},onAvailable:function(e,c,b){var a=this.all,d;if(a.containsKey(e)){d=a.get(e);c.call(b||d,d)}else{a.on(\"add\",function(h,f,g){if(f==e){c.call(b||g,g);a.un(\"add\",c,b)}})}},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}});Ext.define(\"Ext.data.ModelManager\",{extend:\"Ext.AbstractManager\",alternateClassName:[\"Ext.ModelMgr\",\"Ext.ModelManager\"],singleton:true,modelNamespace:null,registerType:function(c,b){var d=b.prototype,a;if(d&&d.isModel){a=b}else{b={extend:b.extend||\"Ext.data.Model\",config:b};a=Ext.define(c,b)}this.types[c]=a;return a},onModelDefined:Ext.emptyFn,getModel:function(b){var a=b;if(typeof a==\"string\"){a=this.types[a];if(!a&&this.modelNamespace){a=this.types[this.modelNamespace+\".\"+a]}}return a},create:function(c,b,d){var a=typeof b==\"function\"?b:this.types[b||c.name];return new a(c,d)}},function(){Ext.regModel=function(){Ext.Logger.deprecate('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define(\"MyModel\", {extend: \"Ext.data.Model\", fields: []});.');return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define(\"Ext.data.association.Association\",{alternateClassName:\"Ext.data.Association\",requires:[\"Ext.data.ModelManager\"],config:{ownerModel:null,ownerName:undefined,associatedModel:null,associatedName:undefined,associationKey:undefined,primaryKey:\"id\",reader:null,type:null,name:undefined},statics:{create:function(a){if(!a.isAssociation){if(Ext.isString(a)){a={type:a}}a.type=a.type.toLowerCase();return Ext.factory(a,Ext.data.association.Association,null,\"association\")}return a}},constructor:function(a){this.initConfig(a)},applyName:function(a){if(!a){a=this.getAssociatedName()}return a},applyOwnerModel:function(a){var b=Ext.data.ModelManager.getModel(a);if(b===undefined){Ext.Logger.error(\"The configured ownerModel was not valid (you tried \"+a+\")\")}return b},applyOwnerName:function(a){if(!a){a=this.getOwnerModel().modelName}a=a.slice(a.lastIndexOf(\".\")+1);return a},updateOwnerModel:function(a,b){if(b){this.setOwnerName(a.modelName)}},applyAssociatedModel:function(a){var b=Ext.data.ModelManager.types[a];if(b===undefined){Ext.Logger.error(\"The configured associatedModel was not valid (you tried \"+a+\")\")}return b},applyAssociatedName:function(a){if(!a){a=this.getAssociatedModel().modelName}a=a.slice(a.lastIndexOf(\".\")+1);return a},updateAssociatedModel:function(b,a){if(a){this.setAssociatedName(b.modelName)}},applyReader:function(a){if(a){if(Ext.isString(a)){a={type:a}}if(!a.isReader){Ext.applyIf(a,{type:\"json\"})}}return Ext.factory(a,Ext.data.Reader,this.getReader(),\"reader\")},updateReader:function(a){a.setModel(this.getAssociatedModel())},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Association prototype. Please put it inside the config object.\")}}g.config=d}});Ext.define(\"Ext.data.association.HasMany\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.HasManyAssociation\",requires:[\"Ext.util.Inflector\"],alias:\"association.hasmany\",config:{foreignKey:undefined,store:undefined,storeName:undefined,filterProperty:null,autoLoad:false},constructor:function(a){a=a||{};if(a.storeConfig){Ext.Logger.warn(\"storeConfig is deprecated on an association. Instead use the store configuration.\");a.store=a.storeConfig;delete a.storeConfig}this.callParent([a])},applyName:function(a){if(!a){a=Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase())}return a},applyStoreName:function(a){if(!a){a=this.getName()+\"Store\"}return a},applyForeignKey:function(b){if(!b){var a=this.getInverseAssociation();if(a){b=a.getForeignKey()}else{b=this.getOwnerName().toLowerCase()+\"_id\"}}return b},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=Ext.util.Inflector.pluralize(b[0].toLowerCase()+b.slice(1))}return a},updateForeignKey:function(b,d){var a=this.getAssociatedModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.remove(c);a.isDirty=true}}},applyStore:function(a){var e=this,c=e,i=e.getAssociatedModel(),f=e.getStoreName(),d=e.getForeignKey(),h=e.getPrimaryKey(),g=e.getFilterProperty(),b=e.getAutoLoad();return function(){var m=this,k,l,j={};if(m[f]===undefined){if(g){l={property:g,value:m.get(g),exactMatch:true}}else{l={property:d,value:m.get(h),exactMatch:true}}j[d]=m.get(h);k=Ext.apply({},a,{model:i,filters:[l],remoteFilter:true,modelDefaults:j});m[f]=Ext.create(\"Ext.data.Store\",k);if(b){m[f].load(function(o,n){c.updateInverseInstances(m)})}}return m[f]}},updateStore:function(a){this.getOwnerModel().prototype[this.getName()]=a},read:function(b,a,e){var d=b[this.getName()](),c=a.read(e).getRecords();d.add(c);this.updateInverseInstances(b)},updateInverseInstances:function(b){var c=b[this.getName()](),a=this.getInverseAssociation();if(a){c.each(function(d){d[a.getInstanceName()]=b})}},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()===\"belongsto\"&&b.getAssociatedModel().modelName===a})}},function(){Ext.deprecateProperty(this,\"storeConfig\",\"store\")});Ext.define(\"Ext.data.association.BelongsTo\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.BelongsToAssociation\",alias:\"association.belongsto\",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(a){if(!a){a=this.getAssociatedName().toLowerCase()+\"_id\"}return a},updateForeignKey:function(b,d){var a=this.getOwnerModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.isDirty=true;a.remove(c)}}},applyInstanceName:function(a){if(!a){a=this.getAssociatedName()+\"BelongsToInstance\"}return a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"get\"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"set\"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createGetter()}},updateSetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createSetter()}},createSetter:function(){var b=this,a=b.getForeignKey();return function(g,e,f){var c=b.getInverseAssociation();if(g&&g.isModel){g=g.getId()}this.set(a,g);if(Ext.isFunction(e)){e={callback:e,scope:f||this}}if(c){g=Ext.data.Model.cache[Ext.data.Model.generateCacheId(c.getOwnerModel().modelName,g)];if(g){if(c.getType().toLowerCase()===\"hasmany\"){var d=g[c.getName()]();d.add(this)}else{g[c.getInstanceName()]=this}}}if(Ext.isObject(e)){return this.save(e)}}},createGetter:function(){var c=this,d=c.getAssociatedModel(),b=c.getForeignKey(),a=c.getInstanceName();return function(h,i){h=h||{};var g=this,j=g.get(b),k,e,f;e=g[a];if(!e){e=Ext.data.Model.cache[Ext.data.Model.generateCacheId(d.modelName,j)];if(e){g[a]=e}}if(h.reload===true||e===undefined){if(typeof h==\"function\"){h={callback:h,scope:i||g}}k=h.success;h.success=function(l){g[a]=l;if(k){k.call(this,arguments)}};d.load(j,h)}else{f=[e];i=i||g;Ext.callback(h,i,f);Ext.callback(h.success,i,f);Ext.callback(h.failure,i,f);Ext.callback(h.callback,i,f);return e}}},read:function(b,a,c){b[this.getInstanceName()]=a.read([c]).getRecords()[0]},getInverseAssociation:function(){var b=this.getOwnerModel().modelName,a=this.getForeignKey();return this.getAssociatedModel().associations.findBy(function(d){var c=d.getType().toLowerCase();return(c===\"hasmany\"||c===\"hasone\")&&d.getAssociatedModel().modelName===b&&d.getForeignKey()===a})}});Ext.define(\"Ext.data.association.HasOne\",{extend:\"Ext.data.association.Association\",alternateClassName:\"Ext.data.HasOneAssociation\",alias:\"association.hasone\",config:{foreignKey:undefined,getterName:undefined,setterName:undefined,instanceName:undefined},applyForeignKey:function(b){if(!b){var a=this.getInverseAssociation();if(a){b=a.getForeignKey()}else{b=this.getOwnerName().toLowerCase()+\"_id\"}}return b},updateForeignKey:function(b,d){var a=this.getAssociatedModel().getFields(),c=a.get(b);if(!c){c=new Ext.data.Field({name:b});a.add(c);a.isDirty=true}if(d){c=a.get(d);if(c){a.remove(c);a.isDirty=true}}},applyInstanceName:function(a){if(!a){a=this.getAssociatedName()+\"BelongsToInstance\"}return a},applyAssociationKey:function(a){if(!a){var b=this.getAssociatedName();a=b[0].toLowerCase()+b.slice(1)}return a},applyGetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"get\"+b[0].toUpperCase()+b.slice(1)}return a},applySetterName:function(a){if(!a){var b=this.getAssociatedName();a=\"set\"+b[0].toUpperCase()+b.slice(1)}return a},updateGetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createGetter()}},updateSetterName:function(b,c){var a=this.getOwnerModel().prototype;if(c){delete a[c]}if(b){a[b]=this.createSetter()}},createSetter:function(){var c=this,b=c.getForeignKey(),a=c.getInstanceName(),d=c.getAssociatedModel();return function(h,f,g){var i=Ext.data.Model,e;if(h&&h.isModel){h=h.getId()}this.set(b,h);e=i.cache[i.generateCacheId(d.modelName,h)];if(e){this[a]=e}if(Ext.isFunction(f)){f={callback:f,scope:g||this}}if(Ext.isObject(f)){return this.save(f)}}},createGetter:function(){var c=this,d=c.getAssociatedModel(),b=c.getForeignKey(),a=c.getInstanceName();return function(h,i){h=h||{};var g=this,j=g.get(b),k,e,f;if(h.reload===true||g[a]===undefined){if(typeof h==\"function\"){h={callback:h,scope:i||g}}k=h.success;h.success=function(l){g[a]=l;if(k){k.call(this,arguments)}};d.load(j,h)}else{e=g[a];f=[e];i=i||g;Ext.callback(h,i,f);Ext.callback(h.success,i,f);Ext.callback(h.failure,i,f);Ext.callback(h.callback,i,f);return e}}},read:function(c,a,e){var b=this.getInverseAssociation(),d=a.read([e]).getRecords()[0];c[this.getInstanceName()]=d;if(b){d[b.getInstanceName()]=c}},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()===\"belongsto\"&&b.getAssociatedModel().modelName===a})}});Ext.define(\"Ext.field.TextAreaInput\",{extend:\"Ext.field.Input\",xtype:\"textareainput\",tag:\"textarea\"});Ext.define(\"Ext.field.TextArea\",{extend:\"Ext.field.Text\",xtype:\"textareafield\",requires:[\"Ext.field.TextAreaInput\"],alternateClassName:\"Ext.form.TextArea\",config:{ui:\"textarea\",autoCapitalize:false,component:{xtype:\"textareainput\"},maxRows:null},updateMaxRows:function(a){this.getComponent().setMaxRows(a)},doSetHeight:function(a){this.callParent(arguments);var b=this.getComponent();b.input.setHeight(a)},doSetWidth:function(b){this.callParent(arguments);var a=this.getComponent();a.input.setWidth(b)},doKeyUp:function(a){var b=a.getValue();a[b?\"showClearIcon\":\"hideClearIcon\"]()}});Ext.define(\"Ext.MessageBox\",{extend:\"Ext.Sheet\",requires:[\"Ext.Toolbar\",\"Ext.field.Text\",\"Ext.field.TextArea\"],config:{ui:\"dark\",baseCls:Ext.baseCSSPrefix+\"msgbox\",iconCls:null,showAnimation:{type:\"popIn\",duration:250,easing:\"ease-out\"},hideAnimation:{type:\"popOut\",duration:250,easing:\"ease-out\"},zIndex:10,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,layout:{type:\"vbox\",pack:\"center\"}},statics:{OK:{text:\"OK\",itemId:\"ok\",ui:\"action\"},YES:{text:\"Yes\",itemId:\"yes\",ui:\"action\"},NO:{text:\"No\",itemId:\"no\"},CANCEL:{text:\"Cancel\",itemId:\"cancel\"},INFO:Ext.baseCSSPrefix+\"msgbox-info\",WARNING:Ext.baseCSSPrefix+\"msgbox-warning\",QUESTION:Ext.baseCSSPrefix+\"msgbox-question\",ERROR:Ext.baseCSSPrefix+\"msgbox-error\",OKCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"OK\",itemId:\"ok\",ui:\"action\"}],YESNOCANCEL:[{text:\"Cancel\",itemId:\"cancel\"},{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}],YESNO:[{text:\"No\",itemId:\"no\"},{text:\"Yes\",itemId:\"yes\",ui:\"action\"}]},constructor:function(a){a=a||{};if(a.hasOwnProperty(\"promptConfig\")){Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\",this);Ext.applyIf(a,{prompt:a.promptConfig});delete a.promptConfig}if(a.hasOwnProperty(\"multiline\")||a.hasOwnProperty(\"multiLine\")){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};var e=[\"ui\",\"showAnimation\",\"hideAnimation\",\"title\",\"message\",\"prompt\",\"iconCls\",\"buttons\",\"defaultTextHeight\"],d=e.length,b,c;for(b=0;b<d;b++){c=e[b];this.defaultAllowedConfig[c]=this.defaultConfig[c]}this.callParent([a])},applyTitle:function(a){if(typeof a==\"string\"){a={title:a}}Ext.applyIf(a,{docked:\"top\",cls:this.getBaseCls()+\"-title\"});return Ext.factory(a,Ext.Toolbar,this.getTitle())},updateTitle:function(a){if(a){this.add(a)}},updateButtons:function(a){var b=this;if(a){if(b.buttonsToolbar){b.buttonsToolbar.removeAll();b.buttonsToolbar.setItems(a)}else{b.buttonsToolbar=Ext.create(\"Ext.Toolbar\",{docked:\"bottom\",defaultType:\"button\",layout:{type:\"hbox\",pack:\"center\"},ui:b.getUi(),cls:b.getBaseCls()+\"-buttons\",items:a});b.add(b.buttonsToolbar)}}},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+\"-text\"};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){a={xtype:\"component\",docked:\"left\",width:40,height:40,baseCls:Ext.baseCSSPrefix+\"icon\",hidden:(a)?false:true,cls:a};return Ext.factory(a,Ext.Component,this._iconCls)},updateIconCls:function(a,b){var c=this;this.getTitle();this.getButtons();if(a&&!b){this.add(a)}else{this.remove(b)}},getIconCls:function(){var b=this._iconCls,a;if(b){a=b.getCls();return(a)?a[0]:null}return null},applyPrompt:function(a){if(a){var b={label:false};if(Ext.isObject(a)){Ext.apply(b,a)}if(b.multiLine){b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight();return Ext.factory(b,Ext.field.TextArea,this.getPrompt())}else{return Ext.factory(b,Ext.field.Text,this.getPrompt())}}return a},updatePrompt:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},onClick:function(c){if(c){var b=c.config.userConfig||{},d=c.getInitialConfig(),a=this.getPrompt();if(typeof b.fn==\"function\"){this.on({hiddenchange:function(){b.fn.call(b.scope||null,d.itemId||d.text,a?a.getValue():null,b)},single:true,scope:this})}if(b.input){b.input.dom.blur()}}this.hide()},show:function(f){if(!this.getParent()&&Ext.Viewport){Ext.Viewport.add(this)}if(!f){return this.callParent()}var b=Ext.Object.merge({},{value:\"\"},f);var e=f.buttons||Ext.MessageBox.OK||[],d=[],c=f;Ext.each(e,function(g){if(!g){return}d.push(Ext.apply({userConfig:c,scope:this,handler:\"onClick\"},g))},this);b.buttons=d;if(b.promptConfig){Ext.Logger.deprecate(\"'promptConfig' config is deprecated, please use 'prompt' config instead\",this)}b.prompt=(b.promptConfig||b.prompt)||null;if(b.multiLine){b.prompt=b.prompt||{};b.prompt.multiLine=b.multiLine;delete b.multiLine}b=Ext.merge({},this.defaultAllowedConfig,b);this.setConfig(b);var a=this.getPrompt();if(a){a.setValue(f.value||\"\")}this.callParent();return this},alert:function(d,c,b,a){return this.show({title:d,message:c,buttons:Ext.MessageBox.OK,promptConfig:false,fn:function(){if(b){b.apply(a,arguments)}},scope:a})},confirm:function(d,c,b,a){return this.show({title:d,message:c,buttons:Ext.MessageBox.YESNO,promptConfig:false,scope:a,fn:function(){if(b){b.apply(a,arguments)}}})},prompt:function(g,d,c,b,f,e,a){return this.show({title:g,message:d,buttons:Ext.MessageBox.OKCANCEL,scope:b,prompt:a||true,multiLine:f,value:e,fn:function(){if(c){c.apply(b,arguments)}}})}},function(a){this.override({setIcon:function(b,c){Ext.Logger.deprecate(\"Ext.MessageBox#setIcon is deprecated, use setIconCls instead\",2);this.setIconCls(b);return this},updateText:function(b){Ext.Logger.deprecate(\"Ext.MessageBox#updateText is deprecated, use setMessage instead\",2);this.setMessage(b);return this}});Ext.onSetup(function(){Ext.Msg=new a})});Ext.define(\"Ext.dataview.component.Container\",{extend:\"Ext.Container\",requires:[\"Ext.dataview.component.DataItem\"],constructor:function(){this.itemCache=[];this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> .\"+Ext.baseCSSPrefix+\"data-item\",scope:this})},initialize:function(){this.callParent();this.doInitialize()},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,a,b.indexOf(a),d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtouchmove\",b,a,b.indexOf(a),d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,a,b.indexOf(a),d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtap\",b,a,b.indexOf(a),d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtaphold\",b,a,b.indexOf(a),d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemsingletap\",b,a,b.indexOf(a),d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemdoubletap\",b,a,b.indexOf(a),d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemswipe\",b,a,b.indexOf(a),d)},moveItemsToCache:function(j,k){var h=this,c=h.dataview,a=c.getMaxItemCache(),g=h.getViewItems(),f=h.itemCache,e=f.length,l=c.getPressedCls(),d=c.getSelectedCls(),b=k-j,m;for(;b>=0;b--){m=g[j+b];if(e!==a){h.remove(m,false);m.removeCls([l,d]);f.push(m);e++}else{m.destroy()}}if(h.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(b){var l=this,e=l.dataview,m=e.getStore(),k=b.length,a=e.getDefaultType(),h=e.getItemConfig(),g=l.itemCache,f=g.length,j=[],c,n,d;if(k){e.hideEmptyText()}for(c=0;c<k;c++){b[c]._tmpIndex=m.indexOf(b[c])}Ext.Array.sort(b,function(o,i){return o._tmpIndex>i._tmpIndex?1:-1});for(c=0;c<k;c++){d=b[c];if(f){f--;n=g.pop();this.updateListItem(d,n)}else{n=l.getDataItemConfig(a,d,h)}this.insert(d._tmpIndex,n);delete d._tmpIndex}return j},getViewItems:function(){return this.getInnerItems()},updateListItem:function(a,b){if(b.updateRecord){b.updateRecord(a)}},getDataItemConfig:function(e,b,c){var a=this.dataview,d={xtype:e,record:b,dataview:a,itemCls:a.getItemCls(),defaults:c};return Ext.merge(d,c)},doRemoveItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].removeCls(a)}},doAddItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].addCls(a)}},destroy:function(){var d=this,b=d.itemCache,c=b.length,a=0;for(;a<c;a++){b[a].destroy()}this.callParent()}});Ext.define(\"Ext.dataview.DataView\",{extend:\"Ext.Container\",alternateClassName:\"Ext.DataView\",mixins:[\"Ext.mixin.Selectable\"],xtype:\"dataview\",requires:[\"Ext.LoadMask\",\"Ext.data.StoreManager\",\"Ext.dataview.component.Container\",\"Ext.dataview.element.Container\"],config:{store:null,baseCls:Ext.baseCSSPrefix+\"dataview\",emptyText:null,deferEmptyText:true,itemTpl:\"<div>{text}</div>\",pressedCls:\"x-item-pressed\",itemCls:null,selectedCls:\"x-item-selected\",triggerEvent:\"itemtap\",triggerCtEvent:\"tap\",deselectOnContainerClick:true,scrollable:true,inline:null,pressedDelay:100,loadingText:\"Loading...\",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:\"dataitem\",scrollToTopOnRefresh:true},constructor:function(a){var b=this;if(a&&a.layout){Ext.Logger.warn(\"Attempting to create a DataView with a layout. DataViews do not have a layout configuration as their items are laid out automatically.\");delete a.layout}b.hasLoadedStore=false;b.mixins.selectable.constructor.apply(b,arguments);b.callParent(arguments)},updateItemCls:function(c,b){var a=this.container;if(a){if(b){a.doRemoveItemCls(b)}if(c){a.doAddItemCls(c)}}},storeEventHooks:{beforeload:\"onBeforeLoad\",load:\"onLoad\",refresh:\"refresh\",addrecords:\"onStoreAdd\",removerecords:\"onStoreRemove\",updaterecord:\"onStoreUpdate\"},initialize:function(){this.callParent();var b=this,a;b.on(b.getTriggerCtEvent(),b.onContainerTrigger,b);a=b.container=this.add(new Ext.dataview[b.getUseComponents()?\"component\":\"element\"].Container({baseCls:this.getBaseCls()}));a.dataview=b;b.on(b.getTriggerEvent(),b.onItemTrigger,b);a.on({itemtouchstart:\"onItemTouchStart\",itemtouchend:\"onItemTouchEnd\",itemtap:\"onItemTap\",itemtaphold:\"onItemTapHold\",itemtouchmove:\"onItemTouchMove\",itemsingletap:\"onItemSingleTap\",itemdoubletap:\"onItemDoubleTap\",itemswipe:\"onItemSwipe\",scope:b});if(this.getStore()){this.refresh()}},applyInline:function(a){if(Ext.isObject(a)){a=Ext.apply({},a)}return a},updateInline:function(c,b){var a=this.getBaseCls();if(b){this.removeCls([a+\"-inlineblock\",a+\"-nowrap\"])}if(c){this.addCls(a+\"-inlineblock\");if(Ext.isObject(c)&&c.wrap===false){this.addCls(a+\"-nowrap\")}else{this.removeCls(a+\"-nowrap\")}}},prepareData:function(c,b,a){c.xindex=b+1;return c},onContainerTrigger:function(b){var a=this;if(b.target!=a.element.dom){return}if(a.getDeselectOnContainerClick()&&a.getStore()){a.deselectAll()}},onItemTrigger:function(b,a){this.selectWithEvent(this.getStore().getAt(a))},doAddPressedCls:function(a){var c=this,b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.addCls(c.getPressedCls())}},onItemTouchStart:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireAction(\"itemtouchstart\",[f,d,h,a,g],\"doItemTouchStart\")},doItemTouchStart:function(c,b,e,a){var d=c.getPressedDelay();if(a){if(d>0){c.pressedTimeout=Ext.defer(c.doAddPressedCls,d,c,[a])}else{c.doAddPressedCls(a)}}},onItemTouchEnd:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(this.hasOwnProperty(\"pressedTimeout\")){clearTimeout(this.pressedTimeout);delete this.pressedTimeout}if(a&&h){h.removeCls(f.getPressedCls())}f.fireEvent(\"itemtouchend\",f,d,h,a,g)},onItemTouchMove:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(f.hasOwnProperty(\"pressedTimeout\")){clearTimeout(f.pressedTimeout);delete f.pressedTimeout}if(a&&h){h.removeCls(f.getPressedCls())}f.fireEvent(\"itemtouchmove\",f,d,h,a,g)},onItemTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtap\",f,d,h,a,g)},onItemTapHold:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtaphold\",f,d,h,a,g)},onItemSingleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemsingletap\",f,d,h,a,g)},onItemDoubleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemdoubletap\",f,d,h,a,g)},onItemSwipe:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemswipe\",f,d,h,a,g)},onItemSelect:function(a,b){var c=this;if(b){c.doItemSelect(c,a)}else{c.fireAction(\"select\",[c,a],\"doItemSelect\")}},doItemSelect:function(c,a){if(c.container&&!c.isDestroyed){var b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.removeCls(c.getPressedCls());b.addCls(c.getSelectedCls())}}},onItemDeselect:function(a,b){var c=this;if(c.container&&!c.isDestroyed){if(b){c.doItemDeselect(c,a)}else{c.fireAction(\"deselect\",[c,a,b],\"doItemDeselect\")}}},doItemDeselect:function(c,a){var b=c.container.getViewItems()[c.getStore().indexOf(a)];if(Ext.isElement(b)){b=Ext.get(b)}if(b){b.removeCls([c.getPressedCls(),c.getSelectedCls()])}},updateData:function(b){var a=this.getStore();if(!a){this.setStore(Ext.create(\"Ext.data.Store\",{data:b}))}else{a.add(b)}},applyStore:function(b){var d=this,e=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(b){b=Ext.data.StoreManager.lookup(b);if(b&&Ext.isObject(b)&&b.isStore){b.on(e);c=b.getProxy();if(c){a=c.getReader();if(a){a.on(\"exception\",\"handleException\",this)}}}else{Ext.Logger.warn(\"The specified Store cannot be found\",this)}}return b},handleException:function(){this.setMasked(false)},updateStore:function(b,e){var d=this,f=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(e&&Ext.isObject(e)&&e.isStore){if(e.autoDestroy){e.destroy()}else{e.un(f);c=e.getProxy();if(c){a=c.getReader();if(a){a.un(\"exception\",\"handleException\",this)}}}}if(b){if(b.isLoaded()){this.hasLoadedStore=true}if(b.isLoading()){d.onBeforeLoad()}if(d.container){d.refresh()}}},onBeforeLoad:function(){var b=this.getScrollable();if(b){b.getScroller().stopAnimation()}var a=this.getLoadingText();if(a){this.setMasked({xtype:\"loadmask\",message:a});if(b){b.getScroller().setDisabled(true)}}this.hideEmptyText()},updateEmptyText:function(c,d){var b=this,a;if(d&&b.emptyTextCmp){b.remove(b.emptyTextCmp,true);delete b.emptyTextCmp}if(c){b.emptyTextCmp=b.add({xtype:\"component\",cls:b.getBaseCls()+\"-emptytext\",html:c,hidden:true});a=b.getStore();if(a&&b.hasLoadedStore&&!a.getCount()){this.showEmptyText()}}},onLoad:function(a){var b=this.getScrollable();this.hasLoadedStore=true;this.setMasked(false);if(b){b.getScroller().setDisabled(false)}if(!a.getCount()){this.showEmptyText()}},refresh:function(){var b=this,a=b.container;if(!b.getStore()){if(!b.hasLoadedStore&&!b.getDeferEmptyText()){b.showEmptyText()}return}if(a){b.fireAction(\"refresh\",[b],\"doRefresh\")}},applyItemTpl:function(a){return(Ext.isObject(a)&&a.isTemplate)?a:new Ext.XTemplate(a)},onAfterRender:function(){var a=this;a.callParent(arguments);a.updateStore(a.getStore())},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(f){var a=f.container,j=f.getStore(),b=j.getRange(),e=a.getViewItems(),h=b.length,l=e.length,c=h-l,g=f.getScrollable(),d,k;if(this.getScrollToTopOnRefresh()&&g){g.getScroller().scrollToTop()}if(h<1){f.onStoreClear();return}if(c<0){a.moveItemsToCache(l+c,l-1);e=a.getViewItems();l=e.length}else{if(c>0){a.moveItemsFromCache(j.getRange(l))}}for(d=0;d<l;d++){k=e[d];a.updateListItem(b[d],k)}},showEmptyText:function(){if(this.getEmptyText()&&(this.hasLoadedStore||!this.getDeferEmptyText())){this.emptyTextCmp.show()}},hideEmptyText:function(){if(this.getEmptyText()){this.emptyTextCmp.hide()}},onStoreClear:function(){var c=this,a=c.container,b=a.getViewItems();a.moveItemsToCache(0,b.length-1);this.showEmptyText()},onStoreAdd:function(b,a){if(a){this.container.moveItemsFromCache(a)}},onStoreRemove:function(c,b,f){var a=this.container,e=b.length,d;for(d=0;d<e;d++){a.moveItemsToCache(f[d],f[d])}},onStoreUpdate:function(c,b,d,f){var e=this,a=e.container;f=(typeof f===\"undefined\")?d:f;if(f!==d){a.moveItemsToCache(f,f);a.moveItemsFromCache([b]);if(e.isSelected(b)){e.doItemSelect(e,b)}}else{a.updateListItem(b,a.getViewItems()[d])}}},function(){Ext.deprecateMethod(this,\"collectData\",null,\"Ext.dataview.DataView.collectData() has been removed\");Ext.deprecateMethod(this,\"findItemByChild\",null,\"Ext.dataview.DataView.findItemByChild() has been removed\");Ext.deprecateMethod(this,\"findTargetByEvent\",null,\"Ext.dataview.DataView.findTargetByEvent() has been removed\");Ext.deprecateMethod(this,\"getNode\",null,\"Ext.dataview.DataView.getNode() has been removed\");Ext.deprecateMethod(this,\"getNodes\",null,\"Ext.dataview.DataView.getNodes() has been removed\");Ext.deprecateMethod(this,\"getRecords\",null,\"Ext.dataview.DataView.getRecords() has been removed\");Ext.deprecateMethod(this,\"getSelectedNodes\",null,\"Ext.dataview.DataView.getSelectedNodes() has been removed\");Ext.deprecateMethod(this,\"getSelectedRecords\",null,\"Ext.dataview.DataView.getSelectedRecords() has been removed\");Ext.deprecateMethod(this,\"indexOf\",null,\"Ext.dataview.DataView.indexOf() has been removed\");Ext.deprecateMethod(this,\"refreshNode\",null,\"Ext.dataview.DataView.refreshNode() has been removed\");Ext.deprecateClassMethod(this,\"bindStore\",\"setStore\");Ext.deprecateProperty(this,\"blockRefresh\",null,\"Ext.dataview.DataView.blockRefresh has been removed\");Ext.deprecateProperty(this,\"itemSelector\",null,\"Ext.dataview.DataView.itemSelector has been removed\");Ext.deprecateProperty(this,\"multiSelect\",null,\"Ext.dataview.DataView.multiSelect has been removed\");Ext.deprecateProperty(this,\"overItemCls\",null,\"Ext.dataview.DataView.overItemCls has been removed\");Ext.deprecateProperty(this,\"selectedItemCls\",null,\"Ext.dataview.DataView.selectedItemCls has been removed\");Ext.deprecateProperty(this,\"simpleSelect\",null,\"Ext.dataview.DataView.simpleSelect has been removed\");Ext.deprecateProperty(this,\"singleSelect\",null,\"Ext.dataview.DataView.singleSelect has been removed\");Ext.deprecateProperty(this,\"trackOver\",null,\"Ext.dataview.DataView.trackOver has been removed\")});Ext.define(\"Ext.dataview.List\",{alternateClassName:\"Ext.List\",extend:\"Ext.dataview.DataView\",xtype:\"list\",requires:[\"Ext.dataview.element.List\",\"Ext.dataview.IndexBar\",\"Ext.dataview.ListItemHeader\"],config:{indexBar:false,icon:null,preventSelectionOnDisclose:true,baseCls:Ext.baseCSSPrefix+\"list\",pinHeaders:true,grouped:false,onItemDisclosure:null,disclosureProperty:\"disclosure\",ui:\"normal\"},constructor:function(){this.translateHeader=(Ext.os.is.Android2)?this.translateHeaderCssPosition:this.translateHeaderTransform;this.callParent(arguments)},onItemTrigger:function(c,b,f,a,d){if(!(this.getPreventSelectionOnDisclose()&&Ext.fly(d.target).hasCls(this.getBaseCls()+\"-disclosure\"))){this.callParent(arguments)}},initialize:function(){var b=this,a;b.on(b.getTriggerCtEvent(),b.onContainerTrigger,b);a=b.container=this.add(new Ext.dataview.element.List({baseCls:this.getBaseCls()}));a.dataview=b;b.on(b.getTriggerEvent(),b.onItemTrigger,b);a.element.on({delegate:\".\"+this.getBaseCls()+\"-disclosure\",tap:\"handleItemDisclosure\",scope:b});a.on({itemtouchstart:\"onItemTouchStart\",itemtouchend:\"onItemTouchEnd\",itemtap:\"onItemTap\",itemtaphold:\"onItemTapHold\",itemtouchmove:\"onItemTouchMove\",itemsingletap:\"onItemSingleTap\",itemdoubletap:\"onItemDoubleTap\",itemswipe:\"onItemSwipe\",scope:b});if(this.getStore()){this.refresh()}},updateInline:function(a){this.callParent(arguments);if(a){this.setOnItemDisclosure(false);this.setIndexBar(false);this.setGrouped(false)}},applyIndexBar:function(a){return Ext.factory(a,Ext.dataview.IndexBar,this.getIndexBar())},updateIndexBar:function(a){if(a&&this.getScrollable()){this.indexBarElement=this.getScrollableBehavior().getScrollView().getElement().appendChild(a.renderElement);a.on({index:\"onIndex\",scope:this});this.element.addCls(this.getBaseCls()+\"-indexed\")}},updateGrouped:function(c){var b=this.getBaseCls(),a=b+\"-grouped\",d=b+\"-ungrouped\";if(c){this.addCls(a);this.removeCls(d);this.doRefreshHeaders();this.updatePinHeaders(this.getPinHeaders())}else{this.addCls(d);this.removeCls(a);if(this.container){this.container.doRemoveHeaders()}this.updatePinHeaders(null)}},updatePinHeaders:function(b){var c=this.getScrollable(),a;if(c){a=c.getScroller()}if(!c){return}if(b&&this.getGrouped()){a.on({refresh:\"doRefreshHeaders\",scroll:\"onScroll\",scope:this});if(!this.header||!this.header.renderElement.dom){this.createHeader()}}else{a.un({refresh:\"doRefreshHeaders\",scroll:\"onScroll\",scope:this});if(this.header){this.header.destroy()}}},createHeader:function(){var e,d=this.getScrollable(),a,b,c;if(d){a=d.getScroller();b=this.getScrollableBehavior().getScrollView();c=b.getElement()}else{return}this.header=e=Ext.create(\"Ext.dataview.ListItemHeader\",{html:\" \",cls:\"x-list-header-swap\"});c.dom.insertBefore(e.element.dom,a.getContainer().dom.nextSibling);this.translateHeader(1000)},refresh:function(){this.callParent();this.doRefreshHeaders()},onStoreAdd:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreRemove:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreUpdate:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreClear:function(){this.callParent();if(this.header){this.header.destroy()}this.doRefreshHeaders()},getClosestGroups:function(){var a=this.pinHeaderInfo.offsets,e=this.getScrollable(),d=a.length,b=0,h,g,f,c;if(e){h=e.getScroller().position}else{return{current:0,next:0}}for(;b<d;b++){g=a[b];if(g.offset>h.y){c=g;break}f=g}return{current:f,next:c}},doRefreshHeaders:function(){if(!this.getGrouped()||!this.container){return false}var l=this.findGroupHeaderIndices(),f=l.length,g=this.container.getViewItems(),j=this.pinHeaderInfo={offsets:[]},a=j.offsets,h=this.getScrollable(),e,k,b,d,c;if(f){for(b=0;b<f;b++){d=g[l[b]];if(d){c=this.getItemHeader(d);a.push({header:c,offset:d.offsetTop})}}j.closest=this.getClosestGroups();this.setActiveGroup(j.closest.current);if(c){j.headerHeight=Ext.fly(c).getHeight()}if(h){e=h.getScroller();k=e.position;this.onScroll(e,k.x,k.y)}}},getItemHeader:function(b){var a=Ext.fly(b).down(this.container.headerClsCache);return a?a.dom:null},onScroll:function(e,j,h){var g=this,i=g.pinHeaderInfo,a=i.closest,b=g.activeGroup,c=i.headerHeight,d,f;if(!a){return}d=a.next;f=a.current;if(!this.header||!this.header.renderElement.dom){this.createHeader()}if(h<=0){if(b){g.setActiveGroup(false);a.next=f}this.translateHeader(1000);return}else{if((d&&h>d.offset)||(f&&h<f.offset)){a=i.closest=this.getClosestGroups();d=a.next;f=a.current;this.setActiveGroup(f)}}if(d&&h>0&&d.offset-h<=c){var k=c-(d.offset-h);this.translateHeader(k)}else{this.translateHeader(null)}},translateHeaderTransform:function(a){this.header.renderElement.dom.style.webkitTransform=(a===null)?null:\"translate3d(0px, -\"+a+\"px, 0px)\"},translateHeaderCssPosition:function(a){this.header.renderElement.dom.style.top=(a===null)?null:\"-\"+Math.round(a)+\"px\"},setActiveGroup:function(b){var a=this,c=a.header;if(c){if(b&&b.header){if(!a.activeGroup||a.activeGroup.header!=b.header){c.show();if(c.element){c.setHtml(b.header.innerHTML)}}}else{if(c&&c.element){c.hide()}}}this.activeGroup=b},onIndex:function(o,c){var r=this,s=c.toLowerCase(),b=r.getStore(),q=b.getGroups(),f=q.length,h=r.getScrollable(),n,e,m,g,k,p;if(h){n=r.getScrollable().getScroller()}else{return}for(m=0;m<f;m++){e=q[m];k=e.name.toLowerCase();if(k==s||k>s){g=e;break}else{g=e}}if(h&&g){p=r.container.getViewItems()[b.indexOf(g.children[0])];n.stopAnimation();var l=n.getContainerSize().y,j=n.getSize().y,d=j-l,a=(p.offsetTop>d)?d:p.offsetTop;n.scrollTo(0,a)}},applyOnItemDisclosure:function(a){if(Ext.isFunction(a)){return{scope:this,handler:a}}return a},handleItemDisclosure:function(f){var d=this,c=f.getTarget().parentNode,b=d.container.getViewItems().indexOf(c),a=d.getStore().getAt(b);d.fireAction(\"disclose\",[d,a,c,b,f],\"doDisclose\")},doDisclose:function(f,a,d,c,g){var b=f.getOnItemDisclosure();if(b&&b.handler){b.handler.call(b.scope||f,a,d,c,g)}},findGroupHeaderIndices:function(){if(!this.getGrouped()){return[]}var h=this,k=h.getStore();if(!k){return[]}var b=h.container,d=k.getGroups(),m=d.length,g=b.getViewItems(),c=[],l=b.footerClsShortCache,e,a,f,n,j;b.doRemoveHeaders();b.doRemoveFooterCls();if(g.length){for(e=0;e<m;e++){a=d[e].children[0];f=k.indexOf(a);n=g[f];b.doAddHeader(n,k.getGroupString(a));if(e){Ext.fly(n.previousSibling).addCls(l)}c.push(f)}j=d[--e].children;Ext.fly(g[k.indexOf(j[j.length-1])]).addCls(l)}return c},destroy:function(){Ext.destroy(this.getIndexBar(),this.indexBarElement,this.header);this.callParent()}});Ext.define(\"B2B.view.Activity_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"activitylist\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],loadMask:true,emptyText:'</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate([\"<div class='{[this.getClass(values)]}'>\",\"{[this.getImageURL(values)]}\",\"{[this.getTextString(values)]}\",\"{[this.getWhenString()]}\",\"</div>\"].join(\"\"),{getClass:function(a){return\"activity-list-item small-list activity-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=HH.default_place32}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getWhenString:function(a){var b=\"<div class='small-list-when'>\";b+=\"5 minuti fa\";b+=\"</div>\";return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=utils.getActivityString(a);b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Activity_User\",{extend:\"Ext.dataview.List\",xtype:\"activityusercomponent\",config:{draggable:false,loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"activity-list-empty-text\">'+utils.__(i18n.app.TEXT_NOACTIVITYFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate('<div class=\\'{[this.getClass(values)]}\\'><img class=\\'drinkAvatar\\' src=\"{[this.getImageURL()]}\" width=\"20\" height=\"20\"></img><span>{[this.getBadgeString(values)]}</span></div>',{getClass:function(a){return\"activity-list-item_\"+a.type},getImageURL:function(a){return\"resources/images/Image0.png\"},getBadgeString:function(a){var b=utils.__(i18n.app.BADGES_TEXT1,a.displayName,a.beerName,a.placeName);return b}})}});Ext.define(\"B2B.view.Beer_List\",{extend:\"Ext.dataview.List\",xtype:\"beerlist\",id:\"beerlist\",config:{loadingText:i18n.app.HINT_LOADING,itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"small-list beer-list-item-title beerTypeClass\"+a.beerstyle+\" nation_\"+a.nationality},getImage1URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beerstyle)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getImage2URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beertype)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"\";b+=\"<div class='small-list-text'>\"+_.titleize(a.name)+\"</div><div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(a.beerstyle));if(a.beertype){b+=\" - \"+utils.getBeerTypeFromCode(parseInt(a.beertype))}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Beer_List_Select\",{extend:\"Ext.dataview.List\",xtype:\"beerlistselectcomponent\",id:\"beerlistselectcomponent\",config:{loadingText:i18n.app.HINT_LOADING,itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage1URL(values)]}{[this.getImage2URL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"small-list beer-list-item-title beerTypeClass\"+a.beerstyle+\" nation_\"+a.nationality},getImage1URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beerstyle)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getImage2URL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.beertype)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=\"resources/img/default/blank_avatar_32.png\"}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"\";b+=\"<div class='small-list-text'>\"+_.titleize(a.name)+\"</div><div class='small-list-subtext'>\"+utils.getBeerStyleFromCode(parseInt(a.beerstyle));if(a.beertype){b+=\" - \"+utils.getBeerTypeFromCode(parseInt(a.beertype))}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.DrinkInCheckIn_List\",{extend:\"Ext.dataview.List\",xtype:\"drinkincheckinlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:\"\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"drinkincheckin-list-item small-list\"},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b='<div class=\"small-list-text\">';b+=a.placeName;b+=\"</div>\";b+='<div class=\"small-list-drinkedin\">';if(parseInt(a.drinkedIn)>0){b+=a.drinkedIn}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Place_List\",{extend:\"Ext.dataview.List\",xtype:\"placelistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"beer-list-empty-text\">'+utils.__(i18n.app.TEXT_NOPLACEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"place-list-item small-list activity-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b='<div class=\"small-list-text\">';b+=a.placeName;b+=\"</div>\";b+='<div class=\"small-list-drinkedin\">';if(parseInt(a.drinkedIn)>0){b+=a.drinkedIn}b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Favorites_List\",{extend:\"Ext.dataview.List\",xtype:\"favoriteslistcomponent\",id:\"favoriteslistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"favorites-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFAVORITEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getString(values)]}</div>\",{getClass:function(a){return\"favorites-list-item-title\"},getString:function(a){var b=\"\";b+='<div class=\"small-list-text\">'+_.titleize(a.beerName)+\"</div>\";return b}})}});Ext.define(\"B2B.view.Feedback_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"feedbacklistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],emptyText:'</pre><div class=\"feedback-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFEEDBACKFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getTextString(values)]}{[this.getWhenString()]}</div>\",{getClass:function(a){return\"feedback-list-item small-list feedback-type\"+a.type},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getWhenString:function(a){var b=\"<div class='small-list-when'>\";b+=\"5 minuti fa\";b+=\"</div>\";return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Friend_List\",{extend:\"Ext.dataview.List\",xtype:\"friendlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImageURL(values)]}{[this.getString(values)]}</div>\",{getClass:function(a){return\"friend-list-item-title small-list\"},getImageURL:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=HH.default_user32}else{b+=value.image}b+='\" width=\"32\" height=\"32\">';return b},getString:function(a){var b=\"<div class='small-list-text'>\"+utils.getDisplayName(a)+\"</div>\";if(a.firstName){b+=\"<div class='small-list-subtext'>\"+a.firstName;if(a.lastName){b+=\" \"+a.lastName}b+=\"</div>\"}return b}})}});Ext.define(\"B2B.view.Notification_List\",{extend:\"Ext.dataview.List\",requires:[\"Ext.plugin.PullRefresh\"],xtype:\"notificationlistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down for more!\"}],emptyText:'</pre><div class=\"friend-list-empty-text\">'+utils.__(i18n.app.TEXT_NOFRIENDFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate(\"<div class='{[this.getClass(values)]}'>{[this.getImage(values)]}{[this.getTextString(values)]}</div>\",{getClass:function(a){return\"notification-list-item small-list notification-type\"+a.type},getImage:function(a){var b='<img class=\"avatar_small\" src=\"';if(_.isEmpty(a.image)){b+=\"resources/img/default/blank_avatar_32.png\"}else{b+=a.image}b+='\" width=\"32\" height=\"32\">';return b},getTextString:function(a){var b=\"<div class='small-list-text'>\";b+=utils.getNotificationString(a);b+=\"</div>\";return b}})}});Ext.define(\"B2B.view.Badge_List\",{extend:\"Ext.dataview.List\",xtype:\"badgelistcomponent\",config:{loadingText:i18n.app.HINT_LOADING,emptyText:'</pre><div class=\"badge-list-empty-text\">'+utils.__(i18n.app.TEXT_NOBADGEFOUND)+\"</div><pre>\",itemTpl:new Ext.XTemplate([\"<div class='{[this.getClass(values)]}'>\",\"{[this.getImageURL(values)]}\",\"{[this.getString(values)]}\",\"</div>\"].join(\"\"),{getClass:function(a){return\"badge-list-item-title small-list\"},getImageURL:function(a){var b=\"badge_image_small\",c=\"\";b+=(a.active===true?\" active\":\"\");c=\"<img class='\"+b+\"' src='\";if(_.isEmpty(a.imageUlr)){c+=HH.default_badge32}else{c+=a.imageUrl}c+=\"' width='32' height='32'>\";return c},getString:function(a){var b=\"\",c=\"badge-list-text\";if(a.title){c+=(a.active===true?\" active\":\"\");b=\"<div class='\"+c+\"'>\"+a.title+\"</div>\";b+=\"</div>\"}return b}})}});Ext.define(\"Ext.slider.Slider\",{extend:\"Ext.Container\",xtype:\"slider\",requires:[\"Ext.slider.Thumb\",\"Ext.fx.easing.EaseOut\"],config:{baseCls:\"x-slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},value:0,minValue:0,maxValue:100,increment:1,allowThumbsOverlapping:false,animation:true},elementWidth:0,offsetValueRatio:0,activeThumb:null,constructor:function(a){a=a||{};if(a.hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a])},initialize:function(){var a=this.element;this.callParent();a.on({scope:this,tap:\"onTap\"});this.on({scope:this,delegate:\"> thumb\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});this.on({painted:\"refresh\",resize:\"refresh\"})},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumbs:function(){return this.innerItems},getThumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},refreshElementWidth:function(){this.elementWidth=this.element.dom.offsetWidth;var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}},refresh:function(){this.refreshElementWidth();this.refreshValue()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,g,f){var c=this.getThumb(d),b=this.getValue(),e=this.offsetValueRatio,a=c.getDraggable();a.setOffset(g*e,null,f);b[d]=g},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue;this.fireEvent(\"dragend\",this,a,this.getValue(),f);if(b!==d){this.fireEvent(\"change\",this,a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()){return}var k=Ext.get(j.target);if(!k||k.hasCls(\"x-thumb\")){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){Ext.Logger.warn(\"Invalid values of '\"+Ext.encode(d)+\"', values at smaller indexes must be smaller than or equal to values at greater indexes\");a=c}b.push(a);c=a}return b},updateValue:function(e,b){var a=this.getThumbs(),d=e.length,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset(e[c]*this.offsetValueRatio)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=e%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a)},getValues:function(){return this.getValue()},applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c){this.callParent(arguments);var a=this.getItems().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c)}}},function(){Ext.deprecateProperty(this,\"animationDuration\",null,\"Ext.slider.Slider.animationDuration has been removed\")});Ext.define(\"Ext.field.Slider\",{extend:\"Ext.field.Field\",xtype:\"sliderfield\",requires:[\"Ext.slider.Slider\"],alternateClassName:\"Ext.form.Slider\",config:{cls:Ext.baseCSSPrefix+\"slider-field\",tabIndex:-1},proxyConfig:{value:0,minValue:0,maxValue:100,increment:1},constructor:function(a){a=a||{};if(a.hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a])},initialize:function(){this.callParent();this.getComponent().on({scope:this,change:\"onSliderChange\",dragstart:\"onSliderDragStart\",drag:\"onSliderDrag\",dragend:\"onSliderDragEnd\"})},applyComponent:function(a){return Ext.factory(a,Ext.slider.Slider)},onSliderChange:function(){this.fireEvent.apply(this,[].concat(\"change\",this,Array.prototype.slice.call(arguments)))},onSliderDragStart:function(){this.fireEvent.apply(this,[].concat(\"dragstart\",this,Array.prototype.slice.call(arguments)))},onSliderDrag:function(){this.fireEvent.apply(this,[].concat(\"drag\",this,Array.prototype.slice.call(arguments)))},onSliderDragEnd:function(){this.fireEvent.apply(this,[].concat(\"dragend\",this,Array.prototype.slice.call(arguments)))},setValues:function(a){this.setValue(a)},getValues:function(){return this.getValue()},reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(a)},doSetDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)}});Ext.define(\"Ext.slider.Toggle\",{extend:\"Ext.slider.Slider\",config:{baseCls:\"x-toggle\",minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},initialize:function(){this.callParent();this.on({change:\"onChange\"})},applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},updateMaxValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},setValue:function(b,a){this.callParent(arguments);this.onChange(this,this.getThumbs()[0],b,a)},onChange:function(d,a,f,c){var g=f>0,b=d.getMaxValueCls(),e=d.getMinValueCls();this.element.addCls(g?b:e);this.element.removeCls(g?e:b)},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onTap:function(){if(this.isDisabled()){return}var b=this.getValue(),c=(b==1)?0:1,a=this.getThumb(0);this.setIndexValue(0,c,this.getAnimation());this.refreshThumbConstraints(a);this.fireEvent(\"change\",this,a,c,b)}});Ext.define(\"Ext.field.Toggle\",{extend:\"Ext.field.Slider\",xtype:\"togglefield\",alternateClassName:\"Ext.form.Toggle\",requires:[\"Ext.slider.Toggle\"],config:{cls:\"x-toggle-field\"},proxyConfig:{minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},applyComponent:function(a){return Ext.factory(a,Ext.slider.Toggle)},setValue:function(a){if(a===true){a=1}this.getComponent().setValue(a);return this},getValue:function(){return(this.getComponent().getValue()==1)?1:0},toggle:function(){this.getComponent().toggle();return this}});Ext.define(\"B2B.view.Component_IOSToggle\",{extend:\"Ext.field.Toggle\",xtype:\"iostogglefield\",config:{cls:\"ios5_toggle\"}});Ext.define(\"Ext.data.writer.Json\",{extend:\"Ext.data.writer.Writer\",alternateClassName:\"Ext.data.JsonWriter\",alias:\"writer.json\",config:{rootProperty:undefined,encode:false,allowSingle:true,encodeRequest:false},applyRootProperty:function(a){if(!a&&(this.getEncode()||this.getEncodeRequest())){a=\"data\"}return a},writeRecords:function(d,e){var a=this.getRootProperty(),f=d.getParams(),b=this.getAllowSingle(),c;if(this.getAllowSingle()&&e&&e.length==1){e=e[0]}if(this.getEncodeRequest()){c=d.getJsonData()||{};if(e&&(e.length||(b&&Ext.isObject(e)))){c[a]=e}d.setJsonData(Ext.apply(c,f||{}));d.setParams(null);d.setMethod(\"POST\");return d}if(!e||!(e.length||(b&&Ext.isObject(e)))){return d}if(this.getEncode()){if(a){f[a]=Ext.encode(e)}else{Ext.Logger.error(\"Must specify a root when using encode\")}}else{c=d.getJsonData()||{};if(a){c[a]=e}else{c=e}d.setJsonData(c)}return d}},function(){this.override({constructor:function(a){a=a||{};if(a.root){Ext.Logger.deprecate(\"root has been deprecated as a configuration on Writer. Please use rootProperty instead.\");a.rootProperty=a.root;delete a.root}this.callOverridden([a])}})});Ext.define(\"Ext.data.reader.Reader\",{requires:[\"Ext.data.ResultSet\"],alternateClassName:[\"Ext.data.Reader\",\"Ext.data.DataReader\"],mixins:[\"Ext.mixin.Observable\"],isReader:true,config:{idProperty:undefined,clientIdProperty:\"clientId\",totalProperty:\"total\",successProperty:\"success\",messageProperty:null,rootProperty:\"\",implicitIncludes:true,model:undefined},constructor:function(a){this.initConfig(a)},fieldCount:0,applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}return a},applyIdProperty:function(a){if(!a&&this.getModel()){a=this.getModel().getIdProperty()}return a},updateModel:function(a){if(a){if(!this.getIdProperty()){this.setIdProperty(a.getIdProperty())}this.buildExtractors()}},createAccessor:Ext.emptyFn,createFieldAccessExpression:function(){return\"undefined\"},buildExtractors:function(){if(!this.getModel()){return}var b=this,c=b.getTotalProperty(),a=b.getSuccessProperty(),d=b.getMessageProperty();if(c){b.getTotal=b.createAccessor(c)}if(a){b.getSuccess=b.createAccessor(a)}if(d){b.getMessage=b.createAccessor(d)}b.extractRecordData=b.buildRecordDataExtractor()},buildRecordDataExtractor:function(){var k=this,e=k.getModel(),g=e.getFields(),j=g.length,a=[],h=k.getModel().getClientIdProperty(),f=\"__field\",b=[\"var me = this,\\n\",\"    fields = me.getModel().getFields(),\\n\",\"    idProperty = me.getIdProperty(),\\n\",'    idPropertyIsFn = (typeof idProperty == \"function\"),',\"    value,\\n\",\"    internalId\"],d,l,c,m;g=g.items;for(d=0;d<j;d++){l=g[d];m=l.getName();if(m===e.getIdProperty()){a[d]=\"idField\"}else{a[d]=f+d}b.push(\",\\n    \",a[d],' = fields.get(\"',l.getName(),'\")')}b.push(\";\\n\\n    return function(source) {\\n        var dest = {};\\n\");b.push(\"        if (idPropertyIsFn) {\\n\");b.push(\"            idField.setMapping(idProperty);\\n\");b.push(\"        }\\n\");for(d=0;d<j;d++){l=g[d];c=a[d];m=l.getName();if(m===e.getIdProperty()&&l.getMapping()===null&&e.getIdProperty()!==this.getIdProperty()){l.setMapping(this.getIdProperty())}b.push(\"        try {\\n\");b.push(\"            value = \",k.createFieldAccessExpression(l,c,\"source\"),\";\\n\");b.push(\"            if (value !== undefined) {\\n\");b.push('                dest[\"'+l.getName()+'\"] = value;\\n');b.push(\"            }\\n\");b.push(\"        } catch(e){}\\n\")}if(h){b.push(\"        internalId = \"+k.createFieldAccessExpression(Ext.create(\"Ext.data.Field\",{name:h}),null,\"source\")+\";\\n\");b.push(\"        if (internalId !== undefined) {\\n\");b.push('            dest[\"_clientId\"] = internalId;\\n        }\\n')}b.push(\"        return dest;\\n\");b.push(\"    };\");return Ext.functionFactory(b.join(\"\")).call(k)},getFields:function(){return this.getModel().getFields().items},getData:function(a){return a},getResponseData:function(a){return a},getRoot:function(a){return a},read:function(c){var g=c,h=this.getModel(),e,b,d,f,a;if(c){g=this.getResponseData(c)}if(g){e=this.readRecords(g);b=e.getRecords();for(d=0,f=b.length;d<f;d++){a=b[d];b[d]=new h(a.data,a.id,a.node)}return e}else{return this.nullResultSet}},process:function(a){var b=a;if(a){b=this.getResponseData(a)}if(b){return this.readRecords(b)}else{return this.nullResultSet}},readRecords:function(c){var d=this;d.rawData=c;c=d.getData(c);if(c.metaData){d.onMetaChange(c.metaData)}if(!d.getModel()){Ext.Logger.warn(\"In order to read record data, a Reader needs to have a Model defined on it.\")}var f=Ext.isArray(c)?c:d.getRoot(c),h=true,b=0,e,g,a,i;if(d.getTotalProperty()){g=parseInt(d.getTotal(c),10);if(!isNaN(g)){e=g}}if(d.getSuccessProperty()){g=d.getSuccess(c);if(g===false||g===\"false\"){h=false}}if(d.getMessageProperty()){i=d.getMessage(c)}if(f){a=d.extractData(f);b=a.length}else{b=0;a=[]}return new Ext.data.ResultSet({total:e,count:b,records:a,success:h,message:i})},extractData:function(l){var j=this,e=[],c=l.length,h=j.getModel(),m=h.getIdProperty(),k=h.getFields(),d,g,f,b,a;if(k.isDirty){j.buildExtractors(true);delete k.isDirty}if(!l.length&&Ext.isObject(l)){l=[l];c=1}for(g=0;g<c;g++){a=null;b=null;d=l[g];if(d.isModel){f=d.data}else{f=j.extractRecordData(d)}if(f._clientId!==undefined){a=f._clientId;delete f._clientId}if(f[m]!==undefined){b=f[m]}if(j.getImplicitIncludes()){j.readAssociated(f,d)}e.push({clientId:a,id:b,data:f,node:d})}return e},readAssociated:function(h,g){var e=this.getModel().associations.items,d=0,f=e.length,a,c,b;for(;d<f;d++){a=e[d];b=a.getAssociationKey();c=this.getAssociatedDataRoot(g,b);if(c){h[b]=c}}},getAssociatedDataRoot:function(b,a){return b[a]},onMetaChange:function(f){var a=f.fields,e=this,d,c,b;e.metaData=f;if(f.rootProperty!==undefined){e.setRootProperty(f.rootProperty)}else{if(f.root!==undefined){e.setRootProperty(f.root)}}if(f.idProperty!==undefined){e.setIdProperty(f.idProperty)}if(f.totalProperty!==undefined){e.setTotalProperty(f.totalProperty)}if(f.successProperty!==undefined){e.setSuccessProperty(f.successProperty)}if(f.messageProperty!==undefined){e.setMessageProperty(f.messageProperty)}if(a){if(e.getModel()){e.getModel().setFields(a);e.buildExtractors()}else{b=e.getIdProperty();c={fields:a};if(b){c.idProperty=b}d=Ext.define(\"Ext.data.reader.MetaModel\"+Ext.id(),{extend:\"Ext.data.Model\",config:c});e.setModel(d)}}else{e.buildExtractors()}},onClassExtended:function(c,g,b){var e=this,a=e.prototype.config,d=g.config||{},f;for(f in a){if(f in g){d[f]=g[f];delete g[f];Ext.Logger.deprecate(f+\" is deprecated as a property directly on the Reader prototype. Please put it inside the config object.\")}}g.config=d}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:false})});this.override({constructor:function(a){a=a||{};if(a.root){Ext.Logger.deprecate(\"root has been deprecated as a configuration on Reader. Please use rootProperty instead.\");a.rootProperty=a.root;delete a.root}this.callOverridden([a])}})});Ext.define(\"Ext.data.reader.Json\",{extend:\"Ext.data.reader.Reader\",alternateClassName:\"Ext.data.JsonReader\",alias:\"reader.json\",config:{record:null,useSimpleAccessors:false},objectRe:/[\\[\\.]/,getResponseData:function(a){var d=a;if(a&&a.responseText){d=a.responseText}if(typeof d!==\"string\"){return d}var c;try{c=Ext.decode(d)}catch(b){this.fireEvent(\"exception\",this,a,\"Unable to parse the JSON returned by the server: \"+b.toString());Ext.Logger.warn(\"Unable to parse the JSON returned by the server: \"+b.toString())}if(!c){this.fireEvent(\"exception\",this,a,\"JSON object not found\");Ext.Logger.error(\"JSON object not found\")}return c},buildExtractors:function(){var b=this,a=b.getRootProperty();b.callParent(arguments);if(a){b.rootAccessor=b.createAccessor(a)}else{delete b.rootAccessor}},getRoot:function(b){var a=this.getModel().getFields();if(a.isDirty){this.buildExtractors(true);delete a.isDirty}if(this.rootAccessor){return this.rootAccessor.call(this,b)}else{return b}},extractData:function(a){var e=this.getRecord(),d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][e]}}else{d=a}return this.callParent([d])},createAccessor:function(){var a=/[\\[\\.]/;return function(c){if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}if(this.getUseSimpleAccessors()!==true){var b=String(c).search(a);if(b>=0){return Ext.functionFactory(\"obj\",\"var value; try {value = obj\"+(b>0?\".\":\"\")+c+\"} catch(e) {}; return value;\")}}return function(d){return d[c]}}}(),createFieldAccessExpression:function(g,b,c){var f=this,h=f.objectRe,e=(g.getMapping()!==null),a=e?g.getMapping():g.getName(),i,d;if(typeof a===\"function\"){i=b+\".getMapping()(\"+c+\", this)\"}else{if(f.getUseSimpleAccessors()===true||((d=String(a).search(h))<0)){if(!e||isNaN(a)){a='\"'+a+'\"'}i=c+\"[\"+a+\"]\"}else{i=c+(d>0?\".\":\"\")+a}}return i}});Ext.define(\"Ext.data.proxy.Proxy\",{extend:\"Ext.Evented\",alias:\"proxy.proxy\",alternateClassName:[\"Ext.data.DataProxy\",\"Ext.data.Proxy\"],requires:[\"Ext.data.reader.Json\",\"Ext.data.writer.Json\",\"Ext.data.Batch\",\"Ext.data.Operation\"],config:{batchOrder:\"create,update,destroy\",batchActions:true,model:null,reader:{type:\"json\"},writer:{type:\"json\"}},isProxy:true,applyModel:function(a){if(typeof a==\"string\"){a=Ext.data.ModelManager.getModel(a);if(!a){Ext.Logger.error(\"Model with name \"+arguments[0]+\" doesnt exist.\")}}if(a&&!a.prototype.isModel&&Ext.isObject(a)){a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a)}return a},updateModel:function(b){if(b){var a=this.getReader();if(a&&!a.getModel()){a.setModel(b)}}},applyReader:function(b,a){return Ext.factory(b,Ext.data.Reader,a,\"reader\")},updateReader:function(a){if(a){var b=this.getModel();if(!b){b=a.getModel();if(b){this.setModel(b)}}else{a.setModel(b)}if(a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}}},onMetaChange:function(b){var a=this.getReader().getModel();if(!this.getModel()&&a){this.setModel(a)}this.fireEvent(\"metachange\",this,b)},applyWriter:function(b,a){return Ext.factory(b,Ext.data.Writer,a,\"writer\")},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())},batch:function(e,f){var g=this,d=g.getBatchActions(),c=this.getModel(),b,a;if(e.operations===undefined){e={operations:e,batch:{listeners:f}};Ext.Logger.deprecate(\"Passes old-style signature to Proxy.batch (operations, listeners). Please convert to single options argument syntax.\")}if(e.batch){if(e.batch.isBatch){e.batch.setProxy(g)}else{e.batch.proxy=g}}else{e.batch={proxy:g,listeners:e.listeners||{}}}if(!b){b=new Ext.data.Batch(e.batch)}b.on(\"complete\",Ext.bind(g.onBatchComplete,g,[e],0));Ext.each(g.getBatchOrder().split(\",\"),function(h){a=e.operations[h];if(a){if(d){b.add(new Ext.data.Operation({action:h,records:a,model:c}))}else{Ext.each(a,function(i){b.add(new Ext.data.Operation({action:h,records:[i],model:c}))})}}},g);b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else{if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},onClassExtended:function(b,f){var d=this.prototype,a=d.config,c=f.config||{},e;for(e in a){if(e!=\"control\"&&e in f){c[e]=f[e];delete f[e];Ext.Logger.warn(e+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}f.config=c}},function(){});Ext.define(\"Ext.data.proxy.Server\",{extend:\"Ext.data.proxy.Proxy\",alias:\"proxy.server\",alternateClassName:\"Ext.data.ServerProxy\",requires:[\"Ext.data.Request\"],config:{url:null,pageParam:\"page\",startParam:\"start\",limitParam:\"limit\",groupParam:\"group\",sortParam:\"sort\",filterParam:\"filter\",directionParam:\"dir\",enablePagingParams:true,simpleSortMode:false,noCache:true,cacheString:\"_dc\",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},constructor:function(a){a=a||{};if(a.nocache!==undefined){a.noCache=a.nocache;Ext.Logger.warn(\"nocache configuration on Ext.data.proxy.Server has been deprecated. Please use noCache.\")}this.callParent([a])},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var c=this,d=Ext.applyIf(a.getParams()||{},c.getExtraParams()||{}),b;d=Ext.applyIf(d,c.getParams(a));b=Ext.create(\"Ext.data.Request\",{params:d,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:c});b.setUrl(c.buildUrl(b));a.setRequest(b);return b},processResponse:function(k,b,d,c,j,l){var h=this,a=b.getAction(),f,i;if(k===true){f=h.getReader();try{i=f.process(c)}catch(g){b.setException(g.message);h.fireEvent(\"exception\",this,c,b);return}if(!b.getModel()){b.setModel(this.getModel())}if(b.process(a,i,d,c)===false){this.fireEvent(\"exception\",this,c,b)}}else{h.setException(b,c);h.fireEvent(\"exception\",this,c,b)}if(typeof j==\"function\"){j.call(l||h,b)}h.afterRequest(d,k)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(d){var b=[],c=d.length,a=0;for(;a<c;a++){b[a]={property:d[a].getProperty(),direction:d[a].getDirection()}}return this.applyEncoding(b)},encodeFilters:function(d){var b=[],c=d.length,a=0;for(;a<c;a++){b[a]={property:d[a].getProperty(),value:d[a].getValue()}}return this.applyEncoding(b)},getParams:function(i){var n=this,h={},a=i.getGrouper(),m=i.getSorters(),f=i.getFilters(),l=i.getPage(),d=i.getStart(),g=i.getLimit(),o=n.getSimpleSortMode(),q=n.getPageParam(),k=n.getStartParam(),p=n.getLimitParam(),j=n.getGroupParam(),e=n.getSortParam(),c=n.getFilterParam(),b=n.getDirectionParam();if(n.getEnablePagingParams()){if(q&&l!==null){h[q]=l}if(k&&d!==null){h[k]=d}if(p&&g!==null){h[p]=g}}if(j&&a){h[j]=n.encodeSorters([a])}if(e&&m&&m.length>0){if(o){h[e]=m[0].getProperty();h[b]=m[0].getDirection()}else{h[e]=n.encodeSorters(m)}}if(c&&f&&f.length>0){h[c]=n.encodeFilters(f)}return h},buildUrl:function(c){var b=this,a=b.getUrl(c);if(!a){Ext.Logger.error(\"You are using a ServerProxy but have not supplied it with a url.\")}if(b.getNoCache()){a=Ext.urlAppend(a,Ext.String.format(\"{0}={1}\",b.getCacheString(),Ext.Date.now()))}return a},getUrl:function(a){return a?a.getUrl()||this.getApi()[a.getAction()]||this._url:this._url},doRequest:function(a,c,b){Ext.Logger.error(\"The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details\")},afterRequest:Ext.emptyFn});Ext.define(\"Ext.data.proxy.JsonP\",{extend:\"Ext.data.proxy.Server\",alternateClassName:\"Ext.data.ScriptTagProxy\",alias:[\"proxy.jsonp\",\"proxy.scripttag\"],requires:[\"Ext.data.JsonP\"],config:{defaultWriterType:\"base\",callbackKey:\"callback\",recordParam:\"records\",autoAppendParams:true},doRequest:function(a,g,b){var e=a.getAction();if(e!==\"read\"){Ext.Logger.error(\"JsonP proxies can only be used to read data.\")}var d=this,c=d.buildRequest(a),f=c.getParams();c.setConfig({callbackKey:d.getCallbackKey(),timeout:d.getTimeout(),scope:d,callback:d.createRequestCallback(c,a,g,b)});if(d.getAutoAppendParams()){c.setParams({})}c.setJsonP(Ext.data.JsonP.request(c.getCurrentConfig()));c.setParams(f);a.setStarted();d.lastRequest=c;return c},createRequestCallback:function(d,a,e,b){var c=this;return function(h,f,g){delete c.lastRequest;c.processResponse(h,a,d,f,e,b)}},setException:function(b,a){b.setException(b.getRequest().getJsonP().errorType)},buildUrl:function(f){var h=this,a=h.callParent(arguments),e=Ext.apply({},f.getParams()),c=e.filters,d,b,g,j;delete e.filters;if(h.getAutoAppendParams()){a=Ext.urlAppend(a,Ext.Object.toQueryString(e))}if(c&&c.length){for(g=0;g<c.length;g++){b=c[g];j=b.getValue();if(j){a=Ext.urlAppend(a,b.getProperty()+\"=\"+j)}}}return a},destroy:function(){this.abort();this.callParent(arguments)},abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.getJsonP())}}});Ext.define(\"Ext.data.proxy.Ajax\",{extend:\"Ext.data.proxy.Server\",requires:[\"Ext.util.MixedCollection\",\"Ext.Ajax\"],alias:\"proxy.ajax\",alternateClassName:[\"Ext.data.HttpProxy\",\"Ext.data.AjaxProxy\"],config:{actionMethods:{create:\"POST\",read:\"GET\",update:\"POST\",destroy:\"POST\"},headers:{},withCredentials:false},doRequest:function(a,e,b){var d=this.getWriter(),c=this.buildRequest(a);c.setConfig({headers:this.getHeaders(),timeout:this.getTimeout(),method:this.getMethod(c),callback:this.createRequestCallback(c,a,e,b),scope:this});if(a.getWithCredentials()||this.getWithCredentials()){c.setWithCredentials(true)}c=d.write(c);Ext.Ajax.request(c.getCurrentConfig());return c},getMethod:function(a){return this.getActionMethods()[a.getAction()]},createRequestCallback:function(d,a,e,b){var c=this;return function(g,h,f){c.processResponse(h,a,d,f,e,b)}}});Ext.define(\"Ext.data.Model\",{alternateClassName:\"Ext.data.Record\",mixins:{observable:\"Ext.mixin.Observable\"},isModel:true,requires:[\"Ext.util.Collection\",\"Ext.data.Field\",\"Ext.data.identifier.Simple\",\"Ext.data.ModelManager\",\"Ext.data.proxy.Ajax\",\"Ext.data.association.HasMany\",\"Ext.data.association.BelongsTo\",\"Ext.data.association.HasOne\",\"Ext.data.Errors\"],config:{idProperty:\"id\",data:null,fields:undefined,validations:null,associations:null,hasMany:null,hasOne:null,belongsTo:null,proxy:null,identifier:{type:\"simple\"},clientIdProperty:\"clientId\",isErased:false},staticConfigs:[\"idProperty\",\"fields\",\"validations\",\"associations\",\"hasMany\",\"hasOne\",\"belongsTo\",\"clientIdProperty\",\"identifier\",\"proxy\"],statics:{EDIT:\"edit\",REJECT:\"reject\",COMMIT:\"commit\",cache:{},generateProxyMethod:function(a){return function(){var b=this.prototype;return b[a].apply(b,arguments)}},generateCacheId:function(b,c){var a;if(b&&b.isModel){a=b.modelName;if(c===undefined){c=b.getId()}}else{a=b}return a.replace(/\\./g,\"-\").toLowerCase()+\"-\"+c}},inheritableStatics:{load:function(a,b,h){var f=this.getProxy(),i=this.getIdProperty(),e=null,d={},g,c;h=h||(b&&b.scope)||this;if(Ext.isFunction(b)){b={callback:b,scope:h}}d[i]=a;b=Ext.apply({},b);b=Ext.applyIf(b,{action:\"read\",params:d,model:this});c=Ext.create(\"Ext.data.Operation\",b);if(!f){Ext.Logger.error(\"You are trying to load a model that doesn't have a Proxy specified\")}g=function(j){if(j.wasSuccessful()){e=j.getRecords()[0];Ext.callback(b.success,h,[e,j])}else{Ext.callback(b.failure,h,[e,j])}Ext.callback(b.callback,h,[e,j])};f.read(c,g,this)}},editing:false,dirty:false,phantom:false,constructor:function(e,g,b,f){var d=this,c=null,a=this.getIdProperty();d.modified={};d.raw=b||e||{};d.stores=[];e=e||f||{};if(g||g===0){e[a]=d.internalId=g}g=e[a];if(g||g===0){c=Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,g)];if(c){return c.mergeData(f||e||{})}}if(f){d.setConvertedData(e)}else{d.setData(e)}g=d.data[a];if(!g&&g!==0){d.data[a]=d.internalId=d.id=d.getIdentifier().generate(d);d.phantom=true;if(this.associations.length){this.handleInlineAssociationData(e)}}else{d.id=d.getIdentifier().generate(d)}Ext.data.Model.cache[Ext.data.Model.generateCacheId(d)]=d;if(this.init&&typeof this.init==\"function\"){this.init()}},mergeData:function(a){var g=this,d=g.getFields().items,e=d.length,b=g.data,c,h,k,j,f;for(c=0;c<e;c++){h=d[c];k=h.getName();f=h.getConvert();j=a[k];if(j!==undefined&&!g.isModified(k)){if(f){j=f.call(h,j,g)}b[k]=j}}return this},setData:function(a){var g=this.fields.items,h=g.length,f=Ext.isArray(a),d=this._data=this.data={},e,k,b,l,j,c;if(!a){return this}for(e=0;e<h;e++){k=g[e];b=k.getName();j=k.getConvert();if(f){l=a[e]}else{l=a[b];if(typeof l==\"undefined\"){l=k.getDefaultValue()}}if(j){l=j.call(k,l,this)}d[b]=l}c=this.getId();if(this.associations.length&&(c||c===0)){this.handleInlineAssociationData(a)}return this},handleInlineAssociationData:function(e){var d=this.associations.items,h=d.length,f,c,b,g,j,a;for(f=0;f<h;f++){c=d[f];a=c.getAssociationKey();b=e[a];if(b){g=c.getReader();if(!g){j=c.getAssociatedModel().getProxy();if(j){g=j.getReader()}else{g=new Ext.data.JsonReader({model:c.getAssociatedModel()})}}c.read(this,g,b)}}},setId:function(b){var a=this.getId();this.set(this.getIdProperty(),b);this.internalId=b;delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,a)];Ext.data.Model.cache[Ext.data.Model.generateCacheId(this)]=this},getId:function(){return this.get(this.getIdProperty())},setConvertedData:function(a){this._data=this.data=a;return this},get:function(a){return this.data[a]},set:function(p,l){var j=this,b=j.fields.map,o=j.modified,a=!j.editing,c=j.associations.items,f=0,d=[],k,n,e,m,g,h;if(arguments.length==1){for(n in p){if(p.hasOwnProperty(n)){k=b[n];if(k&&k.hasCustomConvert()){d.push(n);continue}if(!f&&a){j.beginEdit()}++f;j.set(n,p[n])}}g=d.length;if(g){if(!f&&a){j.beginEdit()}f+=g;for(e=0;e<g;e++){k=d[e];j.set(k,p[k])}}if(a&&f){j.endEdit(false,d)}}else{k=b[p];h=k&&k.getConvert();if(h){l=h.call(k,l,j)}m=j.data[p];j.data[p]=l;if(k&&!j.isEqual(m,l)){if(o.hasOwnProperty(p)){if(j.isEqual(o[p],l)){delete o[p];j.dirty=false;for(n in o){if(o.hasOwnProperty(n)){j.dirty=true;break}}}}else{j.dirty=true;o[p]=m}}if(a){j.afterEdit([p],o)}}},isEqual:function(d,c){if(Ext.isDate(d)&&Ext.isDate(c)){return d.getTime()===c.getTime()}return d===c},beginEdit:function(){var a=this;if(!a.editing){a.editing=true;a.dirtySave=a.dirty;a.dataSave=Ext.apply({},a.data);a.modifiedSave=Ext.apply({},a.modified)}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a.data=a.dataSave;a.dirty=a.dirtySave;delete a.modifiedSave;delete a.dataSave;delete a.dirtySave}},endEdit:function(a,c){var b=this;if(b.editing){b.editing=false;if(a!==true&&(b.changedWhileEditing())){b.afterEdit(c||Ext.Object.getKeys(this.modified),this.modified)}delete b.modifiedSave;delete b.dataSave;delete b.dirtySave}},changedWhileEditing:function(){var c=this,b=c.dataSave,d=c.data,a;for(a in d){if(d.hasOwnProperty(a)){if(!c.isEqual(d[a],b[a])){return true}}}return false},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this.get(c)}}return b},isModified:function(a){return this.modified.hasOwnProperty(a)},save:function(b,d){var e=this,f=e.phantom?\"create\":\"update\",c=e.getProxy(),a,g;if(!c){Ext.Logger.error(\"You are trying to save a model instance that doesn't have a Proxy specified\")}b=b||{};d=d||e;if(Ext.isFunction(b)){b={callback:b,scope:d}}Ext.applyIf(b,{records:[e],action:f,model:e.self});a=Ext.create(\"Ext.data.Operation\",b);g=function(h){if(h.wasSuccessful()){Ext.callback(b.success,d,[e,h])}else{Ext.callback(b.failure,d,[e,h])}Ext.callback(b.callback,d,[e,h])};c[f](a,g,e);return e},erase:function(b,d){var e=this,c=this.getProxy(),a,f;if(!c){Ext.Logger.error(\"You are trying to erase a model instance that doesn't have a Proxy specified\")}b=b||{};d=d||e;if(Ext.isFunction(b)){b={callback:b,scope:d}}Ext.applyIf(b,{records:[e],action:\"destroy\",model:this.self});a=Ext.create(\"Ext.data.Operation\",b);f=function(g){if(g.wasSuccessful()){Ext.callback(b.success,d,[e,g])}else{Ext.callback(b.failure,d,[e,g])}Ext.callback(b.callback,d,[e,g])};c.destroy(a,f,e);return e},reject:function(a){var c=this,b=c.modified,d;for(d in b){if(b.hasOwnProperty(d)){if(typeof b[d]!=\"function\"){c.data[d]=b[d]}}}c.dirty=false;c.editing=false;c.modified={};if(a!==true){c.afterReject()}},commit:function(a){var c=this,b=this.modified;c.phantom=c.dirty=c.editing=false;c.modified={};if(a!==true){c.afterCommit(b)}},afterEdit:function(b,a){this.notifyStores(\"afterEdit\",b,a)},afterReject:function(){this.notifyStores(\"afterReject\")},afterCommit:function(a){this.notifyStores(\"afterCommit\",Ext.Object.getKeys(a||{}),a)},notifyStores:function(e){var c=Ext.Array.clone(arguments),a=this.stores,f=a.length,d,b;c[0]=this;for(d=0;d<f;++d){b=a[d];if(b!==undefined&&typeof b[e]==\"function\"){b[e].apply(b,c)}}},copy:function(c){var d=this,b=d.getIdProperty(),a=Ext.apply({},d.raw),e=Ext.apply({},d.data);delete a[b];delete e[b];return new d.self(null,c,a,e)},getData:function(a){var b=this.data;if(a===true){Ext.apply(b,this.getAssociatedData())}return b},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(o,a,n){var h=o.associations.items,l=h.length,e={},f,s,g,q,r,d,c,m,k,p,b;for(m=0;m<l;m++){d=h[m];s=d.getName();p=d.getType();b=true;if(n){b=p==n}if(b&&p.toLowerCase()==\"hasmany\"){f=o[d.getStoreName()];e[s]=[];if(f&&f.getCount()>0){g=f.data.items;r=g.length;for(k=0;k<r;k++){q=g[k];c=q.id;if(Ext.Array.indexOf(a,c)==-1){a.push(c);e[s][k]=q.getData();Ext.apply(e[s][k],this.prepareAssociatedData(q,a,n))}}}}else{if(b&&(p.toLowerCase()==\"belongsto\"||p.toLowerCase()==\"hasone\")){q=o[d.getInstanceName()];if(q!==undefined){c=q.id;if(Ext.Array.indexOf(a,c)===-1){a.push(c);e[s]=q.getData();Ext.apply(e[s],this.prepareAssociatedData(q,a,n))}}}}}return e},join:function(a){Ext.Array.include(this.stores,a)},unjoin:function(a){Ext.Array.remove(this.stores,a)},setDirty:function(){var b=this,a;b.dirty=true;b.fields.each(function(c){if(c.getPersist()){a=c.getName();b.modified[a]=b.get(a)}})},validate:function(){var j=Ext.create(\"Ext.data.Errors\"),c=this.getValidations().items,e=Ext.data.Validations,b,d,h,a,g,f;if(c){b=c.length;for(f=0;f<b;f++){d=c[f];h=d.field||d.name;g=d.type;a=e[g](d,this.get(h));if(!a){j.add(Ext.create(\"Ext.data.Error\",{field:h,message:d.message||e.getMessage(g)}))}}}return j},isValid:function(){return this.validate().isValid()},toUrl:function(){var b=this.$className.split(\".\"),a=b[b.length-1].toLowerCase();return a+\"/\"+this.getId()},destroy:function(){var a=this;a.notifyStores(\"afterErase\",a);delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(a)];a.raw=a.stores=a.modified=null;a.callParent(arguments)},markDirty:function(){if(Ext.isDefined(Ext.Logger)){Ext.Logger.deprecate(\"Ext.data.Model: markDirty has been deprecated. Use setDirty instead.\")}return this.setDirty.apply(this,arguments)},applyProxy:function(b,a){return Ext.factory(b,Ext.data.Proxy,a,\"proxy\")},updateProxy:function(a){if(a){a.setModel(this.self)}},applyAssociations:function(a){if(a){this.addAssociations(a,\"hasMany\")}},applyBelongsTo:function(a){if(a){this.addAssociations(a,\"belongsTo\")}},applyHasMany:function(a){if(a){this.addAssociations(a,\"hasMany\")}},applyHasOne:function(a){if(a){this.addAssociations(a,\"hasOne\")}},addAssociations:function(e,h){var f,d,b,c=this.self.modelName,g=this.self.associations,a;e=Ext.Array.from(e);for(d=0,f=e.length;d<f;d++){b=e[d];if(!Ext.isObject(b)){b={model:b}}Ext.applyIf(b,{type:h,ownerModel:c,associatedModel:b.model});delete b.model;a=Ext.Function.bind(function(i){g.add(Ext.data.association.Association.create(this))},b);Ext.ClassManager.onCreated(a,this,(typeof b.associatedModel===\"string\")?b.associatedModel:Ext.getClassName(b.associatedModel))}},applyValidations:function(a){if(a){if(!Ext.isArray(a)){a=[a]}this.addValidations(a)}},addValidations:function(a){this.self.validations.addAll(a)},applyFields:function(a){var b=this.superclass.fields;if(b){a=b.items.concat(a||[])}return a||[]},updateFields:function(c){var d=c.length,e=this,h=e.self.prototype,j=this.getIdProperty(),a,f,g,b;f=e._fields=e.fields=new Ext.util.Collection(h.getFieldName);for(b=0;b<d;b++){g=c[b];if(!g.isField){g=new Ext.data.Field(c[b])}f.add(g)}a=f.get(j);if(!a){f.add(new Ext.data.Field(j))}else{a.setType(\"auto\")}f.addSorter(h.sortConvertFields)},applyIdentifier:function(a){if(typeof a===\"string\"){a={type:a}}return Ext.factory(a,Ext.data.identifier.Simple,this.getIdentifier(),\"data.identifier\")},getFieldName:function(a){return a.getName()},sortConvertFields:function(a,d){var c=a.hasCustomConvert(),b=d.hasCustomConvert();if(c&&!b){return 1}if(!c&&b){return -1}return 0},onClassExtended:function(k,d,j){var f=j.onBeforeCreated,b=this,h=b.prototype,e=Ext.Class.configNameCache,g=h.staticConfigs.concat(d.staticConfigs||[]),c=h.config,a=d.config||{},i;if(d.idgen||a.idgen){a.identifier=d.idgen||a.idgen;Ext.Logger.deprecate('idgen is deprecated as a property. Please put it inside the config object under the new \"identifier\" configuration')}for(i in c){if(i in d){a[i]=d[i];delete d[i];Ext.Logger.deprecate(i+\" is deprecated as a property directly on the Model prototype. Please put it inside the config object.\")}}d.config=a;j.onBeforeCreated=function(A,t){var v=[],x=A.prototype,w={},m=x.config,n=g.length,q=[\"set\",\"get\"],s=q.length,o=m.associations||[],l=Ext.getClassName(A),z,y,r,p,u;for(r=0;r<n;r++){z=g[r];for(p=0;p<s;p++){y=e[z][q[p]];if(y in x){w[y]=b.generateProxyMethod(y)}}}A.addStatics(w);A.modelName=l;x.modelName=l;if(m.belongsTo){v.push(\"association.belongsto\")}if(m.hasMany){v.push(\"association.hasmany\")}if(m.hasOne){v.push(\"association.hasone\")}for(r=0,u=o.length;r<u;++r){v.push(\"association.\"+o[r].type.toLowerCase())}if(m.proxy){if(typeof m.proxy===\"string\"){v.push(\"proxy.\"+m.proxy)}else{if(typeof m.proxy.type===\"string\"){v.push(\"proxy.\"+m.proxy.type)}}}if(m.validations){v.push(\"Ext.data.Validations\")}Ext.require(v,function(){Ext.Function.interceptBefore(j,\"onCreated\",function(){Ext.data.ModelManager.registerType(l,A);var B=A.prototype.superclass;A.prototype.associations=A.associations=A.prototype._associations=(B&&B.associations)?B.associations.clone():new Ext.util.Collection(function(C){return C.getName()});A.prototype.validations=A.validations=A.prototype._validations=(B&&B.validations)?B.validations.clone():new Ext.util.Collection(function(C){return C.field?(C.field+\"-\"+C.type):(C.name+\"-\"+C.type)});A.prototype=Ext.Object.chain(A.prototype);A.prototype.initConfig.call(A.prototype,m);delete A.prototype.initConfig});f.call(b,A,t,j)})}}});Ext.define(\"B2B.model.FavoriteBeer\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idFavorite\",type:\"int\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},]}});Ext.define(\"Ext.data.proxy.Client\",{extend:\"Ext.data.proxy.Proxy\",alternateClassName:\"Ext.proxy.ClientProxy\",clear:function(){Ext.Logger.error(\"The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.\")}});Ext.define(\"Ext.data.proxy.Memory\",{extend:\"Ext.data.proxy.Client\",alias:\"proxy.memory\",alternateClassName:\"Ext.data.MemoryProxy\",isMemoryProxy:true,config:{data:[]},finishOperation:function(b,f,d){if(b){var c=0,e=b.getRecords(),a=e.length;for(c;c<a;c++){e[c].commit()}b.setSuccessful();Ext.callback(f,d||this,[b])}},create:function(){this.finishOperation.apply(this,arguments)},update:function(){this.finishOperation.apply(this,arguments)},destroy:function(){this.finishOperation.apply(this,arguments)},read:function(b,e,c){var d=this,a=d.getReader();if(b.process(\"read\",a.process(d.getData()))===false){this.fireEvent(\"exception\",this,null,b)}Ext.callback(e,c||d,[b])},clear:Ext.emptyFn});Ext.define(\"Ext.data.Store\",{alias:\"store.store\",extend:\"Ext.Evented\",requires:[\"Ext.util.Collection\",\"Ext.data.Operation\",\"Ext.data.proxy.Memory\",\"Ext.data.Model\",\"Ext.data.StoreManager\",\"Ext.util.Grouper\"],statics:{create:function(a){if(!a.isStore){if(!a.type){a.type=\"store\"}a=Ext.createByAlias(\"store.\"+a.type,a)}return a}},isStore:true,config:{storeId:undefined,data:null,autoLoad:null,autoSync:false,model:undefined,proxy:undefined,fields:null,remoteSort:false,remoteFilter:false,remoteGroup:false,filters:null,sorters:null,grouper:null,groupField:null,groupDir:null,getGroupString:null,pageSize:25,totalCount:null,clearOnPageLoad:true,modelDefaults:{},autoDestroy:false,syncRemovedRecords:true,destroyRemovedRecords:true},currentPage:1,constructor:function(a){a=a||{};this.data=this._data=this.createDataCollection();this.data.setSortRoot(\"data\");this.data.setFilterRoot(\"data\");this.removed=[];if(a.id&&!a.storeId){a.storeId=a.id;delete a.id}if(a.hasOwnProperty(\"sortOnLoad\")){Ext.Logger.deprecate(\"[Ext.data.Store] sortOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteSort and change sorting after the Store as loaded, in which case you need to call store.load() to fetch the sorted data from the server.\")}if(a.hasOwnProperty(\"filterOnLoad\")){Ext.Logger.deprecate(\"[Ext.data.Store] filterOnLoad is always activated in Sencha Touch 2 so your Store is always fully sorted after loading. The only expection is if you are using remoteFilter and change filtering after the Store as loaded, in which case you need to call store.load() to fetch the filtered data from the server.\")}if(a.hasOwnProperty(\"sortOnFilter\")){Ext.Logger.deprecate(\"[Ext.data.Store] sortOnFilter is deprecated and is always effectively true when sorting and filtering locally\")}this.initConfig(a)},createDataCollection:function(){return new Ext.util.Collection(function(a){return a.getId()})},applyStoreId:function(a){if(a===undefined||a===null){a=this.getUniqueId()}return a},updateStoreId:function(a,b){if(b){Ext.data.StoreManager.unregister(this)}if(a){Ext.data.StoreManager.register(this)}},applyModel:function(b){if(typeof b==\"string\"){var d=Ext.data.ModelManager.getModel(b);if(!d){Ext.Logger.error('Model with name \"'+b+'\" does not exist.')}b=d}if(b&&!b.prototype.isModel&&Ext.isObject(b)){b=Ext.data.ModelManager.registerType(b.storeId||b.id||Ext.id(),b)}if(!b){var a=this.getFields(),c=this.config.data;if(!a&&c&&c.length){a=Ext.Object.getKeys(c[0])}if(a){b=Ext.define(\"Ext.data.Store.ImplicitModel-\"+(this.getStoreId()||Ext.id()),{extend:\"Ext.data.Model\",config:{fields:a,proxy:this.getProxy()}});this.implicitModel=true}}if(!b&&this.getProxy()){b=this.getProxy().getModel()}if(!b){Ext.Logger.warn(\"Unless you define your model through metadata, a store needs to have a model defined on either itself or on its proxy\")}return b},updateModel:function(a){var b=this.getProxy();if(b&&!b.getModel()){b.setModel(a)}},applyProxy:function(b,a){b=Ext.factory(b,Ext.data.Proxy,a,\"proxy\");if(!b&&this.getModel()){b=this.getModel().getProxy()}if(!b){b=new Ext.data.proxy.Memory({model:this.getModel()})}if(b.isMemoryProxy){this.setSyncRemovedRecords(false)}return b},updateProxy:function(a){if(a){if(!a.getModel()){a.setModel(this.getModel())}a.on(\"metachange\",this.onMetaChange,this)}},applyData:function(c){var b=this,a;if(c){a=b.getProxy();if(a instanceof Ext.data.proxy.Memory){a.setData(c);b.load()}else{b.removeAll(true);b.fireEvent(\"clear\",b);b.suspendEvents();b.add(c);b.resumeEvents();b.dataLoaded=true}}else{b.removeAll(true);b.fireEvent(\"clear\",b)}b.fireEvent(\"refresh\",b,b.data)},clearData:function(){this.setData(null)},addData:function(d){var a=this.getProxy().getReader(),c=a.read(d),b=c.getRecords();this.add(b)},updateAutoLoad:function(a){var b=this.getProxy();if(a&&(b&&!b.isMemoryProxy)){this.load(Ext.isObject(a)?a:null)}},isAutoLoading:function(){var a=this.getProxy();return(this.getAutoLoad()||(a&&a.isMemoryProxy)||this.dataLoaded)},updateGroupField:function(a){var b=this.getGrouper();if(a){if(!b){this.setGrouper({property:a,direction:this.getGroupDir()||\"ASC\"})}else{b.setProperty(a)}}else{if(b){this.setGrouper(null)}}},updateGroupDir:function(a){var b=this.getGrouper();if(b){b.setDirection(a)}},applyGetGroupString:function(b){var a=this.getGrouper();if(b){Ext.Logger.warn(\"Specifying getGroupString on a store has been deprecated. Please use grouper: {groupFn: yourFunction}\");if(a){a.setGroupFn(b)}else{this.setGrouper({groupFn:b})}}else{if(a){this.setGrouper(null)}}},applyGrouper:function(a){if(typeof a==\"string\"){a={property:a}}else{if(typeof a==\"function\"){a={groupFn:a}}}a=Ext.factory(a,Ext.util.Grouper,this.getGrouper());return a},updateGrouper:function(b,a){var c=this.data;if(a){c.removeSorter(a);if(!b){c.getSorters().removeSorter(\"isGrouper\")}}if(b){c.insertSorter(0,b);if(!a){c.getSorters().addSorter({direction:\"DESC\",property:\"isGrouper\",transform:function(d){return(d===true)?1:-1}})}}},isGrouped:function(){return !!this.getGrouped()},updateSorters:function(d){var b=this.getGrouper(),c=this.data,a=c.getAutoSort();c.setAutoSort(false);c.setSorters(d);if(b){c.insertSorter(0,b)}this.updateSortTypes();c.setAutoSort(a)},updateSortTypes:function(){var b=this.getModel(),a=b&&b.getFields(),c=this.data;if(a){c.getSorters().each(function(f){var d=f.getProperty(),e;if(!f.isGrouper&&d&&!f.getTransform()){e=a.get(d);if(e){f.setTransform(e.getSortType())}}})}},updateFilters:function(a){this.data.setFilters(a)},add:function(a){if(!Ext.isArray(a)){a=Array.prototype.slice.apply(arguments)}return this.insert(this.data.length,a)},insert:function(f,b){if(!Ext.isArray(b)){b=Array.prototype.slice.call(arguments,1)}var j=this,l=false,d=this.data,g=b.length,a=this.getModel(),h=j.getModelDefaults(),k=false,c,e;b=b.slice();for(c=0;c<g;c++){e=b[c];if(!e.isModel){e=new a(e)}else{if(this.removed.indexOf(e)!=-1){Ext.Array.remove(this.removed,e)}}e.set(h);e.join(j);b[c]=e;l=l||(e.phantom===true)}if(b.length===1){k=d.insert(f,b[0]);if(k){k=[k]}}else{k=d.insertAll(f,b)}if(k){j.fireEvent(\"addrecords\",j,k)}if(j.getAutoSync()&&l){j.sync()}return b},remove:function(b){if(b.isModel){b=[b]}var m=this,n=false,e=0,a=this.getAutoSync(),q=m.getSyncRemovedRecords(),c=this.getDestroyRemovedRecords(),l=b.length,p=[],h=[],o,k=m.data.items,f,g,d;for(;e<l;e++){f=b[e];if(m.data.contains(f)){o=(f.phantom===true);g=k.indexOf(f);if(g!==-1){h.push(f);p.push(g)}f.unjoin(m);m.data.remove(f);if(c&&!q&&!f.stores.length){f.destroy()}else{if(!o&&q){m.removed.push(f)}}n=n||!o}}m.fireEvent(\"removerecords\",m,h,p);if(a&&n){m.sync()}},removeAt:function(b){var a=this.getAt(b);if(a){this.remove(a)}},removeAll:function(a){if(a!==true){this.fireAction(\"clear\",[this],\"doRemoveAll\")}else{this.doRemoveAll.call(this,true)}},doRemoveAll:function(d){var g=this,a=this.getDestroyRemovedRecords(),h=this.getSyncRemovedRecords(),c=g.data.all.slice(),f=c.length,e,b;for(e=0;e<f;e++){b=c[e];b.unjoin(g);if(a&&!h&&!b.stores.length){b.destroy()}else{if(b.phantom!==true&&h){g.removed.push(b)}}}g.data.clear();if(d!==true){g.fireEvent(\"refresh\",g,g.data)}if(g.getAutoSync()){this.sync()}},each:function(b,a){this.data.each(b,a)},getCount:function(){return this.data.items.length||0},getAllCount:function(){return this.data.all.length||0},getAt:function(a){return this.data.getAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},getById:function(a){return this.data.findBy(function(b){return b.getId()==a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},afterEdit:function(c,g,d){var f=this,h=f.data,a=d[c.getIdProperty()]||c.getId(),b=h.keys.indexOf(a),e;if(b===-1&&h.map[a]===undefined){return}if(f.getAutoSync()){f.sync()}if(a!==c.getId()){h.replace(a,c)}else{h.replace(c)}e=h.indexOf(c);if(b===-1&&e!==-1){f.fireEvent(\"addrecords\",f,[c])}else{if(b!==-1&&e===-1){f.fireEvent(\"removerecords\",f,[c],[b])}else{if(e!==-1){f.fireEvent(\"updaterecord\",f,c,e,b,g,d)}}}},afterReject:function(a){var b=this.data.indexOf(a);this.fireEvent(\"updaterecord\",this,a,b,b,[],{})},afterCommit:function(c,g,d){var f=this,h=f.data,a=d[c.getIdProperty()]||c.getId(),b=h.keys.indexOf(a),e;if(b===-1&&h.map[a]===undefined){return}if(a!==c.getId()){h.replace(a,c)}else{h.replace(c)}e=h.indexOf(c);if(b===-1&&e!==-1){f.fireEvent(\"addrecords\",f,[c])}else{if(b!==-1&&e===-1){f.fireEvent(\"removerecords\",f,[c],[b])}else{if(e!==-1){f.fireEvent(\"updaterecord\",f,c,e,b,g,d)}}}},afterErase:function(a){var c=this,d=c.data,b=d.indexOf(a);if(b!==-1){d.remove(a);c.fireEvent(\"removerecords\",c,[a],[b])}},updateRemoteFilter:function(a){this.data.setAutoFilter(!a)},updateRemoteSort:function(a){this.data.setAutoSort(!a)},sort:function(f,d,c){var e=this.data,b=this.getGrouper(),a=e.getAutoSort();if(f){e.setAutoSort(false);if(typeof c===\"string\"){if(c==\"prepend\"){e.insertSorters(b?1:0,f,d)}else{e.addSorters(f,d)}}else{e.setSorters(null);if(b){e.addSorters(b)}e.addSorters(f,d)}this.updateSortTypes();e.setAutoSort(a)}if(!this.getRemoteSort()){if(!f){this.data.sort()}this.fireEvent(\"sort\",this,this.data,this.data.getSorters());if(e.length){this.fireEvent(\"refresh\",this,this.data)}}},filter:function(e,d,f,a){var c=this.data,b=e?((Ext.isFunction(e)||e.isFilter)?e:{property:e,value:d,anyMatch:f,caseSensitive:a,id:e}):null;if(this.getRemoteFilter()){if(e){if(Ext.isString(e)){c.addFilters(b)}else{if(Ext.isArray(e)||e.isFilter){c.addFilters(e)}}}}else{c.filter(b);this.fireEvent(\"filter\",this,c,c.getFilters());this.fireEvent(\"refresh\",this,c)}},filterBy:function(b,a){var d=this,e=d.data,c=e.length;e.filter({filterFn:b,scope:a});this.fireEvent(\"filter\",this,e,e.getFilters());if(e.length!==c){this.fireEvent(\"refresh\",this,e)}},queryBy:function(b,a){return this.data.filterBy(b,a||this)},clearFilter:function(a){var b=this.data.length;if(a){this.suspendEvents()}this.data.setFilters(null);if(a){this.resumeEvents()}else{if(b!==this.data.length){this.fireEvent(\"refresh\",this,this.data)}}},isFiltered:function(){return this.data.filtered},getSorters:function(){var a=this.data.getSorters();return(a)?a.items:[]},getFilters:function(){var a=this.data.getFilters();return(a)?a.items:[]},getGroups:function(c){var e=this.data.items,b=e.length,a=this.getGrouper(),d=[],k={},g,h,j,f;if(!a){Ext.Logger.error(\"Trying to get groups for a store that has no grouper\")}for(f=0;f<b;f++){g=e[f];h=a.getGroupString(g);j=k[h];if(j===undefined){j={name:h,children:[]};d.push(j);k[h]=j}j.children.push(g)}return c?k[c]:d},getGroupString:function(a){var b=this.getGrouper();if(b){return b.getGroupString(a)}return null},find:function(g,d,e,f,a,c){var b=Ext.create(\"Ext.util.Filter\",{property:g,value:d,anyMatch:f,caseSensitive:a,exactMatch:c,root:\"data\"});return this.data.findIndexBy(b.getFilterFn(),null,e)},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return a!==-1?b.getAt(a):null},findExact:function(c,a,b){return this.data.findIndexBy(function(d){return d.get(c)===a},this,b)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},load:function(c,e){var f=this,b,d=f.currentPage,a=f.getPageSize();c=c||{};if(Ext.isFunction(c)){c={callback:c,scope:e||this}}if(f.getRemoteSort()){c.sorters=c.sorters||this.getSorters()}if(f.getRemoteFilter()){c.filters=c.filters||this.getFilters()}if(f.getRemoteGroup()){c.grouper=c.grouper||this.getGrouper()}Ext.applyIf(c,{page:d,start:(d-1)*a,limit:a,addRecords:false,action:\"read\",model:this.getModel()});b=Ext.create(\"Ext.data.Operation\",c);if(f.fireEvent(\"beforeload\",f,b)!==false){f.loading=true;f.getProxy().read(b,f.onProxyLoad,f)}return f},isLoading:function(){return Boolean(this.loading)},isLoaded:function(){return Boolean(this.loaded)},sync:function(){var d=this,b={},e=d.getNewRecords(),c=d.getUpdatedRecords(),a=d.getRemovedRecords(),f=false;if(e.length>0){b.create=e;f=true}if(c.length>0){b.update=c;f=true}if(a.length>0){b.destroy=a;f=true}if(f&&d.fireEvent(\"beforesync\",this,b)!==false){d.getProxy().batch({operations:b,listeners:d.getBatchListeners()})}return{added:e,updated:c,removed:a}},first:function(){return this.data.first()},last:function(){return this.data.last()},sum:function(e){var d=0,c=0,b=this.data.items,a=b.length;for(;c<a;++c){d+=b[c].get(e)}return d},min:function(f){var d=1,b=this.data.items,a=b.length,e,c;if(a>0){c=b[0].get(f)}for(;d<a;++d){e=b[d].get(f);if(e<c){c=e}}return c},max:function(f){var d=1,c=this.data.items,b=c.length,e,a;if(b>0){a=c[0].get(f)}for(;d<b;++d){e=c[d].get(f);if(e>a){a=e}}return a},average:function(e){var c=0,b=this.data.items,a=b.length,d=0;if(b.length>0){for(;c<a;++c){d+=b[c].get(e)}return d/a}return 0},getBatchListeners:function(){return{scope:this,exception:this.onBatchException,complete:this.onBatchComplete}},onBatchComplete:function(b){var e=this,a=b.operations,d=a.length,c;for(c=0;c<d;c++){e.onProxyWrite(a[c])}},onBatchException:function(b,a){},onProxyLoad:function(b){var d=this,a=b.getRecords(),c=b.getResultSet(),e=b.wasSuccessful();if(c){d.setTotalCount(c.getTotal())}if(e){this.fireAction(\"datarefresh\",[this,this.data,b],\"doDataRefresh\")}d.loaded=true;d.loading=false;d.fireEvent(\"load\",this,a,e,b);Ext.callback(b.getCallback(),b.getScope()||d,[a,b,e])},doDataRefresh:function(l,f,b){var a=b.getRecords(),k=this,d=k.getDestroyRemovedRecords(),m=k.getSyncRemovedRecords(),c=f.all.slice(),h=k.removed,j=c.length,e,g;if(b.getAddRecords()!==true){for(e=0;e<j;e++){g=c[e];g.unjoin(k);if(a.indexOf(g)===-1){if(m&&g.phantom!==true){h.push(g)}else{if(d&&!m&&!g.stores.length){g.destroy()}}}}f.clear();k.fireEvent(\"clear\",k)}if(a&&a.length){k.suspendEvents();k.add(a);k.resumeEvents()}k.fireEvent(\"refresh\",k,f)},onProxyWrite:function(b){var c=this,d=b.wasSuccessful(),a=b.getRecords();switch(b.getAction()){case\"create\":c.onCreateRecords(a,b,d);break;case\"update\":c.onUpdateRecords(a,b,d);break;case\"destroy\":c.onDestroyRecords(a,b,d);break}if(d){c.fireEvent(\"write\",c,b)}Ext.callback(b.getCallback(),b.getScope()||c,[a,b,d])},onCreateRecords:function(b,a,c){},onUpdateRecords:function(b,a,c){},onDestroyRecords:function(b,a,c){this.removed=[]},onMetaChange:function(b){var a=this.getProxy().getModel();if(!this.getModel()&&a){this.setModel(a)}this.fireEvent(\"metachange\",this,b)},getNewRecords:function(){return this.data.filterBy(function(a){return a.phantom===true&&a.isValid()}).items},getUpdatedRecords:function(){return this.data.filterBy(function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()}).items},getRemovedRecords:function(){return this.removed},loadPage:function(f,c,d){if(typeof c===\"function\"){c={callback:c,scope:d||this}}var e=this,b=e.getPageSize(),a=e.getClearOnPageLoad();c=Ext.apply({},c);e.currentPage=f;e.load(Ext.applyIf(c,{page:f,start:(f-1)*b,limit:b,addRecords:!a}))},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},onClassExtended:function(b,f){var d=this.prototype,a=d.config,c=f.config||{},e;for(e in a){if(e!=\"control\"&&e in f){c[e]=f[e];delete f[e];Ext.Logger.deprecate(e+\" is deprecated as a property directly on the \"+this.$className+\" prototype. Please put it inside the config object.\")}}f.config=c}},function(){this.override({loadData:function(b,a){Ext.Logger.deprecate(\"loadData is deprecated, please use either add or setData\");if(a){this.add(b)}else{this.setData(b)}},doAddListener:function(c,e,d,b,a){switch(c){case\"update\":Ext.Logger.warn(\"The update event on Store has been removed. Please use the updaterecord event from now on.\");return this;case\"add\":Ext.Logger.warn(\"The add event on Store has been removed. Please use the addrecords event from now on.\");return this;case\"remove\":Ext.Logger.warn(\"The remove event on Store has been removed. Please use the removerecords event from now on.\");return this;case\"datachanged\":Ext.Logger.warn(\"The datachanged event on Store has been removed. Please use the refresh event from now on.\");return this;break}return this.callParent(arguments)}});Ext.deprecateMethod(this,\"loadRecords\",\"add\",\"Ext.data.Store#loadRecords has been deprecated. Please use the add method.\")});Ext.define(\"B2B.store.Activities_Ajax\",{extend:\"Ext.data.Store\",id:\"Activities_Ajax\",config:{model:\"B2B.model.Activity\",proxy:{type:\"ajax\",url:\"json/mock_activitylist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{id_user:\"user-5\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Activities_Ajax, copying to Local\");var b=Ext.getStore(\"Activities_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Beers_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"Beers_Ajax\",config:{model:\"B2B.model.Beer\",proxy:{type:\"ajax\",url:\"json/mock_beerlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Beer_Ajax\")}}}});Ext.define(\"B2B.store.Friends_Ajax\",{extend:\"Ext.data.Store\",id:\"Friends_Ajax\",config:{model:\"B2B.model.Friend\",sorters:\"displayName\",proxy:{type:\"ajax\",url:\"json/mock_friendlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Friends Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Store.Friends_Ajax, copying to Local\");var b=Ext.getStore(\"Friends_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Profile_Ajax\",{extend:\"Ext.data.Store\",id:\"Profile_Ajax\",config:{model:\"B2B.model.User\",proxy:{type:\"ajax\",url:\"json/mock_user.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},},autoload:false,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);goingTo.step3(\"Nevermind We will use the LS\")},load:function(d,a,g){HH.log(\"* Loaded: Store.Profile_Ajax, copying to Local\");var c=Ext.getStore(\"Profile_Local\"),b=false,f=false,e=false;if(c.getCount>0){localJSON=c.first().data;remoteJSON=d.first().data;HH.log(\"---> Step: Calculating if other Stores need refresh\");b=(localJSON.hash_beerlist!==remoteJSON.hash_beerlist);f=(localJSON.hash_friendlist!==remoteJSON.hash_friendlist);e=(localJSON.hash_notificationlist!==remoteJSON.hash_notificationlist)}c.removeAll();c.getProxy().clear();this.each(function(h){c.add(h.data)});c.sync();this.removeAll();goingTo.step3(\"Load: App Defaults from Store.Profile_Local\",b,f,e)}}},});Ext.define(\"B2B.store.Places_Ajax\",{extend:\"Ext.data.Store\",id:\"Places_Ajax\",config:{model:\"B2B.model.Place\",proxy:{type:\"ajax\",url:\"json/mock_placelist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Places_Ajax\")}}}});Ext.define(\"B2B.store.Drinks_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"Drinks_Ajax\",config:{model:\"B2B.model.Drink\",proxy:{type:\"ajax\",url:\"json/mock_drinklist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,c,f){HH.log(\"* Loaded: Store.Drinks_Ajax, copying to Local\");var j=Ext.getStore(\"Drinks_Local\"),d=HH.default_user48,i=b.first(),e=Ext.getCmp(\"lastdrink\"),h=\"\",g=\"\",a=\"\";if(e){h=(i.data.beerName?i.data.beerName:\"\");g=(i.data.placeName?i.data.placeName:\"\");e.setHtml(['<div class=\"lastdrink\">','<img class=\"avatar_medium\" src=\"'+d+'\" width=\"48\" height=\"48\" >','<div class=\"small-list-when\"> 2 min fa</div>','<div class=\"medium-list-text\">Your lastest drink was a <strong>'+h+\"</strong>, at <strong>\"+g+\"</strong></div>\",\"</div>\"].join(\"\"))}j.removeAll();j.getProxy().clear();this.each(function(k){j.add(k.data)});j.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Activities_User_Ajax\",{extend:\"Ext.data.Store\",id:\"Activities_User_Ajax\",config:{model:\"B2B.model.Activity\",proxy:{type:\"ajax\",url:\"json/mock_activityuser.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Activities_User_Ajax\")}}}});Ext.define(\"B2B.store.Notifications_Local\",{extend:\"Ext.data.Store\",id:\"Notifications_Local\",config:{model:\"B2B.model.Notification\",proxy:{type:\"localstorage\"},autoload:true,autosync:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Friends Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Notification_Local\")}}}});Ext.define(\"B2B.store.Feedback_Ajax\",{extend:\"Ext.data.Store\",id:\"Feedback_Ajax\",config:{model:\"B2B.model.Feedback\",proxy:{type:\"ajax\",url:\"json/mock_feedbacklist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{target:\"\"}},autosync:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Feedback Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Feedback_Ajax\")}}}});Ext.define(\"B2B.store.Badges_Ajax\",{extend:\"Ext.data.Store\",id:\"Badges_Ajax\",config:{model:\"B2B.model.Badge\",proxy:{type:\"ajax\",url:\"json/mock_badgelist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},autoLoad:true,listeners:{exception:function(c,b,a){console.error(\"Failure Badge\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Badges Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Badges_Ajax\")}}}});Ext.define(\"B2B.store.DrinkInCheckIn_Ajax\",{extend:\"Ext.data.Store\",requires:\"Ext.data.proxy.JsonP\",id:\"DrinkInCheckIn_Ajax\",config:{model:\"B2B.model.Drink\",proxy:{type:\"ajax\",url:\"json/mock_drinkincheckinlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"}},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Beers Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.DrinkinCheckIn_Ajax\")}}}});Ext.define(\"Ext.ux.slidenavigation.SlideNavigation\",{extend:\"Ext.Container\",requires:[\"Ext.Button\",\"Ext.Container\",\"Ext.Function\",\"Ext.ModelManager\",\"Ext.Toolbar\",\"Ext.data.Model\",\"Ext.data.Store\",\"Ext.dataview.List\",],xtype:\"slidenavigationview\",setTitle:function(a){},config:{list:{width:250,maxDrag:null,itemTpl:\"{title}\",grouped:true,items:[{xtype:\"toolbar\",id:\"sliderToolbar\",docked:\"top\",ui:\"light\"}]},container:{},items:[],groups:{},defaults:{layout:\"card\"},slideSelector:\"\",slideDuration:Ext.os.is.Android?0:100,selectSlideDuration:Ext.os.is.Android?0:300,closeOnSelect:true},initConfig:function(){var a=this;a._indexCount=0;a.store=Ext.create(\"Ext.data.Store\",{model:a.getModel(),sorters:\"order\",grouper:{property:\"group\",sortProperty:\"groupOrder\"}});a.addItems(a.config.items||[]);delete a.config.items;a.callParent(arguments);a._cache={};a.slideButtonDefaults={xtype:\"button\",iconMask:true,iconCls:\"more\",name:\"slidebutton\",listeners:{release:a.toggleContainer,scope:a},}},initialize:function(){this.callParent();this.addCls(\"x-slidenavigation\");this.list=this.createNavigationList();this.container=this.createContainer();this.add([this.list,this.container]);this.list.select(0)},addItems:function(b){var c=this,b=Ext.isArray(b)?b:[b],a=c.config.groups;Ext.each(b,function(e,d){if(!Ext.isDefined(e.index)){e.index=c._indexCount;c._indexCount++}c.store.add(e)})},createSlideButton:function(c,a){var d=this,b=c.down(a.selector);if(b){return b.add(Ext.merge(d.slideButtonDefaults,a))}return false},onSelect:function(g,f,d){var e=this,b=g.getStore(),c=f.raw.index,a=e.container;if(e._cache[c]==undefined){if(Ext.isFunction(f.raw.handler)){e._cache[c]=f.raw.handler}else{e._cache[c]=a.add(Ext.merge(e.config.defaults,f.raw));if((f.raw.slideButton||false)){e.createSlideButton(e._cache[c],f.raw.slideButton)}}}if(Ext.isFunction(this._cache[c])){this._cache[c]()}else{a.setActiveItem(this._cache[c])}if(this.config.closeOnSelect){this.closeContainer(this.config.selectSlideDuration)}},onContainerDrag:function(a,c,d,b){if(d.x<1){this.setClosed(true)}else{this.setClosed(false)}},onContainerDragstart:function(a,c,d,b){if(this.config.slideSelector==false){return false}if(this.config.slideSelector){node=c.target;while(node=node.parentNode){if(node.className&&node.className.indexOf(this.config.slideSelector)>-1){return true}}return false}return false},onContainerDragend:function(b,g,c){var d=Math.abs(g.deltaX/g.deltaTime),f=(g.deltaX>0)?\"right\":\"left\",h=Ext.clone(b.offset),a=parseInt(this.config.list.width*0.7);switch(f){case\"right\":h.x=(d>0.75||h.x>a)?this.config.list.minDrag:0;break;case\"left\":h.x=(d>0.75||h.x<a)?0:this.config.list.minDrag;break}this.moveContainer(h.x)},getModel:function(){var b=\"SlideNavigationPanelItem\",a=this.config.groups;if(!Ext.ModelManager.get(b)){Ext.define(b,{extend:\"Ext.data.Model\",config:{idProperty:\"index\",fields:[\"index\",\"title\",\"group\",{name:\"order\",defaultValue:1},{name:\"groupOrder\",convert:function(d,c){group=c.get(\"group\");return a[group]||group}}]}})}return b},closeContainer:function(a){var a=a||this.config.slideDuration;this.moveContainer(0,a)},openContainer:function(a){var a=a||this.config.slideDuration;this.container.addCls(\"open\");this.moveContainer(this.config.list.minDrag,a)},toggleContainer:function(a){var a=Ext.isNumber(a)?a:this.config.slideDuration;if(this.isClosed()){this.openContainer(a)}else{this.closeContainer(a)}},moveContainer:function(b,c){var c=c||this.config.slideDuration,a=this.container.draggableBehavior.draggable;a.setOffset(b,0,{duration:c})},isClosed:function(){return(this.container.draggableBehavior.draggable.offset.x==0)},setClosed:function(a){if(a){this.container.removeCls(\"open\")}else{this.container.addCls(\"open\")}},createNavigationList:function(a){return Ext.create(\"Ext.dataview.List\",Ext.merge({},this.config.list,{store:this.store,docked:\"left\",cls:\"x-slidenavigation-list\",style:\"position: absolute; top: 0; left: 0; height: 100%;width: 100% !important; z-index: 2\",listeners:{select:this.onSelect,scope:this}}))},createContainer:function(){return Ext.create(\"Ext.Container\",Ext.merge({},this.config.container,{docked:\"left\",cls:\"x-slidenavigation-container\",style:\"width: 100%; height: 100%; position: absolute; opacity: 1; z-index: 5\",docked:\"left\",layout:\"card\",draggable:{direction:\"horizontal\",constraint:{min:{x:0,y:0},max:{x:this.config.list.maxDrag||Math.max(screen.width,screen.height),y:0}},listeners:{dragstart:{fn:this.onContainerDragstart,order:\"before\",scope:this},drag:Ext.Function.createThrottled(this.onContainerDrag,100,this),dragend:this.onContainerDragend,scope:this},translatable:{listeners:{animationend:function(d,a,e){this.setClosed(this.isClosed())},scope:this}}}}))},getActiveItem:function(){var a=this.list.getSelection();if(a){return a[0]}}});Ext.define(\"B2B.view._App_Slider\",{extend:\"Ext.ux.slidenavigation.SlideNavigation\",xtype:\"appslidercontainer\",id:\"appslidercontainer\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.event.publisher.Dom\"],config:{fullscreen:true,slideSelector:\"slidableToolbar\",selectSlideDuration:200,list:{minDrag:200,maxDrag:400,width:400,items:[{xtype:\"toolbar\",docked:\"top\",ui:\"plain\",id:\"slider_toolbar\",title:{title:'<img id=\"slider_logo\" src=\"resources/img/logopin_text_black_small.png\" width=\"160px\">',width:200,left:0}}]},groups:{Profile:1,News:2,Privacy:3},defaults:{xtype:\"container\"},items:[{title:'<div class=\"nav_slidemenu_profile\">'+i18n.app.PANEL_CLAIM+\"</div>\",slideButton:{selector:\"titlebar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"App_Container\"}]},{title:i18n.app.LABEL_WHATSNEW,group:\"News\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"viewwhatsnew\"}]},{title:i18n.app.LABEL_TERMS,group:\"Privacy\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list\",ui:\"action\"},items:[{xtype:\"viewterms\"}]},{title:i18n.app.LABEL_ABOUTUS,group:\"Privacy\",slideButton:{selector:\"toolbar\",docked:\"left\",iconMask:true,iconCls:\"list slidebutton\",ui:\"action\"},items:[{xtype:\"viewaboutus\"}]}]}});Ext.define(\"B2B.view._App_Container\",{extend:\"Ext.tab.Panel\",xtype:\"App_Container\",requires:[\"Ext.ux.slidenavigation.SlideNavigation\",\"Ext.ux.toolbarspinner.TSpinner\",\"Ext.device.Camera\"],config:{activeTab:0,layout:{animation:{type:null}},tabBar:{layout:{pack:\"center\",align:\"center\"},docked:\"bottom\",scrollable:false},items:[{xtype:\"activity\"},{xtype:\"beer\"},{xtype:\"friendlistcontainerpanel\"},{xtype:\"userprofile\"}]},initialize:function(){this.callParent(arguments);var d={xtype:\"image\",src:\"resources/img/logo_text_black_small.png\",height:28,width:144,align:\"left\"};var e={iconCls:\"chat4\",ui:\"plain\",id:\"notificationbutton\",handler:this.onGotoNotificationButtonTap,scope:this,align:\"left\"};var a={xtype:\"tbarspinner\",id:\"tbarspinner\",align:\"right\",hidden:true};var b={iconCls:\"locate\",ui:\"plain\",id:\"jump_2_checkin_btn\",handler:this.onGotoCheckInButtonTap,scope:this,align:\"right\"};var c={xtype:\"titlebar\",docked:\"top\",id:\"MainTitlebar\",cls:\"slidableToolbar\",defaults:{iconMask:true},items:[e,a,b]};var f={xtype:\"notificationbar\",id:\"notificationBar\",hidden:true};this.add([c,f])},onGotoCheckInButtonTap:function(){this.fireEvent(\"gotoCheckInCommand\",this)},onGotoNotificationButtonTap:function(){this.fireEvent(\"notificationShowCommand\",this)}});Ext.define(\"Ext.picker.Slot\",{extend:\"Ext.dataview.DataView\",xtype:\"pickerslot\",alternateClassName:\"Ext.Picker.Slot\",requires:[\"Ext.XTemplate\",\"Ext.data.Store\",\"Ext.Component\",\"Ext.data.StoreManager\"],isSlot:true,config:{title:null,showTitle:true,cls:Ext.baseCSSPrefix+\"picker-slot\",name:null,value:null,flex:1,align:\"left\",displayField:\"text\",valueField:\"value\",scrollable:{direction:\"vertical\",indicators:false,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}}},constructor:function(){this.selectedIndex=0;this.callParent(arguments)},applyTitle:function(a){if(a){a=Ext.create(\"Ext.Component\",{cls:Ext.baseCSSPrefix+\"picker-slot-title\",docked:\"top\",html:a})}return a},updateTitle:function(b,a){if(b){this.add(b);this.setupBar()}if(a){this.remove(a)}},updateShowTitle:function(a){var b=this.getTitle();if(b){b[a?\"show\":\"hide\"]();this.setupBar()}},updateDisplayField:function(a){this.setItemTpl('<div class=\"'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if=\"extra\">'+Ext.baseCSSPrefix+'picker-invalid</tpl>\">{'+a+\"}</div>\")},updateAlign:function(a,c){var b=this.element;b.addCls(Ext.baseCSSPrefix+\"picker-\"+a);b.removeCls(Ext.baseCSSPrefix+\"picker-\"+c)},applyData:function(d){var f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}}return d},updateData:function(a){this.setStore(Ext.create(\"Ext.data.Store\",{fields:[\"text\",\"value\"],data:a}))},initialize:function(){this.callParent();var a=this.getScrollable().getScroller();this.on({scope:this,painted:\"onPainted\",itemtap:\"doItemTap\"});a.on({scope:this,scrollend:\"onScrollEnd\"})},onPainted:function(){this.setupBar()},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBar:function(){if(!this.rendered){return}var a=this.element,e=this.innerElement,f=this.getPicker(),g=f.bar,k=this.getValue(),b=this.getShowTitle(),j=this.getTitle(),h=this.getScrollable(),d=h.getScroller(),c=0,l,i;l=g.getHeight();if(b&&j){c=j.element.getHeight()}i=Math.ceil((a.getHeight()-c-l)/2);e.setStyle({padding:i+\"px 0 \"+(i)+\"px\"});d.refresh();d.setSlotSnapSize(l);this.setValue(k)},doItemTap:function(d,a,c,f){var b=this;b.selectedIndex=a;b.selectedNode=c;b.scrollToItem(c,true);b.fireEvent(\"slotpick\",b,b.getValue(true),b.selectedNode)},scrollToItem:function(e,d){var h=e.getY(),c=e.parent(),f=c.getY(),b=this.getScrollable(),a=b.getScroller(),g;g=h-f;a.scrollTo(0,g,d)},onScrollEnd:function(b,a,g){var f=this,d=Math.round(g/f.picker.bar.getHeight()),c=f.getViewItems(),e=c[d];if(e){f.selectedIndex=d;f.selectedNode=e;f.fireEvent(\"slotpick\",f,f.getValue(),f.selectedNode)}},getValue:function(c){var b=this.getStore(),a,d;if(!b){return}if(!this.rendered||!c){return this._value}if(this._value===false){return null}a=b.getAt(this.selectedIndex);d=a?a.get(this.getValueField()):null;return d},setValue:function(f){if(!Ext.isDefined(f)){return}if(!this.rendered||!f){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e);this._value=f}},setValueAnimated:function(f){if(!f){return}if(!this.rendered){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e,{duration:100});this._value=f}}});Ext.define(\"Ext.picker.Picker\",{extend:\"Ext.Sheet\",alias:\"widget.picker\",alternateClassName:\"Ext.Picker\",requires:[\"Ext.picker.Slot\",\"Ext.Toolbar\",\"Ext.data.Model\"],isPicker:true,config:{cls:Ext.baseCSSPrefix+\"picker\",doneButton:true,cancelButton:true,useTitles:false,slots:null,value:null,height:220,layout:{type:\"hbox\",align:\"stretch\"},centered:false,left:0,right:0,bottom:0,defaultType:\"pickerslot\",toolbar:true},initElement:function(){this.callParent(arguments);var b=this,a=Ext.baseCSSPrefix,c=this.innerElement;this.mask=c.createChild({cls:a+\"picker-mask\"});this.bar=this.mask.createChild({cls:a+\"picker-bar\"});b.on({scope:this,delegate:\"pickerslot\",slotpick:\"onSlotPick\"});b.on({scope:this,show:\"onShow\"})},applyToolbar:function(a){if(a===true){a={}}Ext.applyIf(a,{docked:\"top\"});return Ext.factory(a,\"Ext.TitleBar\",this.getToolbar())},updateToolbar:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{ui:\"action\",align:\"right\",text:\"Done\"})}return Ext.factory(a,\"Ext.Button\",this.getDoneButton())},updateDoneButton:function(c,a){var b=this.getToolbar();if(c){b.add(c);c.on(\"tap\",this.onDoneButtonTap,this)}else{if(a){b.remove(a)}}},applyCancelButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{align:\"left\",text:\"Cancel\"})}return Ext.factory(a,\"Ext.Button\",this.getCancelButton())},updateCancelButton:function(b,a){var c=this.getToolbar();if(b){c.add(b);b.on(\"tap\",this.onCancelButtonTap,this)}else{if(a){c.remove(a)}}},updateUseTitles:function(d){var f=this.getInnerItems(),e=f.length,a=Ext.baseCSSPrefix+\"use-titles\",c,b;if(d){this.addCls(a)}else{this.removeCls(a)}for(c=0;c<e;c++){b=f[c];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(b){if(b){var c=b.length,a;for(a=0;a<c;a++){b[a].picker=this}}return b},updateSlots:function(a){var b=Ext.baseCSSPrefix,c;this.removeAll();if(a){this.add(a)}c=this.getInnerItems();if(c.length>0){c[0].addCls(b+\"first\");c[c.length-1].addCls(b+\"last\")}this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue(true);if(b!=a){this.fireEvent(\"change\",this,b)}this.hide()},onCancelButtonTap:function(){this.fireEvent(\"cancel\",this);this.hide()},onSlotPick:function(a){this.fireEvent(\"pick\",this,this.getValue(true),a)},onShow:function(){if(!this.isHidden()){this.setValue(this._value)}},setValue:function(k,a){var f=this,d=f.getInnerItems(),e=d.length,j,h,c,b,g;if(!k){k={};for(b=0;b<e;b++){k[d[b].config.name]=null}}for(j in k){g=k[j];for(b=0;b<d.length;b++){c=d[b];if(c.config.name==j){h=c;break}}if(h){if(a){h.setValueAnimated(g)}else{h.setValue(g)}}}f._values=f._value=k;return f},setValueAnimated:function(a){this.setValue(a,true)},getValue:function(c){var b={},a=this.getItems().items,f=a.length,e,d;if(c){for(d=0;d<f;d++){e=a[d];if(e&&e.isSlot){b[e.getName()]=e.getValue(c)}}this._values=b}return this._values},getValues:function(){return this.getValue()},destroy:function(){this.callParent();Ext.destroy(this.mask,this.bar)}},function(){Ext.deprecateProperty(this,\"activeCls\",null,\"Ext.picker.Picker.activeCls has been removed\");Ext.deprecateClassMethod(this,\"getCard\",\"getActiveItem\");Ext.deprecateClassMethod(this,\"setCard\",\"setActiveItem\")});Ext.define(\"B2B.view.Camera_Picker\",{extend:\"Ext.picker.Picker\",xtype:\"camerapicker\",autoDestroy:true,config:{slots:[{name:\"camera_source\",title:\"Select source\",data:[{text:i18n.app.PICKER_CAMERA,value:true},{text:i18n.app.PICKER_LIBRARY,value:false}]}],listeners:{change:function(c,d,b){var a=\"openLibraryCommand\";if(d.camera_source){a=\"openCameraCommand\"}this.fireEvent(a,this)},cancel:function(a){}}},initialize:function(){this.callParent(arguments)}});Ext.define(\"Ext.field.Select\",{extend:\"Ext.field.Text\",xtype:\"selectfield\",alternateClassName:\"Ext.form.Select\",requires:[\"Ext.Panel\",\"Ext.picker.Picker\",\"Ext.data.Store\",\"Ext.data.StoreManager\",\"Ext.dataview.List\"],config:{ui:\"select\",valueField:\"value\",displayField:\"text\",store:null,options:null,hiddenName:null,component:{useMask:true},clearIcon:false,usePicker:\"auto\",defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:\"picker\"},initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,masktap:\"onMaskTap\"});a.input.dom.disabled=true},updateDefaultPhonePickerConfig:function(b){var a=this.picker;if(a){a.setConfig(b)}},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;if(b){b.setConfig(a)}},applyUsePicker:function(a){if(a==\"auto\"){a=(Ext.os.deviceType==\"Phone\")}return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(d){var a=d,c,b;this.getOptions();b=this.getStore();if((d&&!d.isModel)&&b){c=b.find(this.getValueField(),d,null,null,null,true);if(c==-1){c=b.find(this.getDisplayField(),d,null,null,null,true)}a=b.getAt(c)}return a},updateValue:function(b,a){this.previousRecord=a;this.record=b;this.callParent([(b&&b.isModel)?b.get(this.getDisplayField()):\"\"])},getValue:function(){var a=this.record;return(a&&a.isModel)?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker){this.picker=Ext.create(\"Ext.picker.Picker\",Ext.apply({slots:[{align:\"center\",name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))}return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel){this.listPanel=Ext.create(\"Ext.Panel\",Ext.apply({centered:true,modal:true,cls:Ext.baseCSSPrefix+\"select-overlay\",layout:\"fit\",hideOnMaskTap:true,items:{xtype:\"list\",store:this.getStore(),itemTpl:'<span class=\"x-list-label\">{'+this.getDisplayField()+\":htmlEncode}</span>\",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))}return this.listPanel},onMaskTap:function(){if(this.getDisabled()){return false}this.showPicker();return false},showPicker:function(){var b=this.getStore();if(!b||b.getCount()===0){return}if(this.getReadOnly()){return}this.isFocused=true;if(this.getUsePicker()){var e=this.getPhonePicker(),d=this.getName(),h={};h[d]=this.record.get(this.getValueField());e.setValue(h);if(!e.getParent()){Ext.Viewport.add(e)}e.show()}else{var f=this.getTabletPicker(),g=f.down(\"list\"),b=g.getStore(),c=b.find(this.getValueField(),this.getValue(),null,null,null,true),a=b.getAt((c==-1)?0:c);if(!f.getParent()){Ext.Viewport.add(f)}f.showBy(this.getComponent());g.select(a,null,true)}},onListSelect:function(c,a){var b=this;if(a){b.setValue(a)}},onListTap:function(){this.listPanel.hide({type:\"fade\",out:true,scope:this})},onPickerChange:function(d,f){var e=this,g=f[e.getName()],b=e.getStore(),c=b.find(e.getValueField(),g,null,null,null,true),a=b.getAt(c);e.setValue(a)},onChange:function(f,h,e){var g=this,b=g.getStore(),d=(b)?b.find(g.getDisplayField(),e):-1,c=g.getValueField(),a=(b)?b.getAt(d):null,e=(a)?a.get(c):null;g.fireEvent(\"change\",g,g.getValue(),e)},updateOptions:function(b){var a=this.getStore();if(!a){this.setStore(true);a=this._store}if(!b){a.clearData()}else{a.setData(b);this.onStoreDataChanged(a)}},applyStore:function(a){if(a===true){a=Ext.create(\"Ext.data.Store\",{fields:[this.getValueField(),this.getDisplayField()]})}if(a){a=Ext.data.StoreManager.lookup(a);a.on({scope:this,addrecords:this.onStoreDataChanged,removerecords:this.onStoreDataChanged,updaterecord:this.onStoreDataChanged,refresh:this.onStoreDataChanged})}return a},updateStore:function(a){if(a){this.onStoreDataChanged(a)}},onStoreDataChanged:function(a){var c=this.getInitialConfig(),b=this.getValue();if(Ext.isDefined(b)){this.updateValue(this.applyValue(b))}if(this.getValue()===null){if(c.hasOwnProperty(\"value\")){this.setValue(c.value)}if(this.getValue()===null){if(a.getCount()>0){this.setValue(a.getAt(0))}}}},doSetDisabled:function(a){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){var b=this.getStore(),a=(this.originalValue)?this.originalValue:b.getAt(0);if(b&&a){this.setValue(a)}return this},onFocus:function(a){this.fireEvent(\"focus\",this,a);this.isFocused=true;this.showPicker()},destroy:function(){this.callParent(arguments);Ext.destroy(this.listPanel,this.picker,this.hiddenField)}});Ext.define(\"B2B.view.Activity_List_Detail\",{extend:\"Ext.form.Panel\",id:\"ActivityDetail\",xtype:\"activitylistdetail\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_ACTIVITYDETAIL,iconCls:\"add\"},initialize:function(){this.callParent(arguments);var b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"activitylistdetailbackbutton\",handler:this.onActivityDetailBackButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b]};this.add([a])},onActivityDetailBackButtonTap:function(){this.fireEvent(\"backActivityDetailCommand\",this)}});Ext.define(\"B2B.view.Beer_Add_Form\",{extend:\"Ext.form.Panel\",id:\"BeerAddForm\",xtype:\"beeraddform\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_ADDBEER,iconCls:\"add\",submitOnAction:true,defaults:{labelAlign:\"left\",labelWidth:\"50%\",labelHeight:\"50%\"},items:[{xtype:\"textfield\",name:\"name\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSENAME,required:true},{xtype:\"textfield\",name:\"brewery\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSEBREWERY,required:true},{xtype:\"selectfield\",name:\"beerstyle\",id:\"selectfieldbeerstyle\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSESTYLE,options:i18n.beerstyles},{xtype:\"selectfield\",name:\"grad\",id:\"selectfieldgrad\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSEGRAD,store:null,options:i18n.beergrads},{xtype:\"selectfield\",name:\"nationality\",id:\"selectfieldnationality\",cls:\"beer_form_selectfield\",placeHolder:i18n.app.HINT_BEERCHOOSENATIONALITY,},{xtype:\"textareafield\",name:\"description\",cls:\"beer_form_textfield\",placeHolder:i18n.app.HINT_BEERCHOOSEDESCRIPTION,}]},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"beer_back_btn\",handler:this.onBeerBackButtonTap,scope:this};var c={xtype:\"button\",text:i18n.app.BTN_SAVE,ui:\"action\",id:\"beer_save_btn\",handler:this.onBeerSaveButtonTap,scope:this};var b={xtype:\"toolbar\",cls:\"sub_titlebar\",title:i18n.app.PANEL_ADDBEERPANEL,docked:\"top\",items:[a,{xtype:\"spacer\"},c]};this.add([b]);Ext.getCmp(\"selectfieldnationality\").setOptions(i18n.countries)},onBeerSaveButtonTap:function(){this.fireEvent(\"beerSaveCommand\",this)},onBeerBackButtonTap:function(){this.fireEvent(\"beerBackCommand\",this)}});Ext.define(\"B2B.view.Beer_Detail\",{extend:\"Ext.form.Panel\",id:\"BeerDetail\",xtype:\"beerdetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_BEERDETAIL,iconCls:\"add\"},initialize:function(){this.callParent(arguments);var a={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"beerdetail_back_btn\",handler:this.onBeerDetailBackButtonTap,scope:this},c={xtype:\"button\",text:i18n.app.BTN_BEERREPORT,ui:\"action\",id:\"beer_report_btn\",handler:this.onBeerReportButtonTap,scope:this},e={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[a,{xtype:\"spacer\"},c]},c={xtype:\"button\",text:i18n.app.BTN_BEERREPORT,ui:\"action\",id:\"beer_report_btn\",handler:this.onBeerReportButtonTap,scope:this},d={xtype:\"button\",text:i18n.app.BTN_ADDBEERFAVORITE,ui:\"action\",id:\"favorites_addbeer_btn\",handler:this.onFavoritesAddBeerButtonTap,scope:this,},b={xtype:\"container\",html:this.getStringHTMLFromValues(this.jsonData.data)};this.add([e,b,d])},getStringHTMLFromValues:function(b){var a=\"\";if(b.image!==null&&b.image!==\"\"){a+='<img id=\"beer_thumbnail\" src=\"'+b.image+'\" /><hr />'}a+=\"<p>\"+i18n.app.LABEL_BEERNAME+\": <span>\"+_.titleize(b.name)+\"</span></p>\";if(b.brewery){a+=\"<p>\"+i18n.app.LABEL_BEERBREWERY+\": <span>\"+_.titleize(b.brewery)+\"</span></p>\"}if(b.beerstyle){a+=\"<p>\"+i18n.app.LABEL_BEERSTYLE+\": <span>\"+utils.getBeerStyleFromCode(parseInt(b.beerstyle))+\"</span></p>\"}if(b.beertype){a+=\"<p>\"+i18n.app.LABEL_BEERTYPE+\": <span>\"+utils.getBeerTypeFromCode(parseInt(b.beertype))+\"</span></p>\"}if(b.grad){a+=\"<p>\"+i18n.app.LABEL_BEERGRAD+\": <span>\"+b.grad+\"</span></p>\"}if(b.nationality){a+=\"<p>\"+i18n.app.LABEL_BEERNATIONALITY+\": <span>\"+utils.getCountryFromCode(b.nationality)+\"</span></p>\"}if(b.description){a+=\"<p>\"+i18n.app.LABEL_BEERDESCRIPTION+\": <span>\"+b.description+\"</span></p>\"}return a},onBeerReportButtonTap:function(){this.fireEvent(\"reportBeerCommand\",this)},onFavoritesAddBeerButtonTap:function(){this.fireEvent(\"addFavoriteBeerCommand\",this,this.jsonData.data)},onBeerDetailBackButtonTap:function(){this.fireEvent(\"backBeerDetailCommand\",this)}});Ext.define(\"B2B.view.Place_Detail\",{extend:\"Ext.form.Panel\",id:\"PlaceDetail\",xtype:\"placedetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\",\"Ext.ux.starrating.StarRating\"],config:{title:i18n.app.PANEL_PLACE,iconCls:\"add\",layout:\"vbox\"},initialize:function(){this.callParent(arguments);var d=this.jsonData,c=function(){var g=\"\";if(!_.isEmpty(d.image)){g+='<img class=\"avatar_medium\" src=\"'+d.image+'\" />'}else{g+='<img class=\"avatar_medium\" src=\"'+HH.default_user64+'\" />'}g+=\"<h1>\"+d.placeName+\"</p>\";g+=\"<p>\"+d.url+\"</p>\";g+=\"<p>\"+d.category+\"</p>\";return g},b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"placedetail_back_btn\",handler:this.onPlaceDetailBackButtonTap,scope:this},f={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b]},e={xtype:\"container\",id:\"placeDetailContent\",html:c(d),flex:1},a={xtype:\"starrating\",itemsCount:10,label:\"\",value:5,valueCls:\"x-starrating-value\",itemCls:\"x-starrating\",itemHoverCls:\"x-starrating-hover\",height:40};this.add([f,e,a,{xtype:\"spacer\"}])},onPlaceDetailBackButtonTap:function(){this.fireEvent(\"backPlaceDetailCommand\",this)},onSelectBeerButtonTap:function(){this.fireEvent(\"selectBeerDrinkCommand\",this)},onDrinkInButtonTap:function(){this.fireEvent(\"onDrinkInCommand\",this)}});Ext.define(\"B2B.view.Favorites_List_Container\",{extend:\"Ext.form.Panel\",id:\"favoritespanel\",xtype:\"favoritespanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FAVORITESPANEL,iconCls:\"add\",layout:\"vbox\"},initialize:function(){this.callParent(arguments);var c={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"favorites_back_btn\",handler:this.onFavoritesBackButtonTap,scope:this},b={xtype:\"button\",text:i18n.app.BTN_ADDFAVORITE,ui:\"action\",id:\"favorites_add_btn\",handler:this.onFavoritesAddButtonTap,scope:this,docked:\"bottom\"},d={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[c]},e={xtype:\"favoriteslistcomponent\",store:Ext.getStore(\"FavoriteBeers_Local\"),flex:1},a={xtype:\"panel\",flex:1,layout:{type:\"vbox\"},items:[e,b]};this.add([d,a])},onFavoritesBackButtonTap:function(){this.fireEvent(\"backFavoritesCommand\",this)},onFavoritesAddButtonTap:function(){this.fireEvent(\"jumptoBeerCommand\",this)}});Ext.define(\"B2B.view.Friend_Finder\",{extend:\"Ext.form.Panel\",id:\"FriendFinder\",xtype:\"friendfinderpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FRIENDFINDER,iconCls:\"add\",items:[]},initialize:function(){this.callParent(arguments);var b={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"friendfinder_back_btn\",handler:this.onFriendFinderBackButtonTap,scope:this};var a={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[b,]};this.add([a])},onFriendFinderBackButtonTap:function(){this.fireEvent(\"backFriendFinderCommand\",this)}});Ext.define(\"B2B.view.Friend_Detail\",{extend:\"Ext.form.Panel\",id:\"FriendDetail\",xtype:\"frienddetailpanel\",requires:[\"Ext.Container\",\"Ext.MessageBox\",\"Ext.Panel\",\"Ext.Toolbar\",\"Ext.field.Select\"],config:{title:i18n.app.PANEL_FRIENDDETAIL,iconCls:\"add\",items:[]},initialize:function(){this.callParent(arguments);var d={xtype:\"button\",text:i18n.app.BTN_BACK,ui:\"back\",id:\"frienddetail_back_btn\",handler:this.onFriendDetailBackButtonTap,scope:this},b={xtype:\"toolbar\",cls:\"sub_titlebar\",docked:\"top\",items:[d]},c={text:i18n.app.BTN_REMOVE,ui:\"action\",id:\"delete_profile_btn\",handler:this.onDeleteProfileButtonTap,scope:this},a=this.getStringHTMLFromValues(this.jsonData.data);this.add([b,c]);this.setHtml([a])},getStringHTMLFromValues:function(b){var a=\"\";if(_.isEmpty(b.image)){a+='<img class=\"avatar_small\" src=\"'+HH.default_user64+'\" width=\"200\" height=\"200\" />'}a+='<div class=\"profile-detail\">';a+=\"<p>\"+i18n.app.HTML_NAME+\": <b>\"+b.firstName+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_SURNAME+\": <b>\"+b.lastName+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_ALIAS+\": <b>\"+b.displayName+\"</b></p>\";a+=\"<hr />\";a+=\"<p>\"+i18n.app.HTML_EMAIL+\": <b>\"+b.email+\"</b></p>\";a+=\"<hr />\";a+=\"<p>\"+i18n.app.HTML_NFRIENDS+\": <b>\"+b.counter_friends+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_CHECKINS+\": <b>\"+b.counter_checkIns+\"</b></p>\";a+=\"<p>\"+i18n.app.HTML_BADGES+\": <b>\"+b.counter_badges+\"</b></p>\";a+=\"</div>\";return a},onFriendDetailBackButtonTap:function(){this.fireEvent(\"backFriendDetailCommand\",this)},onFriendRemoveBackButtonTap:function(){this.fireEvent(\"removeFriendDetailCommand\",this)}});Ext.define(\"Ext.picker.Date\",{extend:\"Ext.picker.Picker\",xtype:\"datepicker\",alternateClassName:\"Ext.DatePicker\",requires:[\"Ext.DateExtras\"],config:{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:\"Month\",dayText:\"Day\",yearText:\"Year\",slotOrder:[\"month\",\"day\",\"year\"]},initialize:function(){this.callParent();this.on({scope:this,delegate:\"> slot\",slotpick:this.onSlotPick})},setValue:function(b,a){if(Ext.isDate(b)){b={day:b.getDate(),month:b.getMonth()+1,year:b.getFullYear()}}this.callParent([b,a])},getValue:function(k){var h={},e=this.getItems().items,d=e.length,a,g,c,f,j,b;for(b=0;b<d;b++){j=e[b];if(j instanceof Ext.picker.Slot){h[j.getName()]=j.getValue(k)}}if(h.year===null&&h.month===null&&h.day===null){return null}f=Ext.isNumber(h.year)?h.year:1;c=Ext.isNumber(h.month)?h.month:1;g=Ext.isNumber(h.day)?h.day:1;if(c&&f&&c&&g){a=this.getDaysInMonth(c,f)}g=(a)?Math.min(g,a):g;return new Date(f,c-1,g)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(a,b){var f=this.getInnerItems,e=f.length,d,c;if(this.initialized){for(c=0;c<e;c++){d=f[c];if((typeof d.title==\"string\"&&d.title==b)||(d.title.html==b)){d.setTitle(a)}}}},updateDayText:function(a,c){var f=this.getInnerItems,e=f.length,d,b;if(this.initialized){for(b=0;b<e;b++){d=f[b];if((typeof d.title==\"string\"&&d.title==c)||(d.title.html==c)){d.setTitle(a)}}}},updateYearText:function(e){var d=this.getInnerItems,c=d.length,b,a;if(this.initialized){for(a=0;a<c;a++){b=d[a];if(b.title==this.yearText){b.setTitle(e)}}}},constructor:function(){this.callParent(arguments);this.createSlots()},createSlots:function(){var k=this,c=this.getSlotOrder(),m=k.getYearFrom(),f=k.getYearTo(),g=[],l=[],b=[],j,e,d,a;if(m>f){e=m;m=f;f=e}for(d=m;d<=f;d++){g.push({text:d,value:d})}a=this.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:d+1,value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var h=[];c.forEach(function(i){h.push(this.createSlot(i,l,b,g))},this);k.setSlots(h)},createSlot:function(b,d,a,c){switch(b){case\"year\":return{name:\"year\",align:\"center\",data:c,title:this.getYearText(),flex:3};case\"month\":return{name:b,align:\"right\",data:a,title:this.getMonthText(),flex:4};case\"day\":return{name:\"day\",align:\"center\",data:d,title:this.getDayText(),flex:2}}},onSlotPick:function(){var g=this.getValue(true),f=this.getDaySlot(),e=g.getFullYear(),d=g.getMonth(),j=[],a,b;if(!g||!Ext.isDate(g)||!f){return}a=this.getDaysInMonth(d+1,e);for(b=0;b<a;b++){j.push({text:b+1,value:b+1})}if(f.getData().length==j.length){return}var h=f.getStore(),m=f.getViewItems(),l=f.getValueField(),c,k;f.setData(j);c=h.find(l,g.getDate());if(c==-1){return}k=Ext.get(m[c]);f.selectedIndex=c;f.scrollToItem(k)},getDaySlot:function(){var c=this.getInnerItems(),b=c.length,a,d;if(this.daySlot){return this.daySlot}for(a=0;a<b;a++){d=c[a];if(d.isSlot&&d.getName()==\"day\"){this.daySlot=d;return d}}return null},getDaysInMonth:function(c,b){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)))},onDoneButtonTap:function(){var a=this._value,c=this.getValue(true),b=c;if(Ext.isDate(c)){b=c.toDateString()}if(Ext.isDate(a)){a=a.toDateString()}if(b!=a){this.fireEvent(\"change\",this,c)}this.hide()}});Ext.define(\"Ext.field.DatePicker\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.DatePicker\",xtype:\"datepickerfield\",requires:[\"Ext.picker.Date\",\"Ext.DateExtras\"],config:{ui:\"select\",picker:true,clearIcon:false,destroyPickerOnHide:false,dateFormat:null,component:{useMask:true}},initialize:function(){this.callParent();this.getComponent().on({scope:this,masktap:\"onMaskTap\"});this.getComponent().input.dom.disabled=true},syncEmptyCls:Ext.emptyFn,applyValue:function(a){if(!Ext.isDate(a)&&!Ext.isObject(a)){return null}if(Ext.isObject(a)){return new Date(a.year,a.month-1,a.day)}return a},updateValue:function(b){var a=this._picker;if(a&&a.isPicker){a.setValue(b)}if(b!==null){this.getComponent().setValue(Ext.Date.format(b,this.getDateFormat()||Ext.util.Format.defaultDateFormat))}else{this.getComponent().setValue(\"\")}if(this._picker&&this._picker instanceof Ext.picker.Date){this._picker.setValue(b)}},updateDateFormat:function(c,a){var b=this.getValue();if(c!=a&&Ext.isDate(b)){this.getComponent().setValue(Ext.Date.format(b,c||Ext.util.Format.defaultDateFormat))}},getValue:function(){if(this._picker&&this._picker instanceof Ext.picker.Date){return this._picker.getValue()}return this._value},getFormattedValue:function(b){var a=this.getValue();return(Ext.isDate(a))?Ext.Date.format(a,b||this.getDateFormat()||Ext.util.Format.defaultDateFormat):a},applyPicker:function(b,a){if(a&&a.isPicker){b=a.setConfig(b)}return b},getPicker:function(){var a=this._picker,b=this.getValue();if(a&&!a.isPicker){a=Ext.factory(a,Ext.picker.Date);if(b!=null){a.setValue(b)}}a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});Ext.Viewport.add(a);this._picker=a;return a},onMaskTap:function(){if(this.getDisabled()){return false}if(this.getReadOnly()){return false}this.getPicker().show();return false},onPickerChange:function(a,c){var b=this;b.setValue(c);b.fireEvent(\"change\",b,b.getValue())},onPickerHide:function(){var a=this.getPicker();if(this.getDestroyPickerOnHide()&&a){a.destroy();this._picker=true}},reset:function(){this.setValue(this.originalValue)},destroy:function(){var a=this._picker;if(a&&a.isPicker){a.destroy()}this.callParent(arguments)}},function(){this.override({getValue:function(a){if(a){Ext.Logger.deprecate(\"format argument of the getValue method is deprecated, please use getFormattedValue instead\",this);return this.getFormattedValue(a)}return this.callOverridden()}});Ext.deprecateMethod(this,\"getDatePicker\",\"getPicker\")});Ext.define(\"B2B.view.User_Form\",{extend:\"Ext.form.Panel\",xtype:\"userform\",id:\"userform\",requires:[\"Ext.form.FieldSet\",\"Ext.field.Hidden\",\"Ext.field.DatePicker\",\"Ext.field.Select\",\"Ext.field.Toggle\",\"Ext.Img\",\"Ext.ActionSheet\"],config:{title:i18n.app.PANEL_PROFILEEDIT,iconCls:\"settings6\",url:\"/cippa.php\",items:[{xtype:\"panel\",layout:{type:\"hbox\",align:\"strech\"},defaults:{flex:\"1\"},items:[{xtype:\"image\",name:\"image\",id:\"ProfileImage\",src:HH.default_user64,width:64,margin:10,mode:\"element\",listeners:{tap:function(b,a){if(!this.actions){this.actions=Ext.Viewport.add({xtype:\"actionsheet\",items:[{text:i18n.app.BTN_CHOOSEPICTURE,scope:this,ui:\"confirm\",handler:function(){Ext.getCmp(\"userform\").fireEvent(\"chooseProfilePictureCommand\",this,Ext.getCmp(\"ProfileImage\"));this.actions.hide()}},{text:i18n.app.BTN_REMOVEPICTURE,scope:this,ui:\"decline\",handler:function(){Ext.getCmp(\"ProfileImage\").setSrc(HH.default_user64);this.actions.hide()}},{text:i18n.app.BTN_CANCEL,scope:this,handler:function(){this.actions.hide()}}]})}this.actions.show()}}},{xtype:\"fieldset\",title:i18n.app.FORM_ACCOUNT,instructions:i18n.app.HINT_DISPLAYNAME,flex:1,items:[{xtype:\"hiddenfield\",name:\"idUser\"},{xtype:\"hiddenfield\",name:\"pwdHash\"},{xtype:\"hiddenfield\",name:\"role\"},{xtype:\"hiddenfield\",name:\"status\"},{xtype:\"textfield\",name:\"username\",label:i18n.app.FORM_USERNAME,disabled:true},{xtype:\"textfield\",name:\"email\",label:i18n.app.FORM_EMAIL,disabled:true},{xtype:\"textfield\",name:\"displayName\",label:i18n.app.FORM_DISPLAYNAME}]}]},{xtype:\"fieldset\",title:i18n.app.FORM_PROFILE,items:[{xtype:\"textfield\",name:\"firstName\",label:i18n.app.FORM_FIRSTNAME,placeHolder:i18n.app.HINT_CHOOSEFIRSTNAME,},{xtype:\"textfield\",name:\"lastName\",label:i18n.app.FORM_LASTNAME,},{xtype:\"textfield\",name:\"description\",label:i18n.app.FORM_DESCRIPTION,},{xtype:\"datepickerfield\",destroyPickerOnHide:true,name:\"birthDay\",label:i18n.app.FORM_BIRTHDATE,placeHolder:i18n.app.HINT_CHOOSEBIRTHDATE,yearFrom:1940},{xtype:\"selectfield\",name:\"gender\",label:i18n.app.FORM_GENDER,placeHolder:i18n.app.HINT_CHOOSEGENDER,options:[{text:i18n.app.LABEL_UNDISCLOSED,value:0},{text:i18n.app.LABEL_MALE,value:1},{text:i18n.app.LABEL_FEMALE,value:2}]},{xtype:\"selectfield\",name:\"nationality\",cls:\"nation\",label:i18n.app.FORM_NATIONALITY,placeHolder:i18n.app.HINT_CHOOSENATIONALITY,options:i18n.countries}]},{xtype:\"fieldset\",items:[{xtype:\"textfield\",name:\"activatedOn\",id:\"activatedOnField\",label:i18n.app.FORM_ACTIVATEDON,disabled:true},{xtype:\"textfield\",name:\"lastLoginOn\",id:\"lastLoginOnField\",label:i18n.app.FORM_LASTLOGINON,disabled:true}]}]},initialize:function(){this.callParent(arguments);var c={text:i18n.app.BTN_SAVE,ui:\"action\",id:\"save_profile_btn\",handler:this.onSaveProfileButtonTap,scope:this},a={text:i18n.app.BTN_BACK,ui:\"back\",id:\"back_profile_btn\",handler:this.onBackProfileButtonTap,scope:this},b={xtype:\"toolbar\",docked:\"top\",cls:\"sub_titlebar\",title:i18n.app.PANEL_PROFILEEDIT,id:\"ProfileFormTitlebar\",defaults:{iconMask:true},items:[a,{xtype:\"spacer\"},c]};this.add([b])},onSaveProfileButtonTap:function(){this.fireEvent(\"saveProfileCommand\",this)},onBackProfileButtonTap:function(){this.fireEvent(\"backProfileCommand\",this)}});Ext.define(\"Ext.data.proxy.WebStorage\",{extend:\"Ext.data.proxy.Client\",alternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer:null},constructor:function(a){this.callParent(arguments);this.cache={};if(this.getStorageObject()===undefined){Ext.Logger.error(\"Local Storage is not supported in this browser, please use another type of data proxy\")}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];if(!this.getModel().getIdentifier().isUnique){Ext.Logger.warn(\"Your identifier generation strategy for the model does not ensure unique id's. Please use the UUID strategy, or implement your own identifier strategy with the flag isUnique.\")}b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(e,j,k){var c=[],a=this.getIds(),h=this.getModel(),l=h.getIdProperty(),d=e.getParams()||{},b=a.length,f,g;if(d[l]!==undefined){g=this.getRecord(d[l]);if(g){c.push(g);e.setSuccessful()}}else{for(f=0;f<b;f++){c.push(this.getRecord(a[f]))}e.setSuccessful()}e.setCompleted();e.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:c,total:c.length,loaded:true}));e.setRecords(c);if(typeof j==\"function\"){j.call(k||this,e)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);b.setCompleted();b.setSuccessful();if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(k,d){if(d){k.setId(d)}else{d=k.getId()}var m=this,a=k.getData(),j={},f=m.getModel(),l=f.getFields().items,e=l.length,h=0,n,c,g,o,b;for(;h<e;h++){n=l[h];c=n.getName();if(typeof n.getEncode()==\"function\"){j[c]=n.getEncode()(a[c],k)}else{if(n.getType().type==\"date\"&&Ext.isDate(a[c])){b=n.getDateFormat();if(b){j[c]=Ext.Date.format(a[c],b)}else{j[c]=a[c].getTime()}}else{j[c]=a[c]}}}g=m.getStorageObject();o=m.getRecordKey(d);m.cache[d]=k;g.removeItem(o);g.setItem(o,Ext.encode(j));k.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format(\"{0}-counter\",this.getId())},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(b){var c=this.getStorageObject(),d=b.join(\",\"),e=this.getId(),a=this.getRecordCounterKey();c.removeItem(e);if(Ext.isEmpty(d)){c.removeItem(a)}else{c.setItem(e,d)}},initialize:function(){this.callParent(arguments);var a=this.getStorageObject();a.setItem(this.getId(),a.getItem(this.getId())||\"\")},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b])}d.removeItem(this.getRecordCounterKey());d.removeItem(this.getId())},getStorageObject:function(){Ext.Logger.error(\"The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass\")}});Ext.define(\"Ext.data.proxy.LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage}});Ext.define(\"B2B.store.Notifications_Ajax\",{extend:\"Ext.data.Store\",id:\"Notifications_Ajax\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"B2B.model.Notification\",proxy:{type:\"ajax\",url:\"json/mock_notificationlist.json\",reader:{type:\"json\",rootProperty:\"response.body.list\",successProperty:\"response.status.success\",totalProperty:\"response.status.count\",messageProperty:\"response.status.msg\"},extraParams:{username:\"test\"}},autoload:true,listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Friends Store Callback\")},load:function(c,a,d){HH.log(\"* Loaded: Store.Notification_Ajax, copying to Local\");var b=Ext.getStore(\"Notifications_Local\");b.removeAll();b.getProxy().clear();this.each(function(e){b.add(e.data)});b.sync();this.removeAll()}}}});Ext.define(\"B2B.store.Activities_Local\",{extend:\"Ext.data.Store\",id:\"Activities_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{model:\"B2B.model.Activity\",proxy:{type:\"localstorage\",},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Activities Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Activity_Local\")}}}});Ext.define(\"B2B.store.Friends_Local\",{extend:\"Ext.data.Store\",id:\"Friends_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoload:true,autosync:true,model:\"B2B.model.Friend\",sorters:\"displayName\",grouper:function(a){return(a.get(\"displayName\")[0]).toUpperCase()},proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){console.log(\"Friends Store Callback\")},load:function(b,a,c){HH.log(\"* Loaded: Store.Friend_Local\")}}}});Ext.define(\"B2B.store.Profile_Local\",{extend:\"Ext.data.Store\",id:\"Profile_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoLoad:true,autoSync:true,model:\"B2B.model.User\",proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},load:function(b,a,c){HH.log(\"* Loaded: Store.Profile_Local\")}}},});Ext.define(\"B2B.store.Drinks_Local\",{extend:\"Ext.data.Store\",id:\"Drinks_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoload:true,autosync:true,model:\"B2B.model.Drink\",proxy:{type:\"localstorage\",},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},callback:function(b,a){HH.log(\"Beers Store Callback\")},load:function(b,a,c){}}}});Ext.define(\"B2B.store.FavoriteBeers_Local\",{extend:\"Ext.data.Store\",id:\"FavoriteBeers_Local\",requires:\"Ext.data.proxy.LocalStorage\",config:{autoLoad:true,autoSync:true,model:\"B2B.model.FavoriteBeer\",proxy:{type:\"localstorage\"},listeners:{exception:function(c,b,a){console.error(\"Failure Notification\",b.responseText);Ext.Msg.alert(\"Loading failed\",b.statusText)},load:function(b,a,c){HH.log(\"* Loaded: Store.FavoriteBeers_Local\")}}}});Ext.define(\"Ext.data.Validations\",{alternateClassName:\"Ext.data.validations\",singleton:true,config:{presenceMessage:\"must be present\",lengthMessage:\"is the wrong length\",formatMessage:\"is the wrong format\",inclusionMessage:\"is not included in the list of acceptable values\",exclusionMessage:\"is not an acceptable value\",emailMessage:\"is not a valid email address\"},constructor:function(a){this.initConfig(a)},getMessage:function(a){var b=this[\"get\"+a[0].toUpperCase()+a.slice(1)+\"Message\"];if(b){return b.call(this)}return\"\"},emailRe:/^\\s*[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\@[\\w\\-\\+_]+\\.[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\s*$/,presence:function(a,b){if(arguments.length===1){b=a}return !!b||b===0},length:function(b,e){if(e===undefined||e===null){return false}var d=e.length,c=b.min,a=b.max;if((c&&d<c)||(a&&d>a)){return false}else{return true}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){if(b===undefined||b===null){b=\"\"}return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define(\"B2B.model.User\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idUser\",type:\"string\"},{name:\"username\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"firstName\",type:\"string\"},{name:\"lastName\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"email\",type:\"email\"},{name:\"gender\",type:\"int\",defaultValue:0},{name:\"nationality\",type:\"string\"},{name:\"birthDate\",type:\"date\",dateformat:\"c\"},{name:\"avatar\",type:\"string\",defaultValue:\"resources/images/defaultAvatar.jpg\"},{name:\"shareFacebook\",type:\"boolean\",defaultValue:false},{name:\"shareTwitter\",type:\"boolean\",defaultValue:false},{name:\"enableNotification\",type:\"boolean\",defaultValue:false},{name:\"role\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"pwdHash\",type:\"string\"},{name:\"activatedOn\",type:\"date\",dateformat:\"c\"},{name:\"lastLoginOn\",type:\"date\",dateformat:\"c\"},{name:\"favorites\",type:\"string\",defaultValue:\"\"},{name:\"liked\",type:\"string\",defaultValue:\"\"},{name:\"counterCheckIns\",type:\"int\",defaultValue:0},{name:\"counterFriends\",type:\"int\",defaultValue:0},{name:\"counterBadges\",type:\"int\",defaultValue:0},{name:\"hashBeerlist\",type:\"string\"},{name:\"hashFriendlist\",type:\"string\"},{name:\"hashNotificationlist\",type:\"string\"}],validations:[{type:\"presence\",field:\"displayName\"}]}});Ext.define(\"B2B.model.Friend\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idUser\",type:\"string\"},{name:\"username\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"firstName\",type:\"string\"},{name:\"lastName\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"email\",type:\"email\"},{name:\"gender\",type:\"int\",defaultValue:0},{name:\"nationality\",type:\"string\"},{name:\"birthDate\",type:\"date\",dateformat:\"c\"},{name:\"avatar\",type:\"string\",defaultValue:\"resources/images/defaultAvatar.jpg\"},{name:\"role\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"activatedOn\",type:\"date\",dateformat:\"c\"},{name:\"lastLoginOn\",type:\"date\",dateformat:\"c\"},{name:\"badges\",type:\"string\",defaultValue:\"\"},{name:\"favorites\",type:\"string\",defaultValue:\"\"},{name:\"liked\",type:\"string\",defaultValue:\"\"},{name:\"counterCheckIns\",type:\"int\",defaultValue:0},{name:\"counterFriends\",type:\"int\",defaultValue:0},{name:\"counterBadges\",type:\"int\",defaultValue:0},],validations:[{type:\"presence\",field:\"displayName\"}]}});Ext.define(\"B2B.model.Beer\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBeer\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"name\",type:\"string\"},{name:\"brewery\",type:\"string\"},{name:\"nationality\",type:\"string\"},{name:\"beertype\",type:\"string\"},{name:\"beerstyle\",type:\"string\"},{name:\"grad\",type:\"float\"},{name:\"image\",type:\"string\"},{name:\"status\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},{name:\"param1\",type:\"int\",defaultValue:1},{name:\"param2\",type:\"int\",defaultValue:1},{name:\"param3\",type:\"int\",defaultValue:1}],validations:[]}});Ext.define(\"B2B.model.Drink\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idDrink\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"rate\",type:\"int\"},{name:\"rate2\",type:\"int\"},{name:\"rate3\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"}],validations:[{type:\"presence\",field:\"idDrink\"}]}});Ext.define(\"B2B.model.Activity\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idActivity\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"idFriend\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"friendName\",type:\"string\"},{name:\"jumpTo\",type:\"string\"},{name:\"type\",type:\"int\"},{name:\"status\",type:\"int\"},{name:\"like\",type:\"int\"},{name:\"date\",type:\"date\",dateformat:\"c\"}],validations:[]}});Ext.define(\"B2B.model.Notification\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idNotification\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"idBeer\",type:\"string\"},{name:\"beerName\",type:\"string\"},{name:\"idFriend\",type:\"string\"},{name:\"friendName\",type:\"string\"},{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"targetName\",type:\"string\"},{name:\"type\",type:\"int\"},{name:\"jumpTo\",type:\"string\"},{name:\"status\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},],validations:[{type:\"presence\",field:\"idNotification\"}]}});Ext.define(\"B2B.model.Place\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idPlace\",type:\"string\"},{name:\"placeName\",type:\"string\"},{name:\"image\",type:\"string\"},{name:\"lat\",type:\"string\"},{name:\"lng\",type:\"string\"},{name:\"url\",type:\"string\"},{name:\"drinkedIn\",type:\"int\"},{name:\"category\",type:\"string\"},],validations:[{type:\"presence\",field:\"idPlace\"}]}});Ext.define(\"B2B.model.BeerSingle\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBeer\",type:\"string\"},{name:\"name\",type:\"string\"}],validations:[]}});Ext.define(\"B2B.model.Feedback\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idFeedback\",type:\"string\"},{name:\"rate\",type:\"int\"},{name:\"rate2\",type:\"int\"},{name:\"rate3\",type:\"int\"},{name:\"comment\",type:\"string\"},{name:\"idUser\",type:\"string\"},{name:\"displayName\",type:\"string\"},{name:\"idTarget\",type:\"string\"},{name:\"targetName\",type:\"string\"},{name:\"type\",type:\"string\"},{name:\"like\",type:\"int\"},{name:\"insertedOn\",type:\"date\",dateformat:\"c\"},],validations:[{type:\"presence\",field:\"idFeedback\"}]}});Ext.define(\"B2B.model.Badge\",{extend:\"Ext.data.Model\",requires:\"Ext.data.identifier.Uuid\",config:{identifier:\"uuid\",fields:[{name:\"idBadge\",type:\"string\"},{name:\"title\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"imageUrl\",type:\"string\"},{name:\"active\",type:\"boolean\"}],validations:[{type:\"presence\",field:\"idBadge\"}]}});Ext.define(\"Ext.data.ArrayStore\",{extend:\"Ext.data.Store\",alias:\"store.array\",uses:[\"Ext.data.reader.Array\"],config:{proxy:{type:\"memory\",reader:\"array\"}},loadData:function(b,a){this.callParent([b,a])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define(\"Ext.data.reader.Array\",{extend:\"Ext.data.reader.Json\",alternateClassName:\"Ext.data.ArrayReader\",alias:\"reader.array\",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessExpression:function(g,c,b){var f=this,e=g.getMapping(),d=(e==null)?f.getModel().getFields().indexOf(g):e,a;if(typeof d===\"function\"){a=c+\".getMapping()(\"+b+\", this)\"}else{if(isNaN(d)){d='\"'+d+'\"'}a=b+\"[\"+d+\"]\"}return a}});Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath(\"Ext.ux\",\"./ux\");Ext.Loader.setPath(\"Ext\",\"./sdk/src\");Ext.application({name:\"B2B\",models:[\"User\",\"Friend\",\"Beer\",\"Drink\",\"Activity\",\"Notification\",\"Place\",\"BeerSingle\",\"Feedback\",\"Badge\",\"FavoriteBeer\"],controllers:[\"_App\",\"_Login\",\"Friends\",\"Activities\",\"Profiles\",\"Beers\",\"Drinks\",\"Notifications\",\"Preferences\",\"Privacy\",\"Places\",\"Feedbacks\",\"Camera\",\"Badges\",\"Favorites\"],stores:[\"Activities_Ajax\",\"Beers_Ajax\",\"Friends_Ajax\",\"Profile_Ajax\",\"Notifications_Ajax\",\"Places_Ajax\",\"Drinks_Ajax\",\"Activities_User_Ajax\",\"Activities_Local\",\"Friends_Local\",\"Profile_Local\",\"Notifications_Local\",\"Drinks_Local\",\"Feedback_Ajax\",\"Badges_Ajax\",\"DrinkInCheckIn_Ajax\",\"FavoriteBeers_Local\"],views:[\"_App\",\"_Login\",\"_App_Slider\",\"_App_Container\",\"_SplashBeerSearch\",\"Activity\",\"Activity_List\",\"Activity_List_Detail\",\"Activity_User\",\"Beer\",\"Beer_List\",\"Beer_Search\",\"Beer_Add_Form\",\"Beer_Detail\",\"Beer_List_SelectContainer\",\"Beer_List_SelectSearchComponent\",\"Beer_List_Select\",\"Drink_AroundMe\",\"DrinkInCheckIn_List\",\"Place_List\",\"Place_Detail\",\"Favorites_List\",\"Favorites_List_Container\",\"Feedback_Container\",\"Feedback_Form\",\"Feedback_List\",\"Friend_Finder\",\"Friend_List_Container\",\"Friend_List\",\"Friend_Search\",\"Friend_Detail\",\"Notification_Container\",\"Notification_List\",\"User_Container\",\"User\",\"User_Form\",\"User_Privacy_Form\",\"User_Preferences_Form\",\"View_Terms\",\"View_Whatsnew\",\"View_AboutUs\",\"Component_IOSToggle\",\"Component_NotificationBar\",\"Camera_Container\",\"Camera_Picker\",\"Badge_List\",\"Badge_List_Container\",\"Badge_Detail\"],icon:{\"57\":\"resources/icons/Icon.png\",\"72\":\"resources/icons/Icon~ipad.png\",\"114\":\"resources/icons/Icon@2x.png\",\"144\":\"resources/icons/Icon~ipad@2x.png\"},isIconPrecomposed:true,startupImage:{\"320x460\":\"resources/startup/320x460.png\",\"640x920\":\"resources/startup/640x920.png\",\"768x1004\":\"resources/startup/768x1004.png\",\"748x1024\":\"resources/startup/748x1024.png\",\"1536x2008\":\"resources/startup/1536x2008.png\",\"1496x2048\":\"resources/startup/1496x2048.png\"},launch:function(){HH.log(\"---> Step: app.js:launch()\");goingTo.step1(\"Loading Store.Profile\");var a=Ext.getStore(\"Profile_Local\");if(a&&a.getCount()<1){HH.log(\"---+ Check: ProfileStore Empty - Show view._login\");Ext.Viewport.add(Ext.create(\"B2B.view._Login\"))}else{HH.log(\"---+ Check: ProfileStore OK, loading view._App\");goingTo.step2(\"Loading Store.Profile_Ajax\");Ext.Viewport.add(Ext.create(\"B2B.view._App\"))}},onUpdated:function(){if(window.confirm(i18n.app.HINT_APPLICATIONRELOADED)){window.location.reload()}}});\n    5  \n\nC:\\Users\\HC\\Documents\\GitHub\\B2B\\iPhone\\B2B\\www\\app\\view\\Activity_User.js:\n    1  Ext.define('B2B.view.Activity_User', {\n    2      extend: 'Ext.dataview.List',\n    3:     xtype: 'activityusercomponent',\n    4  	config: {\n    5          draggable: false,\n\n5 matches across 3 files\n",
			"settings":
			{
				"buffer_size": 563310,
				"line_ending": "Windows",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"file": "app/view/Activity_User.js",
			"settings":
			{
				"buffer_size": 1203,
				"line_ending": "Windows"
			}
		},
		{
			"file": "index.html",
			"settings":
			{
				"buffer_size": 1408,
				"line_ending": "Windows"
			}
		},
		{
			"file": "index_prod.html",
			"settings":
			{
				"buffer_size": 1398,
				"line_ending": "Windows"
			}
		},
		{
			"file": "i18n/B2B-en-US.js",
			"settings":
			{
				"buffer_size": 23177,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.view._appcontainer\", {\n	extend: 'Ext.tab.Panel',\n	xtype: 'appcontainer',\n	requires: [\n		'Ext.ux.slidenavigation.SlideNavigation',\n		'Ext.ux.toolbarspinner.TSpinner'\n	],\n	config: {\n		activeTab: 0,\n		layout: {\n			animation: {\n				type: null\n			}\n		},\n		tabBar: {\n			layout: {\n				pack: 'center',\n				align: 'center'\n			},\n			docked: 'bottom',\n			scrollable: false\n		},\n		items: [\n			{\n				xtype: 'activity',\n				id: 'activity'\n			},\n			{\n				xtype: 'beer'\n			},\n			{\n				xtype: 'friendlistcontainerpanel'\n			},\n			{\n				xtype: 'userprofile'\n			}\n		]\n	},\n	initialize: function(){\n\n		this.callParent(arguments);\n\n		var notificationbutton = {\n			iconCls: 'chat4',\n			ui: 'plain',\n			id: 'notificationbutton',\n			handler: this.onGotoNotificationButtonTap,\n			scope: this,\n			align: 'left'\n		};\n\n		var toolbarSpinner =  {\n			xtype : 'tbarspinner',\n			id: 'tbarspinner',\n			align : 'right',\n			hidden: true\n		};\n\n		var gotoCheckInButton = {\n			iconCls: 'locate',\n			ui: 'action',\n			id: 'jump_2_checkin_btn',\n			handler: this.onGotoCheckInButtonTap,\n			scope: this,\n			align: 'right'\n		};\n\n		var titleBar = {\n			xtype: 'titlebar',\n			docked: 'top',\n			id: 'MainTitlebar',\n			cls: 'slidableToolbar',\n			defaults: {\n				iconMask: true\n			},\n			items: [\n				notificationbutton,\n				toolbarSpinner,\n				gotoCheckInButton\n			]\n		};\n\n		var notificationBar = {\n			xtype: 'notificationbar',\n			id: 'notificationBar',\n			hidden: true\n		}\n		this.add([ titleBar, notificationBar ]);\n	},\n	onGotoCheckInButtonTap: function(){\n		this.fireEvent(\"gotoCheckInCommand\", this);\n	},\n	onGotoNotificationButtonTap: function(){\n		this.fireEvent(\"notificationShowCommand\", this);\n	}\n\n});\n",
			"file": "app/view/_App_Container.js",
			"file_size": 1970,
			"file_write_time": 129909102016846796,
			"settings":
			{
				"buffer_size": 1713,
				"line_ending": "Windows"
			}
		},
		{
			"file": "resources/css/app.css",
			"settings":
			{
				"buffer_size": 423007,
				"line_ending": "Unix"
			}
		},
		{
			"file": "resources/js/hh.js",
			"settings":
			{
				"buffer_size": 5795,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.Loader.setConfig({enabled:true});\nExt.Loader.setPath('Ext.ux', './app/components');\nExt.Loader.setPath('Ext', './sdk/src');\n\nExt.application({\n	\"name\": 'B2B',\n\n	models: [ 'User', 'Friend', 'Beer', 'Drink', 'Activity', 'Notification', 'Place', 'BeerSingle', 'Feedback', 'Badge', 'FavoriteBeer' ],\n\n	controllers: [\n		'_App', '_Login',\n		'Friends', 'Activities', 'Profiles', 'Beers', 'Drinks', 'Notifications',\n		'Preferences', 'Privacy', 'Places', 'Feedbacks', 'Camera', 'Badges',\n		'Favorites'\n	],\n\n	stores: [\n		'Activities_Ajax', 'Beers_Ajax', 'Friends_Ajax', 'Profile_Ajax', 'Notifications_Ajax', 'Places_Ajax', 'Drinks_Ajax', 'Activities_User_Ajax',\n		'Activities_Local', 'Friends_Local', 'Profile_Local', 'Notifications_Local', 'Drinks_Local', 'Feedback_Ajax',\n		'Badges_Ajax',\n		'DrinkInCheckIn_Ajax',\n		'FavoriteBeers_Local'\n	],\n\n	views: [\n		'_App', '_Login', '_App_Slider', '_appcontainer',\n		'_SplashBeerSearch',\n		'Activity', 'Activity_List', 'Activity_List_Detail',\n		'Beer', 'Beer_List', 'Beer_Search', 'Beer_Add_Form', 'Beer_Detail',\n		'Beer_List_SelectContainer', 'Beer_List_SelectSearchComponent', 'Beer_List_Select',\n		'Drink_AroundMe',\n		'DrinkInCheckIn_List',\n		'Place_List', 'Place_Detail',\n		'Favorites_List', 'Favorites_List_Container',\n		'Feedback_Container', 'Feedback_Form', 'Feedback_List',\n		'Friend_Finder',\n		'Friend_List_Container', 'Friend_List', 'Friend_Search', 'Friend_Detail',\n		'Notification_Container', 'Notification_List',\n		'User_Container', 'User', 'User_Form',\n		'User_Privacy_Form', 'User_Preferences_Form',\n		'View_Terms', 'View_Whatsnew', 'View_AboutUs',\n		'Component_IOSToggle', 'Component_NotificationBar',\n		'Camera_Container', 'Camera_Picker',\n		'Badge_List', 'Badge_List_Container', 'Badge_Detail',\n		'Place_Beer_Search'\n		],\n\n	icon: {\n		'57': 'resources/icons/Icon.png',\n		'72': 'resources/icons/Icon~ipad.png',\n		'114': 'resources/icons/Icon@2x.png',\n		'144': 'resources/icons/Icon~ipad@2x.png'\n	},\n\n	isIconPrecomposed: true,\n\n	startupImage: {\n		'320x460': 'resources/startup/320x460.png',\n		'640x920': 'resources/startup/640x920.png',\n		'768x1004': 'resources/startup/768x1004.png',\n		'748x1024': 'resources/startup/748x1024.png',\n		'1536x2008': 'resources/startup/1536x2008.png',\n		'1496x2048': 'resources/startup/1496x2048.png'\n	},\n\n	launch: function() {\n		HH.log(\"---> Step: app.js:launch()\");\n\n		goingTo.step1(\"Loading Store.Profile\");\n\n		Ext.fly('appLoadingIndicator').destroy();\n\n		var profileStore = Ext.getStore(\"Profile_Local\");\n\n		if(profileStore && profileStore.getCount() < 1){\n			HH.log(\"---+ Check: ProfileStore Empty - Show view._login\");\n			Ext.Viewport.add(Ext.create('B2B.view._Login'));\n		}else{\n			HH.log(\"---+ Check: ProfileStore OK, loading view._App\");\n			goingTo.step2(\"Loading Store.Profile_Ajax\");\n			Ext.Viewport.add(Ext.create('B2B.view._App'));\n		}\n	},\n	onUpdated: function() {\n		if(window.confirm(i18n.app.HINT_APPLICATIONRELOADED)){\n			window.location.reload();\n		}\n	}\n});\n",
			"file": "app.js",
			"file_size": 3142,
			"file_write_time": 129909100697720956,
			"settings":
			{
				"buffer_size": 3052,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Drinks\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			checkInPanel: \"drinkaroundmepanel\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			checkInPanel: {\n				checkInDetailCommand: \"onCheckInDetail\",\n				refreshAroundCommand: \"onCheckInRefreshAround\",\n				backCheckCommand: \"onCheckBack\"\n			},\n			appContainer:{\n				gotoCheckInCommand: \"onGotoCheckIn\",\n			}\n		}\n	},\n	onGotoCheckIn: function(){\n		this.getApp().push({\n			xtype: \"drinkaroundmepanel\"\n		});\n	},\n	onCheckIn: function(){\n		Ext.Msg.alert(\"Check In!\");\n		this.getApp().pop();\n	},\n	onCheckBack: function(){\n		this.getApp().pop();\n	},\n	onCheckInRefreshAround: function(){\n		Ext.Msg.alert(\"To Be Implemented\");\n	},\n	onShow: function(){\n		console.log(\"TODO: Refresh on Show\");\n\n		/* function(list, opts){\n        this.getStore().load();*/\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});",
			"file": "app/controller/Drinks.js",
			"file_size": 1014,
			"file_write_time": 129900638376400833,
			"settings":
			{
				"buffer_size": 967,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Favorites\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			app: \"_app\",\n			profilePanel: \"userprofile\",\n			favoritesPanel: \"favoritespanel\"\n		},\n		control: {\n			app: {\n				\n			},\n			profilePanel: {\n				favoritesProfileCommand: \"onFavoritesOpen\"\n			},\n			favoritesPanel: {\n				jumptoBeerCommand: \"onJumpToBeer\",\n				backFavoritesCommand: \"onFavoritesBack\"\n			},\n		}\n	},\n	onFavoritesOpen: function(){\n		this.getApp().push({\n			xtype: \"favoritespanel\"\n		});\n	},\n	onFavoritesBack: function(){\n		this.getApp().pop();\n	},\n	onJumpToBeer: function(){\n		this.getApp().pop();\n		var tabPanel = Ext.Viewport.down(\"appcontainer\");\n		tabPanel.setActiveItem(1);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n",
			"file": "app/controller/Favorites.js",
			"file_size": 797,
			"file_write_time": 129906702342517353,
			"settings":
			{
				"buffer_size": 756,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Notifications\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			notificationContainer: \"notificationlistcontainerpanel\",\n			notificationList: \"notificationlistcomponent\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			appContainer: {\n				notificationShowCommand: \"onNotificationShow\"\n			},\n			notificationContainer:{\n				notificationReadAllCommand: \"onNotificationReadAll\",\n				notificationBackCommand: \"onNotificationBack\"\n			},\n			notificationList: {\n				itemtap: \"onNotificationRead\"\n			}\n		}\n	},\n	onNotificationShow: function(){\n		this.getApp().push({\n			xtype: \"notificationlistcontainerpanel\"\n		});\n	},\n	onNotificationRead: function(a, b, c, record){\n		/* deselection of the list */\n		setTimeout(function(){a.deselect(b);},500);\n	\n		console.error(\"TODO: Notification Read\");\n	},\n	onNotificationReadAll: function(){\n		/* TODO SET all notification read */\n		console.error(\"TODO: Notification Read All\");\n	},\n	onNotificationBack: function(){\n		this.getApp().pop();\n	},\n	launch: function(){\n		this.callParent(arguments);\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});",
			"file": "app/controller/Notifications.js",
			"file_size": 1187,
			"file_write_time": 129902376859846074,
			"settings":
			{
				"buffer_size": 1140,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Places\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			mapContainer: \"drinkaroundmepanel\",\n			placeDetail: \"placedetailpanel\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			mapContainer: {\n				reloadCommand: \"onReloadCommand\"\n			},\n			placeDetail: {\n				backPlaceDetailCommand: \"onBackPlace\",\n				selectBeerDrinkCommand: \"onSelectBeerDrink\",\n				onDrinkInCommand: \"onDrinkIn\"\n			},\n			placelistcomponent: {\n				itemtap: \"onViewPlaceDetail\"\n			}\n		}\n	},\n	onReloadCommand: function(){\n		/* TODO: HOW THE HELL WE REFRESH THE REVIEW? */\n		HH.log(\"TODO: Map Reload Mock\");\n	},\n	onBackPlace: function(){\n		this.getApp().pop();\n	},\n	onViewPlaceDetail: function(a, b, c, record){\n		setTimeout(function(){a.deselect(b);},500);\n		var jsonData = record.data;\n		this.getApp().push({\n			xtype: \"placedetailpanel\",\n			jsonData: jsonData\n		});\n	},\n	onSelectBeerDrink: function(){\n		this.getApp().push({\n			xtype: \"beerlistselectcontainerpanel\",\n		});\n	},\n	onDrinkIn: function(){\n		this.getApp().pop();\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n",
			"file": "app/controller/Places.js",
			"file_size": 1165,
			"file_write_time": 129907090247328679,
			"settings":
			{
				"buffer_size": 1111,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Preferences\", {\n	extend: \"Ext.app.Controller\",\n	id: \"Preferences\",\n	config: {\n		refs: {\n			privacyForm: \"userprofileprivacyform\",\n			preferencesForm: \"userpreferencesform\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			preferencesForm: {\n				showPreferencesCommand: \"onShowPreferencesForm\",\n				savePreferencesCommand: \"onSavePreferences\",\n				cancelCommand: \"onCancel\",\n				toggleTwitterCommand: \"onChangeTwitter\",\n				toggleFacebookCommand: \"onChangeFacebook\"\n			},\n			privacyForm: {\n				cancelCommand: \"onCancel\"\n			}\n		}\n	},\n	onInitialize: function(){\n		/* Got from the profile our option to SHARE on FACEBOOK / TWITTER */\n		this.onChangeTwitter(null, Ext.getStore(\"Profile\").first().data.shareTwitter);\n		this.onChangeFacebook(null, Ext.getStore(\"Profile\").first().data.shareFacebook);\n	},\n	onShowPreferencesForm: function(){\n		var preferencesForm = this.getPreferencesForm();\n		preferencesForm.reset();\n		preferencesForm.setRecord(Ext.getStore('Profile_Ajax').first());\n	},\n	onChangeTwitter: function(a, what){\n		/* on Checkbox change we show a credentials */\n		if(what){\n			var credentialsTwitter = {\n				xtype: 'fieldset',\n				id: \"fieldset_twitter\",\n				title: i18n.app.PANEL_TWITTER,\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'username_twitter',\n						label: i18n.app.FORM_USERNAME\n					},\n					{\n						xtype: 'passwordfield',\n						name: 'password_twitter',\n						label: i18n.app.FORM_PASSWORD\n					}\n				]\n		    };\n        	Ext.getCmp(\"userpreferencesform\").add( credentialsTwitter );\n        }else{\n        	Ext.getCmp(\"userpreferencesform\").remove( Ext.getCmp('fieldset_twitter'), true );\n        }\n	},\n	onChangeFacebook: function(a, what){\n		/* on Checkbox change we show a credentials */\n		if(what){\n			var credentialsFacebook = {\n				xtype: 'fieldset',\n				id: \"fieldset_facebook\",\n				title: i18n.app.PANEL_FACEBOOK,\n				items: [\n					{\n						xtype: 'textfield',\n						name: 'username_password',\n						label: i18n.app.FORM_USERNAME\n					},\n					{\n						xtype: 'passwordfield',\n						name: 'password_password',\n						label: i18n.app.FORM_PASSWORD\n					}\n				]\n			};\n        	Ext.getCmp(\"userpreferencesform\").add( credentialsFacebook );\n        }else{\n        	Ext.getCmp(\"userpreferencesform\").remove( Ext.getCmp('fieldset_facebook'), true );\n        }\n	},\n	onSavePreferences: function(){\n		this.closePanel();\n	},\n	onCancel: function() {\n		this.closePanel();\n	},\n	closePanel: function() {\n		// this.getApp().pop();\n		var maninPanel = Ext.getCmp(\"userprofile\");\n		maninPanel.animateActiveItem(0, {\n			type:'slide',\n			direction:'down'\n		});\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n",
			"file": "app/controller/Preferences.js",
			"file_size": 2802,
			"file_write_time": 129908055979405834,
			"settings":
			{
				"buffer_size": 2697,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.controller.Privacy\", {\n	extend: \"Ext.app.Controller\",\n	config: {\n		refs: {\n			userprofileprivacyform: \"#BTN_removeData\",\n			appContainer: \"appcontainer\",\n			app: \"_app\"\n		},\n		control: {\n			userprofileprivacyform: {\n				privacyRemoveDataCommand: \"onRemoveDataCommand\",\n				privacyLogoutCommand: \"onLogOutCommand\"\n			}\n		}\n	},\n	onRemoveDataCommand: function(){\n		var confirmation = window.confirm(utils.__(i18n.app.DIALOG_YOUSUREREMOVEDATA));\n		if(confirmation){\n			Ext.getStore(\"Activities_Ajax\").removeAll();\n			Ext.getStore(\"Activities_Local\").removeAll();\n			Ext.getStore(\"Beers_Ajax\").removeAll();\n			//Ext.getStore(\"Beers_Single_Ajax\").removeAll();\n			Ext.getStore(\"Friends_Ajax\").removeAll();\n			Ext.getStore(\"Friends_Local\").removeAll();\n			Ext.getStore(\"Notifications_Ajax\").removeAll();\n			Ext.getStore(\"Notifications_Local\").removeAll();\n			Ext.getStore(\"Places_Ajax\").removeAll();\n			Ext.getStore(\"Drinks_Ajax\").removeAll();\n			Ext.getStore(\"Drinks_Local\").removeAll();\n			Ext.getStore(\"Profile_Ajax\").removeAll();\n			Ext.getStore(\"Profile_Local\").removeAll();\n			window.location.reload();\n		};\n	},\n	onLogOutCommand: function(){\n		var LogOut = function(){\n			Ext.Msg.alert(\"LogOut Mock\");\n		};\n		Ext.Msg.confirm(i18n.app.PANEL_LOGOUT, utils.__(i18n.app.DIALOG_YOUSURELOGUT), LogOut);\n		Ext.getStore(\"Profile_Ajax\").removeAll();\n		Ext.getStore(\"Profile_Local\").removeAll();\n		window.location.reload();\n	},\n	init: function(){\n		this.callParent(arguments);\n	}\n});\n\n\n\n",
			"file": "app/controller/Privacy.js",
			"file_size": 1542,
			"file_write_time": 129906419727113997,
			"settings":
			{
				"buffer_size": 1491,
				"line_ending": "Windows"
			}
		},
		{
			"contents": "Ext.define(\"B2B.view._App_Slider\", {\n    extend: 'Ext.ux.slidenavigation.SlideNavigation',\n    xtype: 'appslidercontainer',\n    id: 'appslidercontainer',\n    requires: [\n        'Ext.Container',\n        'Ext.MessageBox',\n        'Ext.Panel',\n        'Ext.Toolbar'\n    ],\n    \n    config: {\n        fullscreen: true,\n        slideSelector: 'slidableToolbar',\n        selectSlideDuration: 200,\n        list: {\n            minDrag: 200,\n            maxDrag: 400,\n            width: 400,\n            items: [{\n                xtype: 'toolbar',\n                docked: 'top',\n                ui: 'plain',\n                id: 'slider_toolbar',                  \n                title: {\n                    title: '<img id=\"slider_logo\" src=\"resources/img/logopin_text_black_small.png\" width=\"160px\">',\n                    width: 200,\n                    left: 0\n                }\n            }]\n            \n        },\n        groups: {\n            'Profile': 1,\n            'Goodies': 2,\n            'News': 3,\n            'Privacy': 4\n        },\n        defaults: {\n            xtype: 'container'\n        },\n        items: [\n            {\n                title: '<div class=\"nav_slidemenu_profile\">'+i18n.app.PANEL_CLAIM+'</div>',\n                id: 'slider_myprofile',\n                slideButton: {\n                    selector: 'titlebar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'plain'\n                },\n                items: [\n                    {\n                        xtype: 'appcontainer' \n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_WHATSNEW,\n                group: 'News',\n                id: 'slider_whatsnew',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'plain'\n                },\n                items: [\n                    {\n                        xtype: 'viewwhatsnew'\n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_GOODIES,\n                group: 'Goodies',\n                id: 'slider_goodies',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'plain'\n                },\n                items: [\n                    {\n                 //       xtype: 'viewwhatsnew'\n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_TERMS,\n                group: 'Privacy',\n                id: 'slider_privacy',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list',\n                    ui: 'plain'\n                },\n                items: [\n                    {\n                        xtype: 'viewterms'\n                    }\n                ]\n            },\n            {\n                title: i18n.app.LABEL_ABOUTUS ,\n                group: 'Privacy',\n                id: 'slider_aboutus',\n                slideButton: {\n                    selector: 'toolbar',\n                    docked: 'left',\n                    iconMask: true,\n                    iconCls: 'list slidebutton',\n                    ui: 'plain'\n                },\n                items: [\n                    {\n                        xtype: 'viewaboutus'\n                    }\n                ]\n            }\n        ]\n    }\n});",
			"file": "app/view/_App_Slider.js",
			"file_size": 3893,
			"file_write_time": 129909027626117057,
			"settings":
			{
				"buffer_size": 3764,
				"line_ending": "Windows"
			}
		}
	],
	"build_system": "",
	"command_palette":
	{
		"height": 58.0,
		"selected_items":
		[
			[
				"Package Control: insta",
				"Package Control: Install Package"
			],
			[
				"Package Control: se",
				"Package Control: Install Package"
			],
			[
				"Package Control: ",
				"Package Control: Install Package"
			]
		],
		"width": 440.0
	},
	"console":
	{
		"height": 125.0
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"file_history":
	[
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/stylesheets/sencha-touch/default/_mixins.scss",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/css/hh.css",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/sencha-touch-all.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/js/hh.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/i18n/B2B-en-US.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/sass/app.scss",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/index.html",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Privacy.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/FavoriteBeers_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/FavoriteBeer.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_List_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Place_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/DrinkInCheckIn_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_App_Slider.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Place_Detail.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Places.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Drinks_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Drink_AroundMe.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_Login.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_Register.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Detail.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Detail_Component.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Search.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_SelectSearchComponent.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Beers.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Favorites.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Favorites_List_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/_App.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/_Login.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Favorites_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Preferences_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinkincheckinlist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_SelectContainer.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_Add_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_Select.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_App_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Profiles.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Feedbacks.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/DrinkInCheckIn_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Profile_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/resources/img/logo_text_black.png",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Drink.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinklist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Place.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_placelist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Places_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Notifications_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Friends_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Drinks_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Single_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_User_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/android.css",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/apple.css",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/bb6.css",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/stylesheets/sencha-touch/default/widgets/_toolbar.scss",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/css-debug/sencha-touch.css",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_feedbacklist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/i18n/B2B-it.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Feedback_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/packager.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/command/src/module/generate/App.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_List_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Search.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/resources/themes/templates/project/sencha-touch.scss",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Feedback_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Notification.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Activity.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_activityuser.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_drinkList.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_friendlist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_SplashBeerSearch.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_activitylist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Notifications_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Profile_Ajax.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Beer.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Notification_List.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_notificationlist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Detail.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Friends.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_user.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Feedback.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/User.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/_App.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_Detail.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Camera_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_beerlist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/mock_beersinglelist.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/sdk/microloader/development.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app.json",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Activities_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Beers_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Friends_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_AboutUs.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/ux/bufferedlist/BufferedList.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/TemporaryData_Local.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_Whatsnew.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/View_Terms.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Notification_Container.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/ux/slidenavigation/SlideNavigation.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Drink_Add_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Notifications.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Activity_User.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Login.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/BeerSingle.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Camera.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Activities.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Friend_Finder.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Camera_Picker.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Drinks.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/controller/Preferences.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/User_Privacy_Form.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/model/Friend.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_State.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_Type.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/view/Beer_List_by_Region.js",
		"/C/Users/HC/Documents/GitHub/B2B/iPhone/B2B/www/app/store/Places_Local.js"
	],
	"find":
	{
		"height": 34.0
	},
	"find_in_files":
	{
		"height": 90.0,
		"where_history":
		[
			"<open folders>",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"App_Container",
			"myLatestDrink",
			"activityList",
			"activityusercomponent",
			"activitydetail_back_btn",
			"activity_list",
			"activitydetailpanel",
			"Activity_Detail",
			"activitylistcomponent",
			"activitylistcontainerpanel",
			"Activity_List_Container",
			"$include-default-icons",
			"$list-header-bg-color",
			"$list-header-gradient",
			"lastdrink",
			"car",
			"active",
			" pictos-iconmask",
			"lert(\"We are sorr",
			"getNameByAlias",
			"getByAlias",
			"info",
			"log",
			"console",
			" console.log",
			" console.log(",
			".x-button",
			"lastdrink",
			"x-title",
			"pull",
			"sencha-toolbar-forms",
			"app.scss",
			"css",
			"ExtraParam",
			"setParam",
			"beername",
			"beerName",
			"username",
			"},\n",
			"APP_NAME",
			"THAI",
			"nationality\": \"....\"",
			"URSS",
			"\"CINA\"",
			"nationality\": \"...\"",
			"\"DOM\"",
			"\"HON\"",
			"nationality\": \"...\"",
			"\"TAH\"",
			"\"AUS\"",
			"\"CEC\"",
			"\"FIN\"",
			"\"ISR\"",
			"nationality\": \"...\"",
			"\"CAN\"",
			"nationality\": \"...\"",
			"\"SLO\"",
			"\"PERU\"",
			"\"MEX\"",
			"HH",
			"nationality\": \"...\"",
			"\"BIR\"",
			"\"BRA\"",
			"\"JAP\"",
			"nationality\": \"...\"",
			"\"POL\"",
			"\"SUI\"",
			"nationality\": \"...\"",
			"\"SWE\"",
			"\"AUT\"",
			"\"POR\"",
			"nationality\": \"...\"",
			"\"NOR\"",
			"\"ISL\"",
			"nationality\": \"...\"",
			"nationality: \"...\"",
			"\"SPA\"",
			"Guineu",
			"\"DEN\"",
			"\"SING\"",
			"SING",
			"\"NED\"",
			"\"CUBA\"",
			"cuba",
			"\"IRL\"",
			"\"USA\"",
			"\"BEL\"",
			"\"GER\"",
			"\"FRA\"",
			"\"ENG\"",
			"\"ITA\"",
			"}\n",
			"BufferedList",
			"LABEL_ABOUT",
			"goingTo.step2",
			"HH_config",
			"png",
			";\n",
			"x-requested-with",
			"placeholder",
			"FORM_USERNAME",
			"listeners",
			"notificationReadCommand",
			"\",\n",
			"%1",
			"badge",
			"setTitle",
			"profile",
			"(),\n",
			"DASHBOA",
			"\",\n",
			"single",
			"type",
			"\"beerstyle\":\"",
			"\"beerstyle\": \"",
			"\"ALE/LAGER HYBRID\"",
			"Ale",
			"\"LAGER - DARK (SCURA)\"",
			"\"LAGER - AMBER (ROSSA)\"",
			"\"STRONG LAGER\"",
			"lager",
			"\"LAGER - PALE (CHIARA)\"",
			"\"WHEAT (GRANO)\"",
			"\"LAMBIC\"",
			"\"ALE - BELGIAN STYLE\"",
			"\"ALE - BRITISH STYLE\"",
			"\"STOUT/PORTER\"",
			"STOUT/PORTER"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"appcontainer",
			"mylatestdrink",
			"activitylist",
			"activitylistdetailbackbutton",
			"activitylist",
			"activitylistdetail",
			"Activity_List_Detail",
			"activity_list",
			"activity",
			"Activity",
			"values",
			"beerName",
			"displayName",
			"TH",
			"RU",
			"\"CN\"",
			"\"DO\"",
			"\"HN\"",
			"\"PF\"",
			"\"AU\"",
			"\"CZ\"",
			"\"FI\"",
			"\"IL\"",
			"\"CA\"",
			"\"SI\"",
			"\"PE\"",
			"\"MX\"",
			"\"MM\"",
			"\"BR\"",
			"\"JP\"",
			"\"PL\"",
			"\"CH\"",
			"\"SE\"",
			"\"AT\"",
			"\"PT\"",
			"\"NO\"",
			"\"IS\"",
			"\"ES\"",
			"\"DK\"",
			"\"SG\"",
			"\"NL\"",
			"\"CU\"",
			"\"IE\"",
			"\"US\"",
			"\"BE\"",
			"\"DE\"",
			"\"GB\"",
			"\"IT\"",
			"beertype",
			"6",
			"2",
			"1",
			"3",
			"0",
			"8",
			"9",
			"5",
			"4",
			"7",
			"10",
			"beerstyle",
			"\"idBeer\": \"\", \"idUser\": \"\", \"username\": \"\", \"image\": \"\", \"status\": \"\", \"insertedOn\": \"\", \"param1\": \"\", \"param2\": \"\", \"param3\": \"\"",
			"Ext.getStore('Profile').first().data",
			"\"",
			"\"value\"",
			"{ \"text\"",
			"value",
			"text",
			"Ext.ux.starrating.View",
			"",
			"\"description\": \"\"},",
			"\"description:\" \"\"},",
			"{}},",
			"\"type\"",
			"\"style\"",
			"",
			"\"nationality\"",
			"",
			"\"grad\"",
			"\"brewery\"",
			"\"name\"",
			""
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 9,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "sdk/microloader/development.js",
					"settings":
					{
						"buffer_size": 2688,
						"regions":
						{
						},
						"selection":
						[
							[
								70,
								70
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "resources/sass/app.scss",
					"settings":
					{
						"buffer_size": 38807,
						"regions":
						{
						},
						"selection":
						[
							[
								363,
								363
							]
						],
						"settings":
						{
							"rulers":
							[
								78
							],
							"syntax": "Packages/SCSS/SCSS.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "app/view/Activity.js",
					"settings":
					{
						"buffer_size": 995,
						"regions":
						{
						},
						"selection":
						[
							[
								952,
								952
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "app/view/Activity_List.js",
					"settings":
					{
						"buffer_size": 1878,
						"regions":
						{
						},
						"selection":
						[
							[
								152,
								152
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "sdk/resources/css-debug/sencha-touch.css",
					"settings":
					{
						"buffer_size": 445687,
						"regions":
						{
						},
						"selection":
						[
							[
								2522,
								2501
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1122.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "all-classes.js",
					"settings":
					{
						"buffer_size": 1982626,
						"regions":
						{
						},
						"selection":
						[
							[
								1833748,
								1833748
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 884863.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "app-all.js",
					"settings":
					{
						"buffer_size": 562403,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "app/controller/Activities.js",
					"settings":
					{
						"buffer_size": 836,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "app.jsb3",
					"settings":
					{
						"buffer_size": 59432,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/Text/Plain text.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "B2B.sublime-workspace",
					"settings":
					{
						"buffer_size": 57665,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/Text/Plain text.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "app/view/User.js",
					"settings":
					{
						"buffer_size": 3554,
						"regions":
						{
						},
						"selection":
						[
							[
								2699,
								2650
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "app/controller/Profiles.js",
					"settings":
					{
						"buffer_size": 3004,
						"regions":
						{
						},
						"selection":
						[
							[
								494,
								494
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "app/view/Activity_List_Detail.js",
					"settings":
					{
						"buffer_size": 756,
						"regions":
						{
						},
						"selection":
						[
							[
								638,
								638
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 13,
					"settings":
					{
						"buffer_size": 563310,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										209,
										230
									],
									[
										451,
										472
									],
									[
										317362,
										317383
									],
									[
										435351,
										435372
									],
									[
										563209,
										563230
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								563222,
								563222
							]
						],
						"settings":
						{
							"detect_indentation": false,
							"output_tag": 1,
							"result_base_dir": "",
							"result_file_regex": "^([A-Za-z\\\\/<].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 114591.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "app/view/Activity_User.js",
					"settings":
					{
						"buffer_size": 1203,
						"regions":
						{
						},
						"selection":
						[
							[
								1152,
								1152
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				}
			]
		},
		{
			"selected": 13,
			"sheets":
			[
				{
					"buffer": 15,
					"file": "index.html",
					"settings":
					{
						"buffer_size": 1408,
						"regions":
						{
						},
						"selection":
						[
							[
								1027,
								1027
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false,
							"word_wrap": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "index_prod.html",
					"settings":
					{
						"buffer_size": 1398,
						"regions":
						{
						},
						"selection":
						[
							[
								743,
								743
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "i18n/B2B-en-US.js",
					"settings":
					{
						"buffer_size": 23177,
						"regions":
						{
						},
						"selection":
						[
							[
								6477,
								6477
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2158.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "app/view/_App_Container.js",
					"settings":
					{
						"buffer_size": 1713,
						"regions":
						{
						},
						"selection":
						[
							[
								86,
								86
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "resources/css/app.css",
					"settings":
					{
						"buffer_size": 423007,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 20,
					"file": "resources/js/hh.js",
					"settings":
					{
						"buffer_size": 5795,
						"regions":
						{
						},
						"selection":
						[
							[
								2132,
								2132
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 720.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 21,
					"file": "app.js",
					"settings":
					{
						"buffer_size": 3052,
						"regions":
						{
						},
						"selection":
						[
							[
								977,
								977
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 4.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 22,
					"file": "app/controller/Drinks.js",
					"settings":
					{
						"buffer_size": 967,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 23,
					"file": "app/controller/Favorites.js",
					"settings":
					{
						"buffer_size": 756,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 24,
					"file": "app/controller/Notifications.js",
					"settings":
					{
						"buffer_size": 1140,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 25,
					"file": "app/controller/Places.js",
					"settings":
					{
						"buffer_size": 1111,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 26,
					"file": "app/controller/Preferences.js",
					"settings":
					{
						"buffer_size": 2697,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 27,
					"file": "app/controller/Privacy.js",
					"settings":
					{
						"buffer_size": 1491,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 28,
					"file": "app/view/_App_Slider.js",
					"settings":
					{
						"buffer_size": 3764,
						"regions":
						{
						},
						"selection":
						[
							[
								2629,
								2629
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 962.0,
						"zoom_level": 1.0
					},
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 0.0
	},
	"input":
	{
		"height": 31.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.521351835095,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"replace":
	{
		"height": 62.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"show_minimap": false,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 272.0,
	"status_bar_visible": true
}
